{"version":3,"file":"v_scrollspy.js","sources":["../src/utils/object.utils.js","../src/utils/array.utils.js","../src/utils/dom.utils.js","../src/directives/scrollspy/scrollspy.js"],"sourcesContent":["// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\nexport function assign (target, varArgs) {\n  if (target === null || target === undefined) {\n    throw new TypeError('Cannot convert undefined or null to object')\n  }\n  const to = Object(target)\n  for (let index = 1; index < arguments.length; index++) {\n    const nextSource = arguments[index]\n    if (nextSource !== null && nextSource !== undefined) {\n      for (const nextKey in nextSource) {\n        // Avoid bugs when hasOwnProperty is shadowed\n        /* istanbul ignore else */\n        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n          to[nextKey] = nextSource[nextKey]\n        }\n      }\n    }\n  }\n  return to\n}\n\nexport function isExist (obj) {\n  return typeof obj !== 'undefined' && obj !== null\n}\n\nexport function isFunction (obj) {\n  return typeof obj === 'function'\n}\n\nexport function isNumber (obj) {\n  return typeof obj === 'number'\n}\n\nexport function isString (obj) {\n  return typeof obj === 'string'\n}\n\nexport function isBoolean (obj) {\n  return typeof obj === 'boolean'\n}\n\nexport function isPromiseSupported () {\n  return typeof window !== 'undefined' && isExist(window.Promise)\n}\n\nexport function hasOwnProperty (o, k) {\n  return Object.prototype.hasOwnProperty.call(o, k)\n}\n","export function spliceIfExist (arr, item) {\n  if (Array.isArray(arr)) {\n    const index = arr.indexOf(item)\n    if (index >= 0) {\n      arr.splice(index, 1)\n    }\n  }\n}\n\nexport function range (end, start = 0, step = 1) {\n  const arr = []\n  for (let i = start; i < end; i += step) {\n    arr.push(i)\n  }\n  return arr\n}\n\nexport function nodeListToArray (nodeList) {\n  return Array.prototype.slice.call(nodeList || [])\n}\n\nexport function onlyUnique (value, index, self) {\n  return self.indexOf(value) === index\n}\n","import { isExist, isString, isFunction } from './object.utils'\nimport { nodeListToArray } from './array.utils'\n\nexport const EVENTS = {\n  MOUSE_ENTER: 'mouseenter',\n  MOUSE_LEAVE: 'mouseleave',\n  MOUSE_DOWN: 'mousedown',\n  MOUSE_UP: 'mouseup',\n  FOCUS: 'focus',\n  BLUR: 'blur',\n  CLICK: 'click',\n  INPUT: 'input',\n  KEY_DOWN: 'keydown',\n  KEY_UP: 'keyup',\n  KEY_PRESS: 'keypress',\n  RESIZE: 'resize',\n  SCROLL: 'scroll',\n  TOUCH_START: 'touchstart',\n  TOUCH_END: 'touchend'\n}\n\nexport const TRIGGERS = {\n  CLICK: 'click',\n  HOVER: 'hover',\n  FOCUS: 'focus',\n  HOVER_FOCUS: 'hover-focus',\n  OUTSIDE_CLICK: 'outside-click',\n  MANUAL: 'manual'\n}\n\nexport const PLACEMENTS = {\n  TOP: 'top',\n  RIGHT: 'right',\n  BOTTOM: 'bottom',\n  LEFT: 'left'\n}\n\nexport function isIE11 () {\n  /* istanbul ignore next */\n  return !!window.MSInputMethodContext && !!document.documentMode\n}\n\nexport function isIE10 () {\n  return window.navigator.appVersion.indexOf('MSIE 10') !== -1\n}\n\nexport function getComputedStyle (el) {\n  return window.getComputedStyle(el)\n}\n\nexport function getViewportSize () {\n  /* istanbul ignore next */\n  const width = Math.max(document.documentElement.clientWidth, window.innerWidth) || 0\n  /* istanbul ignore next */\n  const height = Math.max(document.documentElement.clientHeight, window.innerHeight) || 0\n  return { width, height }\n}\n\nlet scrollbarWidth = null\nlet savedScreenSize = null\n\nexport function getScrollbarWidth (recalculate = false) {\n  const screenSize = getViewportSize()\n  // return directly when already calculated & not force recalculate & screen size not changed\n  if (scrollbarWidth !== null && !recalculate &&\n    screenSize.height === savedScreenSize.height && screenSize.width === savedScreenSize.width) {\n    return scrollbarWidth\n  }\n  /* istanbul ignore next */\n  if (document.readyState === 'loading') {\n    return null\n  }\n  const div1 = document.createElement('div')\n  const div2 = document.createElement('div')\n  div1.style.width = div2.style.width = div1.style.height = div2.style.height = '100px'\n  div1.style.overflow = 'scroll'\n  div2.style.overflow = 'hidden'\n  document.body.appendChild(div1)\n  document.body.appendChild(div2)\n  scrollbarWidth = Math.abs(div1.scrollHeight - div2.scrollHeight)\n  document.body.removeChild(div1)\n  document.body.removeChild(div2)\n  // save new screen size\n  savedScreenSize = screenSize\n  return scrollbarWidth\n}\n\nexport function on (element, event, handler) {\n  /* istanbul ignore next */\n  element.addEventListener(event, handler)\n}\n\nexport function off (element, event, handler) {\n  /* istanbul ignore next */\n  element.removeEventListener(event, handler)\n}\n\nexport function isElement (el) {\n  return el && el.nodeType === Node.ELEMENT_NODE\n}\n\nexport function removeFromDom (el) {\n  isElement(el) && isElement(el.parentNode) && el.parentNode.removeChild(el)\n}\n\nexport function ensureElementMatchesFunction () {\n  /* istanbul ignore next */\n  if (!Element.prototype.matches) {\n    Element.prototype.matches =\n      Element.prototype.matchesSelector ||\n      Element.prototype.mozMatchesSelector ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.oMatchesSelector ||\n      Element.prototype.webkitMatchesSelector ||\n      function (s) {\n        const matches = (this.document || this.ownerDocument).querySelectorAll(s)\n        let i = matches.length\n        // eslint-disable-next-line no-empty\n        while (--i >= 0 && matches.item(i) !== this) {}\n        return i > -1\n      }\n  }\n}\n\nexport function addClass (el, className) {\n  if (!isElement(el)) {\n    return\n  }\n  if (el.className) {\n    const classes = el.className.split(' ')\n    if (classes.indexOf(className) < 0) {\n      classes.push(className)\n      el.className = classes.join(' ')\n    }\n  } else {\n    el.className = className\n  }\n}\n\nexport function removeClass (el, className) {\n  if (!isElement(el)) {\n    return\n  }\n  if (el.className) {\n    const classes = el.className.split(' ')\n    const newClasses = []\n    for (let i = 0, l = classes.length; i < l; i++) {\n      if (classes[i] !== className) {\n        newClasses.push(classes[i])\n      }\n    }\n    el.className = newClasses.join(' ')\n  }\n}\n\nexport function hasClass (el, className) {\n  if (!isElement(el)) {\n    return false\n  }\n  const classes = el.className.split(' ')\n  for (let i = 0, l = classes.length; i < l; i++) {\n    if (classes[i] === className) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function setDropdownPosition (dropdown, trigger, options = {}) {\n  const doc = document.documentElement\n  const containerScrollLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n  const containerScrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n  const rect = trigger.getBoundingClientRect()\n  const dropdownRect = dropdown.getBoundingClientRect()\n  dropdown.style.right = 'auto'\n  dropdown.style.bottom = 'auto'\n  if (options.menuRight) {\n    dropdown.style.left = containerScrollLeft + rect.left + rect.width - dropdownRect.width + 'px'\n  } else {\n    dropdown.style.left = containerScrollLeft + rect.left + 'px'\n  }\n  if (options.dropup) {\n    dropdown.style.top = containerScrollTop + rect.top - dropdownRect.height - 4 + 'px'\n  } else {\n    dropdown.style.top = containerScrollTop + rect.top + rect.height + 'px'\n  }\n}\n\nexport function isAvailableAtPosition (trigger, popup, placement) {\n  const triggerRect = trigger.getBoundingClientRect()\n  const popupRect = popup.getBoundingClientRect()\n  const viewPortSize = getViewportSize()\n  let top = true\n  let right = true\n  let bottom = true\n  let left = true\n  switch (placement) {\n    case PLACEMENTS.TOP:\n      top = triggerRect.top >= popupRect.height\n      left = triggerRect.left + triggerRect.width / 2 >= popupRect.width / 2\n      right = triggerRect.right - triggerRect.width / 2 + popupRect.width / 2 <= viewPortSize.width\n      break\n    case PLACEMENTS.BOTTOM:\n      bottom = triggerRect.bottom + popupRect.height <= viewPortSize.height\n      left = triggerRect.left + triggerRect.width / 2 >= popupRect.width / 2\n      right = triggerRect.right - triggerRect.width / 2 + popupRect.width / 2 <= viewPortSize.width\n      break\n    case PLACEMENTS.RIGHT:\n      right = triggerRect.right + popupRect.width <= viewPortSize.width\n      top = triggerRect.top + triggerRect.height / 2 >= popupRect.height / 2\n      bottom = triggerRect.bottom - triggerRect.height / 2 + popupRect.height / 2 <= viewPortSize.height\n      break\n    case PLACEMENTS.LEFT:\n      left = triggerRect.left >= popupRect.width\n      top = triggerRect.top + triggerRect.height / 2 >= popupRect.height / 2\n      bottom = triggerRect.bottom - triggerRect.height / 2 + popupRect.height / 2 <= viewPortSize.height\n      break\n  }\n  return top && right && bottom && left\n}\n\nexport function setTooltipPosition (tooltip, trigger, placement, auto, appendTo, positionBy, viewport) {\n  if (!isElement(tooltip) || !isElement(trigger)) {\n    return\n  }\n  const isPopover = tooltip && tooltip.className && tooltip.className.indexOf('popover') >= 0\n  let containerScrollTop\n  let containerScrollLeft\n  if (!isExist(appendTo) || appendTo === 'body' || positionBy === 'body') {\n    const doc = document.documentElement\n    containerScrollLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n    containerScrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n  } else {\n    const container = getElementBySelectorOrRef(positionBy || appendTo)\n    containerScrollLeft = container.scrollLeft\n    containerScrollTop = container.scrollTop\n  }\n  // auto adjust placement\n  if (auto) {\n    // Try: right -> bottom -> left -> top\n    // Cause the default placement is top\n    const placements = [PLACEMENTS.RIGHT, PLACEMENTS.BOTTOM, PLACEMENTS.LEFT, PLACEMENTS.TOP]\n    // The class switch helper function\n    const changePlacementClass = (placement) => {\n      // console.log(placement)\n      placements.forEach(placement => {\n        removeClass(tooltip, placement)\n      })\n      addClass(tooltip, placement)\n    }\n    // No need to adjust if the default placement fits\n    if (!isAvailableAtPosition(trigger, tooltip, placement)) {\n      for (let i = 0, l = placements.length; i < l; i++) {\n        // Re-assign placement class\n        changePlacementClass(placements[i])\n        // Break if new placement fits\n        if (isAvailableAtPosition(trigger, tooltip, placements[i])) {\n          placement = placements[i]\n          break\n        }\n      }\n      changePlacementClass(placement)\n    }\n  }\n  // fix left and top for tooltip\n  const rect = trigger.getBoundingClientRect()\n  const tooltipRect = tooltip.getBoundingClientRect()\n  let top\n  let left\n  if (placement === PLACEMENTS.BOTTOM) {\n    top = containerScrollTop + rect.top + rect.height\n    left = containerScrollLeft + rect.left + rect.width / 2 - tooltipRect.width / 2\n  } else if (placement === PLACEMENTS.LEFT) {\n    top = containerScrollTop + rect.top + rect.height / 2 - tooltipRect.height / 2\n    left = containerScrollLeft + rect.left - tooltipRect.width\n  } else if (placement === PLACEMENTS.RIGHT) {\n    top = containerScrollTop + rect.top + rect.height / 2 - tooltipRect.height / 2\n    // https://github.com/uiv-lib/uiv/issues/272\n    // add 1px to fix above issue\n    left = containerScrollLeft + rect.left + rect.width + 1\n  } else {\n    top = containerScrollTop + rect.top - tooltipRect.height\n    left = containerScrollLeft + rect.left + rect.width / 2 - tooltipRect.width / 2\n  }\n  let viewportEl\n  // viewport option\n  if (isString(viewport)) {\n    viewportEl = document.querySelector(viewport)\n  } else if (isFunction(viewport)) {\n    viewportEl = viewport(trigger)\n  }\n  if (isElement(viewportEl)) {\n    const popoverFix = isPopover ? 11 : 0\n    const viewportReact = viewportEl.getBoundingClientRect()\n    const viewportTop = containerScrollTop + viewportReact.top\n    const viewportLeft = containerScrollLeft + viewportReact.left\n    const viewportBottom = viewportTop + viewportReact.height\n    const viewportRight = viewportLeft + viewportReact.width\n    // fix top\n    if (top < viewportTop) {\n      top = viewportTop\n    } else if (top + tooltipRect.height > viewportBottom) {\n      top = viewportBottom - tooltipRect.height\n    }\n    // fix left\n    if (left < viewportLeft) {\n      left = viewportLeft\n    } else if (left + tooltipRect.width > viewportRight) {\n      left = viewportRight - tooltipRect.width\n    }\n    // fix for popover pointer\n    if (placement === PLACEMENTS.BOTTOM) {\n      top -= popoverFix\n    } else if (placement === PLACEMENTS.LEFT) {\n      left += popoverFix\n    } else if (placement === PLACEMENTS.RIGHT) {\n      left -= popoverFix\n    } else {\n      top += popoverFix\n    }\n  }\n  // set position finally\n  tooltip.style.top = `${top}px`\n  tooltip.style.left = `${left}px`\n}\n\nexport function hasScrollbar (el) {\n  const SCROLL = 'scroll'\n  const hasVScroll = el.scrollHeight > el.clientHeight\n  const style = getComputedStyle(el)\n  return hasVScroll || style.overflow === SCROLL || style.overflowY === SCROLL\n}\n\nexport function toggleBodyOverflow (enable) {\n  const MODAL_OPEN = 'modal-open'\n  const FIXED_CONTENT = '.navbar-fixed-top, .navbar-fixed-bottom'\n  const body = document.body\n  if (enable) {\n    removeClass(body, MODAL_OPEN)\n    body.style.paddingRight = null\n    nodeListToArray(document.querySelectorAll(FIXED_CONTENT)).forEach(node => {\n      node.style.paddingRight = null\n    })\n  } else {\n    const browsersWithFloatingScrollbar = isIE10() || isIE11()\n    const documentHasScrollbar = hasScrollbar(document.documentElement) || hasScrollbar(document.body)\n    if (documentHasScrollbar && !browsersWithFloatingScrollbar) {\n      const scrollbarWidth = getScrollbarWidth()\n      body.style.paddingRight = `${scrollbarWidth}px`\n      nodeListToArray(document.querySelectorAll(FIXED_CONTENT)).forEach(node => {\n        node.style.paddingRight = `${scrollbarWidth}px`\n      })\n    }\n    addClass(body, MODAL_OPEN)\n  }\n}\n\nexport function getClosest (el, selector) {\n  ensureElementMatchesFunction()\n  let parent\n  let _el = el\n  while (_el) {\n    parent = _el.parentElement\n    if (parent && parent.matches(selector)) {\n      return parent\n    }\n    _el = parent\n  }\n  return null\n}\n\nexport function getParents (el, selector, until = null) {\n  ensureElementMatchesFunction()\n  const parents = []\n  let parent = el.parentElement\n  while (parent) {\n    if (parent.matches(selector)) {\n      parents.push(parent)\n    } else if (until && (until === parent || parent.matches(until))) {\n      break\n    }\n    parent = parent.parentElement\n  }\n  return parents\n}\n\nexport function focus (el) {\n  if (!isElement(el)) {\n    return\n  }\n  el.getAttribute('tabindex') ? null : el.setAttribute('tabindex', '-1')\n  el.focus()\n}\n\nconst MODAL_BACKDROP = 'modal-backdrop'\n\nexport function getOpenModals () {\n  return document.querySelectorAll(`.${MODAL_BACKDROP}`)\n}\n\nexport function getOpenModalNum () {\n  return getOpenModals().length\n}\n\nexport function getElementBySelectorOrRef (q) {\n  if (isString(q)) { // is selector\n    return document.querySelector(q)\n  } else if (isElement(q)) { // is element\n    return q\n  } else if (isElement(q.$el)) { // is component\n    return q.$el\n  } else {\n    return null\n  }\n}\n","import {\n  addClass,\n  removeClass,\n  EVENTS,\n  on,\n  off,\n  getViewportSize,\n  getClosest,\n  getParents\n} from '../../utils/dom.utils'\nimport { nodeListToArray } from '../../utils/array.utils'\nimport { assign } from '../../utils/object.utils'\n\nfunction ScrollSpy (element, target = 'body', options = {}) {\n  this.el = element\n  this.opts = assign({}, ScrollSpy.DEFAULTS, options)\n  this.opts.target = target\n  if (target === 'body') {\n    this.scrollElement = window\n  } else {\n    this.scrollElement = document.querySelector(`[id=${target}]`)\n  }\n  this.selector = 'li > a'\n  this.offsets = []\n  this.targets = []\n  this.activeTarget = null\n  this.scrollHeight = 0\n  if (this.scrollElement) {\n    this.refresh()\n    this.process()\n  }\n}\n\nScrollSpy.DEFAULTS = {\n  offset: 10,\n  callback: (ele) => 0\n}\n\nScrollSpy.prototype.getScrollHeight = function () {\n  return this.scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight)\n}\n\nScrollSpy.prototype.refresh = function () {\n  this.offsets = []\n  this.targets = []\n  this.scrollHeight = this.getScrollHeight()\n  const list = nodeListToArray(this.el.querySelectorAll(this.selector))\n  const isWindow = this.scrollElement === window\n  list\n    .map(ele => {\n      const href = ele.getAttribute('href')\n      if (/^#./.test(href)) {\n        const rootEl = isWindow ? document : this.scrollElement\n        const hrefEl = rootEl.querySelector(`[id='${href.slice(1)}']`)\n        const offset = isWindow ? hrefEl.getBoundingClientRect().top : hrefEl.offsetTop\n        return [offset, href]\n      } else {\n        return null\n      }\n    })\n    .filter(item => item)\n    .sort((a, b) => a[0] - b[0])\n    .forEach(item => {\n      this.offsets.push(item[0])\n      this.targets.push(item[1])\n    })\n  // console.log(this.offsets, this.targets)\n}\n\nScrollSpy.prototype.process = function () {\n  const isWindow = this.scrollElement === window\n  const scrollTop = (isWindow ? window.pageYOffset : this.scrollElement.scrollTop) + this.opts.offset\n  const scrollHeight = this.getScrollHeight()\n  const scrollElementHeight = isWindow ? getViewportSize().height : this.scrollElement.getBoundingClientRect().height\n  const maxScroll = this.opts.offset + scrollHeight - scrollElementHeight\n  const offsets = this.offsets\n  const targets = this.targets\n  const activeTarget = this.activeTarget\n  let i\n  if (this.scrollHeight !== scrollHeight) {\n    this.refresh()\n  }\n  if (scrollTop >= maxScroll) {\n    return activeTarget !== (i = targets[targets.length - 1]) && this.activate(i)\n  }\n  if (activeTarget && scrollTop < offsets[0]) {\n    this.activeTarget = null\n    return this.clear()\n  }\n  for (i = offsets.length; i--;) {\n    activeTarget !== targets[i] &&\n    scrollTop >= offsets[i] &&\n    (offsets[i + 1] === undefined || scrollTop < offsets[i + 1]) &&\n    this.activate(targets[i])\n  }\n}\n\nScrollSpy.prototype.activate = function (target) {\n  this.activeTarget = target\n  this.clear()\n  const selector = this.selector +\n    '[data-target=\"' + target + '\"],' +\n    this.selector + '[href=\"' + target + '\"]'\n  const activeCallback = this.opts.callback\n  const active = nodeListToArray(this.el.querySelectorAll(selector))\n  active.forEach(ele => {\n    getParents(ele, 'li')\n      .forEach(item => {\n        addClass(item, 'active')\n        activeCallback(item)\n      })\n    if (getParents(ele, '.dropdown-menu').length) {\n      addClass(getClosest(ele, 'li.dropdown'), 'active')\n    }\n  })\n}\n\nScrollSpy.prototype.clear = function () {\n  const list = nodeListToArray(this.el.querySelectorAll(this.selector))\n  list.forEach(ele => {\n    getParents(ele, '.active', this.opts.target).forEach(item => {\n      removeClass(item, 'active')\n    })\n  })\n}\n\nconst INSTANCE = '_uiv_scrollspy_instance'\nconst events = [EVENTS.RESIZE, EVENTS.SCROLL]\n\nconst bind = (el, binding) => {\n  // console.log('bind')\n  unbind(el)\n}\n\nconst inserted = (el, binding) => {\n  // console.log('inserted')\n  const scrollSpy = new ScrollSpy(el, binding.arg, binding.value)\n  if (scrollSpy.scrollElement) {\n    scrollSpy.handler = () => {\n      scrollSpy.process()\n    }\n    events.forEach(event => {\n      on(scrollSpy.scrollElement, event, scrollSpy.handler)\n    })\n  }\n  el[INSTANCE] = scrollSpy\n}\n\nconst unbind = (el) => {\n  // console.log('unbind')\n  const instance = el[INSTANCE]\n  if (instance && instance.scrollElement) {\n    events.forEach(event => {\n      off(instance.scrollElement, event, instance.handler)\n    })\n    delete el[INSTANCE]\n  }\n}\n\nconst update = (el, binding) => {\n  // console.log('update')\n  const isArgUpdated = binding.arg !== binding.oldArg\n  const isValueUpdated = binding.value !== binding.oldValue\n  if (isArgUpdated || isValueUpdated) {\n    bind(el, binding)\n    inserted(el, binding)\n  }\n}\n\nexport default { bind, unbind, update, inserted }\n"],"names":["const","let","arguments","this"],"mappings":"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"}