import"./index-91d49467.js";import{C as e}from"./converter-ca3783f0.js";const t=/^(a(bstract|lias|nd|rguments|rray|s(m|sert)?|uto)|b(ase|egin|ool(ean)?|reak|yte)|c(ase|atch|har|hecked|lass|lone|ompl|onst|ontinue)|de(bugger|cimal|clare|f(ault|er)?|init|l(egate|ete)?)|do|double|e(cho|ls?if|lse(if)?|nd|nsure|num|vent|x(cept|ec|p(licit|ort)|te(nds|nsion|rn)))|f(allthrough|alse|inal(ly)?|ixed|loat|or(each)?|riend|rom|unc(tion)?)|global|goto|guard|i(f|mp(lements|licit|ort)|n(it|clude(_once)?|line|out|stanceof|t(erface|ernal)?)?|s)|l(ambda|et|ock|ong)|m(odule|utable)|NaN|n(amespace|ative|ext|ew|il|ot|ull)|o(bject|perator|r|ut|verride)|p(ackage|arams|rivate|rotected|rotocol|ublic)|r(aise|e(adonly|do|f|gister|peat|quire(_once)?|scue|strict|try|turn))|s(byte|ealed|elf|hort|igned|izeof|tatic|tring|truct|ubscript|uper|ynchronized|witch)|t(emplate|hen|his|hrows?|ransient|rue|ry|ype(alias|def|id|name|of))|u(n(checked|def(ined)?|ion|less|signed|til)|se|sing)|v(ar|irtual|oid|olatile)|w(char_t|hen|here|hile|ith)|xor|yield)$/,n=[["mrk",/#\[\[.+?]]#/],["imp",/!\[\[.+?]]!/],["pls",/(^|\n)\+\s.+($|\n)/],["mns",/(^|\n)-\s.+($|\n)/],["num",/#([0-9a-f]{6}|[0-9a-f]{3})\b/],["com",/(\/\/|#).*?(?=\n|$)/],["com",/\/\*[\s\S]*?\*\//],["com",/<!--[\s\S]*?-->/],["rex",/\/(\\\/|[^\n])*?\/(?=[^\w])/],["str",/(['"])(\\\1|[\s\S])*?\1/],["num",/[+-]?([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)([eE][+-]?[0-9]+)?/],["spc",/\s+/],["nam",/[\w-$]+/],["pct",/[\\.,:;+\-*\/=<>()[\]{}|?!&@~]/],["unk",/./]];const r={pls:"+",mns:"+"},s={pls:"plus",mns:"minus"};function i(e,i,l){const o=e.split("\n");o[0]&&!o[0].trim()&&o.splice(0,1),o[o.length-1]&&!o[o.length-1].trim()&&o.splice(-1,1);const c=o.find((e=>e.trim().length));if(!c)return"";const a=c.match(/^\s*/)[0];a&&(e=o.map((e=>e.replace(a,""))).join("\n"));let u=0,p=2;const m=function(e){const r=[],s=n.length;let i=!1;for(;e;)for(let l=0;l<s;l+=1){let s=n[l][1].exec(e);if(!s||0!==s.index)continue;let o=n[l][0];if("rex"===o&&i)continue;let c=s[0];"nam"===o&&t.test(c)&&(o="key"),"spc"===o?c.indexOf("\n")>=0&&(i=!1):i="num"===o||"nam"===o,e=e.slice(c.length),r.push([o,c]);break}return r}(e);if(i){let e=1;m.forEach((t=>{if("spc"===t[0]){const n=t[1].match(/\n/g);n&&(e+=n.length)}})),p=1+String(e).length}function d(e){return Object.keys(l[e]).reduce(((t,n)=>t+=`${n}="${l[e][n]}" `),"")}function g(e){const t=" ".repeat(p-String(u+1).length);return`${e?"":"\n"}<nu-el ${d("com")} before="${++u}.${t}"></nu-el>`}return m.reduce((function(e,t){let n=t[0],l=s[n]?" "+s[n]:"",o=r[n]?t[1].slice(2):t[1];return i&&"spc"===n&&(o=o.replace(/\n/g,(e=>g()))),"mrk"!==n&&"imp"!==n||(o=o.replace(/([!#]\[\[|]][!#])/g,"")),e+`<nu-el ${d(t[0])}${l}>${o}</nu-el>`}),i?g(!0):"")}let l=!1;const o=["com","key","nam","num","pct","rex","spc","str","unk","pls","mns","mrk","imp"],c={};export default class extends e{static get converter(){return i}init(){this.props.enumerate=e=>(this.observe&&setTimeout((()=>this.observe())),null!=e),super.init(),l||(l=!0,o.forEach((e=>{c[e]={style:`color: var(--${e}-color, var(--main-text-color)); background-color: var(--${e}-bg-color, transparent)`},"mrk"!==e&&"imp"!==e||(c[e].radius=".5x")})))}apply(e,t,n){n&&(e.innerHTML=n(t,this.enumerate,c))}prepareContent(e){return(e||"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/(^|\n)\s*(?=\n$)/g,"").replace(/\n\s*(?=(\n$|$))/g,"").replace(/^\n/,"").replace(/\n$/,"")}}export{o as NAMES,c as THEME_ATTRS};
