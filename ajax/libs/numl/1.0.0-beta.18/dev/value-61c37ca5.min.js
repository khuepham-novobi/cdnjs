import{W as WidgetBehavior,i as isEqual,q as queryById,n as query}from"./index-0338ddf6.js";class ValueBehavior extends WidgetBehavior{static get params(){return{provideValue:!1,contextValue:!1}}init(){super.init(),this.linkContext("typedValue",e=>{(void 0!==e||this.value)&&this.setValue(e)},"parentValue"),this.value||this.setValue(null)}setValue(e){isEqual(this.value,e)||(this.value=e,this.apply())}fromHostValue(e){super.fromHostValue(e),this.apply()}apply(){let{list:e,value:t}=this;if(null!=e){const n=e?queryById(this.host,e):query(this.host,"[nu-listbox]");if(n&&n.nuListBox&&n.nuListBox.options.length){const e=n.nuListBox;let i="";if(this.setAria("label",!1),e.multiple){const t=e.value||[];if(t.length){i+='<nu-flex gap flow="row wrap">';const n=[];t.forEach(t=>{const s=e.getOptionByValue(t);s&&(i+=`<nu-badge>${s.host.innerHTML}</nu-badge>`,n.push(s.host.innerText))}),i+="&nbsp;</nu-flex>",this.setAria("label",n.join(","))}}else{const n=e.getOptionByValue(t);n&&(i=n.host.innerHTML,this.setAria("label",n.host.innerText))}return void(i?(this.setMod("placeholder",!1),this.host.innerHTML=i):(this.setMod("placeholder",!0),this.host.innerHTML=this.placeholder||"&nbsp;"))}setTimeout(()=>{null!=this.list&&this.apply()})}const n=null!=t;if(null==t)t="&nbsp;";else if(t instanceof Date)t=`<nu-datetime value="${String(t)}" date></nu-datetime>`;else if(Array.isArray(t)&&t[0]instanceof Date)t=`\n        <nu-flex gap>\n          <nu-datetime value="${String(t[0])}" date></nu-datetime>\n          <nu-el>â€“</nu-el>\n          <nu-datetime value="${String(t[1])}" date></nu-datetime>\n        </nu-flex>\n      `;else if("boolean"==typeof t)t=t?'<nu-icon name="check checkmark"></nu-icon>':'<nu-icon name="minus"></nu-icon>';else if(Array.isArray(t))t=`</nu-block>${t.join("</nu-block><nu-block>")}</nu-block>`;else if(t instanceof File)t=t.name;else if(t instanceof FileList){const e=[];for(const n of t)e.push(n.name);t=`</nu-block>${e.join("</nu-block><nu-block>")}</nu-block>`}else"object"==typeof t&&(t=`<pre>${JSON.stringify(t,null,2)}</pre>`);this.host.innerHTML=n?t:this.placeholder||"&nbsp;",this.setMod("placeholder",!n)}}export default ValueBehavior;