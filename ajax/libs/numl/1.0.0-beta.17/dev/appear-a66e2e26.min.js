import{B as Behavior,d as deepQueryAll}from"./index-da59e341.js";class AppearBehavior extends Behavior{connected(){this.threshold=parseInt(this.params.threshold),this.timeout=parseInt(this.params.timeout)||0,isNaN(this.threshold)&&(this.threshold=50),setTimeout(()=>this.apply())}apply(){const{host:e}=this,t=e.getBoundingClientRect(),h=window.innerHeight;t.y<0&&t.y+t.height>0?this.setByThreshold((t.y+t.height)/t.height,"bottom"):t.y+t.height>h&&t.y<h?this.setByThreshold((h-t.y)/t.height,"top"):t.y>=0&&t.y+t.height<=h?this.setByThreshold(1,t.y-t.height/2<=h/2?"top":"bottom"):this.setByThreshold(0)}setByThreshold(e,t){const{threshold:h}=this;this.set(h/100<=e,t)}set(e,t){e?(setTimeout(()=>{this.setMod("appear",e)},this.timeout),this.appeared=!0):this.params.toggle?(setTimeout(()=>{this.setMod("appear",e)},this.timeout),this.appeared=!1):this.appeared&&this.host.removeAttribute("use-appear")}}function onPositionChange(){deepQueryAll(document.body,"[use-appear]").forEach(e=>{e.nuBehaviors.appear.apply()})}["scroll","resize","wheel","touchmove","tap"].forEach(e=>{window.addEventListener(e,onPositionChange,{passive:!0})});export default AppearBehavior;