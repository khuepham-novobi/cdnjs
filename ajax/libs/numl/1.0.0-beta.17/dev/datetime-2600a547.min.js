import{v as devMode,w as warn}from"./index-da59e341.js";import{F as FormatterBehavior}from"./formatter-fb64cff7.js";const FULL="full",LONG="long",MEDIUM="medium",SHORT="short",NARROW="narrow",TWO_DIGIT="2-digit",NUMERIC="numeric",AUTO="auto",WEEKDAY_OPTIONS=[LONG,SHORT,NARROW],ERA_OPTIONS=[LONG,SHORT,NARROW],YEAR_OPTIONS=[NUMERIC,"2-digit"],MONTH_OPTIONS=[NUMERIC,"2-digit",LONG,SHORT,NARROW],DAY_OPTIONS=[NUMERIC,"2-digit"],HOUR_OPTIONS=[NUMERIC,"2-digit"],MINUTE_OPTIONS=[NUMERIC,"2-digit"],SECOND_OPTIONS=[NUMERIC,"2-digit"],TIMEZONE_OPTIONS=[LONG,SHORT],DAY_PERIOD_OPTIONS=[NARROW,SHORT,LONG],DATE_STYLE_OPTIONS=[FULL,LONG,MEDIUM,SHORT],TIME_STYLE_OPTIONS=[FULL,LONG,MEDIUM,SHORT],HOUR_CYCLE_OPTIONS=["h11","h12","h23","h24",AUTO],CALENDAR_OPTIONS=["buddhist","chinese","coptic","ethiopia","ethiopic","gregory","hebrew","indian","islamic","iso8601","japanese","persian","roc"],SYSTEM_OPTIONS=["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr"," knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec"," telu","thai","tibt"],ALIAS_MAP={a:(e,t)=>(new Intl.DateTimeFormat(t,{hour:NUMERIC}).format(e).split(" ")[1]||"").toLowerCase(),ss:(e,t)=>new Intl.DateTimeFormat(t,{minute:"2-digit",second:"2-digit"}).format(e).split(":")[1].toLowerCase(),s:{second:NUMERIC},mm:(e,t)=>new Intl.DateTimeFormat(t,{hour:"2-digit",minute:"2-digit"}).format(e).split(":")[1].split(" ")[0].toLowerCase(),m:{minute:NUMERIC},hh:(e,t)=>new Intl.DateTimeFormat(t,{hour:"2-digit"}).format(e).split(/\s/)[0].toLowerCase(),h:(e,t)=>new Intl.DateTimeFormat(t,{hour:NUMERIC}).format(e).split(/\s/)[0].toLowerCase(),DD:{day:"2-digit"},D:{day:NUMERIC},dddd:{weekday:LONG},ddd:{weekday:SHORT},dd:{weekday:NARROW},MMMM:{month:LONG},MMM:{month:SHORT},MM:{month:"2-digit"},M:{month:NUMERIC},YYYY:{year:NUMERIC},YY:{year:"2-digit"}},OPTIONS_MAP={weekday:[WEEKDAY_OPTIONS,SHORT],era:[ERA_OPTIONS,SHORT],year:[YEAR_OPTIONS,NUMERIC],month:[MONTH_OPTIONS,LONG],day:[DAY_OPTIONS,NUMERIC],hour:[HOUR_OPTIONS,"2-digit"],minute:[MINUTE_OPTIONS,"2-digit"],second:[SECOND_OPTIONS,"2-digit"],dayperiod:[DAY_PERIOD_OPTIONS,SHORT,"dayPeriod"],calendar:[CALENDAR_OPTIONS],system:[SYSTEM_OPTIONS],date:[DATE_STYLE_OPTIONS,MEDIUM,"dateStyle"],time:[TIME_STYLE_OPTIONS,MEDIUM,"timeStyle"],zone:[TIMEZONE_OPTIONS,null,"timeZoneName"],hourcycle:[HOUR_CYCLE_OPTIONS,AUTO,"hourCycle"]};function dateTimeFormat(e,t,i){e=e||new Date;const a=null!=i.fallback?i.fallback:devMode?"Invalid":"â€“";if(!(e instanceof Date))if("now"===e)e=new Date;else{if(null==e)return a;e=new Date(e)}const r=e.getTime();if(r!=r)return a;if(i.format){let a=i.format;return(a=a.replace(/\w+/gi,i=>{const a=ALIAS_MAP[i];return a?"function"==typeof a?a(e,t):dateTimeFormat(e,t,a):i})).trim()}const O=Object.entries(OPTIONS_MAP).reduce((e,[t,a])=>{const r=a[2]||t,O=a[1],o=i[t];return a=a[0],""===o&&O?e[r]=O:o&&(a.includes(o)?e[r]=o:devMode&&warn(`datetime: wrong value for "${t}":`,JSON.stringify(o))),e},{});i.timezone&&(O.timeZone=i.timezone),i.hourcycle&&i.hourcycle!==AUTO&&(O.hourCycle=i.hourcycle);const o=new Intl.DateTimeFormat(t,O);try{return o.format(e)}catch(e){return warn("number format error",e),a}}class DateTimeBehavior extends FormatterBehavior{static get formatter(){return dateTimeFormat}constructor(e,t){super(e,t),this.intervalId=null}apply(){super.apply(),clearInterval(this.intervalId),"now"===this.value&&(this.intervalId=setInterval(()=>{this.apply()},1e3))}}export default DateTimeBehavior;