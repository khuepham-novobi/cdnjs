import"nanoid";import{_ as _inherits,a as _createSuper,b as _createClass,c as _defineProperty,d as _classCallCheck,e as _objectWithoutProperties,f as _objectSpread2}from"./Debug-b9c1d3d9.js";import"redux";import"./turn-order-edf62d74.js";import"immer";import"./reducer-774ad0dd.js";import"./initialize-67621544.js";import"./transport-0079de87.js";import{C as Client$1}from"./client-e411e427.js";import"flatted";import"./ai-edc4e2de.js";import React from"react";import PropTypes from"prop-types";function Client(e){var t,r,s=e.game,i=e.numPlayers,a=e.board,n=e.multiplayer,c=e.enhancer;return r=t=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var a;return _classCallCheck(this,r),(a=t.call(this,e)).client=Client$1({game:s,numPlayers:i,multiplayer:n,matchID:e.matchID,playerID:e.playerID,credentials:e.credentials,debug:!1,enhancer:c}),a}return _createClass(r,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.client.subscribe(function(){return e.forceUpdate()}),this.client.start()}},{key:"componentWillUnmount",value:function(){this.client.stop(),this.unsubscribe()}},{key:"componentDidUpdate",value:function(e){e.matchID!=this.props.matchID&&this.client.updateMatchID(this.props.matchID),e.playerID!=this.props.playerID&&this.client.updatePlayerID(this.props.playerID),e.credentials!=this.props.credentials&&this.client.updateCredentials(this.props.credentials)}},{key:"render",value:function(){var e=null,t=this.client.getState(),r=this.props,s=r.matchID,i=r.playerID,c=_objectWithoutProperties(r,["matchID","playerID"]);return a&&(e=React.createElement(a,_objectSpread2(_objectSpread2(_objectSpread2({},t),c),{},{matchID:s,playerID:i,isMultiplayer:!!n,moves:this.client.moves,events:this.client.events,step:this.client.step,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages}))),e}}]),r}(React.Component),_defineProperty(t,"propTypes",{matchID:PropTypes.string,playerID:PropTypes.string,credentials:PropTypes.string}),_defineProperty(t,"defaultProps",{matchID:"default",playerID:null,credentials:null}),r}export{Client};