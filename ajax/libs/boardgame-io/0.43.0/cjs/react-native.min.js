"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0}),require("nanoid");var Debug=require("./Debug-a8010bfa.js");require("redux"),require("./turn-order-f57ce2a9.js"),require("immer"),require("./reducer-85e302af.js"),require("./initialize-5ffa8640.js"),require("flatted"),require("./ai-69af8a6d.js");var client=require("./client-54d632ec.js"),React=_interopDefault(require("react")),PropTypes=_interopDefault(require("prop-types"));function Client(e){var t,a=e.game,n=e.numPlayers,s=e.board,l=e.multiplayer,c=e.enhancer,e=t=function(e){Debug._inherits(i,e);var r=Debug._createSuper(i);function i(e){var t;return Debug._classCallCheck(this,i),(t=r.call(this,e)).client=client.Client({game:a,numPlayers:n,multiplayer:l,matchID:e.matchID,playerID:e.playerID,credentials:e.credentials,debug:!1,enhancer:c}),t}return Debug._createClass(i,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.client.subscribe(function(){return e.forceUpdate()}),this.client.start()}},{key:"componentWillUnmount",value:function(){this.client.stop(),this.unsubscribe()}},{key:"componentDidUpdate",value:function(e){e.matchID!=this.props.matchID&&this.client.updateMatchID(this.props.matchID),e.playerID!=this.props.playerID&&this.client.updatePlayerID(this.props.playerID),e.credentials!=this.props.credentials&&this.client.updateCredentials(this.props.credentials)}},{key:"render",value:function(){var e=null,t=this.client.getState(),r=this.props,i=r.matchID,a=r.playerID,r=Debug._objectWithoutProperties(r,["matchID","playerID"]);return s&&(e=React.createElement(s,Debug._objectSpread2(Debug._objectSpread2(Debug._objectSpread2({},t),r),{},{matchID:i,playerID:a,isMultiplayer:!!l,moves:this.client.moves,events:this.client.events,step:this.client.step,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages}))),e}}]),i}(React.Component);return Debug._defineProperty(t,"propTypes",{matchID:PropTypes.string,playerID:PropTypes.string,credentials:PropTypes.string}),Debug._defineProperty(t,"defaultProps",{matchID:"default",playerID:null,credentials:null}),e}exports.Client=Client;