(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "react-dom"], factory);
	else {
		var a = typeof exports === 'object' ? factory(require("react"), require("react-dom")) : factory(root["React"], root["ReactDOM"]);
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(window, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./scripts/build/with-ckeditor.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/ckeditor/ckeditor.js":
/*!**********************************!*\
  !*** ./lib/ckeditor/ckeditor.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

﻿/*
Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
*/
(function(){if(!window.CKEDITOR||!window.CKEDITOR.dom){window.CKEDITOR||(window.CKEDITOR=function(){var c=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,g={timestamp:"K5T7",version:"4.14.1",revision:"eb2d11644",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:c},status:"unloaded",basePath:function(){var b=window.CKEDITOR_BASEPATH||"";if(!b)for(var e=document.getElementsByTagName("script"),g=0;g<e.length;g++){var k=e[g].src.match(c);if(k){b=k[1];break}}-1==b.indexOf(":/")&&"//"!=b.slice(0,
2)&&(b=0===b.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+b:location.href.match(/^[^\?]*\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return b}(),getUrl:function(b){-1==b.indexOf(":/")&&0!==b.indexOf("/")&&(b=this.basePath+b);this.timestamp&&"/"!=b.charAt(b.length-1)&&!/[&?]t=/.test(b)&&(b+=(0<=b.indexOf("?")?"\x26":"?")+"t\x3d"+this.timestamp);return b},
domReady:function(){function b(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",b,!1),c()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",b),c())}catch(k){}}function c(){for(var b;b=e.shift();)b()}var e=[];return function(k){function d(){try{document.documentElement.doScroll("left")}catch(a){setTimeout(d,1);return}b()}e.push(k);"complete"===document.readyState&&setTimeout(b,1);if(1==e.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",
b,!1),window.addEventListener("load",b,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",b);window.attachEvent("onload",b);k=!1;try{k=!window.frameElement}catch(f){}document.documentElement.doScroll&&k&&d()}}}()},e=window.CKEDITOR_GETURL;if(e){var b=g.getUrl;g.getUrl=function(c){return e.call(g,c)||b.call(g,c)}}return g}());CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(c){var g=CKEDITOR.event.prototype,e;for(e in g)null==c[e]&&(c[e]=g[e])},
CKEDITOR.event.prototype=function(){function c(b){var c=g(this);return c[b]||(c[b]=new e(b))}var g=function(b){b=b.getPrivate&&b.getPrivate()||b._||(b._={});return b.events||(b.events={})},e=function(b){this.name=b;this.listeners=[]};e.prototype={getListenerIndex:function(b){for(var c=0,e=this.listeners;c<e.length;c++)if(e[c].fn==b)return c;return-1}};return{define:function(b,e){var g=c.call(this,b);CKEDITOR.tools.extend(g,e,!0)},on:function(b,e,g,l,k){function d(a,n,d,r){a={name:b,sender:this,editor:a,
data:n,listenerData:l,stop:d,cancel:r,removeListener:f};return!1===e.call(g,a)?!1:a.data}function f(){n.removeListener(b,e)}var a=c.call(this,b);if(0>a.getListenerIndex(e)){a=a.listeners;g||(g=this);isNaN(k)&&(k=10);var n=this;d.fn=e;d.priority=k;for(var r=a.length-1;0<=r;r--)if(a[r].priority<=k)return a.splice(r+1,0,d),{removeListener:f};a.unshift(d)}return{removeListener:f}},once:function(){var b=Array.prototype.slice.call(arguments),c=b[1];b[1]=function(b){b.removeListener();return c.apply(this,
arguments)};return this.on.apply(this,b)},capture:function(){CKEDITOR.event.useCapture=1;var b=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return b},fire:function(){var b=0,c=function(){b=1},e=0,l=function(){e=1};return function(k,d,f){var a=g(this)[k];k=b;var n=e;b=e=0;if(a){var r=a.listeners;if(r.length)for(var r=r.slice(0),x,p=0;p<r.length;p++){if(a.errorProof)try{x=r[p].call(this,f,d,c,l)}catch(q){}else x=r[p].call(this,f,d,c,l);!1===x?e=1:"undefined"!=typeof x&&(d=x);if(b||e)break}}d=
e?!1:"undefined"==typeof d?!0:d;b=k;e=n;return d}}(),fireOnce:function(b,c,e){c=this.fire(b,c,e);delete g(this)[b];return c},removeListener:function(b,c){var e=g(this)[b];if(e){var l=e.getListenerIndex(c);0<=l&&e.listeners.splice(l,1)}},removeAllListeners:function(){var b=g(this),c;for(c in b)delete b[c]},hasListeners:function(b){return(b=g(this)[b])&&0<b.listeners.length}}}());CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=
function(c,g){c in{instanceReady:1,loaded:1}&&(this[c]=!0);return CKEDITOR.event.prototype.fire.call(this,c,g,this)},CKEDITOR.editor.prototype.fireOnce=function(c,g){c in{instanceReady:1,loaded:1}&&(this[c]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,c,g,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));CKEDITOR.env||(CKEDITOR.env=function(){var c=navigator.userAgent.toLowerCase(),g=c.match(/edge[ \/](\d+.?\d*)/),e=-1<c.indexOf("trident/"),e=!(!g&&!e),e={ie:e,edge:!!g,webkit:!e&&
-1<c.indexOf(" applewebkit/"),air:-1<c.indexOf(" adobeair/"),mac:-1<c.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<c.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(c),isCustomDomain:function(){if(!this.ie)return!1;var b=document.domain,c=window.location.hostname;return b!=c&&b!="["+c+"]"},secure:"https:"==location.protocol};e.gecko="Gecko"==navigator.product&&!e.webkit&&!e.ie;e.webkit&&(-1<c.indexOf("chrome")?e.chrome=
!0:e.safari=!0);var b=0;e.ie&&(b=g?parseFloat(g[1]):e.quirks||!document.documentMode?parseFloat(c.match(/msie (\d+)/)[1]):document.documentMode,e.ie9Compat=9==b,e.ie8Compat=8==b,e.ie7Compat=7==b,e.ie6Compat=7>b||e.quirks);e.gecko&&(g=c.match(/rv:([\d\.]+)/))&&(g=g[1].split("."),b=1E4*g[0]+100*(g[1]||0)+1*(g[2]||0));e.air&&(b=parseFloat(c.match(/ adobeair\/(\d+)/)[1]));e.webkit&&(b=parseFloat(c.match(/ applewebkit\/(\d+)/)[1]));e.version=b;e.isCompatible=!(e.ie&&7>b)&&!(e.gecko&&4E4>b)&&!(e.webkit&&
534>b);e.hidpi=2<=window.devicePixelRatio;e.needsBrFiller=e.gecko||e.webkit||e.ie&&10<b;e.needsNbspFiller=e.ie&&11>b;e.cssClass="cke_browser_"+(e.ie?"ie":e.gecko?"gecko":e.webkit?"webkit":"unknown");e.quirks&&(e.cssClass+=" cke_browser_quirks");e.ie&&(e.cssClass+=" cke_browser_ie"+(e.quirks?"6 cke_browser_iequirks":e.version));e.air&&(e.cssClass+=" cke_browser_air");e.iOS&&(e.cssClass+=" cke_browser_ios");e.hidpi&&(e.cssClass+=" cke_hidpi");return e}());"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);
CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var c=document.createElement("script");c.type="text/javascript";c.src=CKEDITOR.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(c)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(c){(this._.pending||(this._.pending=[])).push(c)};(function(){CKEDITOR.domReady(function(){var c=CKEDITOR.loadFullCore,g=CKEDITOR.loadFullCoreTimeout;c&&(CKEDITOR.status=
"basic_ready",c&&c._load?c():g&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*g))})})();CKEDITOR.status="basic_loaded"}();"use strict";CKEDITOR.VERBOSITY_WARN=1;CKEDITOR.VERBOSITY_ERROR=2;CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR;CKEDITOR.warn=function(c,g){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:c,additionalData:g})};CKEDITOR.error=function(c,g){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",
{type:"error",errorCode:c,additionalData:g})};CKEDITOR.on("log",function(c){if(window.console&&window.console.log){var g=console[c.data.type]?c.data.type:"log",e=c.data.errorCode;if(c=c.data.additionalData)console[g]("[CKEDITOR] Error code: "+e+".",c);else console[g]("[CKEDITOR] Error code: "+e+".");console[g]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+e)}},null,null,999);CKEDITOR.dom={};(function(){function c(a,d,f){this._minInterval=
a;this._context=f;this._lastOutput=this._scheduledTimer=0;this._output=CKEDITOR.tools.bind(d,f||{});var b=this;this.input=function(){function a(){b._lastOutput=(new Date).getTime();b._scheduledTimer=0;b._call()}if(!b._scheduledTimer||!1!==b._reschedule()){var n=(new Date).getTime()-b._lastOutput;n<b._minInterval?b._scheduledTimer=setTimeout(a,b._minInterval-n):a()}}}function g(a,d,f){c.call(this,a,d,f);this._args=[];var b=this;this.input=CKEDITOR.tools.override(this.input,function(a){return function(){b._args=
Array.prototype.slice.call(arguments);a.call(this)}})}var e=[],b=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",h=/&/g,m=/>/g,l=/</g,k=/"/g,d=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,f={lt:"\x3c",gt:"\x3e",amp:"\x26",quot:'"',nbsp:" ",shy:"­"},a=function(a,d){return"#"==d[0]?String.fromCharCode(parseInt(d.slice(1),10)):f[d]};CKEDITOR.on("reset",function(){e=[]});CKEDITOR.tools={arrayCompare:function(a,d){if(!a&&!d)return!0;if(!a||!d||a.length!=d.length)return!1;
for(var f=0;f<a.length;f++)if(a[f]!=d[f])return!1;return!0},getIndex:function(a,d){for(var f=0;f<a.length;++f)if(d(a[f]))return f;return-1},clone:function(a){var d;if(a&&a instanceof Array){d=[];for(var f=0;f<a.length;f++)d[f]=CKEDITOR.tools.clone(a[f]);return d}if(null===a||"object"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;d=new a.constructor;for(f in a)d[f]=CKEDITOR.tools.clone(a[f]);return d},
capitalize:function(a,d){return a.charAt(0).toUpperCase()+(d?a.slice(1):a.slice(1).toLowerCase())},extend:function(a){var d=arguments.length,f,b;"boolean"==typeof(f=arguments[d-1])?d--:"boolean"==typeof(f=arguments[d-2])&&(b=arguments[d-1],d-=2);for(var c=1;c<d;c++){var k=arguments[c]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(k),function(d){if(!0===f||null==a[d])if(!b||d in b)a[d]=k[d]})}return a},prototypedCopy:function(a){var d=function(){};d.prototype=a;return new d},copy:function(a){var d=
{},f;for(f in a)d[f]=a[f];return d},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var d in a)if(a.hasOwnProperty(d))return!1;return!0},cssVendorPrefix:function(a,d,f){if(f)return b+a+":"+d+";"+a+":"+d;f={};f[a]=d;f[b+a]=d;return f},cssStyleToDomStyle:function(){var a=document.createElement("div").style,d="undefined"!=typeof a.cssFloat?"cssFloat":"undefined"!=typeof a.styleFloat?"styleFloat":"float";return function(a){return"float"==a?d:a.replace(/-./g,
function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var d,f=[],b=0;b<a.length;b++)if(d=a[b])/@import|[{}]/.test(d)?f.push("\x3cstyle\x3e"+d+"\x3c/style\x3e"):f.push('\x3clink type\x3d"text/css" rel\x3dstylesheet href\x3d"'+d+'"\x3e');return f.join("")},htmlEncode:function(a){return void 0===a||null===a?"":String(a).replace(h,"\x26amp;").replace(m,"\x26gt;").replace(l,"\x26lt;")},htmlDecode:function(n){return n.replace(d,a)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(k,
"\x26quot;")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,d){var f=d==CKEDITOR.ENTER_BR,b=this.htmlEncode(a.replace(/\r\n/g,"\n")),b=b.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;"),c=d==CKEDITOR.ENTER_P?"p":"div";if(!f){var k=/\n{2}/g;if(k.test(b))var e="\x3c"+c+"\x3e",h="\x3c/"+c+"\x3e",b=e+b.replace(k,function(){return h+e})+h}b=b.replace(/\n/g,"\x3cbr\x3e");f||(b=b.replace(new RegExp("\x3cbr\x3e(?\x3d\x3c/"+c+"\x3e)"),function(a){return CKEDITOR.tools.repeat(a,
2)}));b=b.replace(/^ | $/g,"\x26nbsp;");return b=b.replace(/(>|\s) /g,function(a,n){return n+"\x26nbsp;"}).replace(/ (?=<)/g,"\x26nbsp;")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var a="e",d=0;8>d;d++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,d){var f=d(a);f.prototype=a.prototype;return f},setTimeout:function(a,d,f,b,c){c||(c=window);f||(f=
c);return c.setTimeout(function(){b?a.apply(f,[].concat(b)):a.apply(f)},d||0)},throttle:function(a,d,f){return new this.buffers.throttle(a,d,f)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(d){return d.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(d){return d.replace(a,"")}}(),rtrim:function(){var a=/[ \t\n\r]+$/g;return function(d){return d.replace(a,"")}}(),indexOf:function(a,d){if("function"==typeof d)for(var f=0,b=a.length;f<b;f++){if(d(a[f]))return f}else{if(a.indexOf)return a.indexOf(d);
f=0;for(b=a.length;f<b;f++)if(a[f]===d)return f}return-1},search:function(a,d){var f=CKEDITOR.tools.indexOf(a,d);return 0<=f?a[f]:null},bind:function(a,d){var f=Array.prototype.slice.call(arguments,2);return function(){return a.apply(d,f.concat(Array.prototype.slice.call(arguments)))}},createClass:function(a){var d=a.$,f=a.base,b=a.privates||a._,c=a.proto;a=a.statics;!d&&(d=function(){f&&this.base.apply(this,arguments)});if(b)var k=d,d=function(){var a=this._||(this._={}),d;for(d in b){var n=b[d];
a[d]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}k.apply(this,arguments)};f&&(d.prototype=this.prototypedCopy(f.prototype),d.prototype.constructor=d,d.base=f,d.baseProto=f.prototype,d.prototype.base=function t(){this.base=f.prototype.base;f.apply(this,arguments);this.base=t});c&&this.extend(d.prototype,c,!0);a&&this.extend(d,a,!0);return d},addFunction:function(a,d){return e.push(function(){return a.apply(d||this,arguments)})-1},removeFunction:function(a){e[a]=null},callFunction:function(a){var d=
e[a];return d&&d.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\d+\.?\d*px$/,d;return function(f){d=CKEDITOR.tools.trim(f+"")+"px";return a.test(d)?d:f||""}}(),convertToPx:function(){var a;return function(d){a||(a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"\x3e\x3c/div\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a));if(!/%$/.test(d)){var f=0>parseFloat(d);
f&&(d=d.replace("-",""));a.setStyle("width",d);d=a.$.clientWidth;return f?-d:d}return d}}(),repeat:function(a,d){return Array(d+1).join(a)},tryThese:function(){for(var a,d=0,f=arguments.length;d<f;d++){var b=arguments[d];try{a=b();break}catch(c){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(a){return function(){var d=arguments,f=this;window.setTimeout(function(){a.apply(f,d)},0)}},normalizeCssText:function(a,d){var f=[],b,c=CKEDITOR.tools.parseCssText(a,
!0,d);for(b in c)f.push(b+":"+c[b]);f.sort();return f.length?f.join(";")+";":""},convertRgbToHex:function(a){return a.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(a,d,n,f){a=[d,n,f];for(d=0;3>d;d++)a[d]=("0"+parseInt(a[d],10).toString(16)).slice(-2);return"#"+a.join("")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(a,d,n,f){a=d.toLowerCase();3==a.length&&(a=a.split(""),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(""));return"#"+a+f})},parseCssText:function(a,
d,f){var b={};f&&(a=(new CKEDITOR.dom.element("span")).setAttribute("style",a).getAttribute("style")||"");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||";"==a)return b;a.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,n,f){d&&(n=n.toLowerCase(),"font-family"==n&&(f=f.replace(/\s*,\s*/g,",")),f=CKEDITOR.tools.trim(f));b[n]=f});return b},writeCssText:function(a,d){var f,b=[];for(f in a)b.push(f+":"+a[f]);d&&b.sort();return b.join("; ")},
objectCompare:function(a,d,f){var b;if(!a&&!d)return!0;if(!a||!d)return!1;for(b in a)if(a[b]!=d[b])return!1;if(!f)for(b in d)if(a[b]!=d[b])return!1;return!0},objectKeys:function(a){return CKEDITOR.tools.object.keys(a)},convertArrayToObject:function(a,d){var f={};1==arguments.length&&(d=!0);for(var b=0,c=a.length;b<c;++b)f[a[b]]=d;return f},fixDomain:function(){for(var a;;)try{a=window.parent.document.domain;break}catch(d){a=a?a.replace(/.+?(?:\.|$)/,""):document.domain;if(!a)break;document.domain=
a}return!!a},eventsBuffer:function(a,d,f){return new this.buffers.event(a,d,f)},enableHtml5Elements:function(a,d){for(var f="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),b=f.length,c;b--;)c=a.createElement(f[b]),d&&a.appendChild(c)},checkIfAnyArrayItemMatches:function(a,d){for(var f=0,b=a.length;f<b;++f)if(a[f].match(d))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,
d){for(var f in a)if(f.match(d))return!0;return!1},keystrokeToString:function(a,d){var f=this.keystrokeToArray(a,d);f.display=f.display.join("+");f.aria=f.aria.join("+");return f},keystrokeToArray:function(a,d){var f=d&16711680,b=d&65535,c=CKEDITOR.env.mac,k=[],e=[];f&CKEDITOR.CTRL&&(k.push(c?"⌘":a[17]),e.push(c?a[224]:a[17]));f&CKEDITOR.ALT&&(k.push(c?"⌥":a[18]),e.push(a[18]));f&CKEDITOR.SHIFT&&(k.push(c?"⇧":a[16]),e.push(a[16]));b&&(a[b]?(k.push(a[b]),e.push(a[b])):(k.push(String.fromCharCode(b)),
e.push(String.fromCharCode(b))));return{display:k,aria:e}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d",getCookie:function(a){a=a.toLowerCase();for(var d=document.cookie.split(";"),f,b,c=0;c<d.length;c++)if(f=d[c].split("\x3d"),b=decodeURIComponent(CKEDITOR.tools.trim(f[0]).toLowerCase()),b===a)return decodeURIComponent(1<f.length?f[1]:"");return null},setCookie:function(a,d){document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(d)+
";path\x3d/"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie("ckCsrfToken");if(!a||40!=a.length){var a=[],d="";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var f=0;40>f;f++)a.push(Math.floor(256*Math.random()));for(f=0;f<a.length;f++)var b="abcdefghijklmnopqrstuvwxyz0123456789".charAt(a[f]%36),d=d+(.5<Math.random()?b.toUpperCase():b);a=d;CKEDITOR.tools.setCookie("ckCsrfToken",a)}return a},escapeCss:function(a){return a?window.CSS&&
CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:"\\3"+a.charAt(0)+" "+a.substring(1,a.length):""},getMouseButton:function(a){return(a=a&&a.data?a.data.$:a)?CKEDITOR.tools.normalizeMouseButton(a.button):!1},normalizeMouseButton:function(a,d){if(!CKEDITOR.env.ie||9<=CKEDITOR.env.version&&!CKEDITOR.env.ie6Compat)return a;for(var f=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],b=0;b<f.length;b++){var c=f[b];if(c[0]===a&&d)return c[1];if(!d&&
c[1]===a)return c[0]}},convertHexStringToBytes:function(a){var d=[],f=a.length/2,b;for(b=0;b<f;b++)d.push(parseInt(a.substr(2*b,2),16));return d},convertBytesToBase64:function(a){var d="",f=a.length,b;for(b=0;b<f;b+=3){var c=a.slice(b,b+3),k=c.length,e=[],h;if(3>k)for(h=k;3>h;h++)c[h]=0;e[0]=(c[0]&252)>>2;e[1]=(c[0]&3)<<4|c[1]>>4;e[2]=(c[1]&15)<<2|(c[2]&192)>>6;e[3]=c[2]&63;for(h=0;4>h;h++)d=h<=k?d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e[h]):d+"\x3d"}return d},
style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",
darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",
ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",
lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",
moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",
seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),
_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(a){var d={},f=this._findColor(a);f.length&&(d.color=f[0],CKEDITOR.tools.array.forEach(f,function(d){a=a.replace(d,"")}));if(a=CKEDITOR.tools.trim(a))d.unprocessed=a;return d},margin:function(a){return CKEDITOR.tools.style.parse.sideShorthand(a,
function(a){return a.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||["0px"]})},sideShorthand:function(a,d){function f(a){b.top=c[a[0]];b.right=c[a[1]];b.bottom=c[a[2]];b.left=c[a[3]]}var b={},c=d?d(a):a.split(/\s+/);switch(c.length){case 1:f([0,0,0,0]);break;case 2:f([0,1,0,1]);break;case 3:f([0,1,2,1]);break;case 4:f([0,1,2,3])}return b},border:function(a){return CKEDITOR.tools.style.border.fromCssRule(a)},_findColor:function(a){var d=[],f=CKEDITOR.tools.array,d=d.concat(a.match(this._rgbaRegExp)||
[]),d=d.concat(a.match(this._hslaRegExp)||[]);return d=d.concat(f.filter(a.split(/\s+/),function(a){return a.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)?!0:a.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(a,d,f){var b=[];this.forEach(a,function(c,k){d.call(f,c,k,a)&&b.push(c)});return b},find:function(a,d,f){for(var b=a.length,c=0;c<b;){if(d.call(f,a[c],c,a))return a[c];c++}},forEach:function(a,d,f){var b=a.length,c;for(c=0;c<b;c++)d.call(f,a[c],c,a)},map:function(a,
d,f){for(var b=[],c=0;c<a.length;c++)b.push(d.call(f,a[c],c,a));return b},reduce:function(a,d,f,b){for(var c=0;c<a.length;c++)f=d.call(b,f,a[c],c,a);return f},every:function(a,d,f){if(!a.length)return!0;d=this.filter(a,d,f);return a.length===d.length},some:function(a,d,f){for(var b=0;b<a.length;b++)if(d.call(f,a[b],b,a))return!0;return!1}},object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),entries:function(a){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(a),
function(d){return[d,a[d]]})},values:function(a){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(a),function(d){return a[d]})},keys:function(a){var d=Object.prototype.hasOwnProperty,f=[],b=CKEDITOR.tools.object.DONT_ENUMS;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(!a||"object"!==typeof a)){d=[];if("string"===typeof a)for(f=0;f<a.length;f++)d.push(String(f));return d}for(var c in a)f.push(c);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)for(c=0;c<b.length;c++)d.call(a,b[c])&&f.push(b[c]);
return f},findKey:function(a,d){if("object"!==typeof a)return null;for(var f in a)if(a[f]===d)return f;return null},merge:function(a,d){var f=CKEDITOR.tools,b=f.clone(a),c=f.clone(d);f.array.forEach(f.object.keys(c),function(a){b[a]="object"===typeof c[a]&&"object"===typeof b[a]?f.object.merge(b[a],c[a]):c[a]});return b}},getAbsoluteRectPosition:function(a,d){function f(a){if(a){var d=a.getClientRect();b.top+=d.top;b.left+=d.left;"x"in b&&"y"in b&&(b.x+=d.x,b.y+=d.y);f(a.getWindow().getFrame())}}
var b=CKEDITOR.tools.copy(d);f(a.getFrame());var c=CKEDITOR.document.getWindow().getScrollPosition();b.top+=c.y;b.left+=c.x;"x"in b&&"y"in b&&(b.y+=c.y,b.x+=c.x);b.right=b.left+b.width;b.bottom=b.top+b.height;return b}};c.prototype={reset:function(){this._lastOutput=0;this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer);this._scheduledTimer=0}};g.prototype=CKEDITOR.tools.prototypedCopy(c.prototype);
g.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()};g.prototype._call=function(){this._output.apply(this._context,this._args)};CKEDITOR.tools.buffers={};CKEDITOR.tools.buffers.event=c;CKEDITOR.tools.buffers.throttle=g;CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(a){a=a||{};this.width=a.width;this.style=a.style;this.color=a.color;this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,"black"]]},normalize:function(){for(var a in this._.normalizeMap){var d=
this[a];d&&(this[a]=CKEDITOR.tools.array.reduce(this._.normalizeMap[a],function(a,d){return a.replace(d[0],d[1])},d))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],function(a){return!!a}).join(" ")}},statics:{fromCssRule:function(a){var d={},f=a.split(/\s+/g);a=CKEDITOR.tools.style.parse._findColor(a);a.length&&(d.color=a[0]);CKEDITOR.tools.array.forEach(f,function(a){d.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,
a)?!d.width&&CKEDITOR.tools.style.parse._widthRegExp.test(a)&&(d.width=a):d.style=a});return new CKEDITOR.tools.style.border(d)},splitCssValues:function(a,d){d=d||{};var f=CKEDITOR.tools.array.reduce(["width","style","color"],function(f,b){var c=a["border-"+b]||d[b];f[b]=c?CKEDITOR.tools.style.parse.sideShorthand(c):null;return f},{});return CKEDITOR.tools.array.reduce(["top","right","bottom","left"],function(d,b){var c={},k;for(k in f){var e=a["border-"+b+"-"+k];c[k]=e?e:f[k]&&f[k][b]}d["border-"+
b]=new CKEDITOR.tools.style.border(c);return d},{})}}});CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf;CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray;CKEDITOR.MOUSE_BUTTON_LEFT=0;CKEDITOR.MOUSE_BUTTON_MIDDLE=1;CKEDITOR.MOUSE_BUTTON_RIGHT=2})();CKEDITOR.dtd=function(){var c=CKEDITOR.tools.extend,g=function(d,a){for(var b=CKEDITOR.tools.clone(d),c=1;c<arguments.length;c++){a=arguments[c];for(var k in a)delete b[k]}return b},e={},b={},h={address:1,article:1,aside:1,blockquote:1,details:1,div:1,
dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},m={command:1,link:1,meta:1,noscript:1,script:1,style:1},l={},k={"#":1},d={center:1,dir:1,noframes:1};c(e,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,
q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},k,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});c(b,h,e,d);g={a:g(e,{a:1,button:1}),abbr:e,address:b,area:l,article:b,aside:b,audio:c({source:1,track:1},b),b:e,base:l,bdi:e,bdo:e,blockquote:b,body:b,br:l,button:g(e,{a:1,button:1}),canvas:e,caption:b,cite:e,code:e,col:l,colgroup:{col:1},command:l,datalist:c({option:1},e),dd:b,del:e,details:c({summary:1},
b),dfn:e,div:b,dl:{dt:1,dd:1},dt:b,em:e,embed:l,fieldset:c({legend:1},b),figcaption:b,figure:c({figcaption:1},b),footer:b,form:b,h1:e,h2:e,h3:e,h4:e,h5:e,h6:e,head:c({title:1,base:1},m),header:b,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:l,html:c({head:1,body:1},b,m),i:e,iframe:k,img:l,input:l,ins:e,kbd:e,keygen:l,label:e,legend:e,li:b,link:l,main:b,map:b,mark:e,menu:c({li:1},b),meta:l,meter:g(e,{meter:1}),nav:b,noscript:c({link:1,meta:1,style:1},e),object:c({param:1},e),ol:{li:1},optgroup:{option:1},
option:k,output:e,p:e,param:l,pre:e,progress:g(e,{progress:1}),q:e,rp:e,rt:e,ruby:c({rp:1,rt:1},e),s:e,samp:e,script:k,section:b,select:{optgroup:1,option:1},small:e,source:l,span:e,strong:e,style:k,sub:e,summary:c({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},e),sup:e,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:b,textarea:k,tfoot:{tr:1},th:b,thead:{tr:1},time:g(e,{time:1}),title:k,tr:{th:1,td:1},track:l,u:e,ul:{li:1},"var":e,video:c({source:1,track:1},b),wbr:l,acronym:e,applet:c({param:1},
b),basefont:l,big:e,center:b,dialog:l,dir:{li:1},font:e,isindex:l,noframes:b,strike:e,tt:e};c(g,{$block:c({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},h,d),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,
footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:e,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:c({body:1,head:1,html:1},g.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,
button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,
ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return g}();CKEDITOR.dom.event=function(c){this.$=c};CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var c=this.getKey();if(this.$.ctrlKey||this.$.metaKey)c+=CKEDITOR.CTRL;this.$.shiftKey&&(c+=CKEDITOR.SHIFT);this.$.altKey&&(c+=CKEDITOR.ALT);return c},
preventDefault:function(c){var g=this.$;g.preventDefault?g.preventDefault():g.returnValue=!1;c&&this.stopPropagation()},stopPropagation:function(){var c=this.$;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0},getTarget:function(){var c=this.$.target||this.$.srcElement;return c?new CKEDITOR.dom.node(c):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var c=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(c.documentElement.scrollLeft||c.body.scrollLeft),
y:this.$.pageY||this.$.clientY+(c.documentElement.scrollTop||c.body.scrollTop)}}};CKEDITOR.CTRL=1114112;CKEDITOR.SHIFT=2228224;CKEDITOR.ALT=4456448;CKEDITOR.EVENT_PHASE_CAPTURING=1;CKEDITOR.EVENT_PHASE_AT_TARGET=2;CKEDITOR.EVENT_PHASE_BUBBLING=3;CKEDITOR.dom.domObject=function(c){c&&(this.$=c)};CKEDITOR.dom.domObject.prototype=function(){var c=function(c,e){return function(b){"undefined"!=typeof CKEDITOR&&c.fire(e,new CKEDITOR.dom.event(b))}};return{getPrivate:function(){var c;(c=this.getCustomData("_"))||
this.setCustomData("_",c={});return c},on:function(g){var e=this.getCustomData("_cke_nativeListeners");e||(e={},this.setCustomData("_cke_nativeListeners",e));e[g]||(e=e[g]=c(this,g),this.$.addEventListener?this.$.addEventListener(g,e,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+g,e));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(c){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(c)){var e=this.getCustomData("_cke_nativeListeners"),
b=e&&e[c];b&&(this.$.removeEventListener?this.$.removeEventListener(c,b,!1):this.$.detachEvent&&this.$.detachEvent("on"+c,b),delete e[c])}},removeAllListeners:function(){try{var c=this.getCustomData("_cke_nativeListeners"),e;for(e in c){var b=c[e];this.$.detachEvent?this.$.detachEvent("on"+e,b):this.$.removeEventListener&&this.$.removeEventListener(e,b,!1);delete c[e]}}catch(h){if(!CKEDITOR.env.edge||-2146828218!==h.number)throw h;}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}();(function(c){var g=
{};CKEDITOR.on("reset",function(){g={}});c.equals=function(c){try{return c&&c.$===this.$}catch(b){return!1}};c.setCustomData=function(c,b){var h=this.getUniqueId();(g[h]||(g[h]={}))[c]=b;return this};c.getCustomData=function(c){var b=this.$["data-cke-expando"];return(b=b&&g[b])&&c in b?b[c]:null};c.removeCustomData=function(c){var b=this.$["data-cke-expando"],b=b&&g[b],h,m;b&&(h=b[c],m=c in b,delete b[c]);return m?h:null};c.clearCustomData=function(){this.removeAllListeners();var c=this.getUniqueId();
c&&delete g[c]};c.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(c)})(CKEDITOR.dom.domObject.prototype);CKEDITOR.dom.node=function(c){return c?new CKEDITOR.dom[c.nodeType==CKEDITOR.NODE_DOCUMENT?"document":c.nodeType==CKEDITOR.NODE_ELEMENT?"element":c.nodeType==CKEDITOR.NODE_TEXT?"text":c.nodeType==CKEDITOR.NODE_COMMENT?"comment":c.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](c):
this};CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject;CKEDITOR.NODE_ELEMENT=1;CKEDITOR.NODE_DOCUMENT=9;CKEDITOR.NODE_TEXT=3;CKEDITOR.NODE_COMMENT=8;CKEDITOR.NODE_DOCUMENT_FRAGMENT=11;CKEDITOR.POSITION_IDENTICAL=0;CKEDITOR.POSITION_DISCONNECTED=1;CKEDITOR.POSITION_FOLLOWING=2;CKEDITOR.POSITION_PRECEDING=4;CKEDITOR.POSITION_IS_CONTAINED=8;CKEDITOR.POSITION_CONTAINS=16;CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(c,g){c.append(this,g);return c},clone:function(c,g){function e(b){b["data-cke-expando"]&&
(b["data-cke-expando"]=!1);if(b.nodeType==CKEDITOR.NODE_ELEMENT||b.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(g||b.nodeType!=CKEDITOR.NODE_ELEMENT||b.removeAttribute("id",!1),c){b=b.childNodes;for(var h=0;h<b.length;h++)e(b[h])}}function b(e){if(e.type==CKEDITOR.NODE_ELEMENT||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var h=e.getName();":"==h[0]&&e.renameNode(h.substring(1))}if(c)for(h=0;h<e.getChildCount();h++)b(e.getChild(h))}}var h=this.$.cloneNode(c);
e(h);h=new CKEDITOR.dom.node(h);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&b(h);return h},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(c){c.$.parentNode.insertBefore(this.$,c.$.nextSibling);return c},insertBefore:function(c){c.$.parentNode.insertBefore(this.$,c.$);return c},insertBeforeMe:function(c){this.$.parentNode.insertBefore(c.$,this.$);
return c},getAddress:function(c){for(var g=[],e=this.getDocument().$.documentElement,b=this;b&&b!=e;){var h=b.getParent();h&&g.unshift(this.getIndex.call(b,c));b=h}return g},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(c){function g(b,c){var k=c?b.getNext():b.getPrevious();return k&&k.type==CKEDITOR.NODE_TEXT?k.isEmpty()?g(k,c):k:null}var e=this,b=-1,h;if(!this.getParent()||c&&e.type==CKEDITOR.NODE_TEXT&&e.isEmpty()&&
!g(e)&&!g(e,!0))return-1;do if(!c||e.equals(this)||e.type!=CKEDITOR.NODE_TEXT||!h&&!e.isEmpty())b++,h=e.type==CKEDITOR.NODE_TEXT;while(e=e.getPrevious());return b},getNextSourceNode:function(c,g,e){if(e&&!e.call){var b=e;e=function(c){return!c.equals(b)}}c=!c&&this.getFirst&&this.getFirst();var h;if(!c){if(this.type==CKEDITOR.NODE_ELEMENT&&e&&!1===e(this,!0))return null;c=this.getNext()}for(;!c&&(h=(h||this).getParent());){if(e&&!1===e(h,!0))return null;c=h.getNext()}return!c||e&&!1===e(c)?null:g&&
g!=c.type?c.getNextSourceNode(!1,g,e):c},getPreviousSourceNode:function(c,g,e){if(e&&!e.call){var b=e;e=function(c){return!c.equals(b)}}c=!c&&this.getLast&&this.getLast();var h;if(!c){if(this.type==CKEDITOR.NODE_ELEMENT&&e&&!1===e(this,!0))return null;c=this.getPrevious()}for(;!c&&(h=(h||this).getParent());){if(e&&!1===e(h,!0))return null;c=h.getPrevious()}return!c||e&&!1===e(c)?null:g&&c.type!=g?c.getPreviousSourceNode(!1,g,e):c},getPrevious:function(c){var g=this.$,e;do e=(g=g.previousSibling)&&
10!=g.nodeType&&new CKEDITOR.dom.node(g);while(e&&c&&!c(e));return e},getNext:function(c){var g=this.$,e;do e=(g=g.nextSibling)&&new CKEDITOR.dom.node(g);while(e&&c&&!c(e));return e},getParent:function(c){var g=this.$.parentNode;return g&&(g.nodeType==CKEDITOR.NODE_ELEMENT||c&&g.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(g):null},getParents:function(c){var g=this,e=[];do e[c?"push":"unshift"](g);while(g=g.getParent());return e},getCommonAncestor:function(c){if(c.equals(this))return this;
if(c.contains&&c.contains(this))return c;var g=this.contains?this:this.getParent();do if(g.contains(c))return g;while(g=g.getParent());return null},getPosition:function(c){var g=this.$,e=c.$;if(g.compareDocumentPosition)return g.compareDocumentPosition(e);if(g==e)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&c.type==CKEDITOR.NODE_ELEMENT){if(g.contains){if(g.contains(e))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(e.contains(g))return CKEDITOR.POSITION_IS_CONTAINED+
CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in g)return 0>g.sourceIndex||0>e.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:g.sourceIndex<e.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}g=this.getAddress();c=c.getAddress();for(var e=Math.min(g.length,c.length),b=0;b<e;b++)if(g[b]!=c[b])return g[b]<c[b]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return g.length<c.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},
getAscendant:function(c,g){var e=this.$,b,h;g||(e=e.parentNode);"function"==typeof c?(h=!0,b=c):(h=!1,b=function(b){b="string"==typeof b.nodeName?b.nodeName.toLowerCase():"";return"string"==typeof c?b==c:b in c});for(;e;){if(b(h?new CKEDITOR.dom.node(e):e))return new CKEDITOR.dom.node(e);try{e=e.parentNode}catch(m){e=null}}return null},hasAscendant:function(c,g){var e=this.$;g||(e=e.parentNode);for(;e;){if(e.nodeName&&e.nodeName.toLowerCase()==c)return!0;e=e.parentNode}return!1},move:function(c,g){c.append(this.remove(),
g)},remove:function(c){var g=this.$,e=g.parentNode;if(e){if(c)for(;c=g.firstChild;)e.insertBefore(g.removeChild(c),g);e.removeChild(g)}return this},replace:function(c){this.insertBefore(c);c.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var c;this.getFirst&&(c=this.getFirst());){if(c.type==CKEDITOR.NODE_TEXT){var g=CKEDITOR.tools.ltrim(c.getText()),e=c.getLength();if(g)g.length<e&&(c.split(e-g.length),this.$.removeChild(this.$.firstChild));else{c.remove();continue}}break}},
rtrim:function(){for(var c;this.getLast&&(c=this.getLast());){if(c.type==CKEDITOR.NODE_TEXT){var g=CKEDITOR.tools.rtrim(c.getText()),e=c.getLength();if(g)g.length<e&&(c.split(g.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{c.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(c=this.$.lastChild)&&1==c.type&&"br"==c.nodeName.toLowerCase()&&c.parentNode.removeChild(c)},isReadOnly:function(c){var g=this;this.type!=CKEDITOR.NODE_ELEMENT&&(g=this.getParent());CKEDITOR.env.edge&&
g&&g.is("textarea","input")&&(c=!0);if(!c&&g&&"undefined"!=typeof g.$.isContentEditable)return!(g.$.isContentEditable||g.data("cke-editable"));for(;g;){if(g.data("cke-editable"))return!1;if(g.hasAttribute("contenteditable"))return"false"==g.getAttribute("contenteditable");g=g.getParent()}return!0}});CKEDITOR.dom.window=function(c){CKEDITOR.dom.domObject.call(this,c)};CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject;CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},
getViewPaneSize:function(){var c=this.$.document,g="CSS1Compat"==c.compatMode;return{width:(g?c.documentElement.clientWidth:c.body.clientWidth)||0,height:(g?c.documentElement.clientHeight:c.body.clientHeight)||0}},getScrollPosition:function(){var c=this.$;if("pageXOffset"in c)return{x:c.pageXOffset||0,y:c.pageYOffset||0};c=c.document;return{x:c.documentElement.scrollLeft||c.body.scrollLeft||0,y:c.documentElement.scrollTop||c.body.scrollTop||0}},getFrame:function(){var c=this.$.frameElement;return c?
new CKEDITOR.dom.element.get(c):null}});CKEDITOR.dom.document=function(c){CKEDITOR.dom.domObject.call(this,c)};CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject;CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(c){if(this.$.createStyleSheet)this.$.createStyleSheet(c);else{var g=new CKEDITOR.dom.element("link");g.setAttributes({rel:"stylesheet",type:"text/css",href:c});this.getHead().append(g)}},appendStyleText:function(c){if(this.$.createStyleSheet){var g=
this.$.createStyleSheet("");g.cssText=c}else{var e=new CKEDITOR.dom.element("style",this);e.append(new CKEDITOR.dom.text(c,this));this.getHead().append(e)}return g||e.$.sheet},createElement:function(c,g){var e=new CKEDITOR.dom.element(c,this);g&&(g.attributes&&e.setAttributes(g.attributes),g.styles&&e.setStyles(g.styles));return e},createText:function(c){return new CKEDITOR.dom.text(c,this)},focus:function(){this.getWindow().focus()},getActive:function(){var c;try{c=this.$.activeElement}catch(g){return null}return new CKEDITOR.dom.element(c)},
getById:function(c){return(c=this.$.getElementById(c))?new CKEDITOR.dom.element(c):null},getByAddress:function(c,g){for(var e=this.$.documentElement,b=0;e&&b<c.length;b++){var h=c[b];if(g)for(var m=-1,l=0;l<e.childNodes.length;l++){var k=e.childNodes[l];if(!0!==g||3!=k.nodeType||!k.previousSibling||3!=k.previousSibling.nodeType)if(m++,m==h){e=k;break}}else e=e.childNodes[h]}return e?new CKEDITOR.dom.node(e):null},getElementsByTag:function(c,g){CKEDITOR.env.ie&&8>=document.documentMode||!g||(c=g+":"+
c);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(c))},getHead:function(){var c=this.$.getElementsByTagName("head")[0];return c=c?new CKEDITOR.dom.element(c):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(c){this.$.open("text/html",
"replace");CKEDITOR.env.ie&&(c=c.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$\x26\n\x3cscript data-cke-temp\x3d"1"\x3e('+CKEDITOR.tools.fixDomain+")();\x3c/script\x3e"));this.$.write(c);this.$.close()},find:function(c){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(c))},findOne:function(c){return(c=this.$.querySelector(c))?new CKEDITOR.dom.element(c):null},_getHtml5ShivFrag:function(){var c=this.getCustomData("html5ShivFrag");c||(c=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(c,
!0),this.setCustomData("html5ShivFrag",c));return c}});CKEDITOR.dom.nodeList=function(c){this.$=c};CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(c){return 0>c||c>=this.$.length?null:(c=this.$[c])?new CKEDITOR.dom.node(c):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(c){return new CKEDITOR.dom.node(c)})}};CKEDITOR.dom.element=function(c,g){"string"==typeof c&&(c=(g?g.$:document).createElement(c));CKEDITOR.dom.domObject.call(this,
c)};CKEDITOR.dom.element.get=function(c){return(c="string"==typeof c?document.getElementById(c)||document.getElementsByName(c)[0]:c)&&(c.$?c:new CKEDITOR.dom.element(c))};CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node;CKEDITOR.dom.element.createFromHtml=function(c,g){var e=new CKEDITOR.dom.element("div",g);e.setHtml(c);return e.getFirst().remove()};CKEDITOR.dom.element.setMarker=function(c,g,e,b){var h=g.getCustomData("list_marker_id")||g.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),
m=g.getCustomData("list_marker_names")||g.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");c[h]=g;m[e]=1;return g.setCustomData(e,b)};CKEDITOR.dom.element.clearAllMarkers=function(c){for(var g in c)CKEDITOR.dom.element.clearMarkers(c,c[g],1)};CKEDITOR.dom.element.clearMarkers=function(c,g,e){var b=g.getCustomData("list_marker_names"),h=g.getCustomData("list_marker_id"),m;for(m in b)g.removeCustomData(m);g.removeCustomData("list_marker_names");e&&(g.removeCustomData("list_marker_id"),
delete c[h])};(function(){function c(b,d){return-1<(" "+b+" ").replace(m," ").indexOf(" "+d+" ")}function g(b){var d=!0;b.$.id||(b.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),d=!1);return function(){d||b.removeAttribute("id")}}function e(b,d){var f=CKEDITOR.tools.escapeCss(b.$.id);return"#"+f+" "+d.split(/,\s*/).join(", #"+f+" ")}function b(b){for(var d=0,f=0,a=l[b].length;f<a;f++)d+=parseFloat(this.getComputedStyle(l[b][f])||0,10)||0;return d}var h=document.createElement("_").classList,h="undefined"!==
typeof h&&null!==String(h.add).match(/\[Native code\]/gi),m=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:h?function(b){this.$.classList.add(b);return this}:function(b){var d=this.$.className;d&&(c(d,b)||(d+=" "+b));this.$.className=d||b;return this},removeClass:h?function(b){var d=this.$;d.classList.remove(b);d.className||d.removeAttribute("class");return this}:function(b){var d=this.getAttribute("class");d&&c(d,b)&&((d=d.replace(new RegExp("(?:^|\\s+)"+
b+"(?\x3d\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",d):this.removeAttribute("class"));return this},hasClass:function(b){return c(this.$.className,b)},append:function(b,d){"string"==typeof b&&(b=this.getDocument().createElement(b));d?this.$.insertBefore(b.$,this.$.firstChild):this.$.appendChild(b.$);return b},appendHtml:function(b){if(this.$.childNodes.length){var d=new CKEDITOR.dom.element("div",this.getDocument());d.setHtml(b);d.moveChildren(this)}else this.setHtml(b)},appendText:function(b){null!=
this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=b:this.append(new CKEDITOR.dom.text(b))},appendBogus:function(b){if(b||CKEDITOR.env.needsBrFiller){for(b=this.getLast();b&&b.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(b.getText());)b=b.getPrevious();b&&b.is&&b.is("br")||(b=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&b.setAttribute("type","_moz"),this.append(b))}},breakParent:function(b,d){var f=new CKEDITOR.dom.range(this.getDocument());f.setStartAfter(this);f.setEndAfter(b);
var a=f.extractContents(!1,d||!1),c;f.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(f=new CKEDITOR.dom.element("div");c=a.getFirst();)c.$.style.backgroundColor&&(c.$.style.backgroundColor=c.$.style.backgroundColor),f.append(c);f.insertAfter(this);f.remove(!0)}else a.insertAfterNode(this)},contains:document.compareDocumentPosition?function(b){return!!(this.$.compareDocumentPosition(b.$)&16)}:function(b){var d=this.$;return b.type!=CKEDITOR.NODE_ELEMENT?d.contains(b.getParent().$):
d!=b.$&&d.contains(b.$)},focus:function(){function b(){try{this.$.focus()}catch(d){}}return function(d){d?CKEDITOR.tools.setTimeout(b,100,this):b.call(this)}}(),getHtml:function(){var b=this.$.innerHTML;return CKEDITOR.env.ie?b.replace(/<\?[^>]*>/g,""):b},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var b=this.$.ownerDocument.createElement("div");b.appendChild(this.$.cloneNode(!0));return b.innerHTML},getClientRect:function(b){var d=CKEDITOR.tools.extend({},
this.$.getBoundingClientRect());!d.width&&(d.width=d.right-d.left);!d.height&&(d.height=d.bottom-d.top);return b?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),d):d},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(b){try{var d=this.$;if(this.getParent())return d.innerHTML=b;var f=this.getDocument()._getHtml5ShivFrag();f.appendChild(d);d.innerHTML=b;f.removeChild(d);return b}catch(a){this.$.innerHTML="";d=new CKEDITOR.dom.element("body",this.getDocument());d.$.innerHTML=b;for(d=d.getChildren();d.count();)this.append(d.getItem(0));
return b}}:function(b){return this.$.innerHTML=b},setText:function(){var b=document.createElement("p");b.innerHTML="x";b=b.textContent;return function(d){this.$[b?"textContent":"innerText"]=d}}(),getAttribute:function(){var b=function(d){return this.$.getAttribute(d,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(d){switch(d){case "class":d="className";break;case "http-equiv":d="httpEquiv";break;case "name":return this.$.name;case "tabindex":return d=this.$.getAttribute(d,
2),0!==d&&0===this.$.tabIndex&&(d=null),d;case "checked":return d=this.$.attributes.getNamedItem(d),(d.specified?d.nodeValue:this.$.checked)?"checked":null;case "hspace":case "value":return this.$[d];case "style":return this.$.style.cssText;case "contenteditable":case "contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(d,2)}:b}(),getAttributes:function(b){var d={},f=this.$.attributes,a;b=CKEDITOR.tools.isArray(b)?
b:[];for(a=0;a<f.length;a++)-1===CKEDITOR.tools.indexOf(b,f[a].name)&&(d[f[a].name]=f[a].value);return d},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(b){var d=this.getWindow().$.getComputedStyle(this.$,null);return d?d.getPropertyValue(b):""}:function(b){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(b)]},
getDtd:function(){var b=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return b};return b},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var b=this.$.tabIndex;return 0!==b||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?b:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||
null},getName:function(){var b=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var d=this.$.scopeName;"HTML"!=d&&(b=d.toLowerCase()+":"+b)}this.getName=function(){return b};return this.getName()},getValue:function(){return this.$.value},getFirst:function(b){var d=this.$.firstChild;(d=d&&new CKEDITOR.dom.node(d))&&b&&!b(d)&&(d=d.getNext(b));return d},getLast:function(b){var d=this.$.lastChild;(d=d&&new CKEDITOR.dom.node(d))&&b&&!b(d)&&(d=d.getPrevious(b));return d},getStyle:function(b){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(b)]},
is:function(){var b=this.getName();if("object"==typeof arguments[0])return!!arguments[0][b];for(var d=0;d<arguments.length;d++)if(arguments[d]==b)return!0;return!1},isEditable:function(b){var d=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[d]||CKEDITOR.dtd.$empty[d]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:!1!==b?(b=CKEDITOR.dtd[d]||
CKEDITOR.dtd.span,!(!b||!b["#"])):!0},isIdentical:function(b){var d=this.clone(0,1);b=b.clone(0,1);d.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);b.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);if(d.$.isEqualNode)return d.$.style.cssText=CKEDITOR.tools.normalizeCssText(d.$.style.cssText),b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),d.$.isEqualNode(b.$);d=d.getOuterHtml();b=
b.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var f=this.getParent();f.type==CKEDITOR.NODE_ELEMENT&&(f=f.clone(),f.setHtml(d),d=f.getHtml(),f.setHtml(b),b=f.getHtml())}return d==b},isVisible:function(){var b=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility"),d,f;b&&CKEDITOR.env.webkit&&(d=this.getWindow(),!d.equals(CKEDITOR.document.getWindow())&&(f=d.$.frameElement)&&(b=(new CKEDITOR.dom.element(f)).isVisible()));return!!b},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;
for(var b=this.getChildren(),d=0,f=b.count();d<f;d++){var a=b.getItem(d);if(a.type!=CKEDITOR.NODE_ELEMENT||!a.data("cke-bookmark"))if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEmptyInlineRemoveable()||a.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(a.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var b=this.$.attributes,d=0;d<b.length;d++){var f=b[d];switch(f.nodeName){case "class":if(this.getAttribute("class"))return!0;case "data-cke-expando":continue;
default:if(f.specified)return!0}}return!1}:function(){var b=this.$.attributes,d=b.length,f={"data-cke-expando":1,_moz_dirty:1};return 0<d&&(2<d||!f[b[0].nodeName]||2==d&&!f[b[1].nodeName])},hasAttribute:function(){function b(d){var f=this.$.attributes.getNamedItem(d);if("input"==this.getName())switch(d){case "class":return 0<this.$.className.length;case "checked":return!!this.$.checked;case "value":return d=this.getAttribute("type"),"checkbox"==d||"radio"==d?"on"!=this.$.value:!!this.$.value}return f?
f.specified:!1}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(d){return"name"==d?!!this.$.name:b.call(this,d)}:b:function(d){return!!this.$.attributes.getNamedItem(d)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(b,d){var f=this.$;b=b.$;if(f!=b){var a;if(d)for(;a=f.lastChild;)b.insertBefore(f.removeChild(a),b.firstChild);else for(;a=f.firstChild;)b.appendChild(f.removeChild(a))}},mergeSiblings:function(){function b(d,f,a){if(f&&f.type==CKEDITOR.NODE_ELEMENT){for(var c=
[];f.data("cke-bookmark")||f.isEmptyInlineRemoveable();)if(c.push(f),f=a?f.getNext():f.getPrevious(),!f||f.type!=CKEDITOR.NODE_ELEMENT)return;if(d.isIdentical(f)){for(var e=a?d.getLast():d.getFirst();c.length;)c.shift().move(d,!a);f.moveChildren(d,!a);f.remove();e&&e.type==CKEDITOR.NODE_ELEMENT&&e.mergeSiblings()}}}return function(d){if(!1===d||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))b(this,this.getNext(),!0),b(this,this.getPrevious())}}(),show:function(){this.setStyles({display:"",
visibility:""})},setAttribute:function(){var b=function(d,b){this.$.setAttribute(d,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(d,f){"class"==d?this.$.className=f:"style"==d?this.$.style.cssText=f:"tabindex"==d?this.$.tabIndex=f:"checked"==d?this.$.checked=f:"contenteditable"==d?b.call(this,"contentEditable",f):b.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(d,f){if("src"==d&&f.match(/^http:\/\//))try{b.apply(this,
arguments)}catch(a){}else b.apply(this,arguments);return this}:b}(),setAttributes:function(b){for(var d in b)this.setAttribute(d,b[d]);return this},setValue:function(b){this.$.value=b;return this},removeAttribute:function(){var b=function(d){this.$.removeAttribute(d)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(d){"class"==d?d="className":"tabindex"==d?d="tabIndex":"contenteditable"==d&&(d="contentEditable");this.$.removeAttribute(d)}:b}(),removeAttributes:function(b){if(CKEDITOR.tools.isArray(b))for(var d=
0;d<b.length;d++)this.removeAttribute(b[d]);else for(d in b=b||this.getAttributes(),b)b.hasOwnProperty(d)&&this.removeAttribute(d)},removeStyle:function(b){var d=this.$.style;if(d.removeProperty||"border"!=b&&"margin"!=b&&"padding"!=b)d.removeProperty?d.removeProperty(b):d.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(b)),this.$.style.cssText||this.removeAttribute("style");else{var f=["top","left","right","bottom"],a;"border"==b&&(a=["color","style","width"]);for(var d=[],c=0;c<f.length;c++)if(a)for(var e=
0;e<a.length;e++)d.push([b,f[c],a[e]].join("-"));else d.push([b,f[c]].join("-"));for(b=0;b<d.length;b++)this.removeStyle(d[b])}},setStyle:function(b,d){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(b)]=d;return this},setStyles:function(b){for(var d in b)this.setStyle(d,b[d]);return this},setOpacity:function(b){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(b=Math.round(100*b),this.setStyle("filter",100<=b?"":"progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+b+")")):this.setStyle("opacity",b)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select",
"none"));if(CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var b,d=this.getElementsByTag("*"),f=0,a=d.count();f<a;f++)b=d.getItem(f),b.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var b=this;"html"!=b.getName();){if("static"!=b.getComputedStyle("position"))return b;b=b.getParent()}return null},getDocumentPosition:function(b){var d=0,f=0,a=this.getDocument(),c=a.getBody(),e="BackCompat"==a.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?
8!==CKEDITOR.env.version:1)){var h=this.$.getBoundingClientRect(),g=a.$.documentElement,m=g.clientTop||c.$.clientTop||0,u=g.clientLeft||c.$.clientLeft||0,l=!0;CKEDITOR.env.ie&&(l=a.getDocumentElement().contains(this),a=a.getBody().contains(this),l=e&&a||!e&&l);l&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(d=c.$.scrollLeft||g.scrollLeft,f=c.$.scrollTop||g.scrollTop):(f=e?c.$:g,d=f.scrollLeft,f=f.scrollTop),d=h.left+d-u,f=h.top+f-m)}else for(m=this,u=null;m&&"body"!=m.getName()&&
"html"!=m.getName();){d+=m.$.offsetLeft-m.$.scrollLeft;f+=m.$.offsetTop-m.$.scrollTop;m.equals(this)||(d+=m.$.clientLeft||0,f+=m.$.clientTop||0);for(;u&&!u.equals(m);)d-=u.$.scrollLeft,f-=u.$.scrollTop,u=u.getParent();u=m;m=(h=m.$.offsetParent)?new CKEDITOR.dom.element(h):null}b&&(h=this.getWindow(),m=b.getWindow(),!h.equals(m)&&h.$.frameElement&&(b=(new CKEDITOR.dom.element(h.$.frameElement)).getDocumentPosition(b),d+=b.x,f+=b.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||
e||(d+=this.$.clientLeft?1:0,f+=this.$.clientTop?1:0);return{x:d,y:f}},scrollIntoView:function(b){var d=this.getParent();if(d){do if((d.$.clientWidth&&d.$.clientWidth<d.$.scrollWidth||d.$.clientHeight&&d.$.clientHeight<d.$.scrollHeight)&&!d.is("body")&&this.scrollIntoParent(d,b,1),d.is("html")){var f=d.getWindow();try{var a=f.$.frameElement;a&&(d=new CKEDITOR.dom.element(a))}catch(c){}}while(d=d.getParent())}},scrollIntoParent:function(b,d,f){var a,c,e,h;function g(a,d){/body|html/.test(b.getName())?
b.getWindow().$.scrollBy(a,d):(b.$.scrollLeft+=a,b.$.scrollTop+=d)}function m(a,b){var d={x:0,y:0};if(!a.is(l?"body":"html")){var f=a.$.getBoundingClientRect();d.x=f.left;d.y=f.top}f=a.getWindow();f.equals(b)||(f=m(CKEDITOR.dom.element.get(f.$.frameElement),b),d.x+=f.x,d.y+=f.y);return d}function u(a,b){return parseInt(a.getComputedStyle("margin-"+b)||0,10)||0}!b&&(b=this.getWindow());e=b.getDocument();var l="BackCompat"==e.$.compatMode;b instanceof CKEDITOR.dom.window&&(b=l?e.getBody():e.getDocumentElement());
CKEDITOR.env.webkit&&(e=this.getEditor(!1))&&(e._.previousScrollTop=null);e=b.getWindow();c=m(this,e);var t=m(b,e),B=this.$.offsetHeight;a=this.$.offsetWidth;var w=b.$.clientHeight,v=b.$.clientWidth;e=c.x-u(this,"left")-t.x||0;h=c.y-u(this,"top")-t.y||0;a=c.x+a+u(this,"right")-(t.x+v)||0;c=c.y+B+u(this,"bottom")-(t.y+w)||0;(0>h||0<c)&&g(0,!0===d?h:!1===d?c:0>h?h:c);f&&(0>e||0<a)&&g(0>e?e:a,0)},setState:function(b,d,f){d=d||"cke";switch(b){case CKEDITOR.TRISTATE_ON:this.addClass(d+"_on");this.removeClass(d+
"_off");this.removeClass(d+"_disabled");f&&this.setAttribute("aria-pressed",!0);f&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(d+"_disabled");this.removeClass(d+"_off");this.removeClass(d+"_on");f&&this.setAttribute("aria-disabled",!0);f&&this.removeAttribute("aria-pressed");break;default:this.addClass(d+"_off"),this.removeClass(d+"_on"),this.removeClass(d+"_disabled"),f&&this.removeAttribute("aria-pressed"),f&&this.removeAttribute("aria-disabled")}},
getFrameDocument:function(){var b=this.$;try{b.contentWindow.document}catch(d){b.src=b.src}return b&&new CKEDITOR.dom.document(b.contentWindow.document)},copyAttributes:function(b,d){var f=this.$.attributes;d=d||{};for(var a=0;a<f.length;a++){var c=f[a],e=c.nodeName.toLowerCase(),h;if(!(e in d))if("checked"==e&&(h=this.getAttribute(e)))b.setAttribute(e,h);else if(!CKEDITOR.env.ie||this.hasAttribute(e))h=this.getAttribute(e),null===h&&(h=c.nodeValue),b.setAttribute(e,h)}""!==this.$.style.cssText&&
(b.$.style.cssText=this.$.style.cssText)},renameNode:function(b){if(this.getName()!=b){var d=this.getDocument();b=new CKEDITOR.dom.element(b,d);this.copyAttributes(b);this.moveChildren(b);this.getParent(!0)&&this.$.parentNode.replaceChild(b.$,this.$);b.$["data-cke-expando"]=this.$["data-cke-expando"];this.$=b.$;delete this.getName}},getChild:function(){function b(d,f){var a=d.childNodes;if(0<=f&&f<a.length)return a[f]}return function(d){var f=this.$;if(d.slice)for(d=d.slice();0<d.length&&f;)f=b(f,
d.shift());else f=b(f,d);return f?new CKEDITOR.dom.node(f):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function b(d){return d.type==CKEDITOR.NODE_ELEMENT&&d.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(d){d.data.getTarget().getAscendant(b,!0)||d.data.preventDefault()})},getDirection:function(b){return b?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||
"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(b,d){b="data-"+b;if(void 0===d)return this.getAttribute(b);!1===d?this.removeAttribute(b):this.setAttribute(b,d);return null},getEditor:function(b){var d=CKEDITOR.instances,f,a,c;b=b||void 0===b;for(f in d)if(a=d[f],a.element.equals(this)&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!b&&(c=a.editable())&&(c.equals(this)||c.contains(this)))return a;return null},find:function(b){var d=g(this);b=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e(this,
b)));d();return b},findOne:function(b){var d=g(this);b=this.$.querySelector(e(this,b));d();return b?new CKEDITOR.dom.element(b):null},forEach:function(b,d,f){if(!(f||d&&this.type!=d))var a=b(this);if(!1!==a){f=this.getChildren();for(var c=0;c<f.count();c++)a=f.getItem(c),a.type==CKEDITOR.NODE_ELEMENT?a.forEach(b,d):d&&a.type!=d||b(a)}},fireEventHandler:function(b,d){var f="on"+b,a=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){var c=a.ownerDocument.createEventObject(),e;for(e in d)c[e]=d[e];a.fireEvent(f,
c)}else a[a[b]?b:f](d)},isDetached:function(){var b=this.getDocument(),d=b.getDocumentElement();return d.equals(this)||d.contains(this)?!CKEDITOR.env.ie||8<CKEDITOR.env.version&&!CKEDITOR.env.quirks?!b.$.defaultView:!1:!0}});var l={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(c,d,f){"number"==typeof d&&(!f||CKEDITOR.env.ie&&CKEDITOR.env.quirks||
(d-=b.call(this,c)),this.setStyle(c,d+"px"))};CKEDITOR.dom.element.prototype.getSize=function(c,d){var f=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(c)],this.$["client"+CKEDITOR.tools.capitalize(c)])||0;d&&(f-=b.call(this,c));return f}})();CKEDITOR.dom.documentFragment=function(c){c=c||CKEDITOR.document;this.$=c.type==CKEDITOR.NODE_DOCUMENT?c.$.createDocumentFragment():c};CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,
insertAfterNode:function(c){c=c.$;c.parentNode.insertBefore(this.$,c.nextSibling)},getHtml:function(){var c=new CKEDITOR.dom.element("div");this.clone(1,1).appendTo(c);return c.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,
CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1});(function(){function c(a,b){var d=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(d.collapsed)return this.end(),null;d.optimize()}var f,c=d.startContainer;f=d.endContainer;var e=d.startOffset,n=d.endOffset,h,g=this.guard,v=this.type,m=a?"getPreviousSourceNode":"getNextSourceNode";if(!a&&!this._.guardLTR){var k=f.type==CKEDITOR.NODE_ELEMENT?f:f.getParent(),l=f.type==CKEDITOR.NODE_ELEMENT?f.getChild(n):f.getNext();this._.guardLTR=
function(a,b){return(!b||!k.equals(a))&&(!l||!a.equals(l))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(d.root))}}if(a&&!this._.guardRTL){var H=c.type==CKEDITOR.NODE_ELEMENT?c:c.getParent(),G=c.type==CKEDITOR.NODE_ELEMENT?e?c.getChild(e-1):null:c.getPrevious();this._.guardRTL=function(a,b){return(!b||!H.equals(a))&&(!G||!a.equals(G))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(d.root))}}var L=a?this._.guardRTL:this._.guardLTR;h=g?function(a,b){return!1===L(a,b)?!1:g(a,b)}:L;this.current?f=this.current[m](!1,
v,h):(a?f.type==CKEDITOR.NODE_ELEMENT&&(f=0<n?f.getChild(n-1):!1===h(f,!0)?null:f.getPreviousSourceNode(!0,v,h)):(f=c,f.type==CKEDITOR.NODE_ELEMENT&&((f=f.getChild(e))||(f=!1===h(c,!0)?null:c.getNextSourceNode(!0,v,h)))),f&&!1===h(f)&&(f=null));for(;f&&!this._.end;){this.current=f;if(!this.evaluator||!1!==this.evaluator(f)){if(!b)return f}else if(b&&this.evaluator)return!1;f=f[m](!1,v,h)}this.end();return this.current=null}function g(a){for(var b,d=null;b=c.call(this,a);)d=b;return d}CKEDITOR.dom.walker=
CKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return c.call(this)},previous:function(){return c.call(this,1)},checkForward:function(){return!1!==c.call(this,0,1)},checkBackward:function(){return!1!==c.call(this,1,1)},lastForward:function(){return g.call(this)},lastBackward:function(){return g.call(this,1)},reset:function(){delete this.current;this._={}}}});var e={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,
"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},b={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in b||!e[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=
function(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function d(a){return a&&a.getName&&"span"==a.getName()&&a.data("cke-bookmark")}return function(f){var c,e;c=f&&f.type!=CKEDITOR.NODE_ELEMENT&&(e=f.getParent())&&d(e);c=a?c:c||d(f);return!!(b^c)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var d;b&&b.type==CKEDITOR.NODE_TEXT&&(d=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);
return!!(a^d)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.env.webkit?1:0;return function(f){b(f)?f=1:(f.type==CKEDITOR.NODE_TEXT&&(f=f.getParent()),f=f.$.offsetWidth<=d);return!!(a^f)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(d){return!!(b^d.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!m(a)&&!l(a)}return function(d){var f=CKEDITOR.env.needsBrFiller?d.is&&d.is("br"):d.getText&&h.test(d.getText());f&&(f=d.getParent(),
d=d.getNext(b),f=f.isBlockBoundary()&&(!d||d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()));return!!(a^f)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute("data-cke-temp");return!!(a^b)}};var h=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,m=CKEDITOR.dom.walker.whitespaces(),l=CKEDITOR.dom.walker.bookmark(),k=CKEDITOR.dom.walker.temp(),d=function(a){return l(a)||m(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};
CKEDITOR.dom.walker.ignored=function(a){return function(b){b=m(b)||l(b)||k(b);return!!(a^b)}};var f=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var d=0,c=b.getChildCount();d<c;++d)if(!f(b.getChild(d)))return!!a;return!a}};var a=CKEDITOR.dom.walker.empty(),n=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},d;for(d in a)CKEDITOR.dtd[d]["#"]&&(b[d]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=
function(b){return function(d){d=f(d)?!1:d.type==CKEDITOR.NODE_TEXT||d.type==CKEDITOR.NODE_ELEMENT&&(d.is(CKEDITOR.dtd.$inline)||d.is("hr")||"false"==d.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&d.is(n)&&a(d))?!0:!1;return!!(b^d)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(d(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is("br"):a.getText&&h.test(a.getText()))?a:!1}})();CKEDITOR.dom.range=function(c){this.endOffset=this.endContainer=
this.startOffset=this.startContainer=null;this.collapsed=!0;var g=c instanceof CKEDITOR.dom.document;this.document=g?c:c.getDocument();this.root=g?c.getBody():c};(function(){function c(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function g(a,b,d,f,c){function e(a,b,d,f){var n=d?a.getPrevious():a.getNext();if(f&&m)return n;l||f?b.append(a.clone(!0,c),d):(a.remove(),k&&b.append(a,d));return n}function h(){var a,b,d,f=Math.min(K.length,
M.length);for(a=0;a<f;a++)if(b=K[a],d=M[a],!b.equals(d))return a;return a-1}function g(){var b=A-1,d=L&&E&&!v.equals(F);b<N-1||b<J-1||d?(d?a.moveToPosition(F,CKEDITOR.POSITION_BEFORE_START):J==b+1&&G?a.moveToPosition(M[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(M[b+1],CKEDITOR.POSITION_BEFORE_START),f&&(b=K[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(d=CKEDITOR.dom.element.createFromHtml('\x3cspan data-cke-bookmark\x3d"1" style\x3d"display:none"\x3e\x26nbsp;\x3c/span\x3e',a.document),d.insertAfter(b),
b.mergeSiblings(!1),a.moveToBookmark({startNode:d}))):a.collapse(!0)}a.optimizeBookmark();var m=0===b,k=1==b,l=2==b;b=l||k;var v=a.startContainer,F=a.endContainer,y=a.startOffset,C=a.endOffset,H,G,L,E,D,O;if(l&&F.type==CKEDITOR.NODE_TEXT&&(v.equals(F)||v.type===CKEDITOR.NODE_ELEMENT&&v.getFirst().equals(F)))d.append(a.document.createText(F.substring(y,C)));else{F.type==CKEDITOR.NODE_TEXT?l?O=!0:F=F.split(C):0<F.getChildCount()?C>=F.getChildCount()?(F=F.getChild(C-1),G=!0):F=F.getChild(C):E=G=!0;v.type==
CKEDITOR.NODE_TEXT?l?D=!0:v.split(y):0<v.getChildCount()?0===y?(v=v.getChild(y),H=!0):v=v.getChild(y-1):L=H=!0;for(var K=v.getParents(),M=F.getParents(),A=h(),N=K.length-1,J=M.length-1,I=d,ea,U,Y,ha=-1,W=A;W<=N;W++){U=K[W];Y=U.getNext();for(W!=N||U.equals(M[W])&&N<J?b&&(ea=I.append(U.clone(0,c))):H?e(U,I,!1,L):D&&I.append(a.document.createText(U.substring(y)));Y;){if(Y.equals(M[W])){ha=W;break}Y=e(Y,I)}I=ea}I=d;for(W=A;W<=J;W++)if(d=M[W],Y=d.getPrevious(),d.equals(K[W]))b&&(I=I.getChild(0));else{W!=
J||d.equals(K[W])&&J<N?b&&(ea=I.append(d.clone(0,c))):G?e(d,I,!1,E):O&&I.append(a.document.createText(d.substring(0,C)));if(W>ha)for(;Y;)Y=e(Y,I,!0);I=ea}l||g()}}function e(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(!0),f=CKEDITOR.dom.walker.bogus();return function(c){return d(c)||b(c)?!0:f(c)&&!a?a=!0:c.type==CKEDITOR.NODE_TEXT&&(c.hasAscendant("pre")||CKEDITOR.tools.trim(c.getText()).length)||c.type==CKEDITOR.NODE_ELEMENT&&!c.is(m)?!1:!0}}function b(a){var b=CKEDITOR.dom.walker.whitespaces(),
d=CKEDITOR.dom.walker.bookmark(1);return function(f){return d(f)||b(f)?!0:!a&&l(f)||f.type==CKEDITOR.NODE_ELEMENT&&f.is(CKEDITOR.dtd.$removeEmpty)}}function h(a){return function(){var b;return this[a?"getPreviousNode":"getNextNode"](function(a){!b&&f(a)&&(b=a);return d(a)&&!(l(a)&&a.equals(b))})}}var m={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},l=CKEDITOR.dom.walker.bogus(),
k=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,d=CKEDITOR.dom.walker.editable(),f=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),
this.startOffset=this.endOffset);this.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||g(this,2,b,!1,"undefined"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||g(this,0,null,a)},extractContents:function(a,b){var d=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||g(this,1,d,a,"undefined"==typeof b?!0:b);return d},equals:function(a){return this.startOffset===a.startOffset&&this.endOffset===a.endOffset&&
this.startContainer.equals(a.startContainer)&&this.endContainer.equals(a.endContainer)},createBookmark:function(a){function b(a){return a.getAscendant(function(a){var b;if(b=a.data&&a.data("cke-temp"))b=-1===CKEDITOR.tools.array.indexOf(["cke_copybin","cke_pastebin"],a.getAttribute("id"));return b},!0)}var d=this.startContainer,f=this.endContainer,c=this.collapsed,e,h,g,m;e=this.document.createElement("span");e.data("cke-bookmark",1);e.setStyle("display","none");e.setHtml("\x26nbsp;");a&&(g="cke_bm_"+
CKEDITOR.tools.getNextNumber(),e.setAttribute("id",g+(c?"C":"S")));c||(h=e.clone(),h.setHtml("\x26nbsp;"),a&&h.setAttribute("id",g+"E"),m=this.clone(),b(f)&&(f=b(f),m.moveToPosition(f,CKEDITOR.POSITION_AFTER_END)),m.collapse(),m.insertNode(h));m=this.clone();b(d)&&(f=b(d),m.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START));m.collapse(!0);m.insertNode(e);h?(this.setStartAfter(e),this.setEndBefore(h)):this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END);return{startNode:a?g+(c?"C":"S"):e,endNode:a?g+
"E":h,serializable:a,collapsed:c}},createBookmark2:function(){function a(a){var b=a.container,f=a.offset,c;c=b;var e=f;c=c.type!=CKEDITOR.NODE_ELEMENT||0===e||e==c.getChildCount()?0:c.getChild(e-1).type==CKEDITOR.NODE_TEXT&&c.getChild(e).type==CKEDITOR.NODE_TEXT;c&&(b=b.getChild(f-1),f=b.getLength());if(b.type==CKEDITOR.NODE_ELEMENT&&0<f){a:{for(c=b;f--;)if(e=c.getChild(f).getIndex(!0),0<=e){f=e;break a}f=-1}f+=1}if(b.type==CKEDITOR.NODE_TEXT){c=b;for(e=0;(c=c.getPrevious())&&c.type==CKEDITOR.NODE_TEXT;)e+=
c.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;c=e;b.isEmpty()?(e=b.getPrevious(d),c?(f=c,b=e?e.getNext():b.getParent().getFirst()):(b=b.getParent(),f=e?e.getIndex(!0)+1:0)):f+=c}a.container=b;a.offset=f}function b(a,d){var f=d.getCustomData("cke-fillingChar");if(f){var c=a.container;f.equals(c)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=c.getIndex(),a.container=c.getParent()))}}var d=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,
!0);return function(d){var f=this.collapsed,c={container:this.startContainer,offset:this.startOffset},e={container:this.endContainer,offset:this.endOffset};d&&(a(c),b(c,this.root),f||(a(e),b(e,this.root)));return{start:c.container.getAddress(d),end:f?null:e.container.getAddress(d),startOffset:c.offset,endOffset:e.offset,normalized:d,collapsed:f,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),d=a.startOffset,f=a.end&&this.document.getByAddress(a.end,
a.normalized);a=a.endOffset;this.setStart(b,d);f?this.setEnd(f,a):this.collapse(!0)}else b=(d=a.serializable)?this.document.getById(a.startNode):a.startNode,a=d?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,d=this.startOffset,f=this.endOffset,c;if(a.type==CKEDITOR.NODE_ELEMENT)if(c=a.getChildCount(),c>d)a=a.getChild(d);else if(1>c)a=a.getPreviousSourceNode();
else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(c=b.getChildCount(),c>f)b=b.getChild(f).getPreviousSourceNode(!0);else if(1>c)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var d=this.startContainer,f=this.endContainer,d=d.equals(f)?a&&d.type==CKEDITOR.NODE_ELEMENT&&
this.startOffset==this.endOffset-1?d.getChild(this.startOffset):d:d.getCommonAncestor(f);return b&&!d.is?d.getParent():d},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is("span")&&
a.data("cke-bookmark")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&b.is&&b.is("span")&&b.data("cke-bookmark")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var d=this.startContainer,f=this.startOffset,c=this.collapsed;if((!a||c)&&d&&d.type==CKEDITOR.NODE_TEXT){if(f)if(f>=d.getLength())f=d.getIndex()+1,d=d.getParent();else{var e=d.split(f),f=d.getIndex()+1,d=d.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(e,this.endOffset-this.startOffset):d.equals(this.endContainer)&&
(this.endOffset+=1)}else f=d.getIndex(),d=d.getParent();this.setStart(d,f);if(c){this.collapse(!0);return}}d=this.endContainer;f=this.endOffset;b||c||!d||d.type!=CKEDITOR.NODE_TEXT||(f?(f>=d.getLength()||d.split(f),f=d.getIndex()+1):f=d.getIndex(),d=d.getParent(),this.setEnd(d,f))},enlarge:function(a,b){function d(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")?null:a}var f=new RegExp(/[^\s\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var c=1;case CKEDITOR.ENLARGE_ELEMENT:var e=
function(a,b){var d=new CKEDITOR.dom.range(g);d.setStart(a,b);d.setEndAt(g,CKEDITOR.POSITION_BEFORE_END);var d=new CKEDITOR.dom.walker(d),c;for(d.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};c=d.next();){if(c.type!=CKEDITOR.NODE_TEXT)return!1;H=c!=a?c.getText():c.substring(b);if(f.test(H))return!1}return!0};if(this.collapsed)break;var h=this.getCommonAncestor(),g=this.root,m,k,l,v,F,y=!1,C,H;C=this.startContainer;var G=this.startOffset;C.type==CKEDITOR.NODE_TEXT?
(G&&(C=!CKEDITOR.tools.trim(C.substring(0,G)).length&&C,y=!!C),C&&((v=C.getPrevious())||(l=C.getParent()))):(G&&(v=C.getChild(G-1)||C.getLast()),v||(l=C));for(l=d(l);l||v;){if(l&&!v){!F&&l.equals(h)&&(F=!0);if(c?l.isBlockBoundary():!g.contains(l))break;y&&"inline"==l.getComputedStyle("display")||(y=!1,F?m=l:this.setStartBefore(l));v=l.getPrevious()}for(;v;)if(C=!1,v.type==CKEDITOR.NODE_COMMENT)v=v.getPrevious();else{if(v.type==CKEDITOR.NODE_TEXT)H=v.getText(),f.test(H)&&(v=null),C=/[\s\ufeff]$/.test(H);
else if((v.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||b&&v.is("br"))&&!v.data("cke-bookmark"))if(y&&CKEDITOR.dtd.$removeEmpty[v.getName()]){H=v.getText();if(f.test(H))v=null;else for(var G=v.$.getElementsByTagName("*"),L=0,E;E=G[L++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){v=null;break}v&&(C=!!H.length)}else v=null;C&&(y?F?m=l:l&&this.setStartBefore(l):y=!0);if(v){C=v.getPrevious();if(!l&&!C){l=v;v=null;break}v=C}else l=null}l&&(l=d(l.getParent()))}C=this.endContainer;G=this.endOffset;
l=v=null;F=y=!1;C.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(C.substring(G)).length?y=!0:(y=!C.getLength(),G==C.getLength()?(v=C.getNext())||(l=C.getParent()):e(C,G)&&(l=C.getParent())):(v=C.getChild(G))||(l=C);for(;l||v;){if(l&&!v){!F&&l.equals(h)&&(F=!0);if(c?l.isBlockBoundary():!g.contains(l))break;y&&"inline"==l.getComputedStyle("display")||(y=!1,F?k=l:l&&this.setEndAfter(l));v=l.getNext()}for(;v;){C=!1;if(v.type==CKEDITOR.NODE_TEXT)H=v.getText(),e(v,0)||(v=null),C=/^[\s\ufeff]/.test(H);else if(v.type==
CKEDITOR.NODE_ELEMENT){if((0<v.$.offsetWidth||b&&v.is("br"))&&!v.data("cke-bookmark"))if(y&&CKEDITOR.dtd.$removeEmpty[v.getName()]){H=v.getText();if(f.test(H))v=null;else for(G=v.$.getElementsByTagName("*"),L=0;E=G[L++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){v=null;break}v&&(C=!!H.length)}else v=null}else C=1;C&&y&&(F?k=l:this.setEndAfter(l));if(v){C=v.getNext();if(!l&&!C){l=v;v=null;break}v=C}else l=null}l&&(l=d(l.getParent()))}m&&k&&(h=m.contains(k)?k:m,this.setStartBefore(h),
this.setEndAfter(h));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root);g=this.root;l.setStartAt(g,CKEDITOR.POSITION_AFTER_START);l.setEnd(this.startContainer,this.startOffset);l=new CKEDITOR.dom.walker(l);var D,O,K=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),M=null,A=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&"false"==a.getAttribute("contenteditable"))if(M){if(M.equals(a)){M=null;return}}else M=
a;else if(M)return;var b=K(a);b||(D=a);return b},c=function(a){var b=A(a);!b&&a.is&&a.is("br")&&(O=a);return b};l.guard=A;l=l.lastBackward();D=D||g;this.setStartAt(D,!D.is("br")&&(!l&&this.checkStartOfBlock()||l&&D.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone();l=new CKEDITOR.dom.walker(l);var N=CKEDITOR.dom.walker.whitespaces(),J=CKEDITOR.dom.walker.bookmark();l.evaluator=function(a){return!N(a)&&!J(a)};if((l=l.previous())&&
l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}l=this.clone();l.collapse();l.setEndAt(g,CKEDITOR.POSITION_BEFORE_END);l=new CKEDITOR.dom.walker(l);l.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?c:A;D=M=O=null;l=l.lastForward();D=D||g;this.setEndAt(D,!l&&this.checkEndOfBlock()||l&&D.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);O&&this.setEndAfter(O)}},shrink:function(a,b,d){var f="boolean"===typeof d?d:d&&"boolean"===typeof d.shrinkOnBlockBoundary?d.shrinkOnBlockBoundary:
!0,c=d&&d.skipBogus;if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var e=this.clone(),h=this.startContainer,g=this.endContainer,l=this.startOffset,m=this.endOffset,k=d=1;h&&h.type==CKEDITOR.NODE_TEXT&&(l?l>=h.getLength()?e.setStartAfter(h):(e.setStartBefore(h),d=0):e.setStartBefore(h));g&&g.type==CKEDITOR.NODE_TEXT&&(m?m>=g.getLength()?e.setEndAfter(g):(e.setEndAfter(g),k=0):e.setEndBefore(g));var e=new CKEDITOR.dom.walker(e),v=CKEDITOR.dom.walker.bookmark(),F=CKEDITOR.dom.walker.bogus();e.evaluator=
function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var y;e.guard=function(b,d){if(c&&F(b)||v(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||d&&b.equals(y)||!1===f&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute("contenteditable"))return!1;d||b.type!=CKEDITOR.NODE_ELEMENT||(y=b);return!0};d&&(h=e[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(h,b?CKEDITOR.POSITION_AFTER_START:
CKEDITOR.POSITION_BEFORE_START);k&&(e.reset(),(e=e[a==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(e,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!d&&!k)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,d=b.getChild(this.startOffset);d?a.insertBefore(d):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,
b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(a,b){a.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[a.getName()]&&(b=a.getIndex(),a=a.getParent());this._setStartContainer(a);this.startOffset=b;this.endContainer||(this._setEndContainer(a),this.endOffset=b);c(this)},setEnd:function(a,
b){a.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[a.getName()]&&(b=a.getIndex()+1,a=a.getParent());this._setEndContainer(a);this.endOffset=b;this.startContainer||(this._setStartContainer(a),this.startOffset=b);c(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(a,
b){switch(b){case CKEDITOR.POSITION_AFTER_START:this.setStart(a,0);break;case CKEDITOR.POSITION_BEFORE_END:a.type==CKEDITOR.NODE_TEXT?this.setStart(a,a.getLength()):this.setStart(a,a.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(a);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(a)}c(this)},setEndAt:function(a,b){switch(b){case CKEDITOR.POSITION_AFTER_START:this.setEnd(a,0);break;case CKEDITOR.POSITION_BEFORE_END:a.type==CKEDITOR.NODE_TEXT?this.setEnd(a,
a.getLength()):this.setEnd(a,a.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(a);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(a)}c(this)},fixBlock:function(a,b){var d=this.createBookmark(),f=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(f);f.trim();this.insertNode(f);var c=f.getBogus();c&&c.remove();f.appendBogus();this.moveToBookmark(d);return f},splitBlock:function(a,b){var d=
new CKEDITOR.dom.elementPath(this.startContainer,this.root),f=new CKEDITOR.dom.elementPath(this.endContainer,this.root),c=d.block,e=f.block,h=null;if(!d.blockLimit.equals(f.blockLimit))return null;"br"!=a&&(c||(c=this.fixBlock(!0,a),e=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block),e||(e=this.fixBlock(!1,a)));d=c&&this.checkStartOfBlock();f=e&&this.checkEndOfBlock();this.deleteContents();c&&c.equals(e)&&(f?(h=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(e,
CKEDITOR.POSITION_AFTER_END),e=null):d?(h=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START),c=null):(e=this.splitElement(c,b||!1),c.is("ul","ol")||c.appendBogus()));return{previousBlock:c,nextBlock:e,wasStartOfBlock:d,wasEndOfBlock:f,elementPath:h}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var d=this.extractContents(!1,b||!1),f=a.clone(!1,b||!1);d.appendTo(f);f.insertAfter(a);
this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return f},removeEmptyBlocksAtEnd:function(){function a(a){return function(f){return b(f)||d(f)||f.type==CKEDITOR.NODE_ELEMENT&&f.isEmptyInlineRemoveable()||a.is("table")&&f.is("caption")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var d=this.createBookmark(),f=this[b?"endPath":"startPath"](),c=f.block||f.blockLimit,e;c&&!c.equals(f.root)&&!c.getFirst(a(c));)e=c.getParent(),this[b?"setEndAt":
"setStartAt"](c,CKEDITOR.POSITION_AFTER_END),c.remove(1),c=e;this.moveToBookmark(d)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,d){var f=d==CKEDITOR.START,c=this.clone();c.collapse(f);c[f?"setStartAt":"setEndAt"](a,f?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(c);c.evaluator=b(f);return c[f?
"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var a=this.startContainer,b=this.startOffset;CKEDITOR.env.ie&&b&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,b)),k.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,this.root);b=this.clone();b.collapse(!0);b.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(b);a.evaluator=e();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,
b=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(b)),k.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);b=this.clone();b.collapse(!1);b.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);a=new CKEDITOR.dom.walker(b);a.evaluator=e();return a.checkForward()},getPreviousNode:function(a,b,d){var f=this.clone();f.collapse(1);f.setStartAt(d||this.root,CKEDITOR.POSITION_AFTER_START);d=new CKEDITOR.dom.walker(f);
d.evaluator=a;d.guard=b;return d.previous()},getNextNode:function(a,b,d){var f=this.clone();f.collapse();f.setEndAt(d||this.root,CKEDITOR.POSITION_BEFORE_END);d=new CKEDITOR.dom.walker(f);d.evaluator=a;d.guard=b;return d.next()},checkReadOnly:function(){function a(a,b){for(;a;){if(a.type==CKEDITOR.NODE_ELEMENT){if("false"==a.getAttribute("contentEditable")&&!a.data("cke-editable"))return 0;if(a.is("html")||"true"==a.getAttribute("contentEditable")&&(a.contains(b)||a.equals(b)))break}a=a.getParent()}return 1}
return function(){var b=this.startContainer,d=this.endContainer;return!(a(b,d)&&a(d,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var d=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&k.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:
CKEDITOR.POSITION_BEFORE_START);d=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),d=1;else if(b&&a.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);else if("false"==a.getAttribute("contenteditable")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var c=a,e=d,h=void 0;c.type==CKEDITOR.NODE_ELEMENT&&c.isEditable(!1)&&
(h=c[b?"getLast":"getFirst"](f));e||h||(h=c[b?"getPrevious":"getNext"](f));a=h}return!!d},moveToClosestEditablePosition:function(a,b){var d,f=0,c,e,h=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(d=new CKEDITOR.dom.range(this.root),d.moveToPosition(a,h[b?0:1])):d=this.clone();if(a&&!a.is(CKEDITOR.dtd.$block))f=1;else if(c=d[b?"getNextEditableNode":"getPreviousEditableNode"]())f=1,(e=c.type==CKEDITOR.NODE_ELEMENT)&&c.is(CKEDITOR.dtd.$block)&&"false"==c.getAttribute("contenteditable")?
(d.setStartAt(c,CKEDITOR.POSITION_BEFORE_START),d.setEndAt(c,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&e&&c.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(d.setEnd(c,0),d.collapse()):d.moveToPosition(c,h[b?1:0]);f&&this.moveToRange(d);return!!f},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=
CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),d=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return d(a)&&b(a)};var f=a.next();a.reset();return f&&f.equals(a.previous())?f:null},getTouchedStartNode:function(){var a=this.startContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||
a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:h(),getPreviousEditableNode:h(1),_getTableElement:function(a){a=a||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var b=this.getTouchedStartNode(),d=this.getTouchedEndNode(),f=b.getAscendant("table",!0),d=d.getAscendant("table",!0);return f&&!this.root.contains(f)?null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(a,!0):f&&d&&(f.equals(d)||f.contains(d)||d.contains(f))?b.getAscendant(a,!0):null},scrollIntoView:function(){var a=
new CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",this.document),b,d,f,c=this.clone();c.optimize();(f=c.startContainer.type==CKEDITOR.NODE_TEXT)?(d=c.startContainer.getText(),b=c.startContainer.split(c.startOffset),a.insertAfter(c.startContainer)):c.insertNode(a);a.scrollIntoView();f&&(c.startContainer.setText(d),b.remove());a.remove()},getClientRects:function(){function a(a,b){var d=CKEDITOR.tools.array.map(a,function(a){return a}),f=new CKEDITOR.dom.range(b.root),c,e,
h;b.startContainer instanceof CKEDITOR.dom.element&&(e=0===b.startOffset&&b.startContainer.hasAttribute("data-widget"));b.endContainer instanceof CKEDITOR.dom.element&&(h=(h=b.endOffset===(b.endContainer.getChildCount?b.endContainer.getChildCount():b.endContainer.length))&&b.endContainer.hasAttribute("data-widget"));e&&f.setStart(b.startContainer.getParent(),b.startContainer.getIndex());h&&f.setEnd(b.endContainer.getParent(),b.endContainer.getIndex()+1);if(e||h)b=f;f=b.cloneContents().find("[data-cke-widget-id]").toArray();
if(f=CKEDITOR.tools.array.map(f,function(a){var d=b.root.editor;a=a.getAttribute("data-cke-widget-id");return d.widgets.instances[a].element}))return f=CKEDITOR.tools.array.map(f,function(a){var b;b=a.getParent().hasClass("cke_widget_wrapper")?a.getParent():a;c=this.root.getDocument().$.createRange();c.setStart(b.getParent().$,b.getIndex());c.setEnd(b.getParent().$,b.getIndex()+1);b=c.getClientRects();b.widgetRect=a.getClientRect();return b},b),CKEDITOR.tools.array.forEach(f,function(a){function b(c){CKEDITOR.tools.array.forEach(d,
function(b,e){var h=CKEDITOR.tools.objectCompare(a[c],b);h||(h=CKEDITOR.tools.objectCompare(a.widgetRect,b));h&&(Array.prototype.splice.call(d,e,a.length-c,a.widgetRect),f=!0)});f||(c<d.length-1?b(c+1):d.push(a.widgetRect))}var f;b(0)}),d}function b(a,d,c){var e;d.collapsed?c.startContainer instanceof CKEDITOR.dom.element?(a=c.checkStartOfBlock(),e=new CKEDITOR.dom.text("​"),a?c.startContainer.append(e,!0):0===c.startOffset?e.insertBefore(c.startContainer.getFirst()):(c=c.startContainer.getChildren().getItem(c.startOffset-
1),e.insertAfter(c)),d.setStart(e.$,0),d.setEnd(e.$,0),a=d.getClientRects(),e.remove()):c.startContainer instanceof CKEDITOR.dom.text&&(""===c.startContainer.getText()?(c.startContainer.setText("​"),a=d.getClientRects(),c.startContainer.setText("")):a=[f(c.createBookmark())]):a=[f(c.createBookmark())];return a}function d(a,b,f){a=CKEDITOR.tools.extend({},a);b&&(a=CKEDITOR.tools.getAbsoluteRectPosition(f.document.getWindow(),a));!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);
return a}function f(a){var b=a.startNode;a=a.endNode;var d;b.setText("​");b.removeStyle("display");a?(a.setText("​"),a.removeStyle("display"),d=[b.getClientRect(),a.getClientRect()],a.remove()):d=[b.getClientRect(),b.getClientRect()];b.remove();return{right:Math.max(d[0].right,d[1].right),bottom:Math.max(d[0].bottom,d[1].bottom),left:Math.min(d[0].left,d[1].left),top:Math.min(d[0].top,d[1].top),width:Math.abs(d[0].left-d[1].left),height:Math.max(d[0].bottom,d[1].bottom)-Math.min(d[0].top,d[1].top)}}
return void 0!==this.document.getSelection?function(f){var c=this.root.getDocument().$.createRange(),e;c.setStart(this.startContainer.$,this.startOffset);c.setEnd(this.endContainer.$,this.endOffset);e=c.getClientRects();e=a(e,this);e.length||(e=b(e,c,this));return CKEDITOR.tools.array.map(e,function(a){return d(a,f,this)},this)}:function(a){return[d(f(this.createBookmark()),a,this)]}}(),_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,
b){var d=this.getCommonAncestor(),f=this.getBoundaryNodes(),c=[],e,h,g,l;if(d&&d.find)for(h=d.find(a),e=0;e<h.count();e++)if(d=h.getItem(e),b||!d.isReadOnly())g=d.getPosition(f.startNode)&CKEDITOR.POSITION_FOLLOWING||f.startNode.equals(d),l=d.getPosition(f.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||f.endNode.equals(d),g&&l&&c.push(d);return c}};CKEDITOR.dom.range.mergeRanges=function(a){return CKEDITOR.tools.array.reduce(a,function(a,b){var d=a[a.length-1],f=!1;b=b.clone();
b.enlarge(CKEDITOR.ENLARGE_ELEMENT);if(d){var c=new CKEDITOR.dom.range(b.root),f=new CKEDITOR.dom.walker(c),e=CKEDITOR.dom.walker.whitespaces();c.setStart(d.endContainer,d.endOffset);c.setEnd(b.startContainer,b.startOffset);for(c=f.next();e(c)||b.endContainer.equals(c);)c=f.next();f=!c}f?d.setEnd(b.endContainer,b.endOffset):a.push(b);return a},[])}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=
1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.ENLARGE_INLINE=4;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.SHRINK_ELEMENT=1;CKEDITOR.SHRINK_TEXT=2;"use strict";(function(){function c(b){1>arguments.length||(this.range=b,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function g(b){var a=[];b.forEach(function(b){if("true"==b.getAttribute("contenteditable"))return a.push(b),!1},CKEDITOR.NODE_ELEMENT,!0);return a}function e(b,a,d,c){a:{null==
c&&(c=g(d));for(var h;h=c.shift();)if(h.getDtd().p){c={element:h,remaining:c};break a}c=null}if(!c)return 0;if((h=CKEDITOR.filter.instances[c.element.data("cke-filter")])&&!h.check(a))return e(b,a,d,c.remaining);a=new CKEDITOR.dom.range(c.element);a.selectNodeContents(c.element);a=a.createIterator();a.enlargeBr=b.enlargeBr;a.enforceRealBlocks=b.enforceRealBlocks;a.activeFilter=a.filter=h;b._.nestedEditable={element:c.element,container:d,remaining:c.remaining,iterator:a};return 1}function b(b,a,d){if(!a)return!1;
b=b.clone();b.collapse(!d);return b.checkBoundaryOfElement(a,d?CKEDITOR.START:CKEDITOR.END)}var h=/^[\r\n\t ]+$/,m=CKEDITOR.dom.walker.bookmark(!1,!0),l=CKEDITOR.dom.walker.whitespaces(!0),k=function(b){return m(b)&&l(b)},d={dd:1,dt:1,li:1};c.prototype={getNextParagraph:function(f){var a,c,g,l,p;f=f||"p";if(this._.nestedEditable){if(a=this._.nestedEditable.iterator.getNextParagraph(f))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,a;this.activeFilter=this.filter;if(e(this,f,
this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(f);this._.nestedEditable=null}if(!this.range.root.getDtd()[f])return null;if(!this._.started){var q=this.range.clone();c=q.startPath();var u=q.endPath(),z=!q.collapsed&&b(q,c.block),t=!q.collapsed&&b(q,u.block,1);q.shrink(CKEDITOR.SHRINK_ELEMENT,!0);z&&q.setStartAt(c.block,CKEDITOR.POSITION_BEFORE_END);t&&q.setEndAt(u.block,
CKEDITOR.POSITION_AFTER_START);c=q.endContainer.hasAscendant("pre",!0)||q.startContainer.hasAscendant("pre",!0);q.enlarge(this.forceBrBreak&&!c||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);q.collapsed||(c=new CKEDITOR.dom.walker(q.clone()),u=CKEDITOR.dom.walker.bookmark(!0,!0),c.evaluator=u,this._.nextNode=c.next(),c=new CKEDITOR.dom.walker(q.clone()),c.evaluator=u,c=c.previous(),this._.lastNode=c.getNextSourceNode(!0,null,q.root),this._.lastNode&&this._.lastNode.type==
CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(u=this.range.clone(),u.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),u.checkEndOfBlock()&&(u=new CKEDITOR.dom.elementPath(u.endContainer,u.root),this._.lastNode=(u.block||u.blockLimit).getNextSourceNode(!0))),this._.lastNode&&q.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=q.document.createText(""),this._.lastNode.insertAfter(c)),q=null);this._.started=
1;c=q}u=this._.nextNode;q=this._.lastNode;for(this._.nextNode=null;u;){var z=0,t=u.hasAscendant("pre"),B=u.type!=CKEDITOR.NODE_ELEMENT,w=0;if(B)u.type==CKEDITOR.NODE_TEXT&&h.test(u.getText())&&(B=0);else{var v=u.getName();if(CKEDITOR.dtd.$block[v]&&"false"==u.getAttribute("contenteditable")){a=u;e(this,f,a);break}else if(u.isBlockBoundary(this.forceBrBreak&&!t&&{br:1})){if("br"==v)B=1;else if(!c&&!u.getChildCount()&&"hr"!=v){a=u;g=u.equals(q);break}c&&(c.setEndAt(u,CKEDITOR.POSITION_BEFORE_START),
"br"!=v&&(this._.nextNode=u));z=1}else{if(u.getFirst()){c||(c=this.range.clone(),c.setStartAt(u,CKEDITOR.POSITION_BEFORE_START));u=u.getFirst();continue}B=1}}B&&!c&&(c=this.range.clone(),c.setStartAt(u,CKEDITOR.POSITION_BEFORE_START));g=(!z||B)&&u.equals(q);if(c&&!z)for(;!u.getNext(k)&&!g;){v=u.getParent();if(v.isBlockBoundary(this.forceBrBreak&&!t&&{br:1})){z=1;B=0;g||v.equals(q);c.setEndAt(v,CKEDITOR.POSITION_BEFORE_END);break}u=v;B=1;g=u.equals(q);w=1}B&&c.setEndAt(u,CKEDITOR.POSITION_AFTER_END);
u=this._getNextSourceNode(u,w,q);if((g=!u)||z&&c)break}if(!a){if(!c)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;a=new CKEDITOR.dom.elementPath(c.startContainer,c.root);u=a.blockLimit;z={div:1,th:1,td:1};a=a.block;!a&&u&&!this.enforceRealBlocks&&z[u.getName()]&&c.checkStartOfBlock()&&c.checkEndOfBlock()&&!u.equals(c.root)?a=u:!a||this.enforceRealBlocks&&a.is(d)?(a=this.range.document.createElement(f),c.extractContents().appendTo(a),a.trim(),c.insertNode(a),l=p=!0):
"li"!=a.getName()?c.checkStartOfBlock()&&c.checkEndOfBlock()||(a=a.clone(!1),c.extractContents().appendTo(a),a.trim(),p=c.splitBlock(),l=!p.wasStartOfBlock,p=!p.wasEndOfBlock,c.insertNode(a)):g||(this._.nextNode=a.equals(q)?null:this._getNextSourceNode(c.getBoundaryNodes().endNode,1,q))}l&&(l=a.getPrevious())&&l.type==CKEDITOR.NODE_ELEMENT&&("br"==l.getName()?l.remove():l.getLast()&&"br"==l.getLast().$.nodeName.toLowerCase()&&l.getLast().remove());p&&(l=a.getLast())&&l.type==CKEDITOR.NODE_ELEMENT&&
"br"==l.getName()&&(!CKEDITOR.env.needsBrFiller||l.getPrevious(m)||l.getNext(m))&&l.remove();this._.nextNode||(this._.nextNode=g||a.equals(q)||!q?null:this._getNextSourceNode(a,1,q));return a},_getNextSourceNode:function(b,a,d){function c(a){return!(a.equals(d)||a.equals(e))}var e=this.range.root;for(b=b.getNextSourceNode(a,null,c);!m(b);)b=b.getNextSourceNode(a,null,c);return b}};CKEDITOR.dom.range.prototype.createIterator=function(){return new c(this)}})();CKEDITOR.command=function(c,g){this.uiItems=
[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&c.focus();return!1===this.fire("exec")?!0:!1!==g.exec.call(this,c,b)};this.refresh=function(b,c){if(!this.readOnly&&b.readOnly)return!0;if(this.context&&!c.isContextFor(this.context)||!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[b.mode]&&this.disable();return!1===this.fire("refresh",{editor:b,path:c})?!0:g.refresh&&!1!==g.refresh.apply(this,
arguments)};var e;this.checkAllowed=function(b){return b||"boolean"!=typeof e?e=c.activeFilter.checkFeature(this):e};CKEDITOR.tools.extend(this,g,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!g.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)};CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},
setState:function(c){if(this.state==c||c!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=c;this.fire("state");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.event.implementOn(CKEDITOR.command.prototype);CKEDITOR.ENTER_P=1;CKEDITOR.ENTER_BR=2;CKEDITOR.ENTER_DIV=3;CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,
language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"\x3c!DOCTYPE html\x3e",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]};(function(){function c(a,b,d,f,c){var e,h;a=[];for(e in b){h=b[e];h="boolean"==
typeof h?{}:"function"==typeof h?{match:h}:L(h);"$"!=e.charAt(0)&&(h.elements=e);d&&(h.featureName=d.toLowerCase());var n=h;n.elements=l(n.elements,/\s+/)||null;n.propertiesOnly=n.propertiesOnly||!0===n.elements;var g=/\s*,\s*/,A=void 0;for(A in O){n[A]=l(n[A],g)||null;var m=n,k=K[A],v=l(n[K[A]],g),J=n[A],u=[],N=!0,E=void 0;v?N=!1:v={};for(E in J)"!"==E.charAt(0)&&(E=E.slice(1),u.push(E),v[E]=!0,N=!1);for(;E=u.pop();)J[E]=J["!"+E],delete J["!"+E];m[k]=(N?!1:v)||null}n.match=n.match||null;f.push(h);
a.push(h)}b=c.elements;c=c.generic;var r;d=0;for(f=a.length;d<f;++d){e=L(a[d]);h=!0===e.classes||!0===e.styles||!0===e.attributes;n=e;A=k=g=void 0;for(g in O)n[g]=z(n[g]);m=!0;for(A in K){g=K[A];k=n[g];v=[];J=void 0;for(J in k)-1<J.indexOf("*")?v.push(new RegExp("^"+J.replace(/\*/g,".*")+"$")):v.push(J);k=v;k.length&&(n[g]=k,m=!1)}n.nothingRequired=m;n.noProperties=!(n.attributes||n.classes||n.styles);if(!0===e.elements||null===e.elements)c[h?"unshift":"push"](e);else for(r in n=e.elements,delete e.elements,
n)if(b[r])b[r][h?"unshift":"push"](e);else b[r]=[e]}}function g(a,b,d,f){if(!a.match||a.match(b))if(f||k(a,b))if(a.propertiesOnly||(d.valid=!0),d.allAttributes||(d.allAttributes=e(a.attributes,b.attributes,d.validAttributes)),d.allStyles||(d.allStyles=e(a.styles,b.styles,d.validStyles)),!d.allClasses){a=a.classes;b=b.classes;f=d.validClasses;if(a)if(!0===a)a=!0;else{for(var c=0,h=b.length,n;c<h;++c)n=b[c],f[n]||(f[n]=a(n));a=!1}else a=!1;d.allClasses=a}}function e(a,b,d){if(!a)return!1;if(!0===a)return!0;
for(var f in b)d[f]||(d[f]=a(f));return!1}function b(a,b,d){if(!a.match||a.match(b)){if(a.noProperties)return!1;d.hadInvalidAttribute=h(a.attributes,b.attributes)||d.hadInvalidAttribute;d.hadInvalidStyle=h(a.styles,b.styles)||d.hadInvalidStyle;a=a.classes;b=b.classes;if(a){for(var f=!1,c=!0===a,e=b.length;e--;)if(c||a(b[e]))b.splice(e,1),f=!0;a=f}else a=!1;d.hadInvalidClass=a||d.hadInvalidClass}}function h(a,b){if(!a)return!1;var d=!1,f=!0===a,c;for(c in b)if(f||a(c))delete b[c],d=!0;return d}function m(a,
b,d){if(a.disabled||a.customConfig&&!d||!b)return!1;a._.cachedChecks={};return!0}function l(a,b){if(!a)return!1;if(!0===a)return a;if("string"==typeof a)return a=E(a),"*"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?CKEDITOR.tools.convertArrayToObject(a):!1;var d={},f=0,c;for(c in a)d[c]=a[c],f++;return f?d:!1}function k(a,b){if(a.nothingRequired)return!0;var f,c,e,h;if(e=a.requiredClasses)for(h=b.classes,f=0;f<e.length;++f)if(c=e[f],"string"==
typeof c){if(-1==CKEDITOR.tools.indexOf(h,c))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(h,c))return!1;return d(b.styles,a.requiredStyles)&&d(b.attributes,a.requiredAttributes)}function d(a,b){if(!b)return!0;for(var d=0,f;d<b.length;++d)if(f=b[d],"string"==typeof f){if(!(f in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,f))return!1;return!0}function f(a){if(!a)return{};a=a.split(/\s*,\s*/).sort();for(var b={};a.length;)b[a.shift()]="cke-test";return b}function a(a){var b,
d,f,c,e={},h=1;for(a=E(a);b=a.match(M);)(d=b[2])?(f=n(d,"styles"),c=n(d,"attrs"),d=n(d,"classes")):f=c=d=null,e["$"+h++]={elements:b[1],classes:d,styles:f,attributes:c},a=a.slice(b[0].length);return e}function n(a,b){var d=a.match(A[b]);return d?E(d[1]):null}function r(a){var b=a.styleBackup=a.attributes.style,d=a.classBackup=a.attributes["class"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||"",1));a.classes||(a.classes=d?d.split(/\s+/):[])}function x(a,d,f,c){var e=0,h;c.toHtml&&(d.name=d.name.replace(N,
"$1"));if(c.doCallbacks&&a.elementCallbacks){a:{h=a.elementCallbacks;for(var n=0,l=h.length,A;n<l;++n)if(A=h[n](d)){h=A;break a}h=void 0}if(h)return h}if(c.doTransform&&(h=a._.transformations[d.name])){r(d);for(n=0;n<h.length;++n)v(a,d,h[n]);q(d)}if(c.doFilter){a:{n=d.name;l=a._;a=l.allowedRules.elements[n];h=l.allowedRules.generic;n=l.disallowedRules.elements[n];l=l.disallowedRules.generic;A=c.skipRequired;var m={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,
allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},k,E;if(a||h){r(d);if(n)for(k=0,E=n.length;k<E;++k)if(!1===b(n[k],d,m)){a=null;break a}if(l)for(k=0,E=l.length;k<E;++k)b(l[k],d,m);if(a)for(k=0,E=a.length;k<E;++k)g(a[k],d,m,A);if(h)for(k=0,E=h.length;k<E;++k)g(h[k],d,m,A);a=m}else a=null}if(!a||!a.valid)return f.push(d),1;E=a.validAttributes;var F=a.validStyles;h=a.validClasses;var n=d.attributes,G=d.styles,l=d.classes;A=d.classBackup;var P=d.styleBackup,I,L,M=[],m=[],t=/^data-cke-/;
k=!1;delete n.style;delete n["class"];delete d.classBackup;delete d.styleBackup;if(!a.allAttributes)for(I in n)E[I]||(t.test(I)?I==(L=I.replace(/^data-cke-saved-/,""))||E[L]||(delete n[I],k=!0):(delete n[I],k=!0));if(!a.allStyles||a.hadInvalidStyle){for(I in G)a.allStyles||F[I]?M.push(I+":"+G[I]):k=!0;M.length&&(n.style=M.sort().join("; "))}else P&&(n.style=P);if(!a.allClasses||a.hadInvalidClass){for(I=0;I<l.length;++I)(a.allClasses||h[l[I]])&&m.push(l[I]);m.length&&(n["class"]=m.sort().join(" "));
A&&m.length<A.split(/\s+/).length&&(k=!0)}else A&&(n["class"]=A);k&&(e=1);if(!c.skipFinalValidation&&!u(d))return f.push(d),1}c.toHtml&&(d.name=d.name.replace(J,"cke:$1"));return e}function p(a){var b=[],d;for(d in a)-1<d.indexOf("*")&&b.push(d.replace(/\*/g,".*"));return b.length?new RegExp("^(?:"+b.join("|")+")$"):null}function q(a){var b=a.attributes,d;delete b.style;delete b["class"];if(d=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=d;a.classes.length&&(b["class"]=a.classes.sort().join(" "))}
function u(a){switch(a.name){case "a":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case "img":if(!a.attributes.src)return!1}return!0}function z(a){if(!a)return!1;if(!0===a)return!0;var b=p(a);return function(d){return d in a||b&&d.match(b)}}function t(){return new CKEDITOR.htmlParser.element("br")}function B(a){return a.type==CKEDITOR.NODE_ELEMENT&&("br"==a.name||G.$block[a.name])}function w(a,b,d){var f=a.name;if(G.$empty[f]||!a.children.length)"hr"==f&&"br"==b?a.replaceWith(t()):
(a.parent&&d.push({check:"it",el:a.parent}),a.remove());else if(G.$block[f]||"tr"==f)if("br"==b)a.previous&&!B(a.previous)&&(b=t(),b.insertBefore(a)),a.next&&!B(a.next)&&(b=t(),b.insertAfter(a)),a.replaceWithChildren();else{var f=a.children,c;b:{c=G[b];for(var e=0,h=f.length,n;e<h;++e)if(n=f[e],n.type==CKEDITOR.NODE_ELEMENT&&!c[n.name]){c=!1;break b}c=!0}if(c)a.name=b,a.attributes={},d.push({check:"parent-down",el:a});else{c=a.parent;for(var e=c.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==c.name,
g,l,h=f.length;0<h;)n=f[--h],e&&(n.type==CKEDITOR.NODE_TEXT||n.type==CKEDITOR.NODE_ELEMENT&&G.$inline[n.name])?(g||(g=new CKEDITOR.htmlParser.element(b),g.insertAfter(a),d.push({check:"parent-down",el:g})),g.add(n,0)):(g=null,l=G[c.name]||G.span,n.insertAfter(a),c.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||n.type!=CKEDITOR.NODE_ELEMENT||l[n.name]||d.push({check:"el-up",el:n}));a.remove()}}else f in{style:1,script:1}?a.remove():(a.parent&&d.push({check:"it",el:a.parent}),a.replaceWithChildren())}function v(a,
b,d){var f,c;for(f=0;f<d.length;++f)if(c=d[f],!(c.check&&!a.check(c.check,!1)||c.left&&!c.left(b))){c.right(b,I);break}}function F(a,b){var d=b.getDefinition(),f=d.attributes,c=d.styles,e,h,n,g;if(a.name!=d.element)return!1;for(e in f)if("class"==e)for(d=f[e].split(/\s+/),n=a.classes.join("|");g=d.pop();){if(-1==n.indexOf(g))return!1}else if(a.attributes[e]!=f[e])return!1;for(h in c)if(a.styles[h]!=c[h])return!1;return!0}function y(a,b){var d,f;"string"==typeof a?d=a:a instanceof CKEDITOR.style?f=
a:(d=a[0],f=a[1]);return[{element:d,left:f,right:function(a,d){d.transform(a,b)}}]}function C(a){return function(b){return F(b,a)}}function H(a){return function(b,d){d[a](b)}}var G=CKEDITOR.dtd,L=CKEDITOR.tools.copy,E=CKEDITOR.tools.trim,D=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a,b){this.allowedContent=[];this.disallowedContent=[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},
generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};CKEDITOR.filter.instances[this.id]=this;var d=this.editor=a instanceof CKEDITOR.editor?a:null;if(d&&!b){this.customConfig=!0;var f=d.config.allowedContent;!0===f?this.disabled=!0:(f||(this.customConfig=!1),this.allow(f,"config",1),this.allow(d.config.extraAllowedContent,"extra",1),this.allow(D[d.enterMode]+" "+D[d.shiftEnterMode],"default",1),this.disallow(d.config.disallowedContent))}else this.customConfig=
!1,this.allow(b||a,"default",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,d,f){if(!m(this,b,f))return!1;var e,h;if("string"==typeof b)b=a(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),d,f);e=b.getDefinition();b={};f=e.attributes;b[e.element]=e={styles:e.styles,requiredStyles:e.styles&&CKEDITOR.tools.object.keys(e.styles)};f&&(f=L(f),e.classes=f["class"]?f["class"].split(/\s+/):null,e.requiredClasses=
e.classes,delete f["class"],e.attributes=f,e.requiredAttributes=f&&CKEDITOR.tools.object.keys(f))}else if(CKEDITOR.tools.isArray(b)){for(e=0;e<b.length;++e)h=this.allow(b[e],d,f);return h}c(this,b,d,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,d,f){if(this.disabled)return!1;var c=this,e=[],h=this.editor&&this.editor.config.protectedSource,n,g=!1,l={doFilter:!d,doTransform:!0,doCallbacks:!0,toHtml:b};a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if("off"==a.attributes["data-cke-filter"])return!1;
if(!b||"span"!=a.name||!~CKEDITOR.tools.object.keys(a.attributes).join("|").indexOf("data-cke-"))if(n=x(c,a,e,l),n&1)g=!0;else if(n&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\{cke_protected\}(?!\{C\})/)){var d;a:{var f=decodeURIComponent(a.value.replace(/^\{cke_protected\}/,""));d=[];var A,k,m;if(h)for(k=0;k<h.length;++k)if((m=f.match(h[k]))&&m[0].length==f.length){d=!0;break a}f=CKEDITOR.htmlParser.fragment.fromHtml(f);1==f.children.length&&(A=f.children[0]).type==CKEDITOR.NODE_ELEMENT&&
x(c,A,d,l);d=!d.length}d||e.push(a)}},null,!0);e.length&&(g=!0);var A;a=[];f=D[f||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var k;d=e.pop();)d.type==CKEDITOR.NODE_ELEMENT?w(d,f,a):d.remove();for(;A=a.pop();)if(d=A.el,d.parent)switch(k=G[d.parent.name]||G.span,A.check){case "it":G.$removeEmpty[d.name]&&!d.children.length?w(d,f,a):u(d)||w(d,f,a);break;case "el-up":d.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||k[d.name]||w(d,f,a);break;case "parent-down":d.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||
k[d.name]||w(d.parent,f,a)}return g},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!m(this,b,!0))return!1;"string"==typeof b&&(b=a(b));c(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},addContentForms:function(a){if(!this.disabled&&a){var b,d,f=[],c;for(b=0;b<a.length&&!c;++b)d=a[b],("string"==typeof d||d instanceof
CKEDITOR.style)&&this.check(d)&&(c=d);if(c){for(b=0;b<a.length;++b)f.push(y(a[b],c));this.addTransformations(f)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);this.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?
this.check(a.requiredContent):!0},addTransformations:function(a){var b,d;if(!this.disabled&&a){var f=this._.transformations,c;for(c=0;c<a.length;++c){b=a[c];var e=void 0,h=void 0,n=void 0,g=void 0,l=void 0,A=void 0;d=[];for(h=0;h<b.length;++h)n=b[h],"string"==typeof n?(n=n.split(/\s*:\s*/),g=n[0],l=null,A=n[1]):(g=n.check,l=n.left,A=n.right),e||(e=n,e=e.element?e.element:g?g.match(/^([a-z0-9]+)/i)[0]:e.left.getDefinition().element),l instanceof CKEDITOR.style&&(l=C(l)),d.push({check:g==e?null:g,left:l,
right:"string"==typeof A?H(A):A});b=e;f[b]||(f[b]=[]);f[b].push(d)}}},check:function(b,d,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(b)){for(var e=b.length;e--;)if(this.check(b[e],d,c))return!0;return!1}var h,n;if("string"==typeof b){n=b+"\x3c"+(!1===d?"0":"1")+(c?"1":"0")+"\x3e";if(n in this._.cachedChecks)return this._.cachedChecks[n];h=a(b).$1;var g=h.styles,e=h.classes;h.name=h.elements;h.classes=e=e?e.split(/\s*,\s*/):[];h.styles=f(g);h.attributes=f(h.attributes);h.children=[];e.length&&
(h.attributes["class"]=e.join(" "));g&&(h.attributes.style=CKEDITOR.tools.writeCssText(h.styles))}else h=b.getDefinition(),g=h.styles,e=h.attributes||{},g&&!CKEDITOR.tools.isEmpty(g)?(g=L(g),e.style=CKEDITOR.tools.writeCssText(g,!0)):g={},h={name:h.element,attributes:e,classes:e["class"]?e["class"].split(/\s+/):[],styles:g,children:[]};var g=CKEDITOR.tools.clone(h),l=[],A;if(!1!==d&&(A=this._.transformations[h.name])){for(e=0;e<A.length;++e)v(this,h,A[e]);q(h)}x(this,g,l,{doFilter:!0,doTransform:!1!==
d,skipRequired:!c,skipFinalValidation:!c});0<l.length?c=!1:((d=h.attributes["class"])&&(h.attributes["class"]=h.attributes["class"].split(" ").sort().join(" ")),c=CKEDITOR.tools.objectCompare(h.attributes,g.attributes,!0),d&&(h.attributes["class"]=d));"string"==typeof b&&(this._.cachedChecks[n]=c);return c},getAllowedEnterMode:function(){var a=["p","div","br"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(d,f){var c=a.slice(),e;if(this.check(D[d]))return d;for(f||
(c=c.reverse());e=c.pop();)if(this.check(e))return b[e];return CKEDITOR.ENTER_BR}}(),clone:function(){var a=new CKEDITOR.filter,b=CKEDITOR.tools.clone;a.allowedContent=b(this.allowedContent);a._.allowedRules=b(this._.allowedRules);a.disallowedContent=b(this.disallowedContent);a._.disallowedRules=b(this._.disallowedRules);a._.transformations=b(this._.transformations);a.disabled=this.disabled;a.editor=this.editor;return a},destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;
delete this.disallowedContent}};var O={styles:1,attributes:1,classes:1},K={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},M=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,A={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},N=/^cke:(object|embed|param)$/,J=/^(object|embed|param)$/,I;I=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,"width");this.lengthToStyle(a,
"height")},sizeToAttribute:function(a){this.lengthToAttribute(a,"width");this.lengthToAttribute(a,"height")},lengthToStyle:function(a,b,d){d=d||b;if(!(d in a.styles)){var f=a.attributes[b];f&&(/^\d+$/.test(f)&&(f+="px"),a.styles[d]=f)}delete a.attributes[b]},lengthToAttribute:function(a,b,d){d=d||b;if(!(d in a.attributes)){var f=a.styles[b],c=f&&f.match(/^(\d+)(?:\.\d*)?px$/);c?a.attributes[d]=c[1]:"cke-test"==f&&(a.attributes[d]="cke-test")}delete a.styles[b]},alignmentToStyle:function(a){if(!("float"in
a.styles)){var b=a.attributes.align;if("left"==b||"right"==b)a.styles["float"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!("align"in a.attributes)){var b=a.styles["float"];if("left"==b||"right"==b)a.attributes.align=b}delete a.styles["float"]},splitBorderShorthand:function(a){if(a.styles.border){var b=CKEDITOR.tools.style.parse.border(a.styles.border);b.color&&(a.styles["border-color"]=b.color);b.style&&(a.styles["border-style"]=b.style);b.width&&(a.styles["border-width"]=b.width);
delete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case "a":a.styles["list-style-type"]="lower-alpha";break;case "A":a.styles["list-style-type"]="upper-alpha";break;case "i":a.styles["list-style-type"]="lower-roman";break;case "I":a.styles["list-style-type"]="upper-roman";break;case "1":a.styles["list-style-type"]="decimal";break;default:a.styles["list-style-type"]=a.attributes.type}},splitMarginShorthand:function(a){function b(f){a.styles["margin-top"]=
d[f[0]];a.styles["margin-right"]=d[f[1]];a.styles["margin-bottom"]=d[f[2]];a.styles["margin-left"]=d[f[3]]}if(a.styles.margin){var d=a.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(d.length){case 1:b([0,0,0,0]);break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:F,transform:function(a,b){if("string"==typeof b)a.name=b;else{var d=b.getDefinition(),f=d.styles,c=d.attributes,e,h,n,g;a.name=d.element;for(e in c)if("class"==e)for(d=
a.classes.join("|"),n=c[e].split(/\s+/);g=n.pop();)-1==d.indexOf(g)&&a.classes.push(g);else a.attributes[e]=c[e];for(h in f)a.styles[h]=f[h]}}}})();(function(){CKEDITOR.focusManager=function(c){if(c.focusManager)return c.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:c};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(c){this._.timer&&clearTimeout(this._.timer);c&&(this.currentActive=c);this.hasFocus||this._.locked||((c=CKEDITOR.currentInstance)&&
c.focusManager.blur(1),this.hasFocus=!0,(c=this._.editor.container)&&c.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(c){function g(){if(this.hasFocus){this.hasFocus=!1;var b=this._.editor.container;b&&b.removeClass("cke_focus");this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var e=CKEDITOR.focusManager._.blurDelay;c||!e?g.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;
g.call(this)},e,this)}},add:function(c,g){var e=c.getCustomData("focusmanager");if(!e||e!=this){e&&e.remove(c);var e="focus",b="blur";g&&(CKEDITOR.env.ie?(e="focusin",b="focusout"):CKEDITOR.event.useCapture=1);var h={blur:function(){c.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(c)}};c.on(e,h.focus,this);c.on(b,h.blur,this);g&&(CKEDITOR.event.useCapture=0);c.setCustomData("focusmanager",this);c.setCustomData("focusmanager_handlers",h)}},remove:function(c){c.removeCustomData("focusmanager");
var g=c.removeCustomData("focusmanager_handlers");c.removeListener("blur",g.blur);c.removeListener("focus",g.focus)}}})();CKEDITOR.keystrokeHandler=function(c){if(c.keystrokeHandler)return c.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:c};return this};(function(){var c,g=function(b){b=b.data;var e=b.getKeystroke(),g=this.keystrokes[e],l=this._.editor;c=!1===l.fire("key",{keyCode:e,domEvent:b});c||(g&&(c=!1!==l.execCommand(g,{from:"keystrokeHandler"})),c||(c=!!this.blockedKeystrokes[e]));
c&&b.preventDefault(!0);return!c},e=function(b){c&&(c=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(b){b.on("keydown",g,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)b.on("keypress",e,this)}}})();(function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,
ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(c,g,e){c&&CKEDITOR.lang.languages[c]||(c=this.detect(g,c));var b=this;g=function(){b[c].dir=b.rtl[c]?"rtl":"ltr";e(c,b[c])};this[c]?g():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+c+".js"),g,this)},detect:function(c,g){var e=this.languages;g=g||navigator.userLanguage||navigator.language||
c;var b=g.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),h=b[1],b=b[2];e[h+"-"+b]?h=h+"-"+b:e[h]||(h=null);CKEDITOR.lang.detect=h?function(){return h}:function(b){return b};return h||c}}})();CKEDITOR.scriptLoader=function(){var c={},g={};return{load:function(e,b,h,m){var l="string"==typeof e;l&&(e=[e]);h||(h=CKEDITOR);var k=e.length,d=[],f=[],a=function(a){b&&(l?b.call(h,a):b.call(h,d,f))};if(0===k)a(!0);else{var n=function(b,c){(c?d:f).push(b);0>=--k&&(m&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),
a(c))},r=function(a,b){c[a]=1;var d=g[a];delete g[a];for(var f=0;f<d.length;f++)d[f](a,b)},x=function(a){if(c[a])n(a,!0);else{var d=g[a]||(g[a]=[]);d.push(n);if(!(1<d.length)){var f=new CKEDITOR.dom.element("script");f.setAttributes({type:"text/javascript",src:a});b&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?f.$.onreadystatechange=function(){if("loaded"==f.$.readyState||"complete"==f.$.readyState)f.$.onreadystatechange=null,r(a,!0)}:(f.$.onload=function(){setTimeout(function(){f.$.onload=
null;f.$.onerror=null;r(a,!0)},0)},f.$.onerror=function(){f.$.onload=null;f.$.onerror=null;r(a,!1)}));f.appendTo(CKEDITOR.document.getHead())}}};m&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var p=0;p<k;p++)x(e[p])}},queue:function(){function c(){var e;(e=b[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var b=[];return function(h,g){var l=this;b.push({scriptUrl:h,callback:function(){g&&g.apply(this,arguments);b.shift();c.call(l)}});1==b.length&&c.call(this)}}()}}();CKEDITOR.resourceManager=
function(c,g){this.basePath=c;this.fileName=g;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}};CKEDITOR.resourceManager.prototype={add:function(c,g){if(this.registered[c])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+c+'" is already registered.');var e=this.registered[c]=g||{};e.name=c;e.path=this.getPath(c);CKEDITOR.fire(c+CKEDITOR.tools.capitalize(this.fileName)+"Ready",e);return this.get(c)},get:function(c){return this.registered[c]||null},getPath:function(c){var g=
this.externals[c];return CKEDITOR.getUrl(g&&g.dir||this.basePath+c+"/")},getFilePath:function(c){var g=this.externals[c];return CKEDITOR.getUrl(this.getPath(c)+(g?g.file:this.fileName+".js"))},addExternal:function(c,g,e){e||(g=g.replace(/[^\/]+$/,function(b){e=b;return""}));e=e||this.fileName+".js";c=c.split(",");for(var b=0;b<c.length;b++)this.externals[c[b]]={dir:g,file:e}},load:function(c,g,e){CKEDITOR.tools.isArray(c)||(c=c?[c]:[]);for(var b=this.loaded,h=this.registered,m=[],l={},k={},d=0;d<
c.length;d++){var f=c[d];if(f)if(b[f]||h[f])k[f]=this.get(f);else{var a=this.getFilePath(f);m.push(a);a in l||(l[a]=[]);l[a].push(f)}}CKEDITOR.scriptLoader.load(m,function(a,d){if(d.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+l[d[0]].join(",")+'" was not found at "'+d[0]+'".');for(var f=0;f<a.length;f++)for(var c=l[a[f]],h=0;h<c.length;h++){var m=c[h];k[m]=this.get(m);b[m]=1}g.call(e,k)},this)}};CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin");CKEDITOR.plugins.load=
CKEDITOR.tools.override(CKEDITOR.plugins.load,function(c){var g={};return function(e,b,h){var m={},l=function(e){c.call(this,e,function(d){CKEDITOR.tools.extend(m,d);var f=[],a;for(a in d){var c=d[a],e=c&&c.requires;if(!g[a]){if(c.icons)for(var k=c.icons.split(","),p=k.length;p--;)CKEDITOR.skin.addIcon(k[p],c.path+"icons/"+(CKEDITOR.env.hidpi&&c.hidpi?"hidpi/":"")+k[p]+".png");c.isSupportedEnvironment=c.isSupportedEnvironment||function(){return!0};g[a]=1}if(e)for(e.split&&(e=e.split(",")),c=0;c<e.length;c++)m[e[c]]||
f.push(e[c])}if(f.length)l.call(this,f);else{for(a in m)c=m[a],c.onLoad&&!c.onLoad._called&&(!1===c.onLoad()&&delete m[a],c.onLoad._called=1);b&&b.call(h||window,m)}},this)};l.call(this,e)}});CKEDITOR.plugins.setLang=function(c,g,e){var b=this.get(c);c=b.langEntries||(b.langEntries={});b=b.lang||(b.lang=[]);b.split&&(b=b.split(","));-1==CKEDITOR.tools.indexOf(b,g)&&b.push(g);c[g]=e};CKEDITOR.ui=function(c){if(c.ui)return c.ui;this.items={};this.instances={};this.editor=c;this._={handlers:{}};return this};
CKEDITOR.ui.prototype={add:function(c,g,e){e.name=c.toLowerCase();var b=this.items[c]={type:g,command:e.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(b,e)},get:function(c){return this.instances[c]},create:function(c){var g=this.items[c],e=g&&this._.handlers[g.type],b=g&&g.command&&this.editor.getCommand(g.command),e=e&&e.create.apply(this,g.args);this.instances[c]=e;b&&b.uiItems.push(e);e&&!e.type&&(e.type=g.type);return e},addHandler:function(c,g){this._.handlers[c]=
g},space:function(c){return CKEDITOR.document.getById(this.spaceId(c))},spaceId:function(c){return this.editor.id+"_"+c}};CKEDITOR.event.implementOn(CKEDITOR.ui);(function(){function c(a,d,f){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==d){if(!(d instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!f)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");
if(!e(d,f))throw Error('The specified element mode is not supported on element: "'+d.getName()+'".');this.element=d;this.elementMode=f;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(d.getId()||d.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||g();this.id=CKEDITOR.tools.getNextId();this.status="unloaded";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=
new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on("readOnly",b);this.on("selectionChange",function(a){m(this,a.data.path)});this.on("activeFilterChange",function(){m(this,this.elementPath(),!0)});this.on("mode",b);CKEDITOR.dom.selection.setupEditorOptimization(this);this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var a=this.createRange();a.selectNodeContents(this.editable());a.shrink(CKEDITOR.SHRINK_ELEMENT,
!0);a.collapse();this.getSelection().selectRanges([a])}this.focus()}});CKEDITOR.fire("instanceCreated",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){this.isDestroyed()||this.isDetached()||k(this,a)},0,this)}function g(){do var a="editor"+ ++p;while(CKEDITOR.instances[a]);return a}function e(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is("textarea"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function b(){var a=this.commands,
b;for(b in a)h(this,a[b])}function h(a,b){b[b.startDisabled?"disable":a.readOnly&&!b.readOnly?"disable":b.modes[a.mode]?"enable":"disable"]()}function m(a,b,d){if(b){var f,c,e=a.commands;for(c in e)f=e[c],(d||f.contextSensitive)&&f.refresh(a,b)}}function l(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),d=q[b]||(q[b]={});d.fn?(d.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&l(a)||a.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(b,function(){d.fn=
CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};l(a)});return!0}function k(a,b){a.on("customConfigLoaded",function(){if(b){if(b.on)for(var f in b.on)a.on(f,b.on[f]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}f=a.config;a.readOnly=f.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is("textarea")?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute("disabled")||
a.element.hasAttribute("readonly"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is("textarea")||CKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=f.tabIndex||a.element&&a.element.getAttribute("tabindex")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:f.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:f.shiftEnterMode;f.skin&&(CKEDITOR.skinName=f.skin);a.fireOnce("configLoaded");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);
a.filter=a.activeFilter=new CKEDITOR.filter(a);d(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);l(a)||a.fireOnce("customConfigLoaded")}function d(a){CKEDITOR.skin.loadPart("editor",function(){f(a)})}function f(b){CKEDITOR.lang.load(b.config.language,b.config.defaultLanguage,function(d,f){var c=b.config.title;b.langCode=d;b.lang=CKEDITOR.tools.prototypedCopy(f);b.title="string"==typeof c||!1===c?c:[b.lang.editor,b.name].join(", ");b.config.contentsLangDirection||(b.config.contentsLangDirection=
b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?b.element.getDirection(1):b.lang.dir);b.fire("langLoaded");a(b)})}function a(a){a.getStylesSet(function(b){a.once("loaded",function(){a.fire("stylesSet",{styles:b})},null,null,1);n(a)})}function n(a){function b(a){if(!a)return"";CKEDITOR.tools.isArray(a)&&(a=a.join(","));return a.replace(/\s/g,"")}var d=a.config,f=b(d.plugins),c=b(d.extraPlugins),e=b(d.removePlugins);if(c)var h=new RegExp("(?:^|,)(?:"+c.replace(/,/g,"|")+")(?\x3d,|$)","g"),f=f.replace(h,
""),f=f+(","+c);if(e)var n=new RegExp("(?:^|,)(?:"+e.replace(/,/g,"|")+")(?\x3d,|$)","g"),f=f.replace(n,"");CKEDITOR.env.air&&(f+=",adobeair");CKEDITOR.plugins.load(f.split(","),function(b){var f=[],c=[],e=[];a.plugins=CKEDITOR.tools.extend({},a.plugins,b);for(var h in b){var g=b[h],l=g.lang,k=null,m=g.requires,A;CKEDITOR.tools.isArray(m)&&(m=m.join(","));if(m&&(A=m.match(n)))for(;m=A.pop();)CKEDITOR.error("editor-plugin-required",{plugin:m.replace(",",""),requiredBy:h});l&&!a.lang[h]&&(l.split&&
(l=l.split(",")),0<=CKEDITOR.tools.indexOf(l,a.langCode)?k=a.langCode:(k=a.langCode.replace(/-.*/,""),k=k!=a.langCode&&0<=CKEDITOR.tools.indexOf(l,k)?k:0<=CKEDITOR.tools.indexOf(l,"en")?"en":l[0]),g.langEntries&&g.langEntries[k]?(a.lang[h]=g.langEntries[k],k=null):e.push(CKEDITOR.getUrl(g.path+"lang/"+k+".js")));c.push(k);f.push(g)}CKEDITOR.scriptLoader.load(e,function(){if(!a.isDestroyed()&&!a.isDetached()){for(var b=["beforeInit","init","afterInit"],e=0;e<b.length;e++)for(var h=0;h<f.length;h++){var n=
f[h];0===e&&c[h]&&n.lang&&n.langEntries&&(a.lang[n.name]=n.langEntries[c[h]]);if(n[b[e]])n[b[e]](a)}a.fireOnce("pluginsLoaded");d.keystrokes&&a.setKeystroke(a.config.keystrokes);for(h=0;h<a.config.blockedKeystrokes.length;h++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[h]]=1;a.status="loaded";a.fireOnce("loaded");CKEDITOR.fire("instanceLoaded",null,a)}})})}function r(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&
(b=CKEDITOR.tools.htmlEncode(b));a.is("textarea")?a.setValue(b):a.setHtml(b);return!0}return!1}function x(a,b){function d(a){var b=a.startContainer,f=a.endContainer;return b.is&&(b.is("tr")||b.is("td")&&b.equals(f)&&a.endOffset===b.getChildCount())?!0:!1}function f(a){var b=a.startContainer;return b.is("tr")?a.cloneContents():b.clone(!0)}for(var c=new CKEDITOR.dom.documentFragment,e,h,n,g=0;g<a.length;g++){var l=a[g],k=l.startContainer.getAscendant("tr",!0);d(l)?(e||(e=k.getAscendant("table").clone(),
e.append(k.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),c.append(e),e=e.findOne("thead, tbody, tfoot")),h&&h.equals(k)||(h=k,n=k.clone(),e.append(n)),n.append(f(l))):c.append(l.cloneContents())}return e?c:b.getHtmlFromRange(a[0])}c.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=c;var p=0,q={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(a,b){for(var d=0;d<b.length;d++){var f=b[d];if(this[f])return CKEDITOR.warn("editor-plugin-conflict",{plugin:a,replacedWith:f}),
!0}return!1}},addCommand:function(a,b){b.name=a.toLowerCase();var d=b instanceof CKEDITOR.command?b:new CKEDITOR.command(this,b);this.mode&&h(this,d);return this.commands[a]=d},_attachToForm:function(){function a(b){d.updateElement();d._.required&&!f.getValue()&&!1===d.fire("required")&&b.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var d=this,f=d.element,c=new CKEDITOR.dom.element(f.$.form);f.is("textarea")&&c&&(c.on("submit",a),b(c.$.submit)&&(c.$.submit=CKEDITOR.tools.override(c.$.submit,
function(b){return function(){a();b.apply?b.apply(this):b()}})),d.on("destroy",function(){c.removeListener("submit",a)}))},destroy:function(a){var b=CKEDITOR.filter.instances,d=this;this.fire("beforeDestroy");!a&&r.call(this);this.editable(null);this.filter&&delete this.filter;CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(b),function(a){a=b[a];d===a.editor&&a.destroy()});delete this.activeFilter;this.status="destroyed";this.fire("destroy");this.removeAllListeners();CKEDITOR.remove(this);
CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var d=this.getCommand(a),f={name:a,commandData:b||{},command:d};return d&&d.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire("beforeCommandExec",f)&&(f.returnValue=d.exec(f.commandData),
!d.async&&!1!==this.fire("afterCommandExec",f))?f.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire("beforeGetData");var b=this._.data;"string"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is("textarea")?b.getValue():b.getHtml():"");b={dataValue:b};!a&&this.fire("getData",b);return b.dataValue},getSnapshot:function(){var a=this.fire("getSnapshot");"string"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?
a.is("textarea")?a.getValue():a.getHtml():"");return a},loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:function(a,b,d){var f=!0,c=b;b&&"object"==typeof b&&(d=b.internal,c=b.callback,f=!b.noSnapshot);!d&&f&&this.fire("saveSnapshot");if(c||!d)this.once("dataReady",function(a){!d&&f&&this.fire("saveSnapshot");c&&c.call(a.editor)});a={dataValue:a};!d&&this.fire("setData",a);this._.data=a.dataValue;!d&&this.fire("afterSetData",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=
a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire("readOnly"))},insertHtml:function(a,b,d){this.fire("insertHtml",{dataValue:a,mode:b,range:d})},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",a)},getSelectedHtml:function(a){var b=this.editable(),d=this.getSelection(),d=d&&d.getRanges();if(!b||!d||0===d.length)return null;b=x(d,b);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var d=this.editable(),
f=this.getSelection().getRanges(),c=new CKEDITOR.dom.documentFragment,e;if(!d||0===f.length)return null;for(e=0;e<f.length;e++)c.append(d.extractHtmlFromRange(f[e],b));b||this.getSelection().selectRanges([f[0]]);return a?c.getHtml():c},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return r.call(this)},setKeystroke:function(){for(var a=
this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],d,f,c=b.length;c--;)d=b[c],f=0,CKEDITOR.tools.isArray(d)&&(f=d[1],d=d[0]),f?a[d]=f:delete a[d]},getCommandKeystroke:function(a,b){var d="string"===typeof a?this.getCommand(a):a,f=[];if(d){var c=CKEDITOR.tools.object.findKey(this.commands,d),e=this.keystrokeHandler.keystrokes;if(d.fakeKeystroke)f.push(d.fakeKeystroke);else for(var h in e)e[h]===c&&f.push(h)}return b?f:f[0]||null},addFeature:function(a){return this.filter.addFeature(a)},
setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire("activeFilterChange"),a===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=
a,this.activeShiftEnterMode=b,this.fire("activeEnterModeChange")},showNotification:function(a){alert(a)},isDetached:function(){return!!this.container&&this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}});CKEDITOR.editor._getEditorElement=function(a){if(!CKEDITOR.env.isCompatible)return null;var b=CKEDITOR.dom.element.get(a);return b?b.getEditor()?(CKEDITOR.error("editor-element-conflict",{editorName:b.getEditor().name}),null):b:(CKEDITOR.error("editor-incorrect-element",
{element:a}),null)}})();CKEDITOR.ELEMENT_MODE_NONE=0;CKEDITOR.ELEMENT_MODE_REPLACE=1;CKEDITOR.ELEMENT_MODE_APPENDTO=2;CKEDITOR.ELEMENT_MODE_INLINE=3;CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}};(function(){var c=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,g={checked:1,compact:1,declare:1,defer:1,disabled:1,
ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(e){for(var b,h,m=0,l;b=this._.htmlPartsRegex.exec(e);){h=b.index;if(h>m)if(m=e.substring(m,h),l)l.push(m);else this.onText(m);m=this._.htmlPartsRegex.lastIndex;if(h=b[1])if(h=h.toLowerCase(),l&&CKEDITOR.dtd.$cdata[h]&&(this.onCDATA(l.join("")),l=null),!l){this.onTagClose(h);
continue}if(l)l.push(b[0]);else if(h=b[3]){if(h=h.toLowerCase(),!/="/.test(h)){var k={},d,f=b[4];b=!!b[5];if(f)for(;d=c.exec(f);){var a=d[1].toLowerCase();d=d[2]||d[3]||d[4]||"";k[a]=!d&&g[a]?a:CKEDITOR.tools.htmlDecodeAttr(d)}this.onTagOpen(h,k,b);!l&&CKEDITOR.dtd.$cdata[h]&&(l=[])}}else if(h=b[2])this.onComment(h)}if(e.length>m)this.onText(e.substring(m,e.length))}}})();CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(c){this._.output.push("\x3c",
c)},openTagClose:function(c,g){g?this._.output.push(" /\x3e"):this._.output.push("\x3e")},attribute:function(c,g){"string"==typeof g&&(g=CKEDITOR.tools.htmlEncodeAttr(g));this._.output.push(" ",c,'\x3d"',g,'"')},closeTag:function(c){this._.output.push("\x3c/",c,"\x3e")},text:function(c){this._.output.push(c)},comment:function(c){this._.output.push("\x3c!--",c,"--\x3e")},write:function(c){this._.output.push(c)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(c){var g=this._.output.join("");
c&&this.reset();return g}}});"use strict";(function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var c=this.parent.children,g=CKEDITOR.tools.indexOf(c,this),e=this.previous,b=this.next;e&&(e.next=b);b&&(b.previous=e);c.splice(g,1);this.parent=null},replaceWith:function(c){var g=this.parent.children,e=CKEDITOR.tools.indexOf(g,this),b=c.previous=this.previous,h=c.next=this.next;b&&(b.next=c);h&&(h.previous=c);g[e]=c;c.parent=this.parent;this.parent=null},
insertAfter:function(c){var g=c.parent.children,e=CKEDITOR.tools.indexOf(g,c),b=c.next;g.splice(e+1,0,this);this.next=c.next;this.previous=c;c.next=this;b&&(b.previous=this);this.parent=c.parent},insertBefore:function(c){var g=c.parent.children,e=CKEDITOR.tools.indexOf(g,c);g.splice(e,0,this);this.next=c;(this.previous=c.previous)&&(c.previous.next=this);c.previous=this;this.parent=c.parent},getAscendant:function(c){var g="function"==typeof c?c:"string"==typeof c?function(b){return b.name==c}:function(b){return b.name in
c},e=this.parent;for(;e&&e.type==CKEDITOR.NODE_ELEMENT;){if(g(e))return e;e=e.parent}return null},wrapWith:function(c){this.replaceWith(c);c.add(this);return c},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(c){return c||{}}}})();"use strict";CKEDITOR.htmlParser.comment=function(c){this.value=c;this._={isBlockLike:!1}};CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(c,
g){var e=this.value;if(!(e=c.onComment(g,e,this)))return this.remove(),!1;if("string"!=typeof e)return this.replaceWith(e),!1;this.value=e;return!0},writeHtml:function(c,g){g&&this.filter(g);c.comment(this.value)}});"use strict";(function(){CKEDITOR.htmlParser.text=function(c){this.value=c;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(c,g){if(!(this.value=c.onText(g,this.value,this)))return this.remove(),
!1},writeHtml:function(c,g){g&&this.filter(g);c.text(this.value)}})})();"use strict";(function(){CKEDITOR.htmlParser.cdata=function(c){this.value=c};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(c){c.write(this.value)}})})();"use strict";CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}};(function(){function c(b){return b.attributes["data-cke-survive"]?
!1:"a"==b.name&&b.attributes.href||CKEDITOR.dtd.$removeEmpty[b.name]}var g=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),e={ol:1,ul:1},b=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),h={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(m,l,k){function d(a){var b;if(0<u.length)for(var d=0;d<u.length;d++){var c=
u[d],e=c.name,h=CKEDITOR.dtd[e],g=t.name&&CKEDITOR.dtd[t.name];g&&!g[e]||a&&h&&!h[a]&&CKEDITOR.dtd[a]?e==t.name&&(n(t,t.parent,1),d--):(b||(f(),b=1),c=c.clone(),c.parent=t,t=c,u.splice(d,1),d--)}}function f(){for(;z.length;)n(z.shift(),t)}function a(a){if(a._.isBlockLike&&"pre"!=a.name&&"textarea"!=a.name){var b=a.children.length,d=a.children[b-1],f;d&&d.type==CKEDITOR.NODE_TEXT&&((f=CKEDITOR.tools.rtrim(d.value))?d.value=f:a.children.length=b-1)}}function n(b,d,f){d=d||t||q;var e=t;void 0===b.previous&&
(r(d,b)&&(t=d,p.onTagOpen(k,{}),b.returnPoint=d=t),a(b),c(b)&&!b.children.length||d.add(b),"pre"==b.name&&(w=!1),"textarea"==b.name&&(B=!1));b.returnPoint?(t=b.returnPoint,delete b.returnPoint):t=f?d:e}function r(a,b){if((a==q||"body"==a.name)&&k&&(!a.name||CKEDITOR.dtd[a.name][k])){var d,f;return(d=b.attributes&&(f=b.attributes["data-cke-real-element-type"])?f:b.name)&&d in CKEDITOR.dtd.$inline&&!(d in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function x(a,b){return a in CKEDITOR.dtd.$listItem||
a in CKEDITOR.dtd.$tableContent?a==b||"dt"==a&&"dd"==b||"dd"==a&&"dt"==b:!1}var p=new CKEDITOR.htmlParser,q=l instanceof CKEDITOR.htmlParser.element?l:"string"==typeof l?new CKEDITOR.htmlParser.element(l):new CKEDITOR.htmlParser.fragment,u=[],z=[],t=q,B="textarea"==q.name,w="pre"==q.name;p.onTagOpen=function(a,h,l,k){h=new CKEDITOR.htmlParser.element(a,h);h.isUnknown&&l&&(h.isEmpty=!0);h.isOptionalClose=k;if(c(h))u.push(h);else{if("pre"==a)w=!0;else{if("br"==a&&w){t.add(new CKEDITOR.htmlParser.text("\n"));
return}"textarea"==a&&(B=!0)}if("br"==a)z.push(h);else{for(;!(k=(l=t.name)?CKEDITOR.dtd[l]||(t._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):b,h.isUnknown||t.isUnknown||k[a]);)if(t.isOptionalClose)p.onTagClose(l);else if(a in e&&l in e)l=t.children,(l=l[l.length-1])&&"li"==l.name||n(l=new CKEDITOR.htmlParser.element("li"),t),!h.returnPoint&&(h.returnPoint=t),t=l;else if(a in CKEDITOR.dtd.$listItem&&!x(a,l))p.onTagOpen("li"==a?"ul":"dl",{},0,1);else if(l in g&&!x(a,l))!h.returnPoint&&(h.returnPoint=
t),t=t.parent;else if(l in CKEDITOR.dtd.$inline&&u.unshift(t),t.parent)n(t,t.parent,1);else{h.isOrphan=1;break}d(a);f();h.parent=t;h.isEmpty?n(h):t=h}}};p.onTagClose=function(a){for(var b=u.length-1;0<=b;b--)if(a==u[b].name){u.splice(b,1);return}for(var d=[],c=[],e=t;e!=q&&e.name!=a;)e._.isBlockLike||c.unshift(e),d.push(e),e=e.returnPoint||e.parent;if(e!=q){for(b=0;b<d.length;b++){var h=d[b];n(h,h.parent)}t=e;e._.isBlockLike&&f();n(e,e.parent);e==t&&(t=t.parent);u=u.concat(c)}"body"==a&&(k=!1)};p.onText=
function(a){if(!(t._.hasInlineStarted&&!z.length||w||B)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var c=t.name,e=c?CKEDITOR.dtd[c]||(t._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):b;if(!B&&!e["#"]&&c in g)p.onTagOpen(h[c]||""),p.onText(a);else{f();d();w||B||(a=a.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));a=new CKEDITOR.htmlParser.text(a);if(r(t,a))this.onTagOpen(k,{},0,1);t.add(a)}};p.onCDATA=function(a){t.add(new CKEDITOR.htmlParser.cdata(a))};p.onComment=function(a){f();d();t.add(new CKEDITOR.htmlParser.comment(a))};
p.parse(m);for(f();t!=q;)n(t,t.parent,1);a(q);return q};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(b,c){isNaN(c)&&(c=this.children.length);var e=0<c?this.children[c-1]:null;if(e){if(b._.isBlockLike&&e.type==CKEDITOR.NODE_TEXT&&(e.value=CKEDITOR.tools.rtrim(e.value),0===e.value.length)){this.children.pop();this.add(b);return}e.next=b}b.previous=e;b.parent=this;this.children.splice(c,0,b);this._.hasInlineStarted||(this._.hasInlineStarted=b.type==CKEDITOR.NODE_TEXT||
b.type==CKEDITOR.NODE_ELEMENT&&!b._.isBlockLike)},filter:function(b,c){c=this.getFilterContext(c);b.onRoot(c,this);this.filterChildren(b,!1,c)},filterChildren:function(b,c,e){if(this.childrenFilteredBy!=b.id){e=this.getFilterContext(e);if(c&&!this.parent)b.onRoot(e,this);this.childrenFilteredBy=b.id;for(c=0;c<this.children.length;c++)!1===this.children[c].filter(b,e)&&c--}},writeHtml:function(b,c){c&&this.filter(c);this.writeChildrenHtml(b)},writeChildrenHtml:function(b,c,e){var d=this.getFilterContext();
if(e&&!this.parent&&c)c.onRoot(d,this);c&&this.filterChildren(c,!1,d);c=0;e=this.children;for(d=e.length;c<d;c++)e[c].writeHtml(b)},forEach:function(b,c,e){if(!(e||c&&this.type!=c))var d=b(this);if(!1!==d){e=this.children;for(var f=0;f<e.length;f++)d=e[f],d.type==CKEDITOR.NODE_ELEMENT?d.forEach(b,c):c&&d.type!=c||b(d)}},getFilterContext:function(b){return b||{}}}})();"use strict";(function(){function c(){this.rules=[]}function g(e,b,h,g){var l,k;for(l in b)(k=e[l])||(k=e[l]=new c),k.add(b[l],h,g)}
CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(e){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new c;this.attributeNameRules=new c;this.elementsRules={};this.attributesRules={};this.textRules=new c;this.commentRules=new c;this.rootRules=new c;e&&this.addRules(e,10)},proto:{addRules:function(c,b){var h;"number"==typeof b?h=b:b&&"priority"in b&&(h=b.priority);"number"!=typeof h&&(h=10);"object"!=typeof b&&(b={});c.elementNames&&this.elementNameRules.addMany(c.elementNames,
h,b);c.attributeNames&&this.attributeNameRules.addMany(c.attributeNames,h,b);c.elements&&g(this.elementsRules,c.elements,h,b);c.attributes&&g(this.attributesRules,c.attributes,h,b);c.text&&this.textRules.add(c.text,h,b);c.comment&&this.commentRules.add(c.comment,h,b);c.root&&this.rootRules.add(c.root,h,b)},applyTo:function(c){c.filter(this)},onElementName:function(c,b){return this.elementNameRules.execOnName(c,b)},onAttributeName:function(c,b){return this.attributeNameRules.execOnName(c,b)},onText:function(c,
b,h){return this.textRules.exec(c,b,h)},onComment:function(c,b,h){return this.commentRules.exec(c,b,h)},onRoot:function(c,b){return this.rootRules.exec(c,b)},onElement:function(c,b){for(var h=[this.elementsRules["^"],this.elementsRules[b.name],this.elementsRules.$],g,l=0;3>l;l++)if(g=h[l]){g=g.exec(c,b,this);if(!1===g)return null;if(g&&g!=b)return this.onNode(c,g);if(b.parent&&!b.name)break}return b},onNode:function(c,b){var h=b.type;return h==CKEDITOR.NODE_ELEMENT?this.onElement(c,b):h==CKEDITOR.NODE_TEXT?
new CKEDITOR.htmlParser.text(this.onText(c,b.value,b)):h==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(c,b.value,b)):null},onAttribute:function(c,b,h,g){return(h=this.attributesRules[h])?h.exec(c,g,b,this):g}}});CKEDITOR.htmlParser.filterRulesGroup=c;c.prototype={add:function(c,b,h){this.rules.splice(this.findIndex(b),0,{value:c,priority:b,options:h})},addMany:function(c,b,h){for(var g=[this.findIndex(b),0],l=0,k=c.length;l<k;l++)g.push({value:c[l],priority:b,options:h});this.rules.splice.apply(this.rules,
g)},findIndex:function(c){for(var b=this.rules,h=b.length-1;0<=h&&c<b[h].priority;)h--;return h+1},exec:function(c,b){var h=b instanceof CKEDITOR.htmlParser.node||b instanceof CKEDITOR.htmlParser.fragment,g=Array.prototype.slice.call(arguments,1),l=this.rules,k=l.length,d,f,a,n;for(n=0;n<k;n++)if(h&&(d=b.type,f=b.name),a=l[n],!(c.nonEditable&&!a.options.applyToAll||c.nestedEditable&&a.options.excludeNestedEditable)){a=a.value.apply(null,g);if(!1===a||h&&a&&(a.name!=f||a.type!=d))return a;null!=a&&
(g[0]=b=a)}return b},execOnName:function(c,b){for(var h=0,g=this.rules,l=g.length,k;b&&h<l;h++)k=g[h],c.nonEditable&&!k.options.applyToAll||c.nestedEditable&&k.options.excludeNestedEditable||(b=b.replace(k.value[0],k.value[1]));return b}}})();(function(){function c(a,d){function f(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function c(a,d){return function(c){if(c.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var h=
[],g=e(c),l,k;if(g)for(n(g,1)&&h.push(g);g;)m(g)&&(l=b(g))&&n(l)&&((k=b(l))&&!m(k)?h.push(l):(f(A).insertAfter(l),l.remove())),g=g.previous;for(g=0;g<h.length;g++)h[g].remove();if(h=!a||!1!==("function"==typeof d?d(c):d))A||CKEDITOR.env.needsBrFiller||c.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?A||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||c.name in CKEDITOR.dtd.tr||c.name in CKEDITOR.dtd.$listItem)?(h=e(c),h=!h||"form"==c.name&&"input"==h.name):h=!1:h=!1;h&&c.add(f(a))}}}function n(a,b){if((!A||
CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&"br"==a.name&&!a.attributes["data-cke-eol"])return!0;var d;return a.type==CKEDITOR.NODE_TEXT&&(d=a.value.match(z))&&(d.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,d.index))).insertBefore(a),a.value=d[0]),!CKEDITOR.env.needsBrFiller&&A&&(!b||a.parent.name in k)||!A&&((d=a.previous)&&"br"==d.name||!d||m(d)))?!0:!1}var g={elements:{}},A="html"==d,k=CKEDITOR.tools.extend({},v),E;for(E in k)"#"in B[E]||delete k[E];for(E in k)g.elements[E]=
c(A,a.config.fillEmptyBlocks);g.root=c(A,!1);g.elements.br=function(a){return function(d){if(d.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var c=d.attributes;if("data-cke-bogus"in c||"data-cke-eol"in c)delete c["data-cke-bogus"];else{for(c=d.next;c&&h(c);)c=c.next;var e=b(d);!c&&m(d.parent)?l(d.parent,f(a)):m(c)&&e&&!m(e)&&f(a).insertBefore(c)}}}}(A);return g}function g(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?"div":"p":!1}function e(a){for(a=a.children[a.children.length-1];a&&
h(a);)a=a.previous;return a}function b(a){for(a=a.previous;a&&h(a);)a=a.previous;return a}function h(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes["data-cke-bookmark"]}function m(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in v||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function l(a,b){var d=a.children[a.children.length-1];a.children.push(b);b.parent=a;d&&(d.next=b,b.previous=d)}function k(a){a=a.attributes;"false"!=a.contenteditable&&
(a["data-cke-editable"]=a.contenteditable?"true":1);a.contenteditable="false"}function d(a){a=a.attributes;switch(a["data-cke-editable"]){case "true":a.contenteditable="true";break;case "1":delete a.contenteditable}}function f(a){return a.replace(G,function(a,b,d){return"\x3c"+b+d.replace(L,function(a,b){return E.test(b)&&-1==d.indexOf("data-cke-saved-"+b)?" data-cke-saved-"+a+" data-cke-"+CKEDITOR.rnd+"-"+a:a})+"\x3e"})}function a(a,b){return a.replace(b,function(a,b,d){0===a.indexOf("\x3ctextarea")&&
(a=b+x(d).replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")+"\x3c/textarea\x3e");return"\x3ccke:encoded\x3e"+encodeURIComponent(a)+"\x3c/cke:encoded\x3e"})}function n(a){return a.replace(K,function(a,b){return decodeURIComponent(b)})}function r(a){return a.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(a){return"\x3c!--"+t+"{C}"+encodeURIComponent(a).replace(/--/g,"%2D%2D")+"--\x3e"})}function x(a){return a.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)})}
function p(a,b){var d=b._.dataStore;return a.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\{cke_protected_(\d+)\}/g,function(a,b){return d&&d[b]||""})}function q(a,b){var d=[],f=b.config.protectedSource,c=b._.dataStore||(b._.dataStore={id:1}),e=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g,f=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(f);a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,function(a){return"\x3c!--{cke_tempcomment}"+
(d.push(a)-1)+"--\x3e"});for(var h=0;h<f.length;h++)a=a.replace(f[h],function(a){a=a.replace(e,function(a,b,f){return d[f]});return/cke_temp(comment)?/.test(a)?a:"\x3c!--{cke_temp}"+(d.push(a)-1)+"--\x3e"});a=a.replace(e,function(a,b,f){return"\x3c!--"+t+(b?"{C}":"")+encodeURIComponent(d[f]).replace(/--/g,"%2D%2D")+"--\x3e"});a=a.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(a){return a.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(a,
b){c[c.id]=decodeURIComponent(b);return"{cke_protected_"+c.id++ +"}"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(a,d,f,c){return"\x3c"+d+f+"\x3e"+p(x(c),b)+"\x3c/"+d+"\x3e"})}var u;CKEDITOR.htmlDataProcessor=function(b){var d,e,h=this;this.editor=b;this.dataFilter=d=new CKEDITOR.htmlParser.filter;this.htmlFilter=e=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;d.addRules(F);d.addRules(y,{applyToAll:!0});d.addRules(c(b,"data"),
{applyToAll:!0});e.addRules(C);e.addRules(H,{applyToAll:!0});e.addRules(c(b,"html"),{applyToAll:!0});b.on("toHtml",function(d){d=d.data;var c=d.dataValue,e,c=u(c),c=q(c,b),c=a(c,O),c=f(c),c=a(c,D),c=c.replace(M,"$1cke:$2"),c=c.replace(N,"\x3ccke:$1$2\x3e\x3c/cke:$1\x3e"),c=c.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),c=c.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");e=d.context||b.editable().getName();var h;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==e&&(e="div",
c="\x3cpre\x3e"+c+"\x3c/pre\x3e",h=1);e=b.document.createElement(e);e.setHtml("a"+c);c=e.getHtml().substr(1);c=c.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),"");h&&(c=c.replace(/^<pre>|<\/pre>$/gi,""));c=c.replace(A,"$1$2");c=n(c);c=x(c);e=!1===d.fixForBody?!1:g(d.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,d.context,e);e&&(h=c,!h.children.length&&CKEDITOR.dtd[h.name][e]&&(e=new CKEDITOR.htmlParser.element(e),h.add(e)));d.dataValue=c},null,null,5);b.on("toHtml",
function(a){a.data.filter.applyTo(a.data.dataValue,!0,a.data.dontFilter,a.data.enterMode)&&b.fire("dataFiltered")},null,null,6);b.on("toHtml",function(a){a.data.dataValue.filterChildren(h.dataFilter,!0)},null,null,10);b.on("toHtml",function(a){a=a.data;var b=a.dataValue,d=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(d);b=d.getHtml(!0);a.dataValue=r(b)},null,null,15);b.on("toDataFormat",function(a){var d=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(d=d.replace(/^<br *\/?>/i,""));
a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(d,a.data.context,g(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on("toDataFormat",function(a){a.data.dataValue.filterChildren(h.htmlFilter,!0)},null,null,10);b.on("toDataFormat",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);b.on("toDataFormat",function(a){var d=a.data.dataValue,f=h.writer;f.reset();d.writeChildrenHtml(f);d=f.getHtml(!0);d=x(d);d=p(d,b);a.data.dataValue=d},null,null,15)};CKEDITOR.htmlDataProcessor.prototype=
{toHtml:function(a,b,d,f){var c=this.editor,e,h,g,n;b&&"object"==typeof b?(e=b.context,d=b.fixForBody,f=b.dontFilter,h=b.filter,g=b.enterMode,n=b.protectedWhitespaces):e=b;e||null===e||(e=c.editable().getName());return c.fire("toHtml",{dataValue:a,context:e,fixForBody:d,dontFilter:f,filter:h||c.filter,enterMode:g||c.enterMode,protectedWhitespaces:n}).dataValue},toDataFormat:function(a,b){var d,f,c;b&&(d=b.context,f=b.filter,c=b.enterMode);d||null===d||(d=this.editor.editable().getName());return this.editor.fire("toDataFormat",
{dataValue:a,filter:f||this.editor.filter,context:d,enterMode:c||this.editor.enterMode}).dataValue}};var z=/(?:&nbsp;|\xa0)$/,t="{cke_protected}",B=CKEDITOR.dtd,w="caption colgroup col thead tfoot tbody".split(" "),v=CKEDITOR.tools.extend({},B.$blockLimit,B.$block),F={elements:{input:k,textarea:k}},y={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(a){if(a.attributes&&a.attributes.src){var b=a.attributes.src.toLowerCase().replace(/[^a-z]/gi,
"");if(0===b.indexOf("javascript")||0===b.indexOf("data"))a.attributes["data-cke-pa-src"]=a.attributes.src,delete a.attributes.src}}}},C={elements:{embed:function(a){var b=a.parent;if(b&&"object"==b.name){var d=b.attributes.width,b=b.attributes.height;d&&(a.attributes.width=d);b&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes["data-cke-saved-name"]))return!1}}},H={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,
""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(a){var b=a.attributes;if(b){if(b["data-cke-temp"])return!1;for(var d=["name","href","src"],f,c=0;c<d.length;c++)f="data-cke-saved-"+d[c],f in b&&delete b[d[c]]}return a},table:function(a){a.children.slice(0).sort(function(a,b){var d,f;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(d=CKEDITOR.tools.indexOf(w,a.name),f=CKEDITOR.tools.indexOf(w,b.name));-1<d&&-1<f&&d!=f||(d=a.parent?a.getIndex():-1,f=b.parent?b.getIndex():-1);return d>f?
1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){"Apple-style-span"==a.attributes["class"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes["class"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type="text/css")},title:function(a){var b=a.children[0];!b&&l(a,b=new CKEDITOR.htmlParser.text);
b.value=a.attributes["data-cke-title"]||""},input:d,textarea:d},attributes:{"class":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(H.attributes.style=function(a){return a.replace(/(^|;)([^\:]+)/g,function(a){return a.toLowerCase()})});var G=/<(a|area|img|input|source)\b([^>]*)>/gi,L=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,E=/^(href|src|name)$/i,D=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,
O=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,K=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,M=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,A=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,N=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;u=function(){function a(d){return CKEDITOR.tools.array.reduce(d.split(""),function(a,d){var f=d.toLowerCase(),c=d.toUpperCase(),e=b(f);f!==c&&(e+="|"+b(c));return a+("("+e+")")},"")}function b(a){var d;d=a.charCodeAt(0);var f=d.toString(16);
d={htmlCode:"\x26#"+d+";?",hex:"\x26#x0*"+f+";?",entity:{"\x3c":"\x26lt;","\x3e":"\x26gt;",":":"\x26colon;"}[a]};for(var c in d)d[c]&&(a+="|"+d[c]);return a}var d=new RegExp("("+a("\x3ccke:encoded\x3e")+"(.*?)"+a("\x3c/cke:encoded\x3e")+")|("+a("\x3c")+a("/")+"?"+a("cke:encoded\x3e")+")","gi"),f=new RegExp("(("+a("{cke_protected")+")(_[0-9]*)?"+a("}")+")","gi");return function(a){return a.replace(d,"").replace(f,"")}}()})();"use strict";CKEDITOR.htmlParser.element=function(c,g){this.name=c;this.attributes=
g||{};this.children=[];var e=c||"",b=e.match(/^cke:(.*)/);b&&(e=b[1]);e=!!(CKEDITOR.dtd.$nonBodyContent[e]||CKEDITOR.dtd.$block[e]||CKEDITOR.dtd.$listItem[e]||CKEDITOR.dtd.$tableContent[e]||CKEDITOR.dtd.$nonEditable[e]||"br"==e);this.isEmpty=!!CKEDITOR.dtd.$empty[c];this.isUnknown=!CKEDITOR.dtd[c];this._={isBlockLike:e,hasInlineStarted:this.isEmpty||!e}};CKEDITOR.htmlParser.cssStyle=function(c){var g={};((c instanceof CKEDITOR.htmlParser.element?c.attributes.style:c)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,
function(c,b,h){"font-family"==b&&(h=h.replace(/["']/g,""));g[b.toLowerCase()]=h});return{rules:g,populate:function(c){var b=this.toString();b&&(c instanceof CKEDITOR.dom.element?c.setAttribute("style",b):c instanceof CKEDITOR.htmlParser.element?c.attributes.style=b:c.style=b)},toString:function(){var c=[],b;for(b in g)g[b]&&c.push(b,":",g[b],";");return c.join("")}}};(function(){function c(b){return function(c){return c.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof b?c.name==b:c.name in b)}}var g=
function(b,c){b=b[0];c=c[0];return b<c?-1:b>c?1:0},e=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:e.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(b,c){var e=this,g,k;c=e.getFilterContext(c);if(!e.parent)b.onRoot(c,e);for(;;){g=e.name;if(!(k=b.onElementName(c,g)))return this.remove(),!1;e.name=k;if(!(e=b.onElement(c,e)))return this.remove(),
!1;if(e!==this)return this.replaceWith(e),!1;if(e.name==g)break;if(e.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(e),!1;if(!e.name)return this.replaceWithChildren(),!1}g=e.attributes;var d,f;for(d in g){for(k=g[d];;)if(f=b.onAttributeName(c,d))if(f!=d)delete g[d],d=f;else break;else{delete g[d];break}f&&(!1===(k=b.onAttribute(c,e,f,k))?delete g[f]:g[f]=k)}e.isEmpty||this.filterChildren(b,!1,c);return!0},filterChildren:e.filterChildren,writeHtml:function(b,c){c&&this.filter(c);var e=this.name,
l=[],k=this.attributes,d,f;b.openTag(e,k);for(d in k)l.push([d,k[d]]);b.sortAttributes&&l.sort(g);d=0;for(f=l.length;d<f;d++)k=l[d],b.attribute(k[0],k[1]);b.openTagClose(e,this.isEmpty);this.writeChildrenHtml(b);this.isEmpty||b.closeTag(e)},writeChildrenHtml:e.writeChildrenHtml,replaceWithChildren:function(){for(var b=this.children,c=b.length;c;)b[--c].insertAfter(this);this.remove()},forEach:e.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;"function"!=typeof b&&
(b=c(b));for(var e=0,g=this.children.length;e<g;++e)if(b(this.children[e]))return this.children[e];return null},getHtml:function(){var b=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(b);return b.getHtml()},setHtml:function(b){b=this.children=CKEDITOR.htmlParser.fragment.fromHtml(b).children;for(var c=0,e=b.length;c<e;++c)b[c].parent=this},getOuterHtml:function(){var b=new CKEDITOR.htmlParser.basicWriter;this.writeHtml(b);return b.getHtml()},split:function(b){for(var c=this.children.splice(b,
this.children.length-b),e=this.clone(),g=0;g<c.length;++g)c[g].parent=e;e.children=c;c[0]&&(c[0].previous=null);0<b&&(this.children[b-1].next=null);this.parent.add(e,this.getIndex()+1);return e},find:function(b,c){void 0===c&&(c=!1);var e=[],g;for(g=0;g<this.children.length;g++){var k=this.children[g];"function"==typeof b&&b(k)?e.push(k):"string"==typeof b&&k.name===b&&e.push(k);c&&k.find&&(e=e.concat(k.find(b,c)))}return e},findOne:function(b,c){var e=null,g=CKEDITOR.tools.array.find(this.children,
function(g){var d="function"===typeof b?b(g):g.name===b;if(d||!c)return d;g.children&&g.findOne&&(e=g.findOne(b,!0));return!!e});return e||g||null},addClass:function(b){if(!this.hasClass(b)){var c=this.attributes["class"]||"";this.attributes["class"]=c+(c?" ":"")+b}},removeClass:function(b){var c=this.attributes["class"];c&&((c=CKEDITOR.tools.trim(c.replace(new RegExp("(?:\\s+|^)"+b+"(?:\\s+|$)")," ")))?this.attributes["class"]=c:delete this.attributes["class"])},hasClass:function(b){var c=this.attributes["class"];
return c?(new RegExp("(?:^|\\s)"+b+"(?\x3d\\s|$)")).test(c):!1},getFilterContext:function(b){var c=[];b||(b={nonEditable:!1,nestedEditable:!1});b.nonEditable||"false"!=this.attributes.contenteditable?b.nonEditable&&!b.nestedEditable&&"true"==this.attributes.contenteditable&&c.push("nestedEditable",!0):c.push("nonEditable",!0);if(c.length){b=CKEDITOR.tools.copy(b);for(var e=0;e<c.length;e+=2)b[c[e]]=c[e+1]}return b}},!0)})();(function(){var c=/{([^}]+)}/g;CKEDITOR.template=function(c){this.source=
"function"===typeof c?c:String(c)};CKEDITOR.template.prototype.output=function(g,e){var b=("function"===typeof this.source?this.source(g):this.source).replace(c,function(b,c){return void 0!==g[c]?g[c]:b});return e?e.push(b):b}})();delete CKEDITOR.loadFullCore;CKEDITOR.instances={};CKEDITOR.document=new CKEDITOR.dom.document(document);CKEDITOR.add=function(c){function g(){CKEDITOR.currentInstance==c&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[c.name]=c;c.on("focus",
function(){CKEDITOR.currentInstance!=c&&(CKEDITOR.currentInstance=c,CKEDITOR.fire("currentInstance"))});c.on("blur",g);c.on("destroy",g);CKEDITOR.fire("instance",null,c)};CKEDITOR.remove=function(c){delete CKEDITOR.instances[c.name]};(function(){var c={};CKEDITOR.addTemplate=function(g,e){var b=c[g];if(b)return b;b={name:g,source:e};CKEDITOR.fire("template",b);return c[g]=new CKEDITOR.template(b.source)};CKEDITOR.getTemplate=function(g){return c[g]}})();(function(){var c=[];CKEDITOR.addCss=function(g){c.push(g)};
CKEDITOR.getCss=function(){return c.join("\n")}})();CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")});CKEDITOR.TRISTATE_ON=1;CKEDITOR.TRISTATE_OFF=2;CKEDITOR.TRISTATE_DISABLED=0;(function(){CKEDITOR.inline=function(c,g){c=CKEDITOR.editor._getEditorElement(c);if(!c)return null;var e=new CKEDITOR.editor(g,c,CKEDITOR.ELEMENT_MODE_INLINE),b=c.is("textarea")?c:null;b?(e.setData(b.getValue(),null,!0),c=CKEDITOR.dom.element.createFromHtml('\x3cdiv contenteditable\x3d"'+
!!e.readOnly+'" class\x3d"cke_textarea_inline"\x3e'+b.getValue()+"\x3c/div\x3e",CKEDITOR.document),c.insertAfter(b),b.hide(),b.$.form&&e._attachToForm()):(g&&"undefined"!==typeof g.readOnly&&!g.readOnly&&c.setAttribute("contenteditable","true"),e.setData(c.getHtml(),null,!0));e.on("loaded",function(){e.fire("uiReady");e.editable(c);e.container=c;e.ui.contentsElement=c;e.setData(e.getData(1));e.resetDirty();e.fire("contentDom");e.mode="wysiwyg";e.fire("mode");e.status="ready";e.fireOnce("instanceReady");
CKEDITOR.fire("instanceReady",null,e)},null,null,1E4);e.on("destroy",function(){var c=e.container;b&&c&&(c.clearCustomData(),c.remove());b&&b.show();e.element.clearCustomData();delete e.element});return e};CKEDITOR.inlineAll=function(){var c,g,e;for(e in CKEDITOR.dtd.$editable)for(var b=CKEDITOR.document.getElementsByTag(e),h=0,m=b.count();h<m;h++)c=b.getItem(h),"true"==c.getAttribute("contenteditable")&&(g={element:c,config:{}},!1!==CKEDITOR.fire("inline",g)&&CKEDITOR.inline(c,g.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&
CKEDITOR.inlineAll()})})();CKEDITOR.replaceClass="ckeditor";(function(){function c(b,c,m,l){b=CKEDITOR.editor._getEditorElement(b);if(!b)return null;var k=new CKEDITOR.editor(c,b,l);l==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.setStyle("visibility","hidden"),k._.required=b.hasAttribute("required"),b.removeAttribute("required"));m&&k.setData(m,null,!0);k.on("loaded",function(){k.isDestroyed()||k.isDetached()||(e(k),l==CKEDITOR.ELEMENT_MODE_REPLACE&&k.config.autoUpdateElement&&b.$.form&&k._attachToForm(),k.setMode(k.config.startupMode,
function(){k.resetDirty();k.status="ready";k.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,k)}))});k.on("destroy",g);return k}function g(){var b=this.container,c=this.element;b&&(b.clearCustomData(),b.remove());c&&(c.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(c.show(),this._.required&&c.setAttribute("required","required")),delete this.element)}function e(b){var c=b.name,e=b.element,g=b.elementMode,k=b.fire("uiSpace",{space:"top",html:""}).html,d=b.fire("uiSpace",
{space:"bottom",html:""}).html,f=new CKEDITOR.template('\x3c{outerEl} id\x3d"cke_{name}" class\x3d"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir\x3d"{langDir}" lang\x3d"{langCode}" role\x3d"application"'+(b.title?' aria-labelledby\x3d"cke_{name}_arialbl"':"")+"\x3e"+(b.title?'\x3cspan id\x3d"cke_{name}_arialbl" class\x3d"cke_voice_label"\x3e{voiceLabel}\x3c/span\x3e':"")+'\x3c{outerEl} class\x3d"cke_inner cke_reset" role\x3d"presentation"\x3e{topHtml}\x3c{outerEl} id\x3d"{contentId}" class\x3d"cke_contents cke_reset" role\x3d"presentation"\x3e\x3c/{outerEl}\x3e{bottomHtml}\x3c/{outerEl}\x3e\x3c/{outerEl}\x3e'),
c=CKEDITOR.dom.element.createFromHtml(f.output({id:b.id,name:c,langDir:b.lang.dir,langCode:b.langCode,voiceLabel:b.title,topHtml:k?'\x3cspan id\x3d"'+b.ui.spaceId("top")+'" class\x3d"cke_top cke_reset_all" role\x3d"presentation" style\x3d"height:auto"\x3e'+k+"\x3c/span\x3e":"",contentId:b.ui.spaceId("contents"),bottomHtml:d?'\x3cspan id\x3d"'+b.ui.spaceId("bottom")+'" class\x3d"cke_bottom cke_reset_all" role\x3d"presentation"\x3e'+d+"\x3c/span\x3e":"",outerEl:CKEDITOR.env.ie?"span":"div"}));g==CKEDITOR.ELEMENT_MODE_REPLACE?
(e.hide(),c.insertAfter(e)):e.append(c);b.container=c;b.ui.contentsElement=b.ui.space("contents");k&&b.ui.space("top").unselectable();d&&b.ui.space("bottom").unselectable();e=b.config.width;g=b.config.height;e&&c.setStyle("width",CKEDITOR.tools.cssLength(e));g&&b.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(g));c.disableContextMenu();CKEDITOR.env.webkit&&c.on("focus",function(){b.focus()});b.fireOnce("uiReady")}CKEDITOR.replace=function(b,e){return c(b,e,null,CKEDITOR.ELEMENT_MODE_REPLACE)};
CKEDITOR.appendTo=function(b,e,g){return c(b,e,g,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var b=document.getElementsByTagName("textarea"),c=0;c<b.length;c++){var e=null,g=b[c];if(g.name||g.id){if("string"==typeof arguments[0]){if(!(new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)")).test(g.className))continue}else if("function"==typeof arguments[0]&&(e={},!1===arguments[0](g,e)))continue;this.replace(g,e)}}};CKEDITOR.editor.prototype.addMode=function(b,c){(this._.modes||(this._.modes=
{}))[b]=c};CKEDITOR.editor.prototype.setMode=function(b,c){var e=this,g=this._.modes;if(b!=e.mode&&g&&g[b]){e.fire("beforeSetMode",b);if(e.mode){var k=e.checkDirty(),g=e._.previousModeData,d,f=0;e.fire("beforeModeUnload");e.editable(0);e._.previousMode=e.mode;e._.previousModeData=d=e.getData(1);"source"==e.mode&&g==d&&(e.fire("lockSnapshot",{forceUpdate:!0}),f=1);e.ui.space("contents").setHtml("");e.mode=""}else e._.previousModeData=e.getData(1);this._.modes[b](function(){e.mode=b;void 0!==k&&!k&&
e.resetDirty();f?e.fire("unlockSnapshot"):"wysiwyg"==b&&e.fire("saveSnapshot");setTimeout(function(){e.isDestroyed()||e.isDetached()||(e.fire("mode"),c&&c.call(e))},0)})}};CKEDITOR.editor.prototype.resize=function(b,c,e,g){var k=this.container,d=this.ui.space("contents"),f=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;g=g?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}):k;b=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(b));
g.setSize("width",b,!0);f&&(f.style.width="1%");c=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(c));var a=(g.$.offsetHeight||0)-(d.$.clientHeight||0),k=Math.max(c-(e?0:a),0);c=e?c+a:c;d.setStyle("height",CKEDITOR.tools.cssLength(k));f&&(f.style.width="100%");this.fire("resize",{outerHeight:c,contentsHeight:k,outerWidth:b||g.getSize("width")})};CKEDITOR.editor.prototype.getResizable=function(b){return b?this.ui.space("contents"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&
CKEDITOR.replaceAll(CKEDITOR.replaceClass)})})();CKEDITOR.config.startupMode="wysiwyg";(function(){function c(a){var d=a.editor,c=a.data.path,f=c.blockLimit,e=a.data.selection,h=e.getRanges()[0],n;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(e=g(e,c))e.appendBogus(),n=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&d._.previousActive;l(d,c.block,f)&&h.collapsed&&!h.getCommonAncestor().isReadOnly()&&(c=h.clone(),c.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),f=new CKEDITOR.dom.walker(c),
f.guard=function(a){return!b(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!f.checkForward()||c.checkStartOfBlock()&&c.checkEndOfBlock())&&(d=h.fixBlock(!0,d.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(d=d.getFirst(b))&&d.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(d.getText()).match(/^(?:&nbsp;|\xa0)$/)&&d.remove(),n=1,a.cancel());n&&h.select()}function g(a,d){if(a.isFake)return 0;var c=d.block||d.blockLimit,f=c&&c.getLast(b);if(!(!c||!c.isBlockBoundary()||
f&&f.type==CKEDITOR.NODE_ELEMENT&&f.isBlockBoundary()||c.is("pre")||c.getBogus()))return c}function e(a){var b=a.data.getTarget();b.is("input")&&(b=b.getAttribute("type"),"submit"!=b&&"reset"!=b||a.data.preventDefault())}function b(a){return n(a)&&r(a)}function h(a,b){return function(d){var c=d.data.$.toElement||d.data.$.fromElement||d.data.$.relatedTarget;(c=c&&c.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(c):null)&&(b.equals(c)||b.contains(c))||a.call(this,d)}}function m(a){function d(a){return function(d,
f){f&&d.type==CKEDITOR.NODE_ELEMENT&&d.is(e)&&(c=d);if(!(f||!b(d)||a&&p(d)))return!1}}var c,f=a.getRanges()[0];a=a.root;var e={table:1,ul:1,ol:1,dl:1};if(f.startPath().contains(e)){var h=f.clone();h.collapse(1);h.setStartAt(a,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(h);a.guard=d();a.checkBackward();if(c)return h=f.clone(),h.collapse(),h.setEndAt(c,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(h),a.guard=d(!0),c=!1,a.checkForward(),c}return null}function l(a,b,d){return!1!==
a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(d)&&!b||b&&"true"==b.getAttribute("contenteditable"))}function k(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?a.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1}function d(a){a&&a.isEmptyInlineRemoveable()&&a.remove()}function f(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire("saveSnapshot")},0)}function a(a,b,d){var c=a.getCommonAncestor(b);for(b=a=d?
b:a;(a=a.getParent())&&!c.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var n,r,x,p,q,u,z,t,B,w;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status="unloaded";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&
this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var b=this.$.scrollTop;this.$.focus();this.$.scrollTop=b}else this.$.focus();else this.$.setActive()}catch(d){if(!CKEDITOR.env.ie)throw d;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},
on:function(a,b){var d=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a="focus"==a?"focusin":"focusout",b=h(b,this),d[0]=a,d[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,d)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=
this._.attrChanges,b,d;for(d in a)a.hasOwnProperty(d)&&(b=a[d],null!==b?this.setAttribute(d,b):this.removeAttribute(d))},attachClass:function(a){var b=this.getCustomData("classes");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData("classes",b),this.addClass(a))},changeAttr:function(a,b){var d=this.getAttribute(a);b!==d&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=d),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),
"text")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,d){var c=this.editor;c.focus();c.fire("saveSnapshot");d||(d=c.getSelection().getRanges()[0]);u(this,b||"html",a,d);d.select();f(this);this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(a,b,d){u(this,d||"html",a,b);this.editor.fire("afterInsertHtml",
{intoRange:b})},insertElement:function(a,d){var c=this.editor;c.focus();c.fire("saveSnapshot");var e=c.activeEnterMode,c=c.getSelection(),h=a.getName(),h=CKEDITOR.dtd.$block[h];d||(d=c.getRanges()[0]);this.insertElementIntoRange(a,d)&&(d.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),h&&((h=a.getNext(function(a){return b(a)&&!p(a)}))&&h.type==CKEDITOR.NODE_ELEMENT&&h.is(CKEDITOR.dtd.$block)?h.getDtd()["#"]?d.moveToElementEditStart(h):d.moveToElementEditEnd(a):h||e==CKEDITOR.ENTER_BR||(h=d.fixBlock(!0,
e==CKEDITOR.ENTER_DIV?"div":"p"),d.moveToElementEditStart(h))));c.selectRanges([d]);f(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,f=c.config.enterMode,e=a.getName(),h=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&(b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?z(b):b.startContainer.is(CKEDITOR.dtd.$list)&&t(b));var g,n;if(h)for(;(g=b.getCommonAncestor(0,
1))&&(n=CKEDITOR.dtd[g.getName()])&&(!n||!n[e]);)if(g.getName()in CKEDITOR.dtd.span){var h=b.splitElement(g),l=b.createBookmark();d(g);d(h);b.moveToBookmark(l)}else b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(g),b.collapse(!0),g.remove()):b.splitBlock(f==CKEDITOR.ENTER_DIV?"div":"p",c.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();"unloaded"==this.status&&(this.status="ready");this.editor.fire("dataReady")},
getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute("contenteditable",!a)},detach:function(){this.status="detached";this.editor.setData(this.editor.getData(),{internal:!0});this.clearListeners();try{this._.cleanCustomData()}catch(a){if(!CKEDITOR.env.ie||-2146828218!==a.number)throw a;}this.editor.fire("contentDomUnload");delete this.editor.document;delete this.editor.window;delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},
fixInitialSelection:function(){function a(){var b=d.getDocument().$,c=b.getSelection(),f;a:if(c.anchorNode&&c.anchorNode==d.$)f=!0;else{if(CKEDITOR.env.webkit&&(f=d.getDocument().getActive())&&f.equals(d)&&!c.anchorNode){f=!0;break a}f=void 0}f&&(f=new CKEDITOR.dom.range(d),f.moveToElementEditStart(d),b=b.createRange(),b.setStart(f.startContainer.$,f.startOffset),b.collapse(!0),c.removeAllRanges(),c.addRange(b))}function b(){var a=d.getDocument().$,c=a.selection,f=d.getDocument().getActive();"None"==
c.type&&f.equals(d)&&(c=new CKEDITOR.dom.range(d),a=a.body.createTextRange(),c.moveToElementEditStart(d),c=c.startContainer,c.type!=CKEDITOR.NODE_ELEMENT&&(c=c.getParent()),a.moveToElementText(c.$),a.collapse(!0),a.select())}var d=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once("focus",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);
a={doc:this.getDocument(),range:a.clone()};B.eol.detect(a,this);B.bogus.exclude(a);B.cell.shrink(a);a.fragment=a.range.cloneContents();B.tree.rebuild(a,this);B.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var d=w,c={range:a,doc:a.document},f=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),f;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);d.table.detectPurge(c);c.bookmark=a.createBookmark();delete c.range;var e=this.editor.createRange();
e.moveToPosition(c.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);c.targetBookmark=e.createBookmark();d.list.detectMerge(c,this);d.table.detectRanges(c,this);d.block.detectMerge(c,this);c.tableContentsRanges?(d.table.deleteRanges(c),a.moveToBookmark(c.bookmark),c.range=a):(a.moveToBookmark(c.bookmark),c.range=a,a.extractContents(d.detectExtractMerge(c)));a.moveToBookmark(c.targetBookmark);a.optimize();d.fixUneditableRangePosition(a);d.list.merge(c,this);d.table.purge(c,this);d.block.merge(c,this);
if(b){d=a.startPath();if(c=a.checkStartOfBlock()&&a.checkEndOfBlock()&&d.block&&!a.root.equals(d.block)){a:{var c=d.block.getElementsByTag("span"),e=0,h;if(c)for(;h=c.getItem(e++);)if(!r(h)){c=!0;break a}c=!1}c=!c}c&&(a.moveToPosition(d.block,CKEDITOR.POSITION_BEFORE_START),d.block.remove())}else d.autoParagraph(this.editor,a),x(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return f},setup:function(){var d=this.editor;this.attachListener(d,"beforeGetData",function(){var a=
this.getData();this.is("textarea")||!1!==d.config.ignoreEmptyParagraph&&(a=a.replace(q,function(a,b){return b}));d.setData(a,null,1)},this);this.attachListener(d,"getSnapshot",function(a){a.data=this.getData(1)},this);this.attachListener(d,"afterSetData",function(){this.setData(d.getData(1))},this);this.attachListener(d,"loadSnapshot",function(a){this.setData(a.data,1)},this);this.attachListener(d,"beforeFocus",function(){var a=d.getSelection();(a=a&&a.getNative())&&"Control"==a.type||this.focus()},
this);this.attachListener(d,"insertHtml",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(d,"insertElement",function(a){this.insertElement(a.data)},this);this.attachListener(d,"insertText",function(a){this.insertText(a.data)},this);this.setReadOnly(d.readOnly);this.attachClass("cke_editable");d.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):d.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&d.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||
this.attachClass("cke_editable_themed");this.attachClass("cke_contents_"+d.config.contentsLangDirection);d.keystrokeHandler.blockedKeystrokes[8]=+d.readOnly;d.keystrokeHandler.attach(this);this.on("blur",function(){this.hasFocus=!1},null,null,-1);this.on("focus",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on("scroll",function(){d._.previousScrollTop=d.editable().$.scrollTop},null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var c=function(){var a=d.editable();
null!=d._.previousScrollTop&&a.getDocument().equals(CKEDITOR.document)&&(a.$.scrollTop=d._.previousScrollTop,d._.previousScrollTop=null,this.removeListener("scroll",c))};this.on("scroll",c)}d.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,d.once("contentDom",function(){d.focusManager.focus(this)},this));this.isInline()&&this.changeAttr("tabindex",d.tabIndex);if(!this.is("textarea")){d.document=this.getDocument();d.window=this.getWindow();var f=d.document;this.changeAttr("spellcheck",
!d.config.disableNativeSpellChecker);var h=d.config.contentsLangDirection;this.getDirection(1)!=h&&this.changeAttr("dir",h);var g=CKEDITOR.getCss();if(g){var h=f.getHead(),l=h.getCustomData("stylesheet");l?g!=l.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?l.$.styleSheet.cssText=g:l.setText(g)):(g=f.appendStyleText(g),g=new CKEDITOR.dom.element(g.ownerNode||g.owningElement),h.setCustomData("stylesheet",g),g.data("cke-temp",1))}h=f.getCustomData("stylesheet_ref")||0;f.setCustomData("stylesheet_ref",
h+1);this.setCustomData("cke_includeReadonly",!d.config.disableReadonlyStyling);this.attachListener(this,"click",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains("a");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var k={8:1,46:1};this.attachListener(d,"key",function(a){if(d.readOnly)return!0;var b=a.data.domEvent.getKey(),c;a=d.getSelection();if(0!==a.getRanges().length){if(b in k){var f,e=a.getRanges()[0],h=e.startPath(),g,l,r,b=8==b;CKEDITOR.env.ie&&
11>CKEDITOR.env.version&&(f=a.getSelectedElement())||(f=m(a))?(d.fire("saveSnapshot"),e.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START),f.remove(),e.select(),d.fire("saveSnapshot"),c=1):e.collapsed&&((g=h.block)&&(r=g[b?"getPrevious":"getNext"](n))&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("table")&&e[b?"checkStartOfBlock":"checkEndOfBlock"]()?(d.fire("saveSnapshot"),e[b?"checkEndOfBlock":"checkStartOfBlock"]()&&g.remove(),e["moveToElementEdit"+(b?"End":"Start")](r),e.select(),d.fire("saveSnapshot"),
c=1):h.blockLimit&&h.blockLimit.is("td")&&(l=h.blockLimit.getAscendant("table"))&&e.checkBoundaryOfElement(l,b?CKEDITOR.START:CKEDITOR.END)&&(r=l[b?"getPrevious":"getNext"](n))?(d.fire("saveSnapshot"),e["moveToElementEdit"+(b?"End":"Start")](r),e.checkStartOfBlock()&&e.checkEndOfBlock()?r.remove():e.select(),d.fire("saveSnapshot"),c=1):(l=h.contains(["td","th","caption"]))&&e.checkBoundaryOfElement(l,b?CKEDITOR.START:CKEDITOR.END)&&(c=1))}return!c}});d.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&
this.attachListener(this,"keyup",function(a){a.data.getKeystroke()in k&&!this.getFirst(b)&&(this.appendBogus(),a=d.createRange(),a.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),a.select())});this.attachListener(this,"dblclick",function(a){if(d.readOnly)return!1;a={element:a.data.getTarget()};d.fire("doubleclick",a)});CKEDITOR.env.ie&&this.attachListener(this,"click",e);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(a){var b=a.data.getTarget();b.is("img","hr",
"input","textarea","select")&&!b.isReadOnly()&&(d.getSelection().selectElement(b),b.is("input","textarea","select")&&a.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(a){(a=a.data.getTarget())&&a.is("img")&&!a.isReadOnly()&&d.getSelection().selectElement(a)});CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(a){if(2==a.data.$.button&&(a=a.data.getTarget(),!a.getAscendant("table")&&!a.getOuterHtml().replace(q,""))){var b=d.createRange();b.moveToElementEditStart(a);
b.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()}),this.attachListener(this,"mouseup",function(a){a.data.getTarget().is("input","textarea")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(d,"key",function(b){if(d.readOnly)return!0;var c=b.data.domEvent.getKey();if(c in k&&(b=d.getSelection(),0!==b.getRanges().length)){var c=8==c,f=b.getRanges()[0];b=f.startPath();if(f.collapsed)a:{var e=
b.block;if(e&&f[c?"checkStartOfBlock":"checkEndOfBlock"]()&&f.moveToClosestEditablePosition(e,!c)&&f.collapsed){if(f.startContainer.type==CKEDITOR.NODE_ELEMENT){var h=f.startContainer.getChild(f.startOffset-(c?1:0));if(h&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("hr")){d.fire("saveSnapshot");h.remove();b=!0;break a}}f=f.startPath().block;if(!f||f&&f.contains(e))b=void 0;else{d.fire("saveSnapshot");var g;(g=(c?f:e).getBogus())&&g.remove();g=d.getSelection();h=g.createBookmarks();(c?e:f).moveChildren(c?
f:e,!1);b.lastElement.mergeSiblings();a(e,f,!c);g.selectBookmarks(h);b=!0}}else b=!1}else c=f,g=b.block,f=c.endPath().block,g&&f&&!g.equals(f)?(d.fire("saveSnapshot"),(e=g.getBogus())&&e.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),f.getParent()&&(f.moveChildren(g,!1),b.lastElement.mergeSiblings(),a(g,f,!0)),c=d.getSelection().getRanges()[0],c.collapse(1),c.optimize(),""===c.startContainer.getHtml()&&c.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;d.getSelection().scrollIntoView();
d.fire("saveSnapshot");return!1}},this,null,100)}},getUniqueId:function(){var a;try{this._.expandoNumber=a=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(b){a=this._&&this._.expandoNumber}return a}},_:{cleanCustomData:function(){this.removeClass("cke_editable");this.restoreAttrs();for(var a=this.removeCustomData("classes");a&&a.length;)this.removeClass(a.pop());if(!this.is("textarea")){var a=this.getDocument(),b=a.getHead();if(b.getCustomData("stylesheet")){var d=a.getCustomData("stylesheet_ref");
--d?a.setCustomData("stylesheet_ref",d):(a.removeCustomData("stylesheet_ref"),b.removeCustomData("stylesheet").remove())}}}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;if(!arguments.length)return b;a?b=a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),b=null);return this._.editable=b};CKEDITOR.on("instanceLoaded",function(a){var b=a.editor;b.on("insertElement",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is("input")||
a.is("textarea"))&&("false"!=a.getAttribute("contentEditable")&&a.data("cke-editable",a.hasAttribute("contenteditable")?"true":"1"),a.setAttribute("contentEditable",!1))});b.on("selectionChange",function(a){if(!b.readOnly){var d=b.getSelection();d&&!d.isLocked&&(d=b.checkDirty(),b.fire("lockSnapshot"),c(a),b.fire("unlockSnapshot"),!d&&b.resetDirty())}})});CKEDITOR.on("instanceCreated",function(a){var b=a.editor;b.on("mode",function(){var a=b.editable();if(a&&a.isInline()){var d=b.title;a.changeAttr("role",
"textbox");a.changeAttr("aria-multiline","true");a.changeAttr("aria-label",d);d&&a.changeAttr("title",d);var c=b.fire("ariaEditorHelpLabel",{}).label;if(c&&(d=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var f=CKEDITOR.tools.getNextId(),c=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+f+'" class\x3d"cke_voice_label"\x3e'+c+"\x3c/span\x3e");d.append(c);a.changeAttr("aria-describedby",f)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");
n=CKEDITOR.dom.walker.whitespaces(!0);r=CKEDITOR.dom.walker.bookmark(!1,!0);x=CKEDITOR.dom.walker.empty();p=CKEDITOR.dom.walker.bogus();q=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi;u=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function c(b,d){var f,e,h,g,n=[],l=d.range.startContainer;f=d.range.startPath();for(var l=m[l.getName()],k=0,r=b.getChildren(),u=r.count(),G=-1,L=-1,x=0,p=f.contains(m.$list);k<
u;++k)f=r.getItem(k),a(f)?(h=f.getName(),p&&h in CKEDITOR.dtd.$list?n=n.concat(c(f,d)):(g=!!l[h],"br"!=h||!f.data("cke-eol")||k&&k!=u-1||(x=(e=k?n[k-1].node:r.getItem(k+1))&&(!a(e)||!e.is("br")),e=e&&a(e)&&m.$block[e.getName()]),-1!=G||g||(G=k),g||(L=k),n.push({isElement:1,isLineBreak:x,isBlock:f.isBlockBoundary(),hasBlockSibling:e,node:f,name:h,allowed:g}),e=x=0)):n.push({isElement:0,node:f,allowed:1});-1<G&&(n[G].firstNotAllowed=1);-1<L&&(n[L].lastNotAllowed=1);return n}function f(b,d){var c=[],
e=b.getChildren(),h=e.count(),g,n=0,l=m[d],k=!b.is(m.$inline)||b.is("br");for(k&&c.push(" ");n<h;n++)g=e.getItem(n),a(g)&&!g.is(l)?c=c.concat(f(g,d)):c.push(g);k&&c.push(" ");return c}function e(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function h(b){return b&&a(b)&&(b.is(m.$removeEmpty)||b.is("a")&&!b.isBlockBoundary())}function g(b,d,c,f){var e=b.clone(),h,n;e.setEndAt(d,CKEDITOR.POSITION_BEFORE_END);(h=(new CKEDITOR.dom.walker(e)).next())&&a(h)&&r[h.getName()]&&
(n=h.getPrevious())&&a(n)&&!n.getParent().equals(b.startContainer)&&c.contains(n)&&f.contains(h)&&h.isIdentical(n)&&(h.moveChildren(n),h.remove(),g(b,d,c,f))}function n(b,d){function c(b,d){if(d.isBlock&&d.isElement&&!d.node.is("br")&&a(b)&&b.is("br"))return b.remove(),1}var f=d.endContainer.getChild(d.endOffset),e=d.endContainer.getChild(d.endOffset-1);f&&c(f,b[b.length-1]);e&&c(e,b[0])&&(d.setEnd(d.endContainer,d.endOffset-1),d.collapse())}var m=CKEDITOR.dtd,r={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,
h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},x=CKEDITOR.tools.extend({},m.$inline);delete x.br;return function(r,A,N,J){var I=r.editor,p=!1;"unfiltered_html"==A&&(A="html",p=!0);if(!J.checkReadOnly()){var t=(new CKEDITOR.dom.elementPath(J.startContainer,J.root)).blockLimit||J.root;A={type:A,dontFilter:p,editable:r,editor:I,range:J,blockLimit:t,mergeCandidates:[],zombies:[]};var p=A.range,t=A.mergeCandidates,D="html"===A.type,q,w,z,B,ba,X;"text"==A.type&&
p.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(w=CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",p.document),p.insertNode(w),p.setStartAfter(w));z=new CKEDITOR.dom.elementPath(p.startContainer);A.endPath=B=new CKEDITOR.dom.elementPath(p.endContainer);if(!p.collapsed){q=B.block||B.blockLimit;var da=p.getCommonAncestor();q&&!q.equals(da)&&!q.contains(da)&&p.checkEndOfBlock()&&A.zombies.push(q);p.deleteContents()}for(;(ba=e(p))&&a(ba)&&ba.isBlockBoundary()&&z.contains(ba);)p.moveToPosition(ba,
CKEDITOR.POSITION_BEFORE_END);g(p,A.blockLimit,z,B);w&&(p.setEndBefore(w),p.collapse(),w.remove());w=p.startPath();if(q=w.contains(h,!1,1))X=p.splitElement(q),A.inlineStylesRoot=q,A.inlineStylesPeak=w.lastElement;w=p.createBookmark();D&&(d(q),d(X));(q=w.startNode.getPrevious(b))&&a(q)&&h(q)&&t.push(q);(q=w.startNode.getNext(b))&&a(q)&&h(q)&&t.push(q);for(q=w.startNode;(q=q.getParent())&&h(q);)t.push(q);p.moveToBookmark(w);I.enterMode===CKEDITOR.ENTER_DIV&&""===I.getData(!0)&&((I=r.getFirst())&&I.remove(),
J.setStartAt(r,CKEDITOR.POSITION_AFTER_START),J.collapse(!0));if(r=N){r=A.range;if("text"==A.type&&A.inlineStylesRoot){J=A.inlineStylesPeak;I=J.getDocument().createText("{cke-peak}");for(X=A.inlineStylesRoot.getParent();!J.equals(X);)I=I.appendTo(J.clone()),J=J.getParent();N=I.getOuterHtml().split("{cke-peak}").join(N)}J=A.blockLimit.getName();if(/^\s+|\s+$/.test(N)&&"span"in CKEDITOR.dtd[J]){var Z='\x3cspan data-cke-marker\x3d"1"\x3e\x26nbsp;\x3c/span\x3e';N=Z+N+Z}N=A.editor.dataProcessor.toHtml(N,
{context:null,fixForBody:!1,protectedWhitespaces:!!Z,dontFilter:A.dontFilter,filter:A.editor.activeFilter,enterMode:A.editor.activeEnterMode});J=r.document.createElement("body");J.setHtml(N);Z&&(J.getFirst().remove(),J.getLast().remove());if((Z=r.startPath().block)&&(1!=Z.getChildCount()||!Z.getBogus()))a:{var Q;if(1==J.getChildCount()&&a(Q=J.getFirst())&&Q.is(u)&&!Q.hasAttribute("contenteditable")){Z=Q.getElementsByTag("*");r=0;for(X=Z.count();r<X;r++)if(I=Z.getItem(r),!I.is(x))break a;Q.moveChildren(Q.getParent(1));
Q.remove()}}A.dataWrapper=J;r=N}if(r){Q=A.range;r=Q.document;J=A.blockLimit;X=0;var S,Z=[],R,P;N=w=0;var V,I=Q.startContainer;ba=A.endPath.elements[0];var T,p=ba.getPosition(I),t=!!ba.getCommonAncestor(I)&&p!=CKEDITOR.POSITION_IDENTICAL&&!(p&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),I=c(A.dataWrapper,A);for(n(I,Q);X<I.length;X++){p=I[X];if(D=p.isLineBreak)D=Q,q=J,B=z=void 0,p.hasBlockSibling?D=1:(z=D.startContainer.getAscendant(m.$block,1))&&z.is({div:1,p:1})?(B=z.getPosition(q),
B==CKEDITOR.POSITION_IDENTICAL||B==CKEDITOR.POSITION_CONTAINS?D=0:(q=D.splitElement(z),D.moveToPosition(q,CKEDITOR.POSITION_AFTER_START),D=1)):D=0;if(D)N=0<X;else{D=Q.startPath();!p.isBlock&&l(A.editor,D.block,D.blockLimit)&&(P=k(A.editor))&&(P=r.createElement(P),P.appendBogus(),Q.insertNode(P),CKEDITOR.env.needsBrFiller&&(S=P.getBogus())&&S.remove(),Q.moveToPosition(P,CKEDITOR.POSITION_BEFORE_END));if((D=Q.startPath().block)&&!D.equals(R)){if(S=D.getBogus())S.remove(),Z.push(D);R=D}p.firstNotAllowed&&
(w=1);if(w&&p.isElement){D=Q.startContainer;for(q=null;D&&!m[D.getName()][p.name];){if(D.equals(J)){D=null;break}q=D;D=D.getParent()}if(D)q&&(V=Q.splitElement(q),A.zombies.push(V),A.zombies.push(q));else{q=J.getName();T=!X;D=X==I.length-1;q=f(p.node,q);z=[];B=q.length;for(var da=0,fa=void 0,ca=0,aa=-1;da<B;da++)fa=q[da]," "==fa?(ca||T&&!da||(z.push(new CKEDITOR.dom.text(" ")),aa=z.length),ca=1):(z.push(fa),ca=0);D&&aa==z.length&&z.pop();T=z}}if(T){for(;D=T.pop();)Q.insertNode(D);T=0}else Q.insertNode(p.node);
p.lastNotAllowed&&X<I.length-1&&((V=t?ba:V)&&Q.setEndAt(V,CKEDITOR.POSITION_AFTER_START),w=0);Q.collapse()}}1!=I.length?S=!1:(S=I[0],S=S.isElement&&"false"==S.node.getAttribute("contenteditable"));S&&(N=!0,D=I[0].node,Q.setStartAt(D,CKEDITOR.POSITION_BEFORE_START),Q.setEndAt(D,CKEDITOR.POSITION_AFTER_END));A.dontMoveCaret=N;A.bogusNeededBlocks=Z}S=A.range;var ga;V=A.bogusNeededBlocks;for(T=S.createBookmark();R=A.zombies.pop();)R.getParent()&&(P=S.clone(),P.moveToElementEditStart(R),P.removeEmptyBlocksAtEnd());
if(V)for(;R=V.pop();)CKEDITOR.env.needsBrFiller?R.appendBogus():R.append(S.document.createText(" "));for(;R=A.mergeCandidates.pop();)R.mergeSiblings();S.moveToBookmark(T);if(!A.dontMoveCaret){for(R=e(S);R&&a(R)&&!R.is(m.$empty);){if(R.isBlockBoundary())S.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END);else{if(h(R)&&R.getHtml().match(/(\s|&nbsp;)$/g)){ga=null;break}ga=S.clone();ga.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END)}R=R.getLast(b)}ga&&S.moveToRange(ga)}}}}();z=function(){function a(b){b=
new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,d,c){d=a.getDocument().createElement(d);a.append(d,c);return d}function d(a){var b=a.count(),c;for(b;0<b--;)c=a.getItem(b),CKEDITOR.tools.trim(c.getHtml())||(c.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&c.getChildCount()&&c.getFirst().remove())}return function(c){var f=
c.startContainer,e=f.getAscendant("table",1),h=!1;d(e.getElementsByTag("td"));d(e.getElementsByTag("th"));e=c.clone();e.setStart(f,0);e=a(e).lastBackward();e||(e=c.clone(),e.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),e=a(e).lastForward(),h=!0);e||(e=f);e.is("table")?(c.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),c.collapse(!0),e.remove()):(e.is({tbody:1,thead:1,tfoot:1})&&(e=b(e,"tr",h)),e.is("tr")&&(e=b(e,e.getParent().is("thead")?"th":"td",h)),(f=e.getBogus())&&f.remove(),c.moveToPosition(e,h?CKEDITOR.POSITION_AFTER_START:
CKEDITOR.POSITION_BEFORE_END))}}();t=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$list)||a.is(CKEDITOR.dtd.$listItem)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$listItem)};return b}return function(b){var d=b.startContainer,c=!1,f;f=b.clone();f.setStart(d,0);f=a(f).lastBackward();f||(f=b.clone(),f.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),f=a(f).lastForward(),
c=!0);f||(f=d);f.is(CKEDITOR.dtd.$list)?(b.setStartAt(f,CKEDITOR.POSITION_BEFORE_START),b.collapse(!0),f.remove()):((d=f.getBogus())&&d.remove(),b.moveToPosition(f,c?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),b.select())}}();B={eol:{detect:function(a,b){var d=a.range,c=d.clone(),f=d.clone(),e=new CKEDITOR.dom.elementPath(d.startContainer,b),h=new CKEDITOR.dom.elementPath(d.endContainer,b);c.collapse(1);f.collapse();e.block&&c.checkBoundaryOfElement(e.block,CKEDITOR.END)&&(d.setStartAfter(e.block),
a.prependEolBr=1);h.block&&f.checkBoundaryOfElement(h.block,CKEDITOR.START)&&(d.setEndBefore(h.block),a.appendEolBr=1)},fix:function(a,b){var d=b.getDocument(),c;a.appendEolBr&&(c=this.createEolBr(d),a.fragment.append(c));!a.prependEolBr||c&&!c.getPrevious()||a.fragment.append(this.createEolBr(d),1)},createEolBr:function(a){return a.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),d=b.startNode,b=b.endNode;!b||!p(b)||d&&d.equals(b)||
a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var d=a.range,c=d.getCommonAncestor(),f=new CKEDITOR.dom.elementPath(c,b),e=new CKEDITOR.dom.elementPath(d.startContainer,b),d=new CKEDITOR.dom.elementPath(d.endContainer,b),h;c.type==CKEDITOR.NODE_TEXT&&(c=c.getParent());if(f.blockLimit.is({tr:1,table:1})){var g=f.contains("table").getParent();h=function(a){return!a.equals(g)}}else if(f.block&&f.block.is(CKEDITOR.dtd.$listItem)&&(e=e.contains(CKEDITOR.dtd.$list),d=d.contains(CKEDITOR.dtd.$list),
!e.equals(d))){var n=f.contains(CKEDITOR.dtd.$list).getParent();h=function(a){return!a.equals(n)}}h||(h=function(a){return!a.equals(f.block)&&!a.equals(f.blockLimit)});this.rebuildFragment(a,b,c,h)},rebuildFragment:function(a,b,d,c){for(var f;d&&!d.equals(b)&&c(d);)f=d.clone(0,1),a.fragment.appendTo(f),a.fragment=f,d=d.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,d=a.endContainer,c=a.startOffset,f=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(d)&&b.is("tr")&&++c==
f&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};w=function(){function a(b,d){var c=b.getParent();if(c.is(CKEDITOR.dtd.$inline))b[d?"insertBefore":"insertAfter"](c)}function b(d,c,f){a(c);a(f,1);for(var e;e=f.getNext();)e.insertAfter(c),c=e;x(d)&&d.remove()}function d(a,b){var c=new CKEDITOR.dom.range(a);c.setStartAfter(b.startNode);c.setEndBefore(b.endNode);return c}return{list:{detectMerge:function(a,b){var c=d(b,a.bookmark),f=c.startPath(),e=c.endPath(),h=f.contains(CKEDITOR.dtd.$list),g=e.contains(CKEDITOR.dtd.$list);
a.mergeList=h&&g&&h.getParent().equals(g.getParent())&&!h.equals(g);a.mergeListItems=f.block&&e.block&&f.block.is(CKEDITOR.dtd.$listItem)&&e.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)c=c.clone(),c.setStartBefore(a.bookmark.startNode),c.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=c.createBookmark()},merge:function(a,d){if(a.mergeListBookmark){var c=a.mergeListBookmark.startNode,f=a.mergeListBookmark.endNode,e=new CKEDITOR.dom.elementPath(c,d),h=new CKEDITOR.dom.elementPath(f,
d);if(a.mergeList){var g=e.contains(CKEDITOR.dtd.$list),n=h.contains(CKEDITOR.dtd.$list);g.equals(n)||(n.moveChildren(g),n.remove())}a.mergeListItems&&(e=e.contains(CKEDITOR.dtd.$listItem),h=h.contains(CKEDITOR.dtd.$listItem),e.equals(h)||b(h,c,f));c.remove();f.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var d=new CKEDITOR.dom.range(b);d.setStartBefore(a.bookmark.startNode);d.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=d.createBookmark()}},
merge:function(a,d){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var c=a.mergeBlockBookmark.startNode,f=a.mergeBlockBookmark.endNode,e=new CKEDITOR.dom.elementPath(c,d),h=new CKEDITOR.dom.elementPath(f,d),e=e.block,h=h.block;e&&h&&!e.equals(h)&&b(h,c,f);c.remove();f.remove()}}},table:function(){function a(d){var f=[],e,h=new CKEDITOR.dom.walker(d),g=d.startPath().contains(c),n=d.endPath().contains(c),l={};h.guard=function(a,h){if(a.type==CKEDITOR.NODE_ELEMENT){var k="visited_"+(h?"out":"in");if(a.getCustomData(k))return;
CKEDITOR.dom.element.setMarker(l,a,k,1)}if(h&&g&&a.equals(g))e=d.clone(),e.setEndAt(g,CKEDITOR.POSITION_BEFORE_END),f.push(e);else if(!h&&n&&a.equals(n))e=d.clone(),e.setStartAt(n,CKEDITOR.POSITION_AFTER_START),f.push(e);else{if(k=!h)k=a.type==CKEDITOR.NODE_ELEMENT&&a.is(c)&&(!g||b(a,g))&&(!n||b(a,n));if(!k&&(k=h))if(a.is(c))var k=g&&g.getAscendant("table",!0),m=n&&n.getAscendant("table",!0),r=a.getAscendant("table",!0),k=k&&k.contains(r)||m&&m.contains(r);else k=void 0;k&&(e=d.clone(),e.selectNodeContents(a),
f.push(e))}};h.lastForward();CKEDITOR.dom.element.clearAllMarkers(l);return f}function b(a,d){var c=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,f=a.getPosition(d);return f===CKEDITOR.POSITION_IDENTICAL?!1:0===(f&c)}var c={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,d=b.clone();d.enlarge(CKEDITOR.ENLARGE_ELEMENT);var d=new CKEDITOR.dom.walker(d),f=0;d.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(c)&&++f};d.checkForward();if(1<f){var d=b.startPath().contains("table"),
e=b.endPath().contains("table");d&&e&&b.checkBoundaryOfElement(d,CKEDITOR.START)&&b.checkBoundaryOfElement(e,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(d),b.setEndAfter(e),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(f,e){var h=d(e,f.bookmark),g=h.clone(),n,k,l=h.getCommonAncestor();l.is(CKEDITOR.dtd.$tableContent)&&!l.is(c)&&(l=l.getAscendant("table",!0));k=l;l=new CKEDITOR.dom.elementPath(h.startContainer,k);k=new CKEDITOR.dom.elementPath(h.endContainer,k);l=l.contains("table");
k=k.contains("table");if(l||k)l&&k&&b(l,k)?(f.tableSurroundingRange=g,g.setStartAt(l,CKEDITOR.POSITION_AFTER_END),g.setEndAt(k,CKEDITOR.POSITION_BEFORE_START),g=h.clone(),g.setEndAt(l,CKEDITOR.POSITION_AFTER_END),n=h.clone(),n.setStartAt(k,CKEDITOR.POSITION_BEFORE_START),n=a(g).concat(a(n))):l?k||(f.tableSurroundingRange=g,g.setStartAt(l,CKEDITOR.POSITION_AFTER_END),h.setEndAt(l,CKEDITOR.POSITION_AFTER_END)):(f.tableSurroundingRange=g,g.setEndAt(k,CKEDITOR.POSITION_BEFORE_START),h.setStartAt(k,CKEDITOR.POSITION_AFTER_START)),
f.tableContentsRanges=n?n:a(h)},deleteRanges:function(a){for(var b;b=a.tableContentsRanges.pop();)b.extractContents(),x(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,d=a.range.clone(),b=b.createElement("p");b.insertBefore(a.purgeTableBookmark.startNode);d.moveToBookmark(a.purgeTableBookmark);d.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),
detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&a.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()["#"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var d=b.startPath(),c;l(a,d.block,d.blockLimit)&&(c=k(a))&&(c=b.document.createElement(c),c.appendBogus(),b.insertNode(c),b.moveToPosition(c,CKEDITOR.POSITION_AFTER_START))}}}()})();(function(){function c(a){return CKEDITOR.plugins.widget&&
CKEDITOR.plugins.widget.isDomWidget(a)}function g(a,b){if(0===a.length||c(a[0].getEnclosedNode()))return!1;var d,f;if((d=!b&&1===a.length)&&!(d=a[0].collapsed)){var e=a[0];d=e.startContainer.getAscendant({td:1,th:1},!0);var h=e.endContainer.getAscendant({td:1,th:1},!0);f=CKEDITOR.tools.trim;d&&d.equals(h)&&!d.findOne("td, th, tr, tbody, table")?(e=e.cloneContents(),d=e.getFirst()?f(e.getFirst().getText())!==f(d.getText()):!0):d=!1}if(d)return!1;for(f=0;f<a.length;f++)if(d=a[f]._getTableElement(),
!d)return!1;return!0}function e(a){function b(a){a=a.find("td, th");var d=[],c;for(c=0;c<a.count();c++)d.push(a.getItem(c));return d}var d=[],c,f;for(f=0;f<a.length;f++)c=a[f]._getTableElement(),c.is&&c.is({td:1,th:1})?d.push(c):d=d.concat(b(c));return d}function b(a){a=e(a);var b="",d=[],c,f;for(f=0;f<a.length;f++)c&&!c.equals(a[f].getAscendant("tr"))?(b+=d.join("\t")+"\n",c=a[f].getAscendant("tr"),d=[]):0===f&&(c=a[f].getAscendant("tr")),d.push(a[f].getText());return b+=d.join("\t")}function h(a){var d=
this.root.editor,c=d.getSelection(1);this.reset();w=!0;c.root.once("selectionchange",function(a){a.cancel()},null,null,0);c.selectRanges([a[0]]);c=this._.cache;c.ranges=new CKEDITOR.dom.rangeList(a);c.type=CKEDITOR.SELECTION_TEXT;c.selectedElement=a[0]._getTableElement();c.selectedText=b(a);c.nativeSel=null;this.isFake=1;this.rev=z++;d._.fakeSelection=this;w=!1;this.root.fire("selectionchange")}function m(){var a=this._.fakeSelection,b;if(a){b=this.getSelection(1);var d;if(!(d=!b)&&(d=!b.isHidden())){d=
a;var f=b.getRanges(),e=d.getRanges(),h=f.length&&f[0]._getTableElement()&&f[0]._getTableElement().getAscendant("table",!0),n=e.length&&e[0]._getTableElement()&&e[0]._getTableElement().getAscendant("table",!0),l=1===f.length&&f[0]._getTableElement()&&f[0]._getTableElement().is("table"),k=1===e.length&&e[0]._getTableElement()&&e[0]._getTableElement().is("table");if(c(d.getSelectedElement()))d=!1;else{var m=1===f.length&&f[0].collapsed,e=g(f,!!CKEDITOR.env.webkit)&&g(e);h=h&&n?h.equals(n)||n.contains(h):
!1;h&&(m||e)?(l&&!k&&d.selectRanges(f),d=!0):d=!1}d=!d}d&&(a.reset(),a=0)}if(!a&&(a=b||this.getSelection(1),!a||a.getType()==CKEDITOR.SELECTION_NONE))return;this.fire("selectionCheck",a);b=this.elementPath();b.compare(this._.selectionPreviousPath)||(d=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(b.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||d||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=b,this.fire("selectionChange",{selection:a,
path:b}))}function l(){F=!0;v||(k.call(this),v=CKEDITOR.tools.setTimeout(k,200,this))}function k(){v=null;F&&(CKEDITOR.tools.setTimeout(m,0,this),F=!1)}function d(a){return y(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function f(a){function b(d,c){return d&&d.type!=CKEDITOR.NODE_TEXT?a.clone()["moveToElementEdit"+(c?"End":"Start")](d):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var c=a.startContainer,f=a.getPreviousNode(d,null,c),e=a.getNextNode(d,null,c);return b(f)||
b(e,1)||!(f||e||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?!0:!1}function a(a){n(a,!1);var b=a.getDocument().createText(t);a.setCustomData("cke-fillingChar",b);return b}function n(a,b){var d=a&&a.removeCustomData("cke-fillingChar");if(d){if(!1!==b){var c=a.getDocument().getSelection().getNative(),f=c&&"None"!=c.type&&c.getRangeAt(0),e=t.length;if(d.getLength()>e&&f&&f.intersectsNode(d.$)){var h=[{node:c.anchorNode,offset:c.anchorOffset},{node:c.focusNode,offset:c.focusOffset}];
c.anchorNode==d.$&&c.anchorOffset>e&&(h[0].offset-=e);c.focusNode==d.$&&c.focusOffset>e&&(h[1].offset-=e)}}d.setText(r(d.getText(),1));h&&(d=a.getDocument().$,c=d.getSelection(),d=d.createRange(),d.setStart(h[0].node,h[0].offset),d.collapse(!0),c.removeAllRanges(),c.addRange(d),c.extend(h[1].node,h[1].offset))}}function r(a,b){return b?a.replace(B,function(a,b){return b?" ":""}):a.replace(t,"")}function x(a,b){var d=b&&CKEDITOR.tools.htmlEncode(b)||"\x26nbsp;",d=CKEDITOR.dom.element.createFromHtml('\x3cdiv data-cke-hidden-sel\x3d"1" data-cke-temp\x3d"1" style\x3d"'+
(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'"\x3e'+d+"\x3c/div\x3e",a.document);a.fire("lockSnapshot");a.editable().append(d);var c=a.getSelection(1),f=a.createRange(),e=c.root.on("selectionchange",function(a){a.cancel()},null,null,0);f.setStartAt(d,CKEDITOR.POSITION_AFTER_START);f.setEndAt(d,CKEDITOR.POSITION_BEFORE_END);c.selectRanges([f]);e.removeListener();a.fire("unlockSnapshot");a._.hiddenSelectionContainer=
d}function p(a){var b={37:1,39:1,8:1,46:1};return function(d){var c=d.data.getKeystroke();if(b[c]){var f=a.getSelection().getRanges(),e=f[0];1==f.length&&e.collapsed&&(c=e[38>c?"getPreviousEditableNode":"getNextEditableNode"]())&&c.type==CKEDITOR.NODE_ELEMENT&&"false"==c.getAttribute("contenteditable")&&(a.getSelection().fake(c),d.data.preventDefault(),d.cancel())}}}function q(a){for(var b=0;b<a.length;b++){var d=a[b];d.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!d.collapsed){if(d.startContainer.isReadOnly())for(var c=
d.startContainer,f;c&&!((f=c.type==CKEDITOR.NODE_ELEMENT)&&c.is("body")||!c.isReadOnly());)f&&"false"==c.getAttribute("contentEditable")&&d.setStartAfter(c),c=c.getParent();c=d.startContainer;f=d.endContainer;var e=d.startOffset,h=d.endOffset,g=d.clone();c&&c.type==CKEDITOR.NODE_TEXT&&(e>=c.getLength()?g.setStartAfter(c):g.setStartBefore(c));f&&f.type==CKEDITOR.NODE_TEXT&&(h?g.setEndAfter(f):g.setEndBefore(f));c=new CKEDITOR.dom.walker(g);c.evaluator=function(c){if(c.type==CKEDITOR.NODE_ELEMENT&&
c.isReadOnly()){var f=d.clone();d.setEndBefore(c);d.collapsed&&a.splice(b--,1);c.getPosition(g.endContainer)&CKEDITOR.POSITION_CONTAINS||(f.setStartAfter(c),f.collapsed||a.splice(b+1,0,f));return!0}return!1};c.next()}}return a}var u="function"!=typeof window.getSelection,z=1,t=CKEDITOR.tools.repeat("​",7),B=new RegExp(t+"( )?","g"),w,v,F,y=CKEDITOR.dom.walker.invisible(1),C=function(){function a(b){return function(a){var d=a.editor.createRange();d.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([d]);
return!1}}function b(a){return function(b){var d=b.editor,c=d.createRange(),f;if(!d.readOnly)return(f=c.moveToClosestEditablePosition(b.selected,a))||(f=c.moveToClosestEditablePosition(b.selected,!a)),f&&d.getSelection().selectRanges([c]),d.fire("saveSnapshot"),b.selected.remove(),f||(c.moveToElementEditablePosition(d.editable()),d.getSelection().selectRanges([c])),d.fire("saveSnapshot"),!1}}var d=a(),c=a(1);return{37:d,38:d,39:c,40:c,8:b(),46:b(1)}}();CKEDITOR.on("instanceCreated",function(a){function b(){var a=
d.getSelection();a&&a.removeAllRanges()}var d=a.editor;d.on("contentDom",function(){function a(){t=new CKEDITOR.dom.selection(d.getSelection());t.lock()}function b(){h.removeListener("mouseup",b);r.removeListener("mouseup",b);var a=CKEDITOR.document.$.selection,d=a.createRange();"None"!=a.type&&d.parentElement()&&d.parentElement().ownerDocument==e.$&&d.select()}function c(a){var b,d;b=(b=this.document.getActive())?"input"===b.getName()||"textarea"===b.getName():!1;b||(b=this.getSelection(1),(d=f(b))&&
!d.equals(g)&&(b.selectElement(d),a.data.preventDefault()))}function f(a){a=a.getRanges()[0];return a?(a=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")},!0))&&"false"===a.getAttribute("contenteditable")?a:null:null}var e=d.document,h=CKEDITOR.document,g=d.editable(),k=e.getBody(),r=e.getDocumentElement(),x=g.isInline(),q,t;CKEDITOR.env.gecko&&g.attachListener(g,"focus",function(a){a.removeListener();0!==q&&(a=d.getSelection().getNative())&&
a.isCollapsed&&a.anchorNode==g.$&&(a=d.createRange(),a.moveToElementEditStart(g),a.select())},null,null,-2);g.attachListener(g,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){if(q&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){q=d._.previousActive&&d._.previousActive.equals(e.getActive());var a=null!=d._.previousScrollTop&&d._.previousScrollTop!=g.$.scrollTop;CKEDITOR.env.webkit&&q&&a&&(g.$.scrollTop=d._.previousScrollTop)}d.unlockSelection(q);q=0},null,null,-1);g.attachListener(g,
"mousedown",function(){q=0});if(CKEDITOR.env.ie||CKEDITOR.env.gecko||x)u?g.attachListener(g,"beforedeactivate",a,null,null,-1):g.attachListener(d,"selectionCheck",a,null,null,-1),g.attachListener(g,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",function(){var a=t&&(t.isFake||2>t.getRanges().length);CKEDITOR.env.gecko&&!x&&a||(d.lockSelection(t),q=1)},null,null,-1),g.attachListener(g,"mousedown",function(){q=0});if(CKEDITOR.env.ie&&!x){var L;g.attachListener(g,"mousedown",function(a){2==
a.data.$.button&&((a=d.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(L=d.window.getScrollPosition()))});g.attachListener(g,"mouseup",function(a){2==a.data.$.button&&L&&(d.document.$.documentElement.scrollLeft=L.x,d.document.$.documentElement.scrollTop=L.y);L=null});if("BackCompat"!=e.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var w,z;r.on("mousedown",function(a){function b(a){a=a.data.$;if(w){var d=k.$.createTextRange();try{d.moveToPoint(a.clientX,a.clientY)}catch(c){}w.setEndPoint(0>
z.compareEndPoints("StartToStart",d)?"EndToEnd":"StartToStart",d);w.select()}}function d(){r.removeListener("mousemove",b);h.removeListener("mouseup",d);r.removeListener("mouseup",d);w.select()}a=a.data;if(a.getTarget().is("html")&&a.$.y<r.$.clientHeight&&a.$.x<r.$.clientWidth){w=k.$.createTextRange();try{w.moveToPoint(a.$.clientX,a.$.clientY)}catch(c){}z=w.duplicate();r.on("mousemove",b);h.on("mouseup",d);r.on("mouseup",d)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)r.on("mousedown",function(a){a.data.getTarget().is("html")&&
(h.on("mouseup",b),r.on("mouseup",b))})}}g.attachListener(g,"selectionchange",m,d);g.attachListener(g,"keyup",l,d);g.attachListener(g,"touchstart",l,d);g.attachListener(g,"touchend",l,d);CKEDITOR.env.ie&&g.attachListener(g,"keydown",c,d);g.attachListener(g,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){d.forceNextSelectionCheck();d.selectionChange(1)});if(x&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var v;g.attachListener(g,"mousedown",function(){v=1});g.attachListener(e.getDocumentElement(),
"mouseup",function(){v&&l.call(d);v=0})}else g.attachListener(CKEDITOR.env.ie?g:e.getDocumentElement(),"mouseup",l,d);CKEDITOR.env.webkit&&g.attachListener(e,"keydown",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:g.hasFocus&&n(g)}},null,null,-1);g.attachListener(g,"keydown",p(d),null,null,-1)});d.on("setData",function(){d.unlockSelection();CKEDITOR.env.webkit&&b()});d.on("contentDomUnload",function(){d.unlockSelection()});if(CKEDITOR.env.ie9Compat)d.on("beforeDestroy",
b,null,null,9);d.on("dataReady",function(){delete d._.fakeSelection;delete d._.hiddenSelectionContainer;d.selectionChange(1)});d.on("loadSnapshot",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=d.editable().getLast(a);b&&b.hasAttribute("data-cke-hidden-sel")&&(b.remove(),CKEDITOR.env.gecko&&(a=d.editable().getFirst(a))&&a.is("br")&&a.getAttribute("_moz_editor_bogus_node")&&a.remove())},null,null,100);d.on("key",function(a){if("wysiwyg"==d.mode){var b=d.getSelection();if(b.isFake){var c=
C[a.data.keyCode];if(c)return c({editor:d,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on("instanceReady",function(a){var b=a.editor;b.on("selectionChange",function(){var a=b.editable(),d=a.getCustomData("cke-fillingChar");d&&(d.getCustomData("ready")?(n(a),a.editor.fire("selectionCheck")):d.setCustomData("ready",1))},null,null,-1);b.on("beforeSetMode",function(){n(b.editable())},null,null,-1);b.on("getSnapshot",function(a){a.data&&(a.data=r(a.data))},
b,null,20);b.on("toDataFormat",function(a){a.data.dataValue=r(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(a){(a?m:l).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.getSelectedRanges=function(a){var b=this.getSelection();return b&&b.getRanges(a)||
[]};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};
CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var d=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:z++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=
d?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var c,f;if(a)if(a.getRangeAt)c=(f=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(f.commonAncestorContainer);else{try{f=a.createRange()}catch(e){}c=f&&CKEDITOR.dom.element.get(f.item&&f.item(0)||f.parentElement())}if(!c||c.type!=CKEDITOR.NODE_ELEMENT&&c.type!=CKEDITOR.NODE_TEXT||!this.root.equals(c)&&!this.root.contains(c))this._.cache.type=
CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var H={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:r,_createFillingCharSequenceNode:a,FILLING_CHAR_SEQUENCE:t});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==
this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=u?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:u?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var d=this.getNative(),c=d.type;"Text"==c&&(b=CKEDITOR.SELECTION_TEXT);"Control"==c&&(b=CKEDITOR.SELECTION_ELEMENT);d.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(f){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=
CKEDITOR.SELECTION_TEXT,d=this.getNative();if(!d||!d.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==d.rangeCount){var d=d.getRangeAt(0),c=d.startContainer;c==d.endContainer&&1==c.nodeType&&1==d.endOffset-d.startOffset&&H[c.childNodes[d.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=u?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,d){b=b.duplicate();b.collapse(d);var c=b.parentElement();if(!c.hasChildNodes())return{container:c,
offset:0};for(var f=c.children,e,h,g=b.duplicate(),n=0,k=f.length-1,l=-1,m,r;n<=k;)if(l=Math.floor((n+k)/2),e=f[l],g.moveToElementText(e),m=g.compareEndPoints("StartToStart",b),0<m)k=l-1;else if(0>m)n=l+1;else return{container:c,offset:a(e)};if(-1==l||l==f.length-1&&0>m){g.moveToElementText(c);g.setEndPoint("StartToStart",b);g=g.text.replace(/(\r\n|\r)/g,"\n").length;f=c.childNodes;if(!g)return e=f[f.length-1],e.nodeType!=CKEDITOR.NODE_TEXT?{container:c,offset:f.length}:{container:e,offset:e.nodeValue.length};
for(c=f.length;0<g&&0<c;)h=f[--c],h.nodeType==CKEDITOR.NODE_TEXT&&(r=h,g-=h.nodeValue.length);return{container:r,offset:-g}}g.collapse(0<m?!0:!1);g.setEndPoint(0<m?"StartToStart":"EndToStart",b);g=g.text.replace(/(\r\n|\r)/g,"\n").length;if(!g)return{container:c,offset:a(e)+(0<m?0:1)};for(;0<g;)try{h=e[0<m?"previousSibling":"nextSibling"],h.nodeType==CKEDITOR.NODE_TEXT&&(g-=h.nodeValue.length,r=h),e=h}catch(u){return{container:c,offset:a(e)}}return{container:r,offset:0<m?-g:r.nodeValue.length+g}};
return function(){var a=this.getNative(),d=a&&a.createRange(),c=this.getType();if(!a)return[];if(c==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),c=b(d,!0),a.setStart(new CKEDITOR.dom.node(c.container),c.offset),c=b(d),a.setEnd(new CKEDITOR.dom.node(c.container),c.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(c==CKEDITOR.SELECTION_ELEMENT){for(var c=[],f=0;f<d.length;f++){for(var e=
d.item(f),h=e.parentNode,g=0,a=new CKEDITOR.dom.range(this.root);g<h.childNodes.length&&h.childNodes[g]!=e;g++);a.setStart(new CKEDITOR.dom.node(h),g);a.setEnd(new CKEDITOR.dom.node(h),g+1);c.push(a)}return c}return[]}}():function(){var a=[],b,d=this.getNative();if(!d)return a;for(var c=0;c<d.rangeCount;c++){var f=d.getRangeAt(c);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(f.startContainer),f.startOffset);b.setEnd(new CKEDITOR.dom.node(f.endContainer),f.endOffset);a.push(b)}return a};
return function(b){var d=this._.cache,c=d.ranges;c||(d.ranges=c=new CKEDITOR.dom.rangeList(a.call(this)));return b?q(new CKEDITOR.dom.rangeList(c.slice())):c}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var d=this.getRanges()[0];if(d){if(d.collapsed)b=d.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(d.optimize();b=
d.startContainer,d.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary();)d.setStartAfter(b);b=d.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(d.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(d=b.getFirst();d&&d.type==CKEDITOR.NODE_ELEMENT;)b=d,d=d.getFirst();else b=d.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;
var b=this,d=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),d,c,f=2;f&&!((d=a.getEnclosedNode())&&d.type==CKEDITOR.NODE_ELEMENT&&H[d.getName()]&&(c=d));f--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return c&&c.$});return a.selectedElement=d?new CKEDITOR.dom.element(d):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=u?"Control"==b.type?"":b.createRange().text:
b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),d=this.getRanges(),c=this.isFake;this.isLocked=0;this.reset();a&&(a=b||d[0]&&d[0].getCommonAncestor())&&a.getAscendant("body",1)&&((a=this.root.editor)&&a.plugins.tableselection&&a.plugins.tableselection.isSupportedEnvironment(a)&&g(d)?h.call(this,
d):c?this.fake(b):b&&2>d.length?this.selectElement(b):this.selectRanges(d))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var d=a.checkDirty();a.fire("lockSnapshot");b.remove();a.fire("unlockSnapshot");!d&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=z++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);
b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(b){var d=this.root.editor,c=d&&d._.hiddenSelectionContainer;this.reset();if(c)for(var c=this.root,e,l=0;l<b.length;++l)e=b[l],e.endContainer.equals(c)&&(e.endOffset=Math.min(e.endOffset,c.getChildCount()));if(b.length)if(this.isLocked){var k=CKEDITOR.document.getActive();this.unlock();this.selectRanges(b);this.lock();k&&!k.equals(this.root)&&k.focus()}else{var m;a:{var A,r;if(1==b.length&&!(r=b[0]).collapsed&&(m=r.getEnclosedNode())&&
m.type==CKEDITOR.NODE_ELEMENT&&(r=r.clone(),r.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(A=r.getEnclosedNode())&&A.type==CKEDITOR.NODE_ELEMENT&&(m=A),"false"==m.getAttribute("contenteditable")))break a;m=void 0}if(m)this.fake(m);else if(d&&d.plugins.tableselection&&d.plugins.tableselection.isSupportedEnvironment(d)&&g(b)&&!w&&!b[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))h.call(this,b);else{if(u){A=CKEDITOR.dom.walker.whitespaces(!0);m=/\ufeff|\u00a0/;r={table:1,tbody:1,
tr:1};1<b.length&&(d=b[b.length-1],b[0].setEnd(d.endContainer,d.endOffset));d=b[0];b=d.collapsed;var J,x,p;if((c=d.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in H&&(!c.is("a")||!c.getText()))try{p=c.$.createControlRange();p.addElement(c.$);p.select();return}catch(q){}if(d.startContainer.type==CKEDITOR.NODE_ELEMENT&&d.startContainer.getName()in r||d.endContainer.type==CKEDITOR.NODE_ELEMENT&&d.endContainer.getName()in r)d.shrink(CKEDITOR.NODE_ELEMENT,!0),b=d.collapsed;p=d.createBookmark();
r=p.startNode;b||(k=p.endNode);p=d.document.$.body.createTextRange();p.moveToElementText(r.$);p.moveStart("character",1);k?(m=d.document.$.body.createTextRange(),m.moveToElementText(k.$),p.setEndPoint("EndToEnd",m),p.moveEnd("character",-1)):(J=r.getNext(A),x=r.hasAscendant("pre"),J=!(J&&J.getText&&J.getText().match(m))&&(x||!r.hasPrevious()||r.getPrevious().is&&r.getPrevious().is("br")),x=d.document.createElement("span"),x.setHtml("\x26#65279;"),x.insertBefore(r),J&&d.document.createText("﻿").insertBefore(r));
d.setStartBefore(r);r.remove();b?(J?(p.moveStart("character",-1),p.select(),d.document.$.selection.clear()):p.select(),d.moveToPosition(x,CKEDITOR.POSITION_BEFORE_START),x.remove()):(d.setEndBefore(k),k.remove(),p.select())}else{k=this.getNative();if(!k)return;this.removeAllRanges();for(p=0;p<b.length;p++){if(p<b.length-1&&(J=b[p],x=b[p+1],m=J.clone(),m.setStart(J.endContainer,J.endOffset),m.setEnd(x.startContainer,x.startOffset),!m.collapsed&&(m.shrink(CKEDITOR.NODE_ELEMENT,!0),d=m.getCommonAncestor(),
m=m.getEnclosedNode(),d.isReadOnly()||m&&m.isReadOnly()))){x.setStart(J.startContainer,J.startOffset);b.splice(p--,1);continue}d=b[p];x=this.document.$.createRange();d.collapsed&&CKEDITOR.env.webkit&&f(d)&&(m=a(this.root),d.insertNode(m),(J=m.getNext())&&!m.getPrevious()&&J.type==CKEDITOR.NODE_ELEMENT&&"br"==J.getName()?(n(this.root),d.moveToPosition(J,CKEDITOR.POSITION_BEFORE_START)):d.moveToPosition(m,CKEDITOR.POSITION_AFTER_END));x.setStart(d.startContainer.$,d.startOffset);try{x.setEnd(d.endContainer.$,
d.endOffset)}catch(t){if(0<=t.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))d.collapse(1),x.setEnd(d.endContainer.$,d.endOffset);else throw t;}k.addRange(x)}}this.reset();this.root.fire("selectionchange")}}},fake:function(a,b){var d=this.root.editor;void 0===b&&a.hasAttribute("aria-label")&&(b=a.getAttribute("aria-label"));this.reset();x(d,b);var c=this._.cache,f=new CKEDITOR.dom.range(this.root);f.setStartBefore(a);f.setEndAfter(a);c.ranges=new CKEDITOR.dom.rangeList(f);c.selectedElement=c.startElement=
a;c.type=CKEDITOR.SELECTION_ELEMENT;c.selectedText=c.nativeSel=null;this.isFake=1;this.rev=z++;d._.fakeSelection=this;this.root.fire("selectionchange")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data("cke-hidden-sel"))},isInTable:function(a){return g(this.getRanges(),a)},isCollapsed:function(){var a=this.getRanges();return 1===a.length&&a[0].collapsed},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&
(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],d,c=0;c<a.length;c++){var f=new CKEDITOR.dom.range(this.root);f.moveToBookmark(a[c]);b.push(f)}a.isFake&&(d=g(b)?b[0]._getTableElement():b[0].getEnclosedNode(),d&&d.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),a.isFake=0));a.isFake&&!g(b)?this.fake(d):this.selectRanges(b);return this},getCommonAncestor:function(){var a=
this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[u?"empty":"removeAllRanges"]()}catch(b){}this.reset()}}}})();"use strict";CKEDITOR.STYLE_BLOCK=1;CKEDITOR.STYLE_INLINE=2;CKEDITOR.STYLE_OBJECT=3;(function(){function c(a,b){for(var d,c;(a=a.getParent())&&
!a.equals(b);)if(a.getAttribute("data-nostyle"))d=a;else if(!c){var f=a.getAttribute("contentEditable");"false"==f?d=a:"true"==f&&(c=1)}return d}function g(a,b,d,c){return(a.getPosition(b)|c)==c&&(!d.childRule||d.childRule(a))}function e(a){var b=a.document;if(a.collapsed)b=z(this,b),a.insertNode(b),a.moveToPosition(b,CKEDITOR.POSITION_BEFORE_END);else{var d=this.element,f=this._.definition,n,k=f.ignoreReadonly,l=k||f.includeReadonly;null==l&&(l=a.root.getCustomData("cke_includeReadonly"));var m=
CKEDITOR.dtd[d];m||(n=!0,m=CKEDITOR.dtd.span);a.enlarge(CKEDITOR.ENLARGE_INLINE,1);a.trim();var r=a.createBookmark(),u=r.startNode,x=r.endNode,q=u,t;if(!k){var w=a.getCommonAncestor(),k=c(u,w),w=c(x,w);k&&(q=k.getNextSourceNode(!0));w&&(x=w)}for(q.getPosition(x)==CKEDITOR.POSITION_FOLLOWING&&(q=0);q;){k=!1;if(q.equals(x))q=null,k=!0;else{var v=q.type==CKEDITOR.NODE_ELEMENT?q.getName():null,w=v&&"false"==q.getAttribute("contentEditable"),B=v&&q.getAttribute("data-nostyle");if(v&&q.data("cke-bookmark")||
q.type===CKEDITOR.NODE_COMMENT){q=q.getNextSourceNode(!0);continue}if(w&&l&&CKEDITOR.dtd.$block[v])for(var F=q,y=h(F),H=void 0,P=y.length,V=0,F=P&&new CKEDITOR.dom.range(F.getDocument());V<P;++V){var H=y[V],T=CKEDITOR.filter.instances[H.data("cke-filter")];if(T?T.check(this):1)F.selectNodeContents(H),e.call(this,F)}y=v?!m[v]||B?0:w&&!l?0:g(q,x,f,O):1;if(y)if(H=q.getParent(),y=f,P=d,V=n,!H||!(H.getDtd()||CKEDITOR.dtd.span)[P]&&!V||y.parentRule&&!y.parentRule(H))k=!0;else{if(t||v&&CKEDITOR.dtd.$removeEmpty[v]&&
(q.getPosition(x)|O)!=O||(t=a.clone(),t.setStartBefore(q)),v=q.type,v==CKEDITOR.NODE_TEXT||w||v==CKEDITOR.NODE_ELEMENT&&!q.getChildCount()){for(var v=q,fa;(k=!v.getNext(E))&&(fa=v.getParent(),m[fa.getName()])&&g(fa,u,f,K);)v=fa;t.setEndAfter(v)}}else k=!0;q=q.getNextSourceNode(B||w)}if(k&&t&&!t.collapsed){for(var k=z(this,b),w=k.hasAttributes(),B=t.getCommonAncestor(),v={},y={},H={},P={},ca,aa,C;k&&B;){if(B.getName()==d){for(ca in f.attributes)!P[ca]&&(C=B.getAttribute(aa))&&(k.getAttribute(ca)==
C?y[ca]=1:P[ca]=1);for(aa in f.styles)!H[aa]&&(C=B.getStyle(aa))&&(k.getStyle(aa)==C?v[aa]=1:H[aa]=1)}B=B.getParent()}for(ca in y)k.removeAttribute(ca);for(aa in v)k.removeStyle(aa);w&&!k.hasAttributes()&&(k=null);k?(t.extractContents().appendTo(k),t.insertNode(k),p.call(this,k),k.mergeSiblings(),CKEDITOR.env.ie||k.$.normalize()):(k=new CKEDITOR.dom.element("span"),t.extractContents().appendTo(k),t.insertNode(k),p.call(this,k),k.remove(!0));t=null}}a.moveToBookmark(r);a.shrink(CKEDITOR.SHRINK_TEXT);
a.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function b(a){function b(){for(var a=new CKEDITOR.dom.elementPath(c.getParent()),d=new CKEDITOR.dom.elementPath(l.getParent()),f=null,e=null,h=0;h<a.elements.length;h++){var g=a.elements[h];if(g==a.block||g==a.blockLimit)break;m.checkElementRemovable(g,!0)&&(f=g)}for(h=0;h<d.elements.length;h++){g=d.elements[h];if(g==d.block||g==d.blockLimit)break;m.checkElementRemovable(g,!0)&&(e=g)}e&&l.breakParent(e);f&&c.breakParent(f)}a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var d=
a.createBookmark(),c=d.startNode,f=this._.definition.alwaysRemoveElement;if(a.collapsed){for(var e=new CKEDITOR.dom.elementPath(c.getParent(),a.root),h,g=0,n;g<e.elements.length&&(n=e.elements[g])&&n!=e.block&&n!=e.blockLimit;g++)if(this.checkElementRemovable(n)){var k;!f&&a.collapsed&&(a.checkBoundaryOfElement(n,CKEDITOR.END)||(k=a.checkBoundaryOfElement(n,CKEDITOR.START)))?(h=n,h.match=k?"start":"end"):(n.mergeSiblings(),n.is(this.element)?x.call(this,n):q(n,w(this)[n.getName()]))}if(h){f=c;for(g=
0;;g++){n=e.elements[g];if(n.equals(h))break;else if(n.match)continue;else n=n.clone();n.append(f);f=n}f["start"==h.match?"insertBefore":"insertAfter"](h)}}else{var l=d.endNode,m=this;b();for(e=c;!e.equals(l);)h=e.getNextSourceNode(),e.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(e)&&(e.getName()==this.element?x.call(this,e):q(e,w(this)[e.getName()]),h.type==CKEDITOR.NODE_ELEMENT&&h.contains(c)&&(b(),h=c.getNext())),e=h}a.moveToBookmark(d);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function h(a){var b=
[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function m(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&t(a,this)}function l(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,d=b.attributes;if(d)for(var c in d)a.removeAttribute(c,d[c]);if(b.styles)for(var f in b.styles)b.styles.hasOwnProperty(f)&&
a.removeStyle(f)}}function k(a){var b=a.createBookmark(!0),d=a.createIterator();d.enforceRealBlocks=!0;this._.enterMode&&(d.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var c,e=a.document,h;c=d.getNextParagraph();)!c.isReadOnly()&&(d.activeFilter?d.activeFilter.check(this):1)&&(h=z(this,e,c),f(c,h));a.moveToBookmark(b)}function d(a){var b=a.createBookmark(1),d=a.createIterator();d.enforceRealBlocks=!0;d.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var c,e;c=d.getNextParagraph();)this.checkElementRemovable(c)&&
(c.is("pre")?((e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&c.copyAttributes(e),f(c,e)):x.call(this,c));a.moveToBookmark(b)}function f(b,d){var c=!d;c&&(d=b.getDocument().createElement("div"),b.copyAttributes(d));var f=d&&d.is("pre"),e=b.is("pre"),h=!f&&e;if(f&&!e){e=d;(h=b.getBogus())&&h.remove();h=b.getHtml();h=n(h,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");h=h.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");h=h.replace(/([ \t\n\r]+|&nbsp;)/g,
" ");h=h.replace(/<br\b[^>]*>/gi,"\n");if(CKEDITOR.env.ie){var g=b.getDocument().createElement("div");g.append(e);e.$.outerHTML="\x3cpre\x3e"+h+"\x3c/pre\x3e";e.copyAttributes(g.getFirst());e=g.getFirst().remove()}else e.setHtml(h);d=e}else h?d=r(c?[b.getHtml()]:a(b),d):b.moveChildren(d);d.replace(b);if(f){var c=d,k;(k=c.getPrevious(D))&&k.type==CKEDITOR.NODE_ELEMENT&&k.is("pre")&&(f=n(k.getHtml(),/\n$/,"")+"\n\n"+n(c.getHtml(),/^\n/,""),CKEDITOR.env.ie?c.$.outerHTML="\x3cpre\x3e"+f+"\x3c/pre\x3e":
c.setHtml(f),k.remove())}else c&&u(d)}function a(a){var b=[];n(a.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(a,b,d){return b+"\x3c/pre\x3e"+d+"\x3cpre\x3e"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(a,d){b.push(d)});return b}function n(a,b,d){var c="",f="";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(a,b,d){b&&(c=b);d&&(f=d);return""});return c+a.replace(b,d)+f}function r(a,b){var d;
1<a.length&&(d=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var c=0;c<a.length;c++){var f=a[c],f=f.replace(/(\r\n|\r)/g,"\n"),f=n(f,/^[ \t]*\n/,""),f=n(f,/\n$/,""),f=n(f,/^[ \t]+|[ \t]+$/g,function(a,b){return 1==a.length?"\x26nbsp;":b?" "+CKEDITOR.tools.repeat("\x26nbsp;",a.length-1):CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "}),f=f.replace(/\n/g,"\x3cbr\x3e"),f=f.replace(/[ \t]{2,}/g,function(a){return CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "});if(d){var e=b.clone();e.setHtml(f);
d.append(e)}else b.setHtml(f)}return d||b}function x(a,b){var d=this._.definition,c=d.attributes,d=d.styles,f=w(this)[a.getName()],e=CKEDITOR.tools.isEmpty(c)&&CKEDITOR.tools.isEmpty(d),h;for(h in c)if("class"!=h&&!this._.definition.fullMatch||a.getAttribute(h)==v(h,c[h]))b&&"data-"==h.slice(0,5)||(e=a.hasAttribute(h),a.removeAttribute(h));for(var g in d)this._.definition.fullMatch&&a.getStyle(g)!=v(g,d[g],!0)||(e=e||!!a.getStyle(g),a.removeStyle(g));q(a,f,C[a.getName()]);e&&(this._.definition.alwaysRemoveElement?
u(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?u(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function p(a){for(var b=w(this),d=a.getElementsByTag(this.element),c,f=d.count();0<=--f;)c=d.getItem(f),c.isReadOnly()||x.call(this,c,!0);for(var e in b)if(e!=this.element)for(d=a.getElementsByTag(e),f=d.count()-1;0<=f;f--)c=d.getItem(f),c.isReadOnly()||q(c,b[e])}function q(a,b,d){if(b=b&&b.attributes)for(var c=0;c<b.length;c++){var f=b[c][0],
e;if(e=a.getAttribute(f)){var h=b[c][1];(null===h||h.test&&h.test(e)||"string"==typeof h&&e==h)&&a.removeAttribute(f)}}d||u(a)}function u(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var d=a.getPrevious(D),c=a.getNext(D);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append("br",1);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append("br");a.remove(!0)}else d=a.getFirst(),c=a.getLast(),a.remove(!0),d&&(d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings(),
c&&!d.equals(c)&&c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings())}function z(a,b,d){var c;c=a.element;"*"==c&&(c="span");c=new CKEDITOR.dom.element(c,b);d&&d.copyAttributes(c);c=t(c,a);b.getCustomData("doc_processing_style")&&c.hasAttribute("id")?c.removeAttribute("id"):b.setCustomData("doc_processing_style",1);return c}function t(a,b){var d=b._.definition,c=d.attributes,d=CKEDITOR.style.getStyleText(d);if(c)for(var f in c)a.setAttribute(f,c[f]);d&&a.setAttribute("style",d);a.getDocument().removeCustomData("doc_processing_style");
return a}function B(a,b){for(var d in a)a[d]=a[d].replace(L,function(a,d){return b[d]})}function w(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},d=a._.definition.overrides;if(d){CKEDITOR.tools.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var f=d[c],e,h;"string"==typeof f?e=f.toLowerCase():(e=f.element?f.element.toLowerCase():a.element,h=f.attributes);f=b[e]||(b[e]={});if(h){var f=f.attributes=f.attributes||[],g;for(g in h)f.push([g.toLowerCase(),h[g]])}}}return b}function v(a,
b,d){var c=new CKEDITOR.dom.element("span");c[d?"setStyle":"setAttribute"](a,b);return c[d?"getStyle":"getAttribute"](a)}function F(a,b){function d(a,b){return"font-family"==b.toLowerCase()?a.replace(/["']/g,""):a}"string"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));"string"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var c in a)if(!(c in b)||d(b[c],c)!=d(a[c],c)&&"inherit"!=a[c]&&"inherit"!=b[c])return!1;return!0}function y(a,b,d){var c=a.getRanges();b=b?this.removeFromRange:this.applyToRange;
for(var f,e=c.createIterator();f=e.getNextRange();)b.call(this,f,d);a.selectRanges(c)}var C={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},H={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},G=/\s*(?:;\s*|$)/,L=/#\((.+?)\)/g,E=CKEDITOR.dom.walker.bookmark(0,
1),D=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if("string"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var d=a.attributes;d&&d.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(d.style)),delete d.style);b&&(a=CKEDITOR.tools.clone(a),B(a.attributes,b),B(a.styles,b));d=this.element=a.element?"string"==typeof a.element?a.element.toLowerCase():a.element:"*";this.type=a.type||(C[d]?CKEDITOR.STYLE_BLOCK:H[d]?CKEDITOR.STYLE_OBJECT:
CKEDITOR.STYLE_INLINE);"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return y.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof CKEDITOR.dom.document)return y.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),
a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?e:this.type==CKEDITOR.STYLE_BLOCK?k:this.type==CKEDITOR.STYLE_OBJECT?m:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?d:this.type==CKEDITOR.STYLE_OBJECT?l:null;return this.removeFromRange(a)},applyToObject:function(a){t(a,
this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var d=a.elements,c=0,f;c<d.length;c++)if(f=d[c],this.type!=CKEDITOR.STYLE_INLINE||f!=a.block&&f!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var e=f.getName();if(!("string"==typeof this.element?e==this.element:e in this.element))continue}if(this.checkElementRemovable(f,!0,b))return!0}}return!1},checkApplicable:function(a,
b,d){b&&b instanceof CKEDITOR.filter&&(d=b);if(d&&!d.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var d=this._.definition;if(!a||!d.ignoreReadonly&&a.isReadOnly())return!1;var c=a.getName();if("string"==typeof this.element?c==this.element:c in this.element){if(!b&&!a.hasAttributes())return!0;if(c=d._AC)d=c;else{var c={},f=0,e=d.attributes;
if(e)for(var h in e)f++,c[h]=e[h];if(h=CKEDITOR.style.getStyleText(d))c.style||f++,c.style=h;c._length=f;d=d._AC=c}if(d._length){for(var g in d)if("_length"!=g)if(c=a.getAttribute(g)||"","style"==g?F(d[g],c):d[g]==c){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,d){if(this.checkElementMatch(a,b,d))return!0;if(b=w(this)[a.getName()]){var c;if(!(b=b.attributes))return!0;for(d=0;d<b.length;d++)if(c=b[d][0],c=a.getAttribute(c)){var f=b[d][1];
if(null===f)return!0;if("string"==typeof f){if(c==f)return!0}else if(f.test(c))return!0}}return!1},buildPreview:function(a){var b=this._.definition,d=[],c=b.element;"bdo"==c&&(c="span");var d=["\x3c",c],f=b.attributes;if(f)for(var e in f)d.push(" ",e,'\x3d"',f[e],'"');(f=CKEDITOR.style.getStyleText(b))&&d.push(' style\x3d"',f,'"');d.push("\x3e",a||b.name,"\x3c/",c,"\x3e");return d.join("")},getDefinition:function(){return this._.definition}};CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;
var b=a.styles,d=a.attributes&&a.attributes.style||"",c="";d.length&&(d=d.replace(G,";"));for(var f in b){var e=b[f],h=(f+":"+e).replace(G,";");"inherit"==e?c+=h:d+=h}d.length&&(d=CKEDITOR.tools.normalizeCssText(d,!0));return a._ST=d+c};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},
a,!0);return this.customHandlers[a.type]=b};var O=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,K=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED})();CKEDITOR.styleCommand=function(c,g){this.requiredContent=this.allowedContent=this.style=c;CKEDITOR.tools.extend(this,g,!0)};CKEDITOR.styleCommand.prototype.exec=function(c){c.focus();this.state==CKEDITOR.TRISTATE_OFF?c.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&
c.removeStyle(this.style)};CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet");CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet);CKEDITOR.loadStylesSet=function(c,g,e){CKEDITOR.stylesSet.addExternal(c,g,"");CKEDITOR.stylesSet.load(c,e)};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(c,g){var e=this._.styleStateChangeCallbacks;e||(e=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(b){for(var c=0;c<
e.length;c++){var g=e[c],l=g.style.checkActive(b.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;g.fn.call(this,l)}}));e.push({style:c,fn:g})},applyStyle:function(c){c.apply(this)},removeStyle:function(c){c.remove(this)},getStylesSet:function(c){if(this._.stylesDefinitions)c(this._.stylesDefinitions);else{var g=this,e=g.config.stylesCombo_stylesSet||g.config.stylesSet;if(!1===e)c(null);else if(e instanceof Array)g._.stylesDefinitions=e,c(e);else{e||(e="default");var e=e.split(":"),b=e[0];
CKEDITOR.stylesSet.addExternal(b,e[1]?e.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(b,function(e){g._.stylesDefinitions=e[b];c(g._.stylesDefinitions)})}}}});(function(){if(window.Promise)CKEDITOR.tools.promise=Promise;else{var c=CKEDITOR.getUrl("vendor/promise.js");if("function"===typeof window.define&&window.define.amd&&"function"===typeof window.require)return window.require([c],function(c){CKEDITOR.tools.promise=c});CKEDITOR.scriptLoader.load(c,function(g){if(!g)return CKEDITOR.error("no-vendor-lib",
{path:c});if("undefined"!==typeof window.ES6Promise)return CKEDITOR.tools.promise=ES6Promise})}})();(function(){function c(b,c,m){b.once("selectionCheck",function(b){if(!g){var k=b.data.getRanges()[0];m.equals(k)?b.cancel():c.equals(k)&&(e=!0)}},null,null,-1)}var g=!0,e=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(b){b.on("selectionCheck",function(b){b.data&&!e&&b.data.optimizeInElementEnds();e=!1});b.on("contentDom",function(){var c=b.editable();c&&(c.attachListener(c,"keydown",function(b){this._.shiftPressed=
b.data.$.shiftKey},this),c.attachListener(c,"keyup",function(b){this._.shiftPressed=b.data.$.shiftKey},this))})};CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var b=this.getRanges()[0],e=this.root.editor,m;if(this.root.editor._.shiftPressed||this.isFake||b.isCollapsed||b.startContainer.equals(b.endContainer))m=!1;else if(0===b.endOffset)m=!0;else{m=b.startContainer.type===CKEDITOR.NODE_TEXT;var l=b.endContainer.type===CKEDITOR.NODE_TEXT,k=m?b.startContainer.getLength():b.startContainer.getChildCount();
m=b.startOffset===k||m^l}m&&(m=b.clone(),b.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!CKEDITOR.env.webkit}),g=!1,c(e,b,m),b.select(),g=!0)}})();CKEDITOR.dom.comment=function(c,g){"string"==typeof c&&(c=(g?g.$:document).createComment(c));CKEDITOR.dom.domObject.call(this,c)};CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}});"use strict";(function(){var c=
{},g={},e;for(e in CKEDITOR.dtd.$blockLimit)e in CKEDITOR.dtd.$list||(c[e]=1);for(e in CKEDITOR.dtd.$block)e in CKEDITOR.dtd.$blockLimit||e in CKEDITOR.dtd.$empty||(g[e]=1);CKEDITOR.dom.elementPath=function(b,e){var m=null,l=null,k=[],d=b,f;e=e||b.getDocument().getBody();d||(d=e);do if(d.type==CKEDITOR.NODE_ELEMENT){k.push(d);if(!this.lastElement&&(this.lastElement=d,d.is(CKEDITOR.dtd.$object)||"false"==d.getAttribute("contenteditable")))continue;if(d.equals(e))break;if(!l&&(f=d.getName(),"true"==
d.getAttribute("contenteditable")?l=d:!m&&g[f]&&(m=d),c[f])){if(f=!m&&"div"==f){a:{f=d.getChildren();for(var a=0,n=f.count();a<n;a++){var r=f.getItem(a);if(r.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[r.getName()]){f=!0;break a}}f=!1}f=!f}f?m=d:l=d}}while(d=d.getParent());l||(l=e);this.block=m;this.blockLimit=l;this.root=e;this.elements=k}})();CKEDITOR.dom.elementPath.prototype={compare:function(c){var g=this.elements;c=c&&c.elements;if(!c||g.length!=c.length)return!1;for(var e=0;e<g.length;e++)if(!g[e].equals(c[e]))return!1;
return!0},contains:function(c,g,e){var b=0,h;"string"==typeof c&&(h=function(b){return b.getName()==c});c instanceof CKEDITOR.dom.element?h=function(b){return b.equals(c)}:CKEDITOR.tools.isArray(c)?h=function(b){return-1<CKEDITOR.tools.indexOf(c,b.getName())}:"function"==typeof c?h=c:"object"==typeof c&&(h=function(b){return b.getName()in c});var m=this.elements,l=m.length;g&&(e?b+=1:--l);e&&(m=Array.prototype.slice.call(m,0),m.reverse());for(;b<l;b++)if(h(m[b]))return m[b];return null},isContextFor:function(c){var g;
return c in CKEDITOR.dtd.$block?(g=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!g.getDtd()[c]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}};CKEDITOR.dom.text=function(c,g){"string"==typeof c&&(c=(g?g.$:document).createTextNode(c));this.$=c};CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},
getText:function(){return this.$.nodeValue},setText:function(c){this.$.nodeValue=c},isEmpty:function(c){var g=this.getText();c&&(g=CKEDITOR.tools.trim(g));return!g||g===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(c){var g=this.$.parentNode,e=g.childNodes.length,b=this.getLength(),h=this.getDocument(),m=new CKEDITOR.dom.text(this.$.splitText(c),h);g.childNodes.length==e&&(c>=b?(m=h.createText(""),m.insertAfter(this)):(c=h.createText(""),c.insertAfter(m),c.remove()));return m},substring:function(c,
g){return"number"!=typeof g?this.$.nodeValue.substr(c):this.$.nodeValue.substring(c,g)}});(function(){function c(c,b,h){var g=c.serializable,l=b[h?"endContainer":"startContainer"],k=h?"endOffset":"startOffset",d=g?b.document.getById(c.startNode):c.startNode;c=g?b.document.getById(c.endNode):c.endNode;l.equals(d.getPrevious())?(b.startOffset=b.startOffset-l.getLength()-c.getPrevious().getLength(),l=c.getNext()):l.equals(c.getPrevious())&&(b.startOffset-=l.getLength(),l=c.getNext());l.equals(d.getParent())&&
b[k]++;l.equals(c.getParent())&&b[k]++;b[h?"endContainer":"startContainer"]=l;return b}CKEDITOR.dom.rangeList=function(c){if(c instanceof CKEDITOR.dom.rangeList)return c;c?c instanceof CKEDITOR.dom.range&&(c=[c]):c=[];return CKEDITOR.tools.extend(c,g)};var g={createIterator:function(){var c=this,b=CKEDITOR.dom.walker.bookmark(),h=[],g;return{getNextRange:function(l){g=void 0===g?0:g+1;var k=c[g];if(k&&1<c.length){if(!g)for(var d=c.length-1;0<=d;d--)h.unshift(c[d].createBookmark(!0));if(l)for(var f=
0;c[g+f+1];){var a=k.document;l=0;d=a.getById(h[f].endNode);for(a=a.getById(h[f+1].startNode);;){d=d.getNextSourceNode(!1);if(a.equals(d))l=1;else if(b(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary())continue;break}if(!l)break;f++}for(k.moveToBookmark(h.shift());f--;)d=c[++g],d.moveToBookmark(h.shift()),k.setEnd(d.endContainer,d.endOffset)}return k}}},createBookmarks:function(e){for(var b=[],h,g=0;g<this.length;g++){b.push(h=this[g].createBookmark(e,!0));for(var l=g+1;l<this.length;l++)this[l]=
c(h,this[l]),this[l]=c(h,this[l],!0)}return b},createBookmarks2:function(c){for(var b=[],h=0;h<this.length;h++)b.push(this[h].createBookmark2(c));return b},moveToBookmarks:function(c){for(var b=0;b<this.length;b++)this[b].moveToBookmark(c[b])}}})();(function(){function c(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function g(b){var a=CKEDITOR.skin["ua_"+b],d=CKEDITOR.env;if(a)for(var a=a.split(",").sort(function(a,b){return a>b?-1:1}),e=
0,h;e<a.length;e++)if(h=a[e],d.ie&&(h.replace(/^ie/,"")==d.version||d.quirks&&"iequirks"==h)&&(h="ie"),d[h]){b+="_"+a[e];break}return CKEDITOR.getUrl(c()+b+".css")}function e(b,a){m[b]||(CKEDITOR.document.appendStyleSheet(g(b)),m[b]=1);a&&a()}function b(b){var a=b.getById(l);a||(a=b.getHead().append("style"),a.setAttribute("id",l),a.setAttribute("type","text/css"));return a}function h(b,a,d){var c,e,h;if(CKEDITOR.env.webkit)for(a=a.split("}").slice(0,-1),e=0;e<a.length;e++)a[e]=a[e].split("{");for(var g=
0;g<b.length;g++)if(CKEDITOR.env.webkit)for(e=0;e<a.length;e++){h=a[e][1];for(c=0;c<d.length;c++)h=h.replace(d[c][0],d[c][1]);b[g].$.sheet.addRule(a[e][0],h)}else{h=a;for(c=0;c<d.length;c++)h=h.replace(d[c][0],d[c][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?b[g].$.styleSheet.cssText+=h:b[g].$.innerHTML+=h}}var m={};CKEDITOR.skin={path:c,loadPart:function(b,a){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(c()+"skin.js"),function(){e(b,a)}):e(b,a)},
getPath:function(b){return CKEDITOR.getUrl(g(b))},icons:{},addIcon:function(b,a,d,c){b=b.toLowerCase();this.icons[b]||(this.icons[b]={path:a,offset:d||0,bgsize:c||"16px"})},getIconStyle:function(b,a,d,c,e){var h;b&&(b=b.toLowerCase(),a&&(h=this.icons[b+"-rtl"]),h||(h=this.icons[b]));b=d||h&&h.path||"";c=c||h&&h.offset;e=e||h&&h.bgsize||"16px";b&&(b=b.replace(/'/g,"\\'"));return b&&"background-image:url('"+CKEDITOR.getUrl(b)+"');background-position:0 "+c+"px;background-size:"+e+";"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,
{getUiColor:function(){return this.uiColor},setUiColor:function(c){var a=b(CKEDITOR.document);return(this.setUiColor=function(b){this.uiColor=b;var c=CKEDITOR.skin.chameleon,f="",e="";"function"==typeof c&&(f=c(this,"editor"),e=c(this,"panel"));b=[[d,b]];h([a],f,b);h(k,e,b)}).call(this,c)}});var l="cke_ui_color",k=[],d=/\$color/g;CKEDITOR.on("instanceLoaded",function(c){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var a=c.editor;c=function(c){c=(c.data[0]||c.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument();
if(!c.getById("cke_ui_color")){var f=b(c);k.push(f);a.on("destroy",function(){k=CKEDITOR.tools.array.filter(k,function(a){return f!==a})});(c=a.getUiColor())&&h([f],CKEDITOR.skin.chameleon(a,"panel"),[[d,c]])}};a.on("panelShow",c);a.on("menuShow",c);a.config.uiColor&&a.setUiColor(a.config.uiColor)}})})();(function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var c=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"\x3e\x3c/div\x3e',
CKEDITOR.document);c.appendTo(CKEDITOR.document.getHead());try{var g=c.getComputedStyle("border-top-color"),e=c.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!g||g!=e)}catch(b){CKEDITOR.env.hc=!1}c.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc");CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}");CKEDITOR.status="loaded";CKEDITOR.fireOnce("loaded");if(c=CKEDITOR._.pending)for(delete CKEDITOR._.pending,g=0;g<c.length;g++)CKEDITOR.editor.prototype.constructor.apply(c[g][0],
c[g][1]),CKEDITOR.add(c[g][0])})();CKEDITOR.skin.name="moono";CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko";CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8";CKEDITOR.skin.chameleon=function(){var c=function(){return function(b,c){for(var e=b.match(/[^#]./g),g=0;3>g;g++){var k=g,d;d=parseInt(e[g],16);d=("0"+(0>c?0|d*(1+c):0|d+(255-d)*c).toString(16)).slice(-2);e[k]=d}return"#"+e.join("")}}(),g=function(){var b=new CKEDITOR.template("background:#{to};background-image:linear-gradient(to bottom,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType\x3d0,startColorstr\x3d'{from}',endColorstr\x3d'{to}');");
return function(c,e){return b.output({from:c,to:e})}}(),e={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),
panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};
return function(b,h){var m=b.uiColor,m={id:"."+b.id,defaultBorder:c(m,-.1),defaultGradient:g(c(m,.9),m),lightGradient:g(c(m,1),c(m,.7)),mediumGradient:g(c(m,.8),c(m,.5)),ckeButtonOn:g(c(m,.6),c(m,.7)),ckeResizer:c(m,-.4),ckeToolbarSeparator:c(m,.5),ckeColorauto:c(m,.8),dialogBody:c(m,.7),dialogTabSelected:g("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:c(m,-.6),elementsPathBg:m,menubuttonIcon:c(m,.5),menubuttonIconHover:c(m,.3)};return e[h].output(m).replace(/\[/g,"{").replace(/\]/g,
"}")}}();CKEDITOR.plugins.add("basicstyles",{init:function(c){var g=0,e=function(e,h,d,f){if(f){f=new CKEDITOR.style(f);var a=b[d];a.unshift(f);c.attachStyleStateChange(f,function(a){!c.readOnly&&c.getCommand(d).setState(a)});c.addCommand(d,new CKEDITOR.styleCommand(f,{contentForms:a}));c.ui.addButton&&c.ui.addButton(e,{label:h,command:d,toolbar:"basicstyles,"+(g+=10)})}},b={bold:["strong","b",["span",function(b){b=b.styles["font-weight"];return"bold"==b||700<=+b}]],italic:["em","i",["span",function(b){return"italic"==
b.styles["font-style"]}]],underline:["u",["span",function(b){return"underline"==b.styles["text-decoration"]}]],strike:["s","strike",["span",function(b){return"line-through"==b.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},h=c.config,m=c.lang.basicstyles;e("Bold",m.bold,"bold",h.coreStyles_bold);e("Italic",m.italic,"italic",h.coreStyles_italic);e("Underline",m.underline,"underline",h.coreStyles_underline);e("Strike",m.strike,"strike",h.coreStyles_strike);e("Subscript",m.subscript,
"subscript",h.coreStyles_subscript);e("Superscript",m.superscript,"superscript",h.coreStyles_superscript);c.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}});CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"};CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"};CKEDITOR.config.coreStyles_underline={element:"u"};CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"};CKEDITOR.config.coreStyles_subscript={element:"sub"};
CKEDITOR.config.coreStyles_superscript={element:"sup"};(function(){var c={exec:function(c){var e=c.getCommand("blockquote").state,b=c.getSelection(),h=b&&b.getRanges()[0];if(h){var m=b.createBookmarks();if(CKEDITOR.env.ie){var l=m[0].startNode,k=m[0].endNode,d;if(l&&"blockquote"==l.getParent().getName())for(d=l;d=d.getNext();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){l.move(d,!0);break}if(k&&"blockquote"==k.getParent().getName())for(d=k;d=d.getPrevious();)if(d.type==CKEDITOR.NODE_ELEMENT&&
d.isBlockBoundary()){k.move(d);break}}var f=h.createIterator();f.enlargeBr=c.config.enterMode!=CKEDITOR.ENTER_BR;if(e==CKEDITOR.TRISTATE_OFF){for(l=[];e=f.getNextParagraph();)l.push(e);1>l.length&&(e=c.document.createElement(c.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),k=m.shift(),h.insertNode(e),e.append(new CKEDITOR.dom.text("﻿",c.document)),h.moveToBookmark(k),h.selectNodeContents(e),h.collapse(!0),k=h.createBookmark(),l.push(e),m.unshift(k));d=l[0].getParent();h=[];for(k=0;k<l.length;k++)e=
l[k],d=d.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[d.getName()];)d=d.getParent();for(k=null;0<l.length;){for(e=l.shift();!e.getParent().equals(d);)e=e.getParent();e.equals(k)||h.push(e);k=e}for(;0<h.length;)if(e=h.shift(),"blockquote"==e.getName()){for(k=new CKEDITOR.dom.documentFragment(c.document);e.getFirst();)k.append(e.getFirst().remove()),l.push(k.getLast());k.replace(e)}else l.push(e);h=c.document.createElement("blockquote");for(h.insertBefore(l[0]);0<l.length;)e=
l.shift(),h.append(e)}else if(e==CKEDITOR.TRISTATE_ON){k=[];for(d={};e=f.getNextParagraph();){for(l=h=null;e.getParent();){if("blockquote"==e.getParent().getName()){h=e.getParent();l=e;break}e=e.getParent()}h&&l&&!l.getCustomData("blockquote_moveout")&&(k.push(l),CKEDITOR.dom.element.setMarker(d,l,"blockquote_moveout",!0))}CKEDITOR.dom.element.clearAllMarkers(d);e=[];l=[];for(d={};0<k.length;)f=k.shift(),h=f.getParent(),f.getPrevious()?f.getNext()?(f.breakParent(f.getParent()),l.push(f.getNext())):
f.remove().insertAfter(h):f.remove().insertBefore(h),h.getCustomData("blockquote_processed")||(l.push(h),CKEDITOR.dom.element.setMarker(d,h,"blockquote_processed",!0)),e.push(f);CKEDITOR.dom.element.clearAllMarkers(d);for(k=l.length-1;0<=k;k--){h=l[k];a:{d=h;for(var f=0,a=d.getChildCount(),n=void 0;f<a&&(n=d.getChild(f));f++)if(n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()){d=!1;break a}d=!0}d&&h.remove()}if(c.config.enterMode==CKEDITOR.ENTER_BR)for(h=!0;e.length;)if(f=e.shift(),"div"==f.getName()){k=
new CKEDITOR.dom.documentFragment(c.document);!h||!f.getPrevious()||f.getPrevious().type==CKEDITOR.NODE_ELEMENT&&f.getPrevious().isBlockBoundary()||k.append(c.document.createElement("br"));for(h=f.getNext()&&!(f.getNext().type==CKEDITOR.NODE_ELEMENT&&f.getNext().isBlockBoundary());f.getFirst();)f.getFirst().remove().appendTo(k);h&&k.append(c.document.createElement("br"));k.replace(f);h=!1}}b.selectBookmarks(m);c.focus()}},refresh:function(c,e){this.setState(c.elementPath(e.block||e.blockLimit).contains("blockquote",
1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(g){g.blockless||(g.addCommand("blockquote",c),g.ui.addButton&&g.ui.addButton("Blockquote",{label:g.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})})();CKEDITOR.plugins.add("dialogui",{onLoad:function(){var c=function(b){this._||(this._={});this._["default"]=this._.initValue=b["default"]||"";this._.required=
b.required||!1;for(var c=[this._],a=1;a<arguments.length;a++)c.push(arguments[a]);c.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,c);return this._},g={build:function(b,c,a){return new CKEDITOR.ui.dialog.textInput(b,c,a)}},e={build:function(b,c,a){return new CKEDITOR.ui.dialog[c.type](b,c,a)}},b={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(b){this.setValue(this.getInitValue(),b)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=
this._["default"]},getInitValue:function(){return this._.initValue}},h=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(b,c){this._.domOnChangeRegistered||(b.on("load",function(){this.getInputElement().on("change",function(){b.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on("change",c)}},!0),m=/^on([A-Z]\w+)/,l=function(b){for(var c in b)(m.test(c)||"title"==c||"type"==c)&&
delete b[c];return b},k=function(b){b=b.data.getKeystroke();b==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):b==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,f,a,e){if(!(4>arguments.length)){var h=c.call(this,f);h.labelId=CKEDITOR.tools.getNextId()+"_label";this._.children=[];var g={role:f.role||"presentation"};f.includeLabel&&(g["aria-labelledby"]=h.labelId);CKEDITOR.ui.dialog.uiElement.call(this,
b,f,a,"div",null,g,function(){var a=[],c=f.required?" cke_required":"";"horizontal"!=f.labelLayout?a.push('\x3clabel class\x3d"cke_dialog_ui_labeled_label'+c+'" ',' id\x3d"'+h.labelId+'"',h.inputId?' for\x3d"'+h.inputId+'"':"",(f.labelStyle?' style\x3d"'+f.labelStyle+'"':"")+"\x3e",f.label,"\x3c/label\x3e",'\x3cdiv class\x3d"cke_dialog_ui_labeled_content"',f.controlStyle?' style\x3d"'+f.controlStyle+'"':"",' role\x3d"presentation"\x3e',e.call(this,b,f),"\x3c/div\x3e"):(c={type:"hbox",widths:f.widths,
padding:0,children:[{type:"html",html:'\x3clabel class\x3d"cke_dialog_ui_labeled_label'+c+'" id\x3d"'+h.labelId+'" for\x3d"'+h.inputId+'"'+(f.labelStyle?' style\x3d"'+f.labelStyle+'"':"")+"\x3e"+CKEDITOR.tools.htmlEncode(f.label)+"\x3c/label\x3e"},{type:"html",html:'\x3cspan class\x3d"cke_dialog_ui_labeled_content"'+(f.controlStyle?' style\x3d"'+f.controlStyle+'"':"")+"\x3e"+e.call(this,b,f)+"\x3c/span\x3e"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,c,a));return a.join("")})}},textInput:function(b,
f,a){if(!(3>arguments.length)){c.call(this,f);var e=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",h={"class":"cke_dialog_ui_input_"+f.type,id:e,type:f.type};f.validate&&(this.validate=f.validate);f.maxLength&&(h.maxlength=f.maxLength);f.size&&(h.size=f.size);f.inputStyle&&(h.style=f.inputStyle);var g=this,l=!1;b.on("load",function(){g.getInputElement().on("keydown",function(a){13==a.data.getKeystroke()&&(l=!0)});g.getInputElement().on("keyup",function(a){13==a.data.getKeystroke()&&l&&(b.getButton("ok")&&
setTimeout(function(){b.getButton("ok").click()},0),l=!1);g.bidi&&k.call(g,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,f,a,function(){var a=['\x3cdiv class\x3d"cke_dialog_ui_input_',f.type,'" role\x3d"presentation"'];f.width&&a.push('style\x3d"width:'+f.width+'" ');a.push("\x3e\x3cinput ");h["aria-labelledby"]=this._.labelId;this._.required&&(h["aria-required"]=this._.required);for(var b in h)a.push(b+'\x3d"'+h[b]+'" ');a.push(" /\x3e\x3c/div\x3e");return a.join("")})}},textarea:function(b,
f,a){if(!(3>arguments.length)){c.call(this,f);var e=this,h=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",g={};f.validate&&(this.validate=f.validate);g.rows=f.rows||5;g.cols=f.cols||20;g["class"]="cke_dialog_ui_input_textarea "+(f["class"]||"");"undefined"!=typeof f.inputStyle&&(g.style=f.inputStyle);f.dir&&(g.dir=f.dir);if(e.bidi)b.on("load",function(){e.getInputElement().on("keyup",k)},e);CKEDITOR.ui.dialog.labeledElement.call(this,b,f,a,function(){g["aria-labelledby"]=this._.labelId;this._.required&&
(g["aria-required"]=this._.required);var a=['\x3cdiv class\x3d"cke_dialog_ui_input_textarea" role\x3d"presentation"\x3e\x3ctextarea id\x3d"',h,'" '],b;for(b in g)a.push(b+'\x3d"'+CKEDITOR.tools.htmlEncode(g[b])+'" ');a.push("\x3e",CKEDITOR.tools.htmlEncode(e._["default"]),"\x3c/textarea\x3e\x3c/div\x3e");return a.join("")})}},checkbox:function(b,f,a){if(!(3>arguments.length)){var e=c.call(this,f,{"default":!!f["default"]});f.validate&&(this.validate=f.validate);CKEDITOR.ui.dialog.uiElement.call(this,
b,f,a,"span",null,null,function(){var a=CKEDITOR.tools.extend({},f,{id:f.id?f.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),c=[],h=CKEDITOR.tools.getNextId()+"_label",g={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":h};l(a);f["default"]&&(g.checked="checked");"undefined"!=typeof a.inputStyle&&(a.style=a.inputStyle);e.checkbox=new CKEDITOR.ui.dialog.uiElement(b,a,c,"input",null,g);c.push(' \x3clabel id\x3d"',h,'" for\x3d"',g.id,'"'+(f.labelStyle?' style\x3d"'+
f.labelStyle+'"':"")+"\x3e",CKEDITOR.tools.htmlEncode(f.label),"\x3c/label\x3e");return c.join("")})}},radio:function(b,f,a){if(!(3>arguments.length)){c.call(this,f);this._["default"]||(this._["default"]=this._.initValue=f.items[0][1]);f.validate&&(this.validate=f.validate);var e=[],h=this;f.role="radiogroup";f.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,b,f,a,function(){for(var a=[],c=[],g=(f.id?f.id:CKEDITOR.tools.getNextId())+"_radio",k=0;k<f.items.length;k++){var m=f.items[k],
t=void 0!==m[2]?m[2]:m[0],B=void 0!==m[1]?m[1]:m[0],w=CKEDITOR.tools.getNextId()+"_radio_input",v=w+"_label",w=CKEDITOR.tools.extend({},f,{id:w,title:null,type:null},!0),t=CKEDITOR.tools.extend({},w,{title:t},!0),F={type:"radio","class":"cke_dialog_ui_radio_input",name:g,value:B,"aria-labelledby":v},y=[];h._["default"]==B&&(F.checked="checked");l(w);l(t);"undefined"!=typeof w.inputStyle&&(w.style=w.inputStyle);w.keyboardFocusable=!0;e.push(new CKEDITOR.ui.dialog.uiElement(b,w,y,"input",null,F));y.push(" ");
new CKEDITOR.ui.dialog.uiElement(b,t,y,"label",null,{id:v,"for":F.id},m[0]);a.push(y.join(""))}new CKEDITOR.ui.dialog.hbox(b,e,a,c);return c.join("")});this._.children=e}},button:function(b,f,a){if(arguments.length){"function"==typeof f&&(f=f(b.getParentEditor()));c.call(this,f,{disabled:f.disabled||!1});CKEDITOR.event.implementOn(this);var e=this;b.on("load",function(){var a=this.getElement();(function(){a.on("click",function(a){e.click();a.data.preventDefault()});a.on("keydown",function(a){a.data.getKeystroke()in
{32:1}&&(e.click(),a.data.preventDefault())})})();a.unselectable()},this);var h=CKEDITOR.tools.extend({},f);delete h.style;var g=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,b,h,a,"a",null,{style:f.style,href:"javascript:void(0)",title:f.label,hidefocus:"true","class":f["class"],role:"button","aria-labelledby":g},'\x3cspan id\x3d"'+g+'" class\x3d"cke_dialog_ui_button"\x3e'+CKEDITOR.tools.htmlEncode(f.label)+"\x3c/span\x3e")}},select:function(b,f,a){if(!(3>arguments.length)){var e=
c.call(this,f);f.validate&&(this.validate=f.validate);e.inputId=CKEDITOR.tools.getNextId()+"_select";CKEDITOR.ui.dialog.labeledElement.call(this,b,f,a,function(){var a=CKEDITOR.tools.extend({},f,{id:f.id?f.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),c=[],h=[],g={id:e.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};c.push('\x3cdiv class\x3d"cke_dialog_ui_input_',f.type,'" role\x3d"presentation"');f.width&&c.push('style\x3d"width:'+f.width+'" ');c.push("\x3e");
void 0!==f.size&&(g.size=f.size);void 0!==f.multiple&&(g.multiple=f.multiple);l(a);for(var k=0,m;k<f.items.length&&(m=f.items[k]);k++)h.push('\x3coption value\x3d"',CKEDITOR.tools.htmlEncode(void 0!==m[1]?m[1]:m[0]).replace(/"/g,"\x26quot;"),'" /\x3e ',CKEDITOR.tools.htmlEncode(m[0]));"undefined"!=typeof a.inputStyle&&(a.style=a.inputStyle);e.select=new CKEDITOR.ui.dialog.uiElement(b,a,c,"select",null,g,h.join(""));c.push("\x3c/div\x3e");return c.join("")})}},file:function(b,f,a){if(!(3>arguments.length)){void 0===
f["default"]&&(f["default"]="");var e=CKEDITOR.tools.extend(c.call(this,f),{definition:f,buttons:[]});f.validate&&(this.validate=f.validate);b.on("load",function(){CKEDITOR.document.getById(e.frameId).getParent().addClass("cke_dialog_ui_input_file")});CKEDITOR.ui.dialog.labeledElement.call(this,b,f,a,function(){e.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var a=['\x3ciframe frameborder\x3d"0" allowtransparency\x3d"0" class\x3d"cke_dialog_ui_input_file" role\x3d"presentation" id\x3d"',e.frameId,
'" title\x3d"',f.label,'" src\x3d"javascript:void('];a.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0");a.push(')"\x3e\x3c/iframe\x3e');return a.join("")})}},fileButton:function(b,f,a){var e=this;if(!(3>arguments.length)){c.call(this,f);f.validate&&(this.validate=f.validate);var h=CKEDITOR.tools.extend({},f),g=h.onClick;h.className=(h.className?h.className+" ":"")+"cke_dialog_ui_button";h.onClick=function(a){var c=
f["for"];a=g?g.call(this,a):!1;!1!==a&&("xhr"!==a&&b.getContentElement(c[0],c[1]).submit(),this.disable())};b.on("load",function(){b.getContentElement(f["for"][0],f["for"][1])._.buttons.push(e)});CKEDITOR.ui.dialog.button.call(this,b,h,a)}},html:function(){var b=/^\s*<[\w:]+\s+([^>]*)?>/,c=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,a=/\/$/;return function(e,h,g){if(!(3>arguments.length)){var k=[],l=h.html;"\x3c"!=l.charAt(0)&&(l="\x3cspan\x3e"+l+"\x3c/span\x3e");var m=h.focus;if(m){var z=this.focus;
this.focus=function(){("function"==typeof m?m:z).call(this);this.fire("focus")};h.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,e,h,k,"span",null,null,"");k=k.join("").match(b);l=l.match(c)||["","",""];a.test(l[1])&&(l[1]=l[1].slice(0,-1),l[2]="/"+l[2]);g.push([l[1]," ",k[1]||"",l[2]].join(""))}}}(),fieldset:function(b,c,a,e,h){var g=h.label;this._={children:c};CKEDITOR.ui.dialog.uiElement.call(this,b,h,e,"fieldset",null,null,function(){var b=
[];g&&b.push("\x3clegend"+(h.labelStyle?' style\x3d"'+h.labelStyle+'"':"")+"\x3e"+g+"\x3c/legend\x3e");for(var d=0;d<a.length;d++)b.push(a[d]);return b.join("")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(b){var c=CKEDITOR.document.getById(this._.labelId);1>c.getChildCount()?(new CKEDITOR.dom.text(b,CKEDITOR.document)).appendTo(c):c.getChild(0).$.nodeValue=
b;return this},getLabel:function(){var b=CKEDITOR.document.getById(this._.labelId);return!b||1>b.getChildCount()?"":b.getChild(0).getText()},eventProcessors:h},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var b=this.getElement();b&&b.removeClass("cke_disabled")},disable:function(){this._.disabled=!0;this.getElement().addClass("cke_disabled")},
isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(b,c){this.on("click",function(){c.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},
focus:function(){var b=this.selectParentTab();setTimeout(function(){var c=b.getInputElement();c&&c.$.focus()},0)},select:function(){var b=this.selectParentTab();setTimeout(function(){var c=b.getInputElement();c&&(c.$.focus(),c.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(b){if(this.bidi){var c=b&&b.charAt(0);(c="‪"==c?"ltr":"‫"==c?"rtl":null)&&(b=b.slice(1));this.setDirectionMarker(c)}b||(b="");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},
getValue:function(){var b=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&b){var c=this.getDirectionMarker();c&&(b=("ltr"==c?"‪":"‫")+b)}return b},setDirectionMarker:function(b){var c=this.getInputElement();b?c.setAttributes({dir:b,"data-cke-dir-marker":b}):this.getDirectionMarker()&&c.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},b,!0);CKEDITOR.ui.dialog.textarea.prototype=
new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(b,c,a){var e=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),h=this.getInputElement().$;e.$.text=b;e.$.value=void 0===c||null===c?b:c;void 0===a||null===a?CKEDITOR.env.ie?h.add(e.$):h.add(e.$,null):h.add(e.$,a);return this},remove:function(b){this.getInputElement().$.remove(b);
return this},clear:function(){for(var b=this.getInputElement().$;0<b.length;)b.remove(0);return this},keyboardFocusable:!0},b,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(b,c){this.getInputElement().$.checked=b;!c&&this.fire("change",{value:b})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(b,
c){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return h.onChange.apply(this,arguments);b.on("load",function(){var a=this._.checkbox.getElement();a.on("propertychange",function(b){b=b.data.$;"checked"==b.propertyName&&this.fire("change",{value:a.$.checked})},this)},this);this.on("change",c);return null}},keyboardFocusable:!0},b,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(b,c){for(var a=this._.children,e,h=0;h<a.length&&(e=a[h]);h++)e.getElement().$.checked=
e.getValue()==b;!c&&this.fire("change",{value:b})},getValue:function(){for(var b=this._.children,c=0;c<b.length;c++)if(b[c].getElement().$.checked)return b[c].getValue();return null},accessKeyUp:function(){var b=this._.children,c;for(c=0;c<b.length;c++)if(b[c].getElement().$.checked){b[c].getElement().focus();return}b[0].getElement().focus()},eventProcessors:{onChange:function(b,c){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return h.onChange.apply(this,arguments);b.on("load",function(){for(var a=
this._.children,b=this,d=0;d<a.length;d++)a[d].getElement().on("propertychange",function(a){a=a.data.$;"checked"==a.propertyName&&this.$.checked&&b.fire("change",{value:this.getAttribute("value")})})},this);this.on("change",c);return null}}},b,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,b,{getInputElement:function(){var b=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<b.$.forms.length?new CKEDITOR.dom.element(b.$.forms[0].elements[0]):
this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(b){var c=/^on([A-Z]\w+)/,a,e=function(a,b,d,c){a.on("formLoaded",function(){a.getInputElement().on(d,c,a)})},h;for(h in b)if(a=h.match(c))this.eventProcessors[h]?this.eventProcessors[h].call(this,this._.dialog,b[h]):e(this,this._.dialog,a[1].toLowerCase(),b[h]);return this},reset:function(){function b(){a.$.open();
var d="";e.size&&(d=e.size-(CKEDITOR.env.ie?7:0));var t=c.frameId+"_input";a.$.write(['\x3chtml dir\x3d"'+l+'" lang\x3d"'+m+'"\x3e\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e\x3c/head\x3e\x3cbody style\x3d"margin: 0; overflow: hidden; background: transparent;"\x3e','\x3cform enctype\x3d"multipart/form-data" method\x3d"POST" dir\x3d"'+l+'" lang\x3d"'+m+'" action\x3d"',CKEDITOR.tools.htmlEncode(e.action),'"\x3e\x3clabel id\x3d"',c.labelId,'" for\x3d"',t,'" style\x3d"display:none"\x3e',CKEDITOR.tools.htmlEncode(e.label),
'\x3c/label\x3e\x3cinput style\x3d"width:100%" id\x3d"',t,'" aria-labelledby\x3d"',c.labelId,'" type\x3d"file" name\x3d"',CKEDITOR.tools.htmlEncode(e.id||"cke_upload"),'" size\x3d"',CKEDITOR.tools.htmlEncode(0<d?d:""),'" /\x3e\x3c/form\x3e\x3c/body\x3e\x3c/html\x3e\x3cscript\x3e',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+g+");","window.onbeforeunload \x3d function() {window.parent.CKEDITOR.tools.callFunction("+k+")}","\x3c/script\x3e"].join(""));
a.$.close();for(d=0;d<h.length;d++)h[d].enable()}var c=this._,a=CKEDITOR.document.getById(c.frameId).getFrameDocument(),e=c.definition,h=c.buttons,g=this.formLoadedNumber,k=this.formUnloadNumber,l=c.dialog._.editor.lang.dir,m=c.dialog._.editor.langCode;g||(g=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),k=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(g);
CKEDITOR.tools.removeFunction(k)}));CKEDITOR.env.gecko?setTimeout(b,500):b()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(b,c){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on("change",c)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=
new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement("text",g);CKEDITOR.dialog.addUIElement("password",g);CKEDITOR.dialog.addUIElement("tel",g);CKEDITOR.dialog.addUIElement("textarea",e);CKEDITOR.dialog.addUIElement("checkbox",e);CKEDITOR.dialog.addUIElement("radio",e);CKEDITOR.dialog.addUIElement("button",e);CKEDITOR.dialog.addUIElement("select",e);CKEDITOR.dialog.addUIElement("file",e);CKEDITOR.dialog.addUIElement("fileButton",
e);CKEDITOR.dialog.addUIElement("html",e);CKEDITOR.dialog.addUIElement("fieldset",{build:function(b,c,a){for(var e=c.children,h,g=[],k=[],l=0;l<e.length&&(h=e[l]);l++){var m=[];g.push(m);k.push(CKEDITOR.dialog._.uiElementBuilders[h.type].build(b,h,m))}return new CKEDITOR.ui.dialog[c.type](b,k,g,a,c)}})}});CKEDITOR.DIALOG_RESIZE_NONE=0;CKEDITOR.DIALOG_RESIZE_WIDTH=1;CKEDITOR.DIALOG_RESIZE_HEIGHT=2;CKEDITOR.DIALOG_RESIZE_BOTH=3;CKEDITOR.DIALOG_STATE_IDLE=1;CKEDITOR.DIALOG_STATE_BUSY=2;(function(){function c(a){a._.tabBarMode=
!0;a._.tabs[a._.currentTabId][0].focus();a._.currentFocusIndex=-1}function g(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,d=b-1;d>b-a;d--)if(this._.tabs[this._.tabIdList[d%a]][0].$.offsetHeight)return this._.tabIdList[d%a];return null}function e(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),d=b+1;d<b+a;d++)if(this._.tabs[this._.tabIdList[d%a]][0].$.offsetHeight)return this._.tabIdList[d%a];
return null}function b(a,b){for(var d=a.$.getElementsByTagName("input"),c=0,f=d.length;c<f;c++){var e=new CKEDITOR.dom.element(d[c]);"text"==e.getAttribute("type").toLowerCase()&&(b?(e.setAttribute("value",e.getCustomData("fake_value")||""),e.removeCustomData("fake_value")):(e.setCustomData("fake_value",e.getAttribute("value")),e.setAttribute("value","")))}}function h(a,b){var d=this.getInputElement();d&&(a?d.removeAttribute("aria-invalid"):d.setAttribute("aria-invalid",!0));a||(this.select?this.select():
this.focus());b&&alert(b);this.fire("validated",{valid:a,msg:b})}function m(){var a=this.getInputElement();a&&a.removeAttribute("aria-invalid")}function l(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",L).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:"cke_editor_"+a.name.replace(/\./g,"\\.")+"_dialog",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),d=b.getChild([0,0,0,0,0]),c=d.getChild(0),
f=d.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(d);!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(a="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('\x3ciframe frameBorder\x3d"0" class\x3d"cke_iframe_shim" src\x3d"'+a+'" tabIndex\x3d"-1"\x3e\x3c/iframe\x3e').appendTo(d.getParent()));c.unselectable();f.unselectable();return{element:b,
parts:{dialog:b.getChild(0),title:c,close:f,tabs:d.getChild(2),contents:d.getChild([3,0,0,0]),footer:d.getChild([3,0,1,0])}}}function k(a,b,d){this.element=b;this.focusIndex=d;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute("disabled")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on("keydown",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire("click")});b.on("focus",function(){this.fire("mouseover")});b.on("blur",function(){this.fire("mouseout")})}
function d(a){function b(){a.layout()}var d=CKEDITOR.document.getWindow();d.on("resize",b);a.on("hide",function(){d.removeListener("resize",b)})}function f(b,d){this.dialog=b;for(var c=d.contents,f=0,e;e=c[f];f++)c[f]=e&&new a(b,e);CKEDITOR.tools.extend(this,d)}function a(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function n(a){function b(d){var n=a.getSize(),k=a.parts.dialog.getParent().getClientSize(),l=d.data.$.screenX,m=d.data.$.screenY,r=l-c.x,u=m-c.y;c={x:l,y:m};f.x+=r;f.y+=u;l=f.x+
g[3]<h?-g[3]:f.x-g[1]>k.width-n.width-h?k.width-n.width+("rtl"==e.lang.dir?0:g[1]):f.x;n=f.y+g[0]<h?-g[0]:f.y-g[2]>k.height-n.height-h?k.height-n.height+g[2]:f.y;l=Math.floor(l);n=Math.floor(n);a.move(l,n,1);d.data.preventDefault()}function d(){CKEDITOR.document.removeListener("mousemove",b);CKEDITOR.document.removeListener("mouseup",d);if(CKEDITOR.env.ie6Compat){var a=H.getChild(0).getFrameDocument();a.removeListener("mousemove",b);a.removeListener("mouseup",d)}}var c=null,f=null,e=a.getParentEditor(),
h=e.config.dialog_magnetDistance,g=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof h&&(h=20);a.parts.title.on("mousedown",function(e){if(!a._.moved){var h=a._.element;h.getFirst().setStyle("position","absolute");h.removeStyle("display");a._.moved=!0;a.layout()}c={x:e.data.$.screenX,y:e.data.$.screenY};CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",d);f=a.getPosition();CKEDITOR.env.ie6Compat&&(h=H.getChild(0).getFrameDocument(),h.on("mousemove",b),h.on("mouseup",d));e.data.preventDefault()},
a)}function r(a){function b(d){var m="rtl"==e.lang.dir,r=l.width,u=l.height,t=r+(d.data.$.screenX-k.x)*(m?-1:1)*(a._.moved?1:2),P=u+(d.data.$.screenY-k.y)*(a._.moved?1:2),V=a._.element.getFirst(),V=m&&parseInt(V.getComputedStyle("right"),10),T=a.getPosition();T.x=T.x||0;T.y=T.y||0;T.y+P>n.height&&(P=n.height-T.y);(m?V:T.x)+t>n.width&&(t=n.width-(m?V:T.x));P=Math.floor(P);t=Math.floor(t);if(f==CKEDITOR.DIALOG_RESIZE_WIDTH||f==CKEDITOR.DIALOG_RESIZE_BOTH)r=Math.max(c.minWidth||0,t-h);if(f==CKEDITOR.DIALOG_RESIZE_HEIGHT||
f==CKEDITOR.DIALOG_RESIZE_BOTH)u=Math.max(c.minHeight||0,P-g);a.resize(r,u);a._.moved&&x(a,a._.position.x,a._.position.y);a._.moved||a.layout();d.data.preventDefault()}function d(){CKEDITOR.document.removeListener("mouseup",d);CKEDITOR.document.removeListener("mousemove",b);m&&(m.remove(),m=null);if(CKEDITOR.env.ie6Compat){var a=H.getChild(0).getFrameDocument();a.removeListener("mouseup",d);a.removeListener("mousemove",b)}}var c=a.definition,f=c.resizable;if(f!=CKEDITOR.DIALOG_RESIZE_NONE){var e=
a.getParentEditor(),h,g,n,k,l,m,r=CKEDITOR.tools.addFunction(function(c){function f(a){return a.isVisible()}l=a.getSize();var e=a.parts.contents,r=e.$.getElementsByTagName("iframe").length,u=!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks);r&&(m=CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_dialog_resize_cover" style\x3d"height: 100%; position: absolute; width: 100%; left:0; top:0;"\x3e\x3c/div\x3e'),e.append(m));g=l.height-a.parts.contents.getFirst(f).getSize("height",u);
h=l.width-a.parts.contents.getFirst(f).getSize("width",1);k={x:c.screenX,y:c.screenY};n=CKEDITOR.document.getWindow().getViewPaneSize();CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",d);CKEDITOR.env.ie6Compat&&(e=H.getChild(0).getFrameDocument(),e.on("mousemove",b),e.on("mouseup",d));c.preventDefault&&c.preventDefault()});a.on("load",function(){var b="";f==CKEDITOR.DIALOG_RESIZE_WIDTH?b=" cke_resizer_horizontal":f==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=" cke_resizer_vertical");b=CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_resizer'+
b+" cke_resizer_"+e.lang.dir+'" title\x3d"'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown\x3d"CKEDITOR.tools.callFunction('+r+', event )"\x3e'+("ltr"==e.lang.dir?"◢":"◣")+"\x3c/div\x3e");a.parts.footer.append(b,1)});e.on("destroy",function(){CKEDITOR.tools.removeFunction(r)})}}function x(a,b,d){var c=a.parts.dialog.getParent().getClientSize(),f=a.getSize(),e=a._.viewportRatio,h=Math.max(c.width-f.width,0),c=Math.max(c.height-f.height,0);e.width=h?b/h:e.width;e.height=c?d/c:e.height;
a._.viewportRatio=e}function p(a){a.data.preventDefault(1)}function q(a){var b=a.config,d=CKEDITOR.skinName||a.config.skin,c=b.dialog_backgroundCoverColor||("moono-lisa"==d?"black":"white"),d=b.dialog_backgroundCoverOpacity,f=b.baseFloatZIndex,b=CKEDITOR.tools.genKey(c,d,f),e=K[b];CKEDITOR.document.getBody().addClass("cke_dialog_open");e?e.show():(f=['\x3cdiv tabIndex\x3d"-1" style\x3d"position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",f,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",
CKEDITOR.env.ie6Compat?"":"background-color: "+c,'" class\x3d"cke_dialog_background_cover"\x3e'],CKEDITOR.env.ie6Compat&&(c="\x3chtml\x3e\x3cbody style\x3d\\'background-color:"+c+";\\'\x3e\x3c/body\x3e\x3c/html\x3e",f.push('\x3ciframe hidefocus\x3d"true" frameborder\x3d"0" id\x3d"cke_dialog_background_iframe" src\x3d"javascript:'),f.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+c+"' );document.close();")+"})())"),f.push('" style\x3d"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\x3d0)"\x3e\x3c/iframe\x3e')),
f.push("\x3c/div\x3e"),e=CKEDITOR.dom.element.createFromHtml(f.join("")),e.setOpacity(void 0!==d?d:.5),e.on("keydown",p),e.on("keypress",p),e.on("keyup",p),e.appendTo(CKEDITOR.document.getBody()),K[b]=e);a.focusManager.add(e);H=e;CKEDITOR.env.mac&&CKEDITOR.env.webkit||e.focus()}function u(a){CKEDITOR.document.getBody().removeClass("cke_dialog_open");H&&(a.focusManager.remove(H),H.hide())}function z(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,d=a.data.$.altKey,c=a.data.$.shiftKey,f=String.fromCharCode(a.data.$.keyCode);
(b=M[(b?"CTRL+":"")+(d?"ALT+":"")+(c?"SHIFT+":"")+f])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())}function t(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,d=a.data.$.altKey,c=a.data.$.shiftKey,f=String.fromCharCode(a.data.$.keyCode);(b=M[(b?"CTRL+":"")+(d?"ALT+":"")+(c?"SHIFT+":"")+f])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),a.data.preventDefault()))}function B(a,b,d,c,f){(M[d]||(M[d]=[])).push({uiElement:a,
dialog:b,key:d,keyup:f||a.accessKeyUp,keydown:c||a.accessKeyDown})}function w(a){for(var b in M){for(var d=M[b],c=d.length-1;0<=c;c--)d[c].dialog!=a&&d[c].uiElement!=a||d.splice(c,1);0===d.length&&delete M[b]}}function v(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])}function F(){}var y=CKEDITOR.tools.cssLength,C,H,G=!CKEDITOR.env.ie||CKEDITOR.env.edge,L='\x3cdiv class\x3d"cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir\x3d"{langDir}" style\x3d"'+(G?"display:flex":
"")+'" lang\x3d"{langCode}" role\x3d"dialog" aria-labelledby\x3d"cke_dialog_title_{id}"\x3e\x3ctable class\x3d"cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style\x3d"'+(G?"margin:auto":"position:absolute")+'" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd role\x3d"presentation"\x3e\x3cdiv class\x3d"cke_dialog_body" role\x3d"presentation"\x3e\x3cdiv id\x3d"cke_dialog_title_{id}" class\x3d"cke_dialog_title" role\x3d"presentation"\x3e\x3c/div\x3e\x3ca id\x3d"cke_dialog_close_button_{id}" class\x3d"cke_dialog_close_button" href\x3d"javascript:void(0)" title\x3d"{closeTitle}" role\x3d"button"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"cke_dialog_tabs_{id}" class\x3d"cke_dialog_tabs" role\x3d"tablist"\x3e\x3c/div\x3e\x3ctable class\x3d"cke_dialog_contents" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_contents_{id}" class\x3d"cke_dialog_contents_body" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_footer_{id}" class\x3d"cke_dialog_footer" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e';
CKEDITOR.dialog=function(a,b){function d(){var a=y._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function k(a){var b=y._.focusList;a=a||0;if(!(1>b.length)){var d=y._.currentFocusIndex;y._.tabBarMode&&0>a&&(d=0);try{b[d].getInputElement().$.blur()}catch(c){}var f=d,e=1<y._.pageCount;do{f+=a;if(e&&!y._.tabBarMode&&(f==b.length||-1==f)){y._.tabBarMode=!0;y._.tabs[y._.currentTabId][0].focus();
y._.currentFocusIndex=-1;return}f=(f+b.length)%b.length;if(f==d)break}while(a&&!b[f].isFocusable());b[f].focus();"text"==b[f].type&&b[f].select()}}function u(b){if(y==CKEDITOR.dialog._.currentTop){var d=b.data.getKeystroke(),f="rtl"==a.lang.dir,h=[37,38,39,40];z=B=0;if(9==d||d==CKEDITOR.SHIFT+9)k(d==CKEDITOR.SHIFT+9?-1:1),z=1;else if(d==CKEDITOR.ALT+121&&!y._.tabBarMode&&1<y.getPageCount())c(y),z=1;else if(-1!=CKEDITOR.tools.indexOf(h,d)&&y._.tabBarMode)d=-1!=CKEDITOR.tools.indexOf([f?39:37,38],d)?
g.call(y):e.call(y),y.selectPage(d),y._.tabs[d][0].focus(),z=1;else if(13!=d&&32!=d||!y._.tabBarMode)if(13==d)d=b.data.getTarget(),d.is("a","button","select","textarea")||d.is("input")&&"button"==d.$.type||((d=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(d.click,0,d),z=1),B=1;else if(27==d)(d=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(d.click,0,d):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),B=1;else return;else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=
-1,k(1),z=1;t(b)}}function t(a){z?a.data.preventDefault(1):B&&a.data.stopPropagation()}var p=CKEDITOR.dialog._.dialogDefinitions[b],w=CKEDITOR.tools.clone(C),x=a.config.dialog_buttonsOrder||"OS",q=a.lang.dir,v={},z,B;("OS"==x&&CKEDITOR.env.mac||"rtl"==x&&"ltr"==q||"ltr"==x&&"rtl"==q)&&w.buttons.reverse();p=CKEDITOR.tools.extend(p(a),w);p=CKEDITOR.tools.clone(p);p=new f(this,p);w=l(a);this._={editor:a,element:w.element,name:b,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},
buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=w.parts;CKEDITOR.tools.setTimeout(function(){a.fire("ariaWidget",this.parts.contents)},0,this);w={top:0,visibility:"hidden"};CKEDITOR.env.ie6Compat&&(w.position="absolute");w["rtl"==q?"right":"left"]=0;this.parts.dialog.setStyles(w);CKEDITOR.event.call(this);this.definition=p=CKEDITOR.fire("dialogDefinition",
{name:b,definition:p,dialog:this},a).definition;if(!("removeDialogTabs"in a._)&&a.config.removeDialogTabs){w=a.config.removeDialogTabs.split(";");for(q=0;q<w.length;q++)if(x=w[q].split(":"),2==x.length){var F=x[0];v[F]||(v[F]=[]);v[F].push(x[1])}a._.removeDialogTabs=v}if(a._.removeDialogTabs&&(v=a._.removeDialogTabs[b]))for(q=0;q<v.length;q++)p.removeContents(v[q]);if(p.onLoad)this.on("load",p.onLoad);if(p.onShow)this.on("show",p.onShow);if(p.onHide)this.on("hide",p.onHide);if(p.onOk)this.on("ok",
function(b){a.fire("saveSnapshot");setTimeout(function(){a.fire("saveSnapshot")},0);!1===p.onOk.call(this,b)&&(b.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(p.onCancel)this.on("cancel",function(a){!1===p.onCancel.call(this,a)&&(a.data.hide=!1)});var y=this,H=function(a){var b=y._.contents,d=!1,c;for(c in b)for(var f in b[c])if(d=a.call(this,b[c][f]))return};this.on("ok",function(a){H(function(b){if(b.validate){var d=b.validate(this),c="string"==typeof d||!1===d;c&&(a.data.hide=!1,a.stop());
h.call(b,!c,"string"==typeof d?d:void 0);return c}})},this,null,0);this.on("cancel",function(b){H(function(d){if(d.isChanged())return a.config.dialog_noConfirmCancel||confirm(a.lang.common.confirmCancel)||(b.data.hide=!1),!0})},this,null,0);this.parts.close.on("click",function(a){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=k;var E=this._.element;a.focusManager.add(E,1);this.on("show",function(){E.on("keydown",u,this);if(CKEDITOR.env.gecko)E.on("keypress",
t,this)});this.on("hide",function(){E.removeListener("keydown",u);CKEDITOR.env.gecko&&E.removeListener("keypress",t);H(function(a){m.apply(a)})});this.on("iframeAdded",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on("keydown",u,this,null,0)});this.on("show",function(){d();var b=1<y._.pageCount;a.config.dialog_startupFocusTab&&b?(y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=b?-1:this._.focusList.length-
1,p.onFocus?(b=p.onFocus.call(this))&&b.focus():k(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on("load",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);n(this);r(this);(new CKEDITOR.dom.text(p.title,CKEDITOR.document)).appendTo(this.parts.title);for(q=0;q<p.contents.length;q++)(v=p.contents[q])&&this.addPage(v);this.parts.tabs.on("click",function(a){var b=a.data.getTarget();b.hasClass("cke_dialog_tab")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf("_"))),
c(this),a.data.preventDefault())},this);q=[];v=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:p.buttons},q).getChild();this.parts.footer.setHtml(q.join(""));for(q=0;q<v.length;q++)this._.buttons[v[q].id]=v[q]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(a,b){if(!this._.contentSize||this._.contentSize.width!=a||this._.contentSize.height!=b){CKEDITOR.dialog.fire("resize",
{dialog:this,width:a,height:b},this._.editor);this.fire("resize",{width:a,height:b},this._.editor);this.parts.contents.setStyles({width:a+"px",height:b+"px"});if("rtl"==this._.editor.lang.dir&&this._.position){var d=this.parts.dialog.getParent().getClientSize().width;this._.position.x=d-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)}this._.contentSize={width:a,height:b}}},getSize:function(){var a=this._.element.getFirst();return{width:a.$.offsetWidth||0,height:a.$.offsetHeight||
0}},move:function(a,b,d){var c=this._.element.getFirst(),f="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&c.setStyle("zoom","100%");var e=this.parts.dialog.getParent().getClientSize(),h=this.getSize(),g=this._.viewportRatio,n=Math.max(e.width-h.width,0),e=Math.max(e.height-h.height,0);this._.position&&this._.position.x==a&&this._.position.y==b?(a=Math.floor(n*g.width),b=Math.floor(e*g.height)):x(this,a,b);this._.position={x:a,y:b};f&&(a=n-a);b={top:(0<b?b:0)+"px"};b[f?"right":"left"]=(0<a?a:0)+"px";
c.setStyles(b);d&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition,c=CKEDITOR.document.getBody(),f=this._.editor.config.baseFloatZIndex;a.getParent()&&a.getParent().equals(c)?a.setStyle("display",G?"flex":"block"):a.appendTo(c);this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();null===this._.currentTabId&&
this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=f);this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10);this.getElement().setStyle("z-index",CKEDITOR.dialog._.currentZIndex);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,q(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,c=this._.parentDialog.getElement().getFirst(),c.$.style.zIndex-=
Math.floor(f/2),this._.parentDialog.getElement().setStyle("z-index",c.$.style.zIndex),CKEDITOR.dialog._.currentTop=this);a.on("keydown",z);a.on("keyup",t);this._.hasFocus=!1;for(var e in b.contents)if(b.contents[e]){var a=b.contents[e],f=this._.tabs[a.id],c=a.requiredContent,h=0;if(f){for(var g in this._.contents[a.id]){var n=this._.contents[a.id][g];"hbox"!=n.type&&"vbox"!=n.type&&n.getInputElement()&&(n.requiredContent&&!this._.editor.activeFilter.check(n.requiredContent)?n.disable():(n.enable(),
h++))}!h||c&&!this._.editor.activeFilter.check(c)?f[0].addClass("cke_dialog_tab_disabled"):f[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout();d(this);this.parts.dialog.setStyle("visibility","");this.fireOnce("load",{});CKEDITOR.ui.fire("ready",this);this.fire("show",{});this._.editor.fire("dialogShow",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=
this.parts.dialog;if(this._.moved||!G){var b=this.getSize(),d=CKEDITOR.document.getWindow().getViewPaneSize(),c;this._.moved&&this._.position?(c=this._.position.x,b=this._.position.y):(c=(d.width-b.width)/2,b=(d.height-b.height)/2);CKEDITOR.env.ie6Compat||(a.setStyle("position","absolute"),a.removeStyle("margin"));c=Math.floor(c);b=Math.floor(b);this.move(c,b)}},foreach:function(a){for(var b in this._.contents)for(var d in this._.contents[b])a.call(this,this._.contents[b][d]);return this},reset:function(){var a=
function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},commitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{});this._.editor.fire("dialogHide",this);this.selectPage(this._.tabIdList[0]);
var a=this._.element;a.setStyle("display","none");this.parts.dialog.setStyle("visibility","hidden");for(w(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();this._.parentDialog.getElement().removeStyle("z-index");b.setStyle("z-index",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else u(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=
10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener("keydown",z);a.removeListener("keyup",t);var d=this._.editor;d.focus();setTimeout(function(){d.focusManager.unlock();CKEDITOR.env.iOS&&d.window.focus()},0)}delete this._.parentDialog;this.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],d=a.label?' title\x3d"'+CKEDITOR.tools.htmlEncode(a.label)+
'"':"",c=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||"width: 100%;"},b),f=this._.contents[a.id]={},e=c.getChild(),h=0;c=e.shift();)c.notAllowed||"hbox"==c.type||"vbox"==c.type||h++,f[c.id]=c,"function"==typeof c.getChild&&e.push.apply(e,c.getChild());h||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(""));b.setAttribute("role","tabpanel");b.setStyle("min-height",
"100%");c=CKEDITOR.env;f="cke_"+a.id+"_"+CKEDITOR.tools.getNextNumber();d=CKEDITOR.dom.element.createFromHtml(['\x3ca class\x3d"cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",d,a.hidden?' style\x3d"display:none"':"",' id\x3d"',f,'"',c.gecko&&!c.hc?"":' href\x3d"javascript:void(0)"',' tabIndex\x3d"-1" hidefocus\x3d"true" role\x3d"tab"\x3e',a.label,"\x3c/a\x3e"].join(""));b.setAttribute("aria-labelledby",f);this._.tabs[a.id]=[d,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;
this._.lastTab=d;this.updateStyle();b.setAttribute("name",a.id);b.appendTo(this.parts.contents);d.unselectable();this.parts.tabs.append(d);a.accessKey&&(B(this,this,"CTRL+"+a.accessKey,F,v),this._.accessKeyMap["CTRL+"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:a,currentPage:this._.currentTabId})){for(var d in this._.tabs){var c=this._.tabs[d][0],f=this._.tabs[d][1];d!=a&&(c.removeClass("cke_dialog_tab_selected"),
c.removeAttribute("aria-selected"),f.hide());f.setAttribute("aria-hidden",d!=a)}var e=this._.tabs[a];e[0].addClass("cke_dialog_tab_selected");e[0].setAttribute("aria-selected",!0);CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(b(e[1]),e[1].show(),setTimeout(function(){b(e[1],1)},0)):e[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(a){var b=
this._.tabs[a]&&this._.tabs[a][0];b&&1!=this._.pageCount&&b.isVisible()&&(a==this._.currentTabId&&this.selectPage(g.call(this)),b.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var d=this._.contents[a];return d&&d[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},
setValueOf:function(a,b,d){return this.getContentElement(a,b).setValue(d)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,
b){if("undefined"==typeof b)b=this._.focusList.length,this._.focusList.push(new k(this,a,b));else{this._.focusList.splice(b,0,new k(this,a,b));for(var d=b+1;d<this._.focusList.length;d++)this._.focusList[d].focusIndex++}},setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,d={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==b?"right":"left"}};d.styles["margin-"+("rtl"==b?"left":"right")]=
"8px";this.parts.spinner=CKEDITOR.document.createElement("div",d);this.parts.spinner.setHtml("\x26#8987;");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton("ok").disable()}else a==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",a)}},getModel:function(a){return this._.model?this._.model:this.definition.getModel?this.definition.getModel(a):null},setModel:function(a){this._.model=a},getMode:function(a){if(this.definition.getMode)return this.definition.getMode(a);
a=this.getModel(a);return!a||a instanceof CKEDITOR.dom.element&&!a.getParent()?CKEDITOR.dialog.CREATION_MODE:CKEDITOR.dialog.EDITING_MODE}};CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:function(a,b){this._.dialogDefinitions[a]&&"function"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,d){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp("(?:^|;)"+
b+":"+d+"(?:$|;)","i")))},okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:"ok",type:"button",label:a.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(a){a=a.data.dialog;!1!==a.fire("ok",{hide:!0}).hide&&a.hide()}},b,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(d){return a(d,b)},{type:"button"},!0)};return a}(),cancelButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:"cancel",type:"button",
label:a.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(a){a=a.data.dialog;!1!==a.fire("cancel",{hide:!0}).hide&&a.hide()}},b,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(d){return a(d,b)},{type:"button"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);
C={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]};var E=function(a,b,d){for(var c=0,f;f=a[c];c++)if(f.id==b||d&&f[d]&&(f=E(f[d],b,d)))return f;return null},D=function(a,b,d,c,f){if(d){for(var e=0,h;h=a[e];e++){if(h.id==d)return a.splice(e,0,b),b;if(c&&h[c]&&(h=D(h[c],b,d,c,!0)))return h}if(f)return null}a.push(b);return b},O=function(a,b,d){for(var c=0,f;f=a[c];c++){if(f.id==b)return a.splice(c,1);if(d&&f[d]&&(f=O(f[d],
b,d)))return f}return null};f.prototype={getContents:function(a){return E(this.contents,a)},getButton:function(a){return E(this.buttons,a)},addContents:function(a,b){return D(this.contents,a,b)},addButton:function(a,b){return D(this.buttons,a,b)},removeContents:function(a){O(this.contents,a)},removeButton:function(a){O(this.buttons,a)}};a.prototype={get:function(a){return E(this.elements,a,"children")},add:function(a,b){return D(this.elements,a,b,"children")},remove:function(a){O(this.elements,a,
"children")}};var K={},M={};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,d,c,f,e,h){if(!(4>arguments.length)){var g=(c.call?c(b):c)||"div",n=["\x3c",g," "],k=(f&&f.call?f(b):f)||{},l=(e&&e.call?e(b):e)||{},m=(h&&h.call?h.call(this,a,b):h)||"",r=this.domId=l.id||CKEDITOR.tools.getNextId()+"_uiElement";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(k.display="none",this.notAllowed=!0);l.id=r;var u={};b.type&&(u["cke_dialog_ui_"+b.type]=1);b.className&&(u[b.className]=
1);b.disabled&&(u.cke_disabled=1);for(var t=l["class"]&&l["class"].split?l["class"].split(" "):[],r=0;r<t.length;r++)t[r]&&(u[t[r]]=1);t=[];for(r in u)t.push(r);l["class"]=t.join(" ");b.title&&(l.title=b.title);u=(b.style||"").split(";");b.align&&(t=b.align,k["margin-left"]="left"==t?0:"auto",k["margin-right"]="right"==t?0:"auto");for(r in k)u.push(r+":"+k[r]);b.hidden&&u.push("display:none");for(r=u.length-1;0<=r;r--)""===u[r]&&u.splice(r,1);0<u.length&&(l.style=(l.style?l.style+"; ":"")+u.join("; "));
for(r in l)n.push(r+'\x3d"'+CKEDITOR.tools.htmlEncode(l[r])+'" ');n.push("\x3e",m,"\x3c/",g,"\x3e");d.push(n.join(""));(this._||(this._={})).dialog=a;"boolean"==typeof b.isChanged&&(this.isChanged=function(){return b.isChanged});"function"==typeof b.isChanged&&(this.isChanged=b.isChanged);"function"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(d){a.call(this,b.setValue.call(this,d))}}));"function"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,
function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);this.accessKeyUp&&this.accessKeyDown&&b.accessKey&&B(this,a,"CTRL+"+b.accessKey);var p=this;a.on("load",function(){var b=p.getInputElement();if(b){var d=p.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";b.on("focus",function(){a._.tabBarMode=!1;a._.hasFocus=!0;p.fire("focus");d&&this.addClass(d)});b.on("blur",function(){p.fire("blur");
d&&this.removeClass(d)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=a._.focusList.push(this)-1,this.on("focus",function(){a._.currentFocusIndex=p.focusIndex}))}},hbox:function(a,b,d,c,f){if(!(4>arguments.length)){this._||(this._={});var e=this._.children=b,h=f&&f.widths||null,g=f&&f.height||null,n,k={role:"presentation"};f&&f.align&&(k.align=f.align);CKEDITOR.ui.dialog.uiElement.call(this,a,f||{type:"hbox"},c,"table",{},k,function(){var a=
['\x3ctbody\x3e\x3ctr class\x3d"cke_dialog_ui_hbox"\x3e'];for(n=0;n<d.length;n++){var b="cke_dialog_ui_hbox_child",c=[];0===n&&(b="cke_dialog_ui_hbox_first");n==d.length-1&&(b="cke_dialog_ui_hbox_last");a.push('\x3ctd class\x3d"',b,'" role\x3d"presentation" ');h?h[n]&&c.push("width:"+y(h[n])):c.push("width:"+Math.floor(100/d.length)+"%");g&&c.push("height:"+y(g));f&&void 0!==f.padding&&c.push("padding:"+y(f.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e[n].align&&c.push("text-align:"+e[n].align);
0<c.length&&a.push('style\x3d"'+c.join("; ")+'" ');a.push("\x3e",d[n],"\x3c/td\x3e")}a.push("\x3c/tr\x3e\x3c/tbody\x3e");return a.join("")})}},vbox:function(a,b,d,c,f){if(!(3>arguments.length)){this._||(this._={});var e=this._.children=b,h=f&&f.width||null,g=f&&f.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,f||{type:"vbox"},c,"div",null,{role:"presentation"},function(){var b=['\x3ctable role\x3d"presentation" cellspacing\x3d"0" border\x3d"0" '];b.push('style\x3d"');f&&f.expand&&b.push("height:100%;");
b.push("width:"+y(h||"100%"),";");CKEDITOR.env.webkit&&b.push("float:none;");b.push('"');b.push('align\x3d"',CKEDITOR.tools.htmlEncode(f&&f.align||("ltr"==a.getParentEditor().lang.dir?"left":"right")),'" ');b.push("\x3e\x3ctbody\x3e");for(var c=0;c<d.length;c++){var n=[];b.push('\x3ctr\x3e\x3ctd role\x3d"presentation" ');h&&n.push("width:"+y(h||"100%"));g?n.push("height:"+y(g[c])):f&&f.expand&&n.push("height:"+Math.floor(100/d.length)+"%");f&&void 0!==f.padding&&n.push("padding:"+y(f.padding));CKEDITOR.env.ie&&
CKEDITOR.env.quirks&&e[c].align&&n.push("text-align:"+e[c].align);0<n.length&&b.push('style\x3d"',n.join("; "),'" ');b.push(' class\x3d"cke_dialog_ui_vbox_child"\x3e',d[c],"\x3c/td\x3e\x3c/tr\x3e")}b.push("\x3c/tbody\x3e\x3c/table\x3e");return b.join("")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);
!b&&this.fire("change",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=this.getInputElement();(a=a.getParent())&&-1==a.$.className.search("cke_dialog_page_contents"););if(!a)return this;a=a.getAttribute("name");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=
/^on([A-Z]\w+)/,d,c=function(a,b,d,c){b.on("load",function(){a.getInputElement().on(d,c,a)})},f;for(f in a)if(d=f.match(b))this.eventProcessors[f]?this.eventProcessors[f].call(this,this._.dialog,a[f]):c(this,this._.dialog,d[1].toLowerCase(),a[f]);return this},eventProcessors:{onLoad:function(a,b){a.on("load",b,this)},onShow:function(a,b){a.on("show",b,this)},onHide:function(a,b){a.on("hide",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();
this.getInputElement().setAttribute("disabled","true");a.addClass("cke_disabled")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute("disabled");a.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,
{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?this._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,b,d){for(var c=b.children,f,e=[],h=[],g=0;g<c.length&&(f=c[g]);g++){var n=[];e.push(n);h.push(CKEDITOR.dialog._.uiElementBuilders[f.type].build(a,f,n))}return new CKEDITOR.ui.dialog[b.type](a,
h,e,d,b)}};CKEDITOR.dialog.addUIElement("hbox",a);CKEDITOR.dialog.addUIElement("vbox",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;CKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){var b=this.tabId;a.openDialog(this.dialogName,function(a){b&&a.selectPage(b)})},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\d*$/,d=/^\d*(?:\.\d+)?$/,c=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,f=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,
e=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():a[0],d,c=CKEDITOR.VALIDATE_AND,f=[],e;for(e=0;e<a.length;e++)if("function"==typeof a[e])f.push(a[e]);else break;e<a.length&&"string"==typeof a[e]&&(d=a[e],e++);e<a.length&&"number"==typeof a[e]&&(c=a[e]);var h=c==CKEDITOR.VALIDATE_AND?!0:!1;for(e=0;e<f.length;e++)h=c==CKEDITOR.VALIDATE_AND?h&&
f[e](b):h||f[e](b);return h?!0:d}},regex:function(a,b){return function(d){d=this&&this.getValue?this.getValue():d;return a.test(d)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,a)},number:function(a){return this.regex(d,a)},cssLength:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return c.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},
a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on("instanceDestroyed",function(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var d in K)K[d].remove();K={}}a=a.editor._.storedDialogs;for(var c in a)a[c].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b,d){var c=null,f=CKEDITOR.dialog._.dialogDefinitions[a];
null===CKEDITOR.dialog._.currentTop&&q(this);if("function"==typeof f)f=this._.storedDialogs||(this._.storedDialogs={}),c=f[a]||(f[a]=new CKEDITOR.dialog(this,a)),c.setModel(d),b&&b.call(c,c),c.show();else{if("failed"==f)throw u(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+a+'" failed when loading definition.');"string"==typeof f&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]="failed");
this.openDialog(a,b,d)},this,0,1)}CKEDITOR.skin.loadPart("dialog");if(c)c.once("hide",function(){c.setModel(null)},null,null,999);return c}})})();var ia=!1;CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(c){ia||(CKEDITOR.document.appendStyleSheet(this.path+"styles/dialog.css"),ia=!0);c.on("doubleclick",function(g){g.data.dialog&&c.openDialog(g.data.dialog)},null,null,999)}});"use strict";(function(){function c(c,b){CKEDITOR.tools.extend(this,b,{editor:c,id:"cke-"+CKEDITOR.tools.getUniqueId(),
area:c._.notificationArea});b.type||(this.type="info");this.element=this._createElement();c.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function g(c){var b=this;this.editor=c;this.notifications=[];this.element=this._createElement();this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this);this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this);c.on("destroy",function(){b._removeListeners();b.element.remove()})}CKEDITOR.plugins.add("notification",
{init:function(c){function b(b){var c=new CKEDITOR.dom.element("div");c.setStyles({position:"fixed","margin-left":"-9999px"});c.setAttributes({"aria-live":"assertive","aria-atomic":"true"});c.setText(b);CKEDITOR.document.getBody().append(c);setTimeout(function(){c.remove()},100)}c._.notificationArea=new g(c);c.showNotification=function(b,g,l){var k,d;"progress"==g?k=l:d=l;b=new CKEDITOR.plugins.notification(c,{message:b,type:g,progress:k,duration:d});b.show();return b};c.on("key",function(h){if(27==
h.data.keyCode){var g=c._.notificationArea.notifications;g.length&&(b(c.lang.notification.closed),g[g.length-1].hide(),h.cancel())}})}});c.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(c){var b=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:c})&&(b=!1);var h=this.element,g=h.findOne(".cke_notification_message"),l=h.findOne(".cke_notification_progress"),k=c.type;h.removeAttribute("role");
c.progress&&"progress"!=this.type&&(k="progress");k&&(h.removeClass(this._getClass()),h.removeAttribute("aria-label"),this.type=k,h.addClass(this._getClass()),h.setAttribute("aria-label",this.type),"progress"!=this.type||l?"progress"!=this.type&&l&&l.remove():(l=this._createProgressElement(),l.insertBefore(g)));void 0!==c.message&&(this.message=c.message,g.setHtml(this.message));void 0!==c.progress&&(this.progress=c.progress,l&&l.setStyle("width",this._getPercentageProgress()));b&&c.important&&(h.setAttribute("role",
"alert"),this.isVisible()||this.area.add(this));this.duration=c.duration;this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var c=this,b,h,g=this.editor.lang.common.close;b=new CKEDITOR.dom.element("div");b.addClass("cke_notification");b.addClass(this._getClass());b.setAttributes({id:this.id,role:"alert","aria-label":this.type});
"progress"==this.type&&b.append(this._createProgressElement());h=new CKEDITOR.dom.element("p");h.addClass("cke_notification_message");h.setHtml(this.message);b.append(h);h=CKEDITOR.dom.element.createFromHtml('\x3ca class\x3d"cke_notification_close" href\x3d"javascript:void(0)" title\x3d"'+g+'" role\x3d"button" tabindex\x3d"-1"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e');b.append(h);h.on("click",function(){c.editor.focus();c.hide()});return b},_getClass:function(){return"progress"==
this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var c=new CKEDITOR.dom.element("span");c.addClass("cke_notification_progress");c.setStyle("width",this._getPercentageProgress());return c},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var c=this,b;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId);if("number"==typeof this.duration)b=this.duration;else if("info"==this.type||"success"==
this.type)b="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5E3;b&&(c._hideTimeoutId=setTimeout(function(){c.hide()},b))}};g.prototype={add:function(c){this.notifications.push(c);this.element.append(c.element);1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners());this._layout()},remove:function(c){var b=CKEDITOR.tools.indexOf(this.notifications,c);0>b||(this.notifications.splice(b,1),c.element.remove(),
this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var c=this.editor,b=c.config,h=new CKEDITOR.dom.element("div");h.addClass("cke_notifications_area");h.setAttribute("id","cke_notifications_area_"+c.name);h.setStyle("z-index",b.baseFloatZIndex-2);return h},_attachListeners:function(){var c=CKEDITOR.document.getWindow(),b=this.editor;c.on("scroll",this._uiBuffer.input);c.on("resize",this._uiBuffer.input);b.on("change",this._changeBuffer.input);
b.on("floatingSpaceLayout",this._layout,this,null,20);b.on("blur",this._layout,this,null,20)},_removeListeners:function(){var c=CKEDITOR.document.getWindow(),b=this.editor;c.removeListener("scroll",this._uiBuffer.input);c.removeListener("resize",this._uiBuffer.input);b.removeListener("change",this._changeBuffer.input);b.removeListener("floatingSpaceLayout",this._layout);b.removeListener("blur",this._layout)},_layout:function(){function c(){b.setStyle("left",z(t+g.width-n-r))}var b=this.element,h=
this.editor,g=h.ui.contentsElement.getClientRect(),l=h.ui.contentsElement.getDocumentPosition(),k,d,f=b.getClientRect(),a,n=this._notificationWidth,r=this._notificationMargin;a=CKEDITOR.document.getWindow();var x=a.getScrollPosition(),p=a.getViewPaneSize(),q=CKEDITOR.document.getBody(),u=q.getDocumentPosition(),z=CKEDITOR.tools.cssLength;n&&r||(a=this.element.getChild(0),n=this._notificationWidth=a.getClientRect().width,r=this._notificationMargin=parseInt(a.getComputedStyle("margin-left"),10)+parseInt(a.getComputedStyle("margin-right"),
10));h.toolbar&&(k=h.ui.space(h.config.toolbarLocation),d=k.getClientRect());k&&k.isVisible()&&d.bottom>g.top&&d.bottom<g.bottom-f.height?b.setStyles({position:"fixed",top:z(d.bottom)}):0<g.top?b.setStyles({position:"absolute",top:z(l.y)}):l.y+g.height-f.height>x.y?b.setStyles({position:"fixed",top:0}):b.setStyles({position:"absolute",top:z(l.y+g.height-f.height)});var t="fixed"==b.getStyle("position")?g.left:"static"!=q.getComputedStyle("position")?l.x-u.x:l.x;g.width<n+r?l.x+n+r>x.x+p.width?c():
b.setStyle("left",z(t)):l.x+n+r>x.x+p.width?b.setStyle("left",z(t)):l.x+g.width/2+n/2+r>x.x+p.width?b.setStyle("left",z(t-l.x+x.x+p.width-n-r)):0>g.left+g.width-n-r?c():0>g.left+g.width/2-n/2?b.setStyle("left",z(t-l.x+x.x)):b.setStyle("left",z(t+g.width/2-n/2-r/2))}};CKEDITOR.plugins.notification=c})();(function(){var c='\x3ca id\x3d"{id}" class\x3d"cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' title\x3d"{title}" tabindex\x3d"-1" hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasArrow}" aria-disabled\x3d"{ariaDisabled}"';
CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(c+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(c+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var g="";CKEDITOR.env.ie&&(g='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');var c=c+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" onclick\x3d"'+g+'CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{style}"')+
'\x3e\x26nbsp;\x3c/span\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_button_label cke_button__{name}_label" aria-hidden\x3d"false"\x3e{label}\x3c/span\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_button_label" aria-hidden\x3d"false"\x3e{ariaShortcut}\x3c/span\x3e{arrowHtml}\x3c/a\x3e',e=CKEDITOR.addTemplate("buttonArrow",'\x3cspan class\x3d"cke_button_arrow"\x3e'+(CKEDITOR.env.hc?"\x26#9660;":"")+"\x3c/span\x3e"),b=CKEDITOR.addTemplate("button",c);CKEDITOR.plugins.add("button",{beforeInit:function(b){b.ui.addHandler(CKEDITOR.UI_BUTTON,
CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(b){CKEDITOR.tools.extend(this,b,{title:b.label,click:b.click||function(c){c.execCommand(b.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(b){return new CKEDITOR.ui.button(b)}};CKEDITOR.ui.button.prototype={render:function(c,g){function l(){var a=c.mode;a&&(a=this.modes[a]?void 0!==k[a]?k[a]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,a=c.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:
a,this.setState(a),this.refresh&&this.refresh())}var k=null,d=CKEDITOR.env,f=this._.id=CKEDITOR.tools.getNextId(),a="",n=this.command,r,x,p;this._.editor=c;var q={id:f,button:this,editor:c,focus:function(){CKEDITOR.document.getById(f).focus()},execute:function(){this.button.click(c)},attach:function(a){this.button.attach(a)}},u=CKEDITOR.tools.addFunction(function(a){if(q.onkey)return a=new CKEDITOR.dom.event(a),!1!==q.onkey(q,a.getKeystroke())}),z=CKEDITOR.tools.addFunction(function(a){var b;q.onfocus&&
(b=!1!==q.onfocus(q,new CKEDITOR.dom.event(a)));return b}),t=0;q.clickFn=r=CKEDITOR.tools.addFunction(function(){t&&(c.unlockSelection(1),t=0);q.execute();d.iOS&&c.focus()});this.modes?(k={},c.on("beforeModeUnload",function(){c.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(k[c.mode]=this._.state)},this),c.on("activeFilterChange",l,this),c.on("mode",l,this),!this.readOnly&&c.on("readOnly",l,this)):n&&(n=c.getCommand(n))&&(n.on("state",function(){this.setState(n.state)},this),a+=n.state==CKEDITOR.TRISTATE_ON?
"on":n.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");var B;if(this.directional)c.on("contentDirChanged",function(a){var b=CKEDITOR.document.getById(this._.id),d=b.getFirst();a=a.data;a!=c.lang.dir?b.addClass("cke_"+a):b.removeClass("cke_ltr").removeClass("cke_rtl");d.setAttribute("style",CKEDITOR.skin.getIconStyle(B,"rtl"==a,this.icon,this.iconOffset))},this);n?(x=c.getCommandKeystroke(n))&&(p=CKEDITOR.tools.keystrokeToString(c.lang.common.keyboard,x)):a+="off";x=this.name||this.command;var w=
null,v=this.icon;B=x;this.icon&&!/\./.test(this.icon)?(B=this.icon,v=null):(this.icon&&(w=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(w=this.iconHiDpi));w?(CKEDITOR.skin.addIcon(w,w),v=null):w=B;a={id:f,name:x,iconName:B,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:a,ariaDisabled:"disabled"==a?"true":"false",title:this.title+(p?" ("+p.display+")":""),ariaShortcut:p?c.lang.common.keyboardShortcut+" "+p.aria:"",titleJs:d.gecko&&!d.hc?"":(this.title||
"").replace("'",""),hasArrow:"string"===typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:u,focusFn:z,clickFn:r,style:CKEDITOR.skin.getIconStyle(w,"rtl"==c.lang.dir,v,this.iconOffset),arrowHtml:this.hasArrow?e.output():""};b.output(a,g);if(this.onRender)this.onRender();return q},setState:function(b){if(this._.state==b)return!1;this._.state=b;var c=CKEDITOR.document.getById(this._.id);return c?(c.setState(b,"cke_button"),c.setAttribute("aria-disabled",b==CKEDITOR.TRISTATE_DISABLED),
this.hasArrow?c.setAttribute("aria-expanded",b==CKEDITOR.TRISTATE_ON):b===CKEDITOR.TRISTATE_ON?c.setAttribute("aria-pressed",!0):c.removeAttribute("aria-pressed"),!0):!1},getState:function(){return this._.state},toFeature:function(b){if(this._.feature)return this._.feature;var c=this;this.allowedContent||this.requiredContent||!this.command||(c=b.getCommand(this.command)||c);return this._.feature=c}};CKEDITOR.ui.prototype.addButton=function(b,c){this.add(b,CKEDITOR.UI_BUTTON,c)}})();(function(){function c(b){function c(){for(var a=
e(),d=CKEDITOR.tools.clone(b.config.toolbarGroups)||g(b),f=0;f<d.length;f++){var m=d[f];if("/"!=m){"string"==typeof m&&(m=d[f]={name:m});var q,u=m.groups;if(u)for(var z=0;z<u.length;z++)q=u[z],(q=a[q])&&k(m,q);(q=a[m.name])&&k(m,q)}}return d}function e(){var a={},d,c,f;for(d in b.ui.items)c=b.ui.items[d],f=c.toolbar||"others",f=f.split(","),c=f[0],f=parseInt(f[1]||-1,10),a[c]||(a[c]=[]),a[c].push({name:d,order:f});for(c in a)a[c]=a[c].sort(function(a,b){return a.order==b.order?0:0>b.order?-1:0>a.order?
1:a.order<b.order?-1:1});return a}function k(a,d){if(d.length){a.items?a.items.push(b.ui.create("-")):a.items=[];for(var c;c=d.shift();)c="string"==typeof c?c:c.name,f&&-1!=CKEDITOR.tools.indexOf(f,c)||(c=b.ui.create(c))&&b.addFeature(c)&&a.items.push(c)}}function d(a){var b=[],d,c,f;for(d=0;d<a.length;++d)c=a[d],f={},"/"==c?b.push(c):CKEDITOR.tools.isArray(c)?(k(f,CKEDITOR.tools.clone(c)),b.push(f)):c.items&&(k(f,CKEDITOR.tools.clone(c.items)),f.name=c.name,b.push(f));return b}var f=b.config.removeButtons,
f=f&&f.split(","),a=b.config.toolbar;"string"==typeof a&&(a=b.config["toolbar_"+a]);return b.toolbar=a?d(a):c()}function g(b){return b._.toolbarGroups||(b._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},
"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var e=function(){this.toolbars=[];this.focusCommandExecuted=!1};e.prototype.focus=function(){for(var b=0,c;c=this.toolbars[b++];)for(var e=0,g;g=c.items[e++];)if(g.focus){g.focus();return}};var b={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(b){b.toolbox&&(b.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){b.toolbox.focus()},100):b.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",
{requires:"button",init:function(h){var g,l=function(b,d){var c,a="rtl"==h.lang.dir,e=h.config.toolbarGroupCycling,r=a?37:39,a=a?39:37,e=void 0===e||e;switch(d){case 9:case CKEDITOR.SHIFT+9:for(;!c||!c.items.length;)if(c=9==d?(c?c.next:b.toolbar.next)||h.toolbox.toolbars[0]:(c?c.previous:b.toolbar.previous)||h.toolbox.toolbars[h.toolbox.toolbars.length-1],c.items.length)for(b=c.items[g?c.items.length-1:0];b&&!b.focus;)(b=g?b.previous:b.next)||(c=0);b&&b.focus();return!1;case r:c=b;do c=c.next,!c&&
e&&(c=b.toolbar.items[0]);while(c&&!c.focus);c?c.focus():l(b,9);return!1;case 40:return b.button&&b.button.hasArrow?b.execute():l(b,40==d?r:a),!1;case a:case 38:c=b;do c=c.previous,!c&&e&&(c=b.toolbar.items[b.toolbar.items.length-1]);while(c&&!c.focus);c?c.focus():(g=1,l(b,CKEDITOR.SHIFT+9),g=0);return!1;case 27:return h.focus(),!1;case 13:case 32:return b.execute(),!1}return!0};h.on("uiSpace",function(b){if(b.data.space==h.config.toolbarLocation){b.removeListener();h.toolbox=new e;var d=CKEDITOR.tools.getNextId(),
f=['\x3cspan id\x3d"',d,'" class\x3d"cke_voice_label"\x3e',h.lang.toolbar.toolbars,"\x3c/span\x3e",'\x3cspan id\x3d"'+h.ui.spaceId("toolbox")+'" class\x3d"cke_toolbox" role\x3d"group" aria-labelledby\x3d"',d,'" onmousedown\x3d"return false;"\x3e'],d=!1!==h.config.toolbarStartupExpanded,a,g;h.config.toolbarCanCollapse&&h.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&f.push('\x3cspan class\x3d"cke_toolbox_main"'+(d?"\x3e":' style\x3d"display:none"\x3e'));for(var m=h.toolbox.toolbars,x=c(h),p=x.length,
q=0;q<p;q++){var u,z=0,t,B=x[q],w="/"!==B&&("/"===x[q+1]||q==p-1),v;if(B)if(a&&(f.push("\x3c/span\x3e"),g=a=0),"/"===B)f.push('\x3cspan class\x3d"cke_toolbar_break"\x3e\x3c/span\x3e');else{v=B.items||B;for(var F=0;F<v.length;F++){var y=v[F],C;if(y){var H=function(a){a=a.render(h,f);G=z.items.push(a)-1;0<G&&(a.previous=z.items[G-1],a.previous.next=a);a.toolbar=z;a.onkey=l;a.onfocus=function(){h.toolbox.focusCommandExecuted||h.focus()}};if(y.type==CKEDITOR.UI_SEPARATOR)g=a&&y;else{C=!1!==y.canGroup;
if(!z){u=CKEDITOR.tools.getNextId();z={id:u,items:[]};t=B.name&&(h.lang.toolbar.toolbarGroups[B.name]||B.name);f.push('\x3cspan id\x3d"',u,'" class\x3d"cke_toolbar'+(w?' cke_toolbar_last"':'"'),t?' aria-labelledby\x3d"'+u+'_label"':"",' role\x3d"toolbar"\x3e');t&&f.push('\x3cspan id\x3d"',u,'_label" class\x3d"cke_voice_label"\x3e',t,"\x3c/span\x3e");f.push('\x3cspan class\x3d"cke_toolbar_start"\x3e\x3c/span\x3e');var G=m.push(z)-1;0<G&&(z.previous=m[G-1],z.previous.next=z)}C?a||(f.push('\x3cspan class\x3d"cke_toolgroup" role\x3d"presentation"\x3e'),
a=1):a&&(f.push("\x3c/span\x3e"),a=0);g&&(H(g),g=0);H(y)}}}a&&(f.push("\x3c/span\x3e"),g=a=0);z&&f.push('\x3cspan class\x3d"cke_toolbar_end"\x3e\x3c/span\x3e\x3c/span\x3e')}}h.config.toolbarCanCollapse&&f.push("\x3c/span\x3e");if(h.config.toolbarCanCollapse&&h.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var L=CKEDITOR.tools.addFunction(function(){h.execCommand("toolbarCollapse")});h.on("destroy",function(){CKEDITOR.tools.removeFunction(L)});h.addCommand("toolbarCollapse",{readOnly:1,exec:function(a){var b=
a.ui.space("toolbar_collapser"),d=b.getPrevious(),c=a.ui.space("contents"),f=d.getParent(),e=parseInt(c.$.style.height,10),h=f.$.offsetHeight,g=b.hasClass("cke_toolbox_collapser_min");g?(d.show(),b.removeClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbar.toolbarCollapse)):(d.hide(),b.addClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbar.toolbarExpand));b.getFirst().setText(g?"▲":"◀");c.setStyle("height",e-(f.$.offsetHeight-h)+"px");a.fire("resize",{outerHeight:a.container.$.offsetHeight,
contentsHeight:c.$.offsetHeight,outerWidth:a.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});h.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");f.push('\x3ca title\x3d"'+(d?h.lang.toolbar.toolbarCollapse:h.lang.toolbar.toolbarExpand)+'" id\x3d"'+h.ui.spaceId("toolbar_collapser")+'" tabIndex\x3d"-1" class\x3d"cke_toolbox_collapser');d||f.push(" cke_toolbox_collapser_min");f.push('" onclick\x3d"CKEDITOR.tools.callFunction('+L+')"\x3e','\x3cspan class\x3d"cke_arrow"\x3e\x26#9650;\x3c/span\x3e',
"\x3c/a\x3e")}f.push("\x3c/span\x3e");b.data.html+=f.join("")}});h.on("destroy",function(){if(this.toolbox){var b,d=0,c,a,e;for(b=this.toolbox.toolbars;d<b.length;d++)for(a=b[d].items,c=0;c<a.length;c++)e=a[c],e.clickFn&&CKEDITOR.tools.removeFunction(e.clickFn),e.keyDownFn&&CKEDITOR.tools.removeFunction(e.keyDownFn)}});h.on("uiReady",function(){var b=h.ui.space("toolbox");b&&h.focusManager.add(b,1)});h.addCommand("toolbarFocus",b);h.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");h.ui.add("-",CKEDITOR.UI_SEPARATOR,
{});h.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(b,d){d.push('\x3cspan class\x3d"cke_toolbar_separator" role\x3d"separator"\x3e\x3c/span\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(b,c,e){var k=g(this.editor),d=0===c,f={name:b};if(e){if(e=CKEDITOR.tools.search(k,function(a){return a.name==e})){!e.groups&&(e.groups=[]);if(c&&(c=CKEDITOR.tools.indexOf(e.groups,c),0<=c)){e.groups.splice(c+1,0,b);return}d?e.groups.splice(0,0,b):e.groups.push(b);
return}c=null}c&&(c=CKEDITOR.tools.indexOf(k,function(a){return a.name==c}));d?k.splice(0,0,b):"number"==typeof c?k.splice(c+1,0,f):k.push(b)}})();CKEDITOR.UI_SEPARATOR="separator";CKEDITOR.config.toolbarLocation="top";"use strict";(function(){function c(a,b,d){b.type||(b.type="auto");if(d&&!1===a.fire("beforePaste",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue="");if(CKEDITOR.env.gecko&&"drop"==b.method&&a.toolbox)a.once("afterPaste",function(){a.toolbox.focus()});
return a.fire("paste",b)}function g(a){function b(){var d=a.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var c=function(b){a.getSelection().isCollapsed()||(a.readOnly&&"cut"==b.name||C.initPasteDataTransfer(b,a),b.data.preventDefault())};d.on("copy",c);d.on("cut",c);d.on("cut",function(){a.readOnly||a.extractSelectedHtml()},null,null,999)}d.on(C.mainPasteEvent,function(a){"beforepaste"==C.mainPasteEvent&&H||v(a)});"beforepaste"==C.mainPasteEvent&&(d.on("paste",function(a){G||
(e(),a.data.preventDefault(),v(a),g("paste"))}),d.on("contextmenu",h,null,null,0),d.on("beforepaste",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));d.on("beforecut",function(){!H&&k(a)});var f;d.attachListener(CKEDITOR.env.ie?d:a.document.getDocumentElement(),"mouseup",function(){f=setTimeout(F,0)});a.on("destroy",function(){clearTimeout(f)});d.on("keyup",F)}function d(b){return{type:b,canUndo:"cut"==b,startDisabled:!0,fakeKeystroke:"cut"==b?CKEDITOR.CTRL+88:CKEDITOR.CTRL+
67,exec:function(){"cut"==this.type&&k();var b;var d=this.type;if(CKEDITOR.env.ie)b=g(d);else try{b=a.document.$.execCommand(d,!1,null)}catch(c){b=!1}b||a.showNotification(a.lang.clipboard[this.type+"Error"]);return b}}}function f(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(a,b){function d(b,h){h="undefined"!==typeof h?h:!0;b?(b.method="paste",b.dataTransfer||(b.dataTransfer=C.initPasteDataTransfer()),c(a,b,h)):e&&!a._.forcePasteDialog&&a.showNotification(n,"info",a.config.clipboard_notificationDuration);
a._.forcePasteDialog=!1;a.fire("afterCommandExec",{name:"paste",command:f,returnValue:!!b})}b="undefined"!==typeof b&&null!==b?b:{};var f=this,e="undefined"!==typeof b.notification?b.notification:!0,h=b.type,g=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,a.getCommandKeystroke(this)),n="string"===typeof e?e:a.lang.clipboard.pasteNotification.replace(/%1/,'\x3ckbd aria-label\x3d"'+g.aria+'"\x3e'+g.display+"\x3c/kbd\x3e"),g="string"===typeof b?b:b.dataValue;h&&!0!==a.config.forcePasteAsPlainText&&
"allow-word"!==a.config.forcePasteAsPlainText?a._.nextPasteType=h:delete a._.nextPasteType;"string"===typeof g?d({dataValue:g}):a.getClipboardData(d)}}}function e(){G=1;setTimeout(function(){G=0},100)}function h(){H=1;setTimeout(function(){H=0},10)}function g(b){var d=a.document,c=d.getBody(),f=!1,e=function(){f=!0};c.on(b,e);7<CKEDITOR.env.version?d.$.execCommand(b):d.$.selection.createRange().execCommand(b);c.removeListener(b,e);return f}function k(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var b=
a.getSelection(),d,c,f;b.getType()==CKEDITOR.SELECTION_ELEMENT&&(d=b.getSelectedElement())&&(c=b.getRanges()[0],f=a.document.createText(""),f.insertBefore(d),c.setStartBefore(f),c.setEndAfter(d),b.selectRanges([c]),setTimeout(function(){d.getParent()&&(f.remove(),b.selectElement(d))},0))}}function l(b,d){var c=a.document,f=a.editable(),e=function(a){a.cancel()},h;if(!c.getById("cke_pastebin")){var g=a.getSelection(),n=g.createBookmarks();CKEDITOR.env.ie&&g.root.fire("selectionchange");var k=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&
!f.is("body")||CKEDITOR.env.ie?"div":"body",c);k.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var m=0,c=c.getWindow();CKEDITOR.env.webkit?(f.append(k),k.addClass("cke_editable"),f.is("body")||(m="static"!=f.getComputedStyle("position")?f:CKEDITOR.dom.element.get(f.$.offsetParent),m=m.getDocumentPosition().y)):f.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(k);k.setStyles({position:"absolute",top:c.getScrollPosition().y-m+10+"px",width:"1px",height:Math.max(1,c.getViewPaneSize().height-
20)+"px",overflow:"hidden",margin:0,padding:0});CKEDITOR.env.safari&&k.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text"));(m=k.getParent().isReadOnly())?(k.setOpacity(0),k.setAttribute("contenteditable",!0)):k.setStyle("ltr"==a.config.contentsLangDirection?"left":"right","-10000px");a.on("selectionChange",e,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)h=f.once("blur",e,null,null,-100);m&&k.focus();m=new CKEDITOR.dom.range(k);m.selectNodeContents(k);var r=m.select();CKEDITOR.env.ie&&
(h=f.once("blur",function(){a.lockSelection(r)}));var u=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=u);h&&h.removeListener();CKEDITOR.env.ie&&f.focus();g.selectBookmarks(n);k.remove();var b;CKEDITOR.env.webkit&&(b=k.getFirst())&&b.is&&b.hasClass("Apple-style-span")&&(k=b);a.removeListener("selectionChange",e);d(k.getHtml())},0)}}function m(){if("paste"==C.mainPasteEvent)return a.fire("beforePaste",{type:"auto",
method:"paste"}),!1;a.focus();e();var b=a.focusManager;b.lock();if(a.editable().fire(C.mainPasteEvent)&&!g("paste"))return b.unlock(),!1;b.unlock();return!0}function w(b){if("wysiwyg"==a.mode)switch(b.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:b=a.editable();e();"paste"==C.mainPasteEvent&&b.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:a.fire("saveSnapshot"),setTimeout(function(){a.fire("saveSnapshot")},50)}}function v(b){var d={type:"auto",method:"paste",
dataTransfer:C.initPasteDataTransfer(b)};d.dataTransfer.cacheData();var f=!1!==a.fire("beforePaste",d);f&&C.canClipboardApiBeTrusted(d.dataTransfer,a)?(b.data.preventDefault(),setTimeout(function(){c(a,d)},0)):l(b,function(b){d.dataValue=b.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,"");f&&c(a,d)})}function F(){if("wysiwyg"==a.mode){var b=y("paste");a.getCommand("cut").setState(y("cut"));a.getCommand("copy").setState(y("copy"));a.getCommand("paste").setState(b);a.fire("pasteState",b)}}function y(b){var d=
a.getSelection(),d=d&&d.getRanges()[0];if((a.readOnly||d&&d.checkReadOnly())&&b in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==b)return CKEDITOR.TRISTATE_OFF;b=a.getSelection();d=b.getRanges();return b.getType()==CKEDITOR.SELECTION_NONE||1==d.length&&d[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var C=CKEDITOR.plugins.clipboard,H=0,G=0;(function(){a.on("key",w);a.on("contentDom",b);a.on("selectionChange",F);if(a.contextMenu){a.contextMenu.addListener(function(){return{cut:y("cut"),
copy:y("copy"),paste:y("paste")}});var d=null;a.on("menuShow",function(){d&&(d.removeListener(),d=null);var b=a.contextMenu.findItemByCommandName("paste");b&&b.element&&(d=b.element.on("touchend",function(){a._.forcePasteDialog=!0}))})}if(a.ui.addButton)a.once("instanceReady",function(){a._.pasteButtons&&CKEDITOR.tools.array.forEach(a._.pasteButtons,function(b){if(b=a.ui.get(b))if(b=CKEDITOR.document.getById(b._.id))b.on("touchend",function(){a._.forcePasteDialog=!0})})})})();(function(){function b(d,
c,f,e,h){var g=a.lang.clipboard[c];a.addCommand(c,f);a.ui.addButton&&a.ui.addButton(d,{label:g,command:c,toolbar:"clipboard,"+e});a.addMenuItems&&a.addMenuItem(c,{label:g,command:c,group:"clipboard",order:h})}b("Cut","cut",d("cut"),10,1);b("Copy","copy",d("copy"),20,4);b("Paste","paste",f(),30,8);a._.pasteButtons||(a._.pasteButtons=[]);a._.pasteButtons.push("Paste")})();a.getClipboardData=function(b,d){function c(a){a.removeListener();a.cancel();d(a.data)}function f(a){a.removeListener();a.cancel();
d({type:h,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:"paste"})}var e=!1,h="auto";d||(d=b,b=null);a.on("beforePaste",function(a){a.removeListener();e=!0;h=a.data.type},null,null,1E3);a.on("paste",c,null,null,0);!1===m()&&(a.removeListener("paste",c),a._.forcePasteDialog&&e&&a.fire("pasteDialog")?(a.on("pasteDialogCommit",f),a.on("dialogHide",function(a){a.removeListener();a.data.removeListener("pasteDialogCommit",f);a.data._.committed||d(null)})):d(null))}}function e(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&
!a.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!a.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}else return"html";return"htmlifiedtext"}function b(a,b){function d(a){return CKEDITOR.tools.repeat("\x3c/p\x3e\x3cp\x3e",~~(a/2))+(1==a%2?"\x3cbr\x3e":"")}b=b.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"\x3e\x3c").replace(/<br ?\/>/gi,
"\x3cbr\x3e");b=b.replace(/<\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&-1<b.indexOf("\x3cdiv\x3e")&&(b=b.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"\x3cbr\x3e").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"\x3cdiv\x3e\x3c/div\x3e"),b.match(/<div>(<br>|)<\/div>/)&&(b="\x3cp\x3e"+b.replace(/(<div>(<br>|)<\/div>)+/g,function(a){return d(a.split("\x3c/div\x3e\x3cdiv\x3e").length+1)})+"\x3c/p\x3e"),b=b.replace(/<\/div><div>/g,"\x3cbr\x3e"),
b=b.replace(/<\/?div>/g,""));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,"\x3cbr\x3e")),-1<b.indexOf("\x3cbr\x3e\x3cbr\x3e")&&(b="\x3cp\x3e"+b.replace(/(<br>){2,}/g,function(a){return d(a.length/4)})+"\x3c/p\x3e"));return l(a,b)}function h(a){function b(){var a={},d;for(d in CKEDITOR.dtd)"$"!=d.charAt(0)&&"div"!=d&&"span"!=d&&(a[d]=1);return a}var d={};return{get:function(c){return"plain-text"==c?d.plainText||(d.plainText=new CKEDITOR.filter(a,
"br")):"semantic-content"==c?((c=d.semanticContent)||(c=new CKEDITOR.filter(a,{}),c.allow({$1:{elements:b(),attributes:!0,styles:!1,classes:!1}}),c=d.semanticContent=c),c):c?new CKEDITOR.filter(a,c):null}}}function m(a,b,d){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var c=new CKEDITOR.htmlParser.basicWriter;d.applyTo(b,!0,!1,a.activeEnterMode);b.writeHtml(c);return c.getHtml()}function l(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat("\x3cbr\x3e",
a.length/7*2)}).replace(/<\/?p>/g,""):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\/)?p>/g,"\x3c$1div\x3e"));return b}function k(a){a.data.preventDefault();a.data.$.dataTransfer.dropEffect="none"}function d(a){var b=CKEDITOR.plugins.clipboard;a.on("contentDom",function(){function d(b,f,e){f.select();c(a,{dataTransfer:e,method:"drop"},1);e.sourceEditor.fire("saveSnapshot");e.sourceEditor.editable().extractHtmlFromRange(b);e.sourceEditor.getSelection().selectRanges([b]);e.sourceEditor.fire("saveSnapshot")}
function f(d,e){d.select();c(a,{dataTransfer:e,method:"drop"},1);b.resetDragDataTransfer()}function e(b,d,c){var f={$:b.data.$,target:b.data.getTarget()};d&&(f.dragRange=d);c&&(f.dropRange=c);!1===a.fire(b.name,f)&&b.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}var g=a.editable(),k=CKEDITOR.plugins.clipboard.getDropTarget(a),l=a.ui.space("top"),m=a.ui.space("bottom");b.preventDefaultDropOnElement(l);b.preventDefaultDropOnElement(m);
g.attachListener(k,"dragstart",e);g.attachListener(a,"dragstart",b.resetDragDataTransfer,b,null,1);g.attachListener(a,"dragstart",function(d){b.initDragDataTransfer(d,a)},null,null,2);g.attachListener(a,"dragstart",function(){var d=b.dragRange=a.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(b.dragStartContainerChildCount=d?h(d.startContainer):null,b.dragEndContainerChildCount=d?h(d.endContainer):null)},null,null,100);g.attachListener(k,"dragend",e);g.attachListener(a,"dragend",
b.initDragDataTransfer,b,null,1);g.attachListener(a,"dragend",b.resetDragDataTransfer,b,null,100);g.attachListener(k,"dragover",function(a){if(CKEDITOR.env.edge)a.data.preventDefault();else{var b=a.data.getTarget();b&&b.is&&b.is("html")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains("Files")&&a.data.preventDefault()}});g.attachListener(k,"drop",function(d){if(!d.data.$.defaultPrevented&&(d.data.preventDefault(),!a.readOnly)){var c=
d.data.getTarget();if(!c.isReadOnly()||c.type==CKEDITOR.NODE_ELEMENT&&c.is("html")){var c=b.getRangeAtDropPosition(d,a),f=b.dragRange;c&&e(d,f,c)}}},null,null,9999);g.attachListener(a,"drop",b.initDragDataTransfer,b,null,1);g.attachListener(a,"drop",function(c){if(c=c.data){var e=c.dropRange,h=c.dragRange,g=c.dataTransfer;g.getTransferType(a)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){b.internalDrop(h,e,g,a)},0):g.getTransferType(a)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?d(h,e,g):f(e,g)}},
null,null,9999)})}var f;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(a){function c(a){if(!a||q===a.id)return!1;var b=a.getTypes(),b=1===b.length&&"Files"===b[0];a=1===a.getFilesCount();return b&&a}var f,k=h(a);a.config.forcePasteAsPlainText?f="plain-text":a.config.pasteFilter?f=a.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in a.config||(f="semantic-content");a.pasteFilter=k.get(f);g(a);d(a);CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));
if(CKEDITOR.env.gecko){var l=["image/png","image/jpeg","image/gif"],q;a.on("paste",function(b){var d=b.data,f=d.dataTransfer;if(!d.dataValue&&"paste"==d.method&&c(f)&&(f=f.getFile(0),-1!=CKEDITOR.tools.indexOf(l,f.type))){var e=new FileReader;e.addEventListener("load",function(){b.data.dataValue='\x3cimg src\x3d"'+e.result+'" /\x3e';a.fire("paste",b.data)},!1);e.addEventListener("abort",function(){a.fire("paste",b.data)},!1);e.addEventListener("error",function(){a.fire("paste",b.data)},!1);e.readAsDataURL(f);
q=d.dataTransfer.id;b.stop()}},null,null,1)}a.on("paste",function(b){b.data.dataTransfer||(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var d=b.data.dataTransfer,c=d.getData("text/html");if(c)b.data.dataValue=c,b.data.type="html";else if(c=d.getData("text/plain"))b.data.dataValue=a.editable().transformPlainTextToHtml(c),b.data.type="text"}},null,null,1);a.on("paste",function(a){var b=a.data.dataValue,d=CKEDITOR.dtd.$block;-1<b.indexOf("Apple-")&&(b=b.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi,
" "),"html"!=a.data.type&&(b=b.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(a,b){return b.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;")})),-1<b.indexOf('\x3cbr class\x3d"Apple-interchange-newline"\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing="html",b=b.replace(/<br class="Apple-interchange-newline">/,"")),b=b.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var c,f,e=new CKEDITOR.dom.element("div");for(e.setHtml(b);1==e.getChildCount()&&
(c=e.getFirst())&&c.type==CKEDITOR.NODE_ELEMENT&&(c.hasClass("cke_editable")||c.hasClass("cke_contents"));)e=f=c;f&&(b=f.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(b,c){return c.toLowerCase()in d?(a.data.preSniffing="html","\x3c"+c):b}):CKEDITOR.env.webkit?b=b.replace(/<\/(\w+)><div><br><\/div>$/,function(b,c){return c in d?(a.data.endsWithEOL=1,"\x3c/"+c+"\x3e"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\s)<br>$/,"$1"));a.data.dataValue=b},null,
null,3);a.on("paste",function(d){d=d.data;var c=a._.nextPasteType||d.type,f=d.dataValue,h,g=a.config.clipboard_defaultContentType||"html",l=d.dataTransfer.getTransferType(a)==CKEDITOR.DATA_TRANSFER_EXTERNAL,n=!0===a.config.forcePasteAsPlainText;h="html"==c||"html"==d.preSniffing?"html":e(f);delete a._.nextPasteType;"htmlifiedtext"==h&&(f=b(a.config,f));if("text"==c&&"html"==h)f=m(a,f,k.get("plain-text"));else if(l&&a.pasteFilter&&!d.dontFilter||n)f=m(a,f,a.pasteFilter);d.startsWithEOL&&(f='\x3cbr data-cke-eol\x3d"1"\x3e'+
f);d.endsWithEOL&&(f+='\x3cbr data-cke-eol\x3d"1"\x3e');"auto"==c&&(c="html"==h||"html"==g?"html":"text");d.type=c;d.dataValue=f;delete d.preSniffing;delete d.startsWithEOL;delete d.endsWithEOL},null,null,6);a.on("paste",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire("afterPaste")},0))},null,null,1E3);a.on("pasteDialog",function(b){setTimeout(function(){a.openDialog("paste",b.data)},0)})}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:CKEDITOR.env.ie&&
16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version?!1:!0,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(a,b,d){a.ui.addButton&&(a.ui.addButton(b,d),a._.pasteButtons||(a._.pasteButtons=[]),a._.pasteButtons.push(b))},canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||
CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData("text/html")||a.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.iOS&&605<=CKEDITOR.env.version||CKEDITOR.env.edge&&16<=CKEDITOR.env.version?!0:!1},getDropTarget:function(a){var b=a.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,b,d,c){function f(a,d,c){var e=a;e.type==CKEDITOR.NODE_TEXT&&(e=a.getParent());if(e.equals(d)&&
c!=d.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),d=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&d&&d.type==CKEDITOR.NODE_TEXT&&(c=a.getLength(),a.setText(a.getText()+d.getText()),d.remove(),b.setStart(a,c),b.collapse(!0)),!0}var e=b.startContainer;"number"==typeof c&&"number"==typeof d&&e.type==CKEDITOR.NODE_ELEMENT&&(f(a.startContainer,e,d)||f(a.endContainer,e,c))},isDropRangeAffectedByDragRange:function(a,b){var d=b.startContainer,c=b.endOffset;
return a.endContainer.equals(d)&&a.endOffset<=c||a.startContainer.getParent().equals(d)&&a.startContainer.getIndex()<c||a.endContainer.getParent().equals(d)&&a.endContainer.getIndex()<c?!0:!1},internalDrop:function(a,b,d,f){var e=CKEDITOR.plugins.clipboard,h=f.editable(),g,k;f.fire("saveSnapshot");f.fire("lockSnapshot",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(a,b,e.dragStartContainerChildCount,e.dragEndContainerChildCount);(k=this.isDropRangeAffectedByDragRange(a,
b))||(g=a.createBookmark(!1));e=b.clone().createBookmark(!1);k&&(g=a.createBookmark(!1));a=g.startNode;b=g.endNode;k=e.startNode;b&&a.getPosition(k)&CKEDITOR.POSITION_PRECEDING&&b.getPosition(k)&CKEDITOR.POSITION_FOLLOWING&&k.insertBefore(a);a=f.createRange();a.moveToBookmark(g);h.extractHtmlFromRange(a,1);b=f.createRange();e.startNode.getCommonAncestor(h)||(e=f.getSelection().createBookmarks()[0]);b.moveToBookmark(e);c(f,{dataTransfer:d,method:"drop",range:b},1);f.fire("unlockSnapshot")},getRangeAtDropPosition:function(a,
b){var d=a.data.$,c=d.clientX,f=d.clientY,e=b.getSelection(!0).getRanges()[0],h=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint&&b.document.$.caretRangeFromPoint(c,f))d=b.document.$.caretRangeFromPoint(c,f),h.setStart(CKEDITOR.dom.node(d.startContainer),d.startOffset),h.collapse(!0);else if(d.rangeParent)h.setStart(CKEDITOR.dom.node(d.rangeParent),d.rangeOffset),h.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&e&&b.editable().hasFocus)return e;
if(document.body.createTextRange){b.focus();d=b.document.getBody().$.createTextRange();try{for(var g=!1,k=0;20>k&&!g;k++){if(!g)try{d.moveToPoint(c,f-k),g=!0}catch(l){}if(!g)try{d.moveToPoint(c,f+k),g=!0}catch(m){}}if(g){var v="cke-temp-"+(new Date).getTime();d.pasteHTML('\x3cspan id\x3d"'+v+'"\x3e​\x3c/span\x3e');var F=b.document.getById(v);h.moveToPosition(F,CKEDITOR.POSITION_BEFORE_START);F.remove()}else{var y=b.document.$.elementFromPoint(c,f),C=new CKEDITOR.dom.element(y),H;if(C.equals(b.editable())||
"html"==C.getName())return e&&e.startContainer&&!e.startContainer.equals(b.editable())?e:null;H=C.getClientRect();c<H.left?h.setStartAt(C,CKEDITOR.POSITION_AFTER_START):h.setStartAt(C,CKEDITOR.POSITION_BEFORE_END);h.collapse(!0)}}catch(G){return null}}else return null}return h},initDragDataTransfer:function(a,b){var d=a.data.$?a.data.$.dataTransfer:null,c=new this.dataTransfer(d,b);"dragstart"===a.name&&c.storeId();d?this.dragData&&c.id==this.dragData.id?c=this.dragData:this.dragData=c:this.dragData?
c=this.dragData:this.dragData=c;a.data.dataTransfer=c},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var d=a.data.$.clipboardData,c=new this.dataTransfer(d,b);"copy"!==a.name&&"cut"!==a.name||c.storeId();this.copyCutData&&c.id==this.copyCutData.id?(c=this.copyCutData,c.$=d):this.copyCutData=c;return c}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&a&&a.data.$&&
a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&a.on("dragover",k)}};f=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\s*\x3c!--StartFragment--\x3e|\x3c!--EndFragment--\x3e\s*/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(a){a=a.toLowerCase();return"text"==a||"text/plain"==
a?"Text":"url"==a?"URL":a}};this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this);this.id=this.getData(f);this.id||(this.id="Text"==f?"":"cke-"+CKEDITOR.tools.getUniqueId());b&&(this.sourceEditor=b,this.setData("text/html",b.getSelectedHtml(1)),"Text"==f||this.getData("text/plain")||this.setData("text/plain",b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype=
{getData:function(a,b){a=this._.normalizeType(a);var d="text/html"==a&&b?this._.nativeHtmlCache:this._.data[a];if(void 0===d||null===d||""===d){if(this._.fallbackDataTransfer.isRequired())d=this._.fallbackDataTransfer.getData(a,b);else try{d=this.$.getData(a)||""}catch(c){d=""}"text/html"!=a||b||(d=this._stripHtml(d))}"Text"==a&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==d.substring(0,7)&&(d="");if("string"===typeof d)var f=d.indexOf("\x3c/html\x3e"),d=-1!==f?d.substring(0,f+7):d;return d},
setData:function(a,b){a=this._.normalizeType(a);"text/html"==a?(this._.data[a]=this._stripHtml(b),this._.nativeHtmlCache=b):this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==a||"Text"==a)if("Text"==f&&"Text"==a&&(this.id=b),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(a,b);else try{this.$.setData(a,b)}catch(d){}},storeId:function(){"Text"!==f&&this.setData(f,this.id)},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==
a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(a){a=b._.normalizeType(a);var d=b.getData(a);"text/html"==a&&(b._.nativeHtmlCache=b.getData(a,!0),d=b._stripHtml(d));d&&(b._.data[a]=d)}if(this.$){var b=this,d,c;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(d=0;d<this.$.types.length;d++)a(this.$.types[d])}else a("Text"),a("URL");c=this._getImageFromClipboard();if(this.$&&this.$.files||
c){this._.files=[];if(this.$.files&&this.$.files.length)for(d=0;d<this.$.files.length;d++)this._.files.push(this.$.files[d]);0===this._.files.length&&c&&this._.files.push(c)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?this._.files[a]:this.$&&this.$.files&&this.$.files.length?this.$.files[a]:0===a?this._getImageFromClipboard():
void 0},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(this._.data),function(b){a[b]=1});if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var d=0;d<this.$.types.length;d++)a[this.$.types[d]]=1}else a.Text=1,a.URL=1;"Text"!=f&&(a[f]=0);for(b in a)if(a[b]&&""!==this.getData(b))return!1;return!0},getTypes:function(){return this.$&&this.$.types?[].slice.call(this.$.types):[]},_getImageFromClipboard:function(){var a;
try{if(this.$&&this.$.items&&this.$.items[0]&&(a=this.$.items[0].getAsFile())&&a.type)return a}catch(b){}},_stripHtml:function(a){if(a&&a.length){a=a.replace(this._.metaRegExp,"");var b=this._.bodyRegExp.exec(a);b&&b.length&&(a=b[1],a=a.replace(this._.fragmentRegExp,""))}return a}};CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(a){this._dataTransfer=a;this._customDataFallbackType="text/html"};CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null;CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=
[];CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer,b=this._dataTransfer.$;if(null===a._isCustomMimeTypeSupported)if(b){a._isCustomMimeTypeSupported=!1;if(CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{b.setData("cke/mimetypetest","cke test value"),a._isCustomMimeTypeSupported="cke test value"===b.getData("cke/mimetypetest"),b.clearData("cke/mimetypetest")}catch(d){}}else return!1;return!a._isCustomMimeTypeSupported},
getData:function(a,b){var d=this._getData(this._customDataFallbackType,!0);if(b)return d;var d=this._extractDataComment(d),c=null,c=a===this._customDataFallbackType?d.content:d.data&&d.data[a]?d.data[a]:this._getData(a,!0);return null!==c?c:""},setData:function(a,b){var d=a===this._customDataFallbackType;d&&(b=this._applyDataComment(b,this._getFallbackTypeData()));var c=b,f=this._dataTransfer.$;try{f.setData(a,c),d&&(this._dataTransfer._.nativeHtmlCache=c)}catch(e){if(this._isUnsupportedMimeTypeError(e)){d=
CKEDITOR.plugins.clipboard.fallbackDataTransfer;-1===CKEDITOR.tools.indexOf(d._customTypes,a)&&d._customTypes.push(a);var d=this._getFallbackTypeContent(),h=this._getFallbackTypeData();h[a]=c;try{c=this._applyDataComment(d,h),f.setData(this._customDataFallbackType,c),this._dataTransfer._.nativeHtmlCache=c}catch(g){c=""}}}return c},_getData:function(a,b){var d=this._dataTransfer._.data;if(!b&&d[a])return d[a];try{return this._dataTransfer.$.getData(a)}catch(c){return null}},_getFallbackTypeContent:function(){var a=
this._dataTransfer._.data[this._customDataFallbackType];a||(a=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content);return a},_getFallbackTypeData:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,b=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},d=this._dataTransfer._.data;CKEDITOR.tools.array.forEach(a,function(a){void 0!==d[a]?b[a]=d[a]:void 0!==b[a]&&(b[a]=b[a])},this);return b},_isUnsupportedMimeTypeError:function(a){return a.message&&
-1!==a.message.search(/element not found/gi)},_extractDataComment:function(a){var b={data:null,content:a||""};if(a&&16<a.length){var d;(d=/\x3c!--cke-data:(.*?)--\x3e/g.exec(a))&&d[1]&&(b.data=JSON.parse(decodeURIComponent(d[1])),b.content=a.replace(d[0],""))}return b},_applyDataComment:function(a,b){var d="";b&&CKEDITOR.tools.object.keys(b).length&&(d="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(b))+"--\x3e");return d+(a&&a.length?a:"")}}})();CKEDITOR.config.clipboard_notificationDuration=
1E4;CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function c(c){var e=this._;e.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(c),e.on?e.panel.hide():e.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(g){var e=g.panel||{};delete g.panel;this.base(g);this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document;e.block={attributes:e.attributes};e.toolbarRelated=!0;
this.hasArrow="listbox";this.click=c;this._={panelDefinition:e}},statics:{handler:{create:function(c){return new CKEDITOR.ui.panelButton(c)}}},proto:{createPanel:function(c){var e=this._;if(!e.panel){var b=this._.panelDefinition,h=this._.panelDefinition.block,m=b.parent||CKEDITOR.document.getBody(),l=this._.panel=new CKEDITOR.ui.floatPanel(c,m,b),b=l.addBlock(e.id,h),k=this,d=c.getCommand(this.command);l.onShow=function(){k.className&&this.element.addClass(k.className+"_panel");k.setState(CKEDITOR.TRISTATE_ON);
e.on=1;k.editorFocus&&c.focus();if(k.onOpen)k.onOpen()};l.onHide=function(b){k.className&&this.element.getFirst().removeClass(k.className+"_panel");!k.modes&&d?k.setStateFromCommand(d):k.setState(k.modes&&k.modes[c.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);e.on=0;if(!b&&k.onClose)k.onClose()};l.onEscape=function(){l.hide(1);k.document.getById(e.id).focus()};if(this.onBlock)this.onBlock(l,b);b.onHide=function(){e.on=0;!k.modes&&k.command?k.setStateFromCommand(d):k.setState(CKEDITOR.TRISTATE_OFF)}}},
setStateFromCommand:function(c){this.setState(c.state)}}})},beforeInit:function(c){c.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}});CKEDITOR.UI_PANELBUTTON="panelbutton";(function(){CKEDITOR.plugins.add("panel",{beforeInit:function(b){b.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL="panel";CKEDITOR.ui.panel=function(b,c){c&&CKEDITOR.tools.extend(this,c);CKEDITOR.tools.extend(this,{className:"",css:[]});this.id=CKEDITOR.tools.getNextId();
this.document=b;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(b){return new CKEDITOR.ui.panel(b)}};var c=CKEDITOR.addTemplate("panel",'\x3cdiv lang\x3d"{langCode}" id\x3d"{id}" dir\x3d{dir} class\x3d"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style\x3d"z-index:{z-index}" role\x3d"presentation"\x3e{frame}\x3c/div\x3e'),g=CKEDITOR.addTemplate("panel-frame",'\x3ciframe id\x3d"{id}" class\x3d"cke_panel_frame" role\x3d"presentation" frameborder\x3d"0" src\x3d"{src}"\x3e\x3c/iframe\x3e'),
e=CKEDITOR.addTemplate("panel-frame-inner",'\x3c!DOCTYPE html\x3e\x3chtml class\x3d"cke_panel_container {env}" dir\x3d"{dir}" lang\x3d"{langCode}"\x3e\x3chead\x3e{css}\x3c/head\x3e\x3cbody class\x3d"cke_{dir}" style\x3d"margin:0;padding:0" onload\x3d"{onload}"\x3e\x3c/body\x3e\x3c/html\x3e');CKEDITOR.ui.panel.prototype={render:function(b,h){var m={editorId:b.id,id:this.id,langCode:b.langCode,dir:b.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":b.config.baseFloatZIndex+1};
this.getHolderElement=function(){var b=this._.holder;if(!b){if(this.isFramed){var b=this.document.getById(this.id+"_frame"),d=b.getParent(),b=b.getFrameDocument();CKEDITOR.env.iOS&&d.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});d=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));b.write(e.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+
d+");"},m)));b.getWindow().$.CKEDITOR=CKEDITOR;b.on("keydown",function(b){var a=b.data.getKeystroke(),d=this.document.getById(this.id).getAttribute("dir");if("input"!==b.data.getTarget().getName()||37!==a&&39!==a)this._.onKeyDown&&!1===this._.onKeyDown(a)?"input"===b.data.getTarget().getName()&&32===a||b.data.preventDefault():(27==a||a==("rtl"==d?39:37))&&this.onEscape&&!1===this.onEscape(a)&&b.data.preventDefault()},this);b=b.getBody();b.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(d)}else b=
this.document.getById(this.id);this._.holder=b}return b};if(this.isFramed){var l=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";m.frame=g.output({id:this.id+"_frame",src:l})}l=c.output(m);h&&h.push(l);return l},addBlock:function(b,c){c=this._.blocks[b]=c instanceof CKEDITOR.ui.panel.block?c:new CKEDITOR.ui.panel.block(this.getHolderElement(),c);
this._.currentBlock||this.showBlock(b);return c},getBlock:function(b){return this._.blocks[b]},showBlock:function(b){b=this._.blocks[b];var c=this._.currentBlock,e=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");c&&c.hide();this._.currentBlock=b;CKEDITOR.fire("ariaWidget",e);b._.focusIndex=-1;this._.onKeyDown=b.onKeyDown&&CKEDITOR.tools.bind(b.onKeyDown,b);b.show();return b},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(b,
c){this.element=b.append(b.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}}));c&&CKEDITOR.tools.extend(this,c);this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(b){-1!=b&&(b=this._.getItems().getItem(this._.focusIndex=b),CKEDITOR.env.webkit&&
b.getDocument().getWindow().focus(),b.focus(),this.onMark&&this.onMark(b))},markFirstDisplayed:function(b){for(var c=function(b){return b.type==CKEDITOR.NODE_ELEMENT&&"none"==b.getStyle("display")},e=this._.getItems(),g,k,d=e.count()-1;0<=d;d--)if(g=e.getItem(d),g.getAscendant(c)||(k=g,this._.focusIndex=d),"true"==g.getAttribute("aria-selected")){k=g;this._.focusIndex=d;break}k&&(b&&b(),CKEDITOR.env.webkit&&k.getDocument().getWindow().focus(),k.focus(),this.onMark&&this.onMark(k))},getItems:function(){return this.element.find("a,input")}},
proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(b,c){var e=this.keys[b];switch(e){case "next":for(var g=this._.focusIndex,e=this._.getItems(),k;k=e.getItem(++g);)if(k.getAttribute("_cke_focus")&&k.$.offsetWidth){this._.focusIndex=g;k.focus(!0);break}return k||c?!1:(this._.focusIndex=-1,this.onKeyDown(b,1));case "prev":g=this._.focusIndex;for(e=this._.getItems();0<g&&(k=
e.getItem(--g));){if(k.getAttribute("_cke_focus")&&k.$.offsetWidth){this._.focusIndex=g;k.focus(!0);break}k=null}return k||c?!1:(this._.focusIndex=e.count(),this.onKeyDown(b,1));case "click":case "mouseup":return g=this._.focusIndex,(k=0<=g&&this._.getItems().getItem(g))&&k.fireEventHandler(e,{button:CKEDITOR.tools.normalizeMouseButton(CKEDITOR.MOUSE_BUTTON_LEFT,!0)}),!1}return!0}}})})();CKEDITOR.plugins.add("floatpanel",{requires:"panel"});(function(){function c(c,b,h,m,l){l=CKEDITOR.tools.genKey(b.getUniqueId(),
h.getUniqueId(),c.lang.dir,c.uiColor||"",m.css||"",l||"");var k=g[l];k||(k=g[l]=new CKEDITOR.ui.panel(b,m),k.element=h.append(CKEDITOR.dom.element.createFromHtml(k.render(c),b)),k.element.setStyles({display:"none",position:"absolute"}));return k}var g={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(e,b,h,g){function l(){a.hide()}h.forceIFrame=1;h.toolbarRelated&&e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(b=CKEDITOR.document.getById("cke_"+e.name));var k=b.getDocument();g=c(e,k,
b,h,g||0);var d=g.element,f=d.getFirst(),a=this;d.disableContextMenu();this.element=d;this._={editor:e,panel:g,parentElement:b,definition:h,document:k,iframe:f,children:[],dir:e.lang.dir,showBlockParams:null,markFirst:void 0!==h.markFirst?h.markFirst:!0};e.on("mode",l);e.on("resize",l);k.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(c,b){return this._.panel.addBlock(c,b)},addListBlock:function(c,b){return this._.panel.addListBlock(c,b)},getBlock:function(c){return this._.panel.getBlock(c)},
showBlock:function(c,b,h,g,l,k){var d=this._.panel,f=d.showBlock(c);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var a=this._.editor.editable();this._.returnFocus=a.hasFocus?a:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var n=this.element,a=this._.iframe,a=CKEDITOR.env.ie&&!CKEDITOR.env.edge?a:new CKEDITOR.dom.window(a.$.contentWindow),r=n.getDocument(),x=this._.parentElement.getPositionedAncestor(),p=b.getDocumentPosition(r),r=x?x.getDocumentPosition(r):
{x:0,y:0},q="rtl"==this._.dir,u=p.x+(g||0)-r.x,z=p.y+(l||0)-r.y;!q||1!=h&&4!=h?q||2!=h&&3!=h||(u+=b.$.offsetWidth-1):u+=b.$.offsetWidth;if(3==h||4==h)z+=b.$.offsetHeight-1;this._.panel._.offsetParentId=b.getId();n.setStyles({top:z+"px",left:0,display:""});n.setOpacity(0);n.getFirst().removeStyle("width");this._.editor.focusManager.add(a);this._.blurSet||(CKEDITOR.event.useCapture=!0,a.on("blur",function(a){function b(){delete this._.returnFocus;this.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&
this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(b,0,this)):b.call(this))},this),a.on("focus",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(a.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),a.on("touchend",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);d.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&
!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=n;a.removeStyle("width");if(f.autoSize){var b=f.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?f.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle("width",b+10+"px");b=f.element.$.scrollHeight;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||
0)+3);a.setStyle("height",b+"px");d._.currentBlock.element.setStyle("display","none").removeStyle("display")}else a.removeStyle("height");q&&(u-=n.$.offsetWidth);n.setStyle("left",u+"px");var b=d.element.getWindow(),a=n.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,e=a.height||a.bottom-a.top,h=q?a.right:b.width-a.left,g=q?b.width-a.right:a.left;q?h<c&&(u=g>c?u+c:b.width>c?u-a.left:u-a.right+b.width):h<c&&(u=g>c?u-c:b.width>c?u-a.right+b.width:u-a.left);c=a.top;b.height-
a.top<e&&(z=c>e?z-e:b.height>e?z-a.bottom+b.height:z-a.top);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&((b=a=n.$.offsetParent&&new CKEDITOR.dom.element(n.$.offsetParent))&&"html"==b.getName()&&(b=b.getDocument().getBody()),b&&"rtl"==b.getComputedStyle("direction")&&(u=CKEDITOR.env.ie8Compat?u-2*n.getDocument().getDocumentElement().$.scrollLeft:u-(a.$.scrollWidth-a.$.clientWidth)));var a=n.getFirst(),l;(l=a.getCustomData("activePanel"))&&l.onHide&&l.onHide.call(this,1);a.setCustomData("activePanel",this);
n.setStyles({top:z+"px",left:u+"px"});n.setOpacity(1);k&&k()},this);d.isLoaded?a():d.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();f.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){f.markFirstDisplayed?f.markFirstDisplayed():f._.markFirstDisplayed()},0):f.markFirstDisplayed?f.markFirstDisplayed():
f._.markFirstDisplayed());this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var c=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,c))},focus:function(){if(CKEDITOR.env.webkit){var c=CKEDITOR.document.getActive();c&&!c.equals(this._.iframe)&&c.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var c=
this._.iframe.getFrameDocument().getActive();c&&c.is("a")&&(this._.lastFocused=c)},hide:function(c){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle("display","none");this.visible=0;this.element.getFirst().removeCustomData("activePanel");if(c=c&&this._.returnFocus)CKEDITOR.env.webkit&&c.type&&c.getWindow().$.focus(),c.focus();delete this._.lastFocused;this._.showBlockParams=
null;this._.editor.fire("panelHide",this)}},allowBlur:function(c){var b=this._.panel;void 0!==c&&(b.allowBlur=c);return b.allowBlur},showAsChild:function(c,b,h,g,l,k){if(this._.activeChild!=c||c._.panel._.offsetParentId!=h.getId())this.hideChild(),c.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=c,this._.focused=!1,c.showBlock(b,h,g,l,k),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){c.element.getChild(0).$.style.cssText+=
""},100)},hideChild:function(c){var b=this._.activeChild;b&&(delete b.onHide,delete this._.activeChild,b.hide(),c&&this.focus())}}});CKEDITOR.on("instanceDestroyed",function(){var c=CKEDITOR.tools.isEmpty(CKEDITOR.instances),b;for(b in g){var h=g[b];c?h.destroy():h.element.hide()}c&&(g={})})})();CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(c){function g(a){var b=a.name,d=a.type,f=a.title,g=a.order,q=a.commandName;a=a.contentTransformations||{};var u=new CKEDITOR.style(l["colorButton_"+
d+"Style"]),z=CKEDITOR.tools.getNextId()+"_colorBox",t={type:d},B=new CKEDITOR.style(l["colorButton_"+d+"Style"],{color:"inherit"}),w;c.addCommand(q,{contextSensitive:!0,exec:function(a,b){if(!a.readOnly){var d=b.newStyle;a.removeStyle(B);a.focus();d&&a.applyStyle(d);a.fire("saveSnapshot")}},refresh:function(a,b){B.checkApplicable(b,a,a.activeFilter)?B.checkActive(b,a)?this.setState(CKEDITOR.TRISTATE_ON):this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}});c.ui.add(b,
CKEDITOR.UI_PANELBUTTON,{label:f,title:f,command:q,editorFocus:0,toolbar:"colors,"+g,allowedContent:u,requiredContent:u,contentTransformations:a,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":k.panelTitle}},select:function(a){var b=l.colorButton_colors.split(",");a=CKEDITOR.tools.array.find(b,a);a=m(a);h(w,a);w._.markFirstDisplayed()},onBlock:function(a,b){w=b;b.autoSize=!0;b.element.addClass("cke_colorblock");b.element.setHtml(e({type:d,colorBoxId:z,colorData:t,
commandName:q}));b.element.getDocument().getBody().setStyle("overflow","hidden");CKEDITOR.ui.fire("ready",this);var f=b.keys,h="rtl"==c.lang.dir;f[h?37:39]="next";f[40]="next";f[9]="next";f[h?39:37]="prev";f[38]="prev";f[CKEDITOR.SHIFT+9]="prev";f[32]="click"},onOpen:function(){var a=c.getSelection(),b=a&&a.getStartElement(),f=c.elementPath(b);if(!f)return null;b=f.block||f.blockLimit||c.document.getBody();do f=b&&b.getComputedStyle("back"==d?"background-color":"color")||"transparent";while("back"==
d&&"transparent"==f&&b&&(b=b.getParent()));f&&"transparent"!=f||(f="#ffffff");!1!==l.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(z).setStyle("background-color",f);if(b=a&&a.getRanges()[0]){for(var a=new CKEDITOR.dom.walker(b),e=b.collapsed?b.startContainer:a.next(),b="";e;){e.type!==CKEDITOR.NODE_ELEMENT&&(e=e.getParent());e=m(e.getComputedStyle("back"==d?"background-color":"color"));b=b||e;if(b!==e){b="";break}e=a.next()}"transparent"==b&&(b="");"fore"==d&&(t.automaticTextColor=
"#"+m(f));t.selectionColor=b?"#"+b:"";h(w,b)}return f}})}function e(a){function d(a){a=a&&new CKEDITOR.style(w,{color:a});c.execCommand(g,{newStyle:a})}var f=a.type,e=a.colorBoxId,h=a.colorData,g=a.commandName;a=[];var m=l.colorButton_colors.split(","),z=l.colorButton_colorsPerRow||6,t=c.plugins.colordialog&&!1!==l.colorButton_enableMore,B=m.length+(t?2:1),w=c.config["colorButton_"+f+"Style"];w.childRule="back"==f?function(a){return b(a)}:function(a){return!(a.is("a")||a.getElementsByTag("a").count())||
b(a)};var v=CKEDITOR.tools.addFunction(function(a){c.focus();c.fire("saveSnapshot");"?"==a?c.getColorFromDialog(function(a){a&&d(a)},null,h):d(a&&"#"+a)});!1!==l.colorButton_enableAutomatic&&a.push('\x3ca class\x3d"cke_colorauto" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',k.auto,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',v,",null,'",f,"');return false;\" href\x3d\"javascript:void('",k.auto,'\')" role\x3d"option" aria-posinset\x3d"1" aria-setsize\x3d"',
B,'"\x3e\x3ctable role\x3d"presentation" cellspacing\x3d0 cellpadding\x3d0 width\x3d"100%"\x3e\x3ctr\x3e\x3ctd colspan\x3d"'+z+'" align\x3d"center"\x3e\x3cspan class\x3d"cke_colorbox" id\x3d"',e,'"\x3e\x3c/span\x3e',k.auto,"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/a\x3e");a.push('\x3ctable role\x3d"presentation" cellspacing\x3d0 cellpadding\x3d0 width\x3d"100%"\x3e');for(e=0;e<m.length;e++){0===e%z&&a.push("\x3c/tr\x3e\x3ctr\x3e");var F=m[e].split("/"),y=F[0],C=F[1]||y;a.push('\x3ctd\x3e\x3ca class\x3d"cke_colorbox" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',
F[1]?y:c.lang.colorbutton.colors[C]||C,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',v,",'",C,"','",f,"'); return false;\" href\x3d\"javascript:void('",C,'\')" data-value\x3d"'+C+'" role\x3d"option" aria-posinset\x3d"',e+2,'" aria-setsize\x3d"',B,'"\x3e\x3cspan class\x3d"cke_colorbox" style\x3d"background-color:#',C,'"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/td\x3e')}t&&a.push('\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d"'+z+'" align\x3d"center"\x3e\x3ca class\x3d"cke_colormore" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',
k.more,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',v,",'?','",f,"');return false;\" href\x3d\"javascript:void('",k.more,"')\"",' role\x3d"option" aria-posinset\x3d"',B,'" aria-setsize\x3d"',B,'"\x3e',k.more,"\x3c/a\x3e\x3c/td\x3e");a.push("\x3c/tr\x3e\x3c/table\x3e");return a.join("")}function b(a){return"false"==a.getAttribute("contentEditable")||a.getAttribute("data-nostyle")}function h(a,b){for(var d=a._.getItems(),c=0;c<d.count();c++){var f=
d.getItem(c);f.removeAttribute("aria-selected");b&&b==m(f.getAttribute("data-value"))&&f.setAttribute("aria-selected",!0)}}function m(a){return CKEDITOR.tools.normalizeHex("#"+CKEDITOR.tools.convertRgbToHex(a||"")).replace(/#/g,"")}var l=c.config,k=c.lang.colorbutton;if(!CKEDITOR.env.hc){g({name:"TextColor",type:"fore",commandName:"textColor",title:k.textColorTitle,order:10,contentTransformations:[[{element:"font",check:"span{color}",left:function(a){return!!a.attributes.color},right:function(a){a.name=
"span";a.attributes.color&&(a.styles.color=a.attributes.color);delete a.attributes.color}}]]});var d,f=c.config.colorButton_normalizeBackground;if(void 0===f||f)d=[[{element:"span",left:function(a){var b=CKEDITOR.tools;if("span"!=a.name||!a.styles||!a.styles.background)return!1;a=b.style.parse.background(a.styles.background);return a.color&&1===b.object.keys(a).length},right:function(a){var b=(new CKEDITOR.style(c.config.colorButton_backStyle,{color:a.styles.background})).getDefinition();a.name=b.element;
a.styles=b.styles;a.attributes=b.attributes||{};return a}}]];g({name:"BGColor",type:"back",commandName:"bgColor",title:k.bgColorTitle,order:20,contentTransformations:d})}}});CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000";CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]};
CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}};(function(){function c(b,a,d){d=b.config.forceEnterMode||d;if("wysiwyg"==b.mode){a||(a=b.activeEnterMode);var c=b.elementPath();c&&!c.isContextFor("p")&&(a=CKEDITOR.ENTER_BR,d=1);b.fire("saveSnapshot");a==CKEDITOR.ENTER_BR?l(b,a,null,d):k(b,a,null,d);b.fire("saveSnapshot")}}function g(b){b=b.getSelection().getRanges(!0);for(var a=b.length-1;0<a;a--)b[a].deleteContents();return b[0]}function e(b){var a=b.startContainer.getAscendant(function(a){return a.type==
CKEDITOR.NODE_ELEMENT&&"true"==a.getAttribute("contenteditable")},!0);if(b.root.equals(a))return b;a=new CKEDITOR.dom.range(a);a.moveToRange(b);return a}CKEDITOR.plugins.add("enterkey",{init:function(b){b.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){c(a)}});b.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){c(a,a.activeShiftEnterMode,1)}});b.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var b=CKEDITOR.dom.walker.whitespaces(),h=
CKEDITOR.dom.walker.bookmark(),m,l,k,d;CKEDITOR.plugins.enterkey={enterBlock:function(c,a,k,m){function x(a){var b;if(a===CKEDITOR.ENTER_BR||-1===CKEDITOR.tools.indexOf(["td","th"],z.lastElement.getName())||1!==z.lastElement.getChildCount())return!1;a=z.lastElement.getChild(0).clone(!0);(b=a.getBogus())&&b.remove();return a.getText().length?!1:!0}if(k=k||g(c)){k=e(k);var p=k.document,q=k.checkStartOfBlock(),u=k.checkEndOfBlock(),z=c.elementPath(k.startContainer),t=z.block,B=a==CKEDITOR.ENTER_DIV?
"div":"p",w;if(t&&q&&u){q=t.getParent();if(q.is("li")&&1<q.getChildCount()){p=new CKEDITOR.dom.element("li");w=c.createRange();p.insertAfter(q);t.remove();w.setStart(p,0);c.getSelection().selectRanges([w]);return}if(t.is("li")||t.getParent().is("li")){t.is("li")||(t=t.getParent(),q=t.getParent());w=q.getParent();k=!t.hasPrevious();var v=!t.hasNext();m=c.getSelection();var B=m.createBookmarks(),F=t.getDirection(1),u=t.getAttribute("class"),y=t.getAttribute("style"),C=w.getDirection(1)!=F;c=c.enterMode!=
CKEDITOR.ENTER_BR||C||y||u;if(w.is("li"))k||v?(k&&v&&q.remove(),t[v?"insertAfter":"insertBefore"](w)):t.breakParent(w);else{if(c)if(z.block.is("li")?(w=p.createElement(a==CKEDITOR.ENTER_P?"p":"div"),C&&w.setAttribute("dir",F),y&&w.setAttribute("style",y),u&&w.setAttribute("class",u),t.moveChildren(w)):w=z.block,k||v)w[k?"insertBefore":"insertAfter"](q);else t.breakParent(q),w.insertAfter(q);else if(t.appendBogus(!0),k||v)for(;p=t[k?"getFirst":"getLast"]();)p[k?"insertBefore":"insertAfter"](q);else for(t.breakParent(q);p=
t.getLast();)p.insertAfter(q);t.remove()}m.selectBookmarks(B);return}if(t&&t.getParent().is("blockquote")){t.breakParent(t.getParent());t.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||t.getPrevious().remove();t.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||t.getNext().remove();k.moveToElementEditStart(t);k.select();return}}else if(t&&t.is("pre")&&!u){l(c,a,k,m);return}if(y=k.splitBlock(B)){c=y.previousBlock;t=y.nextBlock;q=y.wasStartOfBlock;u=y.wasEndOfBlock;t?(v=t.getParent(),
v.is("li")&&(t.breakParent(v),t.move(t.getNext(),1))):c&&(v=c.getParent())&&v.is("li")&&(c.breakParent(v),v=c.getNext(),k.moveToElementEditStart(v),c.move(c.getPrevious()));if(q||u)if(x(a))k.moveToElementEditStart(k.getTouchedStartNode());else{if(c){if(c.is("li")||!d.test(c.getName())&&!c.is("pre"))w=c.clone()}else t&&(w=t.clone());w?m&&!w.is("li")&&w.renameNode(B):v&&v.is("li")?w=v:(w=p.createElement(B),c&&(F=c.getDirection())&&w.setAttribute("dir",F));if(p=y.elementPath)for(a=0,m=p.elements.length;a<
m;a++){B=p.elements[a];if(B.equals(p.block)||B.equals(p.blockLimit))break;CKEDITOR.dtd.$removeEmpty[B.getName()]&&(B=B.clone(),w.moveChildren(B),w.append(B))}w.appendBogus();w.getParent()||k.insertNode(w);w.is("li")&&w.removeAttribute("value");!CKEDITOR.env.ie||!q||u&&c.getChildCount()||(k.moveToElementEditStart(u?c:w),k.select());k.moveToElementEditStart(q&&!u?t:w)}else t.is("li")&&(w=k.clone(),w.selectNodeContents(t),w=new CKEDITOR.dom.walker(w),w.evaluator=function(a){return!(h(a)||b(a)||a.type==
CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(v=w.next())&&v.type==CKEDITOR.NODE_ELEMENT&&v.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?p.createElement("br"):p.createText(" ")).insertBefore(v)),t&&k.moveToElementEditStart(t);k.select();k.scrollIntoView()}}},enterBr:function(b,a,c,e){if(c=c||g(b)){var h=c.document,l=c.checkEndOfBlock(),m=new CKEDITOR.dom.elementPath(b.getSelection().getStartElement()),u=m.block,z=u&&m.block.getName();e||"li"!=z?(!e&&
l&&d.test(z)?(l=u.getDirection())?(h=h.createElement("div"),h.setAttribute("dir",l),h.insertAfter(u),c.setStart(h,0)):(h.createElement("br").insertAfter(u),CKEDITOR.env.gecko&&h.createText("").insertAfter(u),c.setStartAt(u.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(b="pre"==z&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?h.createText("\r"):h.createElement("br"),c.deleteContents(),c.insertNode(b),CKEDITOR.env.needsBrFiller?(h.createText("﻿").insertAfter(b),
l&&(u||m.blockLimit).appendBogus(),b.getNext().$.nodeValue="",c.setStartAt(b.getNext(),CKEDITOR.POSITION_AFTER_START)):c.setStartAt(b,CKEDITOR.POSITION_AFTER_END)),c.collapse(!0),c.select(),c.scrollIntoView()):k(b,a,c,e)}}};m=CKEDITOR.plugins.enterkey;l=m.enterBr;k=m.enterBlock;d=/^h[1-6]$/})();CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var c=CKEDITOR.addTemplate("panel-list",'\x3cul role\x3d"presentation" class\x3d"cke_panel_list"\x3e{items}\x3c/ul\x3e'),g=CKEDITOR.addTemplate("panel-list-item",
'\x3cli id\x3d"{id}" class\x3d"cke_panel_listItem" role\x3dpresentation\x3e\x3ca id\x3d"{id}_option" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"{title}" draggable\x3d"false" ondragstart\x3d"return false;" href\x3d"javascript:void(\'{val}\')"  onclick\x3d"{onclick}CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role\x3d"option"\x3e{text}\x3c/a\x3e\x3c/li\x3e'),e=CKEDITOR.addTemplate("panel-list-group",'\x3ch1 id\x3d"{id}" draggable\x3d"false" ondragstart\x3d"return false;" class\x3d"cke_panel_grouptitle" role\x3d"presentation" \x3e{label}\x3c/h1\x3e'),
b=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(b,c){return this.addBlock(b,new CKEDITOR.ui.listBlock(this.getHolderElement(),c))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(b,c){c=c||{};var e=c.attributes||(c.attributes={});(this.multiSelect=!!c.multiSelect)&&(e["aria-multiselectable"]=!0);!e.role&&(e.role="listbox");this.base.apply(this,arguments);this.element.setAttribute("role",e.role);e=this.keys;e[40]="next";e[9]="next";e[38]="prev";e[CKEDITOR.SHIFT+
9]="prev";e[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(e[13]="mouseup");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var b=c.output({items:this._.pendingList.join("")});this._.pendingList=[];this._.pendingHtml.push(b);delete this._.started}},getClick:function(){this._.click||(this._.click=CKEDITOR.tools.addFunction(function(b){var c=this.toggle(b);if(this.onClick)this.onClick(b,c)},this));return this._.click}},proto:{add:function(c,
e,l){var k=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[c]=k;var d;d=CKEDITOR.tools.htmlEncodeAttr(c).replace(b,"\\'");c={id:k,val:d,onclick:CKEDITOR.env.ie?'return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26':"",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(l||c),text:e||c};this._.pendingList.push(g.output(c))},startGroup:function(b){this._.close();var c=CKEDITOR.tools.getNextId();
this._.groups[b]=c;this._.pendingHtml.push(e.output({id:c,label:b}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(""));delete this._.size;this._.pendingHtml=[]},toggle:function(b){var c=this.isMarked(b);c?this.unmark(b):this.mark(b);return!c},hideGroup:function(b){var c=(b=this.element.getDocument().getById(this._.groups[b]))&&b.getNext();b&&(b.setStyle("display","none"),c&&"ul"==c.getName()&&c.setStyle("display","none"))},hideItem:function(b){this.element.getDocument().getById(this._.items[b]).setStyle("display",
"none")},showAll:function(){var b=this._.items,c=this._.groups,e=this.element.getDocument(),g;for(g in b)e.getById(b[g]).setStyle("display","");for(var d in c)b=e.getById(c[d]),g=b.getNext(),b.setStyle("display",""),g&&"ul"==g.getName()&&g.setStyle("display","")},mark:function(b){this.multiSelect||this.unmarkAll();b=this._.items[b];var c=this.element.getDocument().getById(b);c.addClass("cke_selected");this.element.getDocument().getById(b+"_option").setAttribute("aria-selected",!0);this.onMark&&this.onMark(c)},
markFirstDisplayed:function(){var b=this;this._.markFirstDisplayed(function(){b.multiSelect||b.unmarkAll()})},unmark:function(b){var c=this.element.getDocument();b=this._.items[b];var e=c.getById(b);e.removeClass("cke_selected");c.getById(b+"_option").removeAttribute("aria-selected");this.onUnmark&&this.onUnmark(e)},unmarkAll:function(){var b=this._.items,c=this.element.getDocument(),e;for(e in b){var g=b[e];c.getById(g).removeClass("cke_selected");c.getById(g+"_option").removeAttribute("aria-selected")}this.onUnmark&&
this.onUnmark()},isMarked:function(b){return this.element.getDocument().getById(this._.items[b]).hasClass("cke_selected")},focus:function(b){this._.focusIndex=-1;var c=this.element.getElementsByTag("a"),e,g=-1;if(b)for(e=this.element.getDocument().getById(this._.items[b]).getFirst();b=c.getItem(++g);){if(b.equals(e)){this._.focusIndex=g;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}});CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(c){c.ui.addHandler(CKEDITOR.UI_RICHCOMBO,
CKEDITOR.ui.richCombo.handler)}});(function(){var c='\x3cspan id\x3d"{id}" class\x3d"cke_combo cke_combo__{name} {cls}" role\x3d"presentation"\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_combo_label"\x3e{label}\x3c/span\x3e\x3ca class\x3d"cke_combo_button" title\x3d"{title}" tabindex\x3d"-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-haspopup\x3d"listbox"',g="";CKEDITOR.env.gecko&&
CKEDITOR.env.mac&&(c+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(c+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');CKEDITOR.env.ie&&(g='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');var c=c+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" onclick\x3d"'+g+'CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan id\x3d"{id}_text" class\x3d"cke_combo_text cke_combo_inlinelabel"\x3e{label}\x3c/span\x3e\x3cspan class\x3d"cke_combo_open"\x3e\x3cspan class\x3d"cke_combo_arrow"\x3e'+
(CKEDITOR.env.hc?"\x26#9660;":CKEDITOR.env.air?"\x26nbsp;":"")+"\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\x3c/span\x3e"),e=CKEDITOR.addTemplate("combo",c);CKEDITOR.UI_RICHCOMBO="richcombo";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(b){CKEDITOR.tools.extend(this,b,{canGroup:!1,title:b.label,modes:{wysiwyg:1},editorFocus:1});b=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=b.parent&&b.parent.getDocument()||CKEDITOR.document;b.className="cke_combopanel";
b.block={multiSelect:b.multiSelect,attributes:b.attributes};b.toolbarRelated=!0;this._={panelDefinition:b,items:{},listeners:[]}},proto:{renderHtml:function(b){var c=[];this.render(b,c);return c.join("")},render:function(b,c){function g(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var a=this.modes[b.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;b.readOnly&&!this.readOnly&&(a=CKEDITOR.TRISTATE_DISABLED);this.setState(a);this.setValue("");a!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}
var l=CKEDITOR.env,k,d,f="cke_"+this.id,a=CKEDITOR.tools.addFunction(function(a){d&&(b.unlockSelection(1),d=0);k.execute(a)},this),n=this;k={id:f,combo:this,focus:function(){CKEDITOR.document.getById(f).getChild(1).focus()},execute:function(a){var d=n._;if(d.state!=CKEDITOR.TRISTATE_DISABLED)if(n.createPanel(b),d.on)d.panel.hide();else{n.commit();var c=n.getValue();c?d.list.mark(c):d.list.unmarkAll();d.panel.showBlock(n.id,new CKEDITOR.dom.element(a),4)}},clickFn:a};this._.listeners.push(b.on("activeFilterChange",
g,this));this._.listeners.push(b.on("mode",g,this));this._.listeners.push(b.on("selectionChange",g,this));!this.readOnly&&this._.listeners.push(b.on("readOnly",g,this));var r=CKEDITOR.tools.addFunction(function(b,d){b=new CKEDITOR.dom.event(b);var c=b.getKeystroke();switch(c){case 13:case 32:case 40:CKEDITOR.tools.callFunction(a,d);break;default:k.onkey(k,c)}b.preventDefault()}),x=CKEDITOR.tools.addFunction(function(){k.onfocus&&k.onfocus()});d=0;k.keyDownFn=r;l={id:f,name:this.name||this.command,
label:this.label,title:this.title,cls:this.className||"",titleJs:l.gecko&&!l.hc?"":(this.title||"").replace("'",""),keydownFn:r,focusFn:x,clickFn:a};e.output(l,c);if(this.onRender)this.onRender();return k},createPanel:function(b){if(!this._.panel){var c=this._.panelDefinition,e=this._.panelDefinition.block,g=c.parent||CKEDITOR.document.getBody(),k="cke_combopanel__"+this.name,d=new CKEDITOR.ui.floatPanel(b,g,c),c=d.addListBlock(this.id,e),f=this;d.onShow=function(){this.element.addClass(k);f.setState(CKEDITOR.TRISTATE_ON);
f._.on=1;f.editorFocus&&!b.focusManager.hasFocus&&b.focus();if(f.onOpen)f.onOpen()};d.onHide=function(a){this.element.removeClass(k);f.setState(f.modes&&f.modes[b.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);f._.on=0;if(!a&&f.onClose)f.onClose()};d.onEscape=function(){d.hide(1)};c.onClick=function(a,b){f.onClick&&f.onClick.call(f,a,b);d.hide()};this._.panel=d;this._.list=c;d.getBlock(this.id).onHide=function(){f._.on=0;f.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(b,
c){this._.value=b;var e=this.document.getById("cke_"+this.id+"_text");e&&(b||c?e.removeClass("cke_combo_inlinelabel"):(c=this.label,e.addClass("cke_combo_inlinelabel")),e.setText("undefined"!=typeof c?c:b))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(b){this._.list.mark(b)},hideItem:function(b){this._.list.hideItem(b)},hideGroup:function(b){this._.list.hideGroup(b)},showAll:function(){this._.list.showAll()},add:function(b,c,e){this._.items[b]=
e||b;this._.list.add(b,c,e)},startGroup:function(b){this._.list.startGroup(b)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this));this._.committed=1},setState:function(b){if(this._.state!=b){var c=this.document.getById("cke_"+this.id);c.setState(b,"cke_combo");b==CKEDITOR.TRISTATE_DISABLED?c.setAttribute("aria-disabled",!0):c.removeAttribute("aria-disabled");this._.state=b}},getState:function(){return this._.state},enable:function(){this._.state==
CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,function(b){b.removeListener()});this._.listeners=[]},select:function(b){if(!CKEDITOR.tools.isEmpty(this._.items))for(var c in this._.items)if(b({value:c,text:this._.items[c]})){this.setValue(c);break}}},statics:{handler:{create:function(b){return new CKEDITOR.ui.richCombo(b)}}}});
CKEDITOR.ui.prototype.addRichCombo=function(b,c){this.add(b,CKEDITOR.UI_RICHCOMBO,c)}})();(function(){function c(c,e){var l=c.config,k=e.lang,d=new CKEDITOR.style(e.styleDefinition),f=new b({entries:e.entries,styleVariable:e.styleVariable,styleDefinition:e.styleDefinition}),a;c.addCommand(e.commandName,{exec:function(a,b){var c=b.newStyle,d=b.oldStyle,f=a.getSelection().getRanges()[0],e=void 0===c;if(d||c)if(d&&f.collapsed&&g({editor:a,range:f,style:d}),e)a.removeStyle(d);else{if(f=d)f=d instanceof
CKEDITOR.style&&c instanceof CKEDITOR.style?CKEDITOR.style.getStyleText(d.getDefinition())===CKEDITOR.style.getStyleText(c.getDefinition()):!1,f=!f;f&&a.removeStyle(d);a.applyStyle(c)}},refresh:function(a,b){d.checkApplicable(b,a,a.activeFilter)||this.setState(CKEDITOR.TRISTATE_DISABLED)}});a=c.getCommand(e.commandName);c.ui.addRichCombo(e.comboName,{label:k.label,title:k.panelTitle,command:e.commandName,toolbar:"styles,"+e.order,defaultValue:"cke-default",allowedContent:d,requiredContent:d,contentTransformations:"span"===
e.styleDefinition.element?[[{element:"font",check:"span",left:function(a){return!!a.attributes.size||!!a.attributes.align||!!a.attributes.face},right:function(a){var b=" x-small small medium large x-large xx-large 48px".split(" ");a.name="span";a.attributes.size&&(a.styles["font-size"]=b[a.attributes.size],delete a.attributes.size);a.attributes.align&&(a.styles["text-align"]=a.attributes.align,delete a.attributes.align);a.attributes.face&&(a.styles["font-family"]=a.attributes.face,delete a.attributes.face)}}]]:
null,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(l.contentsCss),multiSelect:!1,attributes:{"aria-label":k.panelTitle}},init:function(){var a="("+c.lang.common.optionDefault+")";this.startGroup(k.panelTitle);this.add(this.defaultValue,a,a);f.addToCombo(this)},onClick:function(a){var b=this.getValue();c.focus();c.fire("saveSnapshot");c.execCommand(e.commandName,{newStyle:f.getStyle(a),oldStyle:f.getStyle(b)});c.fire("saveSnapshot")},onRender:function(){c.on("selectionChange",function(a){var b=
this.getValue();(a=f.getMatchingValue(c,a.data.path))?a!=b&&this.setValue(a):this.setValue("",e.defaultLabel)},this);a.on("state",function(){this.setState(a.state)},this)},refresh:function(){this.setState(a.state)}})}function g(b){var c=b.editor,g=b.range,k=b.style,d,f,a;d=c.elementPath();if(b=d.contains(function(a){return k.checkElementRemovable(a)})){f=g.checkBoundaryOfElement(b,CKEDITOR.START);a=g.checkBoundaryOfElement(b,CKEDITOR.END);if(f&&a){for(f=g.createBookmark();d=b.getFirst();)d.insertBefore(b);
b.remove();g.moveToBookmark(f)}else f||a?g.moveToPosition(b,f?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(g.splitElement(b),g.moveToPosition(b,CKEDITOR.POSITION_AFTER_END)),e(g,d.elements.slice(),b);c.getSelection().selectRanges([g])}}function e(b,c,g){var k=c.pop();if(k){if(g)return e(b,c,k.equals(g)?null:g);g=k.clone();b.insertNode(g);b.moveToPosition(g,CKEDITOR.POSITION_AFTER_START);e(b,c)}}var b=CKEDITOR.tools.createClass({$:function(b){var c=b.entries.split(";");this._.data=
{};this._.names=[];for(var e=0;e<c.length;e++){var g=c[e],d,f;g?(g=g.split("/"),d=g[0],g=g[1],f={},f[b.styleVariable]=g||d,this._.data[d]=new CKEDITOR.style(b.styleDefinition,f),this._.data[d]._.definition.name=d,this._.names.push(d)):(c.splice(e,1),e--)}},proto:{getStyle:function(b){return this._.data[b]},addToCombo:function(b){for(var c=0;c<this._.names.length;c++){var e=this._.names[c];b.add(e,this.getStyle(e).buildPreview(),e)}},getMatchingValue:function(b,c){for(var e=c.elements,g=0,d;g<e.length;g++)if(d=
e[g],d=this._.findMatchingStyleName(b,d))return d;return null}},_:{findMatchingStyleName:function(b,c){return CKEDITOR.tools.array.find(this._.names,function(e){return this.getStyle(e).checkElementMatch(c,!0,b)},this)}}});CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(b){var e=b.config;c(b,{comboName:"Font",commandName:"font",styleVariable:"family",lang:b.lang.font,entries:e.font_names,defaultLabel:e.font_defaultLabel,styleDefinition:e.font_style,order:30});c(b,{comboName:"FontSize",
commandName:"fontSize",styleVariable:"size",lang:b.lang.font.fontSize,entries:e.fontSize_sizes,defaultLabel:e.fontSize_defaultLabel,styleDefinition:e.fontSize_style,order:40})}})})();CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif";
CKEDITOR.config.font_defaultLabel="";CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]};CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px";CKEDITOR.config.fontSize_defaultLabel="";CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]};(function(){var c=
{canUndo:!1,exec:function(c){var e=c.document.createElement("hr");c.insertElement(e)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(g){g.blockless||(g.addCommand("horizontalrule",c),g.ui.addButton&&g.ui.addButton("HorizontalRule",{label:g.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})})();(function(){function c(b,c){var m,l;c.on("refresh",function(b){var c=[g],f;for(f in b.data.states)c.push(b.data.states[f]);this.setState(CKEDITOR.tools.search(c,
e)?e:g)},c,null,100);c.on("exec",function(c){m=b.getSelection();l=m.createBookmarks(1);c.data||(c.data={});c.data.done=!1},c,null,0);c.on("exec",function(){b.forceNextSelectionCheck();m.selectBookmarks(l)},c,null,100)}var g=CKEDITOR.TRISTATE_DISABLED,e=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(b){var e=CKEDITOR.plugins.indent.genericDefinition;c(b,b.addCommand("indent",new e(!0)));c(b,b.addCommand("outdent",new e));b.ui.addButton&&(b.ui.addButton("Indent",{label:b.lang.indent.indent,
command:"indent",directional:!0,toolbar:"indent,20"}),b.ui.addButton("Outdent",{label:b.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"}));b.on("dirChanged",function(c){var e=b.createRange(),g=c.data.node;e.setStartBefore(g);e.setEndAfter(g);for(var d=new CKEDITOR.dom.walker(e),f;f=d.next();)if(f.type==CKEDITOR.NODE_ELEMENT)if(!f.equals(g)&&f.getDirection())e.setStartAfter(f),d=new CKEDITOR.dom.walker(e);else{var a=b.config.indentClasses;if(a)for(var h="ltr"==c.data.dir?["_rtl",
""]:["","_rtl"],r=0;r<a.length;r++)f.hasClass(a[r]+h[0])&&(f.removeClass(a[r]+h[0]),f.addClass(a[r]+h[1]));a=f.getStyle("margin-right");h=f.getStyle("margin-left");a?f.setStyle("margin-left",a):f.removeStyle("margin-left");h?f.setStyle("margin-right",h):f.removeStyle("margin-right")}})}});CKEDITOR.plugins.indent={genericDefinition:function(b){this.isIndent=!!b;this.startDisabled=!this.isIndent},specificDefinition:function(b,c,e){this.name=c;this.editor=b;this.jobs={};this.enterBr=b.config.enterMode==
CKEDITOR.ENTER_BR;this.isIndent=!!e;this.relatedGlobal=e?"indent":"outdent";this.indentKey=e?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(b,c){b.on("pluginsLoaded",function(){for(var b in c)(function(b,c){var d=b.getCommand(c.relatedGlobal),f;for(f in c.jobs)d.on("exec",function(a){a.data.done||(b.fire("lockSnapshot"),c.execJob(b,f)&&(a.data.done=!0),b.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(c.database))},this,null,f),d.on("refresh",function(a){a.data.states||
(a.data.states={});a.data.states[c.name+"@"+f]=c.refreshJob(b,f,a.data.path)},this,null,f);b.addFeature(c)})(this,c[b])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(b,c){var e=this.jobs[c];if(e.state!=g)return e.exec.call(this,b)},refreshJob:function(b,c,e){c=this.jobs[c];b.activeFilter.checkFeature(this)?c.state=c.refresh.call(this,b,e):c.state=g;return c.state},getContext:function(b){return b.contains(this.context)}}})();
(function(){function c(b,c,d){if(!b.getCustomData("indent_processed")){var f=this.editor,a=this.isIndent;if(c){f=b.$.className.match(this.classNameRegex);d=0;f&&(f=f[1],d=CKEDITOR.tools.indexOf(c,f)+1);if(0>(d+=a?1:-1))return;d=Math.min(d,c.length);d=Math.max(d,0);b.$.className=CKEDITOR.tools.ltrim(b.$.className.replace(this.classNameRegex,""));0<d&&b.addClass(c[d-1])}else{c=g(b,d);d=parseInt(b.getStyle(c),10);var e=f.config.indentOffset||40;isNaN(d)&&(d=0);d+=(a?1:-1)*e;if(0>d)return;d=Math.max(d,
0);d=Math.ceil(d/e)*e;b.setStyle(c,d?d+(f.config.indentUnit||"px"):"");""===b.getAttribute("style")&&b.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,b,"indent_processed",1)}}function g(b,c){return"ltr"==(c||b.getComputedStyle("direction"))?"margin-left":"margin-right"}var e=CKEDITOR.dtd.$listItem,b=CKEDITOR.dtd.$list,h=CKEDITOR.TRISTATE_DISABLED,m=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(l){function k(){d.specificDefinition.apply(this,
arguments);this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:f?null:"margin-left,margin-right",classes:f||null}};this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]];this.enterBr&&
(this.allowedContent.div=!0);this.requiredContent=(this.enterBr?"div":"p")+(f?"("+f.join(",")+")":"{margin-left}");this.jobs={20:{refresh:function(a,b){var c=b.block||b.blockLimit;if(!c.is(e))var d=c.getAscendant(e),c=d&&b.contains(d)||c;c.is(e)&&(c=c.getParent());if(this.enterBr||this.getContext(b)){if(f){var d=f,c=c.$.className.match(this.classNameRegex),k=this.isIndent,d=c?k?c[1]!=d.slice(-1):!0:k;return d?m:h}return this.isIndent?m:c?CKEDITOR[0>=(parseInt(c.getStyle(g(c)),10)||0)?"TRISTATE_DISABLED":
"TRISTATE_OFF"]:h}return h},exec:function(a){var d=a.getSelection(),d=d&&d.getRanges()[0],e;if(e=a.elementPath().contains(b))c.call(this,e,f);else for(d=d.createIterator(),a=a.config.enterMode,d.enforceRealBlocks=!0,d.enlargeBr=a!=CKEDITOR.ENTER_BR;e=d.getNextParagraph(a==CKEDITOR.ENTER_P?"p":"div");)e.isReadOnly()||c.call(this,e,f);return!0}}}}var d=CKEDITOR.plugins.indent,f=l.config.indentClasses;d.registerCommands(l,{indentblock:new k(l,"indentblock",!0),outdentblock:new k(l,"outdentblock")});
CKEDITOR.tools.extend(k.prototype,d.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:f?new RegExp("(?:^|\\s+)("+f.join("|")+")(?\x3d$|\\s)"):null})}})})();(function(){function c(b){function c(d){for(var g=l.startContainer,m=l.endContainer;g&&!g.getParent().equals(d);)g=g.getParent();for(;m&&!m.getParent().equals(d);)m=m.getParent();if(!g||!m)return!1;for(var q=[],w=!1;!w;)g.equals(m)&&(w=!0),q.push(g),g=g.getNext();if(1>q.length)return!1;
g=d.getParents(!0);for(m=0;m<g.length;m++)if(g[m].getName&&h[g[m].getName()]){d=g[m];break}for(var g=f.isIndent?1:-1,m=q[0],q=q[q.length-1],w=CKEDITOR.plugins.list.listToArray(d,a),v=w[q.getCustomData("listarray_index")].indent,m=m.getCustomData("listarray_index");m<=q.getCustomData("listarray_index");m++)if(w[m].indent+=g,0<g){for(var p=w[m].parent,y=m-1;0<=y;y--)if(w[y].indent===g){p=w[y].parent;break}w[m].parent=new CKEDITOR.dom.element(p.getName(),p.getDocument())}for(m=q.getCustomData("listarray_index")+
1;m<w.length&&w[m].indent>v;m++)w[m].indent+=g;g=CKEDITOR.plugins.list.arrayToList(w,a,null,b.config.enterMode,d.getDirection());if(!f.isIndent){var C;if((C=d.getParent())&&C.is("li"))for(var q=g.listNode.getChildren(),H=[],x,m=q.count()-1;0<=m;m--)(x=q.getItem(m))&&x.is&&x.is("li")&&H.push(x)}g&&g.listNode.replace(d);if(H&&H.length)for(m=0;m<H.length;m++){for(x=d=H[m];(x=x.getNext())&&x.is&&x.getName()in h;)CKEDITOR.env.needsNbspFiller&&!d.getFirst(e)&&d.append(l.document.createText(" ")),d.append(x);
d.insertAfter(C)}g&&b.fire("contentDomInvalidated");return!0}for(var f=this,a=this.database,h=this.context,l,m=b.getSelection(),m=(m&&m.getRanges()).createIterator();l=m.getNextRange();){for(var p=l.getCommonAncestor();p&&(p.type!=CKEDITOR.NODE_ELEMENT||!h[p.getName()]);){if(b.editable().equals(p)){p=!1;break}p=p.getParent()}p||(p=l.startPath().contains(h))&&l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END);if(!p){var q=l.getEnclosedNode();q&&q.type==CKEDITOR.NODE_ELEMENT&&q.getName()in h&&(l.setStartAt(q,
CKEDITOR.POSITION_AFTER_START),l.setEndAt(q,CKEDITOR.POSITION_BEFORE_END),p=q)}p&&l.startContainer.type==CKEDITOR.NODE_ELEMENT&&l.startContainer.getName()in h&&(q=new CKEDITOR.dom.walker(l),q.evaluator=g,l.startContainer=q.next());p&&l.endContainer.type==CKEDITOR.NODE_ELEMENT&&l.endContainer.getName()in h&&(q=new CKEDITOR.dom.walker(l),q.evaluator=g,l.endContainer=q.previous());if(p)return c(p)}return 0}function g(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.is("li")}function e(c){return b(c)&&h(c)}
var b=CKEDITOR.dom.walker.whitespaces(!0),h=CKEDITOR.dom.walker.bookmark(!1,!0),m=CKEDITOR.TRISTATE_DISABLED,l=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(b){function d(a){f.specificDefinition.apply(this,arguments);this.requiredContent=["ul","ol"];a.on("key",function(b){var c=a.elementPath();if("wysiwyg"==a.mode&&b.data.keyCode==this.indentKey&&c){var d=this.getContext(c);!d||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,c,d)||
(a.execCommand(this.relatedGlobal),b.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(a,b){var c=this.getContext(b),d=CKEDITOR.plugins.indentList.firstItemInPath(this.context,b,c);return c&&this.isIndent&&!d?l:m}:function(a,b){return!this.getContext(b)||this.isIndent?m:l},exec:CKEDITOR.tools.bind(c,this)}}var f=CKEDITOR.plugins.indent;f.registerCommands(b,{indentlist:new d(b,"indentlist",!0),outdentlist:new d(b,"outdentlist")});CKEDITOR.tools.extend(d.prototype,f.specificDefinition.prototype,
{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(b,c,f){var a=c.contains(g);f||(f=c.contains(b));return f&&a&&a.equals(f.getFirst(g))}})();(function(){function c(b,c){c=void 0===c||c;var e;if(c)e=b.getComputedStyle("text-align");else{for(;!b.hasAttribute||!b.hasAttribute("align")&&!b.getStyle("text-align");){e=b.getParent();if(!e)break;b=e}e=b.getStyle("text-align")||b.getAttribute("align")||""}e&&(e=e.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,
""));!e&&c&&(e="rtl"==b.getComputedStyle("direction")?"right":"left");return e}function g(b,c,e){this.editor=b;this.name=c;this.value=e;this.context="p";c=b.config.justifyClasses;var g=b.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(c){switch(e){case "left":this.cssClassName=c[0];break;case "center":this.cssClassName=c[1];break;case "right":this.cssClassName=c[2];break;case "justify":this.cssClassName=c[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+c.join("|")+")(?\x3d$|\\s)");this.requiredContent=
g+"("+this.cssClassName+")"}else this.requiredContent=g+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}};b.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function e(b){var c=b.editor,e=c.createRange();e.setStartBefore(b.data.node);e.setEndAfter(b.data.node);for(var g=new CKEDITOR.dom.walker(e),k;k=g.next();)if(k.type==CKEDITOR.NODE_ELEMENT)if(!k.equals(b.data.node)&&
k.getDirection())e.setStartAfter(k),g=new CKEDITOR.dom.walker(e);else{var d=c.config.justifyClasses;d&&(k.hasClass(d[0])?(k.removeClass(d[0]),k.addClass(d[2])):k.hasClass(d[2])&&(k.removeClass(d[2]),k.addClass(d[0])));d=k.getStyle("text-align");"left"==d?k.setStyle("text-align","right"):"right"==d&&k.setStyle("text-align","left")}}g.prototype={exec:function(b){var e=b.getSelection(),g=b.config.enterMode;if(e){for(var l=e.createBookmarks(),k=e.getRanges(),d=this.cssClassName,f,a,n=b.config.useComputedState,
n=void 0===n||n,r=k.length-1;0<=r;r--)for(f=k[r].createIterator(),f.enlargeBr=g!=CKEDITOR.ENTER_BR;a=f.getNextParagraph(g==CKEDITOR.ENTER_P?"p":"div");)if(!a.isReadOnly()){var x=a.getName(),p;p=b.activeFilter.check(x+"{text-align}");if((x=b.activeFilter.check(x+"("+d+")"))||p){a.removeAttribute("align");a.removeStyle("text-align");var q=d&&(a.$.className=CKEDITOR.tools.ltrim(a.$.className.replace(this.cssClassRegex,""))),u=this.state==CKEDITOR.TRISTATE_OFF&&(!n||c(a,!0)!=this.value);d&&x?u?a.addClass(d):
q||a.removeAttribute("class"):u&&p&&a.setStyle("text-align",this.value)}}b.focus();b.forceNextSelectionCheck();e.selectBookmarks(l)}},refresh:function(b,e){var g=e.block||e.blockLimit,l=g.getName(),k=g.equals(b.editable()),l=this.cssClassName?b.activeFilter.check(l+"("+this.cssClassName+")"):b.activeFilter.check(l+"{text-align}");k&&!CKEDITOR.dtd.$list[e.lastElement.getName()]?this.setState(CKEDITOR.TRISTATE_OFF):!k&&l?this.setState(c(g,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:
CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}};CKEDITOR.plugins.add("justify",{init:function(b){if(!b.blockless){var c=new g(b,"justifyleft","left"),m=new g(b,"justifycenter","center"),l=new g(b,"justifyright","right"),k=new g(b,"justifyblock","justify");b.addCommand("justifyleft",c);b.addCommand("justifycenter",m);b.addCommand("justifyright",l);b.addCommand("justifyblock",k);b.ui.addButton&&(b.ui.addButton("JustifyLeft",{label:b.lang.common.alignLeft,command:"justifyleft",toolbar:"align,10"}),
b.ui.addButton("JustifyCenter",{label:b.lang.common.center,command:"justifycenter",toolbar:"align,20"}),b.ui.addButton("JustifyRight",{label:b.lang.common.alignRight,command:"justifyright",toolbar:"align,30"}),b.ui.addButton("JustifyBlock",{label:b.lang.common.justify,command:"justifyblock",toolbar:"align,40"}));b.on("dirChanged",e)}}})})();(function(){function c(a,b,c,d){for(var f=CKEDITOR.plugins.list.listToArray(b.root,c),e=[],g=0;g<b.contents.length;g++){var h=b.contents[g];(h=h.getAscendant("li",
!0))&&!h.getCustomData("list_item_processed")&&(e.push(h),CKEDITOR.dom.element.setMarker(c,h,"list_item_processed",!0))}for(var h=b.root.getDocument(),k,l,g=0;g<e.length;g++){var n=e[g].getCustomData("listarray_index");k=f[n].parent;k.is(this.type)||(l=h.createElement(this.type),k.copyAttributes(l,{start:1,type:1}),l.removeStyle("list-style-type"),f[n].parent=l)}c=CKEDITOR.plugins.list.arrayToList(f,c,null,a.config.enterMode);for(var m,f=c.listNode.getChildCount(),g=0;g<f&&(m=c.listNode.getChild(g));g++)m.getName()==
this.type&&d.push(m);c.listNode.replace(b.root);a.fire("contentDomInvalidated")}function g(a,b,c){var d=b.contents,f=b.root.getDocument(),e=[];if(1==d.length&&d[0].equals(b.root)){var g=f.createElement("div");d[0].moveChildren&&d[0].moveChildren(g);d[0].append(g);d[0]=g}b=b.contents[0].getParent();for(g=0;g<d.length;g++)b=b.getCommonAncestor(d[g].getParent());a=a.config.useComputedState;var h,k;a=void 0===a||a;for(g=0;g<d.length;g++)for(var l=d[g],n;n=l.getParent();){if(n.equals(b)){e.push(l);!k&&
l.getDirection()&&(k=1);l=l.getDirection(a);null!==h&&(h=h&&h!=l?null:l);break}l=n}if(!(1>e.length)){d=e[e.length-1].getNext();g=f.createElement(this.type);for(c.push(g);e.length;)c=e.shift(),a=f.createElement("li"),l=c,l.is("pre")||p.test(l.getName())||"false"==l.getAttribute("contenteditable")?c.appendTo(a):(c.copyAttributes(a),h&&c.getDirection()&&(a.removeStyle("direction"),a.removeAttribute("dir")),c.moveChildren(a),c.remove()),a.appendTo(g);h&&k&&g.setAttribute("dir",h);d?g.insertBefore(d):
g.appendTo(b)}}function e(a,b,c){function d(c){if(!(!(l=k[c?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(n=b.root[c?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||n.is&&n.isBlockBoundary({br:1})))a.document.createElement("br")[c?"insertBefore":"insertAfter"](l)}for(var f=CKEDITOR.plugins.list.listToArray(b.root,c),e=[],g=0;g<b.contents.length;g++){var h=b.contents[g];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(e.push(h),CKEDITOR.dom.element.setMarker(c,
h,"list_item_processed",!0))}h=null;for(g=0;g<e.length;g++)h=e[g].getCustomData("listarray_index"),f[h].indent=-1;for(g=h+1;g<f.length;g++)if(f[g].indent>f[g-1].indent+1){e=f[g-1].indent+1-f[g].indent;for(h=f[g].indent;f[g]&&f[g].indent>=h;)f[g].indent+=e,g++;g--}var k=CKEDITOR.plugins.list.arrayToList(f,c,null,a.config.enterMode,b.root.getAttribute("dir")).listNode,l,n;d(!0);d();k.replace(b.root);a.fire("contentDomInvalidated")}function b(a,b){this.name=a;this.context=this.type=b;this.allowedContent=
b+" li";this.requiredContent=b}function h(a,b,c,d){for(var f,e;f=a[d?"getLast":"getFirst"](q);)(e=f.getDirection(1))!==b.getDirection(1)&&f.setAttribute("dir",e),f.remove(),c?f[d?"insertBefore":"insertAfter"](c):b.append(f,d),c=f}function m(a){function b(c){var d=a[c?"getPrevious":"getNext"](r);d&&d.type==CKEDITOR.NODE_ELEMENT&&d.is(a.getName())&&(h(a,d,null,!c),a.remove(),a=d)}b();b(1)}function l(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&
CKEDITOR.dtd[a.getName()]["#"]}function k(a,b,c){a.fire("saveSnapshot");c.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var f=c.extractContents();b.trim(!1,!0);var e=b.createBookmark(),g=new CKEDITOR.dom.elementPath(b.startContainer),k=g.block,g=g.lastElement.getAscendant("li",1)||k,l=new CKEDITOR.dom.elementPath(c.startContainer),n=l.contains(CKEDITOR.dtd.$listItem),l=l.contains(CKEDITOR.dtd.$list);k?(k=k.getBogus())&&k.remove():l&&(k=l.getPrevious(r))&&x(k)&&k.remove();(k=f.getLast())&&k.type==CKEDITOR.NODE_ELEMENT&&
k.is("br")&&k.remove();(k=b.startContainer.getChild(b.startOffset))?f.insertBefore(k):b.startContainer.append(f);n&&(f=d(n))&&(g.contains(n)?(h(f,n.getParent(),n),f.remove()):g.append(f));for(;c.checkStartOfBlock()&&c.checkEndOfBlock();){l=c.startPath();f=l.block;if(!f)break;f.is("li")&&(g=f.getParent(),f.equals(g.getLast(r))&&f.equals(g.getFirst(r))&&(f=g));c.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);f.remove()}c=c.clone();f=a.editable();c.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(c);
c.evaluator=function(a){return r(a)&&!x(a)};(c=c.next())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in CKEDITOR.dtd.$list&&m(c);b.moveToBookmark(e);b.select();a.fire("saveSnapshot")}function d(a){return(a=a.getLast(r))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in f?a:null}var f={ol:1,ul:1},a=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(),r=function(b){return!(a(b)||n(b))},x=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,b,c,d,e){if(!f[a.getName()])return[];
d||(d=0);c||(c=[]);for(var g=0,h=a.getChildCount();g<h;g++){var k=a.getChild(g);k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(k,b,c,d+1);if("li"==k.$.nodeName.toLowerCase()){var l={parent:a,indent:d,element:k,contents:[]};e?l.grandparent=e:(l.grandparent=a.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent()));b&&CKEDITOR.dom.element.setMarker(b,k,"listarray_index",c.length);c.push(l);
for(var n=0,m=k.getChildCount(),r;n<m;n++)r=k.getChild(n),r.type==CKEDITOR.NODE_ELEMENT&&f[r.getName()]?CKEDITOR.plugins.list.listToArray(r,b,c,d+1,l.grandparent):l.contents.push(r)}}return c},arrayToList:function(a,b,c,d,e){c||(c=0);if(!a||a.length<c+1)return null;for(var g,h=a[c].parent.getDocument(),k=new CKEDITOR.dom.documentFragment(h),l=null,m=c,q=Math.max(a[c].indent,0),p=null,x,D,O=d==CKEDITOR.ENTER_P?"p":"div";;){var K=a[m];g=K.grandparent;x=K.element.getDirection(1);if(K.indent==q){l&&a[m].parent.getName()==
l.getName()||(l=a[m].parent.clone(!1,1),e&&l.setAttribute("dir",e),k.append(l));p=l.append(K.element.clone(0,1));x!=l.getDirection(1)&&p.setAttribute("dir",x);for(g=0;g<K.contents.length;g++)p.append(K.contents[g].clone(1,1));m++}else if(K.indent==Math.max(q,0)+1)K=a[m-1].element.getDirection(1),m=CKEDITOR.plugins.list.arrayToList(a,null,m,d,K!=x?x:null),!p.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=h.$.documentMode&&p.append(h.createText(" ")),p.append(m.listNode),m=m.nextIndex;else if(-1==
K.indent&&!c&&g){f[g.getName()]?(p=K.element.clone(!1,!0),x!=g.getDirection(1)&&p.setAttribute("dir",x)):p=new CKEDITOR.dom.documentFragment(h);var l=g.getDirection(1)!=x,M=K.element,A=M.getAttribute("class"),N=M.getAttribute("style"),J=p.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(d!=CKEDITOR.ENTER_BR||l||N||A),I,ea=K.contents.length,U;for(g=0;g<ea;g++)if(I=K.contents[g],n(I)&&1<ea)J?U=I.clone(1,1):p.append(I.clone(1,1));else if(I.type==CKEDITOR.NODE_ELEMENT&&I.isBlockBoundary()){l&&!I.getDirection()&&
I.setAttribute("dir",x);D=I;var Y=M.getAttribute("style");Y&&D.setAttribute("style",Y.replace(/([^;])$/,"$1;")+(D.getAttribute("style")||""));A&&I.addClass(A);D=null;U&&(p.append(U),U=null);p.append(I.clone(1,1))}else J?(D||(D=h.createElement(O),p.append(D),l&&D.setAttribute("dir",x)),N&&D.setAttribute("style",N),A&&D.setAttribute("class",A),U&&(D.append(U),U=null),D.append(I.clone(1,1))):p.append(I.clone(1,1));U&&((D||p).append(U),U=null);p.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&m!=a.length-1&&(CKEDITOR.env.needsBrFiller&&
(x=p.getLast())&&x.type==CKEDITOR.NODE_ELEMENT&&x.is("br")&&x.remove(),(x=p.getLast(r))&&x.type==CKEDITOR.NODE_ELEMENT&&x.is(CKEDITOR.dtd.$block)||p.append(h.createElement("br")));x=p.$.nodeName.toLowerCase();"div"!=x&&"p"!=x||p.appendBogus();k.append(p);l=null;m++}else return null;D=null;if(a.length<=m||Math.max(a[m].indent,0)<q)break}if(b)for(a=k.getFirst();a;){if(a.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(c=a,h=e=d=void 0,d=c.getDirection()))){for(e=
c.getParent();e&&!(h=e.getDirection());)e=e.getParent();d==h&&c.removeAttribute("dir")}a=a.getNextSourceNode()}return{listNode:k,nextIndex:m}}};var p=/^h[1-6]$/,q=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);b.prototype={exec:function(a){function b(a){return f[a.root.getName()]&&!d(a.root,[CKEDITOR.NODE_COMMENT])}function d(a,b){return CKEDITOR.tools.array.filter(a.getChildren().toArray(),function(a){return-1===CKEDITOR.tools.array.indexOf(b,a.type)}).length}function h(a){var b=!0;if(0===a.getChildCount())return!1;
a.forEach(function(a){if(a.type!==CKEDITOR.NODE_COMMENT)return b=!1},null,!0);return b}this.refresh(a,a.elementPath());var k=a.config,l=a.getSelection(),n=l&&l.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var q=a.editable();if(q.getFirst(r)){var p=1==n.length&&n[0];(k=p&&p.getEnclosedNode())&&k.is&&this.type==k.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else k.enterMode==CKEDITOR.ENTER_BR?q.appendBogus():n[0].fixBlock(1,k.enterMode==CKEDITOR.ENTER_P?"p":"div"),l.selectRanges(n)}for(var k=
l.createBookmarks(!0),q=[],x={},n=n.createIterator(),G=0;(p=n.getNextRange())&&++G;){var L=p.getBoundaryNodes(),E=L.startNode,D=L.endNode;E.type==CKEDITOR.NODE_ELEMENT&&"td"==E.getName()&&p.setStartAt(L.startNode,CKEDITOR.POSITION_AFTER_START);D.type==CKEDITOR.NODE_ELEMENT&&"td"==D.getName()&&p.setEndAt(L.endNode,CKEDITOR.POSITION_BEFORE_END);p=p.createIterator();for(p.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;L=p.getNextParagraph();)if(!L.getCustomData("list_block")&&!h(L)){CKEDITOR.dom.element.setMarker(x,
L,"list_block",1);for(var O=a.elementPath(L),E=O.elements,D=0,O=O.blockLimit,K,M=E.length-1;0<=M&&(K=E[M]);M--)if(f[K.getName()]&&O.contains(K)){O.removeCustomData("list_group_object_"+G);(E=K.getCustomData("list_group_object"))?E.contents.push(L):(E={root:K,contents:[L]},q.push(E),CKEDITOR.dom.element.setMarker(x,K,"list_group_object",E));D=1;break}D||(D=O,D.getCustomData("list_group_object_"+G)?D.getCustomData("list_group_object_"+G).contents.push(L):(E={root:D,contents:[L]},CKEDITOR.dom.element.setMarker(x,
D,"list_group_object_"+G,E),q.push(E)))}}for(K=[];0<q.length;)E=q.shift(),this.state==CKEDITOR.TRISTATE_OFF?b(E)||(f[E.root.getName()]?c.call(this,a,E,x,K):g.call(this,a,E,K)):this.state==CKEDITOR.TRISTATE_ON&&f[E.root.getName()]&&!b(E)&&e.call(this,a,E,x);for(M=0;M<K.length;M++)m(K[M]);CKEDITOR.dom.element.clearAllMarkers(x);l.selectBookmarks(k);a.focus()},refresh:function(a,b){var c=b.contains(f,1),d=b.blockLimit||b.root;c&&d.contains(c)?this.setState(c.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):
this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(a){a.blockless||(a.addCommand("numberedlist",new b("numberedlist","ol")),a.addCommand("bulletedlist",new b("bulletedlist","ul")),a.ui.addButton&&(a.ui.addButton("NumberedList",{label:a.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),a.ui.addButton("BulletedList",{label:a.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),a.on("key",
function(b){var c=b.data.domEvent.getKey(),e;if("wysiwyg"==a.mode&&c in{8:1,46:1}){var g=a.getSelection().getRanges()[0],h=g&&g.startPath();if(g&&g.collapsed){var n=8==c,m=a.editable(),q=new CKEDITOR.dom.walker(g.clone());q.evaluator=function(a){return r(a)&&!x(a)};q.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table"))};c=g.clone();if(n){var p;(p=h.contains(f))&&g.checkBoundaryOfElement(p,CKEDITOR.START)&&(p=p.getParent())&&p.is("li")&&(p=d(p))?(e=p,p=p.getPrevious(r),c.moveToPosition(p&&
x(p)?p:e,CKEDITOR.POSITION_BEFORE_START)):(q.range.setStartAt(m,CKEDITOR.POSITION_AFTER_START),q.range.setEnd(g.startContainer,g.startOffset),(p=q.previous())&&p.type==CKEDITOR.NODE_ELEMENT&&(p.getName()in f||p.is("li"))&&(p.is("li")||(q.range.selectNodeContents(p),q.reset(),q.evaluator=l,p=q.previous()),e=p,c.moveToElementEditEnd(e),c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(e)k(a,c,g),b.cancel();else{var G=h.contains(f);G&&g.checkBoundaryOfElement(G,CKEDITOR.START)&&(e=
G.getFirst(r),g.checkBoundaryOfElement(e,CKEDITOR.START)&&(p=G.getPrevious(r),d(e)?p&&(g.moveToElementEditEnd(p),g.select()):a.execCommand("outdent"),b.cancel()))}}else if(e=h.contains("li")){if(q.range.setEndAt(m,CKEDITOR.POSITION_BEFORE_END),n=(m=e.getLast(r))&&l(m)?m:e,h=0,(p=q.next())&&p.type==CKEDITOR.NODE_ELEMENT&&p.getName()in f&&p.equals(m)?(h=1,p=q.next()):g.checkBoundaryOfElement(n,CKEDITOR.END)&&(h=2),h&&p){g=g.clone();g.moveToElementEditStart(p);if(1==h&&(c.optimize(),!c.startContainer.equals(e))){for(e=
c.startContainer;e.is(CKEDITOR.dtd.$inline);)G=e,e=e.getParent();G&&c.moveToPosition(G,CKEDITOR.POSITION_AFTER_END)}2==h&&(c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END),g.endPath().block&&g.moveToPosition(g.endPath().block,CKEDITOR.POSITION_AFTER_START));k(a,c,g);b.cancel()}}else q.range.setEndAt(m,CKEDITOR.POSITION_BEFORE_END),(p=q.next())&&p.type==CKEDITOR.NODE_ELEMENT&&p.is(f)&&(p=p.getFirst(r),h.block&&g.checkStartOfBlock()&&g.checkEndOfBlock()?(h.block.remove(),g.moveToElementEditStart(p),
g.select()):d(p)?(g.moveToElementEditStart(p),g.select()):(g=g.clone(),g.moveToElementEditStart(p),k(a,c,g)),b.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})})();(function(){CKEDITOR.plugins.add("pastefromword",{requires:"pastetools",init:function(c){function g(b){var c=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,d,f=[];if(c&&b.editor.filter.check("img[src]")&&(d=c.extractTagsFromHtml(b.data.dataValue),0!==d.length&&(c=c.extractFromRtf(b.data.dataTransfer["text/rtf"]),
0!==c.length&&(CKEDITOR.tools.array.forEach(c,function(a){f.push(a.type?"data:"+a.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(a.hex)):null)},this),d.length===f.length))))for(c=0;c<d.length;c++)0===d[c].indexOf("file://")&&f[c]&&(b.data.dataValue=b.data.dataValue.replace(d[c],f[c]))}var e=0,b=CKEDITOR.plugins.getPath("pastetools"),h=this.path,m=void 0===c.config.pasteFromWord_inlineImages?!0:c.config.pasteFromWord_inlineImages,b=[CKEDITOR.getUrl(b+"filter/common.js"),
CKEDITOR.getUrl(h+"filter/default.js")];c.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(b,c){e=1;b.execCommand("paste",{type:"html",notification:c&&"undefined"!==typeof c.notification?c.notification:!0})}});CKEDITOR.plugins.clipboard.addPasteButton(c,"PasteFromWord",{label:c.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});c.pasteTools.register({filters:c.config.pasteFromWordCleanupFile?[c.config.pasteFromWordCleanupFile]:b,canHandle:function(b){b=CKEDITOR.plugins.pastetools.getClipboardData(b.data,
"text/html");var c=CKEDITOR.plugins.pastetools.getContentGeneratorName(b),d=/(class="?Mso|style=["'][^"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,c=c?"microsoft"===c:d.test(b);return b&&(e||c)},handle:function(b,g){var d=b.data,f=CKEDITOR.plugins.pastetools.getClipboardData(d,"text/html"),a=CKEDITOR.plugins.pastetools.getClipboardData(d,"text/rtf"),f={dataValue:f,dataTransfer:{"text/rtf":a}};if(!1!==c.fire("pasteFromWord",f)||e){d.dontFilter=!0;if(e||!c.config.pasteFromWordPromptCleanup||confirm(c.lang.pastefromword.confirmCleanup))f.dataValue=
CKEDITOR.cleanWord(f.dataValue,c),c.fire("afterPasteFromWord",f),d.dataValue=f.dataValue,!0===c.config.forcePasteAsPlainText?d.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==c.config.forcePasteAsPlainText||(d.type="html");e=0;g()}}});if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&m)c.on("afterPasteFromWord",g)}})})();(function(){function c(b,c){return CKEDITOR.tools.array.filter(b,function(b){return b.canHandle(c)}).sort(function(b,c){return b.priority===
c.priority?0:b.priority-c.priority})}function g(b,c){var d=b.shift();d&&d.handle(c,function(){g(b,c)})}function e(b){var c=CKEDITOR.tools.array.reduce(b,function(b,c){return CKEDITOR.tools.array.isArray(c.filters)?b.concat(c.filters):b},[]);return CKEDITOR.tools.array.filter(c,function(b,f){return CKEDITOR.tools.array.indexOf(c,b)===f})}function b(b,c){var d=0,f,a;if(!CKEDITOR.tools.array.isArray(b)||0===b.length)return!0;f=CKEDITOR.tools.array.filter(b,function(a){return-1===CKEDITOR.tools.array.indexOf(h,
a)});if(0<f.length)for(a=0;a<f.length;a++)(function(a){CKEDITOR.scriptLoader.queue(a,function(b){b&&h.push(a);++d===f.length&&c()})})(f[a]);return 0===f.length}var h=[],m=CKEDITOR.tools.createClass({$:function(){this.handlers=[]},proto:{register:function(b){"number"!==typeof b.priority&&(b.priority=10);this.handlers.push(b)},addPasteListener:function(h){h.on("paste",function(k){var d=c(this.handlers,k),f;if(0!==d.length){f=e(d);f=b(f,function(){return h.fire("paste",k.data)});if(!f)return k.cancel();
g(d,k)}},this,null,3)}}});CKEDITOR.plugins.add("pastetools",{requires:"clipboard",beforeInit:function(b){b.pasteTools=new m;b.pasteTools.addPasteListener(b)}});CKEDITOR.plugins.pastetools={filters:{},loadFilters:b,createFilter:function(b){var c=CKEDITOR.tools.array.isArray(b.rules)?b.rules:[b.rules],d=b.additionalTransforms;return function(b,a){var e=new CKEDITOR.htmlParser.basicWriter,g=new CKEDITOR.htmlParser.filter,h;d&&(b=d(b,a));CKEDITOR.tools.array.forEach(c,function(c){g.addRules(c(b,a,g))});
h=CKEDITOR.htmlParser.fragment.fromHtml(b);g.applyTo(h);h.writeHtml(e);return e.getHtml()}},getClipboardData:function(b,c){var d;return CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"text/html"===c?(d=b.dataTransfer.getData(c,!0))||"text/html"!==c?d:b.dataValue:null},getConfigValue:function(b,c){if(b&&b.config){var d=CKEDITOR.tools,f=b.config,a=d.object.keys(f),e=["pasteTools_"+c,"pasteFromWord_"+c,"pasteFromWord"+d.capitalize(c,!0)],e=d.array.find(e,function(b){return-1!==d.array.indexOf(a,
b)});return f[e]}},getContentGeneratorName:function(b){if((b=/<meta\s+name=["']?generator["']?\s+content=["']?(\w+)/gi.exec(b))&&b.length)return b=b[1].toLowerCase(),0===b.indexOf("microsoft")?"microsoft":0===b.indexOf("libreoffice")?"libreoffice":"unknown"}};CKEDITOR.pasteFilters={}})();CKEDITOR.plugins.add("removeformat",{init:function(c){c.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat);c.ui.addButton&&c.ui.addButton("RemoveFormat",{label:c.lang.removeformat.toolbar,
command:"removeFormat",toolbar:"cleanup,10"})}});CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(c){for(var g=c._.removeFormatRegex||(c._.removeFormatRegex=new RegExp("^(?:"+c.config.removeFormatTags.replace(/,/g,"|")+")$","i")),e=c._.removeAttributes||(c._.removeAttributes=c.config.removeFormatAttributes.split(",")),b=CKEDITOR.plugins.removeformat.filter,h=c.getSelection().getRanges(),m=h.createIterator(),l=function(a){return a.type==CKEDITOR.NODE_ELEMENT},k;k=m.getNextRange();){k.enlarge(CKEDITOR.ENLARGE_INLINE);
var d=k.createBookmark(),f=d.startNode,a=d.endNode,n=function(a){for(var d=c.elementPath(a),f=d.elements,e=1,h;(h=f[e])&&!h.equals(d.block)&&!h.equals(d.blockLimit);e++)g.test(h.getName())&&b(c,h)&&a.breakParent(h)};n(f);if(a)for(n(a),f=f.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);f&&!f.equals(a);)if(f.isReadOnly()){if(f.getPosition(a)&CKEDITOR.POSITION_CONTAINS)break;f=f.getNext(l)}else n=f.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==f.getName()&&f.data("cke-realelement")||!b(c,f)||(g.test(f.getName())?
f.remove(1):(f.removeAttributes(e),c.fire("removeFormatCleanup",f))),f=n;k.moveToBookmark(d)}c.forceNextSelectionCheck();c.getSelection().selectRanges(h)}}},filter:function(c,g){for(var e=c._.removeFormatFilters||[],b=0;b<e.length;b++)if(!1===e[b](g))return!1;return!0}};CKEDITOR.editor.prototype.addRemoveFormatFilter=function(c){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(c)};CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var";
CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign";(function(){function c(b){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(c){if(c.editable().hasFocus){var e=c.getSelection(),g;if(g=(new CKEDITOR.dom.elementPath(e.getCommonAncestor(),e.root)).contains({td:1,th:1},1)){var e=c.createRange(),d=CKEDITOR.tools.tryThese(function(){var a=g.getParent().$.cells[g.$.cellIndex+(b?-1:1)];a.parentNode.parentNode;return a},function(){var a=g.getParent(),
a=a.getAscendant("table").$.rows[a.$.rowIndex+(b?-1:1)];return a.cells[b?a.cells.length-1:0]});if(d||b)if(d)d=new CKEDITOR.dom.element(d),e.moveToElementEditStart(d),e.checkStartOfBlock()&&e.checkEndOfBlock()||e.selectNodeContents(d);else return!0;else{for(var f=g.getAscendant("table").$,d=g.getParent().$.cells,f=new CKEDITOR.dom.element(f.insertRow(-1),c.document),a=0,n=d.length;a<n;a++)f.append((new CKEDITOR.dom.element(d[a],c.document)).clone(!1,!1)).appendBogus();e.moveToElementEditStart(f)}e.select(!0);
return!0}}return!1}}}var g={editorFocus:!1,modes:{wysiwyg:1,source:1}},e={exec:function(b){b.container.focusNext(!0,b.tabIndex)}},b={exec:function(b){b.container.focusPrevious(!0,b.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(h){for(var m=!1!==h.config.enableTabKeyTools,l=h.config.tabSpaces||0,k="";l--;)k+=" ";if(k)h.on("key",function(b){9==b.data.keyCode&&(h.insertText(k),b.cancel())});if(m)h.on("key",function(b){(9==b.data.keyCode&&h.execCommand("selectNextCell")||b.data.keyCode==CKEDITOR.SHIFT+
9&&h.execCommand("selectPreviousCell"))&&b.cancel()});h.addCommand("blur",CKEDITOR.tools.extend(e,g));h.addCommand("blurBack",CKEDITOR.tools.extend(b,g));h.addCommand("selectNextCell",c());h.addCommand("selectPreviousCell",c(!0))}})})();CKEDITOR.dom.element.prototype.focusNext=function(c,g){var e=void 0===g?this.getTabIndex():g,b,h,m,l,k,d;if(0>=e)for(k=this.getNextSourceNode(c,CKEDITOR.NODE_ELEMENT);k;){if(k.isVisible()&&0===k.getTabIndex()){m=k;break}k=k.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(k=
this.getDocument().getBody().getFirst();k=k.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!b)if(!h&&k.equals(this)){if(h=!0,c){if(!(k=k.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;b=1}}else h&&!this.contains(k)&&(b=1);if(k.isVisible()&&!(0>(d=k.getTabIndex()))){if(b&&d==e){m=k;break}d>e&&(!m||!l||d<l)?(m=k,l=d):m||0!==d||(m=k,l=d)}}m&&m.focus()};CKEDITOR.dom.element.prototype.focusPrevious=function(c,g){for(var e=void 0===g?this.getTabIndex():g,b,h,m,l=0,k,d=this.getDocument().getBody().getLast();d=
d.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!b)if(!h&&d.equals(this)){if(h=!0,c){if(!(d=d.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;b=1}}else h&&!this.contains(d)&&(b=1);if(d.isVisible()&&!(0>(k=d.getTabIndex())))if(0>=e){if(b&&0===k){m=d;break}k>l&&(m=d,l=k)}else{if(b&&k==e){m=d;break}k<e&&(!m||k>l)&&(m=d,l=k)}}m&&m.focus()};"use strict";(function(){function c(b,c){return CKEDITOR.tools.array.reduce(c,function(a,b){return b(a)},b)}var g=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,
CKEDITOR.CTRL+CKEDITOR.SHIFT+90],e={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(c){function f(a){e.enabled&&!1!==a.data.command.canUndo&&e.save()}function a(){e.enabled=c.readOnly?!1:"wysiwyg"==c.mode;e.onChange()}var e=c.undoManager=new b(c),h=e.editingHandler=new l(e),k=c.addCommand("undo",{exec:function(){e.undo()&&(c.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),m=c.addCommand("redo",{exec:function(){e.redo()&&(c.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,
canUndo:!1});c.setKeystroke([[g[0],"undo"],[g[1],"redo"],[g[2],"redo"]]);e.onChange=function(){k.setState(e.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);m.setState(e.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};c.on("beforeCommandExec",f);c.on("afterCommandExec",f);c.on("saveSnapshot",function(a){e.save(a.data&&a.data.contentOnly)});c.on("contentDom",h.attachListeners,h);c.on("instanceReady",function(){c.fire("saveSnapshot")});c.on("beforeModeUnload",function(){"wysiwyg"==
c.mode&&e.save(!0)});c.on("mode",a);c.on("readOnly",a);c.ui.addButton&&(c.ui.addButton("Undo",{label:c.lang.undo.undo,command:"undo",toolbar:"undo,10"}),c.ui.addButton("Redo",{label:c.lang.undo.redo,command:"redo",toolbar:"undo,20"}));c.resetUndo=function(){e.reset();c.fire("saveSnapshot")};c.on("updateSnapshot",function(){e.currentImage&&e.update()});c.on("lockSnapshot",function(a){a=a.data;e.lock(a&&a.dontUpdate,a&&a.forceUpdate)});c.on("unlockSnapshot",e.unlock,e)}});CKEDITOR.plugins.undo={};var b=
CKEDITOR.plugins.undo.UndoManager=function(b){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=b.config.undoStackSize||20;this.strokesLimit=25;this._filterRules=[];this.editor=b;this.reset();CKEDITOR.env.ie&&this.addFilterRule(function(b){return b.replace(/\s+data-cke-expando=".*?"/g,"")})};b.prototype={type:function(c,f){var a=b.getKeyGroup(c),e=this.strokesRecorded[a]+1;f=f||e>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());
f?(e=0,this.editor.fire("saveSnapshot")):this.editor.fire("change");this.strokesRecorded[a]=e;this.previousKeyGroup=a},keyGroupChanged:function(c){return b.getKeyGroup(c)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);
this.resetType();this.onChange()},save:function(b,c,a){var e=this.editor;if(this.locked||"ready"!=e.status||"wysiwyg"!=e.mode)return!1;var g=e.editable();if(!g||"ready"!=g.status)return!1;g=this.snapshots;c||(c=new h(e));if(!1===c.contents)return!1;if(this.currentImage)if(c.equalsContent(this.currentImage)){if(b||c.equalsSelection(this.currentImage))return!1}else!1!==a&&e.fire("change");g.splice(this.index+1,g.length-this.index-1);g.length==this.limit&&g.shift();this.index=g.push(c)-1;this.currentImage=
c;!1!==a&&this.refreshState();return!0},restoreImage:function(b){var c=this.editor,a;b.bookmarks&&(c.focus(),a=c.getSelection());this.locked={level:999};this.editor.loadSnapshot(b.contents);b.bookmarks?a.selectBookmarks(b.bookmarks):CKEDITOR.env.ie&&(a=this.editor.document.getBody().$.createTextRange(),a.collapse(!0),a.select());this.locked=null;this.index=b.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();c.fire("change")},getNextImage:function(b){var c=this.snapshots,
a=this.currentImage,e;if(a)if(b)for(e=this.index-1;0<=e;e--){if(b=c[e],!a.equalsContent(b))return b.index=e,b}else for(e=this.index+1;e<c.length;e++)if(b=c[e],!a.equalsContent(b))return b.index=e,b;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var b=this.getNextImage(!0);if(b)return this.restoreImage(b),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var b=
this.getNextImage(!1);if(b)return this.restoreImage(b),!0}return!1},update:function(b){if(!this.locked){b||(b=new h(this.editor));for(var c=this.index,a=this.snapshots;0<c&&this.currentImage.equalsContent(a[c-1]);)--c;a.splice(c,this.index-c+1,b);this.index=c;this.currentImage=b}},updateSelection:function(b){if(!this.snapshots.length)return!1;var c=this.snapshots,a=c[c.length-1];return a.equalsContent(b)&&!a.equalsSelection(b)?(this.currentImage=c[c.length-1]=b,!0):!1},lock:function(b,c){if(this.locked)this.locked.level++;
else if(b)this.locked={level:1};else{var a=null;if(c)a=!0;else{var e=new h(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(e)&&(a=e)}this.locked={update:a,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var b=this.locked.update;this.locked=null;if(!0===b)this.update();else if(b){var c=new h(this.editor,!0);b.equalsContent(c)||this.update()}}},addFilterRule:function(b){this._filterRules.push(b)}};b.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};b.keyGroups=
{PRINTABLE:0,FUNCTIONAL:1};b.isNavigationKey=function(c){return!!b.navigationKeyCodes[c]};b.getKeyGroup=function(c){var f=b.keyGroups;return e[c]?f.FUNCTIONAL:f.PRINTABLE};b.getOppositeKeyGroup=function(c){var f=b.keyGroups;return c==f.FUNCTIONAL?f.PRINTABLE:f.FUNCTIONAL};b.ieFunctionalKeysBug=function(c){return CKEDITOR.env.ie&&b.getKeyGroup(c)==b.keyGroups.FUNCTIONAL};var h=CKEDITOR.plugins.undo.Image=function(b,f){this.editor=b;b.fire("beforeUndoImage");var a=b.getSnapshot();a&&(this.contents=
c(a,b.undoManager._filterRules));f||(this.bookmarks=(a=a&&b.getSelection())&&a.createBookmarks2(!0));b.fire("afterUndoImage")},m=/\b(?:href|src|name)="[^"]*?"/gi;h.prototype={equalsContent:function(b){var c=this.contents;b=b.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(c=c.replace(m,""),b=b.replace(m,""));return c!=b?!1:!0},equalsSelection:function(b){var c=this.bookmarks;b=b.bookmarks;if(c||b){if(!c||!b||c.length!=b.length)return!1;for(var a=0;a<c.length;a++){var e=c[a],
g=b[a];if(e.startOffset!=g.startOffset||e.endOffset!=g.endOffset||!CKEDITOR.tools.arrayCompare(e.start,g.start)||!CKEDITOR.tools.arrayCompare(e.end,g.end))return!1}}return!0}};var l=CKEDITOR.plugins.undo.NativeEditingHandler=function(b){this.undoManager=b;this.ignoreInputEvent=!1;this.keyEventsStack=new k;this.lastKeydownImage=null};l.prototype={onKeydown:function(c){var f=c.data.getKey();if(229!==f)if(-1<CKEDITOR.tools.indexOf(g,c.data.getKeystroke()))c.data.preventDefault();else if(this.keyEventsStack.cleanUp(c),
c=this.undoManager,this.keyEventsStack.getLast(f)||this.keyEventsStack.push(f),this.lastKeydownImage=new h(c.editor),b.isNavigationKey(f)||this.undoManager.keyGroupChanged(f))if(c.strokesRecorded[0]||c.strokesRecorded[1])c.save(!1,this.lastKeydownImage,!1),c.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var b=this.keyEventsStack.getLast();b||(b=this.keyEventsStack.push(0));this.keyEventsStack.increment(b.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&
(this.undoManager.type(b.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(c){var f=this.undoManager;c=c.data.getKey();var a=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(c);if(!(b.ieFunctionalKeysBug(c)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new h(f.editor,!0))))if(0<a)f.type(c);else if(b.isNavigationKey(c))this.onNavigationKey(!0)},onNavigationKey:function(b){var c=this.undoManager;!b&&c.save(!0,null,!1)||c.updateSelection(new h(c.editor));
c.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var c=this.undoManager.editor,f=c.editable(),a=this;f.attachListener(f,"keydown",function(c){a.onKeydown(c);if(b.ieFunctionalKeysBug(c.data.getKey()))a.onInput()},null,null,999);f.attachListener(f,CKEDITOR.env.ie?"keypress":"input",a.onInput,a,null,999);f.attachListener(f,"keyup",a.onKeyup,a,null,999);f.attachListener(f,"paste",a.ignoreInputEventListener,
a,null,999);f.attachListener(f,"drop",a.ignoreInputEventListener,a,null,999);c.on("afterPaste",a.activateInputEventListener,a,null,999);f.attachListener(f.isInline()?f:c.document.getDocumentElement(),"click",function(){a.onNavigationKey()},null,null,999);f.attachListener(this.undoManager.editor,"blur",function(){a.keyEventsStack.remove(9)},null,null,999)}};var k=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};k.prototype={push:function(b){b=this.stack.push({keyCode:b,inputs:0});return this.stack[b-
1]},getLastIndex:function(b){if("number"!=typeof b)return this.stack.length-1;for(var c=this.stack.length;c--;)if(this.stack[c].keyCode==b)return c;return-1},getLast:function(b){b=this.getLastIndex(b);return-1!=b?this.stack[b]:null},increment:function(b){this.getLast(b).inputs++},remove:function(b){b=this.getLastIndex(b);-1!=b&&this.stack.splice(b,1)},resetInputs:function(b){if("number"==typeof b)this.getLast(b).inputs=0;else for(b=this.stack.length;b--;)this.stack[b].inputs=0},getTotalInputs:function(){for(var b=
this.stack.length,c=0;b--;)c+=this.stack[b].inputs;return c},cleanUp:function(b){b=b.data.$;b.ctrlKey||b.metaKey||this.remove(17);b.shiftKey||this.remove(16);b.altKey||this.remove(18)}}})();"use strict";(function(){function c(b,c){CKEDITOR.tools.extend(this,{editor:b,editable:b.editable(),doc:b.document,win:b.window},c,!0);this.inline=this.editable.isInline();this.inline||(this.frame=this.win.getFrame());this.target=this[this.inline?"editable":"doc"]}function g(b,c){CKEDITOR.tools.extend(this,c,{editor:b},
!0)}function e(b,c){var a=b.editable();CKEDITOR.tools.extend(this,{editor:b,editable:a,inline:a.isInline(),doc:b.document,win:b.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},c,!0);this.hidden={};this.visible={};this.inline||(this.frame=this.win.getFrame());this.queryViewport();var e=CKEDITOR.tools.bind(this.queryViewport,this),g=CKEDITOR.tools.bind(this.hideVisible,this),k=CKEDITOR.tools.bind(this.removeAll,this);a.attachListener(this.winTop,"resize",e);a.attachListener(this.winTop,
"scroll",e);a.attachListener(this.winTop,"resize",g);a.attachListener(this.win,"scroll",g);a.attachListener(this.inline?a:this.frame,"mouseout",function(a){var b=a.data.$.clientX;a=a.data.$.clientY;this.queryViewport();(b<=this.rect.left||b>=this.rect.right||a<=this.rect.top||a>=this.rect.bottom)&&this.hideVisible();(0>=b||b>=this.winTopPane.width||0>=a||a>=this.winTopPane.height)&&this.hideVisible()},this);a.attachListener(b,"resize",e);a.attachListener(b,"mode",k);b.on("destroy",k);this.lineTpl=
(new CKEDITOR.template('\x3cdiv data-cke-lineutils-line\x3d"1" class\x3d"cke_reset_all" style\x3d"{lineStyle}"\x3e\x3cspan style\x3d"{tipLeftStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3cspan style\x3d"{tipRightStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e')).output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},m,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},h,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,
!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},h,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function b(b){var c;if(c=b&&b.type==CKEDITOR.NODE_ELEMENT)c=!(l[b.getComputedStyle("float")]||l[b.getAttribute("align")]);return c&&!k[b.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils");CKEDITOR.LINEUTILS_BEFORE=1;CKEDITOR.LINEUTILS_AFTER=2;CKEDITOR.LINEUTILS_INSIDE=4;c.prototype={start:function(b){var c=
this,a=this.editor,e=this.doc,g,h,k,l,m=CKEDITOR.tools.eventsBuffer(50,function(){a.readOnly||"wysiwyg"!=a.mode||(c.relations={},(h=e.$.elementFromPoint(k,l))&&h.nodeType&&(g=new CKEDITOR.dom.element(h),c.traverseSearch(g),isNaN(k+l)||c.pixelSearch(g,k,l),b&&b(c.relations,k,l)))});this.listener=this.editable.attachListener(this.target,"mousemove",function(a){k=a.data.$.clientX;l=a.data.$.clientY;m.input()});this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){m.reset()})},
stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var b={};b[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START;b[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END;b[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START;return function(c){var a=this.editor.createRange();a.moveToPosition(this.relations[c.uid].element,b[c.type]);return a}}(),store:function(){function c(b,a,d){var e=b.getUniqueId();e in d?d[e].type|=a:d[e]={element:b,type:a}}return function(f,
a){var e;a&CKEDITOR.LINEUTILS_AFTER&&b(e=f.getNext())&&e.isVisible()&&(c(e,CKEDITOR.LINEUTILS_BEFORE,this.relations),a^=CKEDITOR.LINEUTILS_AFTER);a&CKEDITOR.LINEUTILS_INSIDE&&b(e=f.getFirst())&&e.isVisible()&&(c(e,CKEDITOR.LINEUTILS_BEFORE,this.relations),a^=CKEDITOR.LINEUTILS_INSIDE);c(f,a,this.relations)}}(),traverseSearch:function(c){var f,a,e;do if(e=c.$["data-cke-expando"],!(e&&e in this.relations)){if(c.equals(this.editable))break;if(b(c))for(f in this.lookups)(a=this.lookups[f](c))&&this.store(c,
a)}while((!c||c.type!=CKEDITOR.NODE_ELEMENT||"true"!=c.getAttribute("contenteditable"))&&(c=c.getParent()))},pixelSearch:function(){function c(a,d,e,g,h){for(var k=0,l;h(e);){e+=g;if(25==++k)break;if(l=this.doc.$.elementFromPoint(d,e))if(l==a)k=0;else if(f(a,l)&&(k=0,b(l=new CKEDITOR.dom.element(l))))return l}}var f=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a,b){return a.contains(b)}:function(a,b){return!!(a.compareDocumentPosition(b)&16)};return function(a,f,e){var g=this.win.getViewPaneSize().height,
h=c.call(this,a.$,f,e,-1,function(a){return 0<a});f=c.call(this,a.$,f,e,1,function(a){return a<g});if(h)for(this.traverseSearch(h);!h.getParent().equals(a);)h=h.getParent();if(f)for(this.traverseSearch(f);!f.getParent().equals(a);)f=f.getParent();for(;h||f;){h&&(h=h.getNext(b));if(!h||h.equals(f))break;this.traverseSearch(h);f&&(f=f.getPrevious(b));if(!f||f.equals(h))break;this.traverseSearch(f)}}}(),greedySearch:function(){this.relations={};for(var c=this.editable.getElementsByTag("*"),f=0,a,e,g;a=
c.getItem(f++);)if(!a.equals(this.editable)&&a.type==CKEDITOR.NODE_ELEMENT&&(a.hasAttribute("contenteditable")||!a.isReadOnly())&&b(a)&&a.isVisible())for(g in this.lookups)(e=this.lookups[g](a))&&this.store(a,e);return this.relations}};g.prototype={locate:function(){function c(d,a){var e=d.element[a===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return e&&b(e)?(d.siblingRect=e.getClientRect(),a==CKEDITOR.LINEUTILS_BEFORE?(d.siblingRect.bottom+d.elementRect.top)/2:(d.elementRect.bottom+d.siblingRect.top)/
2):a==CKEDITOR.LINEUTILS_BEFORE?d.elementRect.top:d.elementRect.bottom}return function(b){var a;this.locations={};for(var e in b)a=b[e],a.elementRect=a.element.getClientRect(),a.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(e,CKEDITOR.LINEUTILS_BEFORE,c(a,CKEDITOR.LINEUTILS_BEFORE)),a.type&CKEDITOR.LINEUTILS_AFTER&&this.store(e,CKEDITOR.LINEUTILS_AFTER,c(a,CKEDITOR.LINEUTILS_AFTER)),a.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(e,CKEDITOR.LINEUTILS_INSIDE,(a.elementRect.top+a.elementRect.bottom)/2);return this.locations}}(),
sort:function(){var b,c,a,e;return function(g,h){b=this.locations;c=[];for(var k in b)for(var l in b[k])if(a=Math.abs(g-b[k][l]),c.length){for(e=0;e<c.length;e++)if(a<c[e].dist){c.splice(e,0,{uid:+k,type:l,dist:a});break}e==c.length&&c.push({uid:+k,type:l,dist:a})}else c.push({uid:+k,type:l,dist:a});return"undefined"!=typeof h?c.slice(0,h):c}}(),store:function(b,c,a){this.locations[b]||(this.locations[b]={});this.locations[b][c]=a}};var h={display:"block",width:"0px",height:"0px","border-color":"transparent",
"border-style":"solid",position:"absolute",top:"-6px"},m={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};e.prototype={removeAll:function(){for(var b in this.hidden)this.hidden[b].remove(),delete this.hidden[b];for(b in this.visible)this.visible[b].remove(),delete this.visible[b]},hideLine:function(b){var c=b.getUniqueId();b.hide();this.hidden[c]=b;delete this.visible[c]},showLine:function(b){var c=b.getUniqueId();b.show();this.visible[c]=b;delete this.hidden[c]},hideVisible:function(){for(var b in this.visible)this.hideLine(this.visible[b])},
placeLine:function(b,c){var a,e,g;if(a=this.getStyle(b.uid,b.type)){for(g in this.visible)if(this.visible[g].getCustomData("hash")!==this.hash){e=this.visible[g];break}if(!e)for(g in this.hidden)if(this.hidden[g].getCustomData("hash")!==this.hash){this.showLine(e=this.hidden[g]);break}e||this.showLine(e=this.addLine());e.setCustomData("hash",this.hash);this.visible[e.getUniqueId()]=e;e.setStyles(a);c&&c(e)}},getStyle:function(b,c){var a=this.relations[b],e=this.locations[b][c],g={};g.width=a.siblingRect?
Math.max(a.siblingRect.width,a.elementRect.width):a.elementRect.width;g.top=this.inline?e+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+e;if(g.top-this.winTopScroll.y<this.rect.top||g.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?g.left=a.elementRect.left-this.rect.relativeX:(0<a.elementRect.left?g.left=this.rect.left+a.elementRect.left:(g.width+=a.elementRect.left,g.left=this.rect.left),0<(a=g.left+g.width-(this.rect.left+this.winPane.width))&&(g.width-=
a));g.left+=this.winTopScroll.x;for(var h in g)g[h]=CKEDITOR.tools.cssLength(g[h]);return g},addLine:function(){var b=CKEDITOR.dom.element.createFromHtml(this.lineTpl);b.appendTo(this.container);return b},prepare:function(b,c){this.relations=b;this.locations=c;this.hash=Math.random()},cleanup:function(){var b,c;for(c in this.visible)b=this.visible[c],b.getCustomData("hash")!==this.hash&&this.hideLine(b)},queryViewport:function(){this.winPane=this.win.getViewPaneSize();this.winTopScroll=this.winTop.getScrollPosition();
this.winTopPane=this.winTop.getViewPaneSize();this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(b){b=b.getClientRect();var c=this.container.getDocumentPosition(),a=this.container.getComputedStyle("position");b.relativeX=b.relativeY=0;"static"!=a&&(b.relativeY=c.y,b.relativeX=c.x,b.top-=b.relativeY,b.bottom-=b.relativeY,b.left-=b.relativeX,b.right-=b.relativeX);return b}};var l={left:1,right:1,center:1},k={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:c,
locator:g,liner:e}})();(function(){function c(c){return c.getName&&!c.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(c){if(CKEDITOR.env.webkit){var e=CKEDITOR.plugins.widgetselection;c.on("contentDom",function(b){b=b.editor;var c=b.editable();c.attachListener(c,"keydown",function(b){b.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){e.addFillers(c)||e.removeFillers(c)},0)},null,null,-1);b.on("selectionCheck",function(b){e.removeFillers(b.editor.editable())});
b.on("paste",function(b){b.data.dataValue=e.cleanPasteData(b.data.dataValue)});"selectall"in b.plugins&&e.addSelectAllIntegration(b)})}}});CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"\x26nbsp;",fillerTagName:"div",addFillers:function(g){var e=g.editor;if(!this.isWholeContentSelected(g)&&0<g.getChildCount()){var b=g.getFirst(c),h=g.getLast(c);b&&b.type==CKEDITOR.NODE_ELEMENT&&!b.isEditable()&&(this.startFiller=this.createFiller(),
g.append(this.startFiller,1));h&&h.type==CKEDITOR.NODE_ELEMENT&&!h.isEditable()&&(this.endFiller=this.createFiller(!0),g.append(this.endFiller,0));if(this.hasFiller(g))return e=e.createRange(),e.selectNodeContents(g),e.select(),!0}return!1},removeFillers:function(c){if(this.hasFiller(c)&&!this.isWholeContentSelected(c)){var e=c.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dstart]"),b=c.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dend]");this.startFiller&&e&&this.startFiller.equals(e)?
this.removeFiller(this.startFiller,c):this.startFiller=e;this.endFiller&&b&&this.endFiller.equals(b)?this.removeFiller(this.endFiller,c):this.endFiller=b}},cleanPasteData:function(c){c&&c.length&&(c=c.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),""));return c},isWholeContentSelected:function(c){var e=c.editor.getSelection().getRanges()[0];return!e||e&&e.collapsed?!1:(e=e.clone(),e.enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(e&&c&&e.startContainer&&e.endContainer&&0===e.startOffset&&
e.endOffset===c.getChildCount()&&e.startContainer.equals(c)&&e.endContainer.equals(c)))},hasFiller:function(c){return 0<c.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(c){var e=new CKEDITOR.dom.element(this.fillerTagName);e.setHtml(this.fillerContent);e.setAttribute(this.fillerAttribute,c?"end":"start");e.setAttribute("data-cke-temp",1);e.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,
overflow:"hidden"});return e},removeFiller:function(c,e){if(c){var b=e.editor,h=e.editor.getSelection().getRanges()[0].startPath(),m=b.createRange(),l,k;h.contains(c)&&(l=c.getHtml(),k=!0);h="start"==c.getAttribute(this.fillerAttribute);c.remove();l&&0<l.length&&l!=this.fillerContent?(e.insertHtmlIntoRange(l,b.getSelection().getRanges()[0]),m.setStartAt(e.getChild(e.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),b.getSelection().selectRanges([m])):k&&(h?m.setStartAt(e.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):
m.setEndAt(e.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),e.editor.getSelection().selectRanges([m]))}},createFillerRegex:function(c){var e=this.createFiller(c).getOuterHtml().replace(/style="[^"]*"/gi,'style\x3d"[^"]*"').replace(/>[^<]*</gi,"\x3e[^\x3c]*\x3c");return new RegExp((c?"":"^")+e+(c?"$":""))},addSelectAllIntegration:function(c){var e=this;c.editable().attachListener(c,"beforeCommandExec",function(b){var h=c.editable();"selectAll"==b.data.name&&h&&e.addFillers(h)},null,null,9999)}}})();
"use strict";(function(){function c(a){this.editor=a;this.registered={};this.instances={};this.selected=[];this.widgetHoldingFocusedEditable=this.focused=null;this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}};H(this);C(this);this.on("checkWidgets",l);this.editor.on("contentDomInvalidated",this.checkWidgets,this);y(this);w(this);v(this);B(this);F(this)}function g(a,b,c,d,e){var f=a.editor;CKEDITOR.tools.extend(this,d,{editor:f,id:b,inline:"span"==c.getParent().getName(),element:c,data:CKEDITOR.tools.extend({},
"function"==typeof d.defaults?d.defaults():d.defaults),dataReady:!1,inited:!1,ready:!1,edit:g.prototype.edit,focusedEditable:null,definition:d,repository:a,draggable:!1!==d.draggable,_:{downcastFn:d.downcast&&"string"==typeof d.downcast?d.downcasts[d.downcast]:d.downcast}},!0);a.fire("instanceCreated",this);J(this,d);this.init&&this.init();this.inited=!0;(a=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(a)));e&&this.setData(e);this.data.classes||this.setData("classes",
this.getClasses());this.dataReady=!0;da(this);this.fire("data",this.data);this.isInited()&&f.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function e(a,b,c){CKEDITOR.dom.element.call(this,b.$);this.editor=a;this._={};b=this.filter=c.filter;CKEDITOR.dtd[this.getName()].p?(this.enterMode=b?b.getAllowedEnterMode(a.enterMode):a.enterMode,this.shiftEnterMode=b?b.getAllowedEnterMode(a.shiftEnterMode,!0):a.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function b(a,
b){a.addCommand(b.name,{exec:function(a,c){function d(){a.widgets.finalizeCreation(h)}var e=a.widgets.focused;if(e&&e.name==b.name)e.edit();else if(b.insert)b.insert({editor:a,commandData:c});else if(b.template){var e="function"==typeof b.defaults?b.defaults():b.defaults,e=CKEDITOR.dom.element.createFromHtml(b.template.output(e),a.document),f,g=a.widgets.wrapElement(e,b.name),h=new CKEDITOR.dom.documentFragment(g.getDocument());h.append(g);(f=a.widgets.initOn(e,b,c&&c.startupData))?(e=f.once("edit",
function(b){if(b.data.dialog)f.once("dialog",function(b){b=b.data;var c,e;c=b.once("ok",d,null,null,20);e=b.once("cancel",function(b){b.data&&!1===b.data.hide||a.widgets.destroy(f,!0)});b.once("hide",function(){c.removeListener();e.removeListener()})});else d()},null,null,999),f.edit(),e.removeListener()):d()}},allowedContent:b.allowedContent,requiredContent:b.requiredContent,contentForms:b.contentForms,contentTransformations:b.contentTransformations})}function h(a,b){function c(a,d){var e=b.upcast.split(","),
f,g;for(g=0;g<e.length;g++)if(f=e[g],f===a.name)return b.upcasts[f].call(this,a,d);return!1}function d(b,c,e){var f=CKEDITOR.tools.getIndex(a._.upcasts,function(a){return a[2]>e});0>f&&(f=a._.upcasts.length);a._.upcasts.splice(f,0,[CKEDITOR.tools.bind(b,c),c.name,e])}var e=b.upcast,f=b.upcastPriority||10;e&&("string"==typeof e?d(c,b,f):d(e,b,f))}function m(a,b){a.focused=null;if(b.isInited()){var c=b.editor.checkDirty();a.fire("widgetBlurred",{widget:b});b.setFocused(!1);!c&&b.editor.resetDirty()}}
function l(a){a=a.data;if("wysiwyg"==this.editor.mode){var b=this.editor.editable(),c=this.instances,d,e,f,h;if(b){for(d in c)c[d].isReady()&&!b.contains(c[d].wrapper)&&this.destroy(c[d],!0);if(a&&a.initOnlyNew)c=this.initOnAll();else{var k=b.find(".cke_widget_wrapper"),c=[];d=0;for(e=k.count();d<e;d++){f=k.getItem(d);if(h=!this.getByElement(f,!0)){a:{h=q;for(var l=f;l=l.getParent();)if(h(l)){h=!0;break a}h=!1}h=!h}h&&b.contains(f)&&(f.addClass("cke_widget_new"),c.push(this.initOn(f.getFirst(g.isDomWidgetElement))))}}a&&
a.focusInited&&1==c.length&&c[0].focus()}}}function k(a){if("undefined"!=typeof a.attributes&&a.attributes["data-widget"]){var b=d(a),c=f(a),e=!1;b&&b.value&&b.value.match(/^\s/g)&&(b.parent.attributes["data-cke-white-space-first"]=1,b.value=b.value.replace(/^\s/g,"\x26nbsp;"),e=!0);c&&c.value&&c.value.match(/\s$/g)&&(c.parent.attributes["data-cke-white-space-last"]=1,c.value=c.value.replace(/\s$/g,"\x26nbsp;"),e=!0);e&&(a.attributes["data-cke-widget-white-space"]=1)}}function d(a){return a.find(function(a){return 3===
a.type},!0).shift()}function f(a){return a.find(function(a){return 3===a.type},!0).pop()}function a(a,b,c){if(!c.allowedContent&&!c.disallowedContent)return null;var d=this._.filters[a];d||(this._.filters[a]=d={});a=d[b];a||(a=c.allowedContent?new CKEDITOR.filter(c.allowedContent):this.editor.filter.clone(),d[b]=a,c.disallowedContent&&a.disallow(c.disallowedContent));return a}function n(a){var b=[],c=a._.upcasts,d=a._.upcastCallbacks;return{toBeWrapped:b,iterator:function(a){var e,f,h,k,l;if("data-cke-widget-wrapper"in
a.attributes)return(a=a.getFirst(g.isParserWidgetElement))&&b.push([a]),!1;if("data-widget"in a.attributes)return b.push([a]),!1;if(l=c.length){if(a.attributes["data-cke-widget-upcasted"])return!1;k=0;for(e=d.length;k<e;++k)if(!1===d[k](a))return;for(k=0;k<l;++k)if(e=c[k],h={},f=e[0](a,h))return f instanceof CKEDITOR.htmlParser.element&&(a=f),a.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(h)),a.attributes["data-cke-widget-upcasted"]=1,b.push([a,e[1]]),!1}}}}function r(a,b){return{tabindex:-1,
contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off","class":"cke_widget_wrapper cke_widget_new cke_widget_"+(a?"inline":"block")+(b?" cke_widget_"+b:"")}}function x(a,b,c){if(a.type==CKEDITOR.NODE_ELEMENT){var d=CKEDITOR.dtd[a.name];if(d&&!d[c.name]){var d=a.split(b),e=a.parent;b=d.getIndex();a.children.length||(--b,a.remove());d.children.length||d.remove();return x(e,b,c)}}a.add(c,b)}function p(a,b){return"boolean"==typeof a.inline?a.inline:!!CKEDITOR.dtd.$inline[b]}function q(a){return a.hasAttribute("data-cke-temp")}
function u(a,b,c,d){var e=a.editor;e.fire("lockSnapshot");c?(d=c.data("cke-widget-editable"),d=b.editables[d],a.widgetHoldingFocusedEditable=b,b.focusedEditable=d,c.addClass("cke_widget_editable_focused"),d.filter&&e.setActiveFilter(d.filter),e.setActiveEnterMode(d.enterMode,d.shiftEnterMode)):(d||b.focusedEditable.removeClass("cke_widget_editable_focused"),b.focusedEditable=null,a.widgetHoldingFocusedEditable=null,e.setActiveFilter(null),e.setActiveEnterMode(null,null));e.fire("unlockSnapshot")}
function z(a){a.contextMenu&&a.contextMenu.addListener(function(b){if(b=a.widgets.getByElement(b,!0))return b.fire("contextMenu",{})})}function t(a,b){return CKEDITOR.tools.trim(b)}function B(a){var b=a.editor,c=CKEDITOR.plugins.lineutils;b.on("dragstart",function(c){var d=c.data.target;g.isDomDragHandler(d)&&(d=a.getByElement(d),c.data.dataTransfer.setData("cke/widget-id",d.id),b.focus(),d.focus())});b.on("drop",function(c){var d=c.data.dataTransfer,e=d.getData("cke/widget-id"),f=d.getTransferType(b),
d=b.createRange();if(""!==e&&f===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS)c.cancel();else if(f==CKEDITOR.DATA_TRANSFER_INTERNAL)if(""===e&&0<b.widgets.selected.length)c.data.dataTransfer.setData("text/html",N(b));else if(e=a.instances[e])d.setStartBefore(e.wrapper),d.setEndAfter(e.wrapper),c.data.dragRange=d,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,c.data.dataTransfer.setData("text/html",e.getClipboardHtml()),b.widgets.destroy(e,
!0)});b.on("contentDom",function(){var d=b.editable();CKEDITOR.tools.extend(a,{finder:new c.finder(b,{lookups:{"default":function(b){if(!b.is(CKEDITOR.dtd.$listItem)&&b.is(CKEDITOR.dtd.$block)&&!g.isDomNestedEditable(b)&&!a._.draggedWidget.wrapper.contains(b)){var c=g.getNestedEditable(d,b);if(c){b=a._.draggedWidget;if(a.getByElement(c)==b)return;c=CKEDITOR.filter.instances[c.data("cke-filter")];b=b.requiredContent;if(c&&b&&!c.check(b))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),
locator:new c.locator(b),liner:new c.liner(b,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}function w(a){var b=a.editor;b.on("contentDom",function(){var c=b.editable(),d=c.isInline()?c:b.document,e,f;c.attachListener(d,"mousedown",function(c){var d=c.data.getTarget();e=d instanceof CKEDITOR.dom.element?a.getByElement(d):null;f=0;e&&(e.inline&&d.type==CKEDITOR.NODE_ELEMENT&&d.hasAttribute("data-cke-widget-drag-handler")?
(f=1,a.focused!=e&&b.getSelection().removeAllRanges()):g.getNestedEditable(e.wrapper,d)?e=null:(c.data.preventDefault(),CKEDITOR.env.ie||e.focus()))});c.attachListener(d,"mouseup",function(){f&&e&&e.wrapper&&(f=0,e.focus())});CKEDITOR.env.ie&&c.attachListener(d,"mouseup",function(){setTimeout(function(){e&&e.wrapper&&c.contains(e.wrapper)&&(e.focus(),e=null)})})});b.on("doubleclick",function(b){var c=a.getByElement(b.data.element);if(c&&!g.getNestedEditable(c.wrapper,b.data.element))return c.fire("doubleclick",
{element:b.data.element})},null,null,1)}function v(a){a.editor.on("key",function(b){var c=a.focused,d=a.widgetHoldingFocusedEditable,e;c?e=c.fire("key",{keyCode:b.data.keyCode}):d&&(c=b.data.keyCode,b=d.focusedEditable,c==CKEDITOR.CTRL+65?(c=b.getBogus(),d=d.editor.createRange(),d.selectNodeContents(b),c&&d.setEndAt(c,CKEDITOR.POSITION_BEFORE_START),d.select(),e=!1):8==c||46==c?(e=d.editor.getSelection().getRanges(),d=e[0],e=!(1==e.length&&d.collapsed&&d.checkBoundaryOfElement(b,CKEDITOR[8==c?"START":
"END"]))):e=void 0);return e},null,null,1)}function F(a){function b(d){1>a.selected.length||O(c,"cut"===d.name)}var c=a.editor;c.on("contentDom",function(){var a=c.editable();a.attachListener(a,"copy",b);a.attachListener(a,"cut",b)})}function y(a){function b(){var a=e.getSelection();if(a&&(a=a.getRanges()[0])&&!a.collapsed){var d=c(a.startContainer),f=c(a.endContainer);!d&&f?(a.setEndBefore(f.wrapper),a.select()):d&&!f&&(a.setStartAfter(d.wrapper),a.select())}}function c(a){return a?a.type==CKEDITOR.NODE_TEXT?
c(a.getParent()):e.widgets.getByElement(a):null}function d(){a.fire("checkSelection")}var e=a.editor;e.on("selectionCheck",d);e.on("contentDom",function(){e.editable().attachListener(e,"key",function(){setTimeout(d,10)})});if(!CKEDITOR.env.ie)a.on("checkSelection",b);a.on("checkSelection",a.checkSelection,a);e.on("selectionChange",function(b){var c=(b=g.getNestedEditable(e.editable(),b.data.selection.getStartElement()))&&a.getByElement(b),d=a.widgetHoldingFocusedEditable;d?d===c&&d.focusedEditable.equals(b)||
(u(a,d,null),c&&b&&u(a,c,b)):c&&b&&u(a,c,b)});e.on("dataReady",function(){G(a).commit()});e.on("blur",function(){var b;(b=a.focused)&&m(a,b);(b=a.widgetHoldingFocusedEditable)&&u(a,b,null)})}function C(a){var b=a.editor,c={};b.on("toDataFormat",function(b){var e=CKEDITOR.tools.getNextNumber(),h=[];b.data.downcastingSessionId=e;c[e]=h;b.data.dataValue.forEach(function(b){var c=b.attributes,e;if("data-cke-widget-white-space"in c){e=d(b);var k=f(b);e.parent.attributes["data-cke-white-space-first"]&&
(e.value=e.value.replace(/^&nbsp;/g," "));k.parent.attributes["data-cke-white-space-last"]&&(k.value=k.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in c){if(c=a.instances[c["data-cke-widget-id"]])e=b.getFirst(g.isParserWidgetElement),h.push({wrapper:b,element:e,widget:c,editables:{}}),"1"!=e.attributes["data-cke-widget-keep-attr"]&&delete e.attributes["data-widget"]}else if("data-cke-widget-editable"in c)return 0<h.length&&(h[h.length-1].editables[c["data-cke-widget-editable"]]=b),!1},CKEDITOR.NODE_ELEMENT,
!0)},null,null,8);b.on("toDataFormat",function(a){if(a.data.downcastingSessionId)for(var b=c[a.data.downcastingSessionId],d,e,f,g,h,k;d=b.shift();){e=d.widget;f=d.element;g=e._.downcastFn&&e._.downcastFn.call(e,f);a.data.widgetsCopy&&e.getClipboardHtml&&(g=CKEDITOR.htmlParser.fragment.fromHtml(e.getClipboardHtml()),g=g.children[0]);for(k in d.editables)h=d.editables[k],delete h.attributes.contenteditable,h.setHtml(e.editables[k].getData());g||(g=f);d.wrapper.replaceWith(g)}},null,null,13);b.on("contentDomUnload",
function(){a.destroyAll(!0)})}function H(a){var b=a.editor,c,d;b.on("toHtml",function(b){var d=n(a),e;for(b.data.dataValue.forEach(d.iterator,CKEDITOR.NODE_ELEMENT,!0);e=d.toBeWrapped.pop();){var f=e[0],h=f.parent;h.type==CKEDITOR.NODE_ELEMENT&&h.attributes["data-cke-widget-wrapper"]&&h.replaceWith(f);a.wrapElement(e[0],e[1])}c=b.data.protectedWhitespaces?3==b.data.dataValue.children.length&&g.isParserWidgetWrapper(b.data.dataValue.children[1]):1==b.data.dataValue.children.length&&g.isParserWidgetWrapper(b.data.dataValue.children[0])},
null,null,8);b.on("dataReady",function(){if(d)for(var c=b.editable().find(".cke_widget_wrapper"),e,f,h=0,k=c.count();h<k;++h)e=c.getItem(h),f=e.getFirst(g.isDomWidgetElement),f.type==CKEDITOR.NODE_ELEMENT&&f.data("widget")?(f.replace(e),a.wrapElement(f)):e.remove();d=0;a.destroyAll(!0);a.initOnAll()});b.on("loadSnapshot",function(b){/data-cke-widget/.test(b.data)&&(d=1);a.destroyAll(!0)},null,null,9);b.on("paste",function(a){a=a.data;a.dataValue=a.dataValue.replace(Q,t);a.range&&(a=g.getNestedEditable(b.editable(),
a.range.startContainer))&&(a=CKEDITOR.filter.instances[a.data("cke-filter")])&&b.setActiveFilter(a)});b.on("afterInsertHtml",function(d){d.data.intoRange?a.checkWidgets({initOnlyNew:!0}):(b.fire("lockSnapshot"),a.checkWidgets({initOnlyNew:!0,focusInited:c}),b.fire("unlockSnapshot"))})}function G(a){var b=a.selected,c=[],d=b.slice(0),e=null;return{select:function(a){0>CKEDITOR.tools.indexOf(b,a)&&c.push(a);a=CKEDITOR.tools.indexOf(d,a);0<=a&&d.splice(a,1);return this},focus:function(a){e=a;return this},
commit:function(){var f=a.focused!==e,g,h;a.editor.fire("lockSnapshot");for(f&&(g=a.focused)&&m(a,g);g=d.pop();)b.splice(CKEDITOR.tools.indexOf(b,g),1),g.isInited()&&(h=g.editor.checkDirty(),g.setSelected(!1),!h&&g.editor.resetDirty());f&&e&&(h=a.editor.checkDirty(),a.focused=e,a.fire("widgetFocused",{widget:e}),e.setFocused(!0),!h&&a.editor.resetDirty());for(;g=c.pop();)b.push(g),g.setSelected(!0);a.editor.fire("unlockSnapshot")}}}function L(a){a&&a.addFilterRule(function(a){return a.replace(/\s*cke_widget_selected/g,
"").replace(/\s*cke_widget_focused/g,"").replace(/<span[^>]*cke_widget_drag_handler_container[^>]*.*?<\/span>/gmi,"")})}function E(a,b,c){var d=0;b=K(b);var e=a.data.classes||{},f;if(b){for(e=CKEDITOR.tools.clone(e);f=b.pop();)c?e[f]||(d=e[f]=1):e[f]&&(delete e[f],d=1);d&&a.setData("classes",e)}}function D(a){a.cancel()}function O(a,b){var c=a.widgets.focused,d,e,f;R.hasCopyBin(a)||(e=new R(a,{beforeDestroy:function(){!b&&c&&c.focus();f&&a.getSelection().selectBookmarks(f);d&&CKEDITOR.plugins.widgetselection.addFillers(a.editable())},
afterDestroy:function(){b&&!a.readOnly&&(c?a.widgets.del(c):a.extractSelectedHtml(),a.fire("saveSnapshot"))}}),c||(d=CKEDITOR.env.webkit&&CKEDITOR.plugins.widgetselection.isWholeContentSelected(a.editable()),f=a.getSelection().createBookmarks(!0)),e.handle(N(a)))}function K(a){return(a=(a=a.getDefinition().attributes)&&a["class"])?a.split(/\s+/):null}function M(){var a=CKEDITOR.document.getActive(),b=this.editor,c=b.editable();(c.isInline()?c:b.document.getWindow().getFrame()).equals(a)&&b.focusManager.focus(c)}
function A(){CKEDITOR.env.gecko&&this.editor.unlockSelection();CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function N(a){var b=a.getSelectedHtml(!0);if(a.widgets.focused)return a.widgets.focused.getClipboardHtml();a.once("toDataFormat",function(a){a.data.widgetsCopy=!0},null,null,-1);return a.dataProcessor.toDataFormat(b)}function J(a,b){I(a);ea(a);U(a);Y(a);ia(a);ba(a);X(a);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)a.wrapper.on("dragstart",function(b){var c=
b.data.getTarget();g.getNestedEditable(a,c)||a.inline&&g.isDomDragHandler(c)||b.data.preventDefault()});a.wrapper.removeClass("cke_widget_new");a.element.addClass("cke_widget_element");a.on("key",function(b){b=b.data.keyCode;if(13==b)a.edit();else{if(b==CKEDITOR.CTRL+67||b==CKEDITOR.CTRL+88){O(a.editor,b==CKEDITOR.CTRL+88);return}if(b in S||CKEDITOR.CTRL&b||CKEDITOR.ALT&b)return}return!1},null,null,999);a.on("doubleclick",function(b){a.edit()&&b.cancel()});if(b.data)a.on("data",b.data);if(b.edit)a.on("edit",
b.edit)}function I(a){(a.wrapper=a.element.getParent()).setAttribute("data-cke-widget-id",a.id)}function ea(a,b){a.partSelectors||(a.partSelectors=a.parts);if(a.parts){var c={},d,e;for(e in a.partSelectors)b||!a.parts[e]||"string"==typeof a.parts[e]?(d=a.wrapper.findOne(a.partSelectors[e]),c[e]=d):c[e]=a.parts[e];a.parts=c}}function U(a){var b=a.editables,c,d;a.editables={};if(a.editables)for(c in b)d=b[c],a.initEditable(c,"string"==typeof d?{selector:d}:d)}function Y(a){if(!0===a.mask)ha(a);else if(a.mask){var b=
new CKEDITOR.tools.buffers.throttle(250,W,a),c=CKEDITOR.env.gecko?300:0,d,e;a.on("focus",function(){b.input();d=a.editor.on("change",b.input);e=a.on("blur",function(){d.removeListener();e.removeListener()})});a.editor.on("instanceReady",function(){setTimeout(function(){b.input()},c)});a.editor.on("mode",function(){setTimeout(function(){b.input()},c)});if(CKEDITOR.env.gecko){var f=a.element.find("img");CKEDITOR.tools.array.forEach(f.toArray(),function(a){a.on("load",function(){b.input()})})}for(var g in a.editables)a.editables[g].on("focus",
function(){a.editor.on("change",b.input);e&&e.removeListener()}),a.editables[g].on("blur",function(){a.editor.removeListener("change",b.input)});b.input()}}function ha(a){var b=a.wrapper.findOne(".cke_widget_mask");b||(b=new CKEDITOR.dom.element("img",a.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_mask"}),a.wrapper.append(b));a.mask=b}function W(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var a=this.parts[this.maskPart],b;if(a&&
"string"!=typeof a){b=this.wrapper.findOne(".cke_widget_partial_mask");b||(b=new CKEDITOR.dom.element("img",this.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_partial_mask"}),this.wrapper.append(b));this.mask=b;var c=b.$,d=a.$,e=!(c.offsetTop==d.offsetTop&&c.offsetLeft==d.offsetLeft);if(c.offsetWidth!=d.offsetWidth||c.offsetHeight!=d.offsetHeight||e)c=a.getParent(),d=CKEDITOR.plugins.widget.isDomWidget(c),b.setStyles({top:a.$.offsetTop+(d?
0:c.$.offsetTop)+"px",left:a.$.offsetLeft+(d?0:c.$.offsetLeft)+"px",width:a.$.offsetWidth+"px",height:a.$.offsetHeight+"px"})}}}function ia(a){if(a.draggable){var b=a.editor,c=a.wrapper.getLast(g.isDomDragHandlerContainer),d;c?d=c.findOne("img"):(c=new CKEDITOR.dom.element("span",b.document),c.setAttributes({"class":"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+b.plugins.widget.path+"images/handle.png);display:none;"}),d=new CKEDITOR.dom.element("img",
b.document),d.setAttributes({"class":"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:b.lang.widget.move,height:15,role:"presentation"}),a.inline&&d.setAttribute("draggable","true"),c.append(d),a.wrapper.append(c));a.wrapper.on("dragover",function(a){a.data.preventDefault()});a.wrapper.on("mouseenter",a.updateDragHandlerPosition,a);setTimeout(function(){a.on("data",a.updateDragHandlerPosition,a)},50);if(!a.inline&&(d.on("mousedown",
ja,a),CKEDITOR.env.ie&&9>CKEDITOR.env.version))d.on("dragstart",function(a){a.data.preventDefault(!0)});a.dragHandlerContainer=c}}function ja(a){function b(){var c;for(p.reset();c=h.pop();)c.removeListener();var d=k;c=a.sender;var e=this.repository.finder,f=this.repository.liner,g=this.editor,l=this.editor.editable();CKEDITOR.tools.isEmpty(f.visible)||(d=e.getRange(d[0]),this.focus(),g.fire("drop",{dropRange:d,target:d.startContainer}));l.removeClass("cke_widget_dragging");f.hideVisible();g.fire("dragend",
{target:c})}if(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT){var c=this.repository.finder,d=this.repository.locator,e=this.repository.liner,f=this.editor,g=f.editable(),h=[],k=[],l,m;this.repository._.draggedWidget=this;var n=c.greedySearch(),p=CKEDITOR.tools.eventsBuffer(50,function(){l=d.locate(n);k=d.sort(m,1);k.length&&(e.prepare(n,l),e.placeLine(k[0]),e.cleanup())});g.addClass("cke_widget_dragging");h.push(g.on("mousemove",function(a){m=a.data.$.clientY;p.input()}));f.fire("dragstart",
{target:a.sender});h.push(f.document.once("mouseup",b,this));g.isInline()||h.push(CKEDITOR.document.once("mouseup",b,this))}}function ba(a){var b=null;a.on("data",function(){var a=this.data.classes,c;if(b!=a){for(c in b)a&&a[c]||this.removeClass(c);for(c in a)this.addClass(c);b=a}})}function X(a){a.on("data",function(){if(a.wrapper){var b=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());a.wrapper.setAttribute("role","region");a.wrapper.setAttribute("aria-label",
b)}},null,null,9999)}function da(a){a.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(a.data)))}function Z(){function a(){}function b(a,c,d){return d&&this.checkElement(a)?(a=d.widgets.getByElement(a,!0))&&a.checkStyleActive(this):!1}function c(a){function b(a,c,d){for(var e=a.length,f=0;f<e;){if(c.call(d,a[f],f,a))return a[f];f++}}function e(a){function b(a,c){var d=CKEDITOR.tools.object.keys(a),e=CKEDITOR.tools.object.keys(c);if(d.length!==e.length)return!1;for(var f in a)if(("object"!==
typeof a[f]||"object"!==typeof c[f]||!b(a[f],c[f]))&&a[f]!==c[f])return!1;return!0}return function(c){return b(a.getDefinition(),c.getDefinition())}}var f=a.widget,g;d[f]||(d[f]={});for(var h=0,k=a.group.length;h<k;h++)g=a.group[h],d[f][g]||(d[f][g]=[]),g=d[f][g],b(g,e(a))||g.push(a)}var d={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(a){this.widget=a.widget;(this.group="string"==typeof a.group?[a.group]:a.group)&&c(this)},apply:function(a){var b;a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),
a)&&(b=a.widgets.focused,this.group&&this.removeStylesFromSameGroup(a),b.applyStyle(this))},remove:function(a){a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&a.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(a){var b=!1,c,e;if(!(a instanceof CKEDITOR.editor))return!1;e=a.elementPath();if(this.checkApplicable(e,a))for(var f=0,g=this.group.length;f<g;f++){c=d[this.widget][this.group[f]];for(var h=0;h<c.length;h++)c[h]!==this&&c[h].checkActive(e,a)&&(a.widgets.focused.removeStyle(c[h]),
b=!0)}return b},checkActive:function(a,b){return this.checkElementMatch(a.lastElement,0,b)},checkApplicable:function(a,b){return b instanceof CKEDITOR.editor?this.checkElement(a.lastElement):!1},checkElementMatch:b,checkElementRemovable:b,checkElement:function(a){return g.isDomWidgetWrapper(a)?(a=a.getFirst(g.isDomWidgetElement))&&a.data("widget")==this.widget:!1},buildPreview:function(a){return a||this._.definition.name},toAllowedContentRules:function(a){if(!a)return null;a=a.widgets.registered[this.widget];
var b,c={};if(!a)return null;if(a.styleableElements){b=this.getClassesArray();if(!b)return null;c[a.styleableElements]={classes:b,propertiesOnly:!0};return c}return a.styleToAllowedContentRules?a.styleToAllowedContentRules(this):null},getClassesArray:function(){var a=this._.definition.attributes&&this._.definition.attributes["class"];return a?CKEDITOR.tools.trim(a).split(/\s+/):null},applyToRange:a,removeFromRange:a,applyToObject:a})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",
onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss('.cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover\x3e.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused\x3e.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:block;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover\x3e.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}.cke_editable[contenteditable\x3d"false"] .cke_widget_drag_handler_container{display:none;}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_widget_partial_mask{position:absolute;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}'),
Z())},beforeInit:function(a){void 0!==CKEDITOR.document.$.querySelectorAll&&(a.widgets=new c(a))},afterInit:function(a){if(void 0!==CKEDITOR.document.$.querySelectorAll){var b=a.widgets.registered,c,d,e;for(d in b)c=b[d],(e=c.button)&&a.ui.addButton&&a.ui.addButton(CKEDITOR.tools.capitalize(c.name,!0),{label:e,command:c.name,toolbar:"insert,10"});z(a);L(a.undoManager)}}});c.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(a,c){var d=this.editor;c=CKEDITOR.tools.prototypedCopy(c);c.name=a;
c._=c._||{};d.fire("widgetDefinition",c);c.template&&(c.template=new CKEDITOR.template(c.template));b(d,c);h(this,c);this.registered[a]=c;if(c.dialog&&d.plugins.dialog)var e=CKEDITOR.on("dialogDefinition",function(a){a=a.data.definition;var b=a.dialog;a.getMode||b.getName()!==c.dialog||(a.getMode=function(){var a=b.getModel(d);return a&&a instanceof CKEDITOR.plugins.widget&&a.ready?CKEDITOR.dialog.EDITING_MODE:CKEDITOR.dialog.CREATION_MODE});e.removeListener()});return c},addUpcastCallback:function(a){this._.upcastCallbacks.push(a)},
checkSelection:function(){if(this.editor.getSelection()){var a=this.editor.getSelection(),b=a.getSelectedElement(),c=G(this),d;if(b&&(d=this.getByElement(b,!0)))return c.focus(d).select(d).commit();a=a.getRanges()[0];if(!a||a.collapsed)return c.commit();a=new CKEDITOR.dom.walker(a);for(a.evaluator=g.isDomWidgetWrapper;b=a.next();)c.select(this.getByElement(b));c.commit()}},checkWidgets:function(a){this.fire("checkWidgets",CKEDITOR.tools.copy(a||{}))},del:function(a){if(this.focused===a){var b=a.editor,
c=b.createRange(),d;(d=c.moveToClosestEditablePosition(a.wrapper,!0))||(d=c.moveToClosestEditablePosition(a.wrapper,!1));d&&b.getSelection().selectRanges([c])}a.wrapper.remove();this.destroy(a,!0)},destroy:function(a,b){this.widgetHoldingFocusedEditable===a&&u(this,a,null,b);a.destroy(b);delete this.instances[a.id];this.fire("instanceDestroyed",a)},destroyAll:function(a,b){var c,d,e=this.instances;if(b&&!a){d=b.find(".cke_widget_wrapper");for(var e=d.count(),f=0;f<e;++f)(c=this.getByElement(d.getItem(f),
!0))&&this.destroy(c)}else for(d in e)c=e[d],this.destroy(c,a)},finalizeCreation:function(a){(a=a.getFirst())&&g.isDomWidgetWrapper(a)&&(this.editor.insertElement(a),a=this.getByElement(a),a.ready=!0,a.fire("ready"),a.focus())},getByElement:function(){function a(c){return c.is(b)&&c.data("cke-widget-id")}var b={div:1,span:1};return function(b,c){if(!b)return null;var d=a(b);if(!c&&!d){var e=this.editor.editable();do b=b.getParent();while(b&&!b.equals(e)&&!(d=a(b)))}return this.instances[d]||null}}(),
initOn:function(a,b,c){b?"string"==typeof b&&(b=this.registered[b]):b=this.registered[a.data("widget")];if(!b)return null;var d=this.wrapElement(a,b.name);return d?d.hasClass("cke_widget_new")?(a=new g(this,this._.nextId++,a,b,c),a.isInited()?this.instances[a.id]=a:null):this.getByElement(a):null},initOnAll:function(a){a=(a||this.editor.editable()).find(".cke_widget_new");for(var b=[],c,d=a.count();d--;)(c=this.initOn(a.getItem(d).getFirst(g.isDomWidgetElement)))&&b.push(c);return b},onWidget:function(a){var b=
Array.prototype.slice.call(arguments);b.shift();for(var c in this.instances){var d=this.instances[c];d.name==a&&d.on.apply(d,b)}this.on("instanceCreated",function(c){c=c.data;c.name==a&&c.on.apply(c,b)})},parseElementClasses:function(a){if(!a)return null;a=CKEDITOR.tools.trim(a).split(/\s+/);for(var b,c={},d=0;b=a.pop();)-1==b.indexOf("cke_")&&(c[b]=d=1);return d?c:null},wrapElement:function(a,b){var c=null,d,e;if(a instanceof CKEDITOR.dom.element){b=b||a.data("widget");d=this.registered[b];if(!d)return null;
if((c=a.getParent())&&c.type==CKEDITOR.NODE_ELEMENT&&c.data("cke-widget-wrapper"))return c;a.hasAttribute("data-cke-widget-keep-attr")||a.data("cke-widget-keep-attr",a.data("widget")?1:0);a.data("widget",b);(e=p(d,a.getName()))&&k(a);c=new CKEDITOR.dom.element(e?"span":"div",a.getDocument());c.setAttributes(r(e,b));c.data("cke-display-name",d.pathName?d.pathName:a.getName());a.getParent(!0)&&c.replace(a);a.appendTo(c)}else if(a instanceof CKEDITOR.htmlParser.element){b=b||a.attributes["data-widget"];
d=this.registered[b];if(!d)return null;if((c=a.parent)&&c.type==CKEDITOR.NODE_ELEMENT&&c.attributes["data-cke-widget-wrapper"])return c;"data-cke-widget-keep-attr"in a.attributes||(a.attributes["data-cke-widget-keep-attr"]=a.attributes["data-widget"]?1:0);b&&(a.attributes["data-widget"]=b);(e=p(d,a.name))&&k(a);c=new CKEDITOR.htmlParser.element(e?"span":"div",r(e,b));c.attributes["data-cke-display-name"]=d.pathName?d.pathName:a.name;d=a.parent;var f;d&&(f=a.getIndex(),a.remove());c.add(a);d&&x(d,
f,c)}return c},_tests_createEditableFilter:a};CKEDITOR.event.implementOn(c.prototype);g.prototype={addClass:function(a){this.element.addClass(a);this.wrapper.addClass(g.WRAPPER_CLASS_PREFIX+a)},applyStyle:function(a){E(this,a,1)},checkStyleActive:function(a){a=K(a);var b;if(!a)return!1;for(;b=a.pop();)if(!this.hasClass(b))return!1;return!0},destroy:function(a){this.fire("destroy");if(this.editables)for(var b in this.editables)this.destroyEditable(b,a);a||("0"==this.element.data("cke-widget-keep-attr")&&
this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper));this.wrapper=null},destroyEditable:function(a,b){var c=this.editables[a],d=!0;c.removeListener("focus",A);c.removeListener("blur",M);this.editor.focusManager.remove(c);if(c.filter){for(var e in this.repository.instances){var f=this.repository.instances[e];f.editables&&(f=f.editables[a])&&f!==
c&&c.filter===f.filter&&(d=!1)}d&&(c.filter.destroy(),(d=this.repository._.filters[this.name])&&delete d[a])}b||(this.repository.destroyAll(!1,c),c.removeClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),c.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"]));delete this.editables[a]},edit:function(){var a={dialog:this.dialog},b=this;if(!1===this.fire("edit",a)||!a.dialog)return!1;this.editor.openDialog(a.dialog,function(a){var c,d;!1!==b.fire("dialog",
a)&&(c=a.on("show",function(){a.setupContent(b)}),d=a.on("ok",function(){var c,d=b.on("data",function(a){c=1;a.cancel()},null,null,0);b.editor.fire("saveSnapshot");a.commitContent(b);d.removeListener();c&&(b.fire("data",b.data),b.editor.fire("saveSnapshot"))}),a.once("hide",function(){c.removeListener();d.removeListener()}))},b);return!0},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},getClipboardHtml:function(){var a=this.editor.createRange();
a.setStartBefore(this.wrapper);a.setEndAfter(this.wrapper);return this.editor.editable().getHtmlFromRange(a).getHtml()},hasClass:function(a){return this.element.hasClass(a)},initEditable:function(b,c){var d=this._findOneNotNested(c.selector);return d&&d.is(CKEDITOR.dtd.$editable)?(d=new e(this.editor,d,{filter:a.call(this.repository,this.name,b,c)}),this.editables[b]=d,d.setAttributes({contenteditable:"true","data-cke-widget-editable":b,"data-cke-enter-mode":d.enterMode}),d.filter&&d.data("cke-filter",
d.filter.id),d.addClass("cke_widget_editable"),d.removeClass("cke_widget_editable_focused"),c.pathName&&d.data("cke-display-name",c.pathName),this.editor.focusManager.add(d),d.on("focus",A,this),CKEDITOR.env.ie&&d.on("blur",M,this),d._.initialSetData=!0,d.setData(d.getHtml()),!0):!1},_findOneNotNested:function(a){a=this.wrapper.find(a);for(var b,c,d=0;d<a.count();d++)if(b=a.getItem(d),c=b.getAscendant(g.isDomWidgetWrapper),this.wrapper.equals(c))return b;return null},isInited:function(){return!(!this.wrapper||
!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var a=this.editor.getSelection();if(a){var b=this.editor.checkDirty();a.fake(this.wrapper);!b&&this.editor.resetDirty()}this.editor.focus()},refreshMask:function(){Y(this)},refreshParts:function(a){ea(this,"undefined"!==typeof a?a:!0)},removeClass:function(a){this.element.removeClass(a);this.wrapper.removeClass(g.WRAPPER_CLASS_PREFIX+a)},removeStyle:function(a){E(this,a,0)},setData:function(a,b){var c=this.data,
d=0;if("string"==typeof a)c[a]!==b&&(c[a]=b,d=1);else{var e=a;for(a in e)c[a]!==e[a]&&(d=1,c[a]=e[a])}d&&this.dataReady&&(da(this),this.fire("data",c));return this},setFocused:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_focused");this.fire(a?"focus":"blur");return this},setSelected:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_selected");this.fire(a?"select":"deselect");return this},updateDragHandlerPosition:function(){var a=this.editor,b=this.element.$,c=this._.dragHandlerOffset,
b={x:b.offsetLeft,y:b.offsetTop-15};c&&b.x==c.x&&b.y==c.y||(c=a.checkDirty(),a.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:b.y+"px",left:b.x+"px"}),this.dragHandlerContainer.removeStyle("display"),a.fire("unlockSnapshot"),!c&&a.resetDirty(),this._.dragHandlerOffset=b)}};CKEDITOR.event.implementOn(g.prototype);g.getNestedEditable=function(a,b){return!b||b.equals(a)?null:g.isDomNestedEditable(b)?b:g.getNestedEditable(a,b.getParent())};g.isDomDragHandler=function(a){return a.type==
CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")};g.isDomDragHandlerContainer=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_widget_drag_handler_container")};g.isDomNestedEditable=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-editable")};g.isDomWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-widget")};g.isDomWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-wrapper")};
g.isDomWidget=function(a){return a?this.isDomWidgetWrapper(a)||this.isDomWidgetElement(a):!1};g.isParserWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-widget"]};g.isParserWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-cke-widget-wrapper"]};g.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_";e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(a){this._.initialSetData||
this.editor.widgets.destroyAll(!1,this);this._.initialSetData=!1;a=this.editor.dataProcessor.toHtml(a,{context:this.getName(),filter:this.filter,enterMode:this.enterMode});this.setHtml(a);this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var Q=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,
S={37:1,38:1,39:1,40:1,8:1,46:1};S[CKEDITOR.SHIFT+121]=1;var R=CKEDITOR.tools.createClass({$:function(a,b){this._.createCopyBin(a,b);this._.createListeners(b)},_:{createCopyBin:function(a){var b=a.document,c=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,d=!a.blockless&&!CKEDITOR.env.ie||c?"div":"span",c=b.createElement(d),b=b.createElement(d);b.setAttributes({id:"cke_copybin","data-cke-temp":"1"});c.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"});c.setStyle("ltr"==a.config.contentsLangDirection?
"left":"right","-5000px");this.editor=a;this.copyBin=c;this.container=b},createListeners:function(a){a&&(a.beforeDestroy&&(this.beforeDestroy=a.beforeDestroy),a.afterDestroy&&(this.afterDestroy=a.afterDestroy))}},proto:{handle:function(a){var b=this.copyBin,c=this.editor,d=this.container,e=CKEDITOR.env.ie&&9>CKEDITOR.env.version,f=c.document.getDocumentElement().$,g=c.createRange(),h=this,k=CKEDITOR.env.mac&&CKEDITOR.env.webkit,l=k?100:0,m=window.requestAnimationFrame&&!k?requestAnimationFrame:setTimeout,
n,p,q;b.setHtml('\x3cspan data-cke-copybin-start\x3d"1"\x3e​\x3c/span\x3e'+a+'\x3cspan data-cke-copybin-end\x3d"1"\x3e​\x3c/span\x3e');c.fire("lockSnapshot");d.append(b);c.editable().append(d);n=c.on("selectionChange",D,null,null,0);p=c.widgets.on("checkSelection",D,null,null,0);e&&(q=f.scrollTop);g.selectNodeContents(b);g.select();e&&(f.scrollTop=q);return new CKEDITOR.tools.promise(function(a){m(function(){h.beforeDestroy&&h.beforeDestroy();d.remove();n.removeListener();p.removeListener();c.fire("unlockSnapshot");
h.afterDestroy&&h.afterDestroy();a()},l)})}},statics:{hasCopyBin:function(a){return!!R.getCopyBin(a)},getCopyBin:function(a){return a.document.getById("cke_copybin")}}});CKEDITOR.plugins.widget=g;g.repository=c;g.nestedEditable=e})();CKEDITOR.config.plugins="basicstyles,blockquote,dialogui,dialog,notification,button,toolbar,clipboard,panelbutton,panel,floatpanel,colorbutton,enterkey,listblock,richcombo,font,horizontalrule,indent,indentblock,indentlist,justify,list,pastefromword,pastetools,removeformat,tab,undo,lineutils,widgetselection,widget";
CKEDITOR.config.skin="moono";(function(){var c=function(c,e){var b=CKEDITOR.getUrl("plugins/"+e);c=c.split(",");for(var h=0;h<c.length;h++)CKEDITOR.skin.icons[c[h]]={path:b,offset:-c[++h],bgsize:c[++h]}};CKEDITOR.env.hidpi?c("bold,0,,italic,24,,strike,48,,subscript,72,,superscript,96,,underline,120,,blockquote,144,,copy-rtl,168,,copy,192,,cut-rtl,216,,cut,240,,paste-rtl,264,,paste,288,,bgcolor,312,,textcolor,336,,horizontalrule,360,,indent-rtl,384,,indent,408,,outdent-rtl,432,,outdent,456,,justifyblock,480,,justifycenter,504,,justifyleft,528,,justifyright,552,,bulletedlist-rtl,576,,bulletedlist,600,,numberedlist-rtl,624,,numberedlist,648,,pastefromword-rtl,672,,pastefromword,696,,removeformat,720,,redo-rtl,744,,redo,768,,undo-rtl,792,,undo,816,,simplebox,1680,auto",
"icons_hidpi.png"):c("bold,0,auto,italic,24,auto,strike,48,auto,subscript,72,auto,superscript,96,auto,underline,120,auto,blockquote,144,auto,copy-rtl,168,auto,copy,192,auto,cut-rtl,216,auto,cut,240,auto,paste-rtl,264,auto,paste,288,auto,bgcolor,312,auto,textcolor,336,auto,horizontalrule,360,auto,indent-rtl,384,auto,indent,408,auto,outdent-rtl,432,auto,outdent,456,auto,justifyblock,480,auto,justifycenter,504,auto,justifyleft,528,auto,justifyright,552,auto,bulletedlist-rtl,576,auto,bulletedlist,600,auto,numberedlist-rtl,624,auto,numberedlist,648,auto,pastefromword-rtl,672,auto,pastefromword,696,auto,removeformat,720,auto,redo-rtl,744,auto,redo,768,auto,undo-rtl,792,auto,undo,816,auto,simplebox,840,auto",
"icons.png")})();CKEDITOR.lang.languages={af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1}}})();

/***/ }),

/***/ "./node_modules/object-assign/index.js":
/*!*********************************************!*\
  !*** ./node_modules/object-assign/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),

/***/ "./node_modules/prop-types/checkPropTypes.js":
/*!***************************************************!*\
  !*** ./node_modules/prop-types/checkPropTypes.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var printWarning = function() {};

if (true) {
  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
  var loggedTypeFailures = {};
  var has = Function.call.bind(Object.prototype.hasOwnProperty);

  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

/**
 * Assert that the values match with the type specs.
 * Error messages are memorized and will only be shown once.
 *
 * @param {object} typeSpecs Map of name to a ReactPropType
 * @param {object} values Runtime values that need to be type-checked
 * @param {string} location e.g. "prop", "context", "child context"
 * @param {string} componentName Name of the component for error messages.
 * @param {?Function} getStack Returns the component stack.
 * @private
 */
function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
  if (true) {
    for (var typeSpecName in typeSpecs) {
      if (has(typeSpecs, typeSpecName)) {
        var error;
        // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.
        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            var err = Error(
              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +
              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'
            );
            err.name = 'Invariant Violation';
            throw err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
        } catch (ex) {
          error = ex;
        }
        if (error && !(error instanceof Error)) {
          printWarning(
            (componentName || 'React class') + ': type specification of ' +
            location + ' `' + typeSpecName + '` is invalid; the type checker ' +
            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +
            'You may have forgotten to pass an argument to the type checker ' +
            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +
            'shape all require an argument).'
          );
        }
        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error.message] = true;

          var stack = getStack ? getStack() : '';

          printWarning(
            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')
          );
        }
      }
    }
  }
}

/**
 * Resets warning cache when testing.
 *
 * @private
 */
checkPropTypes.resetWarningCache = function() {
  if (true) {
    loggedTypeFailures = {};
  }
}

module.exports = checkPropTypes;


/***/ }),

/***/ "./node_modules/prop-types/factoryWithTypeCheckers.js":
/*!************************************************************!*\
  !*** ./node_modules/prop-types/factoryWithTypeCheckers.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");
var assign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");

var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
var checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ "./node_modules/prop-types/checkPropTypes.js");

var has = Function.call.bind(Object.prototype.hasOwnProperty);
var printWarning = function() {};

if (true) {
  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

function emptyFunctionThatReturnsNull() {
  return null;
}

module.exports = function(isValidElement, throwOnDirectAccess) {
  /* global Symbol */
  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

  /**
   * Returns the iterator method function contained on the iterable object.
   *
   * Be sure to invoke the function with the iterable as context:
   *
   *     var iteratorFn = getIteratorFn(myIterable);
   *     if (iteratorFn) {
   *       var iterator = iteratorFn.call(myIterable);
   *       ...
   *     }
   *
   * @param {?object} maybeIterable
   * @return {?function}
   */
  function getIteratorFn(maybeIterable) {
    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  /**
   * Collection of methods that allow declaration and validation of props that are
   * supplied to React components. Example usage:
   *
   *   var Props = require('ReactPropTypes');
   *   var MyArticle = React.createClass({
   *     propTypes: {
   *       // An optional string prop named "description".
   *       description: Props.string,
   *
   *       // A required enum prop named "category".
   *       category: Props.oneOf(['News','Photos']).isRequired,
   *
   *       // A prop named "dialog" that requires an instance of Dialog.
   *       dialog: Props.instanceOf(Dialog).isRequired
   *     },
   *     render: function() { ... }
   *   });
   *
   * A more formal specification of how these methods are used:
   *
   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
   *   decl := ReactPropTypes.{type}(.isRequired)?
   *
   * Each and every declaration produces a function with the same signature. This
   * allows the creation of custom validation functions. For example:
   *
   *  var MyLink = React.createClass({
   *    propTypes: {
   *      // An optional string or URI prop named "href".
   *      href: function(props, propName, componentName) {
   *        var propValue = props[propName];
   *        if (propValue != null && typeof propValue !== 'string' &&
   *            !(propValue instanceof URI)) {
   *          return new Error(
   *            'Expected a string or an URI for ' + propName + ' in ' +
   *            componentName
   *          );
   *        }
   *      }
   *    },
   *    render: function() {...}
   *  });
   *
   * @internal
   */

  var ANONYMOUS = '<<anonymous>>';

  // Important!
  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
  var ReactPropTypes = {
    array: createPrimitiveTypeChecker('array'),
    bool: createPrimitiveTypeChecker('boolean'),
    func: createPrimitiveTypeChecker('function'),
    number: createPrimitiveTypeChecker('number'),
    object: createPrimitiveTypeChecker('object'),
    string: createPrimitiveTypeChecker('string'),
    symbol: createPrimitiveTypeChecker('symbol'),

    any: createAnyTypeChecker(),
    arrayOf: createArrayOfTypeChecker,
    element: createElementTypeChecker(),
    elementType: createElementTypeTypeChecker(),
    instanceOf: createInstanceTypeChecker,
    node: createNodeChecker(),
    objectOf: createObjectOfTypeChecker,
    oneOf: createEnumTypeChecker,
    oneOfType: createUnionTypeChecker,
    shape: createShapeTypeChecker,
    exact: createStrictShapeTypeChecker,
  };

  /**
   * inlined Object.is polyfill to avoid requiring consumers ship their own
   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
   */
  /*eslint-disable no-self-compare*/
  function is(x, y) {
    // SameValue algorithm
    if (x === y) {
      // Steps 1-5, 7-10
      // Steps 6.b-6.e: +0 != -0
      return x !== 0 || 1 / x === 1 / y;
    } else {
      // Step 6.a: NaN == NaN
      return x !== x && y !== y;
    }
  }
  /*eslint-enable no-self-compare*/

  /**
   * We use an Error-like object for backward compatibility as people may call
   * PropTypes directly and inspect their output. However, we don't use real
   * Errors anymore. We don't inspect their stack anyway, and creating them
   * is prohibitively expensive if they are created too often, such as what
   * happens in oneOfType() for any type before the one that matched.
   */
  function PropTypeError(message) {
    this.message = message;
    this.stack = '';
  }
  // Make `instanceof Error` still work for returned errors.
  PropTypeError.prototype = Error.prototype;

  function createChainableTypeChecker(validate) {
    if (true) {
      var manualPropTypeCallCache = {};
      var manualPropTypeWarningCount = 0;
    }
    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
      componentName = componentName || ANONYMOUS;
      propFullName = propFullName || propName;

      if (secret !== ReactPropTypesSecret) {
        if (throwOnDirectAccess) {
          // New behavior only for users of `prop-types` package
          var err = new Error(
            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
            'Use `PropTypes.checkPropTypes()` to call them. ' +
            'Read more at http://fb.me/use-check-prop-types'
          );
          err.name = 'Invariant Violation';
          throw err;
        } else if ( true && typeof console !== 'undefined') {
          // Old behavior for people using React.PropTypes
          var cacheKey = componentName + ':' + propName;
          if (
            !manualPropTypeCallCache[cacheKey] &&
            // Avoid spamming the console because they are often not actionable except for lib authors
            manualPropTypeWarningCount < 3
          ) {
            printWarning(
              'You are manually calling a React.PropTypes validation ' +
              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +
              'and will throw in the standalone `prop-types` package. ' +
              'You may be seeing this warning due to a third-party PropTypes ' +
              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'
            );
            manualPropTypeCallCache[cacheKey] = true;
            manualPropTypeWarningCount++;
          }
        }
      }
      if (props[propName] == null) {
        if (isRequired) {
          if (props[propName] === null) {
            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
          }
          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
        }
        return null;
      } else {
        return validate(props, propName, componentName, location, propFullName);
      }
    }

    var chainedCheckType = checkType.bind(null, false);
    chainedCheckType.isRequired = checkType.bind(null, true);

    return chainedCheckType;
  }

  function createPrimitiveTypeChecker(expectedType) {
    function validate(props, propName, componentName, location, propFullName, secret) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== expectedType) {
        // `propValue` being instance of, say, date/regexp, pass the 'object'
        // check, but we can offer a more precise error message here rather than
        // 'of type `object`'.
        var preciseType = getPreciseType(propValue);

        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createAnyTypeChecker() {
    return createChainableTypeChecker(emptyFunctionThatReturnsNull);
  }

  function createArrayOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
      }
      var propValue = props[propName];
      if (!Array.isArray(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
      }
      for (var i = 0; i < propValue.length; i++) {
        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
        if (error instanceof Error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!isValidElement(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!ReactIs.isValidElementType(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createInstanceTypeChecker(expectedClass) {
    function validate(props, propName, componentName, location, propFullName) {
      if (!(props[propName] instanceof expectedClass)) {
        var expectedClassName = expectedClass.name || ANONYMOUS;
        var actualClassName = getClassName(props[propName]);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createEnumTypeChecker(expectedValues) {
    if (!Array.isArray(expectedValues)) {
      if (true) {
        if (arguments.length > 1) {
          printWarning(
            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +
            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'
          );
        } else {
          printWarning('Invalid argument supplied to oneOf, expected an array.');
        }
      }
      return emptyFunctionThatReturnsNull;
    }

    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      for (var i = 0; i < expectedValues.length; i++) {
        if (is(propValue, expectedValues[i])) {
          return null;
        }
      }

      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
        var type = getPreciseType(value);
        if (type === 'symbol') {
          return String(value);
        }
        return value;
      });
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createObjectOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
      }
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
      }
      for (var key in propValue) {
        if (has(propValue, key)) {
          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createUnionTypeChecker(arrayOfTypeCheckers) {
    if (!Array.isArray(arrayOfTypeCheckers)) {
       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;
      return emptyFunctionThatReturnsNull;
    }

    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
      var checker = arrayOfTypeCheckers[i];
      if (typeof checker !== 'function') {
        printWarning(
          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +
          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'
        );
        return emptyFunctionThatReturnsNull;
      }
    }

    function validate(props, propName, componentName, location, propFullName) {
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {
          return null;
        }
      }

      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createNodeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      if (!isNode(props[propName])) {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (!checker) {
          continue;
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createStrictShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      // We need to check all keys in case some are required but missing from
      // props.
      var allKeys = assign({}, props[propName], shapeTypes);
      for (var key in allKeys) {
        var checker = shapeTypes[key];
        if (!checker) {
          return new PropTypeError(
            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +
            '\nBad object: ' + JSON.stringify(props[propName], null, '  ') +
            '\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')
          );
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }

    return createChainableTypeChecker(validate);
  }

  function isNode(propValue) {
    switch (typeof propValue) {
      case 'number':
      case 'string':
      case 'undefined':
        return true;
      case 'boolean':
        return !propValue;
      case 'object':
        if (Array.isArray(propValue)) {
          return propValue.every(isNode);
        }
        if (propValue === null || isValidElement(propValue)) {
          return true;
        }

        var iteratorFn = getIteratorFn(propValue);
        if (iteratorFn) {
          var iterator = iteratorFn.call(propValue);
          var step;
          if (iteratorFn !== propValue.entries) {
            while (!(step = iterator.next()).done) {
              if (!isNode(step.value)) {
                return false;
              }
            }
          } else {
            // Iterator will provide entry [k,v] tuples rather than values.
            while (!(step = iterator.next()).done) {
              var entry = step.value;
              if (entry) {
                if (!isNode(entry[1])) {
                  return false;
                }
              }
            }
          }
        } else {
          return false;
        }

        return true;
      default:
        return false;
    }
  }

  function isSymbol(propType, propValue) {
    // Native Symbol.
    if (propType === 'symbol') {
      return true;
    }

    // falsy value can't be a Symbol
    if (!propValue) {
      return false;
    }

    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
    if (propValue['@@toStringTag'] === 'Symbol') {
      return true;
    }

    // Fallback for non-spec compliant Symbols which are polyfilled.
    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
      return true;
    }

    return false;
  }

  // Equivalent of `typeof` but with special handling for array and regexp.
  function getPropType(propValue) {
    var propType = typeof propValue;
    if (Array.isArray(propValue)) {
      return 'array';
    }
    if (propValue instanceof RegExp) {
      // Old webkits (at least until Android 4.0) return 'function' rather than
      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
      // passes PropTypes.object.
      return 'object';
    }
    if (isSymbol(propType, propValue)) {
      return 'symbol';
    }
    return propType;
  }

  // This handles more types than `getPropType`. Only used for error messages.
  // See `createPrimitiveTypeChecker`.
  function getPreciseType(propValue) {
    if (typeof propValue === 'undefined' || propValue === null) {
      return '' + propValue;
    }
    var propType = getPropType(propValue);
    if (propType === 'object') {
      if (propValue instanceof Date) {
        return 'date';
      } else if (propValue instanceof RegExp) {
        return 'regexp';
      }
    }
    return propType;
  }

  // Returns a string that is postfixed to a warning about an invalid type.
  // For example, "undefined" or "of type array"
  function getPostfixForTypeWarning(value) {
    var type = getPreciseType(value);
    switch (type) {
      case 'array':
      case 'object':
        return 'an ' + type;
      case 'boolean':
      case 'date':
      case 'regexp':
        return 'a ' + type;
      default:
        return type;
    }
  }

  // Returns class name of the object, if any.
  function getClassName(propValue) {
    if (!propValue.constructor || !propValue.constructor.name) {
      return ANONYMOUS;
    }
    return propValue.constructor.name;
  }

  ReactPropTypes.checkPropTypes = checkPropTypes;
  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};


/***/ }),

/***/ "./node_modules/prop-types/index.js":
/*!******************************************!*\
  !*** ./node_modules/prop-types/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (true) {
  var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ "./node_modules/prop-types/factoryWithTypeCheckers.js")(ReactIs.isElement, throwOnDirectAccess);
} else {}


/***/ }),

/***/ "./node_modules/prop-types/lib/ReactPropTypesSecret.js":
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;


/***/ }),

/***/ "./node_modules/react-is/cjs/react-is.development.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-is/cjs/react-is.development.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/** @license React v16.8.5
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */





if (true) {
  (function() {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

// The Symbol used to tag the ReactElement-like types. If there is no native Symbol
// nor polyfill, then a plain number is used for performance.
var hasSymbol = typeof Symbol === 'function' && Symbol.for;

var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;
var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;
var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;
var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;
var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;
var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;
var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;
var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;
var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;
var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;
var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;
var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;
var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;

function isValidElementType(type) {
  return typeof type === 'string' || typeof type === 'function' ||
  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);
}

/**
 * Forked from fbjs/warning:
 * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js
 *
 * Only change is we use console.warn instead of console.error,
 * and do nothing when 'console' is not supported.
 * This really simplifies the code.
 * ---
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var lowPriorityWarning = function () {};

{
  var printWarning = function (format) {
    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var argIndex = 0;
    var message = 'Warning: ' + format.replace(/%s/g, function () {
      return args[argIndex++];
    });
    if (typeof console !== 'undefined') {
      console.warn(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };

  lowPriorityWarning = function (condition, format) {
    if (format === undefined) {
      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');
    }
    if (!condition) {
      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        args[_key2 - 2] = arguments[_key2];
      }

      printWarning.apply(undefined, [format].concat(args));
    }
  };
}

var lowPriorityWarning$1 = lowPriorityWarning;

function typeOf(object) {
  if (typeof object === 'object' && object !== null) {
    var $$typeof = object.$$typeof;
    switch ($$typeof) {
      case REACT_ELEMENT_TYPE:
        var type = object.type;

        switch (type) {
          case REACT_ASYNC_MODE_TYPE:
          case REACT_CONCURRENT_MODE_TYPE:
          case REACT_FRAGMENT_TYPE:
          case REACT_PROFILER_TYPE:
          case REACT_STRICT_MODE_TYPE:
          case REACT_SUSPENSE_TYPE:
            return type;
          default:
            var $$typeofType = type && type.$$typeof;

            switch ($$typeofType) {
              case REACT_CONTEXT_TYPE:
              case REACT_FORWARD_REF_TYPE:
              case REACT_PROVIDER_TYPE:
                return $$typeofType;
              default:
                return $$typeof;
            }
        }
      case REACT_LAZY_TYPE:
      case REACT_MEMO_TYPE:
      case REACT_PORTAL_TYPE:
        return $$typeof;
    }
  }

  return undefined;
}

// AsyncMode is deprecated along with isAsyncMode
var AsyncMode = REACT_ASYNC_MODE_TYPE;
var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
var ContextConsumer = REACT_CONTEXT_TYPE;
var ContextProvider = REACT_PROVIDER_TYPE;
var Element = REACT_ELEMENT_TYPE;
var ForwardRef = REACT_FORWARD_REF_TYPE;
var Fragment = REACT_FRAGMENT_TYPE;
var Lazy = REACT_LAZY_TYPE;
var Memo = REACT_MEMO_TYPE;
var Portal = REACT_PORTAL_TYPE;
var Profiler = REACT_PROFILER_TYPE;
var StrictMode = REACT_STRICT_MODE_TYPE;
var Suspense = REACT_SUSPENSE_TYPE;

var hasWarnedAboutDeprecatedIsAsyncMode = false;

// AsyncMode should be deprecated
function isAsyncMode(object) {
  {
    if (!hasWarnedAboutDeprecatedIsAsyncMode) {
      hasWarnedAboutDeprecatedIsAsyncMode = true;
      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');
    }
  }
  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
}
function isConcurrentMode(object) {
  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
}
function isContextConsumer(object) {
  return typeOf(object) === REACT_CONTEXT_TYPE;
}
function isContextProvider(object) {
  return typeOf(object) === REACT_PROVIDER_TYPE;
}
function isElement(object) {
  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
}
function isForwardRef(object) {
  return typeOf(object) === REACT_FORWARD_REF_TYPE;
}
function isFragment(object) {
  return typeOf(object) === REACT_FRAGMENT_TYPE;
}
function isLazy(object) {
  return typeOf(object) === REACT_LAZY_TYPE;
}
function isMemo(object) {
  return typeOf(object) === REACT_MEMO_TYPE;
}
function isPortal(object) {
  return typeOf(object) === REACT_PORTAL_TYPE;
}
function isProfiler(object) {
  return typeOf(object) === REACT_PROFILER_TYPE;
}
function isStrictMode(object) {
  return typeOf(object) === REACT_STRICT_MODE_TYPE;
}
function isSuspense(object) {
  return typeOf(object) === REACT_SUSPENSE_TYPE;
}

exports.typeOf = typeOf;
exports.AsyncMode = AsyncMode;
exports.ConcurrentMode = ConcurrentMode;
exports.ContextConsumer = ContextConsumer;
exports.ContextProvider = ContextProvider;
exports.Element = Element;
exports.ForwardRef = ForwardRef;
exports.Fragment = Fragment;
exports.Lazy = Lazy;
exports.Memo = Memo;
exports.Portal = Portal;
exports.Profiler = Profiler;
exports.StrictMode = StrictMode;
exports.Suspense = Suspense;
exports.isValidElementType = isValidElementType;
exports.isAsyncMode = isAsyncMode;
exports.isConcurrentMode = isConcurrentMode;
exports.isContextConsumer = isContextConsumer;
exports.isContextProvider = isContextProvider;
exports.isElement = isElement;
exports.isForwardRef = isForwardRef;
exports.isFragment = isFragment;
exports.isLazy = isLazy;
exports.isMemo = isMemo;
exports.isPortal = isPortal;
exports.isProfiler = isProfiler;
exports.isStrictMode = isStrictMode;
exports.isSuspense = isSuspense;
  })();
}


/***/ }),

/***/ "./node_modules/react-is/index.js":
/*!****************************************!*\
  !*** ./node_modules/react-is/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


if (false) {} else {
  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ "./node_modules/react-is/cjs/react-is.development.js");
}


/***/ }),

/***/ "./scripts/build/version.js":
/*!**********************************!*\
  !*** ./scripts/build/version.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "2.11.12";

/***/ }),

/***/ "./scripts/build/with-ckeditor.js":
/*!****************************************!*\
  !*** ./scripts/build/with-ckeditor.js ***!
  \****************************************/
/*! exports provided: AlloyEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_ckeditor_ckeditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/ckeditor/ckeditor */ "./lib/ckeditor/ckeditor.js");
/* harmony import */ var _lib_ckeditor_ckeditor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lib_ckeditor_ckeditor__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _src_adapter_main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../src/adapter/main */ "./src/adapter/main.js");
/* harmony import */ var _src_adapter_main__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_src_adapter_main__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "AlloyEditor", function() { return _src_adapter_main__WEBPACK_IMPORTED_MODULE_1__; });




if (typeof window !== 'undefined') {
	window.CKEDITOR.disableAutoInline = true;
	window.AlloyEditor = _src_adapter_main__WEBPACK_IMPORTED_MODULE_1__;
	_src_adapter_main__WEBPACK_IMPORTED_MODULE_1__["VERSION"] = __webpack_require__(/*! ./version */ "./scripts/build/version.js");
}




/***/ }),

/***/ "./src/adapter/core.js":
/*!*****************************!*\
  !*** ./src/adapter/core.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

__webpack_require__(/*! ../core */ "./src/core/index.js");

__webpack_require__(/*! ../plugins */ "./src/plugins/index.js");

__webpack_require__(/*! ../components/uibridge */ "./src/components/uibridge/index.js");

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _commands = __webpack_require__(/*! ../commands */ "./src/commands/index.js");

var _main = __webpack_require__(/*! ../components/main.jsx */ "./src/components/main.jsx");

var _main2 = _interopRequireDefault(_main);

var _base = __webpack_require__(/*! ../oop/base */ "./src/oop/base.js");

var _base2 = _interopRequireDefault(_base);

var _lang = __webpack_require__(/*! ../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _oop = __webpack_require__(/*! ../oop/oop */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

var _selections = __webpack_require__(/*! ../selections/selections */ "./src/selections/selections.js");

var _selections2 = _interopRequireDefault(_selections);

var _editorContext = __webpack_require__(/*! ./editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var EMBED_VIDEO_WIDTH = 560;
var EMBED_VIDEO_HEIGHT = 315;

/**
 * AlloyEditor main class. Creates instance of the editor and provides the user configuration
 * to the UI.
 *
 * @class Core
 * @constructor
 * @param {Object} config The configuration to be used.
 */
function Core(config) {
	Core.superclass.constructor.call(this, config);
}

(0, _oop2.default)(Core, _base2.default, {
	/**
  * Initializer lifecycle implementation for the AlloyEditor class. Creates a CKEditor
  * instance, passing it the provided configuration attributes.
  *
  * @memberof Core
  * @instance
  * @protected
  * @method initializer
  * @param {Object} config Configuration object literal for the editor.
  */
	initializer: function initializer(config) {
		var _this = this;

		var node = this.get('srcNode');

		if (this.get('enableContentEditable')) {
			node.setAttribute('contenteditable', 'true');
		}

		var editor = CKEDITOR.inline(node);

		editor.config.allowedContent = this.get('allowedContent');

		editor.config.toolbars = this.get('toolbars');

		editor.config.removePlugins = this.get('removePlugins');

		editor.config.extraPlugins = this.get('extraPlugins');

		editor.config.embedProviders = this.get('embedProviders');

		editor.config.placeholderClass = this.get('placeholderClass');

		editor.config.pasteFromWordRemoveStyles = false;
		editor.config.pasteFromWordRemoveFontStyles = false;

		editor.config.selectionKeystrokes = this.get('selectionKeystrokes');

		editor.config.spritemap = this.get('spritemap');

		_lang2.default.mix(editor.config, config);

		if (CKEDITOR.env.ie && !CKEDITOR.env.edge) {
			var plugin = CKEDITOR.env.version === 11 ? 'ae_dragresize_ie11' : 'ae_dragresize_ie';

			editor.config.extraPlugins = editor.config.extraPlugins.replace('ae_dragresize', plugin);
			editor.config.removePlugins = editor.config.removePlugins.replace('ae_dragresize', plugin);
		}

		editor.once('contentDom', function () {
			_this._addReadOnlyLinkClickListener(editor);

			var editable = editor.editable();

			var extraCommands = _this.get('extraCommands');

			var extraCommandKeys = Object.keys(extraCommands);
			for (var i = 0; i < extraCommandKeys.length; i++) {
				var commandName = extraCommandKeys[i];

				if (editor.commands[commandName]) {
					continue;
				}

				editor.addCommand(commandName, extraCommands[commandName]);
			}

			editable.addClass('ae-editable');
		});

		this._editor = editor;

		AlloyEditor.loadLanguageResources(this._renderUI.bind(this));
	},


	/**
  * Destructor lifecycle implementation for the AlloyEdtor class. Destroys the CKEditor
  * instance and destroys all created toolbars.
  *
  * @memberof Core
  * @instance
  * @protected
  * @method destructor
  */
	destructor: function destructor() {
		this._destroyed = true;

		if (this._editorUIElement) {
			_reactDom2.default.unmountComponentAtNode(this._editorUIElement);
			this._editorUIElement.parentNode.removeChild(this._editorUIElement);
		}

		var nativeEditor = this.get('nativeEditor');

		if (nativeEditor) {
			var editable = nativeEditor.editable();

			if (editable) {
				editable.removeClass('ae-editable');

				if (this.get('enableContentEditable')) {
					this.get('srcNode').setAttribute('contenteditable', 'false');
				}
			}

			this._clearSelections();

			nativeEditor.destroy();
		}
	},


	/**
  * Clear selections from window object
  *
  * @memberof Core
  * @instance
  * @protected
  * @method _clearSelections
  */
	_clearSelections: function _clearSelections() {
		var nativeEditor = this.get('nativeEditor');
		var isMSSelection = typeof window.getSelection != 'function';

		if (isMSSelection) {
			nativeEditor.document.$.selection.empty();
		} else {
			nativeEditor.document.getWindow().$.getSelection().removeAllRanges();
		}
	},


	/**
  * Method to set default link behavior
  *
  * @memberof Core
  * @instance
  * @protected
  * @method _addReadOnlyLinkClickListener
  * @param {Object} editor
  */
	_addReadOnlyLinkClickListener: function _addReadOnlyLinkClickListener(editor) {
		editor.editable().on('click', this._defaultReadOnlyClickFn, this, {
			editor: editor
		});
	},


	/**
  * Called on `click` event when the editor is in read only mode. Navigates to link's URL or opens
  * the link in a new window.
  *
  * @memberof Core
  * @instance
  * @event readOnlyClick
  * @protected
  * @method _defaultReadOnlyClickFn
  * @param {Object} event The fired `click` event payload
  */
	_defaultReadOnlyClickFn: function _defaultReadOnlyClickFn(event) {
		var mouseEvent = event.data.$;
		var hasCtrlKey = mouseEvent.ctrlKey || mouseEvent.metaKey;
		var shouldOpen = this._editor.config.readOnly || hasCtrlKey;

		mouseEvent.preventDefault();

		if (!shouldOpen) {
			return;
		}

		if (event.listenerData.editor.editable().editor.fire('readOnlyClick', event.data) !== false) {
			var ckElement = new CKEDITOR.dom.elementPath(event.data.getTarget(), this);
			var link = ckElement.lastElement;

			if (link) {
				var href = link.$.attributes.href ? link.$.attributes.href.value : null;
				var target = hasCtrlKey ? '_blank' : link.$.attributes.target ? link.$.attributes.target.value : null;
				this._redirectLink(href, target);
			}
		}
	},


	/**
  * Retrieves the native CKEditor instance. Having this, the developer may use the API of CKEditor OOTB.
  *
  * @memberof Core
  * @instance
  * @protected
  * @method _getNativeEditor
  * @return {Object} The current instance of CKEditor.
  */
	_getNativeEditor: function _getNativeEditor() {
		return this._editor;
	},


	/**
  * Redirects the browser to a given link
  *
  * @memberof Core
  * @instance
  * @protected
  * @method _redirectLink
  * @param {string} href The href to take the browser to
  * @param {string=} target Specifies where to display the link
  */
	_redirectLink: function _redirectLink(href, target) {
		if (target && href) {
			window.open(href, target);
		} else if (href) {
			window.location.href = href;
		}
	},


	/**
  * Renders the specified from the user toolbars.
  *
  * @memberof Core
  * @instance
  * @protected
  * @method _renderUI
  */
	_renderUI: function _renderUI() {
		var _this2 = this;

		if (!this._destroyed) {
			var editorUIElement = document.createElement('div');
			editorUIElement.className = 'ae-ui';

			var uiNode = this.get('uiNode') || document.body;

			uiNode.appendChild(editorUIElement);

			var callbackRef = function callbackRef(element) {
				if (!_this2._mainUI && element) {
					_this2._mainUI = element;
					_this2.get('nativeEditor').fire('uiReady');
				}
			};

			_reactDom2.default.render(_react2.default.createElement(
				_editorContext2.default.Provider,
				{ value: { editor: this } },
				_react2.default.createElement(_main2.default, {
					eventsDelay: this.get('eventsDelay'),
					ref: callbackRef,
					toolbars: this.get('toolbars')
				})
			), editorUIElement);

			this._editorUIElement = editorUIElement;
		}
	},


	/**
  * The function returns an HTML element from the passed value. If the passed value is a string, it should be
  * the Id of the element which have to be retrieved from the DOM.
  * If an HTML Element is passed, the element itself will be returned.
  *
  * @memberof Core
  * @instance
  * @method _toElement
  * @protected
  * @param {!(String|HTMLElement)} value String, which have to correspond to an HTML element from the DOM,
  * or the HTML element itself. If Id is passed, the HTML element will be retrieved from the DOM.
  * @return {HTMLElement} An HTML element.
  */
	_toElement: function _toElement(value) {
		if (_lang2.default.isString(value)) {
			value = document.getElementById(value);
		}

		return value;
	},


	/**
  * Validates the allowed content attribute. Look
  * [here](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent) for more information about the
  * supported values.
  *
  * @memberof Core
  * @instance
  * @protected
  * @method _validateAllowedContent
  * @param {Any} value The value to be checked
  * @return {Boolean} True if the current value is valid configuration, false otherwise
  */
	_validateAllowedContent: function _validateAllowedContent(value) {
		return _lang2.default.isString(value) || _lang2.default.isObject(value) || _lang2.default.isBoolean(value);
	},


	/**
  * Validates the value of toolbars attribute
  *
  * @memberof Core
  * @instance
  * @protected
  * @method _validateToolbars
  * @param {Any} value The value to be checked
  * @return {Boolean} True if the current value is valid toolbars configuration, false otherwise
  */
	_validateToolbars: function _validateToolbars(value) {
		return _lang2.default.isObject(value) || _lang2.default.isNull(value);
	}
}, {
	ATTRS: {
		/**
   * Configures the allowed content for the current instance of AlloyEditor.
   * Look on the [official CKEditor API](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent)
   * for more information about the valid values.
   *
   * @memberof Core
   * @instance
   * @property allowedContent
   * @default true
   * @writeOnce
   * @type {Boolean, String, Object}
   */
		allowedContent: {
			validator: '_validateAllowedContent',
			value: true,
			writeOnce: true
		},

		/**
   * Callback to be invoked when clicking on the
   * <code>src/components/buttons/button-link-edit-browse.jsx</code>
   * component.
   *
   * @memberof Core
   * @instance
   * @propety documentBrowseLinkCallback
   * @default undefined
   * @type {Function|undefined}
   */
		documentBrowseLinkCallback: {
			validator: _lang2.default.isFunction,
			value: undefined
		},

		/**
   * Configuration for the
   * <code>src/components/buttons/button-link-edit-browse.jsx</code>
   * component.
   *
   * @memberof Core
   * @instance
   * @propety documentBrowseLinkUrl
   * @default undefined
   * @type {String|undefined}
   */
		documentBrowseLinkUrl: {
			validator: _lang2.default.isString,
			value: undefined
		},

		/**
   * List of embed providers for videos
   *
   * @memberof Core
   * @instance
   * @property embedProviders
   * @default []
   * @type Array}
   */
		embedProviders: {
			validator: _lang2.default.isArray,
			value: [{
				id: 'facebook',
				tpl: '<iframe allowFullScreen="true" allowTransparency="true"\n\t\t\t\t\t\t\t\t\t\t\t\t frameborder="0" height="' + EMBED_VIDEO_HEIGHT + '"\n\t\t\t\t\t\t\t\t\t\t\t\t src="https://www.facebook.com/plugins/video.php?href={embedId}\'\n\t\t\t\t\t\t\t\t\t\t\t\t &show_text=0&width=' + EMBED_VIDEO_WIDTH + '&height=' + EMBED_VIDEO_HEIGHT + '" scrolling="no"\n\t\t\t\t\t\t\t\t\t\t\t\t style="border:none;overflow:hidden" width="' + EMBED_VIDEO_WIDTH + '}"></iframe>',
				type: 'video',
				urlSchemes: ['(https?:\\/\\/(?:www\\.)?facebook.com\\/\\S*\\/videos\\/\\S*)']
			}, {
				id: 'twitch',
				tpl: '<iframe allowfullscreen="true" frameborder="0"\n\t\t\t\t\t\t\t\t\t\t\t\t height="' + EMBED_VIDEO_HEIGHT + '"\n\t\t\t\t\t\t\t\t\t\t\t\t src="https://player.twitch.tv/?autoplay=false&video={embedId}"\n\t\t\t\t\t\t\t\t\t\t\t\t scrolling="no" width="' + EMBED_VIDEO_WIDTH + '"></iframe>',
				type: 'video',
				urlSchemes: ['https?:\\/\\/(?:www\\.)?twitch.tv\\/videos\\/(\\S*)$']
			}, {
				id: 'vimeo',
				tpl: '<iframe allowfullscreen frameborder="0" height="' + EMBED_VIDEO_HEIGHT + '"\n\t\t\t\t\t\t\t\t\t\t\t\t mozallowfullscreen src="https://player.vimeo.com/video/{embedId}"\n\t\t\t\t\t\t\t\t\t\t\t\t webkitallowfullscreen width="' + EMBED_VIDEO_WIDTH + '"></iframe>',
				type: 'video',
				urlSchemes: ['https?:\\/\\/(?:www\\.)?vimeo\\.com\\/album\\/.*\\/video\\/(\\S*)', 'https?:\\/\\/(?:www\\.)?vimeo\\.com\\/channels\\/.*\\/(\\S*)', 'https?:\\/\\/(?:www\\.)?vimeo\\.com\\/groups\\/.*\\/videos\\/(\\S*)', 'https?:\\/\\/(?:www\\.)?vimeo\\.com\\/(\\S*)$']
			}, {
				id: 'youtube',
				tpl: '<iframe allow="autoplay; encrypted-media" allowfullscreen\n\t\t\t\t\t\t\t\t\t\t\t\t height="' + EMBED_VIDEO_HEIGHT + '" frameborder="0"\n\t\t\t\t\t\t\t\t\t\t\t\t src="https://www.youtube.com/embed/{embedId}?rel=0"\n\t\t\t\t\t\t\t\t\t\t\t\t width="' + EMBED_VIDEO_WIDTH + '"></iframe>',
				type: 'video',
				urlSchemes: ['https?:\\/\\/(?:www\\.)?youtube.com\\/watch\\?v=(\\S*)$']
			}]
		},

		/**
   * Specifies whether AlloyEditor set the contenteditable attribute
   * to "true" on its srcNode.
   *
   * @memberof Core
   * @instance
   * @property enableContentEditable
   * @type Boolean
   * @default true
   * @writeOnce
   */
		enableContentEditable: {
			validator: _lang2.default.isBoolean,
			value: true,
			writeOnce: true
		},

		/**
   * The delay (timeout), in ms, after which events such like key or mouse events will be processed.
   *
   * @memberof Core
   * @instance
   * @property eventsDelay
   * @type {Number}
   */
		eventsDelay: {
			validator: _lang2.default.isNumber,
			value: 100
		},

		/**
   * The list of extra commands to be added to the editor.
   *
   * @memberof Core
   * @instance
   * @property extraCommands
   * @type {Object}
   */
		extraCommands: {
			validator: _lang2.default.isObject,
			value: {
				removeImage: _commands.removeImageCommand
			},
			writeOnce: true
		},

		/**
   * Specifies the extra plugins which have to be loaded to the current CKEditor instance in order to
   * make AlloyEditor to work properly.
   *
   * @memberof Core
   * @instance
   * @property extraPlugins
   * @default 'uicore,selectionregion,dragresize,addimages,placeholder,tabletools,tableresize,autolink'
   * @writeOnce
   * @type {String}
   */
		extraPlugins: {
			validator: _lang2.default.isString,
			value: 'ae_uicore,ae_selectionregion,ae_selectionkeystrokes,ae_imagealignment,ae_addimages,ae_placeholder,' + 'ae_tabletools,ae_tableresize,ae_autolink,ae_embed,ae_autolist,ae_dragresize,' + 'ae_uibridge,ae_richcombobridge,ae_panelmenubuttonbridge,ae_menubridge,ae_menubuttonbridge,ae_buttonbridge,font,colorbutton',
			writeOnce: true
		},

		/**
   * Specifies the "mode" for alloy editor
   * @memberof Core
   * @instance
   * @property mode
   * @default 'simple'
   * @writeOnce
   * @type {String}
   */
		mode: {
			validator: _lang2.default.isString,
			value: 'simple'
		},

		/**
   * Retrieves the native CKEditor instance. Having this, the developer may use the full API of CKEditor.
   *
   * @memberof Core
   * @instance
   * @property nativeEditor
   * @readOnly
   * @type {Object}
   */
		nativeEditor: {
			getter: '_getNativeEditor',
			readOnly: true
		},

		/**
   * Specifies the class, which should be added by Placeholder plugin
   * {{#crossLink "CKEDITOR.plugins.ae_placeholder}}{{/crossLink}}
   * when editor is not focused.
   *
   * @memberof Core
   * @instance
   * @property placeholderClass
   * @default 'ae-placeholder'
   * @writeOnce
   * @type {String}
   */
		placeholderClass: {
			validator: _lang2.default.isString,
			value: 'ae-placeholder',
			writeOnce: true
		},

		/**
   * Specifies the plugins, which come by default with CKEditor, but which are not needed by AlloyEditor.
   * These plugins add the default UI for CKeditor, which is no more needed. Please note that AlloyEdtor
   * comes with its own highly optimized copy of CKEditor (just customized via their official download page).
   * This version does not come with the unneeded plugins, so the value of this property won't be needed.
   * However, if you decide to go with the OOTB version of CKEditor, you will have to remove some of the
   * plugins if you decide to use AlloyEditor. Keep in mind that removing these plugins doesn't remove them
   * entirely from CKEditor. It just removes them from its current instance, in which you will use different
   * UI - those of AlloyEditor. You will be fully able to use both OOTB CKEditor and AlloyEditor on the same
   * page!
   *
   * @memberof Core
   * @instance
   * @property removePlugins
   * @default 'contextmenu,toolbar,elementspath,resize,liststyle,link'
   * @writeOnce
   * @type {String}
   */
		removePlugins: {
			validator: _lang2.default.isString,
			value: 'contextmenu,toolbar,elementspath,resize,liststyle,link',
			writeOnce: true
		},

		/**
   * Array of manual selection triggers. They can be configured to manually show a specific selection toolbar
   * by forcing the selection type. A selectionKeystroke item consists of a keys property with a [CKEditor keystroke
   * definition](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-keystrokes) and a selection property with
   * the selection name to trigger.
   *
   * @memberof Core
   * @instance
   * @property selectionKeystrokes
   * @type {Array}
   */
		selectionKeystrokes: {
			validator: _lang2.default.isArray,
			value: [{
				keys: CKEDITOR.CTRL + 76 /* L*/
				, selection: 'link'
			}, {
				keys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/
				, selection: 'embed'
			}]
		},

		/**
   * The path to the spritemap SVG used for icons
   *
   * @memberof Core
   * @instance
   * @property spritemap
   * @type String
   * @writeOnce
   */
		spritemap: {
			validator: _lang2.default.isString,
			value: 'alloy-editor/assets/icons/icons.svg',
			writeOnce: true
		},

		/**
   * The Node ID or HTMl node, which AlloyEditor should use as an editable area.
   *
   * @memberof Core
   * @instance
   * @property srcNode
   * @type String | Node
   * @writeOnce
   */
		srcNode: {
			setter: '_toElement',
			writeOnce: true
		},

		/**
   * The toolbars configuration for this editor instance
   *
   * @memberof Core
   * @instance
   * @property {Object} toolbars
   */
		toolbars: {
			validator: '_validateToolbars',
			value: {
				add: {
					buttons: ['imageFromFile', 'embed', 'camera', 'hline', 'table'],
					tabIndex: 2
				},
				styles: {
					selections: _selections2.default,
					tabIndex: 1
				}
			}
		},

		/**
   * The Node ID or HTMl node, where AlloyEditor's UI should be rendered.
   *
   * @memberof Core
   * @instance
   * @property uiNode
   * @type String | Node
   * @writeOnce
   */
		uiNode: {
			setter: '_toElement',
			writeOnce: true
		}
	}
});

CKEDITOR.event.implementOn(Core);

exports.default = Core;

/***/ }),

/***/ "./src/adapter/editor-context.js":
/*!***************************************!*\
  !*** ./src/adapter/editor-context.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**
                                                                                                                                                                                                                                                                   * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                   * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                   */

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * React context to avoid explicitly passing the editor instance all
 * through the component hierarchy via props.
 */
var EditorContext = _react2.default.createContext({});

/**
 * Helper that passes the editor context in via a prop.
 *
 * Context can only be accessed in `render()` and in lifecycle methods
 * (`componentDidMount()` etc). If a component needs to access context
 * elsewhere, such as in a constructor, the context needs to be passed
 * in via a prop.
 */
EditorContext.toProps = function (Component) {
  var forwardingComponent = _react2.default.forwardRef(function (props, ref) {
    return _react2.default.createElement(
      EditorContext.Consumer,
      null,
      function (context) {
        return _react2.default.createElement(Component, _extends({}, props, { context: context, ref: ref }));
      }
    );
  });
  forwardingComponent.key = Component.key;
  return forwardingComponent;
};

exports.default = EditorContext;

/***/ }),

/***/ "./src/adapter/main.js":
/*!*****************************!*\
  !*** ./src/adapter/main.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.registerBridgeButton = exports.regexBasePath = exports.loadLanguageResources = exports.implementEventTarget = exports.getUrl = exports.getButtons = exports.getBasePath = exports.editable = exports.Toolbars = exports.Selections = exports.SelectionTest = exports.SelectionSetPosition = exports.SelectionGetArrowBoxClasses = exports.OOP = exports.Lang = exports.Core = exports.Compat = exports.Buttons = exports.Base = exports.Attribute = undefined;

var _base = __webpack_require__(/*! ../components/base */ "./src/components/base/index.js");

var Base = _interopRequireWildcard(_base);

var _buttons = __webpack_require__(/*! ../components/buttons */ "./src/components/buttons/index.js");

var _buttons2 = _interopRequireDefault(_buttons);

var _compat = __webpack_require__(/*! ../components/compat */ "./src/components/compat/index.js");

var Compat = _interopRequireWildcard(_compat);

var _toolbars = __webpack_require__(/*! ../components/toolbars */ "./src/components/toolbars/index.js");

var _toolbars2 = _interopRequireDefault(_toolbars);

var _attribute = __webpack_require__(/*! ../oop/attribute */ "./src/oop/attribute.js");

var _attribute2 = _interopRequireDefault(_attribute);

var _lang = __webpack_require__(/*! ../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _oop = __webpack_require__(/*! ../oop/oop */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

var _selectionArrowbox = __webpack_require__(/*! ../selections/selection-arrowbox */ "./src/selections/selection-arrowbox.js");

var _selectionArrowbox2 = _interopRequireDefault(_selectionArrowbox);

var _selectionPosition = __webpack_require__(/*! ../selections/selection-position */ "./src/selections/selection-position.js");

var _selectionPosition2 = _interopRequireDefault(_selectionPosition);

var _selectionTest = __webpack_require__(/*! ../selections/selection-test */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

var _selections = __webpack_require__(/*! ../selections/selections */ "./src/selections/selections.js");

var _selections2 = _interopRequireDefault(_selections);

var _core = __webpack_require__(/*! ./core */ "./src/adapter/core.js");

var _core2 = _interopRequireDefault(_core);

__webpack_require__(/*! ../plugins */ "./src/plugins/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

// An object containing all currently registered plugins in AlloyEditor.
var BRIDGE_BUTTONS = {};

/**
 * Creates an instance of AlloyEditor.
 *
 * @memberof AlloyEditor
 * @method editable
 * @static
 * @param {String|Node} node The Node ID or HTMl node, which AlloyEditor should use as an editable area.
 * @param {Object} config Configuration attributes for the current instance of AlloyEditor.
 * @return {Object} An instance of {{#crossLink "Core"}}{{/crossLink}}
 */
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var editable = function editable(node, config) {
	config = config || {};
	config.srcNode = node;

	AlloyEditor.implementEventTarget();

	return new _core2.default(config);
};

/**
 * The full URL for the AlloyEditor installation directory.
 * It is possible to manually provide the base path by setting a
 * global variable named `ALLOYEDITOR_BASEPATH`. This global variable
 * must be set **before** the editor script loading.
 *
 * @memberof AlloyEditor
 * @method getBasePath
 * @static
 * @return {String} The found base path
 */
var getBasePath = function getBasePath() {
	// Find out the editor directory path, based on its <script> tag.
	var path = window.ALLOYEDITOR_BASEPATH || '';

	if (!path) {
		var scripts = document.getElementsByTagName('script');

		for (var i = 0; i < scripts.length; i++) {
			var match = scripts[i].src.match(AlloyEditor.regexBasePath);

			if (match) {
				path = match[1];
				break;
			}
		}
	}

	// In IE (only) the script.src string is the raw value entered in the
	// HTML source. Other browsers return the full resolved URL instead.
	if (path.indexOf(':/') === -1 && path.slice(0, 2) !== '//') {
		// Absolute path.
		if (path.indexOf('/') === 0) {
			path = location.href.match(/^.*?:\/\/[^/]*/)[0] + path;
		}
		// Relative path.
		else {
				path = location.href.match(/^[^?]*\/(?:)/)[0] + path;
			}
	}

	if (!path) {
		throw new Error('The AlloyEditor installation path could not be automatically detected. Please set the global variable "ALLOYEDITOR_BASEPATH" before creating editor instances.');
	}

	return path;
};

/**
 * Detects and load the corresponding language file if AlloyEditor language strings are not already present.
 * The function fires a {{#crossLink "AlloyEditor/languageResourcesLoaded:event"}}{{/crossLink}} event
 *
 * @memberof AlloyEditor
 * @method loadLanguageResources
 * @static
 * @param {Function} callback Optional callback to be called when AlloyEditor loads the language resource.
 */
var loadLanguageResources = function loadLanguageResources(callback) {
	AlloyEditor.implementEventTarget();

	if (_lang2.default.isFunction(callback)) {
		if (AlloyEditor.Strings) {
			setTimeout(callback, 0);
		} else {
			AlloyEditor.once('languageResourcesLoaded', function () {
				setTimeout(callback, 0);
			});
		}
	}

	if (!AlloyEditor._langResourceRequested) {
		AlloyEditor._langResourceRequested = true;

		var languages = ['af', 'ar', 'bg', 'bn', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en', 'eo', 'es', 'et', 'eu', 'fa', 'fi', 'fo', 'fr-ca', 'fr', 'gl', 'gu', 'he', 'hi', 'hr', 'hu', 'id', 'is', 'it', 'ja', 'ka', 'km', 'ko', 'ku', 'lt', 'lv', 'mk', 'mn', 'ms', 'nb', 'nl', 'no', 'pl', 'pt-br', 'pt', 'ro', 'ru', 'si', 'sk', 'sl', 'sq', 'sr-latn', 'sr', 'sv', 'th', 'tr', 'tt', 'ug', 'uk', 'vi', 'zh-cn', 'zh'];

		var userLanguage = navigator.language || navigator.userLanguage || 'en';

		var parts = userLanguage.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/);
		var lang = parts[1];
		var locale = parts[2];

		if (languages.indexOf(lang + '-' + locale) >= 0) {
			lang = lang + '-' + locale;
		} else if (languages.indexOf(lang) === -1) {
			lang = 'en';
		}

		CKEDITOR.scriptLoader.load(AlloyEditor.getUrl('lang/alloy-editor/' + lang + '.js'), function (loaded) {
			if (loaded) {
				AlloyEditor.fire('languageResourcesLoaded');
			}
		},
		/* eslint-disable no-invalid-this */
		this // Always `AlloyEditor`.
		/* eslint-enable no-invalid-this */
		);
	}
};

/**
 * Gets the full URL for AlloyEditor resources. By default, URLs
 * returned by this function contain a querystring parameter ("t")
 * set to the {@link CKEDITOR#timestamp} value.
 *
 * @memberof AlloyEditor
 * @method getUrl
 * @static
 * @param {String} resource The resource whose full URL we want to get.
 * It may be a full, absolute, or relative URL.
 * @return {String} The full URL.
 */
var getUrl = function getUrl(resource) {
	var basePath = AlloyEditor.getBasePath();

	// If this is not a full or absolute path.
	if (resource.indexOf(':/') === -1 && resource.indexOf('/') !== 0) {
		resource = basePath + resource;
	}

	// Add the timestamp, except for directories.
	if (CKEDITOR.timestamp && resource.charAt(resource.length - 1) !== '/' && !/[&?]t=/.test(resource)) {
		resource += (resource.indexOf('?') >= 0 ? '&' : '?') + 't=' + CKEDITOR.timestamp;
	}

	return resource;
};

/**
 * Implements event firing and subscribing via CKEDITOR.event.
 *
 * @memberof AlloyEditor
 * @method implementEventTarget
 * @static
 */
var implementEventTarget = function implementEventTarget() {
	if (!AlloyEditor.fire && !AlloyEditor.on) {
		CKEDITOR.event.implementOn(AlloyEditor);
	}
};

/**
 * Regular expression which should match the script which have been used to load AlloyEditor.
 *
 * @memberof AlloyEditor
 * @property regexBasePath
 * @type {RegExp}
 * @static
 */
var regexBasePath = /(^|.*[\\/])(?:alloy-editor[^/]+|alloy-editor)\.js(?:\?.*|;.*)?$/i;

/**
 * Fired when AlloyEditor detects the browser language and loads the corresponding language file. Once this event
 * is fired, AlloyEditor.Strings will be populated with data.
 *
 * @event languageResourcesLoaded
 */

/**
 * Returns the required plugin names needed for a given plugin
 * if it is already registered or an empty array.
 *
 * @memberof AlloyEditor
 * @method getButtons
 * @param {Array} buttons An array of buttons or plugin names.
 * @return {Function} A function that can be invoked to resolve the requested button names.
 * @static
 */
var getButtons = function getButtons(buttons) {
	return function () {
		return buttons.reduce(function (acc, val) {
			val = BRIDGE_BUTTONS[val] || [val];
			return acc.concat(val);
		}, []);
	};
};

/**
 * Register a button and try to get its required plugins.
 *
 * @memberof AlloyEditor
 * @method registerBridgeButton
 * @param {String} buttonName The name of the button.
 * @param {String} pluginName The name of the plugin that registers the button.
 * @static
 */
var registerBridgeButton = function registerBridgeButton(buttonName, pluginName) {
	if (!BRIDGE_BUTTONS[pluginName]) {
		BRIDGE_BUTTONS[pluginName] = [];
	}

	BRIDGE_BUTTONS[pluginName].push(buttonName);
};

/**
 * @method OOP
 * @memberof AlloyEditor
 */
var OOP = {
	extend: _oop2.default
};

exports.Attribute = _attribute2.default;
exports.Base = Base;
exports.Buttons = _buttons2.default;
exports.Compat = Compat;
exports.Core = _core2.default;
exports.Lang = _lang2.default;
exports.OOP = OOP;
exports.SelectionGetArrowBoxClasses = _selectionArrowbox2.default;
exports.SelectionSetPosition = _selectionPosition2.default;
exports.SelectionTest = _selectionTest2.default;
exports.Selections = _selections2.default;
exports.Toolbars = _toolbars2.default;
exports.editable = editable;
exports.getBasePath = getBasePath;
exports.getButtons = getButtons;
exports.getUrl = getUrl;
exports.implementEventTarget = implementEventTarget;
exports.loadLanguageResources = loadLanguageResources;
exports.regexBasePath = regexBasePath;
exports.registerBridgeButton = registerBridgeButton;

/***/ }),

/***/ "./src/commands/index.js":
/*!*******************************!*\
  !*** ./src/commands/index.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.removeImageCommand = undefined;

var _removeImage = __webpack_require__(/*! ./remove-image */ "./src/commands/remove-image.js");

var _removeImage2 = _interopRequireDefault(_removeImage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.removeImageCommand = _removeImage2.default; /**
                                                     * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                     * SPDX-License-Identifier: LGPL-3.0-or-later
                                                     */

/***/ }),

/***/ "./src/commands/remove-image.js":
/*!**************************************!*\
  !*** ./src/commands/remove-image.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var removeImageCommand = {
	exec: function exec(editor) {
		var selection = editor.getSelection();

		if (selection) {
			var ranges = selection.getRanges();
			var startContainer = ranges[0].startContainer;

			var nextRange = new CKEDITOR.dom.range(startContainer);
			nextRange.setStart(startContainer, 0);
			nextRange.setEnd(startContainer, 0);

			var selectedElement = selection.getSelectedElement();

			if (selectedElement && selectedElement.getName() === 'img') {
				var native = selection.getNative();
				if (native) {
					native.removeAllRanges();
				}

				selection.selectRanges([nextRange]);

				selectedElement.remove();
			}
		}
	}
};

exports.default = removeImageCommand;

/***/ }),

/***/ "./src/components/base/button-action-style.js":
/*!****************************************************!*\
  !*** ./src/components/base/button-action-style.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * ButtonActionStyle is a mixin that provides applying style implementation for a
 * button based on the `applyStyle` and `removeStyle` API of CKEDITOR.
 *
 * To execute properly, the component has to expose the following methods which can be obtained
 * out of the box using the {{#crossLink "ButtonStyle"}}{{/crossLink}} mixin:
 * - `Function` {{#crossLink "ButtonStyle/isActive"}}{{/crossLink}} to check the active state
 * - `Function` {{#crossLink "ButtonStyle/getStyle"}}{{/crossLink}} to return the style that should be applied
 *
 * @class ButtonActionStyle
 */
exports.default = function (WrappedComponent) {
	var _class, _temp2;

	return _temp2 = _class = function (_WrappedComponent) {
		_inherits(ButtonActionStyle, _WrappedComponent);

		function ButtonActionStyle() {
			var _ref;

			var _temp, _this, _ret;

			_classCallCheck(this, ButtonActionStyle);

			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonActionStyle.__proto__ || Object.getPrototypeOf(ButtonActionStyle)).call.apply(_ref, [this].concat(args))), _this), _this.applyStyle = function () {
				if (_lang2.default.isFunction(_this.isActive) && _lang2.default.isFunction(_this.getStyle)) {
					var editor = _this.context.editor.get('nativeEditor');

					editor.getSelection().lock();

					if (_this.isActive()) {
						editor.removeStyle(_this.getStyle());
					} else {
						editor.applyStyle(_this.getStyle());
					}

					editor.getSelection().unlock();

					editor.fire('actionPerformed', _this);
				}
			}, _temp), _possibleConstructorReturn(_this, _ret);
		}

		/**
   * Removes or applies the component style to the current selection.
   *
   * @instance
   * @memberof ButtonActionStyle
   * @method applyStyle
   */


		return ButtonActionStyle;
	}(WrappedComponent), _class.contextType = _editorContext2.default, _temp2;
};

/***/ }),

/***/ "./src/components/base/button-command-active.js":
/*!******************************************************!*\
  !*** ./src/components/base/button-command-active.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * ButtonCommandActive is a mixin that provides an `isActive` method to determine if
 * a context-aware command is currently in an active state.
 *
 * @class ButtonCommandActive
 */
exports.default = function (WrappedComponent) {
	var _class, _temp;

	return _temp = _class = function (_WrappedComponent) {
		_inherits(ButtonCommandActive, _WrappedComponent);

		function ButtonCommandActive() {
			_classCallCheck(this, ButtonCommandActive);

			return _possibleConstructorReturn(this, (ButtonCommandActive.__proto__ || Object.getPrototypeOf(ButtonCommandActive)).apply(this, arguments));
		}

		_createClass(ButtonCommandActive, [{
			key: 'isActive',


			/**
    * Checks if the command is active in the current selection.
    *
    * @instance
    * @memberof ButtonCommandActive
    * @method isActive
    * @return {Boolean} True if the command is active, false otherwise.
    */
			value: function isActive() {
				var editor = this.context.editor.get('nativeEditor');

				var command = editor.getCommand(this.props.command);

				return command ? command.state === CKEDITOR.TRISTATE_ON : false;
			}
		}]);

		return ButtonCommandActive;
	}(WrappedComponent), _class.contextType = _editorContext2.default, _temp;
};

/***/ }),

/***/ "./src/components/base/button-command.js":
/*!***********************************************!*\
  !*** ./src/components/base/button-command.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * ButtonCommand is a mixin that executes a command via CKEDITOR's API.
 *
 * @class ButtonCommand
 */
exports.default = function (WrappedComponent) {
	var _class, _temp2;

	return _temp2 = _class = function (_WrappedComponent) {
		_inherits(ButtonCommand, _WrappedComponent);

		function ButtonCommand() {
			var _ref;

			var _temp, _this, _ret;

			_classCallCheck(this, ButtonCommand);

			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonCommand.__proto__ || Object.getPrototypeOf(ButtonCommand)).call.apply(_ref, [this].concat(args))), _this), _this.execCommand = function (data) {
				var editor = _this.context.editor.get('nativeEditor');

				editor.execCommand(_this.props.command, data);

				editor.fire('actionPerformed', _this);
			}, _temp), _possibleConstructorReturn(_this, _ret);
		}

		/**
   * Executes a CKEditor command and fires `actionPerformed` event.
   *
   * @instance
   * @memberof ButtonCommand
   * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.
   * @method execCommand
   */


		return ButtonCommand;
	}(WrappedComponent), _class.contextType = _editorContext2.default, _temp2;
};

/***/ }),

/***/ "./src/components/base/button-keystroke.js":
/*!*************************************************!*\
  !*** ./src/components/base/button-keystroke.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring
 * a function of the instance to be invoked upon the keystroke activation.
 *
 * @class ButtonKeystroke
 */
exports.default = function (WrappedComponent) {
	var _class, _temp;

	return _temp = _class = function (_WrappedComponent) {
		_inherits(ButtonKeystroke, _WrappedComponent);

		function ButtonKeystroke() {
			_classCallCheck(this, ButtonKeystroke);

			return _possibleConstructorReturn(this, (ButtonKeystroke.__proto__ || Object.getPrototypeOf(ButtonKeystroke)).apply(this, arguments));
		}

		_createClass(ButtonKeystroke, [{
			key: 'componentWillMount',


			/**
    * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
    *
    * @instance
    * @memberof ButtonKeystroke
    * @method componentWillMount
    */
			value: function componentWillMount() {
				if (_lang2.default.isFunction(_get(ButtonKeystroke.prototype.__proto__ || Object.getPrototypeOf(ButtonKeystroke.prototype), 'componentWillMount', this))) {
					_get(ButtonKeystroke.prototype.__proto__ || Object.getPrototypeOf(ButtonKeystroke.prototype), 'componentWillMount', this).call(this);
				}

				var nativeEditor = this.context.editor.get('nativeEditor');
				var keystroke = this.props.keystroke;

				var commandName = 'keystroke:' + keystroke.name;

				var command = nativeEditor.getCommand(commandName);

				if (!command) {
					command = new CKEDITOR.command(nativeEditor, {
						exec: function (editor) {
							var keystrokeFn = keystroke.fn;

							if (_lang2.default.isString(keystrokeFn)) {
								this[keystrokeFn].call(this, editor);
							} else if (_lang2.default.isFunction(keystrokeFn)) {
								keystrokeFn.call(this, editor);
							}
						}.bind(this)
					});

					nativeEditor.addCommand(commandName, command);
				}

				this._defaultKeystrokeCommand = nativeEditor.keystrokeHandler.keystrokes[keystroke.keys];

				nativeEditor.setKeystroke(keystroke.keys, commandName);
			}

			/**
    * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
    *
    * @instance
    * @memberof ButtonKeystroke
    * @method componentWillUnmount
    */

		}, {
			key: 'componentWillUnmount',
			value: function componentWillUnmount() {
				if (_lang2.default.isFunction(_get(ButtonKeystroke.prototype.__proto__ || Object.getPrototypeOf(ButtonKeystroke.prototype), 'componentWillUnmount', this))) {
					_get(ButtonKeystroke.prototype.__proto__ || Object.getPrototypeOf(ButtonKeystroke.prototype), 'componentWillUnmount', this).call(this);
				}

				this.context.editor.get('nativeEditor').setKeystroke(this.props.keystroke.keys, this._defaultKeystrokeCommand);
			}
		}]);

		return ButtonKeystroke;
	}(WrappedComponent), _class.contextType = _editorContext2.default, _temp;
};

/***/ }),

/***/ "./src/components/base/button-props.js":
/*!*********************************************!*\
  !*** ./src/components/base/button-props.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * ButtonCfgProps is a class that provides a mergeButtonCfgProps method for
 * merging React props and the native CKEDITOR's buttonCfg.
 *
 * @class ButtonProps
 */
exports.default = function (WrappedComponent) {
	var _class, _temp;

	return _temp = _class = function (_WrappedComponent) {
		_inherits(ButtonProps, _WrappedComponent);

		function ButtonProps() {
			_classCallCheck(this, ButtonProps);

			return _possibleConstructorReturn(this, (ButtonProps.__proto__ || Object.getPrototypeOf(ButtonProps)).apply(this, arguments));
		}

		_createClass(ButtonProps, [{
			key: 'mergeButtonCfgProps',


			/**
    * Merges the properties, passed to the current component with user's configuration
    * via `buttonCfg` property.
    *
    * @instance
    * @memberof ButtonProps
    * @method mergeButtonCfgProps
    * @param {Object} props The properties to be merged with the provided configuration for this
    * button. If not passed, the user configuration will be merged with `this.props`
    * @return {Object} The merged properties
    */
			value: function mergeButtonCfgProps() {
				var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;

				var nativeEditor = this.context.editor.get('nativeEditor');
				var buttonCfg = nativeEditor.config.buttonCfg || {};
				return CKEDITOR.tools.merge(props, buttonCfg['linkEdit']);
			}
		}]);

		return ButtonProps;
	}(WrappedComponent), _class.contextType = _editorContext2.default, _temp;
};

/***/ }),

/***/ "./src/components/base/button-state-classes.js":
/*!*****************************************************!*\
  !*** ./src/components/base/button-state-classes.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * ButtonStateClasses is a mixin that decorates the domElement of a component
 * with different CSS classes based on the current state of the element.
 *
 * To check for state, the component can expose the following methods:
 * - `Function` **isActive** to check the active state
 *
 * @class ButtonStateClasses
 */
exports.default = function (WrappedComponent) {
	return function (_WrappedComponent) {
		_inherits(ButtonStateClasses, _WrappedComponent);

		function ButtonStateClasses() {
			_classCallCheck(this, ButtonStateClasses);

			return _possibleConstructorReturn(this, (ButtonStateClasses.__proto__ || Object.getPrototypeOf(ButtonStateClasses)).apply(this, arguments));
		}

		_createClass(ButtonStateClasses, [{
			key: 'getStateClasses',

			/**
    * Returns the list of state classes associated to the current element's state, according
    * to the results of the isActive method.
    *
    * @instance
    * @memberof ButtonStateClasses
    * @method getStateClasses
    * @return {String} A string with the state CSS classes.
    */
			value: function getStateClasses() {
				var stateClasses = '';

				// Check for active state
				if (_lang2.default.isFunction(this.isActive) && this.isActive()) {
					stateClasses += 'ae-button-pressed';
				}

				return stateClasses;
			}
		}]);

		return ButtonStateClasses;
	}(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-style.js":
/*!*********************************************!*\
  !*** ./src/components/base/button-style.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * ButtonStyle is a mixin that provides a style prop and some methods to apply the resulting
 * style and checking if it is present in a given path or selection.
 *
 * @class ButtonStyle
 */
exports.default = function (WrappedComponent) {
	var _class, _temp;

	return _temp = _class = function (_WrappedComponent) {
		_inherits(ButtonStyle, _WrappedComponent);

		function ButtonStyle() {
			_classCallCheck(this, ButtonStyle);

			return _possibleConstructorReturn(this, (ButtonStyle.__proto__ || Object.getPrototypeOf(ButtonStyle)).apply(this, arguments));
		}

		_createClass(ButtonStyle, [{
			key: 'componentWillMount',


			/**
    * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
    *
    * @instance
    * @memberof ButtonStyle
    * @method componentWillMount
    */
			value: function componentWillMount() {
				if (_lang2.default.isFunction(_get(ButtonStyle.prototype.__proto__ || Object.getPrototypeOf(ButtonStyle.prototype), 'componentWillMount', this))) {
					_get(ButtonStyle.prototype.__proto__ || Object.getPrototypeOf(ButtonStyle.prototype), 'componentWillMount', this).call(this);
				}

				var style = this.props.style;

				if (_lang2.default.isString(style)) {
					var parts = style.split('.');
					var currentMember = this.context.editor.get('nativeEditor').config;
					var property = parts.shift();

					while (property && _lang2.default.isObject(currentMember) && _lang2.default.isObject(currentMember[property])) {
						currentMember = currentMember[property];
						property = parts.shift();
					}

					if (_lang2.default.isObject(currentMember)) {
						style = currentMember;
					}
				}

				this._style = new CKEDITOR.style(style);
			}

			/**
    * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
    *
    * @instance
    * @memberof ButtonStyle
    * @method componentWillUnmount
    */

		}, {
			key: 'componentWillUnmount',
			value: function componentWillUnmount() {
				if (_lang2.default.isFunction(_get(ButtonStyle.prototype.__proto__ || Object.getPrototypeOf(ButtonStyle.prototype), 'componentWillUnmount', this))) {
					_get(ButtonStyle.prototype.__proto__ || Object.getPrototypeOf(ButtonStyle.prototype), 'componentWillUnmount', this).call(this);
				}

				this._style = null;
			}

			/**
    * Returns instance of CKEDITOR.style which represents the current button style.
    *
    * @instance
    * @memberof ButtonStyle
    * @method getStyle
    * @return {CKEDITOR.style} The current style representation.
    */

		}, {
			key: 'getStyle',
			value: function getStyle() {
				return this._style;
			}

			/**
    * Checks if style is active in the current selection.
    *
    * @instance
    * @memberof ButtonStyle
    * @method isActive
    * @return {Boolean} True if style is active, false otherwise.
    */

		}, {
			key: 'isActive',
			value: function isActive() {
				var editor = this.context.editor.get('nativeEditor');
				var elementPath = editor.elementPath();
				return this.getStyle().checkActive(elementPath, editor);
			}
		}]);

		return ButtonStyle;
	}(WrappedComponent), _class.contextType = _editorContext2.default, _temp;
};

/***/ }),

/***/ "./src/components/base/index.js":
/*!**************************************!*\
  !*** ./src/components/base/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _buttonActionStyle = __webpack_require__(/*! ./button-action-style */ "./src/components/base/button-action-style.js");

Object.defineProperty(exports, 'ButtonActionStyle', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonActionStyle).default;
  }
});

var _buttonCommandActive = __webpack_require__(/*! ./button-command-active */ "./src/components/base/button-command-active.js");

Object.defineProperty(exports, 'ButtonCommandActive', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonCommandActive).default;
  }
});

var _buttonCommand = __webpack_require__(/*! ./button-command */ "./src/components/base/button-command.js");

Object.defineProperty(exports, 'ButtonCommand', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonCommand).default;
  }
});

var _buttonKeystroke = __webpack_require__(/*! ./button-keystroke */ "./src/components/base/button-keystroke.js");

Object.defineProperty(exports, 'ButtonKeystroke', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonKeystroke).default;
  }
});

var _buttonProps = __webpack_require__(/*! ./button-props */ "./src/components/base/button-props.js");

Object.defineProperty(exports, 'ButtonProps', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonProps).default;
  }
});

var _buttonStateClasses = __webpack_require__(/*! ./button-state-classes */ "./src/components/base/button-state-classes.js");

Object.defineProperty(exports, 'ButtonStateClasses', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonStateClasses).default;
  }
});

var _buttonStyle = __webpack_require__(/*! ./button-style */ "./src/components/base/button-style.js");

Object.defineProperty(exports, 'ButtonStyle', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonStyle).default;
  }
});

var _toolbarButtons = __webpack_require__(/*! ./toolbar-buttons */ "./src/components/base/toolbar-buttons.js");

Object.defineProperty(exports, 'ToolbarButtons', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_toolbarButtons).default;
  }
});

var _widgetDropdown = __webpack_require__(/*! ./widget-dropdown */ "./src/components/base/widget-dropdown.js");

Object.defineProperty(exports, 'WidgetDropdown', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetDropdown).default;
  }
});

var _widgetExclusive = __webpack_require__(/*! ./widget-exclusive */ "./src/components/base/widget-exclusive.js");

Object.defineProperty(exports, 'WidgetExclusive', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetExclusive).default;
  }
});

var _widgetFocusManager = __webpack_require__(/*! ./widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

Object.defineProperty(exports, 'WidgetFocusManager', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetFocusManager).default;
  }
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ }),

/***/ "./src/components/base/toolbar-buttons.js":
/*!************************************************!*\
  !*** ./src/components/base/toolbar-buttons.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * ToolbarButtons provides a list of buttons which have to be displayed
 * on the current toolbar depending on user preferences and given state.
 *
 * @class ToolbarButtons
 */
exports.default = function (WrappedComponent) {
	var _class, _temp;

	return _temp = _class = function (_WrappedComponent) {
		_inherits(ToolbarButtons, _WrappedComponent);

		function ToolbarButtons() {
			_classCallCheck(this, ToolbarButtons);

			return _possibleConstructorReturn(this, (ToolbarButtons.__proto__ || Object.getPrototypeOf(ToolbarButtons)).apply(this, arguments));
		}

		_createClass(ToolbarButtons, [{
			key: 'cancelAnimation',


			/**
    * Cancels an scheduled animation frame.
    *
    * @instance
    * @memberof ToolbarButtons
    * @method cancelAnimation
    */
			value: function cancelAnimation() {
				if (this._animationFrameId) {
					window.cancelAnimationFrame(this._animationFrameId);
				}
			}

			/**
    * Provides functionality for displaying toolbar Arrow box on top or on bottom of the toolbar
    * depending on the point of user interaction with the editor.
    * Returns the list of arrow box classes associated to the current element's state. It relies
    * on the getInteractionPoint method to calculate the selection direction.
    *
    * @instance
    * @memberof ToolbarButtons
    * @method getArrowBoxClasses
    * @return {String} A string with the arrow box CSS classes.
    */


			/**
    * Lifecycle. Returns the default values of the properties used in the
    * toolbar.
    *
    * @instance
    * @memberof ToolbarButtons
    * @method getDefaultProps
    */

		}, {
			key: 'getArrowBoxClasses',
			value: function getArrowBoxClasses() {
				var arrowBoxClasses = 'ae-arrow-box';

				if (this.getInteractionPoint().direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
					arrowBoxClasses += ' ae-arrow-box-top';
				} else {
					arrowBoxClasses += ' ae-arrow-box-bottom';
				}

				return arrowBoxClasses;
			}

			/**
    * Returns an object which contains the position of the element in page coordinates,
    * restricted to fit to given viewport.
    *
    * @instance
    * @memberof ToolbarButtons
    * @method getConstrainedPosition
    * @param {Object} attrs The following properties, provided as numbers:
    * - height
    * - left
    * - top
    * - width
    * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:
    * - width
    * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the
    * element.
    */

		}, {
			key: 'getConstrainedPosition',
			value: function getConstrainedPosition(attrs, viewPaneSize) {
				viewPaneSize = viewPaneSize || new CKEDITOR.dom.window(window).getViewPaneSize();

				var x = attrs.left;
				var y = attrs.top;

				if (attrs.left + attrs.width > viewPaneSize.width) {
					x -= attrs.left + attrs.width - viewPaneSize.width;
				}

				if (y < 0) {
					y = 0;
				}

				return {
					x: x,
					y: y
				};
			}

			/**
    * Returns the position, in page coordinates, according to which a toolbar should appear.
    * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.
    *
    * It depends on the props editorEvent to analyze the following user-interaction parameters:
    * - {Object} selectionData The data about the selection in the editor as returned from
    * {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
    * - {Number} pos Contains the coordinates of the position, considered as most appropriate.
    * This may be the point where the user released the mouse, or just the beginning or the end of
    * the selection.
    *
    * @instance
    * @method getInteractionPoint
    * @return {Object} An Object which contains the following properties:
    * direction, x, y, where x and y are in page coordinates and direction can be one of these:
    * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM
    */

		}, {
			key: 'getInteractionPoint',
			value: function getInteractionPoint() {
				var eventPayload = this.props.editorEvent ? this.props.editorEvent.data : null;

				if (!eventPayload) {
					return;
				}

				var selectionData = eventPayload.selectionData;

				var nativeEvent = eventPayload.nativeEvent;

				var pos = {
					x: eventPayload.nativeEvent.pageX,
					y: selectionData.region.top
				};

				var direction = selectionData.region.direction;

				var endRect = selectionData.region.endRect;

				var startRect = selectionData.region.startRect;

				if (endRect && startRect && startRect.top === endRect.top) {
					direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;
				}

				var x = void 0;
				var y = void 0;

				// If we have the point where user released the mouse, show Toolbar at this point
				// otherwise show it on the middle of the selection.

				if (pos.x && pos.y) {
					x = this._getXPoint(selectionData, pos.x);

					if (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {
						y = Math.min(pos.y, selectionData.region.top);
					} else {
						y = Math.max(pos.y, this._getYPoint(selectionData, nativeEvent));
					}
				} else {
					x = selectionData.region.left + selectionData.region.width / 2;

					if (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
						y = this._getYPoint(selectionData, nativeEvent);
					} else {
						y = selectionData.region.top;
					}
				}

				return {
					direction: direction,
					x: x,
					y: y
				};
			}

			/**
    * Returns the position of the toolbar.
    *
    * @instance
    * @method _getXPoint
    * @param {Object} eventX The X coordinate received from the native event (mouseup).
    * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
    * @protected
    * @return {Number} The calculated X point in page coordinates.
    */

		}, {
			key: '_getXPoint',
			value: function _getXPoint(selectionData, eventX) {
				var region = selectionData.region;

				var left = region.startRect ? region.startRect.left : region.left;
				var right = region.endRect ? region.endRect.right : region.right;

				var x = void 0;

				if (left < eventX && right > eventX) {
					x = eventX;
				} else {
					var leftDist = Math.abs(left - eventX);
					var rightDist = Math.abs(right - eventX);

					if (leftDist < rightDist) {
						// user raised the mouse on left on the selection
						x = left;
					} else {
						x = right;
					}
				}

				return x;
			}

			/**
    * Returns the position of the toolbar.
    *
    * @instance
    * @method _getYPoint
    * @param {Object} nativeEvent The data about event is fired
    * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
    * @protected
    * @return {Number} The calculated Y point in page coordinates.
    */

		}, {
			key: '_getYPoint',
			value: function _getYPoint(selectionData, nativeEvent) {
				var y = 0;

				if (selectionData && nativeEvent) {
					var elementTarget = new CKEDITOR.dom.element(nativeEvent.target);

					if (elementTarget.$ && elementTarget.getStyle('overflow') === 'auto') {
						y = nativeEvent.target.offsetTop + nativeEvent.target.offsetHeight;
					} else {
						y = selectionData.region.bottom;
					}
				}

				return y;
			}

			/**
    * Returns the position of the toolbar taking in consideration the
    * {{#crossLink "ToolbarButtons/gutter:attribute"}}{{/crossLink}} attribute.
    *
    * @instance
    * @memberof ToolbarButtons
    * @protected
    * @method  getWidgetXYPoint
    * @param {Number} left The left offset in page coordinates where Toolbar should be shown.
    * @param {Number} top The top offset in page coordinates where Toolbar should be shown.
    * @param {Number} direction The direction of the selection. May be one of the following:
    * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM
    * @return {Array} An Array with left and top offsets in page coordinates.
    */

		}, {
			key: 'getWidgetXYPoint',
			value: function getWidgetXYPoint(left, top, direction) {
				var domNode = _reactDom2.default.findDOMNode(this);

				var gutter = this.props.gutter;

				if (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM || direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {
					left = left - gutter.left - domNode.offsetWidth / 2;

					top = direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM ? top + gutter.top : top - domNode.offsetHeight - gutter.top;
				} else if (direction === CKEDITOR.SELECTION_LEFT_TO_RIGHT || direction === CKEDITOR.SELECTION_RIGHT_TO_LEFT) {
					left = direction === CKEDITOR.SELECTION_LEFT_TO_RIGHT ? left + gutter.left + domNode.offsetHeight / 2 : left - 3 * domNode.offsetHeight / 2 - gutter.left;

					top = top - gutter.top - domNode.offsetHeight / 2;
				}

				if (left < 0) {
					left = 0;
				}

				if (top < 0) {
					top = 0;
				}

				return [left, top];
			}

			/**
    * Returns true if the toolbar is visible, false otherwise
    *
    * @instance
    * @memberof ToolbarButtons
    * @method isVisible
    * @return {Boolean} True if the toolbar is visible, false otherwise
    */

		}, {
			key: 'isVisible',
			value: function isVisible() {
				var domNode = _reactDom2.default.findDOMNode(this);

				if (domNode) {
					var domElement = new CKEDITOR.dom.element(domNode);

					return domElement.hasClass('alloy-editor-visible');
				}

				return false;
			}

			/**
    * Moves a toolbar from a starting point to a destination point.
    *
    * @instance
    * @memberof ToolbarButtons
    * @method moveToPoint
    * @param  {Object} startPoint The starting point for the movement.
    * @param  {Object} endPoint The destination point for the movement.
    */

		}, {
			key: 'moveToPoint',
			value: function moveToPoint(startPoint, endPoint) {
				var domElement = new CKEDITOR.dom.element(_reactDom2.default.findDOMNode(this));

				domElement.setStyles({
					left: startPoint[0] + 'px',
					top: startPoint[1] + 'px',
					opacity: 0,
					pointerEvents: 'none'
				});

				domElement.removeClass('alloy-editor-invisible');

				this._animationFrameId = window.requestAnimationFrame(function () {
					domElement.addClass('ae-toolbar-transition');
					domElement.addClass('alloy-editor-visible');
					domElement.setStyles({
						left: endPoint[0] + 'px',
						top: endPoint[1] + 'px',
						opacity: 1
					});

					// 150ms to match transition-duration for .ae-toolbar-transition:
					setTimeout(function () {
						domElement.setStyles({
							pointerEvents: ''
						});
					}, 150);
				});
			}

			/**
    * Shows the toolbar with the default animation transition.
    *
    * @instance
    * @memberof ToolbarButtons
    * @method show
    */

		}, {
			key: 'show',
			value: function show() {
				var domNode = _reactDom2.default.findDOMNode(this);
				var uiNode = this.context.editor.get('uiNode');

				var scrollTop = uiNode ? uiNode.scrollTop : 0;

				if (!this.isVisible() && domNode) {
					var interactionPoint = this.getInteractionPoint();

					if (interactionPoint) {
						var domElement = new CKEDITOR.dom.element(domNode);

						var finalX = void 0;
						var finalY = void 0;
						var initialX = void 0;
						var initialY = void 0;

						finalX = initialX = parseFloat(domElement.getStyle('left'));
						finalY = initialY = parseFloat(domElement.getStyle('top'));

						if (this.props.constrainToViewport) {
							var res = this.getConstrainedPosition({
								height: parseFloat(domNode.offsetHeight),
								left: finalX,
								top: finalY,
								width: parseFloat(domNode.offsetWidth)
							});

							finalX = res.x;
							finalY = res.y;
						}

						if (interactionPoint.direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
							initialY = this.props.selectionData.region.bottom + scrollTop;
						} else {
							initialY = this.props.selectionData.region.top + scrollTop;
						}

						this.moveToPoint([initialX, initialY], [finalX, finalY]);
					}
				}
			}

			/**
    * Updates the toolbar position based on the current interaction point.
    *
    * @instance
    * @memberof ToolbarButtons
    * @method updatePosition
    */

		}, {
			key: 'updatePosition',
			value: function updatePosition() {
				var interactionPoint = this.getInteractionPoint();

				var domNode = _reactDom2.default.findDOMNode(this);

				if (interactionPoint && domNode) {
					var uiNode = this.context.editor.get('uiNode') || document.body;
					var uiNodeStyle = getComputedStyle(uiNode);
					var uiNodeMarginLeft = parseInt(uiNodeStyle.getPropertyValue('margin-left'), 10);
					var uiNodeMarginRight = parseInt(uiNodeStyle.getPropertyValue('margin-right'), 10);
					var totalWidth = uiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;

					var scrollTop = uiNode.tagName !== 'BODY' ? uiNode.scrollTop : 0;

					var xy = this.getWidgetXYPoint(interactionPoint.x, interactionPoint.y, interactionPoint.direction);
					xy[1] += scrollTop;

					if (xy[0] < 0) {
						xy[0] = 0;
					}
					if (xy[0] > totalWidth - domNode.offsetWidth) {
						xy[0] = totalWidth - domNode.offsetWidth;
					}

					new CKEDITOR.dom.element(domNode).setStyles({
						left: xy[0] + 'px',
						top: xy[1] + 'px'
					});
				}
			}

			/**
    * Analyses the current selection and returns the buttons or button groups to be rendered.
    *
    * @instance
    * @method getToolbarButtonGroups
    * @param {Array} buttons The buttons could be shown, prior to the state filtering.
    * @param {Object} additionalProps Additional props that should be passed down to the buttons.
    * @return {Array} An Array which contains the buttons or button groups that should be rendered.
    */

		}, {
			key: 'getToolbarButtonGroups',
			value: function getToolbarButtonGroups(buttons, additionalProps) {
				var _this2 = this;

				if (_lang2.default.isFunction(buttons)) {
					buttons = buttons.call(this) || [];
				}

				return buttons.reduce(function (list, button) {
					if (Array.isArray(button)) {
						list.push(_this2.getToolbarButtons(button, additionalProps));
						return list;
					} else {
						return _this2.getToolbarButtons(buttons, additionalProps);
					}
				}, []);
			}

			/**
    * Analyzes the current selection and the buttons exclusive mode value to figure out which
    * buttons should be present in a given state.
    *
    * @instance
    * @memberof ToolbarButtons
    * @method getToolbarButtons
    * @param {Array} buttons The buttons could be shown, prior to the state filtering.
    * @param {Object} additionalProps Additional props that should be passed down to the buttons.
    * @return {Array} An Array which contains the buttons that should be rendered.
    */

		}, {
			key: 'getToolbarButtons',
			value: function getToolbarButtons(buttons, additionalProps) {
				var buttonProps = {};

				var nativeEditor = this.context.editor.get('nativeEditor');
				var buttonCfg = nativeEditor.config.buttonCfg || {};

				if (_lang2.default.isFunction(buttons)) {
					buttons = buttons.call(this) || [];
				}

				var toolbarButtons = this.filterExclusive(buttons.filter(function (button) {
					return button && (AlloyEditor.Buttons[button] || AlloyEditor.Buttons[button.name]);
				}).map(function (button) {
					if (_lang2.default.isString(button)) {
						buttonProps[button] = buttonCfg[button];
						button = AlloyEditor.Buttons[button];
					} else if (_lang2.default.isString(button.name)) {
						buttonProps[AlloyEditor.Buttons[button.name].key] = CKEDITOR.tools.merge(buttonCfg[button], button.cfg);
						button = AlloyEditor.Buttons[button.name];
					}

					return button;
				})).map(function (button, index) {
					var props = this.mergeExclusiveProps({
						editor: this.context.editor,
						key: button.key !== 'separator' ? button.key : button.key + '-' + index,
						tabKey: button.key,
						tabIndex: this.props.trigger && this.props.trigger.props.tabKey === button.key ? 0 : -1,
						trigger: this.props.trigger
					}, button.key);

					props = this.mergeDropdownProps(props, button.key);

					if (additionalProps) {
						props = CKEDITOR.tools.merge(props, additionalProps);
					}

					props = CKEDITOR.tools.merge(props, buttonProps[button.key]);

					return _react2.default.createElement(button, props);
				}, this);

				return toolbarButtons;
			}
		}]);

		return ToolbarButtons;
	}(WrappedComponent), _class.contextType = _editorContext2.default, _class.defaultProps = _extends({}, WrappedComponent.defaultProps, {
		gutter: {
			left: 0,
			top: 10
		},
		constrainToViewport: true
	}), _temp;
};

/***/ }),

/***/ "./src/components/base/widget-dropdown.js":
/*!************************************************!*\
  !*** ./src/components/base/widget-dropdown.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * Provides functionality for managing different dropdowns inside a widget.
 *
 * @class WidgetDropdown
 */
exports.default = function (WrappedComponent) {
	return function (_WrappedComponent) {
		_inherits(WidgetDropdown, _WrappedComponent);

		function WidgetDropdown(props) {
			_classCallCheck(this, WidgetDropdown);

			var _this = _possibleConstructorReturn(this, (WidgetDropdown.__proto__ || Object.getPrototypeOf(WidgetDropdown)).call(this, props));

			_this.mergeDropdownProps = function (obj, itemKey) {
				return CKEDITOR.tools.merge(obj, {
					expanded: _this.state.itemDropdown === itemKey ? true : false,
					tabIndex: _this.state.dropdownTrigger === itemKey ? 0 : -1,
					toggleDropdown: _this.toggleDropdown.bind(_this, itemKey)
				});
			};

			_this.toggleDropdown = function (itemDropdown, toggleDirection) {
				_this.setState({
					dropdownTrigger: itemDropdown,
					itemDropdown: itemDropdown !== _this.state.itemDropdown ? itemDropdown : null
				}, function () {
					if (!_this.state.itemDropdown) {
						if (_this.moveFocus) {
							_this.moveFocus(toggleDirection);
						} else {
							_reactDom2.default.findDOMNode(_this).focus();
						}
					}
				});
			};

			_this.state = _extends({}, _this.state, {
				dropdownTrigger: null,
				itemDropdown: null
			});
			return _this;
		}

		/**
   * Lifecycle. Invoked when a component is receiving new props.
   * This method is not called for the initial render.
   *
   * @instance
   * @memberof WidgetDropdown
   * @method componentWillReceiveProps
   */


		_createClass(WidgetDropdown, [{
			key: 'componentWillReceiveProps',
			value: function componentWillReceiveProps(nextProps) {
				if (_lang2.default.isFunction(_get(WidgetDropdown.prototype.__proto__ || Object.getPrototypeOf(WidgetDropdown.prototype), 'componentWillReceiveProps', this))) {
					_get(WidgetDropdown.prototype.__proto__ || Object.getPrototypeOf(WidgetDropdown.prototype), 'componentWillReceiveProps', this).call(this, nextProps);
				}

				this.setState({
					dropdownTrigger: null,
					itemDropdown: null
				});
			}

			/**
    * Merges the provided object with two more properties:
    * - expanded - boolean flag which indicates if an widget should be rendered exclusively.
    * - toggleDropdown - function, which can be used by an widget in order to obtain exclusive state.
    *
    * @instance
    * @memberof WidgetDropdown
    * @method mergeDropdownProps
    * @param {Object} obj The properties container which should be merged with the properties, related
    *    to dropdown state.
    * @param {Object} itemKey They key of an React Widget which contains the dropdown.
    * @return {Object} The merged object.
    */


			/**
    * Sets the active dropdown of the widget or discards the toggled item from the state.
    *
    * @instance
    * @memberof WidgetDropdown
    * @method toggleDropdown
    * @param {Object} itemDropdown The widget which requests to toggle its dropdown.
    * @param {Number} toggleDirection User movement direction when toggled via keyboard.
    */

		}]);

		return WidgetDropdown;
	}(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-exclusive.js":
/*!*************************************************!*\
  !*** ./src/components/base/widget-exclusive.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * Provides functionality for managing exclusive state of an widget.
 * The exclusive state means that a button may request to be the only rendered
 * widget in its parent container. WidgetExclusive will manage this state by
 * filtering and suppressing the other sibling widgets from displaying.
 *
 * @class WidgetExclusive
 */
exports.default = function (WrappedComponent) {
	return function (_WrappedComponent) {
		_inherits(WidgetExclusive, _WrappedComponent);

		function WidgetExclusive() {
			var _ref;

			var _temp, _this, _ret;

			_classCallCheck(this, WidgetExclusive);

			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = WidgetExclusive.__proto__ || Object.getPrototypeOf(WidgetExclusive)).call.apply(_ref, [this].concat(args))), _this), _this.requestExclusive = function (itemExclusive) {
				_this.setState({
					itemExclusive: itemExclusive
				});
			}, _temp), _possibleConstructorReturn(_this, _ret);
		}

		_createClass(WidgetExclusive, [{
			key: 'cancelExclusive',

			/**
    * Cancels the exclusive state of an widget.
    *
    * @instance
    * @memberof WidgetExclusive
    * @method cancelExclusive
    * @param {Object} itemExclusive The widget which exclusive state should be canceled.
    */
			value: function cancelExclusive(itemExclusive) {
				if (this.state.itemExclusive === itemExclusive) {
					this.setState({
						itemExclusive: null
					});
				}
			}

			/**
    * Lifecycle. Invoked when a component is receiving new props.
    * This method is not called for the initial render.
    * Calling this.setState() within this function will not trigger an additional render.
    *
    * @instance
    * @memberof WidgetExclusive
    * @method componentWillReceiveProps
    * @param {Object} nextProps Object containing the current set of properties.
    */

		}, {
			key: 'componentWillReceiveProps',
			value: function componentWillReceiveProps(nextProps) {
				if (_lang2.default.isFunction(_get(WidgetExclusive.prototype.__proto__ || Object.getPrototypeOf(WidgetExclusive.prototype), 'componentWillReceiveProps', this))) {
					_get(WidgetExclusive.prototype.__proto__ || Object.getPrototypeOf(WidgetExclusive.prototype), 'componentWillReceiveProps', this).call(this, nextProps);
				}

				// Receiving properties means that the component is being re-rendered.
				// Re-rendering is triggered by editorInteraction, so we have to
				// reset the exclusive state and render the UI according to the new selection.
				this.setState({
					itemExclusive: null
				});
			}

			/**
    * Filters the items and returns only those with exclusive state.
    *
    * @instance
    * @memberof WidgetExclusive
    * @method filterExclusive
    * @param {Array} items The widgets to be filtered.
    * @return {Array|Object} The item with executive state.
    */

		}, {
			key: 'filterExclusive',
			value: function filterExclusive(items) {
				var _this2 = this;

				return items.filter(function (item) {
					if (_this2.state.itemExclusive) {
						if (_this2.state.itemExclusive === item.key) {
							return item;
						}
					} else {
						return item;
					}
				});
			}

			/**
    * Merges the provided object with three more properties:
    * - cancelExclusive - function, which can be used by a widget in order to cancel executive state.
    * - renderExclusive - boolean flag which indicates if an widget should be rendered exclusively.
    * - requestExclusive - function, which can be used by a widget in order to obtain exclusive state.
    *
    * @instance
    * @memberof WidgetExclusive
    * @method mergeExclusiveProps
    * @param {Object} obj The properties container which should be merged with the properties, related
    *    to exclusive state.
    * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.
    * @return {Object} The merged object.
    */

		}, {
			key: 'mergeExclusiveProps',
			value: function mergeExclusiveProps(obj, itemKey) {
				return CKEDITOR.tools.merge(obj, {
					cancelExclusive: this.cancelExclusive.bind(this, itemKey),
					renderExclusive: this.state.itemExclusive === itemKey,
					requestExclusive: this.requestExclusive.bind(this, itemKey)
				});
			}

			/**
    * Requests and sets exclusive state of an widget.
    *
    * @instance
    * @memberof WidgetExclusive
    * @method requestExclusive
    * @param {Object} itemExclusive The widget which requests exclusive state.
    */

		}]);

		return WidgetExclusive;
	}(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-focus-manager.js":
/*!*****************************************************!*\
  !*** ./src/components/base/widget-focus-manager.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

var DIRECTION_NONE = 0;
var DIRECTION_NEXT = 1;
var DIRECTION_PREV = -1;

var ACTION_NONE = 0;
var ACTION_MOVE_FOCUS = 1;
var ACTION_DISMISS_FOCUS = 2;

/**
 * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,
 * it exposes the following props and methods:
 *
 * @class WidgetFocusManager
 */

exports.default = function (WrappedComponent) {
	return function (_WrappedComponent) {
		_inherits(WidgetFocusManager, _WrappedComponent);

		function WidgetFocusManager() {
			var _ref;

			var _temp, _this, _ret;

			_classCallCheck(this, WidgetFocusManager);

			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = WidgetFocusManager.__proto__ || Object.getPrototypeOf(WidgetFocusManager)).call.apply(_ref, [this].concat(args))), _this), _this.focus = function (event) {
				if (!event || _this._isValidTarget(event.target)) {
					if (_this._descendants && _this._descendants.length) {
						var activeDescendantEl = _this._descendants[_this._activeDescendant];
						// When user clicks with the mouse, the activeElement is already set and there
						// is no need to focus it. Focusing of the active descendant (usually some button) is required
						// in case of keyboard navigation, because the focused element might be not the first button,
						// but the div element, which contains the button.
						if (document.activeElement !== activeDescendantEl && !_this.props.focusFirstChild) {
							if (_this._descendants.indexOf(document.activeElement) === -1) {
								activeDescendantEl.focus();
							}
						}

						if (event) {
							event.stopPropagation();
							event.preventDefault();
						}
					}
				}
			}, _this.handleKey = function (event) {
				if (_this._isValidTarget(event.target) && _this._descendants) {
					var action = _this._getFocusAction(event);

					if (action.type) {
						event.stopPropagation();
						event.preventDefault();

						if (action.type === ACTION_MOVE_FOCUS) {
							_this._moveFocus(action.direction);
						}

						if (action.type === ACTION_DISMISS_FOCUS) {
							_this.props.onDismiss(action.direction);
						}
					}
				}
			}, _temp), _possibleConstructorReturn(_this, _ret);
		}

		_createClass(WidgetFocusManager, [{
			key: 'componentDidMount',

			/**
    * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method componentDidMount
    */
			value: function componentDidMount() {
				if (_lang2.default.isFunction(_get(WidgetFocusManager.prototype.__proto__ || Object.getPrototypeOf(WidgetFocusManager.prototype), 'componentDidMount', this))) {
					_get(WidgetFocusManager.prototype.__proto__ || Object.getPrototypeOf(WidgetFocusManager.prototype), 'componentDidMount', this).call(this);
				}

				this._refresh();
			}

			/**
    * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
    * Refreshes the descendants list.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method componentDidUpdate
    */

		}, {
			key: 'componentDidUpdate',
			value: function componentDidUpdate() {
				if (_lang2.default.isFunction(_get(WidgetFocusManager.prototype.__proto__ || Object.getPrototypeOf(WidgetFocusManager.prototype), 'componentDidUpdate', this))) {
					_get(WidgetFocusManager.prototype.__proto__ || Object.getPrototypeOf(WidgetFocusManager.prototype), 'componentDidUpdate', this).call(this);
				}

				this._refresh();
			}

			/**
    * Focuses the current active descendant.
    *
    * Several Widgets can be nested in a component hierarchy by attaching this focus method to
    * the widget DOM node, transferring the DOM focus control to the inner FocusManager.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method focus
    */


			/**
    * Handles the key events on a DOM node to execute the appropriate navigation when needed.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @param {Object} event The Keyboard event that was detected on the widget DOM node.
    * @method handleKey
    */

		}, {
			key: 'moveFocus',


			/**
    * Moves the focus among descendants in the especified direction.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method moveFocus
    * @param {number} direction The direction (1 or -1) of the focus movement among descendants.
    */
			value: function moveFocus(direction) {
				direction = _lang2.default.isNumber(direction) ? direction : 0;

				this._moveFocus(direction);
			}

			/**
    * Returns the action, if any, that a keyboard event in the current focus manager state
    * should produce.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method _getFocusAction
    * @param {object} event The Keyboard event.
    * @protected
    * @return {Object} An action object with type and direction properties.
    */

		}, {
			key: '_getFocusAction',
			value: function _getFocusAction(event) {
				var action = {
					type: ACTION_NONE
				};

				if (this.props.keys) {
					var direction = this._getFocusMoveDirection(event);

					if (direction) {
						action.direction = direction;
						action.type = ACTION_MOVE_FOCUS;
					}

					var dismissAction = this._getFocusDismissAction(event, direction);

					if (dismissAction.dismiss) {
						action.direction = dismissAction.direction;
						action.type = ACTION_DISMISS_FOCUS;
					}
				}

				return action;
			}

			/**
    * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This
    * will happen in any of these scenarios if a dismiss callback has been specified:
    * - A dismiss key has been pressed
    * - In a non-circular focus manager, when:
    *     - The active descendant is the first one and a prev key has been pressed.
    *     - The active descendant is the last one and a next key has been pressed.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method _getFocusDismissAction
    * @param {Number} focusMoveDirection The focus movement direction (if any).
    * @param {Object} event The Keyboard event.
    * @protected
    * @return {Object} A dismiss action with dismiss and direction properties.
    */

		}, {
			key: '_getFocusDismissAction',
			value: function _getFocusDismissAction(event, focusMoveDirection) {
				var dismissAction = {
					direction: focusMoveDirection,
					dismiss: false
				};

				if (this.props.onDismiss) {
					if (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {
						dismissAction.dismiss = true;
					}
					if (this._isValidKey(event.keyCode, this.props.keys.dismissNext)) {
						dismissAction.dismiss = true;
						dismissAction.direction = DIRECTION_NEXT;
					}
					if (this._isValidKey(event.keyCode, this.props.keys.dismissPrev)) {
						dismissAction.dismiss = true;
						dismissAction.direction = DIRECTION_PREV;
					}

					if (!dismissAction.dismiss && !this.props.circular && focusMoveDirection) {
						dismissAction.dismiss = focusMoveDirection === DIRECTION_PREV && this._activeDescendant === 0 || focusMoveDirection === DIRECTION_NEXT && this._activeDescendant === this._descendants.length - 1;
					}
				}

				return dismissAction;
			}

			/**
    * Returns the direction, if any, in which the focus should be moved. In presence of the
    * shift key modifier, the direction of the movement is inverted.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method _getFocusMoveDirection
    * @param {Object} event The Keyboard event.
    * @protected
    * @return {Number} The computed direction of the expected focus movement.
    */

		}, {
			key: '_getFocusMoveDirection',
			value: function _getFocusMoveDirection(event) {
				var direction = DIRECTION_NONE;

				if (this._isValidKey(event.keyCode, this.props.keys.next)) {
					direction = DIRECTION_NEXT;
				}
				if (this._isValidKey(event.keyCode, this.props.keys.prev)) {
					direction = DIRECTION_PREV;
				}

				if (event.shifKey) {
					direction *= -1;
				}

				return direction;
			}

			/**
    * Indicates if a given keyCode is valid for the given set of keys.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method _isValidKey
    * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.
    * @param {Number} keyCode An event keyCode.
    * @protected
    * @return {Boolean} A boolean value indicating if the key is valid.
    */

		}, {
			key: '_isValidKey',
			value: function _isValidKey(keyCode, keys) {
				return _lang2.default.isArray(keys) ? keys.indexOf(keyCode) !== -1 : keyCode === keys;
			}

			/**
    * Indicates if a given element is valid for focus management. User input elements such as
    * input, select or textarea are excluded.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method _isValidKey
    * @param {DOMNode} element A DOM element.
    * @protected
    * @return {Boolean} A boolean value indicating if the element is valid.
    */

		}, {
			key: '_isValidTarget',
			value: function _isValidTarget(element) {
				var tagName = element.tagName.toLowerCase();

				return tagName !== 'input' && tagName !== 'select' && tagName !== 'textarea';
			}

			/**
    * Moves the focus among descendants in the especified direction.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method _moveFocus
    * @param {number} direction The direction (1 or -1) of the focus movement among descendants.
    * @protected
    */

		}, {
			key: '_moveFocus',
			value: function _moveFocus(direction) {
				var numDescendants = this._descendants.length;

				var descendant = this._descendants[this._activeDescendant];

				descendant.setAttribute('tabIndex', -1);

				this._activeDescendant += direction;

				if (this.props.circular) {
					// Calculate proper modulo result since remainder operator doesn't behave in the
					// same way for negative numbers
					this._activeDescendant = (this._activeDescendant % numDescendants + numDescendants) % numDescendants;
				} else {
					this._activeDescendant = Math.max(Math.min(this._activeDescendant, numDescendants - 1), 0);
				}

				descendant = this._descendants[this._activeDescendant];

				descendant.setAttribute('tabIndex', 0);
				descendant.focus();
			}

			/**
    * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.
    *
    * @instance
    * @memberof WidgetFocusManager
    * @method _refresh
    * @protected
    */

		}, {
			key: '_refresh',
			value: function _refresh() {
				var _this2 = this;

				var domNode = _reactDom2.default.findDOMNode(this);

				if (domNode) {
					var descendants = domNode.querySelectorAll(this.props.descendants);

					var priorityDescendants = [];

					this._descendants = [];

					Array.prototype.slice.call(descendants).forEach(function (item) {
						var dataTabIndex = item.getAttribute('data-tabindex');

						if (dataTabIndex) {
							priorityDescendants.push(item);
						} else {
							_this2._descendants.push(item);
						}
					});

					priorityDescendants = priorityDescendants.sort(function (a, b) {
						return _lang2.default.toInt(a.getAttribute('data-tabindex')) > _lang2.default.toInt(b.getAttribute('data-tabindex'));
					});

					this._descendants = priorityDescendants.concat(this._descendants);

					this._activeDescendant = 0;

					this._descendants.some(function (item, index) {
						if (item.getAttribute('tabindex') === '0') {
							_this2._activeDescendant = index;
							_this2.focus();

							return true;
						}
					});
				}
			}
		}]);

		return WidgetFocusManager;
	}(WrappedComponent);
};

/***/ }),

/***/ "./src/components/buttons/button-accessibility-image-alt.jsx":
/*!*******************************************************************!*\
  !*** ./src/components/buttons/button-accessibility-image-alt.jsx ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonAccessibilityImageAlt class provides functionality for changing text color in a document.
 *
 * @class ButtonAccessibilityImageAlt
 *
 */
var ButtonAccessibilityImageAlt = function (_React$Component) {
	_inherits(ButtonAccessibilityImageAlt, _React$Component);

	function ButtonAccessibilityImageAlt(props) {
		_classCallCheck(this, ButtonAccessibilityImageAlt);

		var _this = _possibleConstructorReturn(this, (ButtonAccessibilityImageAlt.__proto__ || Object.getPrototypeOf(ButtonAccessibilityImageAlt)).call(this, props));

		_initialiseProps.call(_this);

		var selection = props.context.editor.get('nativeEditor').getSelection();

		var element = selection.getSelectedElement() || selection.getStartElement();

		_this._element = element;

		var imageElement = _this._element.findOne('img');

		var imageAlt = imageElement ? imageElement.getAttribute('alt') : _this._element.getAttribute('alt');

		_this.state = {
			imageAlt: imageAlt
		};
		return _this;
	}

	/**
  * Lifecycle. Renders the UI of the button.
  *
  * @method render
  * @return {Object} The content which should be rendered.
  */


	_createClass(ButtonAccessibilityImageAlt, [{
		key: 'render',
		value: function render() {
			if (this.props.renderExclusive) {
				return _react2.default.createElement(
					'div',
					{ className: 'ae-container-edit-link' },
					_react2.default.createElement(
						'div',
						{ className: 'ae-container-input xxl' },
						_react2.default.createElement('input', {
							'aria-label': 'alt',
							className: 'ae-input',
							onChange: this._handleAltChange,
							onKeyDown: this._handleKeyDown,
							placeholder: 'alt',
							ref: 'refAltInput',
							title: 'alt',
							type: 'text',
							value: this.state.imageAlt
						})
					),
					_react2.default.createElement(
						'button',
						{
							'aria-label': AlloyEditor.Strings.confirm,
							className: 'ae-button',
							onClick: this._updateImageAlt,
							title: AlloyEditor.Strings.confirm },
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'check' })
					)
				);
			} else {
				return _react2.default.createElement(
					'button',
					{
						className: 'ae-button',
						onClick: this._requestExclusive,
						tabIndex: this.props.tabIndex },
					_react2.default.createElement(
						'small',
						{ className: 'ae-icon small' },
						'Alt'
					)
				);
			}
		}

		/**
   * Focuses the user cursor on the widget's input.
   *
   * @protected
   * @method _focusAltInput
   */

	}, {
		key: '_focusAltInput',
		value: function _focusAltInput() {
			var instance = this;

			var focusAltEl = function focusAltEl() {
				_reactDom2.default.findDOMNode(instance.refs.refAltInput).focus();
			};

			if (window.requestAnimationFrame) {
				window.requestAnimationFrame(focusAltEl);
			} else {
				setTimeout(focusAltEl, 0);
			}
		}

		/**
   * Event attached to alt input that fires when its value is changed
   *
   * @protected
   * @method  _handleAltChange
   * @param {MouseEvent} event
   */


		/**
   * Event attached to al tinput that fires when key is down
   * This method check that enter key is pushed to update the component´s state
   *
   * @protected
   * @method  _handleKeyDown
   * @param {MouseEvent} event
   */


		/**
   * Requests the link button to be rendered in exclusive mode to allow the creation of a link.
   *
   * @protected
   * @method _requestExclusive
   */


		/**
   * Method called by clicking ok button or pushing key enter to update imageAlt state and to update alt property from the image that is selected
   * This method calls cancelExclusive to show the previous toolbar before enter to edit alt property
   *
   * @protected
   * @method  _updateImageAlt
   */

	}]);

	return ButtonAccessibilityImageAlt;
}(_react2.default.Component);

ButtonAccessibilityImageAlt.contextType = _editorContext2.default;
ButtonAccessibilityImageAlt.key = 'imageAlt';

var _initialiseProps = function _initialiseProps() {
	var _this2 = this;

	this._handleAltChange = function (event) {
		_this2.setState({
			imageAlt: event.target.value
		});

		_this2._focusAltInput();
	};

	this._handleKeyDown = function (event) {
		if (event.keyCode === 13) {
			event.preventDefault();

			_this2._updateImageAlt();
		}
	};

	this._requestExclusive = function () {
		_this2.props.requestExclusive(ButtonAccessibilityImageAlt.key);
	};

	this._updateImageAlt = function () {
		var editor = _this2.context.editor.get('nativeEditor');

		var imageAlt = _this2.refs.refAltInput.value;

		_this2.setState({
			imageAlt: imageAlt
		});

		var imageElement = _this2._element.findOne('img');
		var image = imageElement ? imageElement : _this2._element;

		image.setAttribute('alt', imageAlt);

		editor.fire('actionPerformed', _this2);

		// We need to cancelExclusive with the bound parameters in case the button is used
		// inside another in exclusive mode (such is the case of the alt button)
		_this2.props.cancelExclusive();
	};
};

exports.default = _editorContext2.default.toProps(ButtonAccessibilityImageAlt);

/***/ }),

/***/ "./src/components/buttons/button-background-color.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-background-color.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

var ButtonBackgroundColor = function (_React$Component) {
	_inherits(ButtonBackgroundColor, _React$Component);

	function ButtonBackgroundColor() {
		_classCallCheck(this, ButtonBackgroundColor);

		return _possibleConstructorReturn(this, (ButtonBackgroundColor.__proto__ || Object.getPrototypeOf(ButtonBackgroundColor)).apply(this, arguments));
	}

	_createClass(ButtonBackgroundColor, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var _this2 = this;

			var activeColor = AlloyEditor.Strings.normal;

			var activeColorClass = '';

			var colors = this._getColors();

			var itemStyle = {
				element: 'span',
				attributes: {
					class: ''
				}
			};

			colors.forEach(function (item) {
				itemStyle.attributes.class = item.styleClass;

				if (_this2._checkActive(itemStyle)) {
					activeColor = item.name;

					activeColorClass = item.style.attributes.class;
				}
			});

			var _props = this.props,
			    expanded = _props.expanded,
			    tabIndex = _props.tabIndex,
			    toggleDropdown = _props.toggleDropdown;


			var buttonStylesProps = {
				activeStyle: activeColor,
				onDismiss: toggleDropdown,
				showRemoveStylesItem: false,
				styles: colors
			};

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': expanded,
						className: 'ae-toolbar-element',
						onClick: toggleDropdown,
						role: 'combobox',
						tabIndex: tabIndex },
					_react2.default.createElement(
						'span',
						{ className: activeColorClass },
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'textbox' })
					)
				),
				expanded && _react2.default.createElement(_buttonStylesList2.default, buttonStylesProps)
			);
		}
	}, {
		key: '_applyStyle',
		value: function _applyStyle(className) {
			var _this3 = this;

			var editor = this.context.editor.get('nativeEditor');

			var styleConfig = {
				element: 'span',
				attributes: {
					class: className
				}
			};

			editor.getSelection().lock();

			this._getColors().forEach(function (item) {
				styleConfig.attributes.class = item.styleClass;

				if (_this3._checkActive(styleConfig)) {
					editor.removeStyle(new CKEDITOR.style(styleConfig));
				}
			});

			styleConfig.attributes.class = className;

			var style = new CKEDITOR.style(styleConfig);

			editor.applyStyle(style);

			editor.getSelection().unlock();

			editor.fire('actionPerformed', this);
		}

		/**
   * Checks if the given color definition is applied to the current selection in the editor.
   *
   * @instance
   * @memberof ButtonBackgroundColor
   * @method _checkActive
   * @param {Object} styleConfig color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.
   * @protected
   * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.
   */

	}, {
		key: '_checkActive',
		value: function _checkActive(styleConfig) {
			var nativeEditor = this.context.editor.get('nativeEditor');

			// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting
			// to a 'span' element works for most of those cases with no defined element.
			styleConfig = CKEDITOR.tools.merge({ element: 'span' }, styleConfig);

			var style = new CKEDITOR.style(styleConfig);

			return style.checkActive(nativeEditor.elementPath(), nativeEditor);
		}

		/**
   * Returns an array of colors. Each color consists of two properties:
   * - name - the style name, for example "default"
   * - style - an object with one property, called `element` which value
   * represents the style which have to be applied to the element.
   *
   * @instance
   * @memberof ButtonBackgroundColor
   * @method _getColor
   * @protected
   * @return {Array<object>} An array of objects containing the colors.
   */

	}, {
		key: '_getColors',
		value: function _getColors() {
			return this.props.styles || [{
				name: AlloyEditor.Strings.normal,
				style: {
					element: 'span',
					attributes: {
						class: 'text-body'
					}
				},
				styleClass: '',
				styleFn: this._applyStyle.bind(this, '')
			}, {
				name: AlloyEditor.Strings.primary,
				style: {
					element: 'span',
					attributes: {
						class: 'text-primary'
					}
				},
				styleClass: 'bg-primary',
				styleFn: this._applyStyle.bind(this, 'bg-primary')
			}, {
				name: AlloyEditor.Strings.disabled,
				style: {
					element: 'span',
					attributes: {
						class: 'text-secondary'
					}
				},
				styleClass: 'bg-secondary',
				styleFn: this._applyStyle.bind(this, 'bg-secondary')
			}, {
				name: AlloyEditor.Strings.success,
				style: {
					element: 'span',
					attributes: {
						class: 'text-success'
					}
				},
				styleClass: 'bg-success',
				styleFn: this._applyStyle.bind(this, 'bg-success')
			}, {
				name: AlloyEditor.Strings.danger,
				style: {
					element: 'span',
					attributes: {
						class: 'text-danger'
					}
				},
				styleClass: 'bg-danger',
				styleFn: this._applyStyle.bind(this, 'bg-danger')
			}, {
				name: AlloyEditor.Strings.warning,
				style: {
					element: 'span',
					attributes: {
						class: 'text-warning'
					}
				},
				styleClass: 'bg-warning',
				styleFn: this._applyStyle.bind(this, 'bg-warning')
			}, {
				name: AlloyEditor.Strings.info,
				style: {
					element: 'span',
					attributes: {
						class: 'text-info'
					}
				},
				styleClass: 'bg-info',
				styleFn: this._applyStyle.bind(this, 'bg-info')
			}];
		}
	}]);

	return ButtonBackgroundColor;
}(_react2.default.Component);

ButtonBackgroundColor.contextType = _editorContext2.default;
ButtonBackgroundColor.key = 'backgroundColor';
ButtonBackgroundColor.propTypes = {
	/**
  * Indicates whether the styles list is expanded or not.
  *
  * @instance
  * @memberof ButtonBackgroundColor
  * @property {Boolean} expanded
  */
	expanded: _propTypes2.default.bool,

	/**
  * The label that should be used for accessibility purposes.
  *
  * @instance
  * @memberof ButtonBackgroundColor
  * @property {String} label
  */
	label: _propTypes2.default.string,

	/**
  * Indicates whether the remove styles item should appear in the styles list.
  *
  * @instance
  * @memberof ButtonBackgroundColor
  * @property {Boolean} showRemoveStylesItem
  */
	showRemoveStylesItem: _propTypes2.default.bool,

	/**
  * List of the styles the button is able to handle.
  *
  * @instance
  * @memberof ButtonBackgroundColor
  * @property {Array} styles
  */
	styles: _propTypes2.default.arrayOf(_propTypes2.default.object),

	/**
  * The tabIndex of the button in its toolbar current state. A value other than -1
  * means that the button has focus and is the active element.
  *
  * @instance
  * @memberof ButtonBackgroundColor
  * @property {Number} tabIndex
  */
	tabIndex: _propTypes2.default.number,

	/**
  * Callback provided by the button host to notify when the styles list has been expanded.
  *
  * @instance
  * @memberof ButtonBackgroundColor
  * @property {Function} toggleDropdown
  */
	toggleDropdown: _propTypes2.default.func
};
exports.default = ButtonBackgroundColor;

/***/ }),

/***/ "./src/components/buttons/button-bold.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-bold.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonBold class provides functionality for styling an selection with strong (bold) style.
 *
 * @class ButtonBold
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonBold = function (_React$Component) {
	_inherits(ButtonBold, _React$Component);

	function ButtonBold() {
		_classCallCheck(this, ButtonBold);

		return _possibleConstructorReturn(this, (ButtonBold.__proto__ || Object.getPrototypeOf(ButtonBold)).apply(this, arguments));
	}

	_createClass(ButtonBold, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonBold
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonBold
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button  ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.bold,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-bold',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.bold },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'bold' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default bold
   * @memberof ButtonBold
   * @property {String} key
   * @static
   */

	}]);

	return ButtonBold;
}(_react2.default.Component);

ButtonBold.defaultProps = {
	command: 'bold',
	keystroke: {
		fn: 'execCommand',
		keys: CKEDITOR.CTRL + 66 /* B*/
		, name: 'bold'
	},
	style: 'coreStyles_bold'
};
ButtonBold.key = 'bold';
exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonBold))));

/***/ }),

/***/ "./src/components/buttons/button-camera-image.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-camera-image.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonCameraImage class takes photo from camera and inserts it to the content.
 *
 * @class ButtonCameraImage
 */
var ButtonCameraImage = function (_React$Component) {
	_inherits(ButtonCameraImage, _React$Component);

	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof ButtonCameraImage
  */
	function ButtonCameraImage(props) {
		_classCallCheck(this, ButtonCameraImage);

		var _this = _possibleConstructorReturn(this, (ButtonCameraImage.__proto__ || Object.getPrototypeOf(ButtonCameraImage)).call(this, props));

		_this.takePhoto = function () {
			var videoEl = _this._videoContainerRef.current;
			var canvasEl = _this._canvasContainerRef.current;

			var context = canvasEl.getContext('2d');

			var height = _this._videoHeight;
			var width = _this.props.videoWidth;

			if (width && height) {
				canvasEl.width = width;
				canvasEl.height = height;

				context.drawImage(videoEl, 0, 0, width, height);

				var imgURL = canvasEl.toDataURL('image/png');

				var el = CKEDITOR.dom.element.createFromHtml('<img src="' + imgURL + '">');

				var editor = _this.context.editor.get('nativeEditor');

				editor.insertElement(el);

				_this.props.cancelExclusive();

				editor.fire('actionPerformed', _this);

				editor.fire('imageCameraAdd', el);
			}
		};

		_this._handleStreamError = function (error) {
			window.alert('An error occurred! ' + error);
		};

		_this._handleStreamSuccess = function (stream) {
			var videoEl = _this._videoContainerRef.current;
			var canvasEl = _this._canvasContainerRef.current;

			videoEl.addEventListener('canplay', function () {
				var height = videoEl.videoHeight / (videoEl.videoWidth / _this.props.videoWidth);

				if (isNaN(height)) {
					height = _this.props.videoWidth / (4 / 3);
				}

				videoEl.setAttribute('width', _this.props.videoWidth);
				videoEl.setAttribute('height', height);
				canvasEl.setAttribute('width', _this.props.videoWidth);
				canvasEl.setAttribute('height', height);

				_this._videoHeight = height;
			}, false);

			_this._stream = stream;

			if (navigator.mozGetUserMedia) {
				videoEl.mozSrcObject = stream;
			} else {
				videoEl.srcObject = stream;
			}

			videoEl.play();

			_this._buttonTakePhotoRef.current.disabled = false;
		};

		_this._buttonTakePhotoRef = _react2.default.createRef();
		_this._canvasContainerRef = _react2.default.createRef();
		_this._videoContainerRef = _react2.default.createRef();
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
  *
  * Focuses the take photo button.
  *
  * @instance
  * @memberof ButtonCameraImage
  * @method componentDidMount
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default cameraImage
  * @memberof ButtonCameraImage
  * @property {String} key
  * @static
  */


	_createClass(ButtonCameraImage, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			this._buttonTakePhotoRef.current.focus();
		}

		/**
   * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
   *
   * @instance
   * @memberof ButtonCameraImage
   * @method componentWillUnmount
   */

	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			if (this._stream) {
				if (this._stream.stop) {
					this._stream.stop();
				} else if (this._stream.getVideoTracks) {
					this._stream.getVideoTracks().forEach(function (track) {
						track.stop();
					});
				}
				this._stream = null;
			}
		}

		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonCameraImage
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',


		/**
   * Fired when an image is being taken from the camera and added as an element to the editor.
   *
   * @event ButtonCameraImage#imageCameraAdd
   * @memberof ButtonCameraImage
   * @param {CKEDITOR.dom.element} el The created img element in editor.
   */
		value: function render() {
			var getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;

			getUserMedia.call(navigator, {
				video: true,
				audio: false
			}, this._handleStreamSuccess, this._handleStreamError);

			return _react2.default.createElement(
				'div',
				{ className: 'ae-camera' },
				_react2.default.createElement(
					'video',
					{ ref: this._videoContainerRef },
					'Video stream not available.'
				),
				_react2.default.createElement(
					'button',
					{
						className: 'ae-camera-shoot',
						onClick: this.takePhoto,
						ref: this._buttonTakePhotoRef },
					'Take photo'
				),
				_react2.default.createElement('canvas', {
					className: 'ae-camera-canvas',
					ref: this._canvasContainerRef
				})
			);
		}

		/**
   * Takes photo from the video stream and inserts in into editor's content.
   *
   * @fires ButtonCameraImage#imageCameraAdd
   * @instance
   * @memberof ButtonCameraImage
   * @method takePhoto
   */


		/**
   * Displays error message in case of video stream capturing failure.
   *
   * @instance
   * @memberof ButtonCameraImage
   * @method _handleStreamError
   * @param {Event} error The fired event in case of error.
   * @protected
   */


		/**
   * Starts streaming video in the video element and sets width/height to the video
   * and canvas elements.
   *
   * @instance
   * @memberof ButtonCameraImage
   * @method _handleStreamSuccess
   * @param {Object} stream The video stream
   * @protected
   */

	}]);

	return ButtonCameraImage;
}(_react2.default.Component);

ButtonCameraImage.contextType = _editorContext2.default;
ButtonCameraImage.defaultProps = {
	videoWidth: 320
};
ButtonCameraImage.key = 'cameraImage';
exports.default = ButtonCameraImage;

/***/ }),

/***/ "./src/components/buttons/button-camera.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-camera.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCameraImage = __webpack_require__(/*! ./button-camera-image.jsx */ "./src/components/buttons/button-camera-image.jsx");

var _buttonCameraImage2 = _interopRequireDefault(_buttonCameraImage);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonCamera class renders in two different ways:
 *
 * - Normal: Just a button that allows to switch to the edition mode.
 * - Exclusive: Renders ButtonCameraImage in order to take photo from the camera.
 *
 * @class ButtonCamera
 */
var ButtonCamera = function (_React$Component) {
	_inherits(ButtonCamera, _React$Component);

	function ButtonCamera() {
		_classCallCheck(this, ButtonCamera);

		return _possibleConstructorReturn(this, (ButtonCamera.__proto__ || Object.getPrototypeOf(ButtonCamera)).apply(this, arguments));
	}

	_createClass(ButtonCamera, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonCamera
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			if (this.props.renderExclusive) {
				return _react2.default.createElement(_buttonCameraImage2.default, this.props);
			} else {
				var disabled = !(navigator.getUserMedia || navigator.webkitGetUserMedia && location.protocol === 'https' || navigator.mozGetUserMedia || navigator.msGetUserMedia);

				var label = disabled ? AlloyEditor.Strings.cameraDisabled : AlloyEditor.Strings.camera;

				return _react2.default.createElement(
					'button',
					{
						'aria-label': label,
						className: 'ae-button',
						'data-type': 'button-image-camera',
						disabled: disabled,
						onClick: this.props.requestExclusive.bind(ButtonCamera.key),
						tabIndex: this.props.tabIndex,
						title: label },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'camera' })
				);
			}
		}
		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default camera
   * @memberof ButtonCamera
   * @property {String} key
   * @static
   */

	}]);

	return ButtonCamera;
}(_react2.default.Component);

ButtonCamera.key = 'camera';
exports.default = ButtonCamera;

/***/ }),

/***/ "./src/components/buttons/button-code.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-code.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonCode class provides wraps a selection in `pre` element.
 *
 * @class ButtonCode
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonCode = function (_React$Component) {
	_inherits(ButtonCode, _React$Component);

	function ButtonCode() {
		_classCallCheck(this, ButtonCode);

		return _possibleConstructorReturn(this, (ButtonCode.__proto__ || Object.getPrototypeOf(ButtonCode)).apply(this, arguments));
	}

	_createClass(ButtonCode, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonCode
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonCode
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.code,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-code',
					onClick: this.applyStyle,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.code },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'code' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default code
   * @memberof ButtonCode
   * @property {String} key
   * @static
   */

	}]);

	return ButtonCode;
}(_react2.default.Component);

ButtonCode.defaultProps = {
	style: {
		element: 'pre'
	}
};
ButtonCode.key = 'code';
exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonCode)));

/***/ }),

/***/ "./src/components/buttons/button-color.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-color.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonColor class provides functionality for changing text color in a document.
 *
 *
 * @class ButtonColor
 */
var ButtonColor = function (_React$Component) {
	_inherits(ButtonColor, _React$Component);

	function ButtonColor() {
		_classCallCheck(this, ButtonColor);

		return _possibleConstructorReturn(this, (ButtonColor.__proto__ || Object.getPrototypeOf(ButtonColor)).apply(this, arguments));
	}

	_createClass(ButtonColor, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var _this2 = this;

			var activeColor = AlloyEditor.Strings.normal;

			var colors = this._getColors();

			colors.some(function (item) {
				if (_this2._checkActive(item.style)) {
					activeColor = item.name;
				}
			});

			var _props = this.props,
			    expanded = _props.expanded,
			    tabIndex = _props.tabIndex,
			    toggleDropdown = _props.toggleDropdown;


			var buttonStylesProps = {
				activeStyle: activeColor,
				onDismiss: toggleDropdown,
				showRemoveStylesItem: false,
				styles: colors
			};

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': expanded,
						className: 'ae-toolbar-element',
						onClick: toggleDropdown,
						role: 'combobox',
						tabIndex: tabIndex },
					_react2.default.createElement(
						'span',
						null,
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'color-picker' })
					)
				),
				expanded && _react2.default.createElement(_buttonStylesList2.default, buttonStylesProps)
			);
		}
	}, {
		key: '_applyStyle',
		value: function _applyStyle(className) {
			var _this3 = this;

			var editor = this.context.editor.get('nativeEditor');

			var styleConfig = {
				element: 'span',
				attributes: {
					class: className
				}
			};

			var style = new CKEDITOR.style(styleConfig);

			editor.getSelection().lock();

			this._getColors().forEach(function (item) {
				if (_this3._checkActive(item.style)) {
					editor.removeStyle(new CKEDITOR.style(item.style));
				}
			});

			editor.applyStyle(style);

			editor.getSelection().unlock();

			editor.fire('actionPerformed', this);
		}

		/**
   * Checks if the given color definition is applied to the current selection in the editor.
   *
   * @instance
   * @memberof ButtonColor
   * @method _checkActive
   * @param {Object} styleConfig Color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.
   * @protected
   * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.
   */

	}, {
		key: '_checkActive',
		value: function _checkActive(styleConfig) {
			var nativeEditor = this.context.editor.get('nativeEditor');

			// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting
			// to a 'span' element works for most of those cases with no defined element.
			styleConfig = CKEDITOR.tools.merge({ element: 'span' }, styleConfig);

			var style = new CKEDITOR.style(styleConfig);

			return style.checkActive(nativeEditor.elementPath(), nativeEditor);
		}

		/**
   * Returns an array of colors. Each color consists of two properties:
   * - name - The style name, for example "default".
   * - style - An object with one property, called `element` which value
   *          represents the style which have to be applied to the element.
   * - styleFn - The function that is invoked to apply the style to the element.
   *
   * @instance
   * @memberof ButtonColor
   * @method _getColor
   * @protected
   * @return {Array<object>} An array of objects containing the colors.
   */

	}, {
		key: '_getColors',
		value: function _getColors() {
			return this.props.styles || [{
				name: AlloyEditor.Strings.primary,
				style: {
					element: 'span',
					attributes: {
						class: 'text-primary'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-primary')
			}, {
				name: AlloyEditor.Strings.success,
				style: {
					element: 'span',
					attributes: {
						class: 'text-success'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-success')
			}, {
				name: AlloyEditor.Strings.danger,
				style: {
					element: 'span',
					attributes: {
						class: 'text-danger'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-danger')
			}, {
				name: AlloyEditor.Strings.warning,
				style: {
					element: 'span',
					attributes: {
						class: 'text-warning'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-warning')
			}, {
				name: AlloyEditor.Strings.info,
				style: {
					element: 'span',
					attributes: {
						class: 'text-info'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-info')
			}, {
				name: AlloyEditor.Strings.dark,
				style: {
					element: 'span',
					attributes: {
						class: 'text-dark'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-dark')
			}, {
				name: AlloyEditor.Strings.darkGray,
				style: {
					element: 'span',
					attributes: {
						class: 'text-gray-dark'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-gray-dark')
			}, {
				name: AlloyEditor.Strings.secondary,
				style: {
					element: 'span',
					attributes: {
						class: 'text-secondary'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-secondary')
			}, {
				name: AlloyEditor.Strings.light,
				style: {
					element: 'span',
					attributes: {
						class: 'text-dark'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-light')
			}, {
				name: AlloyEditor.Strings.lighter,
				style: {
					element: 'span',
					attributes: {
						class: 'text-dark'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-lighter')
			}, {
				name: AlloyEditor.Strings.white,
				style: {
					element: 'span',
					attributes: {
						class: 'text-dark'
					}
				},
				styleFn: this._applyStyle.bind(this, 'text-white')
			}];
		}
	}]);

	return ButtonColor;
}(_react2.default.Component);

ButtonColor.contextType = _editorContext2.default;
ButtonColor.key = 'color';
ButtonColor.propTypes = {
	/**
  * Indicates whether the styles list is expanded or not.
  *
  * @instance
  * @memberof ButtonColor
  * @property {Boolean} expanded
  */
	expanded: _propTypes2.default.bool,

	/**
  * The label that should be used for accessibility purposes.
  *
  * @instance
  * @memberof ButtonColor
  * @property {String} label
  */
	label: _propTypes2.default.string,

	/**
  * Indicates whether the remove styles item should appear in the styles list.
  *
  * @instance
  * @memberof ButtonColor
  * @property {Boolean} showRemoveStylesItem
  */
	showRemoveStylesItem: _propTypes2.default.bool,

	/**
  * List of the styles the button is able to handle.
  *
  * @instance
  * @memberof ButtonColor
  * @property {Array} styles
  */
	styles: _propTypes2.default.arrayOf(_propTypes2.default.object),

	/**
  * The tabIndex of the button in its toolbar current state. A value other than -1
  * means that the button has focus and is the active element.
  *
  * @instance
  * @memberof ButtonColor
  * @property {Number} tabIndex
  */
	tabIndex: _propTypes2.default.number,

	/**
  * Callback provided by the button host to notify when the styles list has been expanded.
  *
  * @instance
  * @memberof ButtonColor
  * @property {Function} toggleDropdown
  */
	toggleDropdown: _propTypes2.default.func
};
exports.default = ButtonColor;

/***/ }),

/***/ "./src/components/buttons/button-command-list-item.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-command-list-item.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonCommandListItem class is a UI class that renders a ButtonCommand that can be used inside
 * a list as an item, with a string representation of its behaviour.
 *
 * @class ButtonCommandListItem
 * @uses ButtonCommand
 */
var ButtonCommandListItem = function (_React$Component) {
	_inherits(ButtonCommandListItem, _React$Component);

	function ButtonCommandListItem() {
		_classCallCheck(this, ButtonCommandListItem);

		return _possibleConstructorReturn(this, (ButtonCommandListItem.__proto__ || Object.getPrototypeOf(ButtonCommandListItem)).apply(this, arguments));
	}

	_createClass(ButtonCommandListItem, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonCommandListItem
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			return _react2.default.createElement(
				'button',
				{
					'aria-label': this.props.description,
					className: this._getClassName(),
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex },
				this.props.description
			);
		}

		/**
   * Returns the class name of Widget.
   *
   * @instance
   * @memberof ButtonCommandListItem
   * @method _getClassName
   * @protected
   * @return {String} The class name of the Widget.
   */

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default buttonCommandListItem
   * @memberof ButtonCommandListItem
   * @property {String} key
   * @static
   */

	}, {
		key: '_getClassName',
		value: function _getClassName() {
			var className = 'ae-container ae-toolbar-element';

			return className;
		}
	}]);

	return ButtonCommandListItem;
}(_react2.default.Component);

ButtonCommandListItem.key = 'buttonCommandListItem';
exports.default = (0, _buttonCommand2.default)(ButtonCommandListItem);

/***/ }),

/***/ "./src/components/buttons/button-commands-list.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-commands-list.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _buttonCommandListItem = __webpack_require__(/*! ./button-command-list-item.jsx */ "./src/components/buttons/button-command-list-item.jsx");

var _buttonCommandListItem2 = _interopRequireDefault(_buttonCommandListItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonCommandsList class provides functionality for showing a list of commands that can be
 * executed to the current selection..
 *
 * @class ButtonCommandsList
 * @uses WidgetFocusManager
 */
var ButtonCommandsList = function (_React$Component) {
	_inherits(ButtonCommandsList, _React$Component);

	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof ButtonCommandsList
  * @method getDefaultProps
  * @return {Object} The default properties.
  */
	function ButtonCommandsList(props) {
		_classCallCheck(this, ButtonCommandsList);

		var _this = _possibleConstructorReturn(this, (ButtonCommandsList.__proto__ || Object.getPrototypeOf(ButtonCommandsList)).call(this, props));

		_this._ref = _react2.default.createRef();
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
  *
  * Focuses on the list node to allow keyboard interaction.
  *
  * @instance
  * @memberof ButtonCommandsList
  * @method componentDidMount
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default buttonCommandsList
  * @memberof ButtonCommandsList
  * @property {String} key
  * @static
  */


	_createClass(ButtonCommandsList, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			this._ref.current.focus();
		}

		/**
   * Lifecycle. Renders the UI of the list.
   *
   * @instance
   * @memberof ButtonCommandsList
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				{
					className: 'ae-arrow-box ae-arrow-box-top-left ae-dropdown',
					onFocus: this.focus,
					onKeyDown: this.handleKey,
					ref: this._ref,
					tabIndex: '0' },
				_react2.default.createElement(
					'ul',
					{
						className: 'ae-listbox',
						id: this.props.listId,
						role: 'listbox' },
					this._renderActions(this.props.commands)
				)
			);
		}

		/**
   * Renders instances of ButtonCommandListItem with the description of the row action that will be executed.
   *
   * @instance
   * @memberof ButtonCommandsList
   * @method _renderActions
   * @protected
   * @return {Array} Rendered instances of ButtonCommandListItem class
   */

	}, {
		key: '_renderActions',
		value: function _renderActions(commands) {
			var items = void 0;

			if (commands && commands.length) {
				items = commands.map(function (item) {
					return _react2.default.createElement(
						'li',
						{ key: item.command, role: 'option' },
						_react2.default.createElement(_buttonCommandListItem2.default, {
							command: item.command,
							description: typeof item.label === 'string' ? item.label : item.label(),
							icon: item.icon
						})
					);
				});
			}

			return items;
		}
	}]);

	return ButtonCommandsList;
}(_react2.default.Component);

ButtonCommandsList.defaultProps = {
	circular: false,
	descendants: '.ae-toolbar-element',
	keys: {
		dismiss: [27],
		dismissNext: [39],
		dismissPrev: [37],
		next: [40],
		prev: [38]
	}
};
ButtonCommandsList.key = 'buttonCommandsList';
exports.default = (0, _widgetFocusManager2.default)(ButtonCommandsList);

/***/ }),

/***/ "./src/components/buttons/button-dropdown.jsx":
/*!****************************************************!*\
  !*** ./src/components/buttons/button-dropdown.jsx ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonDropdown class provides markup and keyboard navigation behaviour to a dropdown
 * opened from a button.
 *
 * @class ButtonDropdown
 */
var ButtonDropdown = function (_React$Component) {
	_inherits(ButtonDropdown, _React$Component);

	function ButtonDropdown() {
		_classCallCheck(this, ButtonDropdown);

		return _possibleConstructorReturn(this, (ButtonDropdown.__proto__ || Object.getPrototypeOf(ButtonDropdown)).apply(this, arguments));
	}

	_createClass(ButtonDropdown, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonDropdown
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonDropdown
   * @method getDefaultProps
   */
		value: function render() {
			return _react2.default.createElement(
				'div',
				{
					className: 'ae-arrow-box ae-arrow-box-top-left ae-dropdown',
					onFocus: this.focus,
					onKeyDown: this.handleKey,
					tabIndex: '0' },
				_react2.default.createElement(
					'ul',
					{ className: 'ae-listbox', role: 'listbox' },
					this.props.children
				)
			);
		}

		/**
   * The name which will be used as an alias of the dropdown in the configuration.
   *
   * @default dropdown
   * @memberof ButtonDropdown
   * @property {String} key
   * @static
   */

	}]);

	return ButtonDropdown;
}(_react2.default.Component);

ButtonDropdown.defaultProps = {
	circular: false,
	descendants: '.ae-toolbar-element',
	keys: {
		dismiss: [27],
		dismissNext: [39],
		dismissPrev: [37],
		next: [40],
		prev: [38]
	}
};
ButtonDropdown.key = 'dropdown';
exports.default = (0, _widgetFocusManager2.default)(ButtonDropdown);

/***/ }),

/***/ "./src/components/buttons/button-embed-edit.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-embed-edit.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

var KEY_ENTER = 13;
var KEY_ESC = 27;

/**
 * The ButtonEmbedEdit class provides functionality for creating and editing an embed link in a document.
 * Provides UI for creating and editing an embed link.
 *
 * @class ButtonEmbedEdit
 */

var ButtonEmbedEdit = function (_React$Component) {
	_inherits(ButtonEmbedEdit, _React$Component);

	function ButtonEmbedEdit(props) {
		_classCallCheck(this, ButtonEmbedEdit);

		var _this = _possibleConstructorReturn(this, (ButtonEmbedEdit.__proto__ || Object.getPrototypeOf(ButtonEmbedEdit)).call(this, props));

		_this._clearLink = function () {
			_this.setState({
				linkHref: ''
			});
		};

		_this._embedLink = function () {
			var nativeEditor = _this.context.editor.get('nativeEditor');

			nativeEditor.execCommand('embedUrl', {
				url: _this.state.linkHref
			});

			// We need to cancelExclusive with the bound parameters in case the button is used
			// inside another in exclusive mode (such is the case of the link button)
			_this.props.cancelExclusive();
		};

		_this._focusLinkInput = function () {
			_this.linkInput.current.focus();
		};

		_this._handleKeyDown = function (event) {
			if (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {
				event.preventDefault();
			}

			if (event.keyCode === KEY_ENTER) {
				_this._embedLink();
			} else if (event.keyCode === KEY_ESC) {
				var editor = _this.context.editor.get('nativeEditor');

				// We need to cancelExclusive with the bound parameters in case the button is used
				// inside another in exclusive mode (such is the case of the link button)
				_this.props.cancelExclusive();

				editor.fire('actionPerformed', _this);
			}
		};

		_this._handleLinkHrefChange = function (event) {
			_this.setState({
				linkHref: event.target.value
			});
		};

		_this._removeEmbed = function () {
			var editor = _this.context.editor.get('nativeEditor');

			var embedWrapper = _this.state.element.getAscendant(function (element) {
				return element.hasClass('cke_widget_wrapper');
			});

			embedWrapper.remove();

			editor.fire('actionPerformed', _this);
		};

		_this.linkInput = _react2.default.createRef();
		_this.state = _this.getInitialState();
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
  *
  * Focuses on the link input to immediately allow editing. This should only happen if the component
  * is rendered in exclusive mode to prevent aggressive focus stealing.
  *
  * @instance
  * @memberof ButtonEmbedEdit
  * @method componentDidMount
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default embedEdit
  * @memberof ButtonEmbedEdit
  * @property {String} key
  * @static
  */


	_createClass(ButtonEmbedEdit, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			if (this.props.renderExclusive || this.props.manualSelection) {
				// We need to wait for the next rendering cycle before focusing to avoid undesired
				// scrolls on the page
				if (window.requestAnimationFrame) {
					window.requestAnimationFrame(this._focusLinkInput);
				} else {
					setTimeout(this._focusLinkInput, 0);
				}
			}
		}

		/**
   * Lifecycle. Invoked when a component is receiving new props.
   * This method is not called for the initial render.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method componentWillReceiveProps
   */

	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps() {
			this.setState(this.getInitialState());
		}

		/**
   * Lifecycle. Invoked once before the component is mounted.
   * The return value will be used as the initial value of this.state.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method getInitialState
   */

	}, {
		key: 'getInitialState',
		value: function getInitialState() {
			// Can't access context from constructor, so get editor from props.
			var editor = this.props.context.editor.get('nativeEditor');
			var embed = void 0;

			var selection = editor.getSelection();

			if (selection) {
				var selectedElement = selection.getSelectedElement();

				if (selectedElement) {
					embed = selectedElement.findOne('[data-widget="ae_embed"]');
				}
			}

			var href = embed ? embed.getAttribute('data-ae-embed-url') : '';

			return {
				element: embed,
				initialLink: {
					href: href
				},
				linkHref: href
			};
		}

		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			var clearLinkStyle = {
				opacity: this.state.linkHref ? 1 : 0
			};

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container-edit-link' },
				_react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.deleteEmbed,
						className: 'ae-button',
						'data-type': 'button-embed-remove',
						disabled: !this.state.element,
						onClick: this._removeEmbed,
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.deleteEmbed },
					_react2.default.createElement(_buttonIcon2.default, { className: 'ae-icon-svg-trash', symbol: 'trash' })
				),
				_react2.default.createElement(
					'div',
					{ className: 'ae-container-input xxl' },
					_react2.default.createElement('input', {
						className: 'ae-input',
						onChange: this._handleLinkHrefChange,
						onKeyDown: this._handleKeyDown,
						placeholder: AlloyEditor.Strings.editLink,
						ref: this.linkInput,
						type: 'text',
						value: this.state.linkHref
					}),
					_react2.default.createElement(
						'button',
						{
							'aria-label': AlloyEditor.Strings.clearInput,
							className: 'ae-button ae-button-clear',
							onClick: this._clearLink,
							style: clearLinkStyle,
							title: AlloyEditor.Strings.clear },
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'times-clear' })
					)
				),
				_react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.confirm,
						className: 'ae-button',
						disabled: !this._isValidState(),
						onClick: this._embedLink,
						title: AlloyEditor.Strings.confirm },
					_react2.default.createElement(_buttonIcon2.default, { className: 'ae-icon-svg-check', symbol: 'check' })
				)
			);
		}

		/**
   * Clears the link input. This only changes the component internal state, but does not
   * affect the link element of the editor. Only the _removeLink and _updateLink methods
   * are translated to the editor element.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method _clearLink
   * @protected
   */


		/**
   * Triggers the embedUrl command to transform the link into an embed media object
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method _embedLink
   * @protected
   */


		/**
   * Focuses the user cursor on the widget's input.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method _focusLinkInput
   * @protected
   */


		/**
   * Monitors key interaction inside the input element to respond to the keys:
   * - Enter: Creates/updates the link.
   * - Escape: Discards the changes.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method _handleKeyDown
   * @param {SyntheticEvent} event The keyboard event.
   * @protected
   */


		/**
   * Updates the component state when the link input changes on user interaction.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method _handleLinkHrefChange
   * @param {SyntheticEvent} event The change event.
   * @protected
   */

	}, {
		key: '_isValidState',


		/**
   * Verifies that the current link state is valid so the user can save the link. A valid state
   * means that we have a non-empty href that's different from the original one.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method _isValidState
   * @protected
   * @return {Boolean} True if the state is valid, false otherwise
   */
		value: function _isValidState() {
			var validState = this.state.linkHref && this.state.linkHref !== this.state.initialLink.href;

			return validState;
		}

		/**
   * Removes the embed in the editor element.
   *
   * @instance
   * @memberof ButtonEmbedEdit
   * @method _removeEmbed
   * @protected
   */

	}]);

	return ButtonEmbedEdit;
}(_react2.default.Component);

ButtonEmbedEdit.contextType = _editorContext2.default;
ButtonEmbedEdit.key = 'embedEdit';
exports.default = _editorContext2.default.toProps(ButtonEmbedEdit);

/***/ }),

/***/ "./src/components/buttons/button-embed-video-edit.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-embed-video-edit.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

var KEY_ENTER = 13;
var KEY_ESC = 27;

/**
 * The ButtonEmbedVideoEdit class provides functionality for changing text color in a document.
 *
 * @uses ButtonIcon
 *
 * @class ButtonEmbedVideoEdit
 */

var ButtonEmbedVideoEdit = function (_React$Component) {
	_inherits(ButtonEmbedVideoEdit, _React$Component);

	function ButtonEmbedVideoEdit(props) {
		_classCallCheck(this, ButtonEmbedVideoEdit);

		var _this = _possibleConstructorReturn(this, (ButtonEmbedVideoEdit.__proto__ || Object.getPrototypeOf(ButtonEmbedVideoEdit)).call(this, props));

		_this._embedVideoURL = function () {
			var nativeEditor = _this.context.editor.get('nativeEditor');

			nativeEditor.execCommand('embedUrl', {
				type: 'video',
				url: _this.state.videoURL
			});

			// We need to cancelExclusive with the bound parameters in case the button is used
			// inside another in exclusive mode (such is the case of the link button)
			_this.props.cancelExclusive();
		};

		_this._focusVideoUrlInput = function () {
			_reactDom2.default.findDOMNode(_this.refs.linkInput).focus();
		};

		_this._handleKeyDown = function (event) {
			if (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {
				event.preventDefault();
			}

			if (event.keyCode === KEY_ENTER) {
				_this._embedVideoURL();
			} else if (event.keyCode === KEY_ESC) {
				_this.props.cancelExclusive();
			}
		};

		_this._handleVideoURLChange = function (event) {
			_this.setState({
				videoURL: event.target.value
			});
		};

		_this.state = _this.getInitialState();
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
  *
  * Focuses on the link input to immediately allow editing. This should only happen if the component
  * is rendered in exclusive mode to prevent aggressive focus stealing.
  *
  * @instance
  * @memberof ButtonEmbedVideoEdit
  * @method componentDidMount
  */


	_createClass(ButtonEmbedVideoEdit, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			if (this.props.renderExclusive || this.props.manualSelection) {
				// We need to wait for the next rendering cycle before focusing to avoid undesired
				// scrolls on the page
				if (window.requestAnimationFrame) {
					window.requestAnimationFrame(this._focusVideoUrlInput);
				} else {
					setTimeout(this._focusVideoUrlInput, 0);
				}
			}
		}

		/**
   * Lifecycle. Invoked when a component is receiving new props.
   * This method is not called for the initial render.
   *
   * @instance
   * @memberof ButtonEmbedVideoEdit
   * @method componentWillReceiveProps
   */

	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps() {
			var newState = this.getInitialState();

			this.setState({
				all: undefined,
				keys: undefined,
				new: newState,
				old: undefined
			});
		}

		/**
   * Lifecycle. Invoked once before the component is mounted.
   * The return value will be used as the initial value of this.state.
   *
   * @instance
   * @memberof ButtonEmbedVideoEdit
   * @method getInitialState
   */

	}, {
		key: 'getInitialState',
		value: function getInitialState() {
			// Can't access context from constructor, so get editor from props.
			var editor = this.props.context.editor.get('nativeEditor');
			var element = void 0;

			var selection = editor.getSelection();

			if (selection) {
				var selectedElement = selection.getSelectedElement();

				if (selectedElement) {
					element = selectedElement.findOne('[data-widget="videoembed"]');
				}
			}

			var videoURL = element ? element.getAttribute('data-embed-video-url') : '';

			return {
				element: element,
				initialEmbed: {
					videoURL: videoURL
				},
				videoURL: videoURL
			};
		}

		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonEmbedVideoEdit
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			var inputPlaceholder = AlloyEditor.Strings.pasteVideoLink;

			var clearVideoURLStyle = {
				opacity: this.state.videoURL ? 1 : 0
			};

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container-embed-video-edit' },
				_react2.default.createElement(
					'div',
					{ className: 'ae-container-input xxl' },
					_react2.default.createElement('input', {
						className: 'ae-input',
						onChange: this._handleVideoURLChange,
						onKeyDown: this._handleKeyDown,
						placeholder: inputPlaceholder,
						ref: 'linkInput',
						type: 'text',
						value: this.state.videoURL
					}),
					_react2.default.createElement('button', {
						'aria-label': AlloyEditor.Strings.clearInput,
						className: 'ae-button ae-icon-remove',
						onClick: this._clearLink,
						style: clearVideoURLStyle,
						title: AlloyEditor.Strings.clear
					})
				),
				_react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.confirm,
						className: 'ae-button',
						disabled: !this._isValidState(),
						onClick: this._embedVideoURL,
						title: AlloyEditor.Strings.confirm },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'check' })
				)
			);
		}

		/**
   * Clears the link input. This only changes the component internal state, but does not
   * affect the link element of the editor. Only the _removeLink and _updateLink methods
   * are translated to the editor element.
   *
   * @instance
   * @memberof ButtonEmbedVideoEdit
   * @method _clearLink
   * @protected
   */

	}, {
		key: '_clearLink',
		value: function _clearLink() {
			this.setState({
				videoURL: ''
			});
		}

		/**
   * Triggers the embedVideoUrl command to transform the link into an embed media object
   *
   * @instance
   * @memberof EmbedVideoEdit
   * @method _embedVideoURL
   * @protected
   */


		/**
   * Focuses the user cursor on the widget's input.
   *
   * @instance
   * @memberof ButtonEmbedVideoEdit
   * @method _focusVideoUrlInput
   * @protected
   */


		/**
   * Monitors key interaction inside the input element to respond to the keys:
   * - Enter: Creates/updates the link.
   * - Escape: Discards the changes.
   *
   * @instance
   * @memberof ButtonEmbedVideoEdit
   * @method _handleKeyDown
   * @param {SyntheticEvent} event The keyboard event.
   * @protected
   */


		/**
   * Updates the component state when the link input changes on user interaction.
   *
   * @instance
   * @memberof ButtonEmbedVideoEdit
   * @method _handleVideoURLChange
   * @param {SyntheticEvent} event The change event.
   * @protected
   */

	}, {
		key: '_isValidState',


		/**
   * Verifies that the current link state is valid so the user can save the link. A valid state
   * means that we have a non-empty videoURL that's different from the original one.
   *
   * @instance
   * @memberof EmbedVideoEdit
   * @method _isValidState
   * @protected
   * @return {Boolean} True if the state is valid, false otherwise
   */
		value: function _isValidState() {
			var validState = this.state.videoURL && this.state.videoURL !== this.state.initialEmbed.videoURL;

			return validState;
		}
	}]);

	return ButtonEmbedVideoEdit;
}(_react2.default.Component);

ButtonEmbedVideoEdit.contextType = _editorContext2.default;
ButtonEmbedVideoEdit.key = 'embedVideoEdit';
exports.default = _editorContext2.default.toProps(ButtonEmbedVideoEdit);

/***/ }),

/***/ "./src/components/buttons/button-embed-video.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-embed-video.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonEmbedVideoEdit = __webpack_require__(/*! ./button-embed-video-edit.jsx */ "./src/components/buttons/button-embed-video-edit.jsx");

var _buttonEmbedVideoEdit2 = _interopRequireDefault(_buttonEmbedVideoEdit);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonEmbedVideo class provides functionality for changing text color in a document.
 *
 * @class ButtonEmbedVideo
 */
var ButtonEmbedVideo = function (_React$Component) {
	_inherits(ButtonEmbedVideo, _React$Component);

	function ButtonEmbedVideo() {
		_classCallCheck(this, ButtonEmbedVideo);

		return _possibleConstructorReturn(this, (ButtonEmbedVideo.__proto__ || Object.getPrototypeOf(ButtonEmbedVideo)).apply(this, arguments));
	}

	_createClass(ButtonEmbedVideo, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			if (this.props.renderExclusive) {
				return _react2.default.createElement(_buttonEmbedVideoEdit2.default, this.props);
			} else {
				return _react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.video,
						className: 'ae-button',
						'data-type': 'button-embed-video',
						onClick: this.props.requestExclusive,
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.video },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'video' })
				);
			}
		}
	}]);

	return ButtonEmbedVideo;
}(_react2.default.Component);

ButtonEmbedVideo.key = 'embedVideo';
ButtonEmbedVideo.propTypes = {
	/**
  * The label that should be used for accessibility purposes.
  *
  * @instance
  * @memberof ButtonEmbedVideo
  * @property {String} label
  */
	label: _propTypes2.default.string,

	/**
  * The tabIndex of the button in its toolbar current state. A value other than -1
  * means that the button has focus and is the active element.
  *
  * @instance
  * @memberof ButtonEmbedVideo
  * @property {Number} tabIndex
  */
	tabIndex: _propTypes2.default.number
};
exports.default = ButtonEmbedVideo;

/***/ }),

/***/ "./src/components/buttons/button-embed.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-embed.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonEmbedEdit = __webpack_require__(/*! ./button-embed-edit.jsx */ "./src/components/buttons/button-embed-edit.jsx");

var _buttonEmbedEdit2 = _interopRequireDefault(_buttonEmbedEdit);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonEmbed class provides functionality for creating and editing an embed link in a document.
 * ButtonEmbed renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonEmbedEdit UI with all the link edition controls.
 *
 * @class ButtonEmbed
 * @uses ButtonKeystroke
 */
var ButtonEmbed = function (_React$Component) {
	_inherits(ButtonEmbed, _React$Component);

	function ButtonEmbed() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonEmbed);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonEmbed.__proto__ || Object.getPrototypeOf(ButtonEmbed)).call.apply(_ref, [this].concat(args))), _this), _this._requestExclusive = function () {
			_this.props.requestExclusive(ButtonEmbed.key);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}
	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof ButtonEmbed
  * @method getDefaultProps
  * @return {Object} The default properties.
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default embed
  * @memberof ButtonEmbed
  * @property {String} key
  * @static
  */


	_createClass(ButtonEmbed, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonEmbed
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			if (this.props.renderExclusive) {
				return _react2.default.createElement(_buttonEmbedEdit2.default, this.props);
			} else {
				return _react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.link,
						className: 'ae-button',
						'data-type': 'button-embed',
						onClick: this._requestExclusive,
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.link },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'plus' })
				);
			}
		}

		/**
   * Requests the link button to be rendered in exclusive mode to allow the embedding of a link.
   *
   * @instance
   * @memberof ButtonEmbed
   * @method _requestExclusive
   * @protected
   */

	}]);

	return ButtonEmbed;
}(_react2.default.Component);

ButtonEmbed.defaultProps = {
	keystroke: {
		fn: '_requestExclusive',
		keys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/
		, name: 'embed'
	}
};
ButtonEmbed.key = 'embed';
exports.default = (0, _buttonKeystroke2.default)(ButtonEmbed);

/***/ }),

/***/ "./src/components/buttons/button-h1.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-h1.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonH1 class provides wraps a selection in `h1` element.
 *
 * @class ButtonH1
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonH1 = function (_React$Component) {
	_inherits(ButtonH1, _React$Component);

	function ButtonH1() {
		_classCallCheck(this, ButtonH1);

		return _possibleConstructorReturn(this, (ButtonH1.__proto__ || Object.getPrototypeOf(ButtonH1)).apply(this, arguments));
	}

	_createClass(ButtonH1, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonH1
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonH1
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.h1,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-h1',
					onClick: this.applyStyle,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.h1 },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'h1' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default h1
   * @memberof ButtonH1
   * @property {String} key
   * @static
   */

	}]);

	return ButtonH1;
}(_react2.default.Component);

ButtonH1.defaultProps = {
	style: {
		element: 'h1'
	}
};
ButtonH1.key = 'h1';
exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonH1)));

/***/ }),

/***/ "./src/components/buttons/button-h2.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-h2.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonH2 class provides wraps a selection in `h2` element.
 *
 * @class ButtonH2
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonH2 = function (_React$Component) {
	_inherits(ButtonH2, _React$Component);

	function ButtonH2() {
		_classCallCheck(this, ButtonH2);

		return _possibleConstructorReturn(this, (ButtonH2.__proto__ || Object.getPrototypeOf(ButtonH2)).apply(this, arguments));
	}

	_createClass(ButtonH2, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonH2
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonH2
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.h2,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-h2',
					onClick: this.applyStyle,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.h2 },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'h2' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default h2
   * @memberof ButtonH2
   * @property {String} key
   * @static
   */

	}]);

	return ButtonH2;
}(_react2.default.Component);

ButtonH2.defaultProps = {
	style: {
		element: 'h2'
	}
};
ButtonH2.key = 'h2';
exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonH2)));

/***/ }),

/***/ "./src/components/buttons/button-hline.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-hline.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonHline class provides inserts horizontal line.
 *
 * @class ButtonHline
 * @uses ButtonCommand
 */
var ButtonHline = function (_React$Component) {
	_inherits(ButtonHline, _React$Component);

	function ButtonHline() {
		_classCallCheck(this, ButtonHline);

		return _possibleConstructorReturn(this, (ButtonHline.__proto__ || Object.getPrototypeOf(ButtonHline)).apply(this, arguments));
	}

	_createClass(ButtonHline, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonHline
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonHline
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.horizontalrule,
					className: 'ae-button',
					'data-type': 'button-hline',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.horizontalrule },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'hr' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default hline
   * @memberof ButtonHline
   * @property {String} key
   * @static
   */

	}]);

	return ButtonHline;
}(_react2.default.Component);

ButtonHline.defaultProps = {
	command: 'horizontalrule'
};
ButtonHline.key = 'hline';
exports.default = (0, _buttonCommand2.default)(ButtonHline);

/***/ }),

/***/ "./src/components/buttons/button-icon.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-icon.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = ButtonIcon;

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

function ButtonIcon(_ref) {
	var _ref$className = _ref.className,
	    className = _ref$className === undefined ? '' : _ref$className,
	    symbol = _ref.symbol;

	return _react2.default.createElement(
		_editorContext2.default.Consumer,
		null,
		function (_ref2) {
			var editor = _ref2.editor;

			var nativeEditor = editor.get('nativeEditor');
			var spritemap = nativeEditor.config.spritemap || '';
			var path = spritemap + '#' + symbol;
			var classNamePrefix = className ? ' ' + className : '';
			var combinedClassName = 'ae-svg-icon' + classNamePrefix;

			return _react2.default.createElement(
				'svg',
				{ className: combinedClassName, height: '18', width: '18' },
				_react2.default.createElement('use', { href: path })
			);
		}
	);
}

/***/ }),

/***/ "./src/components/buttons/button-image-align-center.jsx":
/*!**************************************************************!*\
  !*** ./src/components/buttons/button-image-align-center.jsx ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonImageAlignCenter class provides functionality for aligning an image in the center.
 *
 * @class ButtonImageAlignCenter
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignCenter = function (_React$Component) {
	_inherits(ButtonImageAlignCenter, _React$Component);

	function ButtonImageAlignCenter() {
		_classCallCheck(this, ButtonImageAlignCenter);

		return _possibleConstructorReturn(this, (ButtonImageAlignCenter.__proto__ || Object.getPrototypeOf(ButtonImageAlignCenter)).apply(this, arguments));
	}

	_createClass(ButtonImageAlignCenter, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonImageAlignCenter
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonImageAlignCenter
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.alignCenter,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-image-align-center',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.alignCenter },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'align-image-center' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default imageCenter
   * @memberof ButtonImageAlignCenter
   * @property {String} key
   * @static
   */

	}]);

	return ButtonImageAlignCenter;
}(_react2.default.Component);

ButtonImageAlignCenter.defaultProps = {
	command: 'justifycenter'
};
ButtonImageAlignCenter.key = 'imageCenter';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignCenter)));

/***/ }),

/***/ "./src/components/buttons/button-image-align-left.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-image-align-left.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonImageAlignLeft class provides functionality for aligning an image on left.
 *
 * @class ButtonImageAlignLeft
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignLeft = function (_React$Component) {
	_inherits(ButtonImageAlignLeft, _React$Component);

	function ButtonImageAlignLeft() {
		_classCallCheck(this, ButtonImageAlignLeft);

		return _possibleConstructorReturn(this, (ButtonImageAlignLeft.__proto__ || Object.getPrototypeOf(ButtonImageAlignLeft)).apply(this, arguments));
	}

	_createClass(ButtonImageAlignLeft, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonImageAlignLeft
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonImageAlignLeft
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.alignLeft,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-image-align-left',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.alignLeft },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'align-image-left' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default imageLeft
   * @memberof ButtonImageAlignLeft
   * @property {String} key
   * @static
   */

	}]);

	return ButtonImageAlignLeft;
}(_react2.default.Component);

ButtonImageAlignLeft.defaultProps = {
	command: 'justifyleft'
};
ButtonImageAlignLeft.key = 'imageLeft';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignLeft)));

/***/ }),

/***/ "./src/components/buttons/button-image-align-right.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-image-align-right.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonImageAlignRight class provides functionality for aligning an image on right.
 *
 * @class ButtonImageAlignRight
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignRight = function (_React$Component) {
	_inherits(ButtonImageAlignRight, _React$Component);

	function ButtonImageAlignRight() {
		_classCallCheck(this, ButtonImageAlignRight);

		return _possibleConstructorReturn(this, (ButtonImageAlignRight.__proto__ || Object.getPrototypeOf(ButtonImageAlignRight)).apply(this, arguments));
	}

	_createClass(ButtonImageAlignRight, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonImageAlignRight
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonImageAlignRight
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.alignRight,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-image-align-right',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.alignRight },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'align-image-right' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default imageRight
   * @memberof ButtonImageAlignRight
   * @property {String} key
   * @static
   */

	}]);

	return ButtonImageAlignRight;
}(_react2.default.Component);

ButtonImageAlignRight.defaultProps = {
	command: 'justifyright'
};
ButtonImageAlignRight.key = 'imageRight';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignRight)));

/***/ }),

/***/ "./src/components/buttons/button-image.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-image.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonImage class inserts an image to the content.
 *
 * @class ButtonImage
 */
var ButtonImage = function (_React$Component) {
	_inherits(ButtonImage, _React$Component);

	function ButtonImage(props) {
		_classCallCheck(this, ButtonImage);

		var _this = _possibleConstructorReturn(this, (ButtonImage.__proto__ || Object.getPrototypeOf(ButtonImage)).call(this, props));

		_this.handleClick = function () {
			_this.fileInput.current.click();
		};

		_this._onInputChange = function () {
			var inputEl = _this.fileInput.current;

			// On IE11 the function might be called with an empty array of
			// files. In such a case, no actions will be taken.
			if (!inputEl.files.length) {
				return;
			}

			var reader = new FileReader();
			var file = inputEl.files[0];

			reader.onload = function (event) {
				var editor = _this.context.editor.get('nativeEditor');

				var result = editor.fire('beforeImageAdd', {
					imageFiles: file
				});

				if (result) {
					var el = CKEDITOR.dom.element.createFromHtml('<img src="' + event.target.result + '">');

					editor.insertElement(el);

					editor.fire('actionPerformed', _this);

					var imageData = {
						el: el,
						file: file
					};

					editor.fire('imageAdd', imageData);
				}
			};

			reader.readAsDataURL(file);

			inputEl.value = '';
		};

		_this.fileInput = _react2.default.createRef();
		return _this;
	}

	/**
  * Lifecycle. Renders the UI of the button.
  *
  * @instance
  * @memberof ButtonImage
  * @method render
  * @return {Object} The content which should be rendered.
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default image
  * @memberof ButtonImage
  * @property {String} key
  * @static
  */


	_createClass(ButtonImage, [{
		key: 'render',
		value: function render() {
			var inputSyle = { display: 'none' };

			return _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.image,
						className: 'ae-button',
						'data-type': 'button-image',
						onClick: this.handleClick,
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.image },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'document-image' })
				),
				_react2.default.createElement('input', {
					accept: 'image/*',
					onChange: this._onInputChange,
					ref: this.fileInput,
					style: inputSyle,
					type: 'file'
				})
			);
		}

		/**
   * Simulates click on the input element. This will open browser's native file open dialog.
   *
   * @instance
   * @memberof ButtonImage
   * @method handleClick
   * @param {SyntheticEvent} event The received click event on the button.
   */


		/**
   * On input change, reads the chosen file and fires an event `beforeImageAdd` with the image which will be added
   * to the content. The image file will be passed in the `imageFiles` property.
   * If any of the listeners returns `false` or cancels the event, the image won't be added to the content.
   * Otherwise, an event `imageAdd` will be fired with the inserted element into the editable area.
   * The passed params will be:
   * - `el` - the created img element
   * - `file` - the original image file from the input element
   *
   * @fires ButtonImage#beforeImageAdd
   * @fires ButtonImage#imageAdd
   * @instance
   * @memberof ButtonImage
   * @method _onInputChange
   * @protected
   */

	}]);

	return ButtonImage;
}(_react2.default.Component);

ButtonImage.contextType = _editorContext2.default;
ButtonImage.key = 'imageFromFile';
exports.default = ButtonImage;

/***/ }),

/***/ "./src/components/buttons/button-indent-block.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-indent-block.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonIndentBlock class provides functionality for indenting the selected blocks.
 *
 * @class ButtonIndentBlock
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonIndentBlock = function (_React$Component) {
	_inherits(ButtonIndentBlock, _React$Component);

	function ButtonIndentBlock() {
		_classCallCheck(this, ButtonIndentBlock);

		return _possibleConstructorReturn(this, (ButtonIndentBlock.__proto__ || Object.getPrototypeOf(ButtonIndentBlock)).apply(this, arguments));
	}

	_createClass(ButtonIndentBlock, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonIndentBlock
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonIndentBlock
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.indent,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-indent-block',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.indent },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'indent-less' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default indentBlock
   * @memberof ButtonIndentBlock
   * @property {String} key
   * @static
   */

	}]);

	return ButtonIndentBlock;
}(_react2.default.Component);

ButtonIndentBlock.defaultProps = {
	command: 'indent'
};
ButtonIndentBlock.key = 'indentBlock';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonIndentBlock)));

/***/ }),

/***/ "./src/components/buttons/button-italic.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-italic.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonItalic class provides functionality for styling an selection with italic (em) style.
 *
 * @class ButtonItalic
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonItalic = function (_React$Component) {
	_inherits(ButtonItalic, _React$Component);

	function ButtonItalic() {
		_classCallCheck(this, ButtonItalic);

		return _possibleConstructorReturn(this, (ButtonItalic.__proto__ || Object.getPrototypeOf(ButtonItalic)).apply(this, arguments));
	}

	_createClass(ButtonItalic, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonItalic
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonItalic
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.italic,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-italic',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.italic },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'italic' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default italic
   * @memberof ButtonItalic
   * @property {String} key
   * @static
   */

	}]);

	return ButtonItalic;
}(_react2.default.Component);

ButtonItalic.defaultProps = {
	command: 'italic',
	keystroke: {
		fn: 'execCommand',
		keys: CKEDITOR.CTRL + 73 /* I*/
		, name: 'italic'
	},
	style: 'coreStyles_italic'
};
ButtonItalic.key = 'italic';
exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonItalic))));

/***/ }),

/***/ "./src/components/buttons/button-item-selector-audio.jsx":
/*!***************************************************************!*\
  !*** ./src/components/buttons/button-item-selector-audio.jsx ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * @class ButtonItemSelectorAudio
 * @uses ButtonCommand
 */
var ButtonItemSelectorAudio = function (_React$Component) {
	_inherits(ButtonItemSelectorAudio, _React$Component);

	function ButtonItemSelectorAudio() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonItemSelectorAudio);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonItemSelectorAudio.__proto__ || Object.getPrototypeOf(ButtonItemSelectorAudio)).call.apply(_ref, [this].concat(args))), _this), _this._handleClick = function () {
			_this.execCommand(null);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(ButtonItemSelectorAudio, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.audio,
					className: 'ae-button',
					'data-type': 'button-audio',
					onClick: this._handleClick,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.audio },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'audio' })
			);
		}
	}]);

	return ButtonItemSelectorAudio;
}(_react2.default.Component);

ButtonItemSelectorAudio.defaultProps = {
	command: 'audioselector'
};
ButtonItemSelectorAudio.key = 'audio';
exports.default = (0, _buttonCommand2.default)(ButtonItemSelectorAudio);

/***/ }),

/***/ "./src/components/buttons/button-item-selector-image.jsx":
/*!***************************************************************!*\
  !*** ./src/components/buttons/button-item-selector-image.jsx ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * @class ButtonItemSelectorImage
 * @uses ButtonCommand
 */
var ButtonItemSelectorImage = function (_React$Component) {
	_inherits(ButtonItemSelectorImage, _React$Component);

	function ButtonItemSelectorImage() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonItemSelectorImage);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonItemSelectorImage.__proto__ || Object.getPrototypeOf(ButtonItemSelectorImage)).call.apply(_ref, [this].concat(args))), _this), _this._handleClick = function () {
			_this.execCommand(null);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(ButtonItemSelectorImage, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.image,
					className: 'ae-button',
					'data-type': 'button-image',
					onClick: this._handleClick,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.image },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'picture' })
			);
		}
	}]);

	return ButtonItemSelectorImage;
}(_react2.default.Component);

ButtonItemSelectorImage.defaultProps = {
	command: 'imageselector'
};
ButtonItemSelectorImage.key = 'image';
exports.default = (0, _buttonCommand2.default)(ButtonItemSelectorImage);

/***/ }),

/***/ "./src/components/buttons/button-item-selector-video.jsx":
/*!***************************************************************!*\
  !*** ./src/components/buttons/button-item-selector-video.jsx ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * @class ButtonItemSelectorVideo
 * @uses ButtonCommand
 */
var ButtonItemSelectorVideo = function (_React$Component) {
	_inherits(ButtonItemSelectorVideo, _React$Component);

	function ButtonItemSelectorVideo() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonItemSelectorVideo);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonItemSelectorVideo.__proto__ || Object.getPrototypeOf(ButtonItemSelectorVideo)).call.apply(_ref, [this].concat(args))), _this), _this._handleClick = function () {
			_this.execCommand(null);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	_createClass(ButtonItemSelectorVideo, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.video,
					className: 'ae-button',
					'data-type': 'button-video',
					onClick: this._handleClick,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.video },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'video' })
			);
		}
	}]);

	return ButtonItemSelectorVideo;
}(_react2.default.Component);

ButtonItemSelectorVideo.defaultProps = {
	command: 'videoselector'
};
ButtonItemSelectorVideo.key = 'video';
exports.default = (0, _buttonCommand2.default)(ButtonItemSelectorVideo);

/***/ }),

/***/ "./src/components/buttons/button-link-autocomplete-list.jsx":
/*!******************************************************************!*\
  !*** ./src/components/buttons/button-link-autocomplete-list.jsx ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonLinkAutocompleteList class provides functionality for showing a list of
 * items that can be selected for the link.
 *
 * @class ButtonLinkAutocompleteList
 * @uses WidgetFocusManager
 */
var ButtonLinkAutocompleteList = function (_React$Component) {
	_inherits(ButtonLinkAutocompleteList, _React$Component);

	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof ButtonLinkAutocompleteList
  * @method getDefaultProps
  * @return {Object} The default properties.
  */
	function ButtonLinkAutocompleteList(props) {
		_classCallCheck(this, ButtonLinkAutocompleteList);

		var _this = _possibleConstructorReturn(this, (ButtonLinkAutocompleteList.__proto__ || Object.getPrototypeOf(ButtonLinkAutocompleteList)).call(this, props));

		_this.state = {
			items: []
		};
		return _this;
	}

	/**
  * Lifecycle. Invoked when a component is receiving new props.
  * This method is not called for the initial render.
  *
  * @instance
  * @memberof ButtonLinkAutocompleteList
  * @method componentWillReceiveProps
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default buttonLinkAutocompleteList
  * @memberof ButtonLinkAutocompleteList
  * @property {String} key
  * @static
  */


	_createClass(ButtonLinkAutocompleteList, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			if (!nextProps.term || nextProps.term !== this.props.term) {
				clearTimeout(this._timeout);

				if (nextProps.term) {
					this._timeout = setTimeout(this._updateItems, this.props.delay);
				} else {
					this.setState({
						items: []
					});
				}
			}

			if (nextProps.autocompleteSelected) {
				setTimeout(this.focus, 0);
				this.props.setAutocompleteState({
					selected: false
				});
			}
		}

		/**
   * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
   *
   * @instance
   * @memberof ButtonLinkAutocompleteList
   * @method componentWillUnmount
   */

	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			clearTimeout(this._timeout);
		}

		/**
   * Lifecycle. Renders the UI of the list.
   *
   * @instance
   * @memberof ButtonLinkAutocompleteList
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			if (!this.props.expanded || !this.state.items.length) {
				return null;
			}

			return _react2.default.createElement(
				_buttonDropdown2.default,
				null,
				this._renderAutocompleteItems(this.state.items)
			);
		}

		/**
   * Lifecycle. Invoked before rendering when new props or state are being received.
   * This method is not called for the initial render or when forceUpdate is used.
   *
   * @instance
   * @memberof ButtonLinkAutocompleteList
   * @method  shouldComponentUpdate
   * @return {Boolean} Returns false when the transition to the new props and state will not
   * require a component update.
   */

	}, {
		key: 'shouldComponentUpdate',
		value: function shouldComponentUpdate(nextProps, nextState) {
			return nextProps.expanded !== this.props.expanded || nextProps.term !== this.props.term || nextState.items !== this.state.items;
		}

		/**
   * Renders a set of list items for the provided items
   *
   * @instance
   * @memberof ButtonLinkAutocompleteList
   * @method _renderAutocompleteItems
   * @param {Array} items List of autocomplete items to render
   * @protected
   * @return {Array} Rendered list item instances
   */

	}, {
		key: '_renderAutocompleteItems',
		value: function _renderAutocompleteItems(items) {
			var _this2 = this;

			items = items || [];

			var handleLinkAutocompleteClick = this.props.handleLinkAutocompleteClick;

			return items.map(function (item) {
				var className = _this2.props.term === item.url ? 'ae-toolbar-element active' : 'ae-toolbar-element';

				return _react2.default.createElement(
					'li',
					{ key: item.url, role: 'option' },
					_react2.default.createElement(
						'button',
						{
							className: className,
							'data-value': item.url,
							onClick: handleLinkAutocompleteClick },
						item.title
					)
				);
			});
		}

		/**
   * Retrieves the data according to {this.props.term} and calls setState() with the returned data
   *
   * @instance
   * @memberof ButtonLinkAutocompleteList
   * @method _updateItems
   * @protected
   */

	}, {
		key: '_updateItems',
		value: function _updateItems() {
			var _this3 = this;

			if (!this.props.term) {
				return;
			}

			var promise = Promise.resolve(this.props.data(this.props.term));

			promise.then(function (items) {
				if (items.length && !_this3.props.expanded) {
					_this3.props.toggleDropdown();
				}

				_this3.setState({
					items: items
				});
			});
		}
	}]);

	return ButtonLinkAutocompleteList;
}(_react2.default.Component);

ButtonLinkAutocompleteList.defaultProps = {
	circular: false,
	data: [],
	delay: 100,
	descendants: '.ae-toolbar-element',
	keys: {
		dismiss: [27],
		dismissNext: [39],
		dismissPrev: [37],
		next: [40],
		prev: [38]
	}
};
ButtonLinkAutocompleteList.key = 'buttonLinkAutocompleteList';
exports.default = (0, _widgetFocusManager2.default)(ButtonLinkAutocompleteList);

/***/ }),

/***/ "./src/components/buttons/button-link-browse.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-link-browse.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonProps = __webpack_require__(/*! ../base/button-props */ "./src/components/base/button-props.js");

var _buttonProps2 = _interopRequireDefault(_buttonProps);

var _buttonLinkEditBrowse = __webpack_require__(/*! ./button-link-edit-browse.jsx */ "./src/components/buttons/button-link-edit-browse.jsx");

var _buttonLinkEditBrowse2 = _interopRequireDefault(_buttonLinkEditBrowse);

var _buttonLink = __webpack_require__(/*! ./button-link.jsx */ "./src/components/buttons/button-link.jsx");

var _buttonLink2 = _interopRequireDefault(_buttonLink);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonLinkBrowse class provides functionality for changing text color in a document.
 *
 * @uses ButtonKeystroke
 * @uses ButtonProps
 *
 * @class ButtonLinkBrowse
 */
var ButtonLinkBrowse = function (_React$Component) {
	_inherits(ButtonLinkBrowse, _React$Component);

	function ButtonLinkBrowse() {
		_classCallCheck(this, ButtonLinkBrowse);

		return _possibleConstructorReturn(this, (ButtonLinkBrowse.__proto__ || Object.getPrototypeOf(ButtonLinkBrowse)).apply(this, arguments));
	}

	_createClass(ButtonLinkBrowse, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			if (this.props.renderExclusive) {
				this.props = this.mergeButtonCfgProps();

				return _react2.default.createElement(_buttonLinkEditBrowse2.default, this.props);
			} else {
				return _react2.default.createElement(_buttonLink2.default, this.props);
			}
		}

		/**
   * Requests the link button to be rendered in exclusive mode to allow the creation of a link.
   *
   * @protected
   * @method _requestExclusive
   */

	}, {
		key: '_requestExclusive',
		value: function _requestExclusive() {
			this.props.requestExclusive(ButtonLinkBrowse.key);
		}
	}]);

	return ButtonLinkBrowse;
}(_react2.default.Component);

ButtonLinkBrowse.defaultProps = {
	keystroke: {
		fn: '_requestExclusive',
		keys: CKEDITOR.CTRL + 76 /* L*/
		, name: 'linkBrowse'
	}
};
ButtonLinkBrowse.key = 'linkBrowse';
ButtonLinkBrowse.propTypes = {
	/**
  * The label that should be used for accessibility purposes.
  *
  * @property {String} label
  */
	label: _propTypes2.default.string,

	/**
  * The tabIndex of the button in its toolbar current state. A value other than -1
  * means that the button has focus and is the active element.
  *
  * @property {Number} tabIndex
  */
	tabIndex: _propTypes2.default.number
};
exports.default = (0, _buttonProps2.default)((0, _buttonKeystroke2.default)(ButtonLinkBrowse));

/***/ }),

/***/ "./src/components/buttons/button-link-edit-browse.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-link-edit-browse.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonLinkEdit = __webpack_require__(/*! ./button-link-edit.jsx */ "./src/components/buttons/button-link-edit.jsx");

var _buttonLinkEdit2 = _interopRequireDefault(_buttonLinkEdit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The LinkEditBrowse class provides functionality for creating and editing a link in a document,
 * and also allows to link to an existing file in DM.
 * Provides UI for creating, editing and removing a link.
 *
 * @class ButtonLinkEditBrowse
 */
var ButtonLinkEditBrowse = function (_React$Component) {
	_inherits(ButtonLinkEditBrowse, _React$Component);

	/**
  *
  * @inheritDoc
  */
	function ButtonLinkEditBrowse(props) {
		_classCallCheck(this, ButtonLinkEditBrowse);

		var _this = _possibleConstructorReturn(this, (ButtonLinkEditBrowse.__proto__ || Object.getPrototypeOf(ButtonLinkEditBrowse)).call(this, props));

		_this._browseClick = function () {
			var editor = _this.context.editor.get('nativeEditor');
			var url = editor.config.documentBrowseLinkUrl;
			var browseLinkCallback = editor.config.documentBrowseLinkCallback;
			var linkTarget = _this.linkEditButtonRef.current ? _this.linkEditButtonRef.current.state.linkTarget : '';

			var changeLinkCallback = function changeLinkCallback(selectedItem) {
				_this._updateLink(selectedItem.value, linkTarget, selectedItem.title);
			};

			if (_lang2.default.isFunction(browseLinkCallback)) {
				browseLinkCallback.apply(null, [editor, url, changeLinkCallback]);
			}
		};

		_this._updateLink = function (linkHref, linkTarget, linkTitle) {
			var editor = _this.context.editor.get('nativeEditor');
			var linkUtils = new CKEDITOR.Link(editor, { appendProtocol: false });
			var linkAttrs = {
				target: linkTarget
			};
			var modifySelection = { advance: true };

			if (linkHref) {
				if (editor.plugins && editor.plugins.creole && !linkTitle) {
					linkHref = location.origin + linkHref;
				}

				if (_this.state.element) {
					linkAttrs.href = linkHref;

					linkUtils.update(linkAttrs, _this.state.element, modifySelection);
				} else {
					linkUtils.create(linkHref, linkAttrs, modifySelection);
				}

				editor.fire('actionPerformed', _this);
			}
		};

		var link = new CKEDITOR.Link(
		// Can't access context from constructor, so get editor from props.
		_this.props.context.editor.get('nativeEditor')).getFromSelection();

		var href = link ? link.getAttribute('href') : '';

		_this.linkEditButtonRef = _react2.default.createRef();

		_this.state = {
			element: link,
			linkHref: href
		};
		return _this;
	}

	/**
  * Lifecycle. Renders the UI of the button.
  *
  * @method render
  * @return {Object} The content which should be rendered.
  */


	_createClass(ButtonLinkEditBrowse, [{
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				{ className: 'ae-container-link-edit-browse' },
				_react2.default.createElement(_buttonLinkEdit2.default, _extends({ ref: this.linkEditButtonRef }, this.props)),
				_react2.default.createElement(
					'button',
					{
						'aria-label': 'Browse',
						className: 'ae-button',
						onClick: this._browseClick,
						title: 'browse' },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'folder' })
				)
			);
		}

		/**
   * Opens an item selector dialog.
   *
   * @protected
   * @method _browseClick
   */


		/**
   * Updates the link in the editor element. If the element didn't exist previously, it will
   * create a new <a> element with the href specified in the link input.
   *
   * @protected
   * @method _updateLink
   * @param {String} linkHref href value for the link
   * @param {String} linkTarget target value for the link
   * @param {String} linkTitle if the link is a title that points to a wiki page (only works for creole)
   */

	}]);

	return ButtonLinkEditBrowse;
}(_react2.default.Component);

ButtonLinkEditBrowse.contextType = _editorContext2.default;
ButtonLinkEditBrowse.key = 'linkEditBrowse';
exports.default = _editorContext2.default.toProps(ButtonLinkEditBrowse);

/***/ }),

/***/ "./src/components/buttons/button-link-edit.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-link-edit.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonLinkAutocompleteList = __webpack_require__(/*! ./button-link-autocomplete-list.jsx */ "./src/components/buttons/button-link-autocomplete-list.jsx");

var _buttonLinkAutocompleteList2 = _interopRequireDefault(_buttonLinkAutocompleteList);

var _buttonLinkTargetEdit = __webpack_require__(/*! ./button-link-target-edit.jsx */ "./src/components/buttons/button-link-target-edit.jsx");

var _buttonLinkTargetEdit2 = _interopRequireDefault(_buttonLinkTargetEdit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonLinkEdit class provides functionality for creating and editing a link in a document.
 * Provides UI for creating, editing and removing a link.
 *
 * @class ButtonLinkEdit
 * @uses WidgetDropdown
 * @uses WidgetFocusManager
 */
var ButtonLinkEdit = function (_React$Component) {
	_inherits(ButtonLinkEdit, _React$Component);

	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof ButtonLinkEdit
  * @method getDefaultProps
  * @return {Object} The default properties.
  */
	function ButtonLinkEdit(props) {
		_classCallCheck(this, ButtonLinkEdit);

		var _this = _possibleConstructorReturn(this, (ButtonLinkEdit.__proto__ || Object.getPrototypeOf(ButtonLinkEdit)).call(this, props));

		_this._clearLink = function () {
			_this.setState({
				linkHref: ''
			});

			_this._focusLinkInput();
		};

		_this._handleKeyDown = function (event) {
			if (event.keyCode === 13 || event.keyCode === 27) {
				event.preventDefault();
			}

			if (event.keyCode === 13) {
				_this._updateLink();
			} else if (event.keyCode === 40) {
				_this.setState({
					autocompleteSelected: true
				});
			} else if (event.keyCode === 27) {
				var editor = _this.context.editor.get('nativeEditor');

				new CKEDITOR.Link(editor).advanceSelection();

				_this.context.editor.get('nativeEditor').fire('actionPerformed', _this);
			}
		};

		_this._handleLinkHrefChange = function (event) {
			_this.setState({
				linkHref: event.target.value
			});

			_this._focusLinkInput();
		};

		_this._handleLinkTargetChange = function (event) {
			_this.setState({
				itemDropdown: null,
				linkTarget: event.target.getAttribute('data-value')
			});

			_this._focusLinkInput();
		};

		_this._removeLink = function () {
			var editor = _this.context.editor.get('nativeEditor');
			var linkUtils = new CKEDITOR.Link(editor);
			var selection = editor.getSelection();
			var bookmarks = selection.createBookmarks();

			linkUtils.remove(_this.state.element, { advance: true });

			selection.selectBookmarks(bookmarks);

			// We need to cancelExclusive with the bound parameters in case the button is used
			// inside another in exclusive mode (such is the case of the link button)
			_this.props.cancelExclusive();

			editor.fire('actionPerformed', _this);
		};

		_this._updateLink = function () {
			var editor = _this.context.editor.get('nativeEditor');
			var linkUtils = new CKEDITOR.Link(editor, {
				appendProtocol: _this.props.appendProtocol
			});
			var linkAttrs = {
				target: _this.state.linkTarget || null
			};
			var modifySelection = { advance: true };

			if (_this.state.linkHref) {
				if (_this.state.element) {
					linkAttrs.href = _this.state.linkHref;

					linkUtils.update(linkAttrs, _this.state.element, modifySelection);
				} else {
					if (!_this.state.linkTarget) linkAttrs = {};

					linkUtils.create(_this.state.linkHref, linkAttrs, modifySelection);
				}

				editor.fire('actionPerformed', _this);
			}

			// We need to cancelExclusive with the bound parameters in case the button is used
			// inside another in exclusive mode (such is the case of the link button)
			_this.props.cancelExclusive();
		};

		_this.linkInput = _react2.default.createRef();
		_this.state = _this._getInitialState();
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
  *
  * Focuses on the link input to immediately allow editing. This should only happen if the component
  * is rendered in exclusive mode to prevent aggressive focus stealing.
  *
  * @instance
  * @memberof ButtonLinkEdit
  * @method componentDidMount
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default linkEdit
  * @memberof ButtonLinkEdit
  * @property {String} key
  * @static
  */


	_createClass(ButtonLinkEdit, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			if (this.props.renderExclusive || this.props.manualSelection) {
				// We need to wait for the next rendering cycle before focusing to avoid undesired
				// scrolls on the page
				this._focusLinkInput();
			}
		}

		/**
   * Lifecycle. Invoked when a component is receiving new props.
   * This method is not called for the initial render.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method componentWillReceiveProps
   */

	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps() {
			this.setState(this._getInitialState());
		}

		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			var targetSelector = {
				allowedTargets: this.props.allowedTargets,
				editor: this.context.editor,
				handleLinkTargetChange: this._handleLinkTargetChange,
				selectedTarget: this.state.linkTarget || AlloyEditor.Strings.linkTargetDefault
			};

			targetSelector = this.mergeDropdownProps(targetSelector, _buttonLinkTargetEdit2.default.key);

			var autocompleteDropdown = void 0;

			if (this.props.data) {
				var dataFn = this.props.data;

				if (!_lang2.default.isFunction(dataFn)) {
					var items = this.props.data;

					dataFn = function dataFn() {
						return items;
					};
				}

				var autocompleteDropdownProps = {
					autocompleteSelected: this.state.autocompleteSelected,
					data: dataFn,
					editor: this.context.editor,
					handleLinkAutocompleteClick: this._handleLinkAutocompleteClick,
					onDismiss: this.props.toggleDropdown,
					setAutocompleteState: this._setAutocompleteState,
					term: this.state.linkHref
				};

				autocompleteDropdownProps = this.mergeDropdownProps(autocompleteDropdownProps, _buttonLinkAutocompleteList2.default.key);

				autocompleteDropdown = _react2.default.createElement(_buttonLinkAutocompleteList2.default, autocompleteDropdownProps);
			}

			var buttonClearLink = void 0;

			if (this.state.linkHref) {
				buttonClearLink = _react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.clearInput,
						className: 'ae-button ae-button-clear',
						onClick: this._clearLink,
						title: AlloyEditor.Strings.clear },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'times-circle' })
				);
			}

			var placeholderProp = {};

			if (!CKEDITOR.env.ie && AlloyEditor.Strings) {
				placeholderProp.placeholder = AlloyEditor.Strings.editLink;
			}

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container-edit-link' },
				_react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.removeLink,
						className: 'ae-button',
						disabled: !this.state.element,
						onClick: this._removeLink,
						title: AlloyEditor.Strings.remove },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'chain-broken' })
				),
				_react2.default.createElement(
					'div',
					{ className: 'ae-container-input xxl' },
					this.props.showTargetSelector && _react2.default.createElement(_buttonLinkTargetEdit2.default, targetSelector),
					_react2.default.createElement(
						'div',
						{ className: 'ae-container-input' },
						_react2.default.createElement('input', _extends({
							className: 'ae-input',
							onChange: this._handleLinkHrefChange,
							onKeyDown: this._handleKeyDown
						}, placeholderProp, {
							ref: this.linkInput,
							type: 'text',
							value: this.state.linkHref
						})),
						autocompleteDropdown
					),
					buttonClearLink
				),
				_react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.confirm,
						className: 'ae-button',
						disabled: !this._isValidState(),
						onClick: this._updateLink,
						title: AlloyEditor.Strings.confirm },
					_react2.default.createElement(_buttonIcon2.default, { className: 'ae-icon-svg-check', symbol: 'check' })
				)
			);
		}

		/**
   * The return value will be used as the initial value of this.state.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _getInitialState
   * @protected
   * @return {Object}
   */

	}, {
		key: '_getInitialState',
		value: function _getInitialState() {
			// Can't access context from contructor, so get editor from props.
			var editor = this.props.context.editor;
			var defaultLinkTarget = this.props.defaultLinkTarget;


			var link = new CKEDITOR.Link(editor.get('nativeEditor')).getFromSelection();
			var href = link && link.getAttribute('href') || '';
			var target = link && link.getAttribute('target') || defaultLinkTarget;

			return {
				autocompleteSelected: false,
				element: link,
				initialLink: {
					href: href,
					target: target
				},
				linkHref: href,
				linkTarget: target
			};
		}

		/**
   * Clears the link input. This only changes the component internal state, but does not
   * affect the link element of the editor. Only the _removeLink and _updateLink methods
   * are translated to the editor element.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _clearLink
   * @protected
   */

	}, {
		key: '_focusLinkInput',


		/**
   * Focuses the user cursor on the widget's input.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _focusLinkInput
   * @protected
   */
		value: function _focusLinkInput() {
			var instance = this;

			var focusLinkEl = function focusLinkEl() {
				instance.linkInput.current.focus();
			};

			if (window.requestAnimationFrame) {
				window.requestAnimationFrame(focusLinkEl);
			} else {
				setTimeout(focusLinkEl, 0);
			}
		}

		/**
   * Monitors key interaction inside the input element to respond to the keys:
   * - Enter: Creates/updates the link.
   * - Escape: Discards the changes.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _handleKeyDown
   * @param {SyntheticEvent} event The keyboard event.
   * @protected
   */


		/**
   * Updates the component state when the link input changes on user interaction.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _handleLinkHrefChange
   * @param {SyntheticEvent} event The change event.
   * @protected
   */


		/**
   * Updates the component state when the link target changes on user interaction.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _handleLinkTargetChange
   * @param {SyntheticEvent} event The click event.
   * @protected
   */

	}, {
		key: '_handleLinkAutocompleteClick',


		/**
   * Updates the component state when an autocomplete link result is selected by user interaction.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _handleLinkAutocompleteClick
   * @param {SyntheticEvent} event The click event.
   * @protected
   */
		value: function _handleLinkAutocompleteClick(event) {
			this.setState({
				itemDropdown: null,
				linkHref: event.target.getAttribute('data-value')
			});

			this._focusLinkInput();
		}

		/**
   * Verifies that the current link state is valid so the user can save the link. A valid state
   * means that we have a non-empty href and that either that or the link target are different
   * from the original link.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _isValidState
   * @protected
   * @return {Boolean} [description]
   */

	}, {
		key: '_isValidState',
		value: function _isValidState() {
			var validState = this.state.linkHref && (this.state.linkHref !== this.state.initialLink.href || this.state.linkTarget !== this.state.initialLink.target);

			return validState;
		}

		/**
   * Removes the link in the editor element.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _removeLink
   * @protected
   */

	}, {
		key: '_setAutocompleteState',


		/**
   * Update autocompleteSelected state to focus and select autocomplete´s dropdown
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _setAutocompleteState
   * @protected
   */
		value: function _setAutocompleteState(state) {
			this.setState({
				autocompleteSelected: state.selected
			});
		}

		/**
   * Updates the link in the editor element. If the element didn't exist previously, it will
   * create a new <a> element with the href specified in the link input.
   *
   * @instance
   * @memberof ButtonLinkEdit
   * @method _updateLink
   * @protected
   */

	}]);

	return ButtonLinkEdit;
}(_react2.default.Component);

ButtonLinkEdit.contextType = _editorContext2.default;
ButtonLinkEdit.defaultProps = {
	appendProtocol: true,
	autocompleteUrl: '',
	circular: true,
	customIndexStart: true,
	defaultLinkTarget: '',
	descendants: '.ae-toolbar-element',
	keys: {
		dismiss: [27],
		dismissNext: [39],
		dismissPrev: [37],
		next: [40],
		prev: [38]
	},
	showTargetSelector: true
};
ButtonLinkEdit.key = 'linkEdit';
exports.default = _editorContext2.default.toProps((0, _widgetDropdown2.default)((0, _widgetFocusManager2.default)(ButtonLinkEdit)));

/***/ }),

/***/ "./src/components/buttons/button-link-target-edit.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-link-target-edit.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonTargetList = __webpack_require__(/*! ./button-target-list.jsx */ "./src/components/buttons/button-target-list.jsx");

var _buttonTargetList2 = _interopRequireDefault(_buttonTargetList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonLinkTargetEdit class provides functionality for changing the target of a link
 * in the document.
 *
 * @class ButtonLinkTargetEdit
 */
var ButtonLinkTargetEdit = function (_React$Component) {
	_inherits(ButtonLinkTargetEdit, _React$Component);

	function ButtonLinkTargetEdit() {
		_classCallCheck(this, ButtonLinkTargetEdit);

		return _possibleConstructorReturn(this, (ButtonLinkTargetEdit.__proto__ || Object.getPrototypeOf(ButtonLinkTargetEdit)).apply(this, arguments));
	}

	_createClass(ButtonLinkTargetEdit, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonLinkTargetEdit
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var handleLinkTargetChange = this.props.handleLinkTargetChange;
			var allowedLinkTargets = this.props.allowedTargets;

			return _react2.default.createElement(
				'div',
				{
					className: 'ae-container-dropdown ae-container-dropdown-medium ae-container-edit-link-target ae-has-dropdown',
					tabIndex: '0' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': this.props.expanded,
						'aria-label': this.props.selectedTarget,
						className: 'ae-toolbar-element',
						onClick: this.props.toggleDropdown,
						role: 'combobox',
						tabIndex: this.props.tabIndex,
						title: this.props.selectedTarget },
					_react2.default.createElement(
						'div',
						{ className: 'ae-container' },
						_react2.default.createElement(
							'span',
							{ className: 'ae-container-dropdown-selected-item' },
							this.props.selectedTarget
						),
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'caret-bottom' })
					)
				),
				this.props.expanded && _react2.default.createElement(_buttonTargetList2.default, {
					allowedLinkTargets: allowedLinkTargets,
					handleLinkTargetChange: handleLinkTargetChange,
					onDismiss: this.props.toggleDropdown,
					selectedTarget: this.props.selectedTarget
				})
			);
		}

		/**
   * Lifecycle. Invoked before rendering when new props or state are being received.
   * This method is not called for the initial render or when forceUpdate is used.
   *
   * @instance
   * @memberof ButtonLinkTargetEdit
   * @method  shouldComponentUpdate
   * @return {Boolean} Returns false when the transition to the new props and state will not
   * require a component update.
   */

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default linkTargetEdit
   * @memberof ButtonLinkTargetEdit
   * @property {String} key
   * @static
   */

	}, {
		key: 'shouldComponentUpdate',
		value: function shouldComponentUpdate(nextProps) {
			return nextProps.expanded !== this.props.expanded || nextProps.selectedTarget !== this.props.selectedTarget;
		}
	}]);

	return ButtonLinkTargetEdit;
}(_react2.default.Component);

ButtonLinkTargetEdit.key = 'linkTargetEdit';
exports.default = ButtonLinkTargetEdit;

/***/ }),

/***/ "./src/components/buttons/button-link.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-link.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonProps = __webpack_require__(/*! ../base/button-props */ "./src/components/base/button-props.js");

var _buttonProps2 = _interopRequireDefault(_buttonProps);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonLinkEdit = __webpack_require__(/*! ./button-link-edit.jsx */ "./src/components/buttons/button-link-edit.jsx");

var _buttonLinkEdit2 = _interopRequireDefault(_buttonLinkEdit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonLink class provides functionality for creating and editing a link in a document. ButtonLink
 * renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonLinkEdit UI with all the link edition controls.
 *
 * @class ButtonLink
 * @uses ButtonProps
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 */
var ButtonLink = function (_React$Component) {
	_inherits(ButtonLink, _React$Component);

	function ButtonLink() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonLink);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonLink.__proto__ || Object.getPrototypeOf(ButtonLink)).call.apply(_ref, [this].concat(args))), _this), _this._requestExclusive = function () {
			_this.props.requestExclusive(ButtonLink.key);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof ButtonLink
  * @method getDefaultProps
  * @return {Object} The default properties.
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default link
  * @memberof ButtonLink
  * @property {String} key
  * @static
  */


	_createClass(ButtonLink, [{
		key: 'isActive',


		/**
   * Checks if the current selection is contained within a link.
   *
   * @instance
   * @memberof ButtonLink
   * @method isActive
   * @return {Boolean} True if the selection is inside a link, false otherwise.
   */
		value: function isActive() {
			return new CKEDITOR.Link(this.context.editor.get('nativeEditor')).getFromSelection() !== null;
		}

		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonLink
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			if (this.props.renderExclusive) {
				var props = this.mergeButtonCfgProps();

				return _react2.default.createElement(_buttonLinkEdit2.default, props);
			} else {
				return _react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.link,
						className: cssClass,
						'data-type': 'button-link',
						onClick: this._requestExclusive,
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.link },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'link' })
				);
			}
		}

		/**
   * Requests the link button to be rendered in exclusive mode to allow the creation of a link.
   *
   * @instance
   * @memberof ButtonLink
   * @method _requestExclusive
   * @protected
   */

	}]);

	return ButtonLink;
}(_react2.default.Component);

ButtonLink.contextType = _editorContext2.default;
ButtonLink.defaultProps = {
	keystroke: {
		fn: '_requestExclusive',
		keys: CKEDITOR.CTRL + 76 /* L*/
		, name: 'link'
	}
};
ButtonLink.key = 'link';
exports.default = (0, _buttonProps2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)(ButtonLink)));

/***/ }),

/***/ "./src/components/buttons/button-ol.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-ol.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonOrderedList class provides functionality for creating ordered lists in an editor.
 *
 * @class ButtonOrderedList
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonOrderedList = function (_React$Component) {
	_inherits(ButtonOrderedList, _React$Component);

	function ButtonOrderedList() {
		_classCallCheck(this, ButtonOrderedList);

		return _possibleConstructorReturn(this, (ButtonOrderedList.__proto__ || Object.getPrototypeOf(ButtonOrderedList)).apply(this, arguments));
	}

	_createClass(ButtonOrderedList, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonOrderedList
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonOrderedList
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.numberedlist,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-ol',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.numberedlist },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'list-ol' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default ol
   * @memberof ButtonOrderedList
   * @property {String} key
   * @static
   */

	}]);

	return ButtonOrderedList;
}(_react2.default.Component);

ButtonOrderedList.defaultProps = {
	command: 'numberedlist',
	style: {
		element: 'ol'
	}
};
ButtonOrderedList.key = 'ol';
exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonOrderedList)));

/***/ }),

/***/ "./src/components/buttons/button-outdent-block.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-outdent-block.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonOutdentBlock class provides functionality for outdenting blocks.
 *
 * @class ButtonOutdentBlock
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonOutdentBlock = function (_React$Component) {
	_inherits(ButtonOutdentBlock, _React$Component);

	function ButtonOutdentBlock() {
		_classCallCheck(this, ButtonOutdentBlock);

		return _possibleConstructorReturn(this, (ButtonOutdentBlock.__proto__ || Object.getPrototypeOf(ButtonOutdentBlock)).apply(this, arguments));
	}

	_createClass(ButtonOutdentBlock, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonOutdentBlock
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonOutdentBlock
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.outdent,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-outdent-block',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.outdent },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'indent-more' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default outdentBlock
   * @memberof ButtonOutdentBlock
   * @property {String} key
   * @static
   */

	}]);

	return ButtonOutdentBlock;
}(_react2.default.Component);

ButtonOutdentBlock.defaultProps = {
	command: 'outdent'
};
ButtonOutdentBlock.key = 'outdentBlock';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonOutdentBlock)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-align-left.jsx":
/*!****************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-align-left.jsx ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonParagraphAlignLeft class provides functionality for aligning a paragraph on left.
 *
 * @class ButtonParagraphAlignLeft
 *
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphAlignLeft = function (_React$Component) {
	_inherits(ButtonParagraphAlignLeft, _React$Component);

	function ButtonParagraphAlignLeft() {
		_classCallCheck(this, ButtonParagraphAlignLeft);

		return _possibleConstructorReturn(this, (ButtonParagraphAlignLeft.__proto__ || Object.getPrototypeOf(ButtonParagraphAlignLeft)).apply(this, arguments));
	}

	_createClass(ButtonParagraphAlignLeft, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonParagraphAlignLeft
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonParagraphAlignLeft
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.alignLeft,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-paragraph-align-left',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.alignLeft },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'align-left' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default paragraphLeft
   * @memberof ButtonParagraphAlignLeft
   * @property {String} key
   * @static
   */

	}]);

	return ButtonParagraphAlignLeft;
}(_react2.default.Component);

ButtonParagraphAlignLeft.defaultProps = {
	command: 'justifyleft'
};
ButtonParagraphAlignLeft.key = 'paragraphLeft';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphAlignLeft)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-align-right.jsx":
/*!*****************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-align-right.jsx ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonParagraphAlignRight class provides functionality for aligning a paragraph on right.
 *
 * @class ButtonParagraphAlignRight
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphAlignRight = function (_React$Component) {
	_inherits(ButtonParagraphAlignRight, _React$Component);

	function ButtonParagraphAlignRight() {
		_classCallCheck(this, ButtonParagraphAlignRight);

		return _possibleConstructorReturn(this, (ButtonParagraphAlignRight.__proto__ || Object.getPrototypeOf(ButtonParagraphAlignRight)).apply(this, arguments));
	}

	_createClass(ButtonParagraphAlignRight, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonParagraphAlignRight
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonParagraphAlignRight
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.alignRight,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-paragraph-align-right',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.alignRight },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'align-right' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default paragraphRight
   * @memberof ButtonParagraphAlignRight
   * @property {String} key
   * @static
   */

	}]);

	return ButtonParagraphAlignRight;
}(_react2.default.Component);

ButtonParagraphAlignRight.defaultProps = {
	command: 'justifyright'
};
ButtonParagraphAlignRight.key = 'paragraphRight';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphAlignRight)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-align.jsx":
/*!***********************************************************!*\
  !*** ./src/components/buttons/button-paragraph-align.jsx ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonParagraphAlign class provides functionality to work with table rows.
 *
 * @class ButtonParagraphAlign
 */
var ButtonParagraphAlign = function (_React$Component) {
	_inherits(ButtonParagraphAlign, _React$Component);

	function ButtonParagraphAlign() {
		_classCallCheck(this, ButtonParagraphAlign);

		return _possibleConstructorReturn(this, (ButtonParagraphAlign.__proto__ || Object.getPrototypeOf(ButtonParagraphAlign)).apply(this, arguments));
	}

	_createClass(ButtonParagraphAlign, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonParagraphAlign
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var buttonCommandsList = void 0;
			var buttonCommandsListId = void 0;

			if (this.props.expanded) {
				buttonCommandsListId = ButtonParagraphAlign.key + 'List';
				buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, {
					commands: this._getCommands(),
					inlineIcons: false,
					listId: buttonCommandsListId,
					onDismiss: this.props.toggleDropdown
				});
			}

			var editor = this.context.editor.get('nativeEditor');

			var activeCommand = this._getCommands().filter(function (alignment) {
				var command = editor.getCommand(alignment.command);

				return command ? command.state === CKEDITOR.TRISTATE_ON : false;
			}).pop();

			var iconClassName = activeCommand.icon;

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container-dropdown ae-container-dropdown-xsmall ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': this.props.expanded,
						'aria-label': activeCommand.label,
						'aria-owns': buttonCommandsListId,
						className: 'ae-toolbar-element',
						onClick: this.props.toggleDropdown,
						role: 'combobox',
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.row },
					_react2.default.createElement(
						'div',
						{ className: 'ae-container' },
						_react2.default.createElement(_buttonIcon2.default, { symbol: iconClassName }),
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'caret-bottom' })
					)
				),
				buttonCommandsList
			);
		}

		/**
   * Returns a list of commands. If a list of commands was passed
   * as property `commands`, it will take a precedence over the default ones.
   *
   * @instance
   * @memberof ButtonParagraphAlign
   * @method _getCommands
   * @protected
   * @return {Array} The list of available commands.
   */

	}, {
		key: '_getCommands',
		value: function _getCommands() {
			return this.props.commands || [{
				command: 'justifyleft',
				icon: 'align-left',
				label: AlloyEditor.Strings.alignLeft
			}, {
				command: 'justifycenter',
				icon: 'align-center',
				label: AlloyEditor.Strings.alignCenter
			}, {
				command: 'justifyright',
				icon: 'align-right',
				label: AlloyEditor.Strings.alignRight
			}, {
				command: 'justifyblock',
				icon: 'align-justify',
				label: AlloyEditor.Strings.alignJustify
			}];
		}
	}]);

	return ButtonParagraphAlign;
}(_react2.default.Component);

ButtonParagraphAlign.contextType = _editorContext2.default;
ButtonParagraphAlign.key = 'paragraphAlign';
exports.default = ButtonParagraphAlign;

/***/ }),

/***/ "./src/components/buttons/button-paragraph-center.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-center.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonParagraphCenter class provides functionality for centering a paragraph.
 *
 * @class ButtonParagraphCenter
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphCenter = function (_React$Component) {
	_inherits(ButtonParagraphCenter, _React$Component);

	function ButtonParagraphCenter() {
		_classCallCheck(this, ButtonParagraphCenter);

		return _possibleConstructorReturn(this, (ButtonParagraphCenter.__proto__ || Object.getPrototypeOf(ButtonParagraphCenter)).apply(this, arguments));
	}

	_createClass(ButtonParagraphCenter, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonParagraphCenter
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonParagraphCenter
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.alignCenter,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-paragraph-center',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.alignCenter },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'align-center' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default paragraphCenter
   * @memberof ButtonParagraphCenter
   * @property {String} key
   * @static
   */

	}]);

	return ButtonParagraphCenter;
}(_react2.default.Component);

ButtonParagraphCenter.defaultProps = {
	command: 'justifycenter'
};
ButtonParagraphCenter.key = 'paragraphCenter';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphCenter)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-justify.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-justify.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonParagraphJustify class provides functionality for justfying a paragraph.
 *
 * @class ButtonParagraphJustify
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphJustify = function (_React$Component) {
	_inherits(ButtonParagraphJustify, _React$Component);

	function ButtonParagraphJustify() {
		_classCallCheck(this, ButtonParagraphJustify);

		return _possibleConstructorReturn(this, (ButtonParagraphJustify.__proto__ || Object.getPrototypeOf(ButtonParagraphJustify)).apply(this, arguments));
	}

	_createClass(ButtonParagraphJustify, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonParagraphJustify
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonParagraphJustify
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.alignJustify,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-paragraph-justify',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.alignJustify },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'align-justify' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default paragraphJustify
   * @memberof ButtonParagraphJustify
   * @property {String} key
   * @static
   */

	}]);

	return ButtonParagraphJustify;
}(_react2.default.Component);

ButtonParagraphJustify.defaultProps = {
	command: 'justifyblock'
};
ButtonParagraphJustify.key = 'paragraphJustify';
exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphJustify)));

/***/ }),

/***/ "./src/components/buttons/button-quote.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-quote.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonQuote class wraps a selection in `blockquote` element.
 *
 * @class ButtonQuote
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonQuote = function (_React$Component) {
	_inherits(ButtonQuote, _React$Component);

	function ButtonQuote() {
		_classCallCheck(this, ButtonQuote);

		return _possibleConstructorReturn(this, (ButtonQuote.__proto__ || Object.getPrototypeOf(ButtonQuote)).apply(this, arguments));
	}

	_createClass(ButtonQuote, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonQuote
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonQuote
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.quote,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-quote',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.quote },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'quote-right' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default quote
   * @memberof ButtonQuote
   * @property {String} key
   * @static
   */

	}]);

	return ButtonQuote;
}(_react2.default.Component);

ButtonQuote.defaultProps = {
	command: 'blockquote',
	style: {
		element: 'blockquote'
	}
};
ButtonQuote.key = 'quote';
exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonQuote)));

/***/ }),

/***/ "./src/components/buttons/button-remove-format.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-remove-format.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonRemoveFormat class removes style formatting.
 *
 * @class ButtonRemoveFormat
 * @uses ButtonCommand
 */
var ButtonRemoveFormat = function (_React$Component) {
	_inherits(ButtonRemoveFormat, _React$Component);

	function ButtonRemoveFormat() {
		_classCallCheck(this, ButtonRemoveFormat);

		return _possibleConstructorReturn(this, (ButtonRemoveFormat.__proto__ || Object.getPrototypeOf(ButtonRemoveFormat)).apply(this, arguments));
	}

	_createClass(ButtonRemoveFormat, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonRemoveFormat
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonRemoveFormat
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.removeformat,
					className: 'ae-button',
					'data-type': 'button-removeformat',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.removeformat },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'remove-style' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default removeFormat
   * @memberof ButtonRemoveFormat
   * @property {String} key
   * @static
   */

	}]);

	return ButtonRemoveFormat;
}(_react2.default.Component);

ButtonRemoveFormat.defaultProps = {
	command: 'removeFormat'
};
ButtonRemoveFormat.key = 'removeFormat';
exports.default = (0, _buttonCommand2.default)(ButtonRemoveFormat);

/***/ }),

/***/ "./src/components/buttons/button-remove-image.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-remove-image.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonRemoveImage class removes an image using a CKEDITOR.command.
 *
 * @class ButtonRemoveImage
 * @uses ButtonCommand
 */
var ButtonRemoveImage = function (_React$Component) {
	_inherits(ButtonRemoveImage, _React$Component);

	function ButtonRemoveImage() {
		_classCallCheck(this, ButtonRemoveImage);

		return _possibleConstructorReturn(this, (ButtonRemoveImage.__proto__ || Object.getPrototypeOf(ButtonRemoveImage)).apply(this, arguments));
	}

	_createClass(ButtonRemoveImage, [{
		key: 'render',


		/**
   * @inheritDoc
   */
		value: function render() {
			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.removeImage,
					'aria-pressed': false,
					className: 'ae-button',
					onClick: this.execCommand,
					title: AlloyEditor.Strings.removeImage },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'times-circle' })
			);
		}
	}]);

	return ButtonRemoveImage;
}(_react2.default.Component);

ButtonRemoveImage.defaultProps = {
	command: 'removeImage'
};
ButtonRemoveImage.key = 'removeImage';
exports.default = (0, _buttonCommand2.default)(ButtonRemoveImage);

/***/ }),

/***/ "./src/components/buttons/button-separator.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-separator.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * The ButtonSeparator function renders a simple separator.
 */
function ButtonSeparator(_props) {
  return _react2.default.createElement('span', { className: 'ae-separator' });
}

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default separator
 * @memberof ButtonSeparator
 * @property {String} key
 * @static
 */
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

ButtonSeparator.key = 'separator';

exports.default = ButtonSeparator;

/***/ }),

/***/ "./src/components/buttons/button-spacing.jsx":
/*!***************************************************!*\
  !*** ./src/components/buttons/button-spacing.jsx ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonSpacing class provides functionality for changing text spacing in a document.
 *
 * @class ButtonSpacing
 */
var ButtonSpacing = function (_React$Component) {
	_inherits(ButtonSpacing, _React$Component);

	function ButtonSpacing() {
		_classCallCheck(this, ButtonSpacing);

		return _possibleConstructorReturn(this, (ButtonSpacing.__proto__ || Object.getPrototypeOf(ButtonSpacing)).apply(this, arguments));
	}

	_createClass(ButtonSpacing, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var _this2 = this;

			var activeSpacing = '1.0x';

			var spacings = this._getSpacings();

			spacings.forEach(function (item) {
				if (_this2._checkActive(item.style)) {
					activeSpacing = item.name;
				}
			});

			var _props = this.props,
			    editor = _props.editor,
			    expanded = _props.expanded,
			    tabIndex = _props.tabIndex,
			    toggleDropdown = _props.toggleDropdown;


			var buttonStylesProps = {
				activeStyle: activeSpacing,
				editor: editor,
				onDismiss: toggleDropdown,
				showRemoveStylesItem: false,
				styles: spacings
			};

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container ae-container-dropdown-small ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': expanded,
						className: 'ae-toolbar-element',
						onClick: toggleDropdown,
						role: 'combobox',
						tabIndex: tabIndex },
					_react2.default.createElement(
						'span',
						null,
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'separator' }),
						'\xA0',
						activeSpacing
					)
				),
				expanded && _react2.default.createElement(_buttonStylesList2.default, buttonStylesProps)
			);
		}
	}, {
		key: '_applyStyle',
		value: function _applyStyle(className) {
			var _this3 = this;

			var editor = this.context.editor.get('nativeEditor');

			var styleConfig = {
				element: 'div',
				attributes: {
					class: className
				}
			};

			var style = new CKEDITOR.style(styleConfig);

			editor.getSelection().lock();

			this._getSpacings().forEach(function (item) {
				if (_this3._checkActive(item.style)) {
					editor.removeStyle(new CKEDITOR.style(item.style));
				}
			});

			editor.applyStyle(style);

			editor.getSelection().unlock();

			editor.fire('actionPerformed', this);
		}

		/**
   * Checks if the given spacing definition is applied to the current selection in the editor.
   *
   * @instance
   * @memberof Spacing
   * @method _checkActive
   * @param {Object} styleConfig Spacing definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.
   * @protected
   * @return {Boolean} Returns true if the spacing is applied to the selection, false otherwise.
   */

	}, {
		key: '_checkActive',
		value: function _checkActive(styleConfig) {
			var nativeEditor = this.context.editor.get('nativeEditor');

			var active = true;

			var elementPath = nativeEditor.elementPath();

			if (elementPath && elementPath.lastElement) {
				styleConfig.attributes.class.split(' ').forEach(function (className) {
					active = active && elementPath.lastElement.hasClass(className);
				});
			} else {
				active = false;
			}

			return active;
		}

		/**
   * Returns an array of spacings. Each spacing consists from three properties:
   * - name - the style name, for example "default"
   * - style - an object with one property, called `element` which value
   * represents the style which have to be applied to the element.
   * - styleFn - a function which applies selected style to the editor selection
   *
   * @instance
   * @memberof Spacing
   * @method _getSpacings
   * @protected
   * @return {Array<object>} An array of objects containing the spacings.
   */

	}, {
		key: '_getSpacings',
		value: function _getSpacings() {
			return this.props.styles || [{
				name: '1.0x',
				style: {
					element: 'div',
					attributes: {
						class: ''
					},
					type: 1
				},
				styleFn: this._applyStyle.bind(this, '')
			}, {
				name: '1.5x',
				style: {
					element: 'div',
					attributes: {
						class: 'mt-1 mb-1'
					},
					type: 1
				},
				styleFn: this._applyStyle.bind(this, 'mt-1 mb-1')
			}, {
				name: '2.0x',
				style: {
					element: 'div',
					attributes: {
						class: 'mt-2 mb-2'
					},
					type: 1
				},
				styleFn: this._applyStyle.bind(this, 'mt-2 mb-2')
			}, {
				name: '3.0x',
				style: {
					element: 'div',
					attributes: {
						class: 'mt-3 mb-3'
					},
					type: 1
				},
				styleFn: this._applyStyle.bind(this, 'mt-3 mb-3')
			}, {
				name: '4.0x',
				style: {
					element: 'div',
					attributes: {
						class: 'mt-4 mb-4'
					},
					type: 1
				},
				styleFn: this._applyStyle.bind(this, 'mt-4 mb-4')
			}, {
				name: '5.0x',
				style: {
					element: 'div',
					attributes: {
						class: 'mt-5 mb-5'
					},
					type: 1
				},
				styleFn: this._applyStyle.bind(this, 'mt-5 mb-5')
			}];
		}
	}]);

	return ButtonSpacing;
}(_react2.default.Component);

ButtonSpacing.contextType = _editorContext2.default;
ButtonSpacing.key = 'spacing';
ButtonSpacing.propTypes = {
	/**
  * Indicates whether the styles list is expanded or not.
  *
  * @instance
  * @memberof Spacing
  * @property {Boolean} expanded
  */
	expanded: _propTypes2.default.bool,

	/**
  * The label that should be used for accessibility purposes.
  *
  * @instance
  * @memberof Spacing
  * @property {String} label
  */
	label: _propTypes2.default.string,

	/**
  * Indicates whether the remove styles item should appear in the styles list.
  *
  * @instance
  * @memberof Spacing
  * @property {Boolean} showRemoveStylesItem
  */
	showRemoveStylesItem: _propTypes2.default.bool,

	/**
  * List of the styles the button is able to handle.
  *
  * @instance
  * @memberof Spacing
  * @property {Array} styles
  */
	styles: _propTypes2.default.arrayOf(_propTypes2.default.object),

	/**
  * The tabIndex of the button in its toolbar current state. A value other than -1
  * means that the button has focus and is the active element.
  *
  * @instance
  * @memberof Spacing
  * @property {Number} tabIndex
  */
	tabIndex: _propTypes2.default.number,

	/**
  * Callback provided by the button host to notify when the styles list has been expanded.
  *
  * @instance
  * @memberof Spacing
  * @property {Function} toggleDropdown
  */
	toggleDropdown: _propTypes2.default.func
};
exports.default = ButtonSpacing;

/***/ }),

/***/ "./src/components/buttons/button-strike.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-strike.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonStrike class styles a selection with strike style.
 *
 * @class ButtonStrike
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonStrike = function (_React$Component) {
	_inherits(ButtonStrike, _React$Component);

	function ButtonStrike() {
		_classCallCheck(this, ButtonStrike);

		return _possibleConstructorReturn(this, (ButtonStrike.__proto__ || Object.getPrototypeOf(ButtonStrike)).apply(this, arguments));
	}

	_createClass(ButtonStrike, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   * @instance
   * @memberof ButtonStrike
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonStrike
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.strike,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-strike',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.strike },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'strikethrough' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default strike
   * @memberof ButtonStrike
   * @property {String} key
   * @static
   */

	}]);

	return ButtonStrike;
}(_react2.default.Component);

ButtonStrike.defaultProps = {
	command: 'strike',
	style: 'coreStyles_strike'
};
ButtonStrike.key = 'strike';
exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonStrike)));

/***/ }),

/***/ "./src/components/buttons/button-styles-list-header.jsx":
/*!**************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-header.jsx ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonsStylesListHeader class provides the header of an list of style items.
 *
 * @class ButtonsStylesListHeader
 */
var ButtonsStylesListHeader = function (_React$Component) {
	_inherits(ButtonsStylesListHeader, _React$Component);

	function ButtonsStylesListHeader() {
		_classCallCheck(this, ButtonsStylesListHeader);

		return _possibleConstructorReturn(this, (ButtonsStylesListHeader.__proto__ || Object.getPrototypeOf(ButtonsStylesListHeader)).apply(this, arguments));
	}

	_createClass(ButtonsStylesListHeader, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonsStylesListHeader
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			if (this.props.styles && this.props.styles.length) {
				return _react2.default.createElement(
					'span',
					{ className: 'ae-list-header' },
					this.props.name
				);
			} else {
				return null;
			}
		}
	}]);

	return ButtonsStylesListHeader;
}(_react2.default.Component);

ButtonsStylesListHeader.key = 'buttonStylesListHeader';
exports.default = ButtonsStylesListHeader;

/***/ }),

/***/ "./src/components/buttons/button-styles-list-item-remove.jsx":
/*!*******************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-item-remove.jsx ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonStylesListItemRemove class provides functionality for previewing a style definition
 * inside a list and applying it to the current editor selection.
 *
 * @class ButtonStylesListItemRemove
 */
var ButtonStylesListItemRemove = function (_React$Component) {
	_inherits(ButtonStylesListItemRemove, _React$Component);

	function ButtonStylesListItemRemove() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonStylesListItemRemove);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonStylesListItemRemove.__proto__ || Object.getPrototypeOf(ButtonStylesListItemRemove)).call.apply(_ref, [this].concat(args))), _this), _this._removeStyles = function () {
			var editor = _this.context.editor.get('nativeEditor');

			editor.execCommand('removeFormat');

			_this.props.removeBlocks.forEach(function (blockItem) {
				var blockStyle = new CKEDITOR.style({ element: blockItem });

				editor.removeStyle(blockStyle);
			});

			editor.fire('actionPerformed', _this);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof ButtonStylesListItemRemove
  * @method getDefaultProps
  * @return {Object} The default properties.
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default buttonStylesListItemRemove
  * @memberof ButtonStylesListItemRemove
  * @property {String} key
  * @static
  */


	_createClass(ButtonStylesListItemRemove, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonStylesListItemRemove
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			return _react2.default.createElement(
				'li',
				{ role: 'option' },
				_react2.default.createElement(
					'button',
					{
						className: 'ae-toolbar-element',
						onClick: this._removeStyles,
						tabIndex: this.props.tabIndex },
					AlloyEditor.Strings.normal
				)
			);
		}

		/**
   * Removes all inline styles and configured block elements applied to the current selection.
   *
   * @instance
   * @memberof ButtonStylesListItemRemove
   * @method _removeStyles
   * @protected
   */

	}]);

	return ButtonStylesListItemRemove;
}(_react2.default.Component);

ButtonStylesListItemRemove.contextType = _editorContext2.default;
ButtonStylesListItemRemove.defaultProps = {
	removeBlocks: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre']
};
ButtonStylesListItemRemove.key = 'buttonStylesListItemRemove';
exports.default = ButtonStylesListItemRemove;

/***/ }),

/***/ "./src/components/buttons/button-styles-list-item.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-item.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonStylesListItem class provides functionality for previewing a style definition
 * inside a list and applying it to the current editor selection.
 *
 * @class ButtonStylesListItem
 * @uses ButtonActionStyle
 * @uses ButtonStyle
 */
var ButtonStylesListItem = function (_React$Component) {
	_inherits(ButtonStylesListItem, _React$Component);

	function ButtonStylesListItem() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonStylesListItem);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonStylesListItem.__proto__ || Object.getPrototypeOf(ButtonStylesListItem)).call.apply(_ref, [this].concat(args))), _this), _this._onClick = function () {
			if (_this.props.styleFn) {
				_this.props.styleFn();
			} else {
				// Typically, we want the style to be the only one applied to the current selection, so
				// we execute the 'removeFormat' command first. Note that block styles won't be cleaned.
				// However, this is consistent with other editors implementations of this feature.
				_this.context.editor.get('nativeEditor').execCommand('removeFormat');

				_this.applyStyle();
			}
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default buttonStylesListItem
  * @memberof ButtonStylesListItem
  * @property {String} key
  * @static
  */


	_createClass(ButtonStylesListItem, [{
		key: 'componentWillMount',


		/**
   * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
   *
   * @instance
   * @memberof ButtonStylesListItem
   * @method componentWillMount
   */
		value: function componentWillMount() {
			// Styles with wildcard element (*) generate an empty tag in their preview < class="custom-class" />.
			// We default to element span and remove the margins to obtain a more consistent set of previews.
			var styleCfg = {
				element: 'span',
				styles: {
					margin: 0
				}
			};

			styleCfg = CKEDITOR.tools.merge(styleCfg, this.props.style);

			this._preview = new CKEDITOR.style(styleCfg).buildPreview(this.props.name);
		}

		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonStylesListItem
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			// We need to use dangerouselySetInnterHTML since we're not in control of the style
			// preview that is generated by CKEditor.
			var className = this.props.name === this.props.activeStyle ? 'ae-toolbar-element active' : 'ae-toolbar-element';

			return _react2.default.createElement('button', {
				className: className,
				dangerouslySetInnerHTML: { __html: this._preview },
				onClick: this._onClick,
				tabIndex: this.props.tabIndex
			});
		}

		/**
   * Applies the item style to the editor selection.
   *
   * @instance
   * @memberof ButtonStylesListItem
   * @method _onClick
   * @protected
   */

	}]);

	return ButtonStylesListItem;
}(_react2.default.Component);

ButtonStylesListItem.contextType = _editorContext2.default;
ButtonStylesListItem.key = 'buttonStylesListItem';
exports.default = (0, _buttonActionStyle2.default)((0, _buttonStyle2.default)(ButtonStylesListItem));

/***/ }),

/***/ "./src/components/buttons/button-styles-list.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-styles-list.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _buttonStylesListHeader = __webpack_require__(/*! ./button-styles-list-header.jsx */ "./src/components/buttons/button-styles-list-header.jsx");

var _buttonStylesListHeader2 = _interopRequireDefault(_buttonStylesListHeader);

var _buttonStylesListItemRemove = __webpack_require__(/*! ./button-styles-list-item-remove.jsx */ "./src/components/buttons/button-styles-list-item-remove.jsx");

var _buttonStylesListItemRemove2 = _interopRequireDefault(_buttonStylesListItemRemove);

var _buttonStylesListItem = __webpack_require__(/*! ./button-styles-list-item.jsx */ "./src/components/buttons/button-styles-list-item.jsx");

var _buttonStylesListItem2 = _interopRequireDefault(_buttonStylesListItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonStylesList class provides functionality for showing a list of styles that can be
 * applied to the current selection..
 *
 * @class ButtonStylesList
 * @uses WidgetFocusManager
 */
var ButtonStylesList = function (_React$Component) {
	_inherits(ButtonStylesList, _React$Component);

	function ButtonStylesList() {
		_classCallCheck(this, ButtonStylesList);

		return _possibleConstructorReturn(this, (ButtonStylesList.__proto__ || Object.getPrototypeOf(ButtonStylesList)).apply(this, arguments));
	}

	_createClass(ButtonStylesList, [{
		key: 'componentDidMount',


		/**
   * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
   *
   * Focuses on the list node to allow keyboard interaction.
   *
   * @instance
   * @memberof ButtonStylesList
   * @method componentDidMount
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonStylesList
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function componentDidMount() {
			_reactDom2.default.findDOMNode(this).focus();
		}

		/**
   * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
   *
   * @instance
   * @memberof ButtonStylesList
   * @method componentWillMount
   */


		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @memberof ButtonStylesList
   * @static
   * @property {String} key
   * @default buttonStylesList
   */

	}, {
		key: 'componentWillMount',
		value: function componentWillMount() {
			var blockStyles = [];
			var inlineStyles = [];
			var objectStyles = [];

			this.props.styles.forEach(function (item) {
				var style = new CKEDITOR.style(item.style);

				if (style.type === CKEDITOR.STYLE_BLOCK) {
					blockStyles.push(item);
				} else if (style.type === CKEDITOR.STYLE_INLINE) {
					inlineStyles.push(item);
				} else if (style.type === CKEDITOR.STYLE_OBJECT) {
					objectStyles.push(item);
				}
			});

			this._blockStyles = blockStyles;
			this._inlineStyles = inlineStyles;
			this._objectStyles = objectStyles;
		}

		/**
   * Lifecycle. Renders the UI of the list.
   *
   * @instance
   * @memberof ButtonStylesList
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			var removeStylesItem = void 0;

			if (this.props.showRemoveStylesItem) {
				removeStylesItem = _react2.default.createElement(_buttonStylesListItemRemove2.default, {
					onDismiss: this.props.toggleDropdown
				});
			}

			return _react2.default.createElement(
				_buttonDropdown2.default,
				this.props,
				removeStylesItem,
				_react2.default.createElement(_buttonStylesListHeader2.default, {
					name: AlloyEditor.Strings.blockStyles,
					styles: this._blockStyles
				}),
				this._renderStylesItems(this._blockStyles),
				_react2.default.createElement(_buttonStylesListHeader2.default, {
					name: AlloyEditor.Strings.inlineStyles,
					styles: this._inlineStyles
				}),
				this._renderStylesItems(this._inlineStyles),
				_react2.default.createElement(_buttonStylesListHeader2.default, {
					name: AlloyEditor.Strings.objectStyles,
					styles: this._objectStyles
				}),
				this._renderStylesItems(this._objectStyles)
			);
		}

		/**
   * Renders instances of ButtonStylesListItem with the preview of the correspondent block, inline or object styles.
   *
   * @instance
   * @memberof ButtonStylesList
   * @method _renderStylesItems
   * @param {Array} styles List of styles for which preview should be rendered.
   * @protected
   * @return {Array} Rendered instances of ButtonStylesListItem class
   */

	}, {
		key: '_renderStylesItems',
		value: function _renderStylesItems(styles) {
			var _this2 = this;

			var items = void 0;

			if (styles && styles.length) {
				items = styles.map(function (item) {
					return _react2.default.createElement(
						'li',
						{ key: item.name, role: 'option' },
						_react2.default.createElement(_buttonStylesListItem2.default, {
							activeStyle: _this2.props.activeStyle,
							name: item.name,
							style: item.style,
							styleFn: item.styleFn
						})
					);
				});
			}

			return items;
		}
	}]);

	return ButtonStylesList;
}(_react2.default.Component);

ButtonStylesList.defaultProps = {
	circular: false,
	descendants: '.ae-toolbar-element',
	keys: {
		dismiss: [27],
		dismissNext: [39],
		dismissPrev: [37],
		next: [40],
		prev: [38]
	},
	showRemoveStylesItem: true
};
ButtonStylesList.key = 'buttonStylesList';
exports.default = (0, _widgetFocusManager2.default)(ButtonStylesList);

/***/ }),

/***/ "./src/components/buttons/button-styles.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-styles.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonStyles class provides functionality for styling a selection with a list of
 * configurable and customizable styles. The allowed styles follow CKEDITOR.Style configuration
 * (http://docs.ckeditor.com/#!/api/CKEDITOR.style)
 *
 * @class ButtonStyles
 */
var ButtonStyles = function (_React$Component) {
	_inherits(ButtonStyles, _React$Component);

	function ButtonStyles() {
		_classCallCheck(this, ButtonStyles);

		return _possibleConstructorReturn(this, (ButtonStyles.__proto__ || Object.getPrototypeOf(ButtonStyles)).apply(this, arguments));
	}

	_createClass(ButtonStyles, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonStyles
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var _this2 = this;

			var activeStyle = AlloyEditor.Strings.normal;

			var styles = this._getStyles();

			styles.forEach(function (item) {
				if (_this2._checkActive(item.style)) {
					activeStyle = item.name;
				}
			});

			var buttonStylesList = void 0;

			if (this.props.expanded) {
				buttonStylesList = _react2.default.createElement(_buttonStylesList2.default, {
					activeStyle: activeStyle,
					onDismiss: this.props.toggleDropdown,
					showRemoveStylesItem: this.props.showRemoveStylesItem,
					styles: styles
				});
			}

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container-dropdown ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': this.props.expanded,
						'aria-label': AlloyEditor.Strings.styles + ' ' + activeStyle,
						className: 'ae-toolbar-element',
						onClick: this.props.toggleDropdown,
						role: 'combobox',
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.styles + ' ' + activeStyle },
					_react2.default.createElement(
						'div',
						{ className: 'ae-container' },
						_react2.default.createElement(
							'span',
							{ className: 'ae-container-dropdown-selected-item' },
							activeStyle
						),
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'caret-bottom' })
					)
				),
				buttonStylesList
			);
		}

		/**
   * Checks if the given style definition is applied to the current selection in the editor.
   *
   * @instance
   * @memberof ButtonStyles
   * @method _checkActive
   * @param {Object} styleConfig Style definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.
   * @protected
   * @return {Boolean} Returns true if the style is applied to the selection, false otherwise.
   */


		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default styles
   * @memberof ButtonStyles
   * @property {String} key
   * @static
   */

	}, {
		key: '_checkActive',
		value: function _checkActive(styleConfig) {
			var nativeEditor = this.context.editor.get('nativeEditor');

			// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting
			// to a 'span' element works for most of those cases with no defined element.
			styleConfig = CKEDITOR.tools.merge({ element: 'span' }, styleConfig);

			var style = new CKEDITOR.style(styleConfig);

			return style.checkActive(nativeEditor.elementPath(), nativeEditor);
		}

		/**
   * Returns an array of styles. Each style consists from two properties:
   * - name - the style name, for example "h1"
   * - style - an object with one property, called `element` which value
   * represents the style which have to be applied to the element.
   *
   * @instance
   * @memberof ButtonStyles
   * @method _getStyles
   * @protected
   * @return {Array<object>} An array of objects containing the styles.
   */

	}, {
		key: '_getStyles',
		value: function _getStyles() {
			return this.props.styles || [{
				name: AlloyEditor.Strings.h1,
				style: {
					element: 'h1'
				}
			}, {
				name: AlloyEditor.Strings.h2,
				style: {
					element: 'h2'
				}
			}, {
				name: AlloyEditor.Strings.formatted,
				style: {
					element: 'pre'
				}
			}, {
				name: AlloyEditor.Strings.cite,
				style: {
					element: 'cite'
				}
			}, {
				name: AlloyEditor.Strings.code,
				style: {
					element: 'code'
				}
			}];
		}
	}]);

	return ButtonStyles;
}(_react2.default.Component);

ButtonStyles.contextType = _editorContext2.default;
ButtonStyles.key = 'styles';
exports.default = ButtonStyles;

/***/ }),

/***/ "./src/components/buttons/button-subscript.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-subscript.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonSubscript class provides functionality for applying subscript style to a text selection.
 *
 * @class ButtonSubscript
 *
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonSubscript = function (_React$Component) {
	_inherits(ButtonSubscript, _React$Component);

	function ButtonSubscript() {
		_classCallCheck(this, ButtonSubscript);

		return _possibleConstructorReturn(this, (ButtonSubscript.__proto__ || Object.getPrototypeOf(ButtonSubscript)).apply(this, arguments));
	}

	_createClass(ButtonSubscript, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonSubscript
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonSubscript
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.subscript,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-subscript',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.subscript },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'subscript' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default subscript
   * @memberof ButtonSubscript
   * @property {String} key
   * @static
   */

	}]);

	return ButtonSubscript;
}(_react2.default.Component);

ButtonSubscript.defaultProps = {
	command: 'subscript',
	style: 'coreStyles_subscript'
};
ButtonSubscript.key = 'subscript';
exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonSubscript)));

/***/ }),

/***/ "./src/components/buttons/button-superscript.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-superscript.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonSuperscript class provides functionality for applying superscript style to a text selection.
 *
 * @class ButtonSuperscript
 *
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonSuperscript = function (_React$Component) {
	_inherits(ButtonSuperscript, _React$Component);

	function ButtonSuperscript() {
		_classCallCheck(this, ButtonSuperscript);

		return _possibleConstructorReturn(this, (ButtonSuperscript.__proto__ || Object.getPrototypeOf(ButtonSuperscript)).apply(this, arguments));
	}

	_createClass(ButtonSuperscript, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonSuperscript
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonSuperscript
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.superscript,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-superscript',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.superscript },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'superscript' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default superscript
   * @memberof ButtonSuperscript
   * @property {String} key
   * @static
   */

	}]);

	return ButtonSuperscript;
}(_react2.default.Component);

ButtonSuperscript.defaultProps = {
	command: 'superscript',
	style: 'coreStyles_superscript'
};
ButtonSuperscript.key = 'superscript';
exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonSuperscript)));

/***/ }),

/***/ "./src/components/buttons/button-table-cell.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-table-cell.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonTableCell class provides functionality to work with table cells.
 *
 * @class ButtonTableCell
 */
var ButtonTableCell = function (_React$Component) {
	_inherits(ButtonTableCell, _React$Component);

	function ButtonTableCell() {
		_classCallCheck(this, ButtonTableCell);

		return _possibleConstructorReturn(this, (ButtonTableCell.__proto__ || Object.getPrototypeOf(ButtonTableCell)).apply(this, arguments));
	}

	_createClass(ButtonTableCell, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTableCell
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var buttonCommandsList = void 0;
			var buttonCommandsListId = void 0;

			if (this.props.expanded) {
				buttonCommandsListId = ButtonTableCell.key + 'List';
				buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, {
					commands: this._getCommands(),
					listId: buttonCommandsListId,
					onDismiss: this.props.toggleDropdown
				});
			}

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': this.props.expanded,
						'aria-label': AlloyEditor.Strings.cell,
						'aria-owns': buttonCommandsListId,
						className: 'ae-button',
						onClick: this.props.toggleDropdown,
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.cell },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'add-cell' })
				),
				buttonCommandsList
			);
		}

		/**
   * Returns a list of commands. If a list of commands was passed
   * as property `commands`, it will take a precedence over the default ones.
   *
   * @instance
   * @memberof ButtonTableCell
   * @method _getCommands
   * @protected
   * @return {Array} The list of available commands.
   */

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default tableCell
   * @memberof ButtonTableCell
   * @property {String} key
   * @static
   */

	}, {
		key: '_getCommands',
		value: function _getCommands() {
			return this.props.commands || [{
				command: 'cellInsertBefore',
				label: AlloyEditor.Strings.cellInsertBefore
			}, {
				command: 'cellInsertAfter',
				label: AlloyEditor.Strings.cellInsertAfter
			}, {
				command: 'cellDelete',
				label: AlloyEditor.Strings.cellDelete
			}, {
				command: 'cellMerge',
				label: AlloyEditor.Strings.cellMerge
			}, {
				command: 'cellMergeDown',
				label: AlloyEditor.Strings.cellMergeDown
			}, {
				command: 'cellMergeRight',
				label: AlloyEditor.Strings.cellMergeRight
			}, {
				command: 'cellHorizontalSplit',
				label: AlloyEditor.Strings.cellSplitHorizontal
			}, {
				command: 'cellVerticalSplit',
				label: AlloyEditor.Strings.cellSplitVertical
			}];
		}
	}]);

	return ButtonTableCell;
}(_react2.default.Component);

ButtonTableCell.key = 'tableCell';
exports.default = ButtonTableCell;

/***/ }),

/***/ "./src/components/buttons/button-table-column.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-table-column.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonTableColumn class provides functionality to work with table columns.
 *
 * @class ButtonTableColumn
 */
var ButtonTableColumn = function (_React$Component) {
	_inherits(ButtonTableColumn, _React$Component);

	function ButtonTableColumn() {
		_classCallCheck(this, ButtonTableColumn);

		return _possibleConstructorReturn(this, (ButtonTableColumn.__proto__ || Object.getPrototypeOf(ButtonTableColumn)).apply(this, arguments));
	}

	_createClass(ButtonTableColumn, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTableColumn
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var buttonCommandsList = void 0;
			var buttonCommandsListId = void 0;

			if (this.props.expanded) {
				buttonCommandsListId = ButtonTableColumn.key + 'List';
				buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, {
					commands: this._getCommands(),
					listId: buttonCommandsListId,
					onDismiss: this.props.toggleDropdown
				});
			}

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': this.props.expanded,
						'aria-label': AlloyEditor.Strings.column,
						'aria-owns': buttonCommandsListId,
						className: 'ae-button',
						onClick: this.props.toggleDropdown,
						role: 'listbox',
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.column },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'add-column' })
				),
				buttonCommandsList
			);
		}

		/**
   * Returns a list of commands. If a list of commands was passed
   * as property `commands`, it will take a precedence over the default ones.
   *
   * @instance
   * @memberof ButtonTableColumn
   * @method _getCommands
   * @protected
   * @return {Array} The list of available commands.
   */

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default tableColumn
   * @memberof ButtonTableColumn
   * @property {String} key
   * @static
   */

	}, {
		key: '_getCommands',
		value: function _getCommands() {
			return this.props.commands || [{
				command: 'columnInsertBefore',
				label: AlloyEditor.Strings.columnInsertBefore
			}, {
				command: 'columnInsertAfter',
				label: AlloyEditor.Strings.columnInsertAfter
			}, {
				command: 'columnDelete',
				label: AlloyEditor.Strings.columnDelete
			}];
		}
	}]);

	return ButtonTableColumn;
}(_react2.default.Component);

ButtonTableColumn.key = 'tableColumn';
exports.default = ButtonTableColumn;

/***/ }),

/***/ "./src/components/buttons/button-table-edit.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-table-edit.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

var KEY_ENTER = 13;
var KEY_ESC = 27;

var INPUT_NAMES = {
	COLS: 'cols',
	ROWS: 'rows'
};

var MINIMUM_GRID_VALUE = 1;

/**
 * The ButtonTableEdit class provides functionality for creating and editing a table in a document.
 * Provides UI for creating a table.
 *
 * @class ButtonTableEdit
 */

var ButtonTableEdit = function (_React$Component) {
	_inherits(ButtonTableEdit, _React$Component);

	/**
  * Lifecycle. Invoked once before the component is mounted.
  *
  * @instance
  * @memberof ButtonTableEdit
  * @method getInitialState
  */


	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof ButtonTableEdit
  * @method getDefaultProps
  */
	function ButtonTableEdit(props) {
		_classCallCheck(this, ButtonTableEdit);

		var _this = _possibleConstructorReturn(this, (ButtonTableEdit.__proto__ || Object.getPrototypeOf(ButtonTableEdit)).call(this, props));

		_this._createTable = function () {
			var editor = _this.context.editor.get('nativeEditor');
			var tableUtils = new CKEDITOR.Table(editor);
			var _this$state = _this.state,
			    cols = _this$state.cols,
			    rows = _this$state.rows;


			tableUtils.create({
				attrs: _this.props.tableAttributes,
				cols: Math.max(MINIMUM_GRID_VALUE, cols),
				rows: Math.max(MINIMUM_GRID_VALUE, rows)
			});

			_this.props.cancelExclusive();

			editor.fire('actionPerformed', _this);
		};

		_this._handleChange = function (inputName, event) {
			_this.setState(_defineProperty({}, inputName, event.target.value));
		};

		_this._handleKeyDown = function (event) {
			if (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {
				event.preventDefault();
			}

			if (event.keyCode === KEY_ENTER) {
				_this._createTable();
			} else if (event.keyCode === KEY_ESC) {
				_this.props.cancelExclusive();
			}
		};

		_this.rowsRef = _react2.default.createRef();
		_this.colsRef = _react2.default.createRef();
		_this.state = {
			cols: 3,
			rows: 3
		};
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client (not on the server),
  * immediately after the initial rendering occurs.
  *
  * Focuses on the link input to immediately allow editing.
  *
  * @instance
  * @memberof ButtonTableEdit
  * @method componentDidMount
  */


	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default tableEdit
  * @memberof ButtonTableEdit
  * @property {String} key
  * @static
  */


	_createClass(ButtonTableEdit, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			this.rowsRef.current.focus();
		}

		/**
   * Creates a table.
   *
   * @instance
   * @memberof ButtonTableEdit
   * @method _createTable
   * @protected
   */


		/**
   * Handles a change in input value. Sets the provided value from the user back to the input.
   *
   * @instance
   * @memberof ButtonTableEdit
   * @method _handleChange
   * @param {String} inputName The name of the input which value should be updated.
   * @param {SyntheticEvent} event The provided event.
   * @protected
   */


		/**
   * Monitors key interaction inside the input element to respond to the keys:
   * - Enter: Creates the table.
   * - Escape: Discards the changes.
   *
   * @instance
   * @memberof ButtonTableEdit
   * @method _handleKeyDown
   * @param {SyntheticEvent} event The keyboard event.
   * @protected
   */

	}, {
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTableEdit
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var time = Date.now();
			var rowsId = time + INPUT_NAMES.ROWS;
			var colsId = time + INPUT_NAMES.COLS;

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container-edit-table' },
				_react2.default.createElement(
					'label',
					{ htmlFor: rowsId },
					AlloyEditor.Strings.rows
				),
				_react2.default.createElement(
					'div',
					{ className: 'ae-container-input small' },
					_react2.default.createElement('input', {
						className: 'ae-input',
						id: rowsId,
						min: MINIMUM_GRID_VALUE,
						onChange: this._handleChange.bind(this, INPUT_NAMES.ROWS),
						onKeyDown: this._handleKeyDown,
						placeholder: 'Rows',
						ref: this.rowsRef,
						type: 'number',
						value: this.state.rows
					})
				),
				_react2.default.createElement(
					'label',
					{ htmlFor: colsId },
					AlloyEditor.Strings.columns
				),
				_react2.default.createElement(
					'div',
					{ className: 'ae-container-input small' },
					_react2.default.createElement('input', {
						className: 'ae-input',
						id: colsId,
						min: MINIMUM_GRID_VALUE,
						onChange: this._handleChange.bind(this, INPUT_NAMES.COLS),
						onKeyDown: this._handleKeyDown,
						placeholder: 'Colums',
						ref: this.colsRef,
						type: 'number',
						value: this.state.cols
					})
				),
				_react2.default.createElement(
					'button',
					{
						'aria-label': 'Confirm',
						className: 'ae-button',
						onClick: this._createTable },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'check' })
				)
			);
		}
	}]);

	return ButtonTableEdit;
}(_react2.default.Component);

ButtonTableEdit.contextType = _editorContext2.default;
ButtonTableEdit.defaultProps = {
	tableAttributes: {
		border: 1,
		cellPadding: 0,
		cellSpacing: 0,
		style: 'table-layout: fixed; width: 100%;'
	}
};
ButtonTableEdit.key = 'tableEdit';
exports.default = ButtonTableEdit;

/***/ }),

/***/ "./src/components/buttons/button-table-heading.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-table-heading.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonTableHeading class provides functionality to work with table heading.
 *
 * @class ButtonTableHeading
 */
var ButtonTableHeading = function (_React$Component) {
	_inherits(ButtonTableHeading, _React$Component);

	function ButtonTableHeading() {
		_classCallCheck(this, ButtonTableHeading);

		return _possibleConstructorReturn(this, (ButtonTableHeading.__proto__ || Object.getPrototypeOf(ButtonTableHeading)).apply(this, arguments));
	}

	_createClass(ButtonTableHeading, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTableHeading
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var buttonCommandsList = void 0;
			var buttonCommandsListId = void 0;

			if (this.props.expanded) {
				buttonCommandsListId = ButtonTableHeading.key + 'List';
				buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, {
					commands: this._getCommands(),
					listId: buttonCommandsListId,
					onDismiss: this.props.toggleDropdown
				});
			}

			var activeHeading = new CKEDITOR.Table(this.context.editor.get('nativeEditor')).getHeading();
			var activeHeadingIntro = AlloyEditor.Strings.headers + ':';
			var activeHeadingLabel = AlloyEditor.Strings['headers' + activeHeading];

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container-dropdown-xl ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': this.props.expanded,
						'aria-label': '',
						className: 'ae-toolbar-element',
						onClick: this.props.toggleDropdown,
						role: 'combobox',
						tabIndex: this.props.tabIndex,
						title: '' },
					_react2.default.createElement(
						'div',
						{ className: 'ae-container' },
						_react2.default.createElement(
							'span',
							{ className: 'ae-container-dropdown-selected-item' },
							activeHeadingIntro,
							' ',
							_react2.default.createElement(
								'strong',
								null,
								activeHeadingLabel
							)
						),
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'caret-bottom' })
					)
				),
				buttonCommandsList
			);
		}

		/**
   * Returns a list of commands. If a list of commands was passed
   * as property `commands`, it will take a precedence over the default ones.
   *
   * @instance
   * @memberof ButtonTableHeading
   * @method _getCommands
   * @protected
   * @return {Array} The list of available commands.
   */


		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default tableRow
   * @memberof ButtonTableHeading
   * @property {String} key
   * @static
   */

	}, {
		key: '_getCommands',
		value: function _getCommands() {
			return this.props.commands || [{
				command: 'tableHeadingNone',
				label: AlloyEditor.Strings.headersNone
			}, {
				command: 'tableHeadingRow',
				label: AlloyEditor.Strings.headersRow
			}, {
				command: 'tableHeadingColumn',
				label: AlloyEditor.Strings.headersColumn
			}, {
				command: 'tableHeadingBoth',
				label: AlloyEditor.Strings.headersBoth
			}];
		}
	}]);

	return ButtonTableHeading;
}(_react2.default.Component);

ButtonTableHeading.contextType = _editorContext2.default;
ButtonTableHeading.key = 'tableHeading';
exports.default = ButtonTableHeading;

/***/ }),

/***/ "./src/components/buttons/button-table-remove.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-table-remove.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonTableRemove class provides functionality for removing a table
 *
 * @class ButtonTableRemove
 */
var ButtonTableRemove = function (_React$Component) {
	_inherits(ButtonTableRemove, _React$Component);

	function ButtonTableRemove() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonTableRemove);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonTableRemove.__proto__ || Object.getPrototypeOf(ButtonTableRemove)).call.apply(_ref, [this].concat(args))), _this), _this._removeTable = function () {
			var editor = _this.context.editor.get('nativeEditor');
			var tableUtils = new CKEDITOR.Table(editor);

			tableUtils.remove();

			editor.fire('actionPerformed', _this);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default tableRemove
  * @memberof ButtonTableRemove
  * @property {String} key
  * @static
  */


	_createClass(ButtonTableRemove, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTableRemove
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.deleteTable,
					className: 'ae-button',
					'data-type': 'button-table-remove',
					onClick: this._removeTable,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.deleteTable },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'trash' })
			);
		}

		/**
   * Removes the table in the editor element.
   *
   * @instance
   * @memberof ButtonTableRemove
   * @method _removeTable
   * @protected
   */

	}]);

	return ButtonTableRemove;
}(_react2.default.Component);

ButtonTableRemove.contextType = _editorContext2.default;
ButtonTableRemove.key = 'tableRemove';
exports.default = ButtonTableRemove;

/***/ }),

/***/ "./src/components/buttons/button-table-row.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-table-row.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonTableRow class provides functionality to work with table rows.
 *
 * @class ButtonTableRow
 */
var ButtonTableRow = function (_React$Component) {
	_inherits(ButtonTableRow, _React$Component);

	function ButtonTableRow() {
		_classCallCheck(this, ButtonTableRow);

		return _possibleConstructorReturn(this, (ButtonTableRow.__proto__ || Object.getPrototypeOf(ButtonTableRow)).apply(this, arguments));
	}

	_createClass(ButtonTableRow, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTableRow
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			var buttonCommandsList = void 0;
			var buttonCommandsListId = void 0;

			if (this.props.expanded) {
				buttonCommandsListId = ButtonTableRow.key + 'List';
				buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, {
					commands: this._getCommands(),
					listId: buttonCommandsListId,
					onDismiss: this.props.toggleDropdown
				});
			}

			return _react2.default.createElement(
				'div',
				{ className: 'ae-container ae-has-dropdown' },
				_react2.default.createElement(
					'button',
					{
						'aria-expanded': this.props.expanded,
						'aria-label': AlloyEditor.Strings.row,
						'aria-owns': buttonCommandsListId,
						className: 'ae-button',
						onClick: this.props.toggleDropdown,
						role: 'combobox',
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.row },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'add-row' })
				),
				buttonCommandsList
			);
		}

		/**
   * Returns a list of commands. If a list of commands was passed
   * as property `commands`, it will take a precedence over the default ones.
   *
   * @instance
   * @memberof ButtonTableRow
   * @method _getCommands
   * @protected
   * @return {Array} The list of available commands.
   */

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default tableRow
   * @memberof ButtonTableRow
   * @property {String} key
   * @static
   */

	}, {
		key: '_getCommands',
		value: function _getCommands() {
			return this.props.commands || [{
				command: 'rowInsertBefore',
				label: AlloyEditor.Strings.rowInsertBefore
			}, {
				command: 'rowInsertAfter',
				label: AlloyEditor.Strings.rowInsertAfter
			}, {
				command: 'rowDelete',
				label: AlloyEditor.Strings.rowDelete
			}];
		}
	}]);

	return ButtonTableRow;
}(_react2.default.Component);

ButtonTableRow.key = 'tableRow';
exports.default = ButtonTableRow;

/***/ }),

/***/ "./src/components/buttons/button-table.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-table.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

var _buttonTableEdit = __webpack_require__(/*! ./button-table-edit.jsx */ "./src/components/buttons/button-table-edit.jsx");

var _buttonTableEdit2 = _interopRequireDefault(_buttonTableEdit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonTable class provides functionality for creating and editing a table in a document. ButtonTable
 * renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonTableEdit UI with all the table edition controls.
 *
 * @class ButtonTable
 */
var ButtonTable = function (_React$Component) {
	_inherits(ButtonTable, _React$Component);

	function ButtonTable() {
		_classCallCheck(this, ButtonTable);

		return _possibleConstructorReturn(this, (ButtonTable.__proto__ || Object.getPrototypeOf(ButtonTable)).apply(this, arguments));
	}

	_createClass(ButtonTable, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTable
   * @method render
   * @return {Object} The content which should be rendered.
   */
		value: function render() {
			if (this.props.renderExclusive) {
				return _react2.default.createElement(_buttonTableEdit2.default, this.props);
			} else {
				return _react2.default.createElement(
					'button',
					{
						'aria-label': AlloyEditor.Strings.table,
						className: 'ae-button',
						'data-type': 'button-table',
						onClick: this.props.requestExclusive,
						tabIndex: this.props.tabIndex,
						title: AlloyEditor.Strings.table },
					_react2.default.createElement(_buttonIcon2.default, { symbol: 'table' })
				);
			}
		}
		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default table
   * @memberof ButtonTable
   * @property {String} key
   * @static
   */

	}]);

	return ButtonTable;
}(_react2.default.Component);

ButtonTable.key = 'table';
exports.default = ButtonTable;

/***/ }),

/***/ "./src/components/buttons/button-target-list.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-target-list.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonTargetList class provides functionality for changing the target of a link
 * in the document.
 *
 * @class ButtonTargetList
 * @uses WidgetFocusManager
 */
var ButtonTargetList = function (_React$Component) {
	_inherits(ButtonTargetList, _React$Component);

	function ButtonTargetList() {
		_classCallCheck(this, ButtonTargetList);

		return _possibleConstructorReturn(this, (ButtonTargetList.__proto__ || Object.getPrototypeOf(ButtonTargetList)).apply(this, arguments));
	}

	_createClass(ButtonTargetList, [{
		key: 'componentDidMount',


		/**
   * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
   *
   * @instance
   * @memberof ButtonTargetList
   * @method componentDidMount
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonTargetList
   * @method getDefaultProps
   */
		value: function componentDidMount() {
			_reactDom2.default.findDOMNode(this).focus();
		}

		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTargetList
   * @method render
   * @return {Object} The content which should be rendered.
   */


		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default linkTargetEdit
   * @memberof ButtonTargetList
   * @property {String} key
   * @static
   */

	}, {
		key: 'render',
		value: function render() {
			var listTargets = this._renderListTargets();

			return _react2.default.createElement(
				_buttonDropdown2.default,
				this.props,
				listTargets
			);
		}

		/**
   * Returns the the allowed link target items.
   *
   * @instance
   * @memberof ButtonTargetList
   * @method _getAllowedTargetItems
   * @protected
   * @return {Array} The allowed target items.
   */

	}, {
		key: '_getAllowedTargetItems',
		value: function _getAllowedTargetItems() {
			return this.props.allowedLinkTargets || [{
				label: AlloyEditor.Strings.linkTargetDefault,
				value: ''
			}, {
				label: AlloyEditor.Strings.linkTargetSelf,
				value: '_self'
			}, {
				label: AlloyEditor.Strings.linkTargetBlank,
				value: '_blank'
			}, {
				label: AlloyEditor.Strings.linkTargetParent,
				value: '_parent'
			}, {
				label: AlloyEditor.Strings.linkTargetTop,
				value: '_top'
			}];
		}

		/**
   * Renders the allowed link target items.
   *
   * @instance
   * @memberof ButtonTargetList
   * @method _renderListTargets
   * @protected
   * @return {Object} Returns the rendered link items
   */

	}, {
		key: '_renderListTargets',
		value: function _renderListTargets() {
			var _this2 = this;

			var targets = this._getAllowedTargetItems();

			var handleLinkTargetChange = this.props.handleLinkTargetChange;

			targets = targets.map(function (target) {
				var className = _this2.props.selectedTarget === target.value ? 'ae-toolbar-element active' : 'ae-toolbar-element';

				return _react2.default.createElement(
					'li',
					{ key: target.value, role: 'option' },
					_react2.default.createElement(
						'button',
						{
							className: className,
							'data-value': target.value,
							onClick: handleLinkTargetChange },
						target.label
					)
				);
			});

			return targets;
		}
	}]);

	return ButtonTargetList;
}(_react2.default.Component);

ButtonTargetList.defaultProps = {
	circular: true,
	descendants: '.ae-toolbar-element',
	keys: {
		dismiss: [27],
		dismissNext: [39],
		dismissPrev: [37],
		next: [40],
		prev: [38]
	}
};
ButtonTargetList.key = 'targetList';
exports.default = (0, _widgetFocusManager2.default)(ButtonTargetList);

/***/ }),

/***/ "./src/components/buttons/button-twitter.jsx":
/*!***************************************************!*\
  !*** ./src/components/buttons/button-twitter.jsx ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

var MAX_TWEET_LENGTH = 280;

/**
 * The ButtonTwitter class provides functionality for creating a link which
 * allows people to tweet part of the content in the editor.
 *
 * @class ButtonTwitter
 * @uses ButtonStateClasses
 */

var ButtonTwitter = function (_React$Component) {
	_inherits(ButtonTwitter, _React$Component);

	function ButtonTwitter() {
		var _ref;

		var _temp, _this, _ret;

		_classCallCheck(this, ButtonTwitter);

		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonTwitter.__proto__ || Object.getPrototypeOf(ButtonTwitter)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function () {
			var editor = _this.context.editor.get('nativeEditor');

			var linkUtils = new CKEDITOR.Link(editor);

			if (_this.isActive()) {
				linkUtils.remove(linkUtils.getFromSelection());
			} else {
				linkUtils.create(_this._getHref(), {
					class: 'ae-twitter-link',
					target: '_blank'
				});
			}

			editor.fire('actionPerformed', _this);
		}, _temp), _possibleConstructorReturn(_this, _ret);
	}

	/**
  * The name which will be used as an alias of the button in the configuration.
  *
  * @default twitter
  * @memberof ButtonTwitter
  * @property {String} key
  * @static
  */


	/**
  * Creates or removes the twitter link on the selection.
  *
  * @instance
  * @memberof ButtonTwitter
  * @method handleClick
  */


	_createClass(ButtonTwitter, [{
		key: 'isActive',


		/**
   * Checks if the current selection is contained within a link that points to twitter.com/intent/tweet.
   *
   * @instance
   * @memberof ButtonTwitter
   * @method isActive
   * @return {Boolean} True if the selection is inside a twitter link, false otherwise.
   */
		value: function isActive() {
			var link = new CKEDITOR.Link(this.context.editor.get('nativeEditor')).getFromSelection();

			return link && link.getAttribute('href').indexOf('twitter.com/intent/tweet') !== -1;
		}

		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonTwitter
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.twitter,
					className: cssClass,
					'data-type': 'button-twitter',
					onClick: this.handleClick,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.twitter },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'twitter' })
			);
		}

		/**
   * Generates the appropriate twitter url based on the selected text and the configuration
   * options received via props.
   *
   * @instance
   * @memberof ButtonTwitter
   * @method _getHref
   * @protected
   * @return {String} A valid twitter url with the selected text and given configuration.
   */

	}, {
		key: '_getHref',
		value: function _getHref() {
			var nativeEditor = this.context.editor.get('nativeEditor');
			var selectedText = nativeEditor.getSelection().getSelectedText().substring(0, MAX_TWEET_LENGTH);
			var url = this.props.url;
			var via = this.props.via;
			var twitterHref = 'https://twitter.com/intent/tweet?text=' + selectedText;

			if (url) {
				twitterHref += '&url=' + url;
			}

			if (via) {
				twitterHref += '&via=' + via;
			}

			return twitterHref;
		}
	}]);

	return ButtonTwitter;
}(_react2.default.Component);

ButtonTwitter.contextType = _editorContext2.default;
ButtonTwitter.key = 'twitter';
exports.default = (0, _buttonStateClasses2.default)(ButtonTwitter);

/***/ }),

/***/ "./src/components/buttons/button-ul.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-ul.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonUnorderedlist class provides functionality for creating unordered lists in an editor.
 *
 * @class ButtonUnorderedlist
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonUnorderedlist = function (_React$Component) {
	_inherits(ButtonUnorderedlist, _React$Component);

	function ButtonUnorderedlist() {
		_classCallCheck(this, ButtonUnorderedlist);

		return _possibleConstructorReturn(this, (ButtonUnorderedlist.__proto__ || Object.getPrototypeOf(ButtonUnorderedlist)).apply(this, arguments));
	}

	_createClass(ButtonUnorderedlist, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonUnorderedlist
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonUnorderedlist
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.bulletedlist,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-ul',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.bulletedlist },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'list-ul' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default ul
   * @memberof ButtonUnorderedlist
   * @property {String} key
   * @static
   */

	}]);

	return ButtonUnorderedlist;
}(_react2.default.Component);

ButtonUnorderedlist.defaultProps = {
	command: 'bulletedlist',
	style: {
		element: 'ul'
	}
};
ButtonUnorderedlist.key = 'ul';
exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonUnorderedlist)));

/***/ }),

/***/ "./src/components/buttons/button-underline.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-underline.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _buttonCommand = __webpack_require__(/*! ../base/button-command */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _buttonIcon = __webpack_require__(/*! ./button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ButtonUnderline class provides functionality for underlying a text selection.
 *
 * @class ButtonUnderline
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonUnderline = function (_React$Component) {
	_inherits(ButtonUnderline, _React$Component);

	function ButtonUnderline() {
		_classCallCheck(this, ButtonUnderline);

		return _possibleConstructorReturn(this, (ButtonUnderline.__proto__ || Object.getPrototypeOf(ButtonUnderline)).apply(this, arguments));
	}

	_createClass(ButtonUnderline, [{
		key: 'render',


		/**
   * Lifecycle. Renders the UI of the button.
   *
   * @instance
   * @memberof ButtonUnderline
   * @method render
   * @return {Object} The content which should be rendered.
   */

		/**
   * Lifecycle. Returns the default values of the properties used in the widget.
   *
   * @instance
   * @memberof ButtonUnderline
   * @method getDefaultProps
   * @return {Object} The default properties.
   */
		value: function render() {
			var cssClass = 'ae-button ' + this.getStateClasses();

			return _react2.default.createElement(
				'button',
				{
					'aria-label': AlloyEditor.Strings.underline,
					'aria-pressed': cssClass.indexOf('pressed') !== -1,
					className: cssClass,
					'data-type': 'button-underline',
					onClick: this.execCommand,
					tabIndex: this.props.tabIndex,
					title: AlloyEditor.Strings.underline },
				_react2.default.createElement(_buttonIcon2.default, { symbol: 'underline' })
			);
		}

		/**
   * The name which will be used as an alias of the button in the configuration.
   *
   * @default underline
   * @memberof ButtonUnderline
   * @property {String} key
   * @static
   */

	}]);

	return ButtonUnderline;
}(_react2.default.Component);

ButtonUnderline.defaultProps = {
	command: 'underline',
	keystroke: {
		fn: 'execCommand',
		keys: CKEDITOR.CTRL + 85 /* U*/
		, name: 'underline'
	},
	style: 'coreStyles_underline'
};
ButtonUnderline.key = 'underline';
exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonUnderline))));

/***/ }),

/***/ "./src/components/buttons/index.js":
/*!*****************************************!*\
  !*** ./src/components/buttons/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _ButtonAccessibilityI;

var _buttonAccessibilityImageAlt = __webpack_require__(/*! ./button-accessibility-image-alt.jsx */ "./src/components/buttons/button-accessibility-image-alt.jsx");

var _buttonAccessibilityImageAlt2 = _interopRequireDefault(_buttonAccessibilityImageAlt);

var _buttonBackgroundColor = __webpack_require__(/*! ./button-background-color.jsx */ "./src/components/buttons/button-background-color.jsx");

var _buttonBackgroundColor2 = _interopRequireDefault(_buttonBackgroundColor);

var _buttonBold = __webpack_require__(/*! ./button-bold.jsx */ "./src/components/buttons/button-bold.jsx");

var _buttonBold2 = _interopRequireDefault(_buttonBold);

var _buttonCameraImage = __webpack_require__(/*! ./button-camera-image.jsx */ "./src/components/buttons/button-camera-image.jsx");

var _buttonCameraImage2 = _interopRequireDefault(_buttonCameraImage);

var _buttonCamera = __webpack_require__(/*! ./button-camera.jsx */ "./src/components/buttons/button-camera.jsx");

var _buttonCamera2 = _interopRequireDefault(_buttonCamera);

var _buttonCode = __webpack_require__(/*! ./button-code.jsx */ "./src/components/buttons/button-code.jsx");

var _buttonCode2 = _interopRequireDefault(_buttonCode);

var _buttonColor = __webpack_require__(/*! ./button-color.jsx */ "./src/components/buttons/button-color.jsx");

var _buttonColor2 = _interopRequireDefault(_buttonColor);

var _buttonCommandListItem = __webpack_require__(/*! ./button-command-list-item.jsx */ "./src/components/buttons/button-command-list-item.jsx");

var _buttonCommandListItem2 = _interopRequireDefault(_buttonCommandListItem);

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _buttonEmbedEdit = __webpack_require__(/*! ./button-embed-edit.jsx */ "./src/components/buttons/button-embed-edit.jsx");

var _buttonEmbedEdit2 = _interopRequireDefault(_buttonEmbedEdit);

var _buttonEmbedVideoEdit = __webpack_require__(/*! ./button-embed-video-edit.jsx */ "./src/components/buttons/button-embed-video-edit.jsx");

var _buttonEmbedVideoEdit2 = _interopRequireDefault(_buttonEmbedVideoEdit);

var _buttonEmbedVideo = __webpack_require__(/*! ./button-embed-video.jsx */ "./src/components/buttons/button-embed-video.jsx");

var _buttonEmbedVideo2 = _interopRequireDefault(_buttonEmbedVideo);

var _buttonEmbed = __webpack_require__(/*! ./button-embed.jsx */ "./src/components/buttons/button-embed.jsx");

var _buttonEmbed2 = _interopRequireDefault(_buttonEmbed);

var _buttonH = __webpack_require__(/*! ./button-h1.jsx */ "./src/components/buttons/button-h1.jsx");

var _buttonH2 = _interopRequireDefault(_buttonH);

var _buttonH3 = __webpack_require__(/*! ./button-h2.jsx */ "./src/components/buttons/button-h2.jsx");

var _buttonH4 = _interopRequireDefault(_buttonH3);

var _buttonHline = __webpack_require__(/*! ./button-hline.jsx */ "./src/components/buttons/button-hline.jsx");

var _buttonHline2 = _interopRequireDefault(_buttonHline);

var _buttonImageAlignCenter = __webpack_require__(/*! ./button-image-align-center.jsx */ "./src/components/buttons/button-image-align-center.jsx");

var _buttonImageAlignCenter2 = _interopRequireDefault(_buttonImageAlignCenter);

var _buttonImageAlignLeft = __webpack_require__(/*! ./button-image-align-left.jsx */ "./src/components/buttons/button-image-align-left.jsx");

var _buttonImageAlignLeft2 = _interopRequireDefault(_buttonImageAlignLeft);

var _buttonImageAlignRight = __webpack_require__(/*! ./button-image-align-right.jsx */ "./src/components/buttons/button-image-align-right.jsx");

var _buttonImageAlignRight2 = _interopRequireDefault(_buttonImageAlignRight);

var _buttonImage = __webpack_require__(/*! ./button-image.jsx */ "./src/components/buttons/button-image.jsx");

var _buttonImage2 = _interopRequireDefault(_buttonImage);

var _buttonIndentBlock = __webpack_require__(/*! ./button-indent-block.jsx */ "./src/components/buttons/button-indent-block.jsx");

var _buttonIndentBlock2 = _interopRequireDefault(_buttonIndentBlock);

var _buttonItalic = __webpack_require__(/*! ./button-italic.jsx */ "./src/components/buttons/button-italic.jsx");

var _buttonItalic2 = _interopRequireDefault(_buttonItalic);

var _buttonItemSelectorAudio = __webpack_require__(/*! ./button-item-selector-audio.jsx */ "./src/components/buttons/button-item-selector-audio.jsx");

var _buttonItemSelectorAudio2 = _interopRequireDefault(_buttonItemSelectorAudio);

var _buttonItemSelectorImage = __webpack_require__(/*! ./button-item-selector-image.jsx */ "./src/components/buttons/button-item-selector-image.jsx");

var _buttonItemSelectorImage2 = _interopRequireDefault(_buttonItemSelectorImage);

var _buttonItemSelectorVideo = __webpack_require__(/*! ./button-item-selector-video.jsx */ "./src/components/buttons/button-item-selector-video.jsx");

var _buttonItemSelectorVideo2 = _interopRequireDefault(_buttonItemSelectorVideo);

var _buttonLinkAutocompleteList = __webpack_require__(/*! ./button-link-autocomplete-list.jsx */ "./src/components/buttons/button-link-autocomplete-list.jsx");

var _buttonLinkAutocompleteList2 = _interopRequireDefault(_buttonLinkAutocompleteList);

var _buttonLinkBrowse = __webpack_require__(/*! ./button-link-browse.jsx */ "./src/components/buttons/button-link-browse.jsx");

var _buttonLinkBrowse2 = _interopRequireDefault(_buttonLinkBrowse);

var _buttonLinkEditBrowse = __webpack_require__(/*! ./button-link-edit-browse.jsx */ "./src/components/buttons/button-link-edit-browse.jsx");

var _buttonLinkEditBrowse2 = _interopRequireDefault(_buttonLinkEditBrowse);

var _buttonLinkEdit = __webpack_require__(/*! ./button-link-edit.jsx */ "./src/components/buttons/button-link-edit.jsx");

var _buttonLinkEdit2 = _interopRequireDefault(_buttonLinkEdit);

var _buttonLinkTargetEdit = __webpack_require__(/*! ./button-link-target-edit.jsx */ "./src/components/buttons/button-link-target-edit.jsx");

var _buttonLinkTargetEdit2 = _interopRequireDefault(_buttonLinkTargetEdit);

var _buttonLink = __webpack_require__(/*! ./button-link.jsx */ "./src/components/buttons/button-link.jsx");

var _buttonLink2 = _interopRequireDefault(_buttonLink);

var _buttonOl = __webpack_require__(/*! ./button-ol.jsx */ "./src/components/buttons/button-ol.jsx");

var _buttonOl2 = _interopRequireDefault(_buttonOl);

var _buttonOutdentBlock = __webpack_require__(/*! ./button-outdent-block.jsx */ "./src/components/buttons/button-outdent-block.jsx");

var _buttonOutdentBlock2 = _interopRequireDefault(_buttonOutdentBlock);

var _buttonParagraphAlignLeft = __webpack_require__(/*! ./button-paragraph-align-left.jsx */ "./src/components/buttons/button-paragraph-align-left.jsx");

var _buttonParagraphAlignLeft2 = _interopRequireDefault(_buttonParagraphAlignLeft);

var _buttonParagraphAlignRight = __webpack_require__(/*! ./button-paragraph-align-right.jsx */ "./src/components/buttons/button-paragraph-align-right.jsx");

var _buttonParagraphAlignRight2 = _interopRequireDefault(_buttonParagraphAlignRight);

var _buttonParagraphAlign = __webpack_require__(/*! ./button-paragraph-align.jsx */ "./src/components/buttons/button-paragraph-align.jsx");

var _buttonParagraphAlign2 = _interopRequireDefault(_buttonParagraphAlign);

var _buttonParagraphCenter = __webpack_require__(/*! ./button-paragraph-center.jsx */ "./src/components/buttons/button-paragraph-center.jsx");

var _buttonParagraphCenter2 = _interopRequireDefault(_buttonParagraphCenter);

var _buttonParagraphJustify = __webpack_require__(/*! ./button-paragraph-justify.jsx */ "./src/components/buttons/button-paragraph-justify.jsx");

var _buttonParagraphJustify2 = _interopRequireDefault(_buttonParagraphJustify);

var _buttonQuote = __webpack_require__(/*! ./button-quote.jsx */ "./src/components/buttons/button-quote.jsx");

var _buttonQuote2 = _interopRequireDefault(_buttonQuote);

var _buttonRemoveFormat = __webpack_require__(/*! ./button-remove-format.jsx */ "./src/components/buttons/button-remove-format.jsx");

var _buttonRemoveFormat2 = _interopRequireDefault(_buttonRemoveFormat);

var _buttonRemoveImage = __webpack_require__(/*! ./button-remove-image.jsx */ "./src/components/buttons/button-remove-image.jsx");

var _buttonRemoveImage2 = _interopRequireDefault(_buttonRemoveImage);

var _buttonSeparator = __webpack_require__(/*! ./button-separator.jsx */ "./src/components/buttons/button-separator.jsx");

var _buttonSeparator2 = _interopRequireDefault(_buttonSeparator);

var _buttonSpacing = __webpack_require__(/*! ./button-spacing.jsx */ "./src/components/buttons/button-spacing.jsx");

var _buttonSpacing2 = _interopRequireDefault(_buttonSpacing);

var _buttonStrike = __webpack_require__(/*! ./button-strike.jsx */ "./src/components/buttons/button-strike.jsx");

var _buttonStrike2 = _interopRequireDefault(_buttonStrike);

var _buttonStylesListHeader = __webpack_require__(/*! ./button-styles-list-header.jsx */ "./src/components/buttons/button-styles-list-header.jsx");

var _buttonStylesListHeader2 = _interopRequireDefault(_buttonStylesListHeader);

var _buttonStylesListItemRemove = __webpack_require__(/*! ./button-styles-list-item-remove.jsx */ "./src/components/buttons/button-styles-list-item-remove.jsx");

var _buttonStylesListItemRemove2 = _interopRequireDefault(_buttonStylesListItemRemove);

var _buttonStylesListItem = __webpack_require__(/*! ./button-styles-list-item.jsx */ "./src/components/buttons/button-styles-list-item.jsx");

var _buttonStylesListItem2 = _interopRequireDefault(_buttonStylesListItem);

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

var _buttonStyles = __webpack_require__(/*! ./button-styles.jsx */ "./src/components/buttons/button-styles.jsx");

var _buttonStyles2 = _interopRequireDefault(_buttonStyles);

var _buttonSubscript = __webpack_require__(/*! ./button-subscript.jsx */ "./src/components/buttons/button-subscript.jsx");

var _buttonSubscript2 = _interopRequireDefault(_buttonSubscript);

var _buttonSuperscript = __webpack_require__(/*! ./button-superscript.jsx */ "./src/components/buttons/button-superscript.jsx");

var _buttonSuperscript2 = _interopRequireDefault(_buttonSuperscript);

var _buttonTableCell = __webpack_require__(/*! ./button-table-cell.jsx */ "./src/components/buttons/button-table-cell.jsx");

var _buttonTableCell2 = _interopRequireDefault(_buttonTableCell);

var _buttonTableColumn = __webpack_require__(/*! ./button-table-column.jsx */ "./src/components/buttons/button-table-column.jsx");

var _buttonTableColumn2 = _interopRequireDefault(_buttonTableColumn);

var _buttonTableEdit = __webpack_require__(/*! ./button-table-edit.jsx */ "./src/components/buttons/button-table-edit.jsx");

var _buttonTableEdit2 = _interopRequireDefault(_buttonTableEdit);

var _buttonTableHeading = __webpack_require__(/*! ./button-table-heading.jsx */ "./src/components/buttons/button-table-heading.jsx");

var _buttonTableHeading2 = _interopRequireDefault(_buttonTableHeading);

var _buttonTableRemove = __webpack_require__(/*! ./button-table-remove.jsx */ "./src/components/buttons/button-table-remove.jsx");

var _buttonTableRemove2 = _interopRequireDefault(_buttonTableRemove);

var _buttonTableRow = __webpack_require__(/*! ./button-table-row.jsx */ "./src/components/buttons/button-table-row.jsx");

var _buttonTableRow2 = _interopRequireDefault(_buttonTableRow);

var _buttonTable = __webpack_require__(/*! ./button-table.jsx */ "./src/components/buttons/button-table.jsx");

var _buttonTable2 = _interopRequireDefault(_buttonTable);

var _buttonTargetList = __webpack_require__(/*! ./button-target-list.jsx */ "./src/components/buttons/button-target-list.jsx");

var _buttonTargetList2 = _interopRequireDefault(_buttonTargetList);

var _buttonTwitter = __webpack_require__(/*! ./button-twitter.jsx */ "./src/components/buttons/button-twitter.jsx");

var _buttonTwitter2 = _interopRequireDefault(_buttonTwitter);

var _buttonUl = __webpack_require__(/*! ./button-ul.jsx */ "./src/components/buttons/button-ul.jsx");

var _buttonUl2 = _interopRequireDefault(_buttonUl);

var _buttonUnderline = __webpack_require__(/*! ./button-underline.jsx */ "./src/components/buttons/button-underline.jsx");

var _buttonUnderline2 = _interopRequireDefault(_buttonUnderline);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**
                                                                                                                                                                                                                   * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                   * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                   */

exports.default = (_ButtonAccessibilityI = {}, _defineProperty(_ButtonAccessibilityI, _buttonAccessibilityImageAlt2.default.key, _buttonAccessibilityImageAlt2.default), _defineProperty(_ButtonAccessibilityI, _buttonBackgroundColor2.default.key, _buttonBackgroundColor2.default), _defineProperty(_ButtonAccessibilityI, _buttonBold2.default.key, _buttonBold2.default), _defineProperty(_ButtonAccessibilityI, _buttonCameraImage2.default.key, _buttonCameraImage2.default), _defineProperty(_ButtonAccessibilityI, _buttonCamera2.default.key, _buttonCamera2.default), _defineProperty(_ButtonAccessibilityI, _buttonCode2.default.key, _buttonCode2.default), _defineProperty(_ButtonAccessibilityI, _buttonColor2.default.key, _buttonColor2.default), _defineProperty(_ButtonAccessibilityI, _buttonCommandListItem2.default.key, _buttonCommandListItem2.default), _defineProperty(_ButtonAccessibilityI, _buttonCommandsList2.default.key, _buttonCommandsList2.default), _defineProperty(_ButtonAccessibilityI, _buttonDropdown2.default.key, _buttonDropdown2.default), _defineProperty(_ButtonAccessibilityI, _buttonEmbedEdit2.default.key, _buttonEmbedEdit2.default), _defineProperty(_ButtonAccessibilityI, _buttonEmbed2.default.key, _buttonEmbed2.default), _defineProperty(_ButtonAccessibilityI, _buttonEmbedVideoEdit2.default.key, _buttonEmbedVideoEdit2.default), _defineProperty(_ButtonAccessibilityI, _buttonEmbedVideo2.default.key, _buttonEmbedVideo2.default), _defineProperty(_ButtonAccessibilityI, _buttonH2.default.key, _buttonH2.default), _defineProperty(_ButtonAccessibilityI, _buttonH4.default.key, _buttonH4.default), _defineProperty(_ButtonAccessibilityI, _buttonHline2.default.key, _buttonHline2.default), _defineProperty(_ButtonAccessibilityI, _buttonImageAlignCenter2.default.key, _buttonImageAlignCenter2.default), _defineProperty(_ButtonAccessibilityI, _buttonImageAlignLeft2.default.key, _buttonImageAlignLeft2.default), _defineProperty(_ButtonAccessibilityI, _buttonImageAlignRight2.default.key, _buttonImageAlignRight2.default), _defineProperty(_ButtonAccessibilityI, _buttonImage2.default.key, _buttonImage2.default), _defineProperty(_ButtonAccessibilityI, _buttonIndentBlock2.default.key, _buttonIndentBlock2.default), _defineProperty(_ButtonAccessibilityI, _buttonItalic2.default.key, _buttonItalic2.default), _defineProperty(_ButtonAccessibilityI, _buttonItemSelectorAudio2.default.key, _buttonItemSelectorAudio2.default), _defineProperty(_ButtonAccessibilityI, _buttonItemSelectorImage2.default.key, _buttonItemSelectorImage2.default), _defineProperty(_ButtonAccessibilityI, _buttonItemSelectorVideo2.default.key, _buttonItemSelectorVideo2.default), _defineProperty(_ButtonAccessibilityI, _buttonLinkAutocompleteList2.default.key, _buttonLinkAutocompleteList2.default), _defineProperty(_ButtonAccessibilityI, _buttonLinkBrowse2.default.key, _buttonLinkBrowse2.default), _defineProperty(_ButtonAccessibilityI, _buttonLinkEditBrowse2.default.key, _buttonLinkEditBrowse2.default), _defineProperty(_ButtonAccessibilityI, _buttonLinkEdit2.default.key, _buttonLinkEdit2.default), _defineProperty(_ButtonAccessibilityI, _buttonLinkTargetEdit2.default.key, _buttonLinkTargetEdit2.default), _defineProperty(_ButtonAccessibilityI, _buttonLink2.default.key, _buttonLink2.default), _defineProperty(_ButtonAccessibilityI, _buttonOl2.default.key, _buttonOl2.default), _defineProperty(_ButtonAccessibilityI, _buttonOutdentBlock2.default.key, _buttonOutdentBlock2.default), _defineProperty(_ButtonAccessibilityI, _buttonParagraphAlign2.default.key, _buttonParagraphAlign2.default), _defineProperty(_ButtonAccessibilityI, _buttonParagraphAlignLeft2.default.key, _buttonParagraphAlignLeft2.default), _defineProperty(_ButtonAccessibilityI, _buttonParagraphAlignRight2.default.key, _buttonParagraphAlignRight2.default), _defineProperty(_ButtonAccessibilityI, _buttonParagraphCenter2.default.key, _buttonParagraphCenter2.default), _defineProperty(_ButtonAccessibilityI, _buttonParagraphJustify2.default.key, _buttonParagraphJustify2.default), _defineProperty(_ButtonAccessibilityI, _buttonQuote2.default.key, _buttonQuote2.default), _defineProperty(_ButtonAccessibilityI, _buttonRemoveFormat2.default.key, _buttonRemoveFormat2.default), _defineProperty(_ButtonAccessibilityI, _buttonRemoveImage2.default.key, _buttonRemoveImage2.default), _defineProperty(_ButtonAccessibilityI, _buttonSeparator2.default.key, _buttonSeparator2.default), _defineProperty(_ButtonAccessibilityI, _buttonSpacing2.default.key, _buttonSpacing2.default), _defineProperty(_ButtonAccessibilityI, _buttonStrike2.default.key, _buttonStrike2.default), _defineProperty(_ButtonAccessibilityI, _buttonStylesListHeader2.default.key, _buttonStylesListHeader2.default), _defineProperty(_ButtonAccessibilityI, _buttonStylesListItemRemove2.default.key, _buttonStylesListItemRemove2.default), _defineProperty(_ButtonAccessibilityI, _buttonStylesListItem2.default.key, _buttonStylesListItem2.default), _defineProperty(_ButtonAccessibilityI, _buttonStylesList2.default.key, _buttonStylesList2.default), _defineProperty(_ButtonAccessibilityI, _buttonStyles2.default.key, _buttonStyles2.default), _defineProperty(_ButtonAccessibilityI, _buttonSubscript2.default.key, _buttonSubscript2.default), _defineProperty(_ButtonAccessibilityI, _buttonSuperscript2.default.key, _buttonSuperscript2.default), _defineProperty(_ButtonAccessibilityI, _buttonTableCell2.default.key, _buttonTableCell2.default), _defineProperty(_ButtonAccessibilityI, _buttonTableColumn2.default.key, _buttonTableColumn2.default), _defineProperty(_ButtonAccessibilityI, _buttonTableEdit2.default.key, _buttonTableEdit2.default), _defineProperty(_ButtonAccessibilityI, _buttonTableHeading2.default.key, _buttonTableHeading2.default), _defineProperty(_ButtonAccessibilityI, _buttonTableRemove2.default.key, _buttonTableRemove2.default), _defineProperty(_ButtonAccessibilityI, _buttonTableRow2.default.key, _buttonTableRow2.default), _defineProperty(_ButtonAccessibilityI, _buttonTable2.default.key, _buttonTable2.default), _defineProperty(_ButtonAccessibilityI, _buttonTargetList2.default.key, _buttonTargetList2.default), _defineProperty(_ButtonAccessibilityI, _buttonTwitter2.default.key, _buttonTwitter2.default), _defineProperty(_ButtonAccessibilityI, _buttonUl2.default.key, _buttonUl2.default), _defineProperty(_ButtonAccessibilityI, _buttonUnderline2.default.key, _buttonUnderline2.default), _ButtonAccessibilityI);

/***/ }),

/***/ "./src/components/compat/button-action-style.js":
/*!******************************************************!*\
  !*** ./src/components/compat/button-action-style.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ButtonActionStyle is a mixin that provides applying style
 * implementation for a button based on the `applyStyle` and
 * `removeStyle` API of CKEDITOR.
 *
 * To execute properly, the component has to expose the following
 * methods which can be obtained out of the box using the {{#crossLink
 * "ButtonStyle"}}{{/crossLink}} mixin:
 * - `Function` {{#crossLink "ButtonStyle/isActive"}}{{/crossLink}} to
 *    check the active state
 * - `Function` {{#crossLink "ButtonStyle/getStyle"}}{{/crossLink}} to
 *    return the style that should be applied
 *
 * @class ButtonActionStyle
 */
var ButtonActionStyle = {
	/**
  * Removes or applies the component style to the current selection.
  *
  * @instance
  * @memberof ButtonActionStyle
  * @method applyStyle
  */
	applyStyle: function applyStyle() {
		if (_lang2.default.isFunction(this.isActive) && _lang2.default.isFunction(this.getStyle)) {
			var editor = this.props.editor.get('nativeEditor');

			editor.getSelection().lock();

			if (this.isActive()) {
				editor.removeStyle(this.getStyle());
			} else {
				editor.applyStyle(this.getStyle());
			}

			editor.getSelection().unlock();

			editor.fire('actionPerformed', this);
		}
	}
}; /**
    * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
    * SPDX-License-Identifier: LGPL-3.0-or-later
    */

exports.default = ButtonActionStyle;

/***/ }),

/***/ "./src/components/compat/button-command-active.js":
/*!********************************************************!*\
  !*** ./src/components/compat/button-command-active.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * ButtonCommandActive is a mixin that provides an `isActive` method to
 * determine if a context-aware command is currently in an active state.
 *
 * @class ButtonCommandActive
 */
var ButtonCommandActive = {
	/**
  * Checks if the command is active in the current selection.
  *
  * @instance
  * @memberof ButtonCommandActive
  * @method isActive
  * @return {Boolean} True if the command is active, false otherwise.
  */
	isActive: function isActive() {
		var editor = this.props.editor.get('nativeEditor');

		var command = editor.getCommand(this.props.command);

		return command ? command.state === CKEDITOR.TRISTATE_ON : false;
	}
};

exports.default = ButtonCommandActive;

/***/ }),

/***/ "./src/components/compat/button-command.js":
/*!*************************************************!*\
  !*** ./src/components/compat/button-command.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ButtonCommand is a mixin that executes a command via CKEDITOR's API.
 *
 * @class ButtonCommand
 */
var ButtonCommand = {
	// Allows validating props being passed to the component.
	propTypes: {
		/**
   * The command that should be executed.
   *
   * @instance
   * @memberof ButtonCommand
   * @property {String} command
   */
		command: _propTypes2.default.string.isRequired,

		/**
   * Indicates that the command may cause the editor to have a different.
   *
   * @instance
   * @memberof ButtonCommand
   * @property {boolean} modifiesSelection
   */
		modifiesSelection: _propTypes2.default.bool
	},

	/**
  * Executes a CKEditor command and fires `actionPerformed` event.
  *
  * @instance
  * @memberof ButtonCommand
  * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.
  * @method execCommand
  */
	execCommand: function execCommand(data) {
		var editor = this.props.editor.get('nativeEditor');

		editor.execCommand(this.props.command, data);

		if (this.props.modifiesSelection) {
			editor.selectionChange(true);
		}

		editor.fire('actionPerformed', this);
	}
}; /**
    * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
    * SPDX-License-Identifier: LGPL-3.0-or-later
    */

exports.default = ButtonCommand;

/***/ }),

/***/ "./src/components/compat/button-keystroke.js":
/*!***************************************************!*\
  !*** ./src/components/compat/button-keystroke.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring
 * a function of the instance to be invoked upon the keystroke activation.
 *
 * @class ButtonKeystroke
 */
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var ButtonKeystroke = {
	// Allows validating props being passed to the component.
	propTypes: {
		/**
   * The keystroke definition. An object with the following properties:
   * - fn: The function to be executed
   * - keys: The keystroke definition, as expected by http://docs.ckeditor.com/#!/api/CKEDITOR.editor-method-setKeystroke
   * - name: The name for the CKEditor command that will be created. If empty,
   * a random name will be created on the fly
   *
   * @instance
   * @memberof ButtonKeystroke
   * @property {Object} keystroke
   */
		keystroke: _propTypes2.default.object.isRequired
	},

	/**
  * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
  *
  * @instance
  * @memberof ButtonKeystroke
  * @method componentWillMount
  */
	componentWillMount: function componentWillMount() {
		var nativeEditor = this.props.editor.get('nativeEditor');
		var keystroke = this.props.keystroke;

		var commandName = keystroke.name || (Math.random() * 1e9 >>> 0).toString();

		var command = nativeEditor.getCommand(commandName);

		if (!command) {
			command = new CKEDITOR.command(nativeEditor, {
				exec: function (editor) {
					var keystrokeFn = keystroke.fn;

					if (_lang2.default.isString(keystrokeFn)) {
						this[keystrokeFn].call(this, editor);
					} else if (_lang2.default.isFunction(keystrokeFn)) {
						keystrokeFn.call(this, editor);
					}
				}.bind(this)
			});

			nativeEditor.addCommand(commandName, command);
		}

		this._defaultKeystrokeCommand = nativeEditor.keystrokeHandler.keystrokes[keystroke.keys];

		nativeEditor.setKeystroke(keystroke.keys, commandName);
	},


	/**
  * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
  *
  * @instance
  * @memberof ButtonKeystroke
  * @method componentWillUnmount
  */
	componentWillUnmount: function componentWillUnmount() {
		this.props.editor.get('nativeEditor').setKeystroke(this.props.keystroke.keys, this._defaultKeystrokeCommand);
	}
};

exports.default = ButtonKeystroke;

/***/ }),

/***/ "./src/components/compat/button-props.js":
/*!***********************************************!*\
  !*** ./src/components/compat/button-props.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _buttonLinkEdit = __webpack_require__(/*! ../buttons/button-link-edit.jsx */ "./src/components/buttons/button-link-edit.jsx");

var _buttonLinkEdit2 = _interopRequireDefault(_buttonLinkEdit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ButtonProps is a mixin that provides a style prop and some methods to apply the resulting
 * style and checking if it is present in a given path or selection.
 *
 * @class ButtonProps
 */
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var ButtonProps = {
	// Allows validating props being passed to the component.
	propTypes: {
		/**
   * The editor instance where the component is being used.
   *
   * @instance
   * @memberof ButtonProps
   * @property {Object} editor
   */
		editor: _propTypes2.default.object.isRequired
	},

	/**
  * Merges the properties, passed to the current component with user's configuration
  * via `buttonCfg` property.
  *
  * @instance
  * @memberof ButtonProps
  * @method mergeButtonCfgProps
  * @param {Object} props The properties to be merged with the provided configuration for this
  * button. If not passed, the user configuration will be merged with `this.props`
  * @return {Object} The merged properties
  */
	mergeButtonCfgProps: function mergeButtonCfgProps(props) {
		props = props || this.props;

		var nativeEditor = this.props.editor.get('nativeEditor');
		var buttonCfg = nativeEditor.config.buttonCfg || {};
		var result = CKEDITOR.tools.merge(props, buttonCfg[_buttonLinkEdit2.default.key]);

		return result;
	}
};

exports.default = ButtonProps;

/***/ }),

/***/ "./src/components/compat/button-state-classes.js":
/*!*******************************************************!*\
  !*** ./src/components/compat/button-state-classes.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ButtonStateClasses is a mixin that decorates the domElement of a component
 * with different CSS classes based on the current state of the element.
 *
 * To check for state, the component can expose the following methods:
 * - `Function` **isActive** to check the active state
 * - `Function` **isDisabled** to check the disabled state
 *
 * @class ButtonStateClasses
 */
var ButtonStateClasses = {
	/**
  * Returns the list of state classes associated to the current element's state, according
  * to the results of the isActive and isDisabled methods.
  *
  * @instance
  * @memberof ButtonStateClasses
  * @method getStateClasses
  * @return {String} A string with the state CSS classes.
  */
	getStateClasses: function getStateClasses() {
		var stateClasses = '';

		// Check for active state
		if (_lang2.default.isFunction(this.isActive) && this.isActive()) {
			stateClasses += 'ae-button-pressed';
		}

		// Check for disabled state
		if (_lang2.default.isFunction(this.isDisabled) && this.isDisabled()) {
			stateClasses += ' ae-button-disabled';
		}

		return stateClasses;
	}
}; /**
    * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
    * SPDX-License-Identifier: LGPL-3.0-or-later
    */

exports.default = ButtonStateClasses;

/***/ }),

/***/ "./src/components/compat/button-style.js":
/*!***********************************************!*\
  !*** ./src/components/compat/button-style.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ButtonStyle is a mixin that provides a style prop and some methods to
 * apply the resulting style and checking if it is present in a given
 * path or selection.
 *
 * @class ButtonStyle
 */
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var ButtonStyle = {
	// Allows validating props being passed to the component.
	propTypes: {
		/**
   * The style the button should handle. Allowed values are:
   * - Object as described by
   *   http://docs.ckeditor.com/#!/api/CKEDITOR.style.
   * - String pointing to an object inside the editor instance
   *   configuration. For example, `style = 'coreStyles_bold'` will
   *   try to retrieve the style object from
   *   `editor.config.coreStyles_bold`. Nested properties such as
   *   `style = 'myplugin.myConfig.myStyle'` are also supported
   *   and will try to retrieve the style object from the editor
   *   configuration as well.
   *
   * @instance
   * @memberof ButtonStyle
   * @property {Object|String} style
   */
		style: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.string]),

		/**
   * The style function the button should handle.
   * If specified, style function has higher priority than style property.
   *
   * @instance
   * @memberof ButtonStyle
   * @property {function} styleFn
   */
		styleFn: _propTypes2.default.func
	},

	/**
  * Lifecycle. Invoked once, both on the client and server,
  * immediately before the initial rendering occurs.
  *
  * @instance
  * @memberof ButtonStyle
  * @method componentWillMount
  */
	componentWillMount: function componentWillMount() {
		var style = this.props.style;

		if (_lang2.default.isString(style)) {
			var parts = style.split('.');
			var currentMember = this.props.editor.get('nativeEditor').config;
			var property = parts.shift();

			while (property && _lang2.default.isObject(currentMember) && _lang2.default.isObject(currentMember[property])) {
				currentMember = currentMember[property];
				property = parts.shift();
			}

			if (_lang2.default.isObject(currentMember)) {
				style = currentMember;
			}
		}

		this._style = new CKEDITOR.style(style);
	},


	/**
  * Lifecycle. Invoked immediately before a component is unmounted
  * from the DOM.
  *
  * @instance
  * @memberof ButtonStyle
  * @method componentWillUnmount
  */
	componentWillUnmount: function componentWillUnmount() {
		this._style = null;
	},


	/**
  * Returns instance of CKEDITOR.style which represents the current
  * button style.
  *
  * @instance
  * @memberof ButtonStyle
  * @method getStyle
  * @return {CKEDITOR.style} The current style representation.
  */
	getStyle: function getStyle() {
		return this._style;
	},


	/**
  * Checks if style is active in the current selection.
  *
  * @instance
  * @memberof ButtonStyle
  * @method isActive
  * @return {Boolean} True if style is active, false otherwise.
  */
	isActive: function isActive() {
		var editor = this.props.editor.get('nativeEditor');

		var elementPath = editor.elementPath();

		return this.getStyle().checkActive(elementPath, editor);
	}
};

exports.default = ButtonStyle;

/***/ }),

/***/ "./src/components/compat/index.js":
/*!****************************************!*\
  !*** ./src/components/compat/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _buttonActionStyle = __webpack_require__(/*! ./button-action-style */ "./src/components/compat/button-action-style.js");

Object.defineProperty(exports, 'ButtonActionStyle', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonActionStyle).default;
  }
});

var _buttonCommandActive = __webpack_require__(/*! ./button-command-active */ "./src/components/compat/button-command-active.js");

Object.defineProperty(exports, 'ButtonCommandActive', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonCommandActive).default;
  }
});

var _buttonCommand = __webpack_require__(/*! ./button-command */ "./src/components/compat/button-command.js");

Object.defineProperty(exports, 'ButtonCommand', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonCommand).default;
  }
});

var _buttonKeystroke = __webpack_require__(/*! ./button-keystroke */ "./src/components/compat/button-keystroke.js");

Object.defineProperty(exports, 'ButtonKeystroke', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonKeystroke).default;
  }
});

var _buttonProps = __webpack_require__(/*! ./button-props */ "./src/components/compat/button-props.js");

Object.defineProperty(exports, 'ButtonProps', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonProps).default;
  }
});

var _buttonStateClasses = __webpack_require__(/*! ./button-state-classes */ "./src/components/compat/button-state-classes.js");

Object.defineProperty(exports, 'ButtonStateClasses', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonStateClasses).default;
  }
});

var _buttonStyle = __webpack_require__(/*! ./button-style */ "./src/components/compat/button-style.js");

Object.defineProperty(exports, 'ButtonStyle', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_buttonStyle).default;
  }
});

var _toolbarButtons = __webpack_require__(/*! ./toolbar-buttons */ "./src/components/compat/toolbar-buttons.js");

Object.defineProperty(exports, 'ToolbarButtons', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_toolbarButtons).default;
  }
});

var _widgetArrowBox = __webpack_require__(/*! ./widget-arrow-box */ "./src/components/compat/widget-arrow-box.js");

Object.defineProperty(exports, 'WidgetArrowBox', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetArrowBox).default;
  }
});

var _widgetDropdown = __webpack_require__(/*! ./widget-dropdown */ "./src/components/compat/widget-dropdown.js");

Object.defineProperty(exports, 'WidgetDropdown', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetDropdown).default;
  }
});

var _widgetExclusive = __webpack_require__(/*! ./widget-exclusive */ "./src/components/compat/widget-exclusive.js");

Object.defineProperty(exports, 'WidgetExclusive', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetExclusive).default;
  }
});

var _widgetFocusManager = __webpack_require__(/*! ./widget-focus-manager */ "./src/components/compat/widget-focus-manager.js");

Object.defineProperty(exports, 'WidgetFocusManager', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetFocusManager).default;
  }
});

var _widgetInteractionPoint = __webpack_require__(/*! ./widget-interaction-point */ "./src/components/compat/widget-interaction-point.js");

Object.defineProperty(exports, 'WidgetInteractionPoint', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetInteractionPoint).default;
  }
});

var _widgetPosition = __webpack_require__(/*! ./widget-position */ "./src/components/compat/widget-position.js");

Object.defineProperty(exports, 'WidgetPosition', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_widgetPosition).default;
  }
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ }),

/***/ "./src/components/compat/toolbar-buttons.js":
/*!**************************************************!*\
  !*** ./src/components/compat/toolbar-buttons.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ToolbarButtons is a mixin which provides a list of buttons which have
 * to be displayed on the current toolbar depending on user preferences
 * and given state.
 *
 * @class ToolbarButtons
 */
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var ToolbarButtons = {
	/**
  * Analyses the current selection and returns the buttons or button
  * groups to be rendered.
  *
  * @instance
  * @method getToolbarButtonGroups
  * @param {Array} buttons The buttons could be shown, prior to the state filtering.
  * @param {Object} additionalProps Additional props that should be passed down to the buttons.
  * @return {Array} An Array which contains the buttons or button groups that should be rendered.
  */
	getToolbarButtonGroups: function getToolbarButtonGroups(buttons, additionalProps) {
		var instance = this;

		if (_lang2.default.isFunction(buttons)) {
			buttons = buttons.call(this) || [];
		}

		return buttons.reduce(function (list, button) {
			if (Array.isArray(button)) {
				list.push(instance.getToolbarButtons(button, additionalProps));
				return list;
			} else {
				return instance.getToolbarButtons(buttons, additionalProps);
			}
		}, []);
	},


	/**
  * Analyzes the current selection and the buttons exclusive mode value to figure out which
  * buttons should be present in a given state.
  *
  * @instance
  * @memberof ToolbarButtons
  * @method getToolbarButtons
  * @param {Array} buttons The buttons could be shown, prior to the state filtering.
  * @param {Object} additionalProps Additional props that should be passed down to the buttons.
  * @return {Array} An Array which contains the buttons that should be rendered.
  */
	getToolbarButtons: function getToolbarButtons(buttons, additionalProps) {
		var buttonProps = {};

		var nativeEditor = this.props.editor.get('nativeEditor');
		var buttonCfg = nativeEditor.config.buttonCfg || {};

		if (_lang2.default.isFunction(buttons)) {
			buttons = buttons.call(this) || [];
		}

		var toolbarButtons = this.filterExclusive(buttons.filter(function (button) {
			return button && (AlloyEditor.Buttons[button] || AlloyEditor.Buttons[button.name]);
		}).map(function (button) {
			if (_lang2.default.isString(button)) {
				buttonProps[button] = buttonCfg[button];
				button = AlloyEditor.Buttons[button];
			} else if (_lang2.default.isString(button.name)) {
				buttonProps[AlloyEditor.Buttons[button.name].key] = CKEDITOR.tools.merge(buttonCfg[button], button.cfg);
				button = AlloyEditor.Buttons[button.name];
			}

			return button;
		})).map(function (button, index) {
			var props = this.mergeExclusiveProps({
				editor: this.props.editor,
				key: button.key !== 'separator' ? button.key : button.key + '-' + index,
				tabKey: button.key,
				tabIndex: this.props.trigger && this.props.trigger.props.tabKey === button.key ? 0 : -1,
				trigger: this.props.trigger
			}, button.key);

			props = this.mergeDropdownProps(props, button.key);

			if (additionalProps) {
				props = CKEDITOR.tools.merge(props, additionalProps);
			}

			props = CKEDITOR.tools.merge(props, buttonProps[button.key]);

			return _react2.default.createElement(button, props);
		}, this);

		return toolbarButtons;
	}
};

exports.default = ToolbarButtons;

/***/ }),

/***/ "./src/components/compat/widget-arrow-box.js":
/*!***************************************************!*\
  !*** ./src/components/compat/widget-arrow-box.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Provides functionality for displaying Widget Arrow box on top or on bottom of the widget
 * depending on the point of user interaction with the editor.
 *
 * @class WidgetArrowBox
 */
var WidgetArrowBox = {
	/**
  * Returns the list of arrow box classes associated to the current element's state. It relies
  * on the getInteractionPoint method to calculate the selection direction.
  *
  * @instance
  * @memberof WidgetArrowBox
  * @method getArrowBoxClasses
  * @return {String} A string with the arrow box CSS classes.
  */
	getArrowBoxClasses: function getArrowBoxClasses() {
		var arrowBoxClasses = 'ae-arrow-box';

		if (_lang2.default.isFunction(this.getInteractionPoint) && this.getInteractionPoint()) {
			if (this.getInteractionPoint().direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
				arrowBoxClasses += ' ae-arrow-box-top';
			} else {
				arrowBoxClasses += ' ae-arrow-box-bottom';
			}
		}

		return arrowBoxClasses;
	}
}; /**
    * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
    * SPDX-License-Identifier: LGPL-3.0-or-later
    */

exports.default = WidgetArrowBox;

/***/ }),

/***/ "./src/components/compat/widget-dropdown.js":
/*!**************************************************!*\
  !*** ./src/components/compat/widget-dropdown.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Provides functionality for managing different dropdowns inside a widget.
 *
 * @class WidgetDropdown
 */
var WidgetDropdown = {
	/**
  * Lifecycle. Invoked when a component is receiving new props.
  * This method is not called for the initial render.
  *
  * @instance
  * @memberof WidgetDropdown
  * @method componentWillReceiveProps
  */
	componentWillReceiveProps: function componentWillReceiveProps(_nextProps) {
		this.setState({
			dropdownTrigger: null,
			itemDropdown: null
		});
	},


	/**
  * Lifecycle. Invoked once before the component is mounted.
  *
  * @instance
  * @memberof WidgetDropdown
  * @method getInitialState
  */
	getInitialState: function getInitialState() {
		return {
			dropdownTrigger: null,
			itemDropdown: null
		};
	},


	/**
  * Merges the provided object with two more properties:
  * - expanded - boolean flag which indicates if an widget should be
  *   rendered exclusively.
  * - toggleDropdown - function, which can be used by an widget in
  *   order to obtain exclusive state.
  *
  * @instance
  * @memberof WidgetDropdown
  * @method mergeDropdownProps
  * @param {Object} obj The properties container which should be merged with the properties, related
  *    to dropdown state.
  * @param {Object} itemKey They key of an React Widget which contains the dropdown.
  * @return {Object} The merged object.
  */
	mergeDropdownProps: function mergeDropdownProps(obj, itemKey) {
		return CKEDITOR.tools.merge(obj, {
			expanded: this.state.itemDropdown === itemKey ? true : false,
			tabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,
			toggleDropdown: this.toggleDropdown.bind(this, itemKey)
		});
	},


	/**
  * Sets the active dropdown of the widget or discards the toggled
  * item from the state.
  *
  * @instance
  * @memberof WidgetDropdown
  * @method toggleDropdown
  * @param {Object} itemDropdown The widget which requests to toggle its dropdown.
  * @param {Number} toggleDirection User movement direction when toggled via keyboard.
  */
	toggleDropdown: function toggleDropdown(itemDropdown, toggleDirection) {
		this.setState({
			dropdownTrigger: itemDropdown,
			itemDropdown: itemDropdown !== this.state.itemDropdown ? itemDropdown : null
		}, function () {
			if (!this.state.itemDropdown) {
				if (this.moveFocus) {
					this.moveFocus(toggleDirection);
				} else {
					_reactDom2.default.findDOMNode(this).focus();
				}
			}
		});
	}
}; /**
    * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
    * SPDX-License-Identifier: LGPL-3.0-or-later
    */

exports.default = WidgetDropdown;

/***/ }),

/***/ "./src/components/compat/widget-exclusive.js":
/*!***************************************************!*\
  !*** ./src/components/compat/widget-exclusive.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * Provides functionality for managing exclusive state of an widget.
 * The exclusive state means that a button may request to be the only rendered
 * widget in its parent container. WidgetExclusive will manage this state by
 * filtering and suppressing the other sibling widgets from displaying.
 *
 * @class WidgetExclusive
 */
var WidgetExclusive = {
	/**
  * Cancels the exclusive state of an widget.
  *
  * @instance
  * @memberof WidgetExclusive
  * @method cancelExclusive
  * @param {Object} itemExclusive The widget which exclusive state should be canceled.
  */
	cancelExclusive: function cancelExclusive(itemExclusive) {
		if (this.state.itemExclusive === itemExclusive) {
			this.setState({
				itemExclusive: null
			});
		}
	},


	/**
  * Lifecycle. Invoked when a component is receiving new props.
  * This method is not called for the initial render.
  * Calling this.setState() within this function will not trigger an
  * additional render.
  *
  * @instance
  * @memberof WidgetExclusive
  * @method componentWillReceiveProps
  * @param {Object} nextProps Object containing the current set of properties.
  */
	componentWillReceiveProps: function componentWillReceiveProps(_nextProps) {
		// Receiving properties means that the component is being
		// re-rendered.  Re-rendering is triggered by editorInteraction,
		// so we have to reset the exclusive state and render the UI
		// according to the new selection.
		this.setState({
			itemExclusive: null
		});
	},


	/**
  * Filters the items and returns only those with exclusive state.
  *
  * @instance
  * @memberof WidgetExclusive
  * @method filterExclusive
  * @param {Array} items The widgets to be filtered.
  * @return {Array|Object} The item with executive state.
  */
	filterExclusive: function filterExclusive(items) {
		var _this = this;

		return items.filter(function (item) {
			if (_this.state.itemExclusive) {
				if (_this.state.itemExclusive === item.key) {
					return item;
				}
			} else {
				return item;
			}
		});
	},


	/**
  * Merges the provided object with three more properties:
  * - cancelExclusive - function, which can be used by a widget in
  *   order to cancel executive state.
  * - renderExclusive - boolean flag which indicates if an widget
  *   should be rendered exclusively.
  * - requestExclusive - function, which can be used by a widget in
  *   order to obtain exclusive state.
  *
  * @instance
  * @memberof WidgetExclusive
  * @method mergeExclusiveProps
  * @param {Object} obj The properties container which should be merged with the properties, related
  *    to exclusive state.
  * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.
  * @return {Object} The merged object.
  */
	mergeExclusiveProps: function mergeExclusiveProps(obj, itemKey) {
		return CKEDITOR.tools.merge(obj, {
			cancelExclusive: this.cancelExclusive.bind(this, itemKey),
			renderExclusive: this.state.itemExclusive === itemKey,
			requestExclusive: this.requestExclusive.bind(this, itemKey)
		});
	},


	/**
  * Requests and sets exclusive state of an widget.
  *
  * @instance
  * @memberof WidgetExclusive
  * @method requestExclusive
  * @param {Object} itemExclusive The widget which requests exclusive state.
  */
	requestExclusive: function requestExclusive(itemExclusive) {
		this.setState({
			itemExclusive: itemExclusive
		});
	}
};

exports.default = WidgetExclusive;

/***/ }),

/***/ "./src/components/compat/widget-focus-manager.js":
/*!*******************************************************!*\
  !*** ./src/components/compat/widget-focus-manager.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DIRECTION_NONE = 0; /**
                         * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                         * SPDX-License-Identifier: LGPL-3.0-or-later
                         */

var DIRECTION_NEXT = 1;
var DIRECTION_PREV = -1;

var ACTION_NONE = 0;
var ACTION_MOVE_FOCUS = 1;
var ACTION_DISMISS_FOCUS = 2;

/**
 * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,
 * it exposes the following props and methods:
 *
 * @class WidgetFocusManager
 */
var WidgetFocusManager = {
	// Allows validating props being passed to the component.
	propTypes: {
		/**
   * Callback method to be invoked when the focus manager is to be dismissed. This happens
   * in the following scenarios if a dismiss callback has been specified:
   * - A dismiss key has been pressed
   * - In a non-circular focus manager, when:
   *     - The active descendant is the first one and a prev key has been pressed.
   *     - The active descendant is the last one and a next key has been pressed.
   *
   * @instance
   * @memberof WidgetFocusManager
   * @property {Function} onDismiss
   */
		onDismiss: _propTypes2.default.func,

		/**
   * Indicates if focus should be set to the first/last descendant when the limits are reached.
   *
   * @instance
   * @memberof WidgetFocusManager
   * @property {boolean} circular
   */
		circular: _propTypes2.default.bool.isRequired,

		/**
   * Indicate if should focus the first child of a container
   * @instance
   * @memberof WidgetFocusManager
   * @property {Boolean} focusFirstChild
   */
		focusFirstChild: _propTypes2.default.bool,

		/**
   * String representing the CSS selector used to define the elements that should be handled.
   *
   * @instance
   * @memberof WidgetFocusManager
   * @property {String} descendants
   */
		descendants: _propTypes2.default.string.isRequired,

		/**
   * Object representing the keys used to navigate between descendants. The format for the prop is:
   * `{dismiss: value, dismissNext: value, dismissPrev: value, next: value, prev: value}` where
   * value can be both a number or an array of numbers with the allowed keyCodes.
   *
   * @instance
   * @memberof WidgetFocusManager
   * @property {Object} keys
   */
		keys: _propTypes2.default.object.isRequired
	},

	/**
  * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method componentDidMount
  */
	componentDidMount: function componentDidMount() {
		this._refresh();
	},


	/**
  * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
  * Refreshes the descendants list.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method componentDidUpdate
  */
	componentDidUpdate: function componentDidUpdate() {
		this._refresh();
	},


	/**
  * Focuses the current active descendant.
  *
  * Several Widgets can be nested in a component hierarchy by attaching this focus method to
  * the widget DOM node, transferring the DOM focus control to the inner FocusManager.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method focus
  */
	focus: function focus(event) {
		if (!event || this._isValidTarget(event.target)) {
			if (this._descendants && this._descendants.length) {
				var activeDescendantEl = this._descendants[this._activeDescendant];
				// When user clicks with the mouse, the activeElement is already set and there
				// is no need to focus it. Focusing of the active descendant (usually some button) is required
				// in case of keyboard navigation, because the focused element might be not the first button,
				// but the div element, which contains the button.
				if (document.activeElement !== activeDescendantEl && !this.props.focusFirstChild) {
					if (this._descendants.indexOf(document.activeElement) === -1) {
						activeDescendantEl.focus();
					}
				}

				if (event) {
					event.stopPropagation();
					event.preventDefault();
				}
			}
		}
	},


	/**
  * Handles the key events on a DOM node to execute the appropriate navigation when needed.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @param {Object} event The Keyboard event that was detected on the widget DOM node.
  * @method handleKey
  */
	handleKey: function handleKey(event) {
		if (this._isValidTarget(event.target) && this._descendants) {
			var action = this._getFocusAction(event);

			if (action.type) {
				event.stopPropagation();
				event.preventDefault();

				if (action.type === ACTION_MOVE_FOCUS) {
					this._moveFocus(action.direction);
				}

				if (action.type === ACTION_DISMISS_FOCUS) {
					this.props.onDismiss(action.direction);
				}
			}
		}
	},


	/**
  * Moves the focus among descendants in the especified direction.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method moveFocus
  * @param {number} direction The direction (1 or -1) of the focus movement among descendants.
  */
	moveFocus: function moveFocus(direction) {
		direction = _lang2.default.isNumber(direction) ? direction : 0;

		this._moveFocus(direction);
	},


	/**
  * Returns the action, if any, that a keyboard event in the current focus manager state
  * should produce.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method _getFocusAction
  * @param {object} event The Keyboard event.
  * @protected
  * @return {Object} An action object with type and direction properties.
  */
	_getFocusAction: function _getFocusAction(event) {
		var action = {
			type: ACTION_NONE
		};

		if (this.props.keys) {
			var direction = this._getFocusMoveDirection(event);

			if (direction) {
				action.direction = direction;
				action.type = ACTION_MOVE_FOCUS;
			}

			var dismissAction = this._getFocusDismissAction(event, direction);

			if (dismissAction.dismiss) {
				action.direction = dismissAction.direction;
				action.type = ACTION_DISMISS_FOCUS;
			}
		}

		return action;
	},


	/**
  * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This
  * will happen in any of these scenarios if a dismiss callback has been specified:
  * - A dismiss key has been pressed
  * - In a non-circular focus manager, when:
  *     - The active descendant is the first one and a prev key has been pressed.
  *     - The active descendant is the last one and a next key has been pressed.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method _getFocusDismissAction
  * @param {Number} focusMoveDirection The focus movement direction (if any).
  * @param {Object} event The Keyboard event.
  * @protected
  * @return {Object} A dismiss action with dismiss and direction properties.
  */
	_getFocusDismissAction: function _getFocusDismissAction(event, focusMoveDirection) {
		var dismissAction = {
			direction: focusMoveDirection,
			dismiss: false
		};

		if (this.props.onDismiss) {
			if (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {
				dismissAction.dismiss = true;
			}
			if (this._isValidKey(event.keyCode, this.props.keys.dismissNext)) {
				dismissAction.dismiss = true;
				dismissAction.direction = DIRECTION_NEXT;
			}
			if (this._isValidKey(event.keyCode, this.props.keys.dismissPrev)) {
				dismissAction.dismiss = true;
				dismissAction.direction = DIRECTION_PREV;
			}

			if (!dismissAction.dismiss && !this.props.circular && focusMoveDirection) {
				dismissAction.dismiss = focusMoveDirection === DIRECTION_PREV && this._activeDescendant === 0 || focusMoveDirection === DIRECTION_NEXT && this._activeDescendant === this._descendants.length - 1;
			}
		}

		return dismissAction;
	},


	/**
  * Returns the direction, if any, in which the focus should be moved. In presence of the
  * shift key modifier, the direction of the movement is inverted.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method _getFocusMoveDirection
  * @param {Object} event The Keyboard event.
  * @protected
  * @return {Number} The computed direction of the expected focus movement.
  */
	_getFocusMoveDirection: function _getFocusMoveDirection(event) {
		var direction = DIRECTION_NONE;

		if (this._isValidKey(event.keyCode, this.props.keys.next)) {
			direction = DIRECTION_NEXT;
		}
		if (this._isValidKey(event.keyCode, this.props.keys.prev)) {
			direction = DIRECTION_PREV;
		}

		if (event.shifKey) {
			direction *= -1;
		}

		return direction;
	},


	/**
  * Indicates if a given keyCode is valid for the given set of keys.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method _isValidKey
  * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.
  * @param {Number} keyCode An event keyCode.
  * @protected
  * @return {Boolean} A boolean value indicating if the key is valid.
  */
	_isValidKey: function _isValidKey(keyCode, keys) {
		return _lang2.default.isArray(keys) ? keys.indexOf(keyCode) !== -1 : keyCode === keys;
	},


	/**
  * Indicates if a given element is valid for focus management. User input elements such as
  * input, select or textarea are excluded.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method _isValidKey
  * @param {DOMNode} element A DOM element.
  * @protected
  * @return {Boolean} A boolean value indicating if the element is valid.
  */
	_isValidTarget: function _isValidTarget(element) {
		var tagName = element.tagName.toLowerCase();

		return tagName !== 'input' && tagName !== 'select' && tagName !== 'textarea';
	},


	/**
  * Moves the focus among descendants in the especified direction.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method _moveFocus
  * @param {number} direction The direction (1 or -1) of the focus movement among descendants.
  * @protected
  */
	_moveFocus: function _moveFocus(direction) {
		var numDescendants = this._descendants.length;

		var descendant = this._descendants[this._activeDescendant];

		descendant.setAttribute('tabIndex', -1);

		this._activeDescendant += direction;

		if (this.props.circular) {
			// Calculate proper modulo result since remainder operator doesn't behave in the
			// same way for negative numbers
			this._activeDescendant = (this._activeDescendant % numDescendants + numDescendants) % numDescendants;
		} else {
			this._activeDescendant = Math.max(Math.min(this._activeDescendant, numDescendants - 1), 0);
		}

		descendant = this._descendants[this._activeDescendant];

		descendant.setAttribute('tabIndex', 0);
		descendant.focus();
	},


	/**
  * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.
  *
  * @instance
  * @memberof WidgetFocusManager
  * @method _refresh
  * @protected
  */
	_refresh: function _refresh() {
		var _this = this;

		var domNode = _reactDom2.default.findDOMNode(this);

		if (domNode) {
			var descendants = domNode.querySelectorAll(this.props.descendants);

			var priorityDescendants = [];

			this._descendants = [];

			Array.prototype.slice.call(descendants).forEach(function (item) {
				var dataTabIndex = item.getAttribute('data-tabindex');

				if (dataTabIndex) {
					priorityDescendants.push(item);
				} else {
					_this._descendants.push(item);
				}
			});

			priorityDescendants = priorityDescendants.sort(function (a, b) {
				return _lang2.default.toInt(a.getAttribute('data-tabindex')) > _lang2.default.toInt(b.getAttribute('data-tabindex'));
			});

			this._descendants = priorityDescendants.concat(this._descendants);

			this._activeDescendant = 0;

			this._descendants.some(function (item, index) {
				if (item.getAttribute('tabindex') === '0') {
					_this._activeDescendant = index;
					_this.focus();

					return true;
				}
			});
		}
	}
};

exports.default = WidgetFocusManager;

/***/ }),

/***/ "./src/components/compat/widget-interaction-point.js":
/*!***********************************************************!*\
  !*** ./src/components/compat/widget-interaction-point.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Provides functionality for calculating the point of interaction of the user with the Editor.
 *
 * @class WidgetInteractionPoint
 */
var WidgetInteractionPoint = {
	// Allows validating props being passed to the component.
	propTypes: {
		/**
   * The provided editor event.
   *
   * @instance
   * @memberof WidgetInteractionPoint
   * @property {SyntheticEvent} editorEvent
   */
		editorEvent: _propTypes2.default.object
	},

	/**
  * Returns the position, in page coordinates, according to which a widget should appear.
  * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.
  *
  * It depends on the props editorEvent to analyze the following user-interaction parameters:
  * - {Object} selectionData The data about the selection in the editor as returned from
  * {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
  * - {Number} pos Contains the coordinates of the position, considered as most appropriate.
  * This may be the point where the user released the mouse, or just the beginning or the end of
  * the selection.
  *
  * @instance
  * @memberof WidgetInteractionPoint
  * @method getInteractionPoint
  * @return {Object} An Object which contains the following properties:
  * direction, x, y, where x and y are in page coordinates and direction can be one of these:
  * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM
  */
	getInteractionPoint: function getInteractionPoint() {
		var eventPayload = this.props.editorEvent ? this.props.editorEvent.data : null;

		if (!eventPayload) {
			return;
		}

		var selectionData = eventPayload.selectionData;

		var nativeEvent = eventPayload.nativeEvent;

		var pos = {
			x: eventPayload.nativeEvent.pageX,
			y: selectionData.region.top
		};

		var direction = selectionData.region.direction;

		var endRect = selectionData.region.endRect;

		var startRect = selectionData.region.startRect;

		if (endRect && startRect && startRect.top === endRect.top) {
			direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;
		}

		var x = void 0;
		var y = void 0;

		// If we have the point where user released the mouse, show Toolbar at this point
		// otherwise show it on the middle of the selection.

		if (pos.x && pos.y) {
			x = this._getXPoint(selectionData, pos.x);

			if (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {
				y = Math.min(pos.y, selectionData.region.top);
			} else {
				y = Math.max(pos.y, this._getYPoint(selectionData, nativeEvent));
			}
		} else {
			x = selectionData.region.left + selectionData.region.width / 2;

			if (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
				y = this._getYPoint(selectionData, nativeEvent);
			} else {
				y = selectionData.region.top;
			}
		}

		return {
			direction: direction,
			x: x,
			y: y
		};
	},


	/**
  * Returns the position of the Widget.
  *
  * @instance
  * @memberof WidgetInteractionPoint
  * @method _getXPoint
  * @param {Object} eventX The X coordinate received from the native event (mouseup).
  * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
  * @protected
  * @return {Number} The calculated X point in page coordinates.
  */
	_getXPoint: function _getXPoint(selectionData, eventX) {
		var region = selectionData.region;

		var left = region.startRect ? region.startRect.left : region.left;
		var right = region.endRect ? region.endRect.right : region.right;

		var x = void 0;

		if (left < eventX && right > eventX) {
			x = eventX;
		} else {
			var leftDist = Math.abs(left - eventX);
			var rightDist = Math.abs(right - eventX);

			if (leftDist < rightDist) {
				// user raised the mouse on left on the selection
				x = left;
			} else {
				x = right;
			}
		}

		return x;
	},


	/**
  * Returns the position of the Widget.
  *
  * @instance
  * @memberof WidgetInteractionPoint
  * @method _getYPoint
  * @param {Object} nativeEvent The data about event is fired
  * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
  * @protected
  * @return {Number} The calculated Y point in page coordinates.
  */
	_getYPoint: function _getYPoint(selectionData, nativeEvent) {
		var y = 0;

		if (selectionData && nativeEvent) {
			var elementTarget = new CKEDITOR.dom.element(nativeEvent.target);

			if (elementTarget.$ && elementTarget.getStyle('overflow') === 'auto') {
				y = nativeEvent.target.offsetTop + nativeEvent.target.offsetHeight;
			} else {
				y = selectionData.region.bottom;
			}
		}

		return y;
	}
}; /**
    * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
    * SPDX-License-Identifier: LGPL-3.0-or-later
    */

exports.default = WidgetInteractionPoint;

/***/ }),

/***/ "./src/components/compat/widget-position.js":
/*!**************************************************!*\
  !*** ./src/components/compat/widget-position.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetInteractionPoint = __webpack_require__(/*! ./widget-interaction-point */ "./src/components/compat/widget-interaction-point.js");

var _widgetInteractionPoint2 = _interopRequireDefault(_widgetInteractionPoint);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Calculates the position where an Widget should be displayed based on
 * the point where user interacted with the editor.
 *
 * @class WidgetPosition
 * @uses WidgetInteractionPoint
 */
var WidgetPosition = {
	mixins: [_widgetInteractionPoint2.default],

	// Allows validating props being passed to the component.
	propTypes: {
		/**
   * Should the widget to be restricted to the viewport, or not.
   *
   * @instance
   * @memberof WidgetPosition
   * @property {Boolean} constrainToViewport
   * @default true
   */
		constrainToViewport: _propTypes2.default.bool,

		/**
   * The gutter (vertical and horizontal) between the interaction
   * point and where the widget should be rendered.
   *
   * @instance
   * @memberof WidgetPosition
   * @property {Object} gutter
   * @default {
   *     left: 0,
   *     top: 10
   * }
   */
		gutter: _propTypes2.default.object
	},

	/**
  * Lifecycle. Returns the default values of the properties used in
  * the widget.
  *
  * @instance
  * @memberof WidgetPosition
  * @method getDefaultProps
  */
	getDefaultProps: function getDefaultProps() {
		return {
			gutter: {
				left: 0,
				top: 10
			},
			constrainToViewport: true
		};
	},


	/**
  * Cancels an scheduled animation frame.
  *
  * @instance
  * @memberof WidgetPosition
  * @method cancelAnimation
  */
	cancelAnimation: function cancelAnimation() {
		if (window.cancelAnimationFrame) {
			window.cancelAnimationFrame(this._animationFrameId);
		}
	},


	/**
  * Returns an object which contains the position of the element in
  * page coordinates, restricted to fit to given viewport.
  *
  * @instance
  * @memberof WidgetPosition
  * @method getConstrainedPosition
  * @param {Object} attrs The following properties, provided as numbers:
  * - height
  * - left
  * - top
  * - width
  * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:
  * - width
  * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the
  * element.
  */
	getConstrainedPosition: function getConstrainedPosition(attrs, viewPaneSize) {
		viewPaneSize = viewPaneSize || new CKEDITOR.dom.window(window).getViewPaneSize();

		var x = attrs.left;
		var y = attrs.top;

		if (attrs.left + attrs.width > viewPaneSize.width) {
			x -= attrs.left + attrs.width - viewPaneSize.width;
		}

		if (y < 0) {
			y = 0;
		}

		return {
			x: x,
			y: y
		};
	},


	/**
  * Returns the position of the Widget taking in consideration the
  * {{#crossLink "WidgetPosition/gutter:attribute"}}{{/crossLink}} attribute.
  *
  * @instance
  * @memberof WidgetPosition
  * @protected
  * @method  getWidgetXYPoint
  * @param {Number} left The left offset in page coordinates where Toolbar should be shown.
  * @param {Number} top The top offset in page coordinates where Toolbar should be shown.
  * @param {Number} direction The direction of the selection. May be one of the following:
  * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM
  * @return {Array} An Array with left and top offsets in page coordinates.
  */
	getWidgetXYPoint: function getWidgetXYPoint(left, top, direction) {
		var domNode = _reactDom2.default.findDOMNode(this);

		var gutter = this.props.gutter;
		var offsetWidth = domNode.offsetWidth;
		var halfWidth = offsetWidth / 2;

		if (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM || direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {
			left = left - gutter.left - halfWidth;

			top = direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM ? top + gutter.top : top - domNode.offsetHeight - gutter.top;
		} else if (direction === CKEDITOR.SELECTION_LEFT_TO_RIGHT || direction === CKEDITOR.SELECTION_RIGHT_TO_LEFT) {
			left = direction === CKEDITOR.SELECTION_LEFT_TO_RIGHT ? left + gutter.left + domNode.offsetHeight / 2 : left - 3 * domNode.offsetHeight / 2 - gutter.left;

			top = top - gutter.top - domNode.offsetHeight / 2;
		}

		if (left < 0) {
			left = 0;
		}

		if (left > document.body.offsetWidth - halfWidth) {
			left = document.body.offsetWidth - halfWidth;
		}

		if (top < 0) {
			top = 0;
		}

		return [left, top];
	},


	/**
  * Returns true if the widget is visible, false otherwise
  *
  * @instance
  * @memberof WidgetPosition
  * @method isVisible
  * @return {Boolean} True if the widget is visible, false otherwise
  */
	isVisible: function isVisible() {
		var domNode = _reactDom2.default.findDOMNode(this);

		if (domNode) {
			var domElement = new CKEDITOR.dom.element(domNode);

			return domElement.hasClass('alloy-editor-visible');
		}

		return false;
	},


	/**
  * Moves a widget from a starting point to a destination point.
  *
  * @instance
  * @memberof WidgetPosition
  * @method moveToPoint
  * @param  {Object} startPoint The starting point for the movement.
  * @param  {Object} endPoint The destination point for the movement.
  */
	moveToPoint: function moveToPoint(startPoint, endPoint) {
		var domElement = new CKEDITOR.dom.element(_reactDom2.default.findDOMNode(this));

		domElement.setStyles({
			left: startPoint[0] + 'px',
			top: startPoint[1] + 'px',
			opacity: 0,
			pointerEvents: 'none'
		});

		domElement.removeClass('alloy-editor-invisible');

		this._animate(function () {
			domElement.addClass('ae-toolbar-transition');
			domElement.addClass('alloy-editor-visible');
			domElement.setStyles({
				left: endPoint[0] + 'px',
				top: endPoint[1] + 'px',
				opacity: 1
			});

			// 150ms to match transition-duration for .ae-toolbar-transition:
			setTimeout(function () {
				domElement.setStyles({
					pointerEvents: ''
				});
			}, 150);
		});
	},


	/**
  * Shows the widget with the default animation transition.
  *
  * @instance
  * @memberof WidgetPosition
  * @method show
  */
	show: function show() {
		var domNode = _reactDom2.default.findDOMNode(this);
		var uiNode = this.props.editor.get('uiNode');

		var scrollTop = uiNode ? uiNode.scrollTop : 0;

		if (!this.isVisible() && domNode) {
			var interactionPoint = this.getInteractionPoint();

			if (interactionPoint) {
				var domElement = new CKEDITOR.dom.element(domNode);

				var finalX = void 0,
				    finalY = void 0,
				    initialX = void 0,
				    initialY = void 0;

				finalX = initialX = parseFloat(domElement.getStyle('left'));
				finalY = initialY = parseFloat(domElement.getStyle('top'));

				if (this.props.constrainToViewport) {
					var res = this.getConstrainedPosition({
						height: parseFloat(domNode.offsetHeight),
						left: finalX,
						top: finalY,
						width: parseFloat(domNode.offsetWidth)
					});

					finalX = res.x;
					finalY = res.y;
				}

				if (interactionPoint.direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
					initialY = this.props.selectionData.region.bottom + scrollTop;
				} else {
					initialY = this.props.selectionData.region.top + scrollTop;
				}

				this.moveToPoint([initialX, initialY], [finalX, finalY]);
			}
		}
	},


	/**
  * Updates the widget position based on the current interaction point.
  *
  * @instance
  * @memberof WidgetPosition
  * @method updatePosition
  */
	updatePosition: function updatePosition() {
		var interactionPoint = this.getInteractionPoint();

		var domNode = _reactDom2.default.findDOMNode(this);

		if (interactionPoint && domNode) {
			var uiNode = this.props.editor.get('uiNode') || document.body;
			var uiNodeStyle = getComputedStyle(uiNode);
			var uiNodeMarginLeft = parseInt(uiNodeStyle.getPropertyValue('margin-left'), 10);
			var uiNodeMarginRight = parseInt(uiNodeStyle.getPropertyValue('margin-right'), 10);
			var totalWidth = uiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;

			var scrollTop = uiNode.tagName !== 'BODY' ? uiNode.scrollTop : 0;

			var xy = this.getWidgetXYPoint(interactionPoint.x, interactionPoint.y, interactionPoint.direction);
			xy[1] += scrollTop;

			if (xy[0] < 0) {
				xy[0] = 0;
			}
			if (xy[0] > totalWidth - domNode.offsetWidth) {
				xy[0] = totalWidth - domNode.offsetWidth;
			}

			new CKEDITOR.dom.element(domNode).setStyles({
				left: xy[0] + 'px',
				top: xy[1] + 'px'
			});
		}
	},


	/**
  * Requests an animation frame, if possible, to simulate an animation.
  *
  * @instance
  * @memberof WidgetPosition
  * @method _animate
  * @param {Function} callback The function to be executed on the scheduled frame.
  * @protected
  */
	_animate: function _animate(callback) {
		if (window.requestAnimationFrame) {
			this._animationFrameId = window.requestAnimationFrame(callback);
		} else {
			callback();
		}
	}
}; /**
    * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
    * SPDX-License-Identifier: LGPL-3.0-or-later
    */

exports.default = WidgetPosition;

/***/ }),

/***/ "./src/components/main.jsx":
/*!*********************************!*\
  !*** ./src/components/main.jsx ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _editorContext = __webpack_require__(/*! ../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _widgetExclusive = __webpack_require__(/*! ./base/widget-exclusive */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ./base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The main editor UI class manages a hierarchy of widgets (toolbars and buttons).
 *
 * @class UI
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 */
var UI = function (_React$Component) {
	_inherits(UI, _React$Component);

	/**
  * Lifecycle. Returns the default values of the properties used in the widget.
  *
  * @instance
  * @memberof UI
  * @method getDefaultProps
  * @return {Object} The default properties.
  */
	function UI(props) {
		_classCallCheck(this, UI);

		var _this = _possibleConstructorReturn(this, (UI.__proto__ || Object.getPrototypeOf(UI)).call(this, props));

		_this._onDismissToolbarFocus = function () {
			var editor = _this.context.editor.get('nativeEditor');

			editor.focus();
		};

		_this.state = {
			hidden: false
		};
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
  *
  * @instance
  * @memberof UI
  * @method componentDidMount
  */


	_createClass(UI, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			var _this2 = this;

			var editor = this.context.editor.get('nativeEditor');

			editor.on('editorInteraction', this._onEditorInteraction, this);
			editor.on('actionPerformed', this._onActionPerformed, this);
			editor.on('key', this._onEditorKey, this);

			// Set up events for hiding the UI when user stops interacting with the editor.
			// This may happen when he just clicks outside of the editor. However,
			// this does not include a situation when he clicks on some button, part of
			// editor's UI.

			// It is not easy to debounce _setUIHidden on mousedown, because if we
			// debounce it, when the handler is being invoked, the target might be no more part
			// of the editor's UI - onActionPerformed causes re-render.
			this._mousedownListener = function (event) {
				_this2._setUIHidden(event.target);
			};

			this._keyDownListener = CKEDITOR.tools.debounce(function (_event) {
				_this2._setUIHidden(document.activeElement);
			}, this.props.eventsDelay, this);

			document.addEventListener('mousedown', this._mousedownListener);
			document.addEventListener('keydown', this._keyDownListener);
		}

		/**
   * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
   * Fires `ariaUpdate` event passing ARIA related messages.
   * Fires `editorUpdate` event passing the previous and current properties and state.
   *
   * @instance
   * @memberof UI
   * @method componentDidUpdate
   */

	}, {
		key: 'componentDidUpdate',
		value: function componentDidUpdate(prevProps, prevState) {
			var domNode = _reactDom2.default.findDOMNode(this);

			var editor = this.context.editor.get('nativeEditor');

			if (domNode) {
				editor.fire('ariaUpdate', {
					message: this._getAvailableToolbarsMessage(domNode)
				});
			}

			editor.fire('editorUpdate', {
				prevProps: prevProps,
				prevState: prevState,
				props: this.props,
				state: this.state
			});
		}
	}, {
		key: '_getAriaUpdateTemplate',
		value: function _getAriaUpdateTemplate(ariaUpdate) {
			if (!this._ariaUpdateTemplates) {
				this._ariaUpdateTemplates = {};
			}

			if (!this._ariaUpdateTemplates[ariaUpdate]) {
				this._ariaUpdateTemplates[ariaUpdate] = new CKEDITOR.template(this._getAriaUpdates()[ariaUpdate]);
			}

			return this._ariaUpdateTemplates[ariaUpdate];
		}

		/**
   * Returns the templates for ARIA messages.
   *
   * @instance
   * @memberof UI
   * @protected
   * @method _getAriaUpdates
   * @return {Object} ARIA relates messages. Default:
   * {
   *      noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,
   *      oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,
   *      manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars
   *  }
   */

	}, {
		key: '_getAriaUpdates',
		value: function _getAriaUpdates() {
			return this.props.ariaUpdates || {
				noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,
				oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,
				manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars
			};
		}

		/**
   * Returns an ARIA message which represents the number of currently available toolbars.
   *
   * @instance
   * @memberof UI
   * @method _getAvailableToolbarsMessage
   * @protected
   * @param {CKEDITOR.dom.element} domNode The DOM node from which the available toolbars will be retrieved.
   * @return {String} The ARIA message for the number of available toolbars
   */

	}, {
		key: '_getAvailableToolbarsMessage',
		value: function _getAvailableToolbarsMessage(domNode) {
			var toolbarsNodeList = domNode.querySelectorAll('[role="toolbar"]');

			if (!toolbarsNodeList.length) {
				return this._getAriaUpdates().noToolbar;
			} else {
				var toolbarNames = Array.prototype.slice.call(toolbarsNodeList).map(function (toolbar) {
					return toolbar.getAttribute('aria-label');
				});

				var ariaUpdate = toolbarNames.length === 1 ? 'oneToolbar' : 'manyToolbars';

				return this._getAriaUpdateTemplate(ariaUpdate).output({
					toolbars: toolbarNames.join(',').replace(/,([^,]*)$/, ' and ' + '$1')
				});
			}
		}

		/**
   * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
   *
   * @instance
   * @memberof UI
   * @method componentWillUnmount
   */

	}, {
		key: 'componentWillUnmount',
		value: function componentWillUnmount() {
			if (this._mousedownListener) {
				document.removeEventListener('mousedown', this._mousedownListener);
			}

			if (this._keyDownListener) {
				this._keyDownListener.detach();
				document.removeEventListener('keydown', this._keyDownListener);
			}
		}

		/**
   * Lifecycle. Renders the UI of the editor. This may include several toolbars and buttons.
   * The editor's UI also takes care of rendering the items in exclusive mode.
   *
   * @instance
   * @memberof UI
   * @method render
   * @return {Object} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			var _this3 = this;

			if (this.state.hidden) {
				return null;
			}

			var toolbars = Object.keys(this.props.toolbars).map(function (toolbar) {
				return AlloyEditor.Toolbars[toolbar] || window[toolbar];
			});

			toolbars = this.filterExclusive(toolbars).map(function (toolbar) {
				var props = _this3.mergeExclusiveProps({
					config: _this3.props.toolbars[toolbar.key],
					editor: _this3.context.editor,
					editorEvent: _this3.state.editorEvent,
					key: toolbar.key,
					onDismiss: _this3._onDismissToolbarFocus,
					selectionData: _this3.state.selectionData
				}, toolbar.key);

				return _react2.default.createElement(toolbar, props);
			});

			return _react2.default.createElement(
				'div',
				{ className: 'ae-toolbars', onKeyDown: this.handleKey },
				toolbars
			);
		}

		/**
   * Listener to the editor's `actionPerformed` event. Sets state and redraws the UI of the editor.
   *
   * @instance
   * @memberof UI
   * @protected
   * @method _onActionPerformed
   * @param {SynteticEvent} event The provided event
   */

	}, {
		key: '_onActionPerformed',
		value: function _onActionPerformed(_event) {
			var editor = this.context.editor.get('nativeEditor');

			editor.focus();

			this.setState({
				itemExclusive: null,
				selectionData: editor.getSelectionData()
			});
		}

		/**
   * Executed when a dismiss key is pressed over a toolbar to return the focus to the editor.
   *
   * @instance
   * @memberof UI
   * @protected
   * @method _onDismissToolbarFocus
   */

	}, {
		key: '_onEditorInteraction',


		/**
   * Listener to the editor's `userInteraction` event. Retrieves the data about the user selection and
   * provides it via component's state property.
   *
   * @instance
   * @memberof UI
   * @protected
   * @method _onEditorInteraction
   * @param {SynteticEvent} event The provided event
   */
		value: function _onEditorInteraction(event) {
			this.setState({
				editorEvent: event,
				hidden: false,
				itemExclusive: null,
				selectionData: event.data.selectionData
			});
		}

		/**
   * Focuses on the active toolbar when the combination ALT+F10 is pressed inside the editor.
   *
   * @instance
   * @memberof UI
   * @protected
   * @method _onEditorKey
   */

	}, {
		key: '_onEditorKey',
		value: function _onEditorKey(event) {
			var nativeEvent = event.data.domEvent.$;

			if (nativeEvent.altKey && nativeEvent.keyCode === 121) {
				this.focus();
			}
		}

		/**
   * Checks if the target with which the user interacted is part of editor's UI or it is
   * the editable area. If none of these, sets the state of editor's UI to be hidden.
   *
   * @instance
   * @memberof UI
   * @protected
   * @method _setUIHidden
   * @param {DOMElement} target The DOM element with which user interacted lastly.
   */

	}, {
		key: '_setUIHidden',
		value: function _setUIHidden(target) {
			var domNode = _reactDom2.default.findDOMNode(this);

			if (domNode) {
				var editable = this.context.editor.get('nativeEditor').editable();
				var parentNode = target.parentNode;
				var targetNode = new CKEDITOR.dom.node(target);

				if (!editable) {
					this.setState({
						hidden: true
					});
				} else {
					var res = editable.$ === target || editable.contains(targetNode) || new CKEDITOR.dom.element(domNode).contains(targetNode);

					if (parentNode) {
						res = res || parentNode.id === 'ckimgrsz';
					}

					if (!res) {
						this.setState({
							hidden: true
						});
					}
				}
			}
		}
	}]);

	return UI;
}(_react2.default.Component);

/**
 * Fired when component updates and when it is rendered in the DOM.
 * The payload consists from a `message` property containing the ARIA message.
 *
 * @event ariaUpdate
 */

/**
 * Fired when component updates. The payload consists from an object with the following
 * properties:
 * - prevProps - The previous properties of the component
 * - prevState - The previous state of the component
 * - props - The current properties of the component
 * - state - The current state of the component
 *
 * @event ariaUpdate
 */

UI.contextType = _editorContext2.default;
UI.defaultProps = {
	circular: true,
	descendants: '[class^=ae-toolbar-]',
	eventsDelay: 0,
	keys: {
		next: 9
	}
};
UI.propTypes = {
	/**
  * Localized messages for live aria updates. Should include the following messages:
  * - noToolbar: Notification for no available toolbar in the editor.
  * - oneToolbar: Notification for just one available toolbar in the editor.
  * - manyToolbars: Notification for more than one available toolbar in the editor.
  *
  * @instance
  * @memberof UI
  * @property {Object} ariaUpdates
  */
	ariaUpdates: _propTypes2.default.object,

	/**
  * The delay (ms), after which key or mouse events will be processed.
  *
  * @instance
  * @memberof UI
  * @property {Number} eventsDelay
  */
	eventsDelay: _propTypes2.default.number,

	/**
  * The toolbars configuration for this editor instance
  *
  * @instance
  * @memberof UI
  * @property {Object} toolbars
  */
	toolbars: _propTypes2.default.object.isRequired
};
exports.default = (0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)(UI));

/***/ }),

/***/ "./src/components/toolbars/index.js":
/*!******************************************!*\
  !*** ./src/components/toolbars/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ToolbarAdd$key$Toolb;

var _toolbarAdd = __webpack_require__(/*! ./toolbar-add.jsx */ "./src/components/toolbars/toolbar-add.jsx");

var _toolbarAdd2 = _interopRequireDefault(_toolbarAdd);

var _toolbarStyles = __webpack_require__(/*! ./toolbar-styles.jsx */ "./src/components/toolbars/toolbar-styles.jsx");

var _toolbarStyles2 = _interopRequireDefault(_toolbarStyles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**
                                                                                                                                                                                                                   * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                   * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                   */

exports.default = (_ToolbarAdd$key$Toolb = {}, _defineProperty(_ToolbarAdd$key$Toolb, _toolbarAdd2.default.key, _toolbarAdd2.default), _defineProperty(_ToolbarAdd$key$Toolb, _toolbarStyles2.default.key, _toolbarStyles2.default), _ToolbarAdd$key$Toolb);

/***/ }),

/***/ "./src/components/toolbars/toolbar-add.jsx":
/*!*************************************************!*\
  !*** ./src/components/toolbars/toolbar-add.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _toolbarButtons = __webpack_require__(/*! ../base/toolbar-buttons */ "./src/components/base/toolbar-buttons.js");

var _toolbarButtons2 = _interopRequireDefault(_toolbarButtons);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetExclusive = __webpack_require__(/*! ../base/widget-exclusive */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _buttonIcon = __webpack_require__(/*! ../buttons/button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

var POSITION_LEFT = 1;
var POSITION_RIGHT = 2;

/**
 * The ToolbarAdd class provides functionality for adding content to the editor.
 *
 * @class ToolbarAdd
 * @uses ToolbarButtons
 * @uses WidgetDropdown
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 */

var ToolbarAdd = function (_React$Component) {
	_inherits(ToolbarAdd, _React$Component);

	function ToolbarAdd(props) {
		_classCallCheck(this, ToolbarAdd);

		var _this = _possibleConstructorReturn(this, (ToolbarAdd.__proto__ || Object.getPrototypeOf(ToolbarAdd)).call(this, props));

		_this.state = {};
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client (not on the server),
  * immediately after the initial rendering occurs.
  *
  * @instance
  * @memberof ToolbarAdd
  * @method componentDidMount
  */


	_createClass(ToolbarAdd, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			this._updatePosition();
		}

		/**
   * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
   * This method is not called for the initial render.
   *
   * @instance
   * @memberof ToolbarAdd
   * @method componentDidUpdate
   * @param {Object} prevProps The previous state of the component's properties.
   * @param {Object} prevState Component's previous state.
   */

	}, {
		key: 'componentDidUpdate',
		value: function componentDidUpdate(_prevProps, _prevState) {
			this._updatePosition();

			// In case of exclusive rendering, focus the first descendant (button)
			// so the user will be able to start interacting with the buttons immediately.
			if (this.props.renderExclusive) {
				this.focus();
			}
		}

		/**
   * Lifecycle. Renders the buttons for adding content or hides the toolbar
   * if user interacted with a non-editable element.
   *
   * @instance
   * @memberof ToolbarAdd
   * @method render
   * @return {Object|null} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			// Some operations such as `requestExclusive` may force editor to blur which will
			// invalidate the `props.editorEvent` stored value, without causing a `props` change.
			// For example, if the editor is empty, `ae_placeholder` plugin will remove
			// the target from the DOM and will prevent `add` toolbar from rendering.
			//
			// It should be safe to assume that if you have been able to render the toolbar
			// and request the exclusive mode, then rendering might be kept until the exclusive mode is left.
			if (!this.state.itemExclusive && this.props.editorEvent && this.props.editorEvent.data.nativeEvent.target && !this.props.editorEvent.data.nativeEvent.target.isContentEditable) {
				return null;
			}

			var buttons = this._getButtons();
			var className = this._getToolbarClassName();

			return _react2.default.createElement(
				'div',
				{
					'aria-label': AlloyEditor.Strings.add,
					className: className,
					'data-tabindex': this.props.config.tabIndex || 0,
					onFocus: this.focus.bind(this),
					onKeyDown: this.handleKey.bind(this),
					role: 'toolbar',
					tabIndex: '-1' },
				_react2.default.createElement(
					'div',
					{ className: 'ae-container' },
					buttons
				)
			);
		}

		/**
   * Returns a list of buttons that will eventually render to HTML.
   *
   * @instance
   * @memberof ToolbarAdd
   * @method _getButtons
   * @protected
   * @return {Object} The buttons which have to be rendered.
   */

	}, {
		key: '_getButtons',
		value: function _getButtons() {
			var buttons = void 0;

			if (this.props.renderExclusive) {
				buttons = this.getToolbarButtons(this.props.config.buttons);
			} else {
				if (this.props.selectionData && this.props.selectionData.region) {
					buttons = _react2.default.createElement(
						'button',
						{
							'aria-label': AlloyEditor.Strings.add,
							className: 'ae-button ae-button-add',
							onClick: this.props.requestExclusive.bind(this, ToolbarAdd.key),
							title: AlloyEditor.Strings.add },
						_react2.default.createElement(_buttonIcon2.default, { symbol: 'plus' })
					);
				}
			}

			return buttons;
		}

		/**
   * Returns the class name of the toolbar in case of both exclusive and normal mode.
   *
   * @instance
   * @memberof ToolbarAdd
   * @method _getToolbarClassName
   * @protected
   * @return {String} The class name which have to be applied to the DOM element.
   */

	}, {
		key: '_getToolbarClassName',
		value: function _getToolbarClassName() {
			var cssClass = 'ae-toolbar-add';

			if (this.props.renderExclusive) {
				cssClass = 'ae-toolbar ' + this.getArrowBoxClasses();
			}

			return cssClass;
		}

		/**
   * Calculates and sets the position of the toolbar in exclusive or normal mode.
   *
   * @instance
   * @memberof ToolbarAdd
   * @method _updatePosition
   * @protected
   */

	}, {
		key: '_updatePosition',
		value: function _updatePosition() {
			var region = void 0;

			// If component is not mounted, there is nothing to do
			if (!_reactDom2.default.findDOMNode(this)) {
				return;
			}

			if (this.props.renderExclusive) {
				this.updatePosition();
				this.show();
			} else {
				if (this.props.selectionData) {
					region = this.props.selectionData.region;
				}

				if (region) {
					var domNode = _reactDom2.default.findDOMNode(this);

					var domElement = new CKEDITOR.dom.element(domNode);

					var startRect = region.startRect || region;

					var nativeEditor = this.context.editor.get('nativeEditor');

					var clientRect = nativeEditor.editable().getClientRect();

					var offsetLeft = void 0;

					var position = this.props.config.position || this.props.position;

					if (position === POSITION_LEFT) {
						offsetLeft = clientRect.left - domNode.offsetWidth - this.props.gutterExclusive.left + 'px';
					} else {
						offsetLeft = clientRect.right + this.props.gutterExclusive.left + 'px';
					}

					domNode.style.left = offsetLeft;

					domNode.style.top = Math.floor((region.bottom + region.top) / 2) + 'px';

					var uiNode = this.context.editor.get('uiNode');

					var scrollTop = uiNode ? uiNode.scrollTop : 0;

					if (nativeEditor.element.getStyle('overflow') !== 'auto') {
						domNode.style.top = Math.floor(region.top - domNode.offsetHeight / 2 + startRect.height / 2 + scrollTop) + 'px';
					} else {
						domNode.style.top = Math.floor(nativeEditor.element.$.offsetTop + startRect.height / 2 - domNode.offsetHeight / 2) + 'px';
					}

					domNode.style.opacity = 1;

					domElement.removeClass('ae-arrow-box');

					this.cancelAnimation();
				}
			}
		}
	}]);

	return ToolbarAdd;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default add
 * @memberof ToolbarAdd
 * @property {String} key
 * @static
 */


ToolbarAdd.contextType = _editorContext2.default;
ToolbarAdd.key = 'add';

/**
 * Defines the constant for positioning the Toolbar on left of the editable area.
 *
 * @default 1
 * @memberof ToolbarAdd
 * @property {String} left
 * @static
 */
ToolbarAdd.left = POSITION_LEFT;

/**
 * Defines the constant for positioning the Toolbar on right of the editable area.
 *
 * @default 2
 * @memberof ToolbarAdd
 * @property {String} right
 * @static
 */
ToolbarAdd.right = POSITION_RIGHT;

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ToolbarAdd
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ToolbarAdd.defaultProps = {
	circular: true,
	descendants: '.ae-button',
	gutterExclusive: {
		left: 10,
		top: 0
	},
	keys: {
		dismiss: [27],
		next: [39, 40],
		prev: [37, 38]
	},
	position: POSITION_LEFT
};

exports.default = (0, _widgetDropdown2.default)((0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)((0, _toolbarButtons2.default)(ToolbarAdd))));

/***/ }),

/***/ "./src/components/toolbars/toolbar-styles.jsx":
/*!****************************************************!*\
  !*** ./src/components/toolbars/toolbar-styles.jsx ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _toolbarButtons = __webpack_require__(/*! ../base/toolbar-buttons */ "./src/components/base/toolbar-buttons.js");

var _toolbarButtons2 = _interopRequireDefault(_toolbarButtons);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetExclusive = __webpack_require__(/*! ../base/widget-exclusive */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/**
 * The ToolbarStyles class hosts the buttons for styling a text selection.
 *
 * @class ToolbarStyles
 * @uses ToolbarButtons
 * @uses WidgetDropdown
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 */
var ToolbarStyles = function (_React$Component) {
	_inherits(ToolbarStyles, _React$Component);

	function ToolbarStyles(props) {
		_classCallCheck(this, ToolbarStyles);

		var _this = _possibleConstructorReturn(this, (ToolbarStyles.__proto__ || Object.getPrototypeOf(ToolbarStyles)).call(this, props));

		_this.state = {};
		return _this;
	}

	/**
  * Lifecycle. Invoked once, only on the client (not on the server),
  * immediately after the initial rendering occurs.
  *
  * @instance
  * @memberof ToolbarStyles
  * @method componentDidMount
  */


	_createClass(ToolbarStyles, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			this._updatePosition();
		}

		/**
   * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
   * This method is not called for the initial render.
   *
   * @instance
   * @memberof ToolbarStyles
   * @method componentDidUpdate
   * @param {Object} prevProps The previous state of the component's properties.
   * @param {Object} prevState Component's previous state.
   */

	}, {
		key: 'componentDidUpdate',
		value: function componentDidUpdate(_prevProps, _prevState) {
			this._updatePosition();
		}

		/**
   * Lifecycle. Renders the buttons for adding content or hides the toolbar
   * if user interacted with a non-editable element.
   *
   * @instance
   * @memberof ToolbarStyles
   * @method render
   * @return {Object|null} The content which should be rendered.
   */

	}, {
		key: 'render',
		value: function render() {
			var currentSelection = this._getCurrentSelection();

			if (currentSelection) {
				var getArrowBoxClassesFn = this._getSelectionFunction(currentSelection.getArrowBoxClasses);
				var arrowBoxClasses = void 0;

				if (getArrowBoxClassesFn) {
					arrowBoxClasses = getArrowBoxClassesFn();
				} else {
					arrowBoxClasses = this.getArrowBoxClasses();
				}

				var cssClasses = 'ae-toolbar-styles ' + arrowBoxClasses;

				var buttons = currentSelection.buttons;

				if ((typeof buttons === 'undefined' ? 'undefined' : _typeof(buttons)) === 'object' && !Array.isArray(buttons)) {
					buttons = buttons[this.context.editor.get('mode')] || buttons['simple'];
				}

				var buttonsGroup = this.getToolbarButtonGroups(buttons, {
					manualSelection: this.props.editorEvent ? this.props.editorEvent.data.manualSelection : null,
					selectionType: currentSelection.name
				});

				var hasGroups = buttonsGroup.filter(function (button) {
					return Array.isArray(button);
				}).length > 0;

				var className = 'ae-container';

				if (hasGroups) {
					className += ' ae-container-column';
				}

				return _react2.default.createElement(
					'div',
					{
						'aria-label': AlloyEditor.Strings.styles,
						className: cssClasses,
						'data-tabindex': this.props.config.tabIndex || 0,
						onFocus: this.focus.bind(this),
						onKeyDown: this.handleKey.bind(this),
						role: 'toolbar',
						tabIndex: '-1' },
					_react2.default.createElement(
						'div',
						{ className: className },
						buttonsGroup.map(function (value, index) {
							if (Array.isArray(value)) {
								return _react2.default.createElement(
									'div',
									{ className: 'ae-row', key: index },
									value.map(function (button) {
										return button;
									})
								);
							} else {
								return value;
							}
						})
					)
				);
			}

			return null;
		}

		/**
   * Retrieve a function from String. It converts a fully qualified string into the mapped function.
   *
   * @instance
   * @memberof ToolbarStyles
   * @method _getSelectionFunction
   * @param {Function|String} selectionFn A function, or a fully qualified string pointing to the desired one (e.g. 'AlloyEditor.SelectionTest.image').
   * @protected
   * @return {Function} The mapped function.
   */

	}, {
		key: '_getSelectionFunction',
		value: function _getSelectionFunction(selectionFn) {
			var selectionFunction = void 0;

			if (_lang2.default.isFunction(selectionFn)) {
				selectionFunction = selectionFn;
			} else if (_lang2.default.isString(selectionFn)) {
				var parts = selectionFn.split('.');
				var currentMember = window;
				var property = parts.shift();

				while (property && _lang2.default.isObject(currentMember) && _lang2.default.isObject(currentMember[property])) {
					currentMember = currentMember[property];
					property = parts.shift();
				}

				if (_lang2.default.isFunction(currentMember)) {
					selectionFunction = currentMember;
				}
			}

			return selectionFunction;
		}

		/**
   * Analyzes the current editor selection and returns the selection configuration that matches.
   *
   * @instance
   * @memberof ToolbarStyles
   * @method _getCurrentSelection
   * @protected
   * @return {Object} The matched selection configuration.
   */

	}, {
		key: '_getCurrentSelection',
		value: function _getCurrentSelection() {
			var eventPayload = this.props.editorEvent ? this.props.editorEvent.data : null;
			var selection = void 0;

			if (eventPayload) {
				this.props.config.selections.some(function (item) {
					var testFn = this._getSelectionFunction(item.test);
					var result = void 0;

					if (testFn) {
						result = eventPayload.manualSelection === item.name || testFn({
							data: eventPayload,
							editor: this.context.editor
						});
					}

					if (result) {
						selection = item;
					}

					return result;
				}, this);
			}

			return selection;
		}

		/**
   * Calculates and sets the position of the toolbar.
   *
   * @instance
   * @memberof ToolbarStyles
   * @method _updatePosition
   * @protected
   */

	}, {
		key: '_updatePosition',
		value: function _updatePosition() {
			// If component is not mounted, there is nothing to do
			if (!_reactDom2.default.findDOMNode(this)) {
				return;
			}

			var currentSelection = this._getCurrentSelection();
			var result = void 0;

			// If current selection has a function called `setPosition`, call it
			// and check the returned value. If false, fallback to the default positioning logic.
			if (currentSelection) {
				var setPositionFn = this._getSelectionFunction(currentSelection.setPosition);

				if (setPositionFn) {
					result = setPositionFn.call(this, {
						editor: this.context.editor,
						editorEvent: this.props.editorEvent,
						selectionData: this.props.selectionData
					});
				}
			}

			if (!result) {
				this.updatePosition();
				this.show();
			}
		}
	}]);

	return ToolbarStyles;
}(_react2.default.Component);

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ToolbarStyles
 * @method getDefaultProps
 * @return {Object} The default properties.
 */


ToolbarStyles.contextType = _editorContext2.default;
ToolbarStyles.defaultProps = {
	circular: true,
	descendants: '.ae-input, .ae-button:not([disabled]), .ae-toolbar-element',
	keys: {
		dismiss: [27],
		next: [39, 40],
		prev: [37, 38]
	}
};

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default styles
 * @memberof ToolbarStyles
 * @property {String} key
 * @static
 */
ToolbarStyles.key = 'styles';

exports.default = (0, _widgetDropdown2.default)((0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)((0, _toolbarButtons2.default)(ToolbarStyles))));

/***/ }),

/***/ "./src/components/uibridge/button.jsx":
/*!********************************************!*\
  !*** ./src/components/uibridge/button.jsx ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/* istanbul ignore if */
if (!CKEDITOR.plugins.get('ae_buttonbridge')) {
	var BUTTON_DEFS = {};

	/**
  * Generates a ButtonBridge React class for a given button definition if it has not been
  * already created based on the button name and definition.
  *
  * @private
  * @method generateButtonBridge
  * @param {String} buttonName The button's name
  * @param {Object} buttonDefinition The button's definition
  * @return {Object} The generated or already existing React Button Class
  */

	function generateButtonBridge(buttonName, buttonDefinition, editor) {
		var ButtonBridge = AlloyEditor.Buttons[buttonName];

		BUTTON_DEFS[editor.name] = BUTTON_DEFS[editor.name] || {};
		BUTTON_DEFS[editor.name][buttonName] = BUTTON_DEFS[editor.name][buttonName] || buttonDefinition;

		if (!ButtonBridge) {
			var _class, _temp2;

			ButtonBridge = (_temp2 = _class = function (_React$Component) {
				_inherits(ButtonBridge, _React$Component);

				function ButtonBridge() {
					var _ref;

					var _temp, _this, _ret;

					_classCallCheck(this, ButtonBridge);

					for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
						args[_key] = arguments[_key];
					}

					return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ButtonBridge.__proto__ || Object.getPrototypeOf(ButtonBridge)).call.apply(_ref, [this].concat(args))), _this), _this._handleClick = function () {
						var editor = _this.context.editor.get('nativeEditor');

						var buttonCommand = BUTTON_DEFS[editor.name][buttonName].command;

						var buttonOnClick = BUTTON_DEFS[editor.name][buttonName].onClick;

						if (buttonOnClick) {
							buttonOnClick.call(_this);
						} else {
							editor.execCommand(buttonCommand);
						}

						editor.fire('actionPerformed', _this);
					}, _temp), _possibleConstructorReturn(_this, _ret);
				}

				_createClass(ButtonBridge, [{
					key: 'toFeature',


					// API not yet implemented inside the button
					// bridge. By mocking the unsupported method, we prevent
					// plugins from crashing if they make use of it.
					value: function toFeature() {}
				}, {
					key: 'render',
					value: function render() {
						var editor = this.context.editor.get('nativeEditor');

						var buttonClassName = 'ae-button ae-button-bridge';

						var buttonDisplayName = BUTTON_DEFS[editor.name][buttonName].name || BUTTON_DEFS[editor.name][buttonName].command || buttonName;

						var buttonLabel = BUTTON_DEFS[editor.name][buttonName].label;

						var buttonType = 'button-' + buttonDisplayName;

						var iconClassName = 'ae-icon-' + buttonDisplayName;

						var iconStyle = {};

						var cssStyle = CKEDITOR.skin.getIconStyle(buttonDisplayName);

						if (cssStyle) {
							var cssStyleParts = cssStyle.split(';');

							iconStyle.backgroundImage = cssStyleParts[0].substring(cssStyleParts[0].indexOf(':') + 1);
							iconStyle.backgroundPosition = cssStyleParts[1].substring(cssStyleParts[1].indexOf(':') + 1);
							iconStyle.backgroundSize = cssStyleParts[2].substring(cssStyleParts[2].indexOf(':') + 1);
						}

						return _react2.default.createElement(
							'button',
							{
								'aria-label': buttonLabel,
								className: buttonClassName,
								'data-type': buttonType,
								onClick: this._handleClick,
								tabIndex: this.props.tabIndex,
								title: buttonLabel },
							_react2.default.createElement('span', { className: iconClassName, style: iconStyle })
						);
					}
				}]);

				return ButtonBridge;
			}(_react2.default.Component), _class.contextType = _editorContext2.default, _class.displayName = buttonName, _class.key = buttonName, _temp2);

			AlloyEditor.Buttons[buttonName] = ButtonBridge;
		}

		return ButtonBridge;
	}

	/* istanbul ignore else */
	if (!CKEDITOR.plugins.get('button')) {
		CKEDITOR.UI_BUTTON = 'button';

		CKEDITOR.plugins.add('button', {});
	}

	/**
  * CKEditor plugin that bridges the support offered by CKEditor Button plugin. It takes over the
  * responsibility of registering and creating buttons via:
  * - editor.ui.addButton(name, definition)
  * - editor.ui.add(name, CKEDITOR.UI_BUTTON, definition)
  *
  * @class CKEDITOR.plugins.ae_buttonbridge
  * @requires CKEDITOR.plugins.ae_uibridge
  * @constructor
  */
	CKEDITOR.plugins.add('ae_buttonbridge', {
		requires: ['ae_uibridge'],

		/**
   * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override
   * the one in the native plugin in case it's present.
   *
   * @method init
   * @param {Object} editor The CKEditor instance being initialized
   */
		beforeInit: function beforeInit(editor) {
			editor.ui.addButton = function (buttonName, buttonDefinition) {
				this.add(buttonName, CKEDITOR.UI_BUTTON, buttonDefinition);
			};

			editor.ui.addHandler(CKEDITOR.UI_BUTTON, {
				add: generateButtonBridge,
				create: function create(buttonDefinition) {
					var buttonName = 'buttonBridge' + (Math.random() * 1e9 >>> 0);
					var ButtonBridge = generateButtonBridge(buttonName, buttonDefinition);

					return new ButtonBridge();
				}
			});
		}
	});
}

/***/ }),

/***/ "./src/components/uibridge/index.js":
/*!******************************************!*\
  !*** ./src/components/uibridge/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(/*! ./button.jsx */ "./src/components/uibridge/button.jsx");

__webpack_require__(/*! ./menu-button.jsx */ "./src/components/uibridge/menu-button.jsx");

__webpack_require__(/*! ./menu.jsx */ "./src/components/uibridge/menu.jsx");

__webpack_require__(/*! ./panel-menu-button.jsx */ "./src/components/uibridge/panel-menu-button.jsx");

__webpack_require__(/*! ./richcombo.jsx */ "./src/components/uibridge/richcombo.jsx");

__webpack_require__(/*! ./uibridge */ "./src/components/uibridge/uibridge.js");

/***/ }),

/***/ "./src/components/uibridge/menu-button.jsx":
/*!*************************************************!*\
  !*** ./src/components/uibridge/menu-button.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonDropdown = __webpack_require__(/*! ../buttons/button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/* istanbul ignore if */
if (!CKEDITOR.plugins.get('ae_menubuttonbridge')) {
	var MENUBUTTON_DEFS = {};

	/**
  * Generates a MenuButtonBridge React class for a given menuButton definition if it has not been
  * already created based on the button name and definition.
  *
  * @private
  * @method generateMenuButtonBridge
  * @param {String} menuButtonName The menuButton's name
  * @param {Object} menuButtonDefinition The menuButton's definition
  * @return {Object} The generated or already existing React MenuButton Class
  */
	function generateMenuButtonBridge(menuButtonName, menuButtonDefinition, editor) {
		var MenuButtonBridge = AlloyEditor.Buttons[menuButtonName];

		MENUBUTTON_DEFS[editor.name] = MENUBUTTON_DEFS[editor.name] || {};
		MENUBUTTON_DEFS[editor.name][menuButtonName] = MENUBUTTON_DEFS[editor.name][menuButtonName] || menuButtonDefinition;

		if (!MenuButtonBridge) {
			var _class, _temp;

			MenuButtonBridge = (_temp = _class = function (_React$Component) {
				_inherits(MenuButtonBridge, _React$Component);

				function MenuButtonBridge() {
					_classCallCheck(this, MenuButtonBridge);

					return _possibleConstructorReturn(this, (MenuButtonBridge.__proto__ || Object.getPrototypeOf(MenuButtonBridge)).apply(this, arguments));
				}

				_createClass(MenuButtonBridge, [{
					key: 'toFeature',


					// API not yet implemented inside the menubutton
					// bridge. By mocking the unsupported method, we prevent
					// plugins from crashing if they make use of it.
					value: function toFeature() {}
				}, {
					key: 'render',
					value: function render() {
						var editor = this.context.editor.get('nativeEditor');

						var panelMenuButtonDisplayName = MENUBUTTON_DEFS[editor.name][menuButtonName].name || MENUBUTTON_DEFS[editor.name][menuButtonName].command || menuButtonName;

						var buttonClassName = 'ae-button ae-button-bridge';

						var iconClassName = 'ae-icon-' + panelMenuButtonDisplayName;

						var iconStyle = {};

						var cssStyle = CKEDITOR.skin.getIconStyle(panelMenuButtonDisplayName);

						if (cssStyle) {
							var cssStyleParts = cssStyle.split(';');

							iconStyle.backgroundImage = cssStyleParts[0].substring(cssStyleParts[0].indexOf(':') + 1);
							iconStyle.backgroundPosition = cssStyleParts[1].substring(cssStyleParts[1].indexOf(':') + 1);
							iconStyle.backgroundSize = cssStyleParts[2].substring(cssStyleParts[2].indexOf(':') + 1);
						}

						return _react2.default.createElement(
							'div',
							{ className: 'ae-container ae-has-dropdown' },
							_react2.default.createElement(
								'button',
								{
									'aria-expanded': this.props.expanded,
									'aria-label': MENUBUTTON_DEFS[editor.name][menuButtonName].label,
									className: buttonClassName,
									onClick: this.props.toggleDropdown,
									role: 'combobox',
									tabIndex: this.props.tabIndex,
									title: MENUBUTTON_DEFS[editor.name][menuButtonName].label },
								_react2.default.createElement('span', {
									className: iconClassName,
									style: iconStyle
								})
							),
							this.props.expanded && _react2.default.createElement(
								_buttonDropdown2.default,
								{
									onDismiss: this.props.toggleDropdown },
								this._getMenuItems()
							)
						);
					}
				}, {
					key: '_getMenuItems',
					value: function _getMenuItems() {
						var editor = this.context.editor.get('nativeEditor');
						var items = menuButtonDefinition.onMenu();
						var menuItems = Object.keys(items).map(function (key) {
							var menuItem = editor.getMenuItem(key);

							if (!menuItem) {
								return null;
							}

							var menuItemDefinition = menuItem.definition || menuItem;
							var menuItemState = items[key];

							var className = 'ae-toolbar-element ' + (menuItemState === CKEDITOR.TRISTATE_ON ? 'active' : '');
							var disabled = menuItemState === CKEDITOR.TRISTATE_DISABLED;
							var onClick = function onClick() {
								if (menuItemDefinition.command) {
									editor.execCommand(menuItemDefinition.command);
								} else if (menuItemDefinition.onClick) {
									menuItemDefinition.onClick.apply(menuItemDefinition);
								}
							};

							return _react2.default.createElement(
								'li',
								{ key: menuItem.name, role: 'option' },
								_react2.default.createElement(
									'button',
									{
										className: className,
										disabled: disabled,
										onClick: onClick },
									menuItemDefinition.label
								)
							);
						});

						return menuItems;
					}
				}]);

				return MenuButtonBridge;
			}(_react2.default.Component), _class.contextType = _editorContext2.default, _class.displayName = menuButtonName, _class.key = menuButtonName, _temp);

			AlloyEditor.Buttons[menuButtonName] = MenuButtonBridge;
		}

		return MenuButtonBridge;
	}

	/* istanbul ignore else */
	if (!CKEDITOR.plugins.get('menubutton')) {
		CKEDITOR.UI_MENU_BUTTON = 'menubutton';

		CKEDITOR.plugins.add('menubutton', {});
	}

	/**
  * CKEditor plugin that bridges the support offered by CKEditor MenuButton plugin. It takes over the
  * responsibility of registering and creating menuButtons via:
  * - editor.ui.addMenuButton(name, definition)
  * - editor.ui.add(name, CKEDITOR.UI_MENUBUTTON, definition)
  *
  * @class CKEDITOR.plugins.ae_menubuttonbridge
  * @requires CKEDITOR.plugins.ae_uibridge
  * @requires CKEDITOR.plugins.ae_menubridge
  * @constructor
  */
	CKEDITOR.plugins.add('ae_menubuttonbridge', {
		requires: ['ae_uibridge', 'ae_menubridge'],

		/**
   * Set the add handler for UI_MENUBUTTON to our own. We do this in the init phase to override
   * the one in the native plugin in case it's present.
   *
   * @method init
   * @param {Object} editor The CKEditor instance being initialized
   */
		beforeInit: function beforeInit(editor) {
			editor.ui.addMenuButton = function (menuButtonName, menuButtonDefinition) {
				this.add(menuButtonName, CKEDITOR.UI_MENUBUTTON, menuButtonDefinition);
			};

			editor.ui.addHandler(CKEDITOR.UI_MENUBUTTON, {
				add: generateMenuButtonBridge,
				create: function create(menuButtonDefinition) {
					var menuButtonName = 'buttonBridge' + (Math.random() * 1e9 >>> 0);
					var MenuButtonBridge = generateMenuButtonBridge(menuButtonName, menuButtonDefinition);

					return new MenuButtonBridge();
				}
			});
		}
	});
}

/***/ }),

/***/ "./src/components/uibridge/menu.jsx":
/*!******************************************!*\
  !*** ./src/components/uibridge/menu.jsx ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/* istanbul ignore if */
if (!CKEDITOR.plugins.get('ae_menubridge')) {
	/**
  * CKEditor plugin that bridges the support offered by CKEditor Menu plugin. It takes over the
  * responsibility of adding, removing and retrieving menu groups and items
  * - editor.addMenuGroup(name, order)
  * - editor.addMenuItem(name, definition)
  * - editor.addMenuItems(definitions)
  * - editor.getMenuItem(name)
  * - editor.removeMenuItem(name)
  *
  * @class CKEDITOR.plugins.ae_menubridge
  * @constructor
  */
	CKEDITOR.plugins.add('ae_menubridge', {
		/**
   * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override
   * the one in the native plugin in case it's present.
   *
   * @method init
   * @param {Object} editor The CKEditor instance being initialized
   */
		beforeInit: function beforeInit(editor) {
			// Do nothing if the real menu plugin is present
			if (CKEDITOR.plugins.get('menu')) {
				return;
			}

			var groups = [];
			var groupsOrder = editor._.menuGroups = {};
			var menuItems = editor._.menuItems = {};

			for (var i = 0; i < groups.length; i++) {
				groupsOrder[groups[i]] = i + 1;
			}

			/**
    * Registers an item group to the editor context menu in order to make it
    * possible to associate it with menu items later.
    *
    * @method addMenuGroup
    * @param {String} name Specify a group name.
    * @param {Number} [order=100] Define the display sequence of this group
    * inside the menu. A smaller value gets displayed first.
    */
			editor.addMenuGroup = function (name, order) {
				groupsOrder[name] = order || 100;
			};

			/**
    * Adds an item from the specified definition to the editor context menu.
    *
    * @method addMenuItem
    * @param {String} name The menu item name.
    * @param {Object} definition The menu item definition.
    */
			editor.addMenuItem = function (name, definition) {
				if (groupsOrder[definition.group]) {
					menuItems[name] = {
						name: name,
						definition: definition
					};
				}
			};

			/**
    * Adds one or more items from the specified definition object to the editor context menu.
    *
    * @method addMenuItems
    * @param {Object} definitions Object where keys are used as itemName and corresponding values as definition for a {@link #addMenuItem} call.
    */
			editor.addMenuItems = function (definitions) {
				for (var itemName in definitions) {
					if (Object.prototype.hasOwnProperty.call(definitions, itemName)) {
						this.addMenuItem(itemName, definitions[itemName]);
					}
				}
			};

			/**
    * Retrieves a particular menu item definition from the editor context menu.
    *
    * @method getMenuItem
    * @param {String} name The name of the desired menu item.
    * @return {Object}
    */
			editor.getMenuItem = function (name) {
				return menuItems[name];
			};

			/**
    * Removes a particular menu item added before from the editor context menu.
    *
    * @method  removeMenuItem
    * @param {String} name The name of the desired menu item.
    */
			editor.removeMenuItem = function (name) {
				delete menuItems[name];
			};
		}
	});
}

/***/ }),

/***/ "./src/components/uibridge/panel-menu-button.jsx":
/*!*******************************************************!*\
  !*** ./src/components/uibridge/panel-menu-button.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonDropdown = __webpack_require__(/*! ../buttons/button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/* istanbul ignore if */
if (!CKEDITOR.plugins.get('ae_panelmenubuttonbridge')) {
	var PANEL_MENU_DEFS = {};

	/**
  * Generates a PanelMenuButtonBridge React class for a given panelmenubutton definition if it has not been
  * already created based on the panelmenubutton name and definition.
  *
  * @private
  * @method generatePanelMenuButtonBridge
  * @param {String} panelMenuButtonName The panel button name
  * @param {Object} panelMenuButtonDefinition The panel button definition
  * @return {Object} The generated or already existing React PanelMenuButton Class
  */
	var generatePanelMenuButtonBridge = function generatePanelMenuButtonBridge(panelMenuButtonName, panelMenuButtonDefinition, editor) {
		var PanelMenuButtonBridge = AlloyEditor.Buttons[panelMenuButtonName];

		PANEL_MENU_DEFS[editor.name] = PANEL_MENU_DEFS[editor.name] || {};
		PANEL_MENU_DEFS[editor.name][panelMenuButtonName] = PANEL_MENU_DEFS[editor.name][panelMenuButtonName] || panelMenuButtonDefinition;

		if (!PanelMenuButtonBridge) {
			var _class, _temp;

			PanelMenuButtonBridge = (_temp = _class = function (_React$Component) {
				_inherits(PanelMenuButtonBridge, _React$Component);

				function PanelMenuButtonBridge() {
					_classCallCheck(this, PanelMenuButtonBridge);

					return _possibleConstructorReturn(this, (PanelMenuButtonBridge.__proto__ || Object.getPrototypeOf(PanelMenuButtonBridge)).apply(this, arguments));
				}

				_createClass(PanelMenuButtonBridge, [{
					key: 'createPanel',


					// API not yet implemented inside the panel menu button bridge. By mocking the unsupported methods, we
					// prevent plugins from crashing if they make use of them.
					value: function createPanel() {}
				}, {
					key: 'render',
					value: function render() {
						var editor = this.context.editor.get('nativeEditor');

						var panelMenuButtonDisplayName = PANEL_MENU_DEFS[editor.name][panelMenuButtonName].name || PANEL_MENU_DEFS[editor.name][panelMenuButtonName].command || panelMenuButtonName;

						var buttonClassName = 'ae-button ae-button-bridge';

						var iconClassName = 'ae-icon-' + panelMenuButtonDisplayName;

						var iconStyle = {};

						var cssStyle = CKEDITOR.skin.getIconStyle(panelMenuButtonDisplayName);

						if (cssStyle) {
							var cssStyleParts = cssStyle.split(';');

							iconStyle.backgroundImage = cssStyleParts[0].substring(cssStyleParts[0].indexOf(':') + 1);
							iconStyle.backgroundPosition = cssStyleParts[1].substring(cssStyleParts[1].indexOf(':') + 1);
							iconStyle.backgroundSize = cssStyleParts[2].substring(cssStyleParts[2].indexOf(':') + 1);
						}

						var panel = void 0;

						if (this.props.expanded) {
							panel = this._getPanel();
						}

						return _react2.default.createElement(
							'div',
							{ className: 'ae-container ae-has-dropdown' },
							_react2.default.createElement(
								'button',
								{
									'aria-expanded': this.props.expanded,
									'aria-label': PANEL_MENU_DEFS[editor.name][panelMenuButtonName].label,
									className: buttonClassName,
									onClick: this.props.toggleDropdown,
									role: 'combobox',
									tabIndex: this.props.tabIndex,
									title: PANEL_MENU_DEFS[editor.name][panelMenuButtonName].label },
								_react2.default.createElement('span', {
									className: iconClassName,
									style: iconStyle
								})
							),
							panel
						);
					}
				}, {
					key: '_getPanel',
					value: function _getPanel() {
						var editor = this.context.editor.get('nativeEditor');

						var panelMenuButtonOnBlock = PANEL_MENU_DEFS[editor.name][panelMenuButtonName].onBlock;

						var panel = {
							hide: this.props.toggleDropdown,
							show: this.props.toggleDropdown
						};

						var blockElement = new CKEDITOR.dom.element('div');

						var block = {
							element: blockElement,
							keys: {}
						};

						/* istanbul ignore else */
						if (panelMenuButtonOnBlock) {
							panelMenuButtonOnBlock.call(this, panel, block);
						}

						// TODO
						// Use block.keys to configure the panel keyboard navigation

						return _react2.default.createElement(
							_buttonDropdown2.default,
							{ onDismiss: this.props.toggleDropdown },
							_react2.default.createElement('div', {
								className: blockElement.getAttribute('class'),
								dangerouslySetInnerHTML: {
									__html: blockElement.getHtml()
								}
							})
						);
					}
				}]);

				return PanelMenuButtonBridge;
			}(_react2.default.Component), _class.contextType = _editorContext2.default, _class.displayName = panelMenuButtonName, _class.key = panelMenuButtonName, _temp);

			AlloyEditor.Buttons[panelMenuButtonName] = PanelMenuButtonBridge;
		}

		return PanelMenuButtonBridge;
	};

	/* istanbul ignore else */
	if (!CKEDITOR.plugins.get('panelmenubutton')) {
		CKEDITOR.UI_PANELBUTTON = 'panelmenubutton';

		CKEDITOR.plugins.add('panelmenubutton', {});
	}

	/* istanbul ignore else */
	if (!CKEDITOR.plugins.get('panelbutton')) {
		CKEDITOR.UI_PANELBUTTON = 'panelbutton';

		CKEDITOR.plugins.add('panelbutton', {});
	}

	/**
  * CKEditor plugin that bridges the support offered by CKEditor PanelButton plugin. It takes over the
  * responsibility of registering and creating buttons via:
  * - editor.ui.addPanelMenuButton(name, definition)
  * - editor.ui.add(name, CKEDITOR.UI_PANELBUTTON, definition)
  *
  * @class CKEDITOR.plugins.ae_panelmenubuttonbridge
  * @requires CKEDITOR.plugins.ae_uibridge
  * @constructor
  */
	CKEDITOR.plugins.add('ae_panelmenubuttonbridge', {
		requires: ['ae_uibridge'],

		/**
   * Set the add handler for UI_PANELBUTTON to our own. We do this in the init phase to override
   * the one in the native plugin in case it's present
   *
   * @method init
   * @param {Object} editor The CKEditor instance being initialized
   */
		beforeInit: function beforeInit(editor) {
			editor.ui.addPanelMenuButton = function (panelMenuButtonName, panelMenuButtonDefinition) {
				this.add(panelMenuButtonName, CKEDITOR.UI_PANELBUTTON, panelMenuButtonDefinition);
			};

			editor.ui.addHandler(CKEDITOR.UI_PANELBUTTON, {
				add: generatePanelMenuButtonBridge,
				create: function create(panelMenuButtonDefinition) {
					var panelMenuButtonName = 'panelMenuButtonBridge' + (Math.random() * 1e9 >>> 0);
					var PanelMenuButtonBridge = generatePanelMenuButtonBridge(panelMenuButtonName, panelMenuButtonDefinition);

					return new PanelMenuButtonBridge();
				}
			});
		}
	});
}

/***/ }),

/***/ "./src/components/uibridge/richcombo.jsx":
/*!***********************************************!*\
  !*** ./src/components/uibridge/richcombo.jsx ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _editorContext = __webpack_require__(/*! ../../adapter/editor-context */ "./src/adapter/editor-context.js");

var _editorContext2 = _interopRequireDefault(_editorContext);

var _buttonDropdown = __webpack_require__(/*! ../buttons/button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _buttonIcon = __webpack_require__(/*! ../buttons/button-icon.jsx */ "./src/components/buttons/button-icon.jsx");

var _buttonIcon2 = _interopRequireDefault(_buttonIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/* istanbul ignore if */
if (!CKEDITOR.plugins.get('ae_richcombobridge')) {
	var RICH_COMBO_DEFS = {};

	/**
  * Generates a RichComboBridge React class for a given richcombo definition if it has not been
  * already created based on the richcombo name and definition.
  *
  * @method generateRichComboBridge
  * @private
  * @param {String} richComboName The rich combo name
  * @param {Object} richComboDefinition The rich combo definition
  * @return {Object} The generated or already existing React RichCombo Class
  */
	var generateRichComboBridge = function generateRichComboBridge(richComboName, richComboDefinition, editor) {
		var RichComboBridge = AlloyEditor.Buttons[richComboName];

		RICH_COMBO_DEFS[editor.name] = RICH_COMBO_DEFS[editor.name] || {};
		RICH_COMBO_DEFS[editor.name][richComboName] = RICH_COMBO_DEFS[editor.name][richComboName] || richComboDefinition;
		RICH_COMBO_DEFS[editor.name][richComboName].currentValue = undefined;

		if (!RichComboBridge) {
			var _class, _temp;

			RichComboBridge = (_temp = _class = function (_React$Component) {
				_inherits(RichComboBridge, _React$Component);

				function RichComboBridge(props) {
					_classCallCheck(this, RichComboBridge);

					var _this = _possibleConstructorReturn(this, (RichComboBridge.__proto__ || Object.getPrototypeOf(RichComboBridge)).call(this, props));

					_this._onClick = function (event) {
						var editor = _this.context.editor.get('nativeEditor');

						var editorCombo = RICH_COMBO_DEFS[editor.name][richComboName];

						if (editorCombo.onClick) {
							var newValue = event.currentTarget.getAttribute('data-value');

							editorCombo.onClick.call(_this, newValue);

							RICH_COMBO_DEFS[editor.name][richComboName].currentValue = newValue;

							editor.fire('actionPerformed', _this);
						}
					};

					_this.state = {
						value: RICH_COMBO_DEFS[editor.name][richComboName].currentValue
					};
					return _this;
				}

				// API not yet implemented inside the richcombo bridge. By mocking the unsupported methods, we
				// prevent plugins from crashing if they make use of them.


				_createClass(RichComboBridge, [{
					key: 'commit',
					value: function commit() {}
				}, {
					key: 'createPanel',
					value: function createPanel() {}
				}, {
					key: 'disable',
					value: function disable() {}
				}, {
					key: 'enable',
					value: function enable() {}
				}, {
					key: 'getState',
					value: function getState() {}
				}, {
					key: 'hideGroup',
					value: function hideGroup() {}
				}, {
					key: 'hideItem',
					value: function hideItem() {}
				}, {
					key: 'mark',
					value: function mark() {}
				}, {
					key: 'showAll',
					value: function showAll() {}
				}, {
					key: 'startGroup',
					value: function startGroup() {}
				}, {
					key: 'unmarkAll',
					value: function unmarkAll() {}
				}, {
					key: 'add',
					value: function add(value, preview, title) {
						this._items.push({
							preview: preview,
							title: title,
							value: value
						});
					}
				}, {
					key: 'componentWillMount',
					value: function componentWillMount() {
						var editor = this.context.editor.get('nativeEditor');

						var editorCombo = RICH_COMBO_DEFS[editor.name][richComboName];

						this._items = [];

						this.setValue = this._setValue;

						if (editorCombo.init) {
							editorCombo.init.call(this);
						}

						if (editorCombo.onRender) {
							editorCombo.onRender.call(this);
						}
					}
				}, {
					key: 'componentWillUnmount',
					value: function componentWillUnmount() {
						this._cacheValue(this.state.value);

						this.setValue = this._cacheValue;
					}
				}, {
					key: 'getValue',
					value: function getValue() {
						return this.state.value;
					}
				}, {
					key: 'render',
					value: function render() {
						var editor = this.context.editor.get('nativeEditor');

						var richComboLabel = RICH_COMBO_DEFS[editor.name][richComboName].currentValue || richComboDefinition.label;

						return _react2.default.createElement(
							'div',
							{ className: 'ae-container-dropdown ae-has-dropdown' },
							_react2.default.createElement(
								'button',
								{
									'aria-expanded': this.props.expanded,
									'aria-label': richComboLabel,
									className: 'ae-toolbar-element',
									onClick: this.props.toggleDropdown,
									role: 'combobox',
									tabIndex: this.props.tabIndex,
									title: richComboLabel },
								_react2.default.createElement(
									'div',
									{ className: 'ae-container' },
									_react2.default.createElement(
										'span',
										{ className: 'ae-container-dropdown-selected-item' },
										richComboLabel
									),
									_react2.default.createElement(_buttonIcon2.default, { symbol: 'caret-bottom' })
								)
							),
							this.props.expanded && _react2.default.createElement(
								_buttonDropdown2.default,
								{
									onDismiss: this.props.toggleDropdown },
								this._getItems()
							)
						);
					}
				}, {
					key: '_cacheValue',
					value: function _cacheValue(value) {
						var editor = this.context.editor.get('nativeEditor');

						RICH_COMBO_DEFS[editor.name][richComboName].currentValue = value;
					}
				}, {
					key: '_getItems',
					value: function _getItems() {
						var _this2 = this;

						var richCombo = this;

						var items = this._items.map(function (item) {
							var className = 'ae-toolbar-element ' + (item.value === _this2.state.value ? 'active' : '');

							return _react2.default.createElement(
								'li',
								{ key: item.title, role: 'option' },
								_react2.default.createElement('button', {
									className: className,
									dangerouslySetInnerHTML: {
										__html: item.preview
									},
									'data-value': item.value,
									onClick: richCombo._onClick
								})
							);
						});

						return items;
					}
				}, {
					key: '_setValue',
					value: function _setValue(value) {
						this._cacheValue(value);

						this.setState({
							value: value
						});
					}
				}]);

				return RichComboBridge;
			}(_react2.default.Component), _class.contextType = _editorContext2.default, _class.displayName = richComboName, _class.key = richComboName, _temp);

			AlloyEditor.Buttons[richComboName] = RichComboBridge;
		}

		return RichComboBridge;
	};

	/* istanbul ignore else */
	if (!CKEDITOR.plugins.get('richcombo')) {
		CKEDITOR.UI_RICHCOMBO = 'richcombo';

		CKEDITOR.plugins.add('richcombo', {});
	}

	/**
  * CKEditor plugin that bridges the support offered by CKEditor RichCombo plugin. It takes over the
  * responsibility of registering and creating rich combo elements via:
  * - editor.ui.addRichCombo(name, definition)
  * - editor.ui.add(name, CKEDITOR.UI_RICHCOMBO, definition)
  *
  * @class CKEDITOR.plugins.ae_richcombobridge
  * @requires CKEDITOR.plugins.ae_uibridge
  * @constructor
  */
	CKEDITOR.plugins.add('ae_richcombobridge', {
		requires: ['ae_uibridge'],

		/**
   * Set the add handler for UI_RICHCOMBO to our own. We do this in the init phase to override
   * the one in the original plugin in case it's present
   *
   * @method init
   * @param {Object} editor The CKEditor instance being initialized
   */
		beforeInit: function beforeInit(editor) {
			editor.ui.addRichCombo = function (richComboName, richComboDefinition) {
				this.add(richComboName, CKEDITOR.UI_RICHCOMBO, richComboDefinition);
			};

			editor.ui.addHandler(CKEDITOR.UI_RICHCOMBO, {
				add: generateRichComboBridge,
				create: function create(richComboDefinition) {
					var richComboName = 'richComboBridge' + (Math.random() * 1e9 >>> 0);
					var RichComboBridge = generateRichComboBridge(richComboName, richComboDefinition);

					return new RichComboBridge();
				}
			});
		}
	});
}

/***/ }),

/***/ "./src/components/uibridge/uibridge.js":
/*!*********************************************!*\
  !*** ./src/components/uibridge/uibridge.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/* istanbul ignore if */
if (!CKEDITOR.plugins.get('ae_uibridge')) {
	/**
  * CKEditor plugin that extends CKEDITOR.ui.add function so an add handler can be specified
  * on top of the original ones. It bridges the calls to add components via:
  * - editor.ui.add(name, type, definition)
  *
  * @class CKEDITOR.plugins.ae_uibridge
  * @constructor
  */
	CKEDITOR.plugins.add('ae_uibridge', {
		/**
   * Initialization of the plugin, part of CKEditor plugin lifecycle.
   *
   * @method beforeInit
   * @param {Object} editor The current editor instance
   */
		beforeInit: function beforeInit(editor) {
			var originalUIAddFn = editor.ui.add;

			editor.ui.add = function (name, type, definition) {
				originalUIAddFn.call(this, name, type, definition);

				var typeHandler = this._.handlers[type];

				if (typeHandler && typeHandler.add) {
					typeHandler.add(name, definition, editor);
					AlloyEditor.registerBridgeButton(name, editor.__processingPlugin__.plugin.name);
				}
			};
		}
	});
}

/***/ }),

/***/ "./src/core/debounce.js":
/*!******************************!*\
  !*** ./src/core/debounce.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * Debounce util function. If a function execution is expensive, it might be debounced. This means
 * that it will be executed after some amount of time after its last call. For example, if we attach a
 * a function on scroll event, it might be called hundreds times per second. In this case it may be
 * debounced with, let's say 100ms. The real execution of this function will happen 100ms after last
 * scroll event.
 *
 * @memberof CKEDITOR.tools
 * @method debounce
 * @param {Array} args An array of arguments which the callback will receive.
 * @param {Function} callback The callback which has to be called after given timeout.
 * @param {Number} timeout Timeout in milliseconds after which the callback will be called.
 * @param {Object} context The context in which the callback will be called. This argument is optional.
 * @static
 */
function debounce(callback, timeout, context) {
  var args = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];

  var debounceHandle = void 0;

  var callFn = function callFn() {
    for (var _len = arguments.length, callArgs = Array(_len), _key = 0; _key < _len; _key++) {
      callArgs[_key] = arguments[_key];
    }

    /* eslint-disable no-invalid-this */
    var callContext = context || this;
    /* eslint-enable no-invalid-this */

    clearTimeout(debounceHandle);

    debounceHandle = setTimeout(function () {
      callback.apply(callContext, [].concat(callArgs, _toConsumableArray(args)));
    }, timeout);
  };

  callFn.detach = function () {
    clearTimeout(debounceHandle);
  };

  return callFn;
}

CKEDITOR.tools.debounce = CKEDITOR.tools.debounce || debounce;

exports.default = debounce;

/***/ }),

/***/ "./src/core/index.js":
/*!***************************!*\
  !*** ./src/core/index.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.debounce = undefined;

var _debounce = __webpack_require__(/*! ./debounce */ "./src/core/debounce.js");

var _debounce2 = _interopRequireDefault(_debounce);

__webpack_require__(/*! ./link */ "./src/core/link.js");

__webpack_require__(/*! ./plugins */ "./src/core/plugins.js");

__webpack_require__(/*! ./selection-region */ "./src/core/selection-region.js");

__webpack_require__(/*! ./table */ "./src/core/table.js");

__webpack_require__(/*! ./tools */ "./src/core/tools.js");

__webpack_require__(/*! ./uicore */ "./src/core/uicore.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.debounce = _debounce2.default; /**
                                        * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                        * SPDX-License-Identifier: LGPL-3.0-or-later
                                        */

/***/ }),

/***/ "./src/core/link.js":
/*!**************************!*\
  !*** ./src/core/link.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var REGEX_BOOKMARK_SCHEME = /^#.*/i;
var REGEX_EMAIL_SCHEME = /^[a-z0-9\u0430-\u044F._-]+@/i;
var REGEX_URI_SCHEME = /^(?:[a-z][a-z0-9+\-.]*):|^\//i;

/**
 * Link class utility. Provides methods for create, delete and update links.
 *
 * @class CKEDITOR.Link
 * @constructor
 * @param {Object} editor The CKEditor instance.
 */
function Link(editor, config) {
	this._editor = editor;
	this.appendProtocol = config && config.appendProtocol === false ? false : true;
}

Link.prototype = {
	constructor: Link,

	/**
  * Advances the editor selection to the next available position after a
  * given link or the one in the current selection.
  *
  * @instance
  * @memberof CKEDITOR.Link
  * @method advanceSelection
  * @param {CKEDITOR.dom.element} link The link element which link style should be removed.
  */
	advanceSelection: function advanceSelection(link) {
		link = link || this.getFromSelection();

		var range = this._editor.getSelection().getRanges()[0];

		if (link) {
			range.moveToElementEditEnd(link);

			var nextNode = range.getNextEditableNode();

			if (nextNode && !this._editor.element.equals(nextNode.getCommonAncestor(link))) {
				var whitespace = /\s/.exec(nextNode.getText());

				var offset = whitespace ? whitespace.index + 1 : 0;

				range.setStart(nextNode, offset);
				range.setEnd(nextNode, offset);
			}
		}

		this._editor.getSelection().selectRanges([range]);
	},


	/**
  * Create a link with given URI as href.
  *
  * @instance
  * @memberof CKEDITOR.Link
  * @method create
  * @param {Object} attrs A config object with link attributes. These might be arbitrary DOM attributes.
  * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
  * @param {String} URI The URI of the link.
  */
	create: function create(URI, attrs, modifySelection) {
		var selection = this._editor.getSelection();

		var range = selection.getRanges()[0];

		if (range.collapsed) {
			var text = new CKEDITOR.dom.text(URI, this._editor.document);
			range.insertNode(text);
			range.selectNodeContents(text);
		}

		URI = this._getCompleteURI(URI);

		var linkAttrs = CKEDITOR.tools.merge({
			'data-cke-saved-href': URI,
			href: URI
		}, attrs);

		var style = new CKEDITOR.style({
			attributes: linkAttrs,
			element: 'a'
		});

		style.type = CKEDITOR.STYLE_INLINE;
		style.applyToRange(range, this._editor);

		if (modifySelection && modifySelection.advance) {
			this.advanceSelection();
		} else {
			range.select();
		}
	},


	/**
  * Retrieves a link from the current selection.
  *
  * @instance
  * @memberof CKEDITOR.Link
  * @method getFromSelection
  * @return {CKEDITOR.dom.element} The retrieved link or null if not found.
  */
	getFromSelection: function getFromSelection() {
		var selection = this._editor.getSelection();

		var selectedElement = selection.getSelectedElement();

		if (selectedElement && selectedElement.is('a')) {
			return selectedElement;
		}

		if (selectedElement && CKEDITOR.env.ie) {
			var children = selectedElement.getChildren();

			var count = children.count();

			for (var i = 0; i < count; i++) {
				var node = children.getItem(i);

				if (node.is('a')) {
					return node;
				}
			}
		}

		var range = selection.getRanges()[0];

		if (range) {
			range.shrink(CKEDITOR.SHRINK_TEXT);

			return this._editor.elementPath(range.getCommonAncestor()).contains('a', 1);
		}

		return null;
	},


	/**
  * Removes a link from the editor.
  *
  * @instance
  * @memberof CKEDITOR.Link
  * @method remove
  * @param {CKEDITOR.dom.element} link The link element which link style should be removed.
  * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
  */
	remove: function remove(link, modifySelection) {
		var editor = this._editor;

		if (link) {
			if (modifySelection && modifySelection.advance) {
				this.advanceSelection();
			}

			link.remove(editor);
		} else {
			var style = new CKEDITOR.style({
				alwaysRemoveElement: 1,
				element: 'a',
				type: CKEDITOR.STYLE_INLINE
			});

			// 'removeStyle()' removes the style from the editor's current selection.
			//  We need to force the selection to be the whole link element
			//  to remove it properly.

			var selection = editor.getSelection();
			selection.selectElement(selection.getStartElement());

			editor.removeStyle(style);
		}
	},


	/**
  * Updates the href of an already existing link.
  *
  * @instance
  * @memberof CKEDITOR.Link
  * @method update
  * @param {CKEDITOR.dom.element} link The link element which href should be removed.
  * @param {Object|String} attrs The attributes to update or remove. Attributes with null values will be removed.
  * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
  */
	update: function update(attrs, link, modifySelection) {
		var instance = this;

		link = link || this.getFromSelection();

		if (typeof attrs === 'string') {
			var uri = instance._getCompleteURI(attrs);

			link.setAttributes({
				'data-cke-saved-href': uri,
				href: uri
			});
		} else if ((typeof attrs === 'undefined' ? 'undefined' : _typeof(attrs)) === 'object') {
			var removeAttrs = [];

			var setAttrs = {};

			Object.keys(attrs).forEach(function (key) {
				if (attrs[key] === null) {
					if (key === 'href') {
						removeAttrs.push('data-cke-saved-href');
					}

					removeAttrs.push(key);
				} else {
					if (key === 'href') {
						var _uri = instance._getCompleteURI(attrs[key]);

						setAttrs['data-cke-saved-href'] = _uri;
						setAttrs[key] = _uri;
					} else {
						setAttrs[key] = attrs[key];
					}
				}
			});

			link.removeAttributes(removeAttrs);
			link.setAttributes(setAttrs);
		}

		if (modifySelection && modifySelection.advance) {
			this.advanceSelection(link);
		}
	},


	/**
  * Checks if the URI begins with a '#' symbol to determine if it's an on page bookmark.
  * If it doesn't, it then checks if the URI has an '@' symbol. If it does and the URI
  * looks like an email and doesn't have 'mailto:', 'mailto:' is added to the URI.
  * If it doesn't and the URI doesn't have a scheme, the default 'http' scheme with
  * hierarchical path '//' is added to the URI.
  *
  * @instance
  * @memberof CKEDITOR.Link
  * @method _getCompleteURI
  * @param {String} URI The URI of the link.
  * @protected
  * @return {String} The URI updated with the protocol.
  */
	_getCompleteURI: function _getCompleteURI(URI) {
		if (REGEX_BOOKMARK_SCHEME.test(URI)) {
			return URI;
		} else if (REGEX_EMAIL_SCHEME.test(URI)) {
			URI = 'mailto:' + URI;
		} else if (!REGEX_URI_SCHEME.test(URI)) {
			URI = this.appendProtocol ? 'http://' + URI : URI;
		}

		return URI;
	}
};

CKEDITOR.Link = CKEDITOR.Link || Link;

/***/ }),

/***/ "./src/core/plugins.js":
/*!*****************************!*\
  !*** ./src/core/plugins.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

// Wraps each of the plugin lifecycle methods in a closure that will
// set up the editor.__processingPlugin__ variable so it can be globally
// accessed exposing the plugin being processed and the lifecycle phase
// in which it is happening
//
// @param {Object} plugin The plugin to wrap lifecycle methods
var wrapPluginLifecycle = function wrapPluginLifecycle(plugin) {
	var methods = ['beforeInit', 'init', 'afterInit'];

	methods.forEach(function (methodName) {
		if (plugin[methodName]) {
			plugin[methodName] = CKEDITOR.tools.override(plugin[methodName], function (originalPluginMethod) {
				var payload = {
					phase: methodName,
					plugin: plugin
				};

				return function (editor) {
					editor.__processingPlugin__ = payload;

					// eslint-disable-next-line no-invalid-this
					originalPluginMethod.call(this, editor);

					editor.__processingPlugin__ = null;
				};
			});
		}
	});
};

// Filters the requires object to remove unwanted dependencies. At this point
// only 'toolbar' has been identified, but more can appear. An unwanted plugin
// dependency is one that prevents a necessary plugin from being removed
//
// @param {string|Array<string>} requires The requires object
// @return {string} The filtered requires object
var filterUnwantedDependencies = function filterUnwantedDependencies(requires) {
	if (typeof requires === 'string') {
		requires = requires.split(',');
	}

	return requires.filter(function (require) {
		return require !== 'toolbar';
	});
};

/**
 * CKEDITOR.plugins class utility which adds additional methods to those of CKEditor.
 *
 * @class CKEDITOR.plugins
 */

/**
 * Overrides CKEDITOR.plugins.load method so we can extend the lifecycle methods of
 * the loaded plugins to add some metainformation about the plugin being processed
 *
 * @param {String/Array} names The name of the resource to load. It may be a
 * string with a single resource name, or an array with several names.
 * @param {Function} callback A function to be called when all resources
 * are loaded. The callback will receive an array containing all loaded names.
 * @param {Object} [scope] The scope object to be used for the callback call.
 * @memberof CKEDITOR.plugins
 * @method load
 * @static
 */
CKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function (pluginsLoad) {
	// Wrap original load function so we can transform the plugin input parameter
	// before passing it down to the original callback
	return function (names, callback, scope) {
		// eslint-disable-next-line no-invalid-this
		pluginsLoad.call(this, names, function (plugins) {
			if (callback) {
				Object.keys(plugins).forEach(function (pluginName) {
					var plugin = plugins[pluginName];

					if (plugin.requires) {
						plugin.requires = filterUnwantedDependencies(plugin.requires);
					}

					wrapPluginLifecycle(plugin);
				});

				callback.call(scope, plugins);
			}
		});
	};
});

/***/ }),

/***/ "./src/core/selection-region.js":
/*!**************************************!*\
  !*** ./src/core/selection-region.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

if (!CKEDITOR.plugins.get('ae_selectionregion')) {
	CKEDITOR.SELECTION_TOP_TO_BOTTOM = 0;
	CKEDITOR.SELECTION_BOTTOM_TO_TOP = 1;
	CKEDITOR.SELECTION_LEFT_TO_RIGHT = 2;
	CKEDITOR.SELECTION_RIGHT_TO_LEFT = 3;

	/**
  * SelectionRegion utility class which provides metadata about the selection. The metadata may be the start and end
  * rectangles, caret region, etc. **This class is not intended to be used standalone. Its functions will
  * be merged into each editor instance, so the developer may use them directly via the editor, without making
  * an instance of this class**.
  *
  * @class SelectionRegion
  * @constructor
  */
	function SelectionRegion() {}

	SelectionRegion.prototype = {
		constructor: SelectionRegion,

		/**
   * Creates selection from two points in page coordinates.
   *
   * @instance
   * @memberof SelectionRegion
   * @method createSelectionFromPoint
   * @param {Number} x X point in page coordinates.
   * @param {Number} y Y point in page coordinates.
   */
		createSelectionFromPoint: function createSelectionFromPoint(x, y) {
			this.createSelectionFromRange(x, y, x, y);
		},


		/**
   * Creates selection from range. A range consists from two points in page coordinates.
   *
   * @instance
   * @memberof SelectionRegion
   * @method createSelectionFromRange
   * @param {Number} startX X coordinate of the first point.
   * @param {Number} startY Y coordinate of the first point.
   * @param {Number} endX X coordinate of the second point.
   * @param {Number} endY Y coordinate of the second point.
   */
		createSelectionFromRange: function createSelectionFromRange(startX, startY, endX, endY) {
			var end = void 0;
			var endContainer = void 0;
			var endOffset = void 0;
			var range = void 0;
			var start = void 0;
			var startContainer = void 0;
			var startOffset = void 0;

			if (typeof document.caretPositionFromPoint === 'function') {
				start = document.caretPositionFromPoint(startX, startY);
				end = document.caretPositionFromPoint(endX, endY);

				startContainer = start.offsetNode;
				endContainer = end.offsetNode;

				startOffset = start.offset;
				endOffset = end.offset;

				range = this.createRange();
			} else if (typeof document.caretRangeFromPoint === 'function') {
				start = document.caretRangeFromPoint(startX, startY);
				end = document.caretRangeFromPoint(endX, endY);

				startContainer = start.startContainer;
				endContainer = end.startContainer;

				startOffset = start.startOffset;
				endOffset = end.startOffset;

				range = this.createRange();
			}

			if (range && document.getSelection) {
				range.setStart(new CKEDITOR.dom.node(startContainer), startOffset);
				range.setEnd(new CKEDITOR.dom.node(endContainer), endOffset);

				this.getSelection().selectRanges([range]);
			} else if (typeof document.body.createTextRange === 'function') {
				var selection = this.getSelection();

				selection.unlock();

				range = document.body.createTextRange();
				range.moveToPoint(startX, startY);

				var endRange = range.duplicate();
				endRange.moveToPoint(endX, endY);

				range.setEndPoint('EndToEnd', endRange);
				range.select();

				this.getSelection().lock();
			}
		},


		/**
   * Returns the region of the current position of the caret. The points are in page coordinates.
   *
   * @instance
   * @memberof SelectionRegion
   * @method getCaretRegion
   * @return {Object} Returns object with the following properties:
   * - bottom
   * - left
   * - right
   * - top
   */
		getCaretRegion: function getCaretRegion() {
			var selection = this.getSelection();

			var region = {
				bottom: 0,
				left: 0,
				right: 0,
				top: 0
			};

			var bookmarks = selection.createBookmarks();

			if (!bookmarks.length) {
				return region;
			}

			var bookmarkNodeEl = bookmarks[0].startNode.$;

			bookmarkNodeEl.style.display = 'inline-block';

			region = new CKEDITOR.dom.element(bookmarkNodeEl).getClientRect();

			bookmarkNodeEl.parentNode.removeChild(bookmarkNodeEl);

			var scrollPos = new CKEDITOR.dom.window(window).getScrollPosition();

			region.bottom = scrollPos.y + region.bottom;
			region.left = scrollPos.x + region.left;
			region.right = scrollPos.x + region.right;
			region.top = scrollPos.y + region.top;

			return region;
		},


		/**
   * Returns data for the current selection.
   *
   * @instance
   * @memberof SelectionRegion
   * @method getSelectionData
   * @return {Object|null} Returns an object with the following data:
   * - element - The currently selected element, if any
   * - text - The selected text
   * - region - The data, returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionRegion:method"}}{{/crossLink}}
   */
		getSelectionData: function getSelectionData() {
			var selection = this.getSelection();

			if (!selection.getNative()) {
				return null;
			}

			var result = {
				element: selection.getSelectedElement(),
				text: selection.getSelectedText()
			};

			result.region = this.getSelectionRegion(selection);

			return result;
		},


		/**
   * Returns the region of the current selection.
   *
   * @instance
   * @memberof SelectionRegion
   * @method getSelectionRegion
   * @return {Object} Returns object which is being returned from
   * {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getClientRectsRegion:method"}}{{/crossLink}} with three more properties:
   * - direction - the direction of the selection. Can be one of these:
   *   1. CKEDITOR.SELECTION_TOP_TO_BOTTOM
   *   2. CKEDITOR.SELECTION_BOTTOM_TO_TOP
   * - height - The height of the selection region
   * - width - The width of the selection region
   */
		getSelectionRegion: function getSelectionRegion() {
			var region = this.getClientRectsRegion();

			region.direction = this.getSelectionDirection();

			region.height = region.bottom - region.top;
			region.width = region.right - region.left;

			return region;
		},


		/**
   * Returns true if the current selection is empty, false otherwise.
   *
   * @instance
   * @memberof SelectionRegion
   * @method isSelectionEmpty
   * @return {Boolean} Returns true if the current selection is empty, false otherwise.
   */
		isSelectionEmpty: function isSelectionEmpty() {
			var selection = this.getSelection();

			if (selection.getType() === CKEDITOR.SELECTION_NONE) {
				return true;
			}

			var ranges = selection.getRanges();
			return ranges && ranges.length === 1 && ranges[0].collapsed;
		},


		/**
   * Returns object with data about the [client rectangles](https://developer.mozilla.org/en-US/docs/Web/API/Element.getClientRects) of the selection,
   * normalized across browses. All offsets below are in page coordinates.
   *
   * @instance
   * @memberof SelectionRegion
   * @method getClientRectsRegion
   * @return {Object} Returns object with the following data:
   * - bottom - bottom offset of all client rectangles
   * - left - left offset of all client rectangles
   * - right - right offset of all client rectangles
   * - top - top offset of all client rectangles
   * - startRect - An Object, which contains the following information:
   *     + bottom - bottom offset
   *     + height - the height of the rectangle
   *     + left - left offset of the selection
   *     + right - right offset of the selection
   *     + top - top offset of the selection
   *     + width - the width of the rectangle
   * - endRect - An Object, which contains the following information:
   *     + bottom - bottom offset
   *     + height - the height of the rectangle
   *     + left - left offset of the selection
   *     + right - right offset of the selection
   *     + top - top offset of the selection
   *     + width - the width of the rectangle
   *
   * If there is no native selection, the objects will be filled with 0.
   */
		getClientRectsRegion: function getClientRectsRegion() {
			var selection = this.getSelection();
			var nativeSelection = selection.getNative();

			var defaultRect = {
				bottom: 0,
				height: 0,
				left: 0,
				right: 0,
				top: 0,
				width: 0
			};

			var region = {
				bottom: 0,
				endRect: defaultRect,
				left: 0,
				right: 0,
				top: 0,
				startRect: defaultRect
			};

			if (!nativeSelection) {
				return region;
			}

			var bottom = 0;
			var clientRects = void 0;
			var left = Infinity;
			var right = -Infinity;
			var top = Infinity;

			if (nativeSelection.createRange) {
				clientRects = nativeSelection.createRange().getClientRects();
			} else {
				clientRects = nativeSelection.rangeCount > 0 ? nativeSelection.getRangeAt(0).getClientRects() : [];
			}

			if (clientRects.length === 0) {
				region = this.getCaretRegion();
			} else {
				for (var i = 0, length = clientRects.length; i < length; i++) {
					var item = clientRects[i];

					if (item.left < left) {
						left = item.left;
					}

					if (item.right > right) {
						right = item.right;
					}

					if (item.top < top) {
						top = item.top;
					}

					if (item.bottom > bottom) {
						bottom = item.bottom;
					}
				}

				var scrollPos = new CKEDITOR.dom.window(window).getScrollPosition();

				region.bottom = scrollPos.y + bottom;
				region.left = scrollPos.x + left;
				region.right = scrollPos.x + right;
				region.top = scrollPos.y + top;

				if (clientRects.length) {
					var endRect = clientRects[clientRects.length - 1];
					var startRect = clientRects[0];

					region.endRect = {
						bottom: scrollPos.y + endRect.bottom,
						height: endRect.height,
						left: scrollPos.x + endRect.left,
						right: scrollPos.x + endRect.right,
						top: scrollPos.y + endRect.top,
						width: endRect.width
					};

					region.startRect = {
						bottom: scrollPos.y + startRect.bottom,
						height: startRect.height,
						left: scrollPos.x + startRect.left,
						right: scrollPos.x + startRect.right,
						top: scrollPos.y + startRect.top,
						width: startRect.width
					};
				}
			}

			return region;
		},


		/**
   * Retrieves the direction of the selection. The direction is from top to bottom or from bottom to top.
   * For IE < 9 it is not possible, so the direction for these browsers will be always CKEDITOR.SELECTION_TOP_TO_BOTTOM.
   *
   * @instance
   * @memberof SelectionRegion
   * @method getSelectionDirection
   * @return {Number} Returns a number which represents selection direction. It might be one of these:
   * - CKEDITOR.SELECTION_TOP_TO_BOTTOM;
   * - CKEDITOR.SELECTION_BOTTOM_TO_TOP;
   */
		getSelectionDirection: function getSelectionDirection() {
			var direction = CKEDITOR.SELECTION_TOP_TO_BOTTOM;
			var selection = this.getSelection();
			var nativeSelection = selection.getNative();

			if (!nativeSelection) {
				return direction;
			}

			var anchorNode = void 0;

			if ((anchorNode = nativeSelection.anchorNode) && anchorNode.compareDocumentPosition) {
				var position = anchorNode.compareDocumentPosition(nativeSelection.focusNode);

				if (!position && nativeSelection.anchorOffset > nativeSelection.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {
					direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;
				}
			}

			return direction;
		}
	};

	CKEDITOR.plugins.add('ae_selectionregion', {
		init: function init(editor) {
			var attr = void 0;
			var hasOwnProperty = Object.prototype.hasOwnProperty;

			for (attr in SelectionRegion.prototype) {
				if (hasOwnProperty.call(SelectionRegion.prototype, attr) && typeof editor[attr] === 'undefined') {
					editor[attr] = SelectionRegion.prototype[attr];
				}
			}
		}
	});
}

/***/ }),

/***/ "./src/core/table.js":
/*!***************************!*\
  !*** ./src/core/table.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var IE_NON_DIRECTLY_EDITABLE_ELEMENT = {
	table: 1,
	col: 1,
	colgroup: 1,
	tbody: 1,
	td: 1,
	tfoot: 1,
	th: 1,
	thead: 1,
	tr: 1
};

/**
 * Table class utility. Provides methods for create, delete and update tables.
 *
 * @class CKEDITOR.Table
 * @constructor
 * @param {Object} editor The CKEditor instance.
 */

function Table(editor) {
	this._editor = editor;
}

Table.HEADING_BOTH = 'Both';
Table.HEADING_COL = 'Column';
Table.HEADING_NONE = 'None';
Table.HEADING_ROW = 'Row';

Table.prototype = {
	constructor: Table,

	/**
  * Creates a table.
  *
  * @instance
  * @memberof CKEDITOR.Table
  * @method create
  * @param {Object} config Table configuration object
  * @return {Object} The created table
  */
	create: function create(config) {
		var editor = this._editor;
		var table = this._createElement('table');

		config = config || {};

		// Generate the rows and cols.
		var tbody = table.append(this._createElement('tbody'));
		var rows = config.rows || 1;
		var cols = config.cols || 1;

		for (var i = 0; i < rows; i++) {
			var row = tbody.append(this._createElement('tr'));
			for (var j = 0; j < cols; j++) {
				var cell = row.append(this._createElement('td'));

				cell.appendBogus();
			}
		}

		this.setAttributes(table, config.attrs);
		this.setHeading(table, config.heading);

		// Insert the table element if we're creating one.
		editor.insertElement(table);

		var firstCell = new CKEDITOR.dom.element(table.$.rows[0].cells[0]);
		var range = editor.createRange();
		range.moveToPosition(firstCell, CKEDITOR.POSITION_AFTER_START);
		range.select();

		return table;
	},


	/**
  * Retrieves a table from the current selection.
  *
  * @instance
  * @memberof CKEDITOR.Table
  * @method getFromSelection
  * @return {CKEDITOR.dom.element} The retrieved table or null if not found.
  */
	getFromSelection: function getFromSelection() {
		var table = void 0;
		var selection = this._editor.getSelection();
		var selected = selection.getSelectedElement();

		if (selected && selected.is('table')) {
			table = selected;
		} else {
			var ranges = selection.getRanges();

			if (ranges.length > 0) {
				// Webkit could report the following range on cell selection (#4948):
				// <table><tr><td>[&nbsp;</td></tr></table>]

				/* istanbul ignore else */
				if (CKEDITOR.env.webkit) {
					ranges[0].shrink(CKEDITOR.NODE_ELEMENT);
				}

				table = this._editor.elementPath(ranges[0].getCommonAncestor(true)).contains('table', 1);
			}
		}

		return table;
	},


	/**
  * Checks if a given table can be considered as editable. This method
  * workarounds a limitation of IE where for some elements (like table),
  * `isContentEditable` returns always false. This is because IE does not support
  * `contenteditable` on such elements. However, despite such elements
  * cannot be set as content editable directly, a content editable SPAN,
  * or DIV element can be placed inside the individual table cells.
  * See https://msdn.microsoft.com/en-us/library/ms537837%28v=VS.85%29.aspx
  *
  * @instance
  * @memberof CKEDITOR.Table
  * @method isEditable
  * @param {CKEDITOR.dom.element} el The table element to test if editable
  * @return {Boolean}
  */
	isEditable: function isEditable(el) {
		if (!CKEDITOR.env.ie || !el.is(IE_NON_DIRECTLY_EDITABLE_ELEMENT)) {
			return !el.isReadOnly();
		}

		if (el.hasAttribute('contenteditable')) {
			return el.getAttribute('contenteditable') !== 'false';
		}

		return this.isEditable(el.getParent());
	},


	/**
  * Returns which heading style is set for the given table.
  *
  * @instance
  * @memberof CKEDITOR.Table
  * @method getHeading
  * @param {CKEDITOR.dom.element} table The table to gather the heading from. If null, it will be retrieved from the current selection.
  * @return {String} The heading of the table. Expected values are `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.
  */
	getHeading: function getHeading(table) {
		table = table || this.getFromSelection();

		if (!table) {
			return null;
		}

		var rowHeadingSettings = table.$.tHead !== null;

		var colHeadingSettings = true;

		// Check if all of the first cells in every row are TH
		for (var row = 0; row < table.$.rows.length; row++) {
			// If just one cell isn't a TH then it isn't a header column
			var cell = table.$.rows[row].cells[0];

			if (cell && cell.nodeName.toLowerCase() !== 'th') {
				colHeadingSettings = false;
				break;
			}
		}

		var headingSettings = Table.HEADING_NONE;

		if (rowHeadingSettings) {
			headingSettings = Table.HEADING_ROW;
		}

		if (colHeadingSettings) {
			headingSettings = headingSettings === Table.HEADING_ROW ? Table.HEADING_BOTH : Table.HEADING_COL;
		}

		return headingSettings;
	},


	/**
  * Removes a table from the editor.
  *
  * @instance
  * @memberof CKEDITOR.Table
  * @method remove
  * @param {CKEDITOR.dom.element} table The table element which table style should be removed.
  */
	remove: function remove(table) {
		var editor = this._editor;

		if (table) {
			table.remove();
		} else {
			table = editor.elementPath().contains('table', 1);

			if (table) {
				// If the table's parent has only one child remove it as well (unless it's a table cell, or the editable element) (#5416, #6289, #12110)
				var parent = table.getParent();
				var editable = editor.editable();

				if (parent.getChildCount() === 1 && !parent.is('td', 'th') && !parent.equals(editable)) {
					table = parent;
				}

				var range = editor.createRange();
				range.moveToPosition(table, CKEDITOR.POSITION_BEFORE_START);
				table.remove();
			}
		}
	},


	/**
  * Assigns provided attributes to a table.
  *
  * @instance
  * @memberof CKEDITOR.Table
  * @method setAttributes
  * @param {Object} table The table to which the attributes should be assigned
  * @param {Object} attrs The attributes which have to be assigned to the table
  */
	setAttributes: function setAttributes(table, attrs) {
		if (attrs) {
			Object.keys(attrs).forEach(function (attr) {
				table.setAttribute(attr, attrs[attr]);
			});
		}
	},


	/**
  * Sets the appropriate table heading style to a table.
  *
  * @instance
  * @memberof CKEDITOR.Table
  * @method setHeading
  * @param {CKEDITOR.dom.element} table The table element to which the heading should be set. If null, it will be retrieved from the current selection.
  * @param {String} heading The table heading to be set. Accepted values are: `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.
  */
	setHeading: function setHeading(table, heading) {
		table = table || this.getFromSelection();

		var i = void 0;
		var newCell = void 0;
		var tableHead = void 0;
		var tableBody = table.getElementsByTag('tbody').getItem(0);

		var tableHeading = this.getHeading(table);
		var hadColHeading = tableHeading === Table.HEADING_COL || tableHeading === Table.HEADING_BOTH;

		var needColHeading = heading === Table.HEADING_COL || heading === Table.HEADING_BOTH;
		var needRowHeading = heading === Table.HEADING_ROW || heading === Table.HEADING_BOTH;

		// If we need row heading and don't have a <thead> element yet, move the
		// first row of the table to the head and convert the nodes to <th> ones.
		if (!table.$.tHead && needRowHeading) {
			var tableFirstRow = tableBody.getElementsByTag('tr').getItem(0);
			var tableFirstRowChildCount = tableFirstRow.getChildCount();

			// Change TD to TH:
			for (i = 0; i < tableFirstRowChildCount; i++) {
				var cell = tableFirstRow.getChild(i);

				// Skip bookmark nodes. (#6155)
				if (cell.type === CKEDITOR.NODE_ELEMENT && !cell.data('cke-bookmark')) {
					cell.renameNode('th');
					cell.setAttribute('scope', 'col');
				}
			}

			tableHead = this._createElement(table.$.createTHead());
			tableHead.append(tableFirstRow.remove());
		}

		// If we don't need row heading and we have a <thead> element, move the
		// row out of there and into the <tbody> element.
		if (table.$.tHead !== null && !needRowHeading) {
			// Move the row out of the THead and put it in the TBody:
			tableHead = this._createElement(table.$.tHead);

			var previousFirstRow = tableBody.getFirst();

			while (tableHead.getChildCount() > 0) {
				var newFirstRow = tableHead.getFirst();
				var newFirstRowChildCount = newFirstRow.getChildCount();

				for (i = 0; i < newFirstRowChildCount; i++) {
					newCell = newFirstRow.getChild(i);

					if (newCell.type === CKEDITOR.NODE_ELEMENT) {
						newCell.renameNode('td');
						newCell.removeAttribute('scope');
					}
				}

				newFirstRow.insertBefore(previousFirstRow);
			}

			tableHead.remove();
		}

		tableHeading = this.getHeading(table);
		var hasColHeading = tableHeading === Table.HEADING_COL || tableHeading === Table.HEADING_BOTH;

		// If we need column heading and the table doesn't have it, convert every first cell in
		// every row into a `<th scope="row">` element.
		if (!hasColHeading && needColHeading) {
			for (i = 0; i < table.$.rows.length; i++) {
				if (table.$.rows[i].cells[0].nodeName.toLowerCase() !== 'th') {
					newCell = new CKEDITOR.dom.element(table.$.rows[i].cells[0]);
					newCell.renameNode('th');
					newCell.setAttribute('scope', 'row');
				}
			}
		}

		// If we don't need column heading but the table has it, convert every first cell in every
		// row back into a `<td>` element.
		if (hadColHeading && !needColHeading) {
			for (i = 0; i < table.$.rows.length; i++) {
				var row = new CKEDITOR.dom.element(table.$.rows[i]);

				if (row.getParent().getName() === 'tbody') {
					newCell = new CKEDITOR.dom.element(row.$.cells[0]);
					newCell.renameNode('td');
					newCell.removeAttribute('scope');
				}
			}
		}
	},


	/**
  * Creates a new CKEDITOR.dom.element using the passed tag name.
  *
  * @instance
  * @memberof CKEDITOR.Table
  * @protected
  * @method _createElement
  * @param {String} name The tag name from which an element should be created
  * @return {CKEDITOR.dom.element} Instance of CKEDITOR DOM element class
  */
	_createElement: function _createElement(name) {
		return new CKEDITOR.dom.element(name, this._editor.document);
	}
};

CKEDITOR.on('instanceReady', function (event) {
	var headingCommands = [Table.HEADING_NONE, Table.HEADING_ROW, Table.HEADING_COL, Table.HEADING_BOTH];

	var tableUtils = new Table(event.editor);

	headingCommands.forEach(function (heading) {
		event.editor.addCommand('tableHeading' + heading, {
			exec: function exec(_editor) {
				tableUtils.setHeading(null, heading);
			}
		});
	});
});

CKEDITOR.Table = CKEDITOR.Table || Table;

/***/ }),

/***/ "./src/core/tools.js":
/*!***************************!*\
  !*** ./src/core/tools.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * CKEDITOR.tools class utility which adds additional methods to those of CKEditor.
 *
 * @class CKEDITOR.tools
 */

/**
 * Sends a request using the JSONP technique.
 *
 * @memberof CKEDITOR.tools
 * @method jsonp
 * @param {CKEDITOR.template} urlTemplate The template of the URL to be requested. All properties passed in `urlParams` can be used, plus a `{callback}`, which represent a JSONP callback, must be defined.
 * @param {Function} callback A function to be called in case of success.
 * @param {Function} errorCallback A function to be called in case of failure.
 * @param {Object} urlParams Parameters to be passed to the `urlTemplate`.
 * @return {Object} An object with the following properties:
 *  - id: the transaction ID
 *  - a `cancel()` method
 * @static
 */
CKEDITOR.tools.jsonp = function (urlTemplate, urlParams, callback, errorCallback) {
	var callbackKey = CKEDITOR.tools.getNextNumber();

	urlParams = urlParams || {};
	urlParams.callback = 'CKEDITOR._.jsonpCallbacks[' + callbackKey + ']';

	if (!CKEDITOR._.jsonpCallbacks) {
		CKEDITOR._.jsonpCallbacks = {};
	}

	CKEDITOR._.jsonpCallbacks[callbackKey] = function (response) {
		setTimeout(function () {
			cleanUp();

			callback(response);
		});
	};

	var scriptElement = new CKEDITOR.dom.element('script');
	scriptElement.setAttribute('src', urlTemplate.output(urlParams));
	scriptElement.on('error', function () {
		cleanUp();

		if (errorCallback) {
			errorCallback();
		}
	});

	function cleanUp() {
		if (scriptElement) {
			scriptElement.remove();
			delete CKEDITOR._.jsonpCallbacks[callbackKey];
			scriptElement = null;
		}
	}

	CKEDITOR.document.getBody().append(scriptElement);

	return {
		cancel: cleanUp,
		id: callbackKey
	};
};

/**
 * Returns a new object containing all of the properties of all the supplied
 * objects. The properties from later objects will overwrite those in earlier
 * objects.
 *
 * Passing in a single object will create a shallow copy of it.
 *
 * @memberof CKEDITOR.tools
 * @method merge
 * @param {Object} objects* One or more objects to merge.
 * @return {Object} A new merged object.
 * @static
 */
CKEDITOR.tools.merge = CKEDITOR.tools.merge || function () {
	var result = {};

	for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
		args[_key] = arguments[_key];
	}

	for (var i = 0; i < args.length; ++i) {
		var obj = args[i];

		for (var key in obj) {
			if (Object.prototype.hasOwnProperty.call(obj, key)) {
				result[key] = obj[key];
			}
		}
	}

	return result;
};

/**
 * Simulates event on a DOM element.
 *
 * @memberof CKEDITOR.tools
 * @method simulate
 * @param {DOMElement} element The element on which the event shoud be simualted.
 * @param {String} event The name of the event which have to be simulated.
 * @static
 */
CKEDITOR.tools.simulate = function (element, event) {
	var eventInstance = document.createEvent('Events');
	eventInstance.initEvent(event, true, false);
	element.dispatchEvent(eventInstance);
};

/***/ }),

/***/ "./src/core/uicore.js":
/*!****************************!*\
  !*** ./src/core/uicore.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

if (!CKEDITOR.plugins.get('ae_uicore')) {
	/**
  * UICore class which will handle user interactions with the editor. These interactions
  * might be triggered via mouse, keyboard or touch devices. The class fill fire an event via
  * CKEditor's event system - "editorInteraction". The UI may listen to this event and
  * execute some actions - for example to show/hide toolbars.
  *
  * By default if user presses the Esc key, 'editorInteraction' event won't be fired. However, this behaviour can be changed
  * by setting {{#crossLink "CKEDITOR.plugins.ae_uicore/allowEsc:attribute"}}{{/crossLink}} config property in editor's configuration to true.
  *
  * @class ae_uicore
  */

	/**
  * Fired when user interacts somehow with the browser. This may be clicking with the mouse, pressing keyboard button,
  * or touching screen. This even will be not fired after each interaction. It will be debounced. By default the timeout
  * is 50ms. This value can be overwritten via {{#crossLink "CKEDITOR.plugins.ae_uicore/timeout:attribute"}}{{/crossLink}}
  * property of editor's configuration, like: editor.config.uicore.timeout = 100
  *
  * @memberof ae_uicore
  * @event ae_uicore#editorInteraction
  * @param {Object} data An object which contains the following properties:
  * - nativeEvent - The event as received from CKEditor.
  * - selectionData - The data, returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
  */

	/**
  * Fired by UI elements like Toolbars or Buttons when their state changes. The listener updates the live region with the provided data.
  *
  * @memberof ae_uicore
  * @event ae_uicore#ariaUpdate
  * @param {Object} data An object which contains the following properties:
  * - message - The provided message from the UI element.
  */

	/**
  * If set to true, the editor will still fire {{#crossLink "CKEDITOR.plugins.ae_uicore/editorInteraction:event"}}{{/crossLink}} event,
  * if user presses Esc key.
  *
  * @memberof ae_uicore
  * @attribute allowEsc
  * @default false
  * @type Boolean
  */

	/**
  * Specifies the default timeout after which the {{#crossLink "CKEDITOR.plugins.ae_uicore/editorInteraction:event"}}{{/crossLink}} event
  * will be fired.
  *
  * @memberof ae_uicore
  * @attribute timeout
  * @default 50 (ms)
  * @type Number
  */

	CKEDITOR.plugins.add('ae_uicore', {
		/**
   * Initializer lifecycle implementation for the UICore plugin.
   *
   * @memberof ae_uicore
   * @method init
   * @param {Object} editor The current CKEditor instance.
   * @protected
   */
		init: function init(editor) {
			var ariaState = [];

			var ariaElement = this._createAriaElement(editor.id);

			var uiTasksTimeout = editor.config.uicore ? editor.config.uicore.timeout : 50;

			var handleUI = CKEDITOR.tools.debounce(function (event) {
				ariaState = [];

				if (event.name !== 'keyup' || event.data.$.keyCode !== 27 || editor.config.allowEsc) {
					var selectionData = editor.getSelectionData();

					if (selectionData) {
						editor.fire('editorInteraction', {
							nativeEvent: event.data.$,
							selectionData: selectionData
						});
					}
				}
			}, uiTasksTimeout);

			var handleAria = CKEDITOR.tools.debounce(function (_event) {
				ariaElement.innerHTML = ariaState.join('. ');
			}, uiTasksTimeout);

			var handleMouseLeave = CKEDITOR.tools.debounce(function (event) {
				var aeUINodes = document.querySelectorAll('.ae-ui');

				var found = void 0;

				for (var i = 0; i < aeUINodes.length; i++) {
					if (aeUINodes[i].contains(event.data.$.relatedTarget)) {
						found = true;
						break;
					}
				}

				if (!found) {
					handleUI(event);
				}
			}, uiTasksTimeout);

			editor.on('ariaUpdate', function (event) {
				// handleAria is debounced function, so if it is being called multiple times, it will
				// be canceled until some time passes.
				// For that reason here we explicitly append the current message to the list of messages
				// and call handleAria. Since it is debounced, when some timeout passes,
				// all the messages will be applied to the live region and not only the last one.

				ariaState.push(event.data.message);

				handleAria();
			});

			editor.once('contentDom', function () {
				var editable = editor.editable();

				var focusHandler = editable.attachListener(editable, 'focus', function (event) {
					focusHandler.removeListener();

					editable.attachListener(editable, 'keyup', handleUI);
					editable.attachListener(editable, 'mouseup', handleUI);
					editable.attachListener(editable, 'mouseleave', handleMouseLeave);

					handleUI(event);
				});
			});

			editor.on('destroy', function (_event) {
				ariaElement.parentNode.removeChild(ariaElement);

				handleUI.detach();
			});
		},


		/**
   * Creates and applies an HTML element to the body of the document which will contain ARIA messages.
   *
   * @memberof ae_uicore
   * @method _createAriaElement
   * @param {String} id The provided id of the element. It will be used as prefix for the final element Id.
   * @protected
   * @return {HTMLElement} The created and applied to DOM element.
   */
		_createAriaElement: function _createAriaElement(id) {
			var statusElement = document.createElement('div');

			statusElement.className = 'ae-sr-only';

			statusElement.setAttribute('aria-live', 'polite');
			statusElement.setAttribute('role', 'status');
			statusElement.setAttribute('id', id + 'LiveRegion');

			document.body.appendChild(statusElement);

			return statusElement;
		}
	});
}

/***/ }),

/***/ "./src/oop/attribute.js":
/*!******************************!*\
  !*** ./src/oop/attribute.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _lang = __webpack_require__(/*! ./lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /**
                                                                                                                                                                                                     * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                     * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                     */

/**
 * Attribute implementation.
 *
 * @class Attribute
 * @constructor
 */
function Attribute(config) {
	this.__config__ = config || {};
	this.__ATTRS__ = {};
}

Attribute.prototype = {
	constructor: Attribute,

	/**
  * Retrieves the value of an attribute.
  *
  * @instance
  * @memberof Attribute
  * @method get
  * @param {String} attr The attribute which value should be retrieved.
  * @return {Any} The value of the attribute.
  */
	get: function get(attr) {
		var currentAttr = this.constructor.ATTRS[attr];

		if (!currentAttr) {
			return;
		}

		if (!this._isInitialized(attr)) {
			this._init(attr);
		}

		var curValue = this.__ATTRS__[attr];

		if (currentAttr.getter) {
			curValue = this._callStringOrFunction(currentAttr.getter, curValue);
		}

		return curValue;
	},


	/**
  * Sets the value of an attribute.
  *
  * @instance
  * @memberof Attribute
  * @method set
  * @param {String} attr The attribute which value should be set.
  * @param {Any} value The value which should be set to the attribute.
  */
	set: function set(attr, value) {
		var currentAttr = this.constructor.ATTRS[attr];

		if (!currentAttr) {
			return;
		}

		if (!this._isInitialized(attr)) {
			this._init(attr);
		}

		if (currentAttr.readOnly) {
			return;
		}

		if (currentAttr.writeOnce && this._isInitialized(attr)) {
			return;
		}

		if (currentAttr.validator && !this._callStringOrFunction(currentAttr.validator, value)) {
			return;
		}

		if (currentAttr.setter) {
			value = this._callStringOrFunction(currentAttr.setter, value);
		}

		this.__ATTRS__[attr] = value;
	},


	/**
  * Calls the provided param as function with the supplied arguments.
  * If param provided as string, a corresponding function in this object will
  * be called. If provided param is a function, it will be directly called.
  *
  * @instance
  * @memberof Attribute
  * @method _callStringOrFunction
  * @param  {Any|Array} args The arguments which will be provided to the called function
  * @param  {String|Function} stringOrFunction The function which should be called
  * @protected
  * @return {Any} The returned value from the called function
  */
	_callStringOrFunction: function _callStringOrFunction(stringOrFunction, args) {
		var result = null;

		if (!_lang2.default.isArray(args)) {
			args = [args];
		}

		if (_lang2.default.isString(stringOrFunction) && _lang2.default.isFunction(this[stringOrFunction])) {
			result = this[stringOrFunction].apply(this, _toConsumableArray(args));
		} else if (_lang2.default.isFunction(stringOrFunction)) {
			result = stringOrFunction.apply(this, args);
		}

		return result;
	},


	/**
  * Initializes an attribute. Sets its default value depending on the flags of the
  * attribute and the passed configuration object to the constructor.
  *
  * @instance
  * @memberof Attribute
  * @method _init
  * @param {String} attr The name of the attribute which have to be initialized.
  * @protected
  */
	_init: function _init(attr) {
		var value = void 0;

		var currentAttr = this.constructor.ATTRS[attr];

		// Check if there is default value or passed one via configuration object
		var hasDefaultValue = Object.prototype.hasOwnProperty.call(currentAttr, 'value');
		var hasPassedValueViaConfig = Object.prototype.hasOwnProperty.call(this.__config__, attr);

		// If there is valueFn, set the value to be the result of invocation of this function
		if (currentAttr.valueFn) {
			value = this._callStringOrFunction(currentAttr.valueFn, value);

			this.__ATTRS__[attr] = value;
		}
		// else if the attribute has readOnly flag, set the default value from the attribute,
		// regardless if there is value or not
		else if (currentAttr.readOnly) {
				value = currentAttr.value;
			}
			// else if the attribute has writeOnce value, set it from the passed configuration or from the
			// default value, in this order. Otherwise, return miserable.
			else if (currentAttr.writeOnce) {
					if (hasPassedValueViaConfig) {
						value = this.__config__[attr];
					} else if (hasDefaultValue) {
						value = currentAttr.value;
					} else {
						return;
					}
				}
				// These two cases below are easy - set the value to be from the passed config or
				// from the default value, in this order.
				else if (hasPassedValueViaConfig) {
						value = this.__config__[attr];
					} else if (hasDefaultValue) {
						value = currentAttr.value;
					}

		// If there is validator, and user passed config object - check the returned value.
		// If it is false, then set as initial value the default one.
		// However, if there is no default value, just return.
		if (currentAttr.validator && hasPassedValueViaConfig && !this._callStringOrFunction(currentAttr.validator, value)) {
			if (hasDefaultValue) {
				value = currentAttr.value;
			} else {
				return;
			}
		}

		// If there is setter and user passed config object - pass the value thought the setter.
		// The value might be one from defaultFn, default value or provided from the config.
		if (currentAttr.setter && hasPassedValueViaConfig) {
			value = this._callStringOrFunction(currentAttr.setter, value);
		}

		// Finally, set the value as initial value to the storage with values.
		this.__ATTRS__[attr] = value;
	},


	/**
  * Checks if an attribute is initialized. An attribute is considered as initialized
  * when there is an own property with this name in the local collection of attribute values
  * for the current instance.
  *
  * @instance
  * @memberof Attribute
  * @method _isInitialized
  * @param {String} attr The attribute which should be checked if it is initialized.
  * @protected
  * @return {Boolean} Returns true if the attribute has been initialized, false otherwise.
  */
	_isInitialized: function _isInitialized(attr) {
		return Object.prototype.hasOwnProperty.call(this.__ATTRS__, attr);
	}
};

exports.default = Attribute;

/***/ }),

/***/ "./src/oop/base.js":
/*!*************************!*\
  !*** ./src/oop/base.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _attribute = __webpack_require__(/*! ./attribute */ "./src/oop/attribute.js");

var _attribute2 = _interopRequireDefault(_attribute);

var _lang = __webpack_require__(/*! ./lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _oop = __webpack_require__(/*! ./oop */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Quick and dirty impl of Base class.
 *
 * @class Base
 * @constructor
 */
function Base(config) {
	Base.superclass.constructor.call(this, config);

	this.init(config);
} /**
   * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
   * SPDX-License-Identifier: LGPL-3.0-or-later
   */

(0, _oop2.default)(Base, _attribute2.default, {
	/**
  * Calls the `initializer` method of each class which extends Base starting from the parent to the child.
  * Will pass the configuration object to each initializer method.
  *
  * @instance
  * @memberof Base
  * @method init
  * @param {Object} config Configuration object
  */
	init: function init(config) {
		this._callChain('initializer', config);
	},


	/**
  * Calls the `destructor` method of each class which extends Base starting from the parent to the child.
  *
  * @instance
  * @memberof Base
  * @method destroy
  */
	destroy: function destroy() {
		this._callChain('destructor');
	},


	/**
  * Calls a method of each class, which is being present in the hierarchy starting from parent to the child.
  *
  * @instance
  * @memberof Base
  * @method _callChain
  * @param {Object|Array} args The arguments with which the method should be invoked
  * @param {String} wat  The method, which should be invoked
  * @protected
  */
	_callChain: function _callChain(wat, args) {
		var arr = [];

		var ctor = this.constructor;

		while (ctor) {
			if (_lang2.default.isFunction(ctor.prototype[wat])) {
				arr.push(ctor.prototype[wat]);
			}

			ctor = ctor.superclass ? ctor.superclass.constructor : null;
		}

		arr = arr.reverse();

		args = _lang2.default.isArray(args) ? args : [args];

		for (var i = 0; i < arr.length; i++) {
			var item = arr[i];

			item.apply(this, args);
		}
	}
});

exports.default = Base;

/***/ }),

/***/ "./src/oop/lang.js":
/*!*************************!*\
  !*** ./src/oop/lang.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * Provides core language utilities.
 *
 * @class Lang
 */
var Lang = {
	/**
  * Check if the passed value is an array.
  *
  * @memberof Lang
  * @method isArray
  * @param {Any} value The value which have to be checked.
  * @return {Boolean} True if the passed value is an array, false otherwise.
  * @static
  */
	isArray: function isArray(value) {
		return Object.prototype.toString.call(value) === '[object Array]';
	},


	/**
  * Check if the passed value is boolean.
  *
  * @memberof Lang
  * @method isBoolean
  * @param {Any} value The value which have to be checked.
  * @return {Boolean} True if the passed value is boolean, false otherwise.
  * @static
  */
	isBoolean: function isBoolean(value) {
		return typeof value === 'boolean';
	},


	/**
  * Check if the passed value is a function.
  *
  * @memberof Lang
  * @method isFunction
  * @param {Any} value The value which have to be checked.
  * @return {Boolean} True if the passed value is a function, false otherwise.
  * @static
  */
	isFunction: function isFunction(value) {
		return typeof value === 'function';
	},


	/**
  * Check if the passed value is NULL.
  *
  * @memberof Lang
  * @method isNull
  * @param {Any} value The value which have to be checked.
  * @return {Boolean} True if the passed value is NULL, false otherwise.
  * @static
  */
	isNull: function isNull(value) {
		return value === null;
	},


	/**
  * Check if the passed value is number.
  *
  * @memberof Lang
  * @method isNumber
  * @param {Any} value The value which have to be checked.
  * @return {Boolean} True if the passed value is number, false otherwise.
  * @static
  */
	isNumber: function isNumber(value) {
		return typeof value === 'number' && isFinite(value);
	},


	/**
  * Check if the passed value is an object
  *
  * @memberof Lang
  * @method isObject
  * @param {Any} value The value which have to be checked.
  * @return {Boolean} True if the passed value is an object, false otherwise.
  * @static
  */
	isObject: function isObject(value) {
		var valueType = typeof value === 'undefined' ? 'undefined' : _typeof(value);

		return value && (valueType === 'object' || Lang.isFunction(value));
	},


	/**
  * Check if the passed value is a string.
  *
  * @memberof Lang
  * @method isString
  * @param {Any} value The value which have to be checked.
  * @return {Boolean} True if the passed value is a string, false otherwise.
  * @static
  */
	isString: function isString(value) {
		return typeof value === 'string';
	},


	/**
  * Adds all properties from the supplier to the receiver.
  * The function will add all properties, not only these owned by the supplier.
  *
  * @memberof Lang
  * @method mix
  * @param {Object} receiver The object which will receive properties.
  * @param {Object} supplier The object which provides properties.
  * @return {Object} The modified receiver.
  * @static
  */
	mix: function mix(receiver, supplier) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;

		for (var key in supplier) {
			if (hasOwnProperty.call(supplier, key)) {
				receiver[key] = supplier[key];
			}
		}
	},


	/**
  * Converts value to Integer.
  *
  * @memberof Lang
  * @method toInt
  * @param {Any} value The value which have to be converted to Integer.
  * @return {Integer} The converted value.
  * @static
  */
	toInt: function toInt(value) {
		return parseInt(value, 10);
	}
};

exports.default = Lang;

/***/ }),

/***/ "./src/oop/oop.js":
/*!************************!*\
  !*** ./src/oop/oop.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _lang = __webpack_require__(/*! ./lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Sets the prototype, constructor and superclass properties to support an inheritance strategy
 * that can chain constructors and methods. Static members will not be inherited.
 *
 * @memberof OOP
 * @method extend
 * @param {Function} receiver The class which will extend another class.
 * @param {Function} supplier The class which will provide the properties the child class.
 * @param {Object} protoProps Prototype properties to add/override.
 * @param {Object} staticProps Static properties to add/overwrite.
 * @return {Function} The extended class.
 * @static
 */
var extend = function extend(receiver, supplier, protoProps, staticProps) {
	if (!supplier || !receiver) {
		throw new Error('extend failed, verify dependencies');
	}

	var supplierProto = supplier.prototype;

	var receiverProto = Object.create(supplierProto);
	receiver.prototype = receiverProto;

	receiverProto.constructor = receiver;
	receiver.superclass = supplierProto;

	// assign constructor property
	if (supplier !== Object && supplierProto.constructor === Object.prototype.constructor) {
		supplierProto.constructor = supplier;
	}

	// add prototype overrides
	if (protoProps) {
		_lang2.default.mix(receiverProto, protoProps);
	}

	// add object overrides
	if (staticProps) {
		_lang2.default.mix(receiver, staticProps);
	}

	return receiver;
}; /**
    * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
    * SPDX-License-Identifier: LGPL-3.0-or-later
    */

exports.default = extend;

/***/ }),

/***/ "./src/plugins/DragEvent.es.js":
/*!*************************************!*\
  !*** ./src/plugins/DragEvent.es.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var DragEvent = function () {
	function DragEvent(window, document) {
		_classCallCheck(this, DragEvent);

		this.document = document;
		this.window = window;

		this.events = {
			keydown: this.keydown.bind(this),
			mousemove: this.mousemove.bind(this),
			mouseup: this.mouseup.bind(this)
		};
	}

	_createClass(DragEvent, [{
		key: 'start',
		value: function start(event) {
			event.preventDefault();
			event.stopPropagation();

			this.target = event.target;

			this.className = this.target.className;

			this.startPos = {
				x: event.clientX,
				y: event.clientY
			};

			this.update(event);

			this.document.addEventListener('keydown', this.events.keydown, false);
			this.document.addEventListener('mousemove', this.events.mousemove, false);
			this.document.addEventListener('mouseup', this.events.mouseup, false);

			this.document.body.classList.add('dragging-' + this.className);

			if (typeof this.onStart === 'function') {
				this.onStart();
			}
		}
	}, {
		key: 'update',
		value: function update(event) {
			this.currentPos = {
				x: event.clientX,
				y: event.clientY
			};

			this.delta = {
				x: event.clientX - this.startPos.x,
				y: event.clientY - this.startPos.y
			};

			this.keys = {
				alt: event.altKey,
				ctrl: event.ctrlKey,
				shift: event.shiftKey
			};
		}
	}, {
		key: 'mousemove',
		value: function mousemove(event) {
			this.update(event);

			if (typeof this.onDrag === 'function') {
				this.onDrag();
			}

			if (event.which === 0) {
				this.mouseup(event);
			}
		}
	}, {
		key: 'keydown',
		value: function keydown(event) {
			if (event.keyCode === 27) {
				this.release();
			}
		}
	}, {
		key: 'mouseup',
		value: function mouseup(event) {
			this.update(event);

			this.release();

			if (typeof this.onComplete === 'function') {
				this.onComplete();
			}
		}
	}, {
		key: 'release',
		value: function release() {
			this.document.body.classList.remove('dragging-' + this.className);

			this.document.removeEventListener('keydown', this.events.keydown, false);
			this.document.removeEventListener('mousemove', this.events.mousemove, false);
			this.document.removeEventListener('mouseup', this.events.mouseup, false);

			if (typeof this.onRelease === 'function') {
				this.onRelease();
			}
		}
	}]);

	return DragEvent;
}();

exports.DragEvent = DragEvent;
exports.default = DragEvent;

/***/ }),

/***/ "./src/plugins/Resizer.es.js":
/*!***********************************!*\
  !*** ./src/plugins/Resizer.es.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.Resizer = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _DragEvent = __webpack_require__(/*! ./DragEvent.es */ "./src/plugins/DragEvent.es.js");

var _DragEvent2 = _interopRequireDefault(_DragEvent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var IMAGE_HANDLES = ['tl', 'tr', 'bl', 'br'];

var POSITION_ELEMENT_FN = {
	bl: function bl(handle, left, top, box) {
		positionElement(handle, -3 + left, box.height - 4 + top);
	},
	br: function br(handle, left, top, box) {
		positionElement(handle, box.width - 4 + left, box.height - 4 + top);
	},
	rm: function rm(handle, left, top, box) {
		positionElement(handle, box.width - 4 + left, Math.round(box.height / 2) - 3 + top);
	},
	tl: function tl(handle, left, top, _box) {
		positionElement(handle, left - 3, top - 3);
	},
	tr: function tr(handle, left, top, box) {
		positionElement(handle, box.width - 4 + left, -3 + top);
	}
};

var positionElement = function positionElement(el, left, top) {
	el.style.left = left + 'px';
	el.style.top = top + 'px';
};

var getBoundingBox = function getBoundingBox(window, el) {
	var rect = el.getBoundingClientRect();

	return {
		height: rect.height,
		left: rect.left + window.pageXOffset,
		top: rect.top + window.pageYOffset,
		width: rect.width
	};
};

var Resizer = function () {
	function Resizer(editor) {
		var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

		_classCallCheck(this, Resizer);

		this.cfg = cfg;
		this.editor = editor;

		this.document = editor.document ? editor.document.$ : document;
		this.window = editor.window ? editor.window.$ : window;

		this.box = null;
		this.container = null;
		this.handles = {};
		this.preview = null;
		this.previewBox = null;
		this.result = null;

		this.init();
	}

	_createClass(Resizer, [{
		key: 'init',
		value: function init() {
			var _this = this;

			this.container = this.document.createElement('div');
			this.container.id = 'ckimgrsz';

			this.preview = this.document.createElement('span');

			this.container.appendChild(this.preview);

			this.handles = {};

			IMAGE_HANDLES.forEach(function (handleName) {
				_this.handles[handleName] = _this.createHandle(handleName);
			});

			var keys = Object.keys(this.handles);

			for (var i = 0; i < keys.length; i++) {
				this.container.appendChild(this.handles[keys[i]]);
			}
		}
	}, {
		key: 'createHandle',
		value: function createHandle(name) {
			var el = this.document.createElement('i');

			el.classList.add(name);

			return el;
		}
	}, {
		key: 'isHandle',
		value: function isHandle(el) {
			var keys = Object.keys(this.handles);

			var result = false;

			for (var i = 0; i < keys.length; i++) {
				if (this.handles[keys[i]] === el) {
					result = true;
				}
			}

			return result;
		}
	}, {
		key: 'show',
		value: function show(el) {
			var uiNode = this.editor.config.uiNode || document.body;

			this.el = el;

			this.box = getBoundingBox(this.window, this.el);

			positionElement(this.container, this.box.left, this.box.top + uiNode.scrollTop);

			uiNode.appendChild(this.container);

			this.el.classList.add('ckimgrsz');

			this.showHandles();
		}
	}, {
		key: 'hide',
		value: function hide() {
			var elements = this.document.getElementsByClassName('ckimgrsz');

			for (var i = 0; i < elements.length; i++) {
				elements[i].classList.remove('ckimgrsz');
			}

			this.hideHandles();

			if (this.container.parentNode) {
				this.container.parentNode.removeChild(this.container);
			}
		}
	}, {
		key: 'initDrag',
		value: function initDrag(event) {
			var _this2 = this;

			if (event.button !== 0) {
				return;
			}

			var drag = new _DragEvent2.default(this.window, this.document);

			drag.onStart = function () {
				_this2.showPreview();

				_this2.isDragging = true;

				_this2.editor.getSelection().lock();
			};

			drag.onDrag = function () {
				_this2.calculateSize(drag);

				var editorBounds = _this2.editor.element.$.getBoundingClientRect();

				if (_this2.previewBox.width >= editorBounds.width) {
					return;
				}

				_this2.updatePreview();

				var box = _this2.previewBox;

				_this2.updateHandles(box, box.left, box.top);
			};

			drag.onRelease = function () {
				_this2.hidePreview();

				_this2.isDragging = false;

				_this2.hide();

				_this2.editor.getSelection().unlock();

				_this2.editor.fire('saveSnapshot');
			};

			drag.onComplete = function () {
				_this2.resizeComplete();

				_this2.editor.fire('saveSnapshot');
			};

			drag.start(event);
		}
	}, {
		key: 'updateHandles',
		value: function updateHandles(box) {
			var left = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
			var top = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;

			var keys = Object.keys(this.handles);

			for (var i = 0; i < keys.length; i++) {
				POSITION_ELEMENT_FN[keys[i]](this.handles[keys[i]], left, top, box);
			}
		}
	}, {
		key: 'showHandles',
		value: function showHandles() {
			this.updateHandles(this.box);

			var keys = Object.keys(this.handles);

			for (var i = 0; i < keys.length; i++) {
				this.handles[keys[i]].style.display = 'block';
			}
		}
	}, {
		key: 'hideHandles',
		value: function hideHandles() {
			var keys = Object.keys(this.handles);

			for (var i = 0; i < keys.length; i++) {
				this.handles[keys[i]].style.display = 'none';
			}
		}
	}, {
		key: 'showPreview',
		value: function showPreview() {
			this.calculateSize();

			this.updatePreview();

			this.preview.style.display = 'block';
		}
	}, {
		key: 'updatePreview',
		value: function updatePreview() {
			positionElement(this.preview, this.previewBox.left, this.previewBox.top);

			this.preview.style.height = this.previewBox.height + 'px';
			this.preview.style.width = this.previewBox.width + 'px';
		}
	}, {
		key: 'hidePreview',
		value: function hidePreview() {
			var box = getBoundingBox(this.window, this.preview);

			this.result = {
				height: box.height,
				width: box.width
			};

			this.preview.style.display = 'none';
		}
	}, {
		key: 'calculateSize',
		value: function calculateSize(data) {
			this.previewBox = {
				height: this.box.height,
				left: 0,
				top: 0,
				width: this.box.width
			};

			if (!data) {
				return;
			}

			var className = data.target.className;

			if (className.indexOf('r') >= 0) {
				this.previewBox.width = Math.max(32, this.box.width + data.delta.x);
			}

			if (className.indexOf('b') >= 0) {
				this.previewBox.height = Math.max(32, this.box.height + data.delta.y);
			}

			if (className.indexOf('l') >= 0) {
				this.previewBox.width = Math.max(32, this.box.width - data.delta.x);
			}

			if (className.indexOf('t') >= 0) {
				this.previewBox.height = Math.max(32, this.box.height - data.delta.y);
			}

			if (className.indexOf('m') < 0 && !data.keys.shift) {
				var ratio = this.box.width / this.box.height;

				if (this.previewBox.width / this.previewBox.height > ratio) {
					this.previewBox.height = Math.round(this.previewBox.width / ratio);
				} else {
					this.previewBox.width = Math.round(this.previewBox.height * ratio);
				}
			}

			if (className.indexOf('l') >= 0) {
				this.previewBox.left = this.box.width - this.previewBox.width;
			}

			if (className.indexOf('t') >= 0) {
				this.previewBox.top = this.box.height - this.previewBox.height;
			}
		}
	}, {
		key: 'resizeComplete',
		value: function resizeComplete() {
			this.cfg.onComplete(this.el, this.result.width, this.result.height);
		}
	}]);

	return Resizer;
}();

exports.Resizer = Resizer;
exports.default = Resizer;

/***/ }),

/***/ "./src/plugins/addimages.js":
/*!**********************************!*\
  !*** ./src/plugins/addimages.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var isIE = CKEDITOR.env.ie;

if (!CKEDITOR.plugins.get('ae_addimages')) {
	/**
  * CKEditor plugin which allows Drag&Drop of images directly into the editable area. The image will be encoded
  * as Data URI. An event `beforeImageAdd` will be fired with the list of dropped images. If any of the listeners
  * returns `false` or cancels the event, the images won't be added to the content. Otherwise,
  * an event `imageAdd` will be fired with the inserted element into the editable area.
  *
  * @class CKEDITOR.plugins.ae_addimages
  */

	/**
  * Fired before adding images to the editor.
  *
  * @event CKEDITOR.plugins.ae_addimages#beforeImageAdd
  * @instance
  * @memberof CKEDITOR.plugins.ae_addimages
  * @param {Array} imageFiles Array of image files
  */

	/**
  * Fired when an image is being added to the editor successfully.
  *
  * @event CKEDITOR.plugins.ae_addimages#imageAdd
  * @instance
  * @memberof CKEDITOR.plugins.ae_addimages
  * @param {CKEDITOR.dom.element} el The created image with src as Data URI
  * @param {File} file The image file
  */

	CKEDITOR.plugins.add('ae_addimages', {
		/**
   * Initialization of the plugin, part of CKEditor plugin lifecycle.
   * The function registers a 'dragenter', 'dragover', 'drop' and `paste` events on the editing area.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_addimages
   * @method init
   * @param {Object} editor The current editor instance
   */
		init: function init(editor) {
			var _this = this;

			editor.once('contentDom', function () {
				var editable = editor.editable();

				editable.attachListener(editable, 'dragenter', _this._onDragEnter, _this, {
					editor: editor
				});

				editable.attachListener(editable, 'dragover', _this._onDragOver, _this, {
					editor: editor
				});

				editable.attachListener(editable, 'drop', _this._onDragDrop, _this, {
					editor: editor
				});

				editable.attachListener(editable, 'paste', _this._onPaste, _this, {
					editor: editor
				});
			});
		},


		/**
   * Accepts an array of dropped files to the editor. Then, it filters the images and sends them for further
   * processing to {{#crossLink "CKEDITOR.plugins.ae_addimages/_processFile:method"}}{{/crossLink}}
   *
   * @fires CKEDITOR.plugins.ae_addimages#beforeImageAdd
   * @instance
   * @memberof CKEDITOR.plugins.ae_addimages
   * @method _handleFiles
   * @param {Array} files Array of dropped files. Only the images from this list will be processed.
   * @param {Object} editor The current editor instance
   * @protected
   */
		_handleFiles: function _handleFiles(files, editor) {
			var file = void 0;
			var i = void 0;

			var imageFiles = [];

			for (i = 0; i < files.length; i++) {
				file = files[i];

				if (file.type.indexOf('image') === 0) {
					imageFiles.push(file);
				}
			}

			var result = editor.fire('beforeImageAdd', {
				imageFiles: imageFiles
			});

			if (result) {
				for (i = 0; i < imageFiles.length; i++) {
					file = imageFiles[i];

					this._processFile(file, editor);
				}
			}

			return false;
		},


		/**
   * Handles drag drop event. The function will create a selection from the current
   * point and will send a list of files to be processed to
   * {{#crossLink "CKEDITOR.plugins.ae_addimages/_handleFiles:method"}}{{/crossLink}} method.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_addimages
   * @method _onDragDrop
   * @param {CKEDITOR.dom.event} event dragdrop event, as received natively from CKEditor
   * @protected
   */
		_onDragDrop: function _onDragDrop(event) {
			var nativeEvent = event.data.$;

			var transferFiles = nativeEvent.dataTransfer.files;

			if (transferFiles.length > 0) {
				new CKEDITOR.dom.event(nativeEvent).preventDefault();

				var editor = event.listenerData.editor;

				event.listenerData.editor.createSelectionFromPoint(nativeEvent.clientX, nativeEvent.clientY);

				this._handleFiles(transferFiles, editor);
			}
		},


		/**
   * Handles drag enter event. In case of IE, this function will prevent the event.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_addimages
   * @method _onDragEnter
   * @param {DOM event} event dragenter event, as received natively from CKEditor
   * @protected
   */
		_onDragEnter: function _onDragEnter(event) {
			if (isIE) {
				this._preventEvent(event);
			}
		},


		/**
   * Handles drag over event. In case of IE, this function will prevent the event.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_addimages
   * @method _onDragOver
   * @param {DOM event} event dragover event, as received natively from CKEditor
   * @protected
   */
		_onDragOver: function _onDragOver(event) {
			if (isIE) {
				this._preventEvent(event);
			}
		},


		/**
   * Checks if the pasted data is image and passes it to
   * {{#crossLink "CKEDITOR.plugins.ae_addimages/_processFile:method"}}{{/crossLink}} for processing.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_addimages
   * @method _onPaste
   * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor
   * @protected
   */
		_onPaste: function _onPaste(event) {
			if (event.data && event.data.$ && event.data.$.clipboardData && event.data.$.clipboardData.items && event.data.$.clipboardData.items.length > 0) {
				var pastedData = event.data.$.clipboardData.items[0];

				if (pastedData.type.indexOf('image') === 0) {
					var imageFile = pastedData.getAsFile();

					this._processFile(imageFile, event.listenerData.editor);
				}
			}
		},


		/**
   * Prevents a native event.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_addimages
   * @method _preventEvent
   * @param {DOM event} event The event to be prevented.
   * @protected
   */
		_preventEvent: function _preventEvent(event) {
			event = new CKEDITOR.dom.event(event.data.$);

			event.preventDefault();
			event.stopPropagation();
		},


		/**
   * Processes an image file. The function creates an img element and sets as source
   * a Data URI, then fires an 'imageAdd' event via CKEditor's event system.
   *
   * @fires CKEDITOR.plugins.ae_addimages#imageAdd
   * @instance
   * @memberof CKEDITOR.plugins.ae_addimages
   * @method _preventEvent
   * @param {DOM event} event The event to be prevented.
   * @protected
   */
		_processFile: function _processFile(file, editor) {
			var reader = new FileReader();

			reader.addEventListener('loadend', function () {
				var bin = reader.result;

				var el = CKEDITOR.dom.element.createFromHtml('<img src="' + bin + '">');

				editor.insertElement(el);

				var imageData = {
					el: el,
					file: file
				};

				editor.fire('imageAdd', imageData);
			});

			reader.readAsDataURL(file);
		}
	});
}

/***/ }),

/***/ "./src/plugins/autolink.js":
/*!*********************************!*\
  !*** ./src/plugins/autolink.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

if (!CKEDITOR.plugins.get('ae_autolink')) {
	// Disables the auto URL detection feature in IE, their lacks functionality:
	// They convert the links only on space. We do on space, comma, semicolon and Enter.
	if (/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)) {
		document.execCommand('AutoUrlDetect', false, false);
	}

	var KEY_BACK = 8;

	var KEY_COMMA = 188;

	var KEY_ENTER = 13;

	var KEY_SEMICOLON = 186;

	var KEY_SPACE = 32;

	var DELIMITERS = [KEY_COMMA, KEY_ENTER, KEY_SEMICOLON, KEY_SPACE];

	var REGEX_LAST_WORD = /[^\s]+/gim;

	// Seen at https://stackoverflow.com/a/5717133/2103996
	var REGEX_URL = '^(https?:\\/\\/)?' + // protocol
	'((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|' + // domain name
	'((\\d{1,3}\\.){3}\\d{1,3}))' + // OR ip (v4) address
	'(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' + // port and path
	'(\\?[;&a-z\\d%_.~+=-]*)?' + // query string
	'(\\#[-a-z\\d_]*)?$';

	var REGEX_EMAIL = /[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/i;

	/**
  * CKEditor plugin which automatically generates links when user types text which looks like URL.
  *
  * @class CKEDITOR.plugins.ae_autolink
  * @constructor
  */
	CKEDITOR.plugins.add('ae_autolink', {
		/**
   * Initialization of the plugin, part of CKEditor plugin lifecycle.
   * The function registers the `keyup` event on the editing area.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method init
   * @param {Object} editor The current editor instance
   */
		init: function init(editor) {
			var _this = this;

			editor.once('contentDom', function () {
				var editable = editor.editable();

				editable.attachListener(editable, 'keyup', _this._onKeyUp, _this, {
					editor: editor
				});
			});

			editor.on('paste', function (event) {
				if (event.data.method === 'paste') {
					if (event.data.dataValue.indexOf('<') > -1 || event.data.dataValue.indexOf('&lt;') > -1) {
						if (event.data.dataValue.indexOf('<u><font color="') > -1) {
							event.data.dataValue = event.data.dataValue.replace(/<u><font color="#(.*?)">|<\/font><\/u>/g, '');
						}
						return;
					}

					var instance = _this;

					event.data.dataValue = event.data.dataValue.replace(RegExp(REGEX_URL, 'gim'), function (url) {
						if (instance._isValidURL(url)) {
							if (instance._isValidEmail(url)) {
								return '<a href="mailto:' + url + '">' + url + '</a>';
							} else {
								return '<a href="' + url + '">' + url + '</a>';
							}
						}
					});
				}
			});
		},


		/**
   * Retrieves the last word introduced by the user. Reads from the current
   * caret position backwards until it finds the first white space.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method _getLastWord
   * @protected
   * @return {String} The last word introduced by user
   */
		_getLastWord: function _getLastWord(editor) {
			var range = editor.getSelection().getRanges()[0];

			if (!range) {
				return;
			}

			var offset = range.startOffset;

			var previousText = '';

			// The user pressed Enter, so we have to look on the previous node
			if (this._currentKeyCode === KEY_ENTER) {
				var previousNode = range.startContainer.getPrevious();

				var lastChild = void 0;

				if (previousNode) {
					// If previous node is a SPACE, (it does not have 'getLast' method),
					// ignore it and find the previous text node
					while (!previousNode.getLast) {
						previousNode = previousNode.getPrevious();
					}

					lastChild = previousNode.getLast();

					// Depending on the browser, the last child node may be a <BR>
					// (which does not have 'getText' method),
					// so ignore it and find the previous text node
					while (lastChild && !lastChild.getText()) {
						lastChild = lastChild.getPrevious();
					}
				}

				// Check if the lastChild is already a link
				if (!(lastChild && lastChild.$.href)) {
					this._startContainer = lastChild;
					previousText = lastChild ? lastChild.getText() : '';
					this._offset = previousText.length;
				}
			} else {
				this._startContainer = range.startContainer;

				// Last character is the delimiter, ignore it
				previousText = this._startContainer.getText().substring(0, offset - 1);

				this._offset = offset - 1;
			}

			var lastWord = '';

			var match = previousText.match(REGEX_LAST_WORD);

			if (match) {
				lastWord = match.pop();
			}

			return lastWord;
		},


		/**
   * Checks if the given link is a valid Email.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method isValidEmail
   * @param {String} link The email we want to know if it is a valid Email
   * @protected
   * @return {Boolean} Returns true if the email is a valid Email, false otherwise
   */
		_isValidEmail: function _isValidEmail(email) {
			return REGEX_EMAIL.test(email);
		},


		/**
   * Checks if the given link is a valid URL.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method isValidURL
   * @param {String} link The link we want to know if it is a valid URL
   * @protected
   * @return {Boolean} Returns true if the link is a valid URL, false otherwise
   */
		_isValidURL: function _isValidURL(link) {
			return RegExp(REGEX_URL, 'i').test(link);
		},


		/**
   * Listens to the `keydown` event and if the keycode is `Backspace`, removes the previously
   * created link.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method _onKeyDown
   * @param {EventFacade} event EventFacade object
   * @protected
   */
		_onKeyDown: function _onKeyDown(event) {
			var nativeEvent = event.data.$;

			var editor = event.listenerData.editor;

			var editable = editor.editable();

			editable.removeListener('keydown', this._onKeyDown);

			if (nativeEvent.keyCode === KEY_BACK) {
				event.cancel();
				event.data.preventDefault();

				this._removeLink(editor);
			}

			this._ckLink = null;
		},


		/**
   * Listens to the `Enter` and `Space` key events in order to check if the last word
   * introduced by the user should be replaced by a link element.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method _onKeyUp
   * @param {EventFacade} event EventFacade object
   * @protected
   */
		_onKeyUp: function _onKeyUp(event) {
			var nativeEvent = event.data.$;

			this._currentKeyCode = nativeEvent.keyCode;

			if (DELIMITERS.indexOf(this._currentKeyCode) !== -1) {
				var editor = event.listenerData.editor;

				var lastWord = this._getLastWord(editor);

				if (this._isValidURL(lastWord)) {
					this._replaceContentByLink(editor, lastWord);
				}
			}
		},


		/**
   * Replaces content by a link element.
   *
   * @fires CKEDITOR.plugins.ae_autolink#autolinkAdd
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method _replaceContentByLink
   * @param {String} content The text that has to be replaced by an link element
   * @protected
   */
		_replaceContentByLink: function _replaceContentByLink(editor, content) {
			var range = editor.createRange();
			var node = CKEDITOR.dom.element.get(this._startContainer);
			var offset = this._offset;

			// Select the content, so CKEDITOR.Link can properly replace it
			range.setStart(node, offset - content.length);
			range.setEnd(node, offset);
			range.select();

			var ckLink = new CKEDITOR.Link(editor);
			ckLink.create(content);
			this._ckLink = ckLink;

			var linkNode = ckLink.getFromSelection();
			editor.fire('autolinkAdd', linkNode);

			this._subscribeToKeyEvent(editor);

			// Now range is on the link and it is selected. We have to
			// return focus to the caret position.
			range = editor.getSelection().getRanges()[0];

			// If user pressed `Enter`, get the next editable node at position 0,
			// otherwise set the cursor at the next character of the link (the white space)
			if (this._currentKeyCode === KEY_ENTER) {
				var nextEditableNode = range.getNextEditableNode();

				range.setStart(nextEditableNode, 0);
				range.setEnd(nextEditableNode, 0);
			} else {
				var enclosedNode = range.getEnclosedNode();

				range.setStart(enclosedNode, 0);
				range.setEnd(enclosedNode, 0);
			}

			range.select();
		},


		/**
   * Fired when a URL is detected in text and converted to a link.
   *
   * @event CKEDITOR.plugins.ae_autolink#autolinkAdd
   * @memberof CKEDITOR.plugins.ae_autolink
   * @param {CKEDITOR.dom.element} el Node of the created link.
   */

		/**
   * Removes the created link element, and replaces it by its text.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method _removeLink
   * @protected
   */
		_removeLink: function _removeLink(editor) {
			var range = editor.getSelection().getRanges()[0];
			var caretOffset = range.startOffset;

			// Select the link, so CKEDITOR.Link can properly remove it
			var linkNode = this._startContainer.getNext() || this._startContainer;

			var newRange = editor.createRange();
			newRange.setStart(linkNode, 0);
			newRange.setEndAfter(linkNode);
			newRange.select();

			this._ckLink.remove();

			// Return focus to the caret position
			range.setEnd(range.startContainer, caretOffset);
			range.setStart(range.startContainer, caretOffset);

			range.select();
		},


		/**
   * Subscribe to a key event of the editable aria.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolink
   * @method _subscribeToKeyEvent
   * @protected
   */
		_subscribeToKeyEvent: function _subscribeToKeyEvent(editor) {
			var editable = editor.editable();

			// Change the priority of keydown listener - 1 means the highest priority.
			// In Chrome on pressing `Enter` the listener is not being invoked.
			// See http://dev.ckeditor.com/ticket/11861 for more information.
			editable.attachListener(editable, 'keydown', this._onKeyDown, this, {
				editor: editor
			}, 1);
		}
	});
}

/***/ }),

/***/ "./src/plugins/autolist.js":
/*!*********************************!*\
  !*** ./src/plugins/autolist.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

if (!CKEDITOR.plugins.get('ae_autolist')) {
	var KEY_BACK = 8;

	var KEY_SPACE = 32;

	var DEFAULT_CONFIG = [{
		regex: /^\*$/,
		type: 'bulletedlist'
	}, {
		regex: /^1\.$/,
		type: 'numberedlist'
	}];

	/**
  * CKEditor plugin which automatically generates ordered/unordered list when user types text which looks like a list.
  *
  * @class CKEDITOR.plugins.ae_autolist
  * @constructor
  */
	CKEDITOR.plugins.add('ae_autolist', {
		/**
   * Initialization of the plugin, part of CKeditor plugin lifecycle.
   * The function registers the `keydown` event on the content editing area.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolist
   * @method init
   * @param {Object} editor The current editor instance
   */
		init: function init(editor) {
			var _this = this;

			editor.once('contentDom', function () {
				var editable = editor.editable();

				editable.attachListener(editable, 'keydown', _this._onKeyDown, _this, {
					editor: editor
				});
			});
		},


		/**
   * Checks for pressing the `Backspace` key in order to undo the list creation.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolist
   * @method _checkForBackspaceAndUndo
   * @param {Event} event Event object
   * @protected
   */
		_checkForBackspaceAndUndo: function _checkForBackspaceAndUndo(event) {
			var editor = event.listenerData.editor;

			var nativeEvent = event.data.$;

			var editable = editor.editable();

			editable.removeListener('keydown', this._checkForBackspaceAndUndo);

			if (nativeEvent.keyCode === KEY_BACK) {
				editor.execCommand('undo');
				editor.insertHtml(event.listenerData.bullet + '&nbsp;');
				event.data.preventDefault();
			}
		},


		/**
   * Checks current line to find match with MATCHES object to create OL or UL.
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolist
   * @method _checkLine
   * @param {editor} Editor object
   * @protected
   * @return {Object|null} Returns an object which contains the detected list config if any
   */
		_getListConfig: function _getListConfig(editor) {
			var configRegex = editor.config.autolist || DEFAULT_CONFIG;

			var range = editor.getSelection().getRanges()[0];

			var textContainer = range.endContainer.getText();

			var bullet = textContainer.substring(0, range.startOffset);

			var text = textContainer.substring(range.startOffset, textContainer.length);

			var index = 0;

			var regexLen = configRegex.length;

			var autolistCfg = null;

			while (!autolistCfg && regexLen > index) {
				var regexItem = configRegex[index];

				if (regexItem.regex.test(bullet)) {
					autolistCfg = {
						bullet: bullet,
						editor: editor,
						text: text,
						type: regexItem.type
					};

					break;
				}

				index++;
			}

			return autolistCfg;
		},


		/**
   * Create list with different types: Bulleted or Numbered list
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolist
   * @method _createList
   * @param {Object} listConfig Object that contains bullet, text and type for creating the list
   * @protected
   */
		_createList: function _createList(listConfig) {
			var editor = listConfig.editor;

			var range = editor.getSelection().getRanges()[0];

			range.endContainer.setText(listConfig.text);
			editor.execCommand(listConfig.type);

			var editable = editor.editable();

			// Subscribe to keydown in order to check if the next key press is `Backspace`.
			// If so, the creation of the list will be discarded.
			editable.attachListener(editable, 'keydown', this._checkForBackspaceAndUndo, this, {
				editor: editor,
				bullet: listConfig.bullet
			}, 1);
		},


		/**
   * Listens to the `Space` key events to check if the last word
   * introduced by the user should be replaced by a list (OL or UL)
   *
   * @instance
   * @memberof CKEDITOR.plugins.ae_autolist
   * @method _onKeyDown
   * @param {Event} event Event object
   * @protected
   */
		_onKeyDown: function _onKeyDown(event) {
			var nativeEvent = event.data.$;

			if (nativeEvent.keyCode === KEY_SPACE) {
				var listConfig = this._getListConfig(event.listenerData.editor);

				if (listConfig) {
					event.data.preventDefault();
					this._createList(listConfig);
				}
			}
		}
	});
}

/***/ }),

/***/ "./src/plugins/dragresize.js":
/*!***********************************!*\
  !*** ./src/plugins/dragresize.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * CKEditor plugin: Dragable image resizing
 * https://github.com/sstur/ck-dragresize
 * - Shows semi-transparent overlay while resizing
 * - Enforces Aspect Ratio (unless holding shift)
 * - Snap to size of other images in editor
 * - Escape while dragging cancels resize
 */
if (!CKEDITOR.plugins.get('ae_dragresize')) {
	var IMAGE_HANDLES = {
		both: ['tl', 'tm', 'tr', 'lm', 'rm', 'bl', 'bm', 'br'],
		height: ['tl', 'tm', 'tr', 'bl', 'bm', 'br'],
		scale: ['tl', 'tr', 'bl', 'br'],
		width: ['tl', 'tr', 'lm', 'rm', 'bl', 'br']
	};

	var POSITION_ELEMENT_FN = {
		bl: function bl(handle, left, top, box) {
			positionElement(handle, -3 + left, box.height - 4 + top);
		},
		bm: function bm(handle, left, top, box) {
			positionElement(handle, Math.round(box.width / 2) - 3 + left, box.height - 4 + top);
		},
		br: function br(handle, left, top, box) {
			positionElement(handle, box.width - 4 + left, box.height - 4 + top);
		},
		lm: function lm(handle, left, top, box) {
			positionElement(handle, -3 + left, Math.round(box.height / 2) - 3 + top);
		},
		tl: function tl(handle, left, top, _box) {
			positionElement(handle, left - 3, top - 3);
		},
		tm: function tm(handle, left, top, box) {
			positionElement(handle, Math.round(box.width / 2) - 3 + left, -3 + top);
		},
		tr: function tr(handle, left, top, box) {
			positionElement(handle, box.width - 4 + left, -3 + top);
		},
		rm: function rm(handle, left, top, box) {
			positionElement(handle, box.width - 4 + left, Math.round(box.height / 2) - 3 + top);
		}
	};

	var IMAGE_SNAP_TO_SIZE = 7;

	var isFirefox = 'MozAppearance' in document.documentElement.style;

	var isWebKit = 'WebkitAppearance' in document.documentElement.style;

	var enablePlugin = isWebKit || isFirefox;

	if (enablePlugin) {
		// CSS is added in a compressed form
		CKEDITOR.addCss('img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}');
	}

	/**
  * Initializes the plugin
  */
	CKEDITOR.plugins.add('ae_dragresize', {
		onLoad: function onLoad() {
			if (!enablePlugin) {
				return;
			}
		},
		init: function init(editor) {
			if (!enablePlugin) {
				return;
			}

			editor.once('contentDom', function (_evt) {
				_init(editor);
			});
		}
	});

	function _init(editor) {
		var window = editor.window.$;

		var document = editor.document.$;

		if (isFirefox) {
			// Disable the native image resizing
			document.execCommand('enableObjectResizing', false, false);
		}

		var snapToSize = typeof IMAGE_SNAP_TO_SIZE === 'undefined' ? null : IMAGE_SNAP_TO_SIZE;

		editor.config.imageScaleResize = editor.config.imageScaleResize || 'both';

		var resizer = new Resizer(editor, {
			imageScaleResize: editor.config.imageScaleResize,
			snapToSize: snapToSize
		});

		var mouseDownListener = function mouseDownListener(e) {
			if (resizer.isHandle(e.target)) {
				resizer.initDrag(e);
			}
		};

		document.addEventListener('mousedown', mouseDownListener, false);

		function selectionChange() {
			var selection = editor.getSelection();

			if (!selection) return;
			// If an element is selected and that element is an IMG
			if (selection.getType() !== CKEDITOR.SELECTION_NONE && selection.getStartElement().is('img')) {
				// And we're not right or middle clicking on the image
				if (!window.event || !window.event.button || window.event.button === 0) {
					resizer.show(selection.getStartElement().$);
				}
			} else {
				resizer.hide();
			}
		}

		editor.on('selectionChange', selectionChange);

		editor.on('getData', function (e) {
			var html = e.data.dataValue || '';
			html = html.replace(/<div id="ckimgrsz"([\s\S]*?)<\/div>/i, '');
			html = html.replace(/\b(ckimgrsz)\b/g, '');
			e.data.dataValue = html;
		});

		editor.on('beforeUndoImage', function () {
			// Remove the handles before undo images are saved
			resizer.hide();
		});

		editor.on('afterUndoImage', function () {
			// Restore the handles after undo images are saved
			selectionChange();
		});

		editor.on('blur', function () {
			// Remove the handles when editor loses focus
			resizer.hide();
		});

		editor.on('beforeModeUnload', function self() {
			editor.removeListener('beforeModeUnload', self);
			resizer.hide();
		});

		editor.on('destroy', function () {
			var resizeElement = document.getElementById('ckimgrsz');

			if (resizeElement) {
				resizeElement.remove();
			}

			if (isFirefox) {
				document.execCommand('enableObjectResizing', false, true);
			}

			document.removeEventListener('mousedown', mouseDownListener);
		});

		// Update the selection when the browser window is resized
		var resizeTimeout = void 0;
		editor.window.on('resize', function () {
			// Cancel any resize waiting to happen
			clearTimeout(resizeTimeout);
			// Delay resize to "debounce"
			resizeTimeout = setTimeout(selectionChange, 50);
		});
	}

	function Resizer(editor, cfg) {
		this.editor = editor;
		this.window = editor.window.$;
		this.document = editor.document.$;
		this.cfg = cfg || {};
		this.init();
	}

	Resizer.prototype = {
		init: function init() {
			var instance = this;

			var container = this.container = this.document.createElement('div');

			container.id = 'ckimgrsz';
			this.preview = this.document.createElement('span');
			container.appendChild(this.preview);

			var handles = this.handles = {};

			IMAGE_HANDLES[this.cfg.imageScaleResize].forEach(function (handleName) {
				handles[handleName] = instance.handles[handleName] = instance.createHandle(handleName);
			});

			for (var n in handles) {
				if (Object.prototype.hasOwnProperty.call(handles, n)) {
					container.appendChild(handles[n]);
				}
			}
		},
		createHandle: function createHandle(name) {
			var el = this.document.createElement('i');
			el.classList.add(name);
			return el;
		},
		isHandle: function isHandle(el) {
			var handles = this.handles;
			for (var n in handles) {
				if (handles[n] === el) {
					return true;
				}
			}
			return false;
		},
		show: function show(el) {
			var uiNode = this.editor.config.uiNode;

			var scrollTop = uiNode ? uiNode.scrollTop : 0;

			this.el = el;
			if (this.cfg.snapToSize) {
				this.otherImages = toArray(this.document.getElementsByTagName('img'));
				this.otherImages.splice(this.otherImages.indexOf(el), 1);
			}
			var box = this.box = getBoundingBox(this.window, el);
			positionElement(this.container, box.left, box.top + scrollTop);

			uiNode = uiNode || document.body;

			uiNode.appendChild(this.container);

			this.el.classList.add('ckimgrsz');
			this.showHandles();
		},
		hide: function hide() {
			// Remove class from all img.ckimgrsz
			var elements = this.document.getElementsByClassName('ckimgrsz');
			for (var i = 0; i < elements.length; ++i) {
				elements[i].classList.remove('ckimgrsz');
			}
			this.hideHandles();
			if (this.container.parentNode) {
				this.container.parentNode.removeChild(this.container);
			}
		},
		initDrag: function initDrag(e) {
			if (e.button !== 0) {
				// right-click or middle-click
				return;
			}
			var resizer = this;
			var drag = new DragEvent(this.window, this.document);
			drag.onStart = function () {
				resizer.showPreview();
				resizer.isDragging = true;
				resizer.editor.getSelection().lock();
			};
			drag.onDrag = function () {
				resizer.calculateSize(this);
				resizer.updatePreview();
				var box = resizer.previewBox;
				resizer.updateHandles(box, box.left, box.top);
			};
			drag.onRelease = function () {
				resizer.isDragging = false;
				resizer.hidePreview();
				resizer.hide();
				resizer.editor.getSelection().unlock();
				// Save an undo snapshot before the image is permanently changed
				resizer.editor.fire('saveSnapshot');
			};
			drag.onComplete = function () {
				resizer.resizeComplete();
				// Save another snapshot after the image is changed
				resizer.editor.fire('saveSnapshot');
			};
			drag.start(e);
		},
		updateHandles: function updateHandles(box, left, top) {
			left = left || 0;
			top = top || 0;
			var handles = this.handles;

			for (var handle in handles) {
				if (Object.prototype.hasOwnProperty.call(handles, handle)) {
					POSITION_ELEMENT_FN[handle](handles[handle], left, top, box);
				}
			}
		},
		showHandles: function showHandles() {
			var handles = this.handles;
			this.updateHandles(this.box);
			for (var n in handles) {
				if (Object.prototype.hasOwnProperty.call(handles, n)) {
					handles[n].style.display = 'block';
				}
			}
		},
		hideHandles: function hideHandles() {
			var handles = this.handles;
			for (var n in handles) {
				if (Object.prototype.hasOwnProperty.call(handles, n)) {
					handles[n].style.display = 'none';
				}
			}
		},
		showPreview: function showPreview() {
			this.preview.style.backgroundImage = 'url("' + this.el.src + '")';
			this.calculateSize();
			this.updatePreview();
			this.preview.style.display = 'block';
		},
		updatePreview: function updatePreview() {
			var box = this.previewBox;
			positionElement(this.preview, box.left, box.top);
			this.preview.style.width = this.previewBox.width + 'px';
			this.preview.style.height = this.previewBox.height + 'px';
		},
		hidePreview: function hidePreview() {
			var box = getBoundingBox(this.window, this.preview);
			this.result = {
				width: box.width,
				height: box.height
			};
			this.preview.style.display = 'none';
		},
		calculateSize: function calculateSize(data) {
			var box = this.previewBox = {
				top: 0,
				left: 0,
				width: this.box.width,
				height: this.box.height
			};

			if (!data) return;

			var attr = data.target.className;

			if (~attr.indexOf('r')) {
				box.width = Math.max(32, this.box.width + data.delta.x);
			}
			if (~attr.indexOf('b')) {
				box.height = Math.max(32, this.box.height + data.delta.y);
			}
			if (~attr.indexOf('l')) {
				box.width = Math.max(32, this.box.width - data.delta.x);
			}
			if (~attr.indexOf('t')) {
				box.height = Math.max(32, this.box.height - data.delta.y);
			}
			// if dragging corner, enforce aspect ratio (unless shift key is being held)
			if (attr.indexOf('m') < 0 && !data.keys.shift) {
				var ratio = this.box.width / this.box.height;
				if (box.width / box.height > ratio) {
					box.height = Math.round(box.width / ratio);
				} else {
					box.width = Math.round(box.height * ratio);
				}
			}

			var snapToSize = this.cfg.snapToSize;

			if (snapToSize) {
				var others = this.otherImages;
				for (var i = 0; i < others.length; i++) {
					var other = getBoundingBox(this.window, others[i]);
					if (Math.abs(box.width - other.width) <= snapToSize && Math.abs(box.height - other.height) <= snapToSize) {
						box.width = other.width;
						box.height = other.height;
						break;
					}
				}
			}

			// recalculate left or top position
			if (~attr.indexOf('l')) {
				box.left = this.box.width - box.width;
			}
			if (~attr.indexOf('t')) {
				box.top = this.box.height - box.height;
			}
		},
		resizeComplete: function resizeComplete() {
			resizeElement.call(this, this.el, this.result.width, this.result.height);
		}
	};

	function DragEvent(window, document) {
		this.window = window;
		this.document = document;
		this.events = {
			mousemove: bind(this.mousemove, this),
			keydown: bind(this.keydown, this),
			mouseup: bind(this.mouseup, this)
		};
	}

	DragEvent.prototype = {
		start: function start(e) {
			e.preventDefault();
			e.stopPropagation();
			this.target = e.target;
			this.attr = e.target.className;
			this.startPos = {
				x: e.clientX,
				y: e.clientY
			};
			this.update(e);
			var events = this.events;
			this.document.addEventListener('mousemove', events.mousemove, false);
			this.document.addEventListener('keydown', events.keydown, false);
			this.document.addEventListener('mouseup', events.mouseup, false);
			this.document.body.classList.add('dragging-' + this.attr);
			if (this.onStart) {
				this.onStart();
			}
		},
		update: function update(e) {
			this.currentPos = {
				x: e.clientX,
				y: e.clientY
			};
			this.delta = {
				x: e.clientX - this.startPos.x,
				y: e.clientY - this.startPos.y
			};
			this.keys = {
				shift: e.shiftKey,
				ctrl: e.ctrlKey,
				alt: e.altKey
			};
		},
		mousemove: function mousemove(e) {
			this.update(e);
			if (this.onDrag) {
				this.onDrag();
			}
			if (e.which === 0) {
				// mouse button released outside window; mouseup wasn't fired (Chrome)
				this.mouseup(e);
			}
		},
		keydown: function keydown(e) {
			// escape key cancels dragging
			if (e.keyCode === 27) {
				this.release();
			}
		},
		mouseup: function mouseup(e) {
			this.update(e);
			this.release();
			if (this.onComplete) {
				this.onComplete();
			}
		},
		release: function release() {
			this.document.body.classList.remove('dragging-' + this.attr);
			var events = this.events;
			this.document.removeEventListener('mousemove', events.mousemove, false);
			this.document.removeEventListener('keydown', events.keydown, false);
			this.document.removeEventListener('mouseup', events.mouseup, false);
			if (this.onRelease) {
				this.onRelease();
			}
		}
	};

	// helper functions
	function toArray(obj) {
		var len = obj.length;

		var arr = new Array(len);
		for (var i = 0; i < len; i++) {
			arr[i] = obj[i];
		}
		return arr;
	}

	function bind(fn, ctx) {
		if (fn.bind) {
			return fn.bind(ctx);
		}
		return function () {
			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			fn.apply(ctx, args);
		};
	}

	function positionElement(el, left, top) {
		el.style.left = String(left) + 'px';
		el.style.top = String(top) + 'px';
	}

	function resizeElement(el, width, height) {
		var imageScaleResize = this.editor.config.imageScaleResize;
		if (imageScaleResize === 'both') {
			el.setAttribute('width', String(width));
			el.style.width = String(width) + 'px';
			el.setAttribute('height', String(height));
			el.style.height = String(height) + 'px';
		} else if (imageScaleResize === 'width' || imageScaleResize === 'scale') {
			el.removeAttribute('height');
			el.style.height = 'auto';
			el.setAttribute('width', String(width));
			el.style.width = String(width) + 'px';
		} else if (imageScaleResize === 'height') {
			el.setAttribute('height', String(height));
			el.style.height = String(height) + 'px';
			el.removeAttribute('width');
			el.style.width = 'auto';
		}
	}

	function getBoundingBox(window, el) {
		var rect = el.getBoundingClientRect();
		return {
			left: rect.left + window.pageXOffset,
			top: rect.top + window.pageYOffset,
			width: rect.width,
			height: rect.height
		};
	}
}

/***/ }),

/***/ "./src/plugins/dragresize_ie.js":
/*!**************************************!*\
  !*** ./src/plugins/dragresize_ie.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * CKEditor plugin: Image2
 * - Show gripper to resize images on IE
 */
if (!CKEDITOR.plugins.get('ae_dragresize_ie')) {
	var alignmentsObj = {
		center: 1,
		left: 0,
		right: 2
	};

	/*
  * Set cursor css depend on imageScaleResize config
  **/

	var cursor = {
		both: 'nwse-resize',
		height: 'ns-resize',
		scale: 'nwse-resize',
		width: 'ew-resize'
	};

	var regexPercent = /^\s*(\d+%)\s*$/i;

	var template = '<img alt="" src="" />';

	CKEDITOR.plugins.add('ae_dragresize_ie', {
		hidpi: true,

		icons: 'image',

		init: function init(editor) {
			var image = widgetDef(editor);

			// Register the widget.
			editor.widgets.add('image', image);
		},
		onLoad: function onLoad() {
			CKEDITOR.addCss('.cke_image_resizer_nwse-resize{' + 'cursor: nwse-resize;' + '}' + '.cke_image_resizer_ns-resize{' + 'cursor: ns-resize;' + '}' + '.cke_image_resizer_nwse-resize{' + 'cursor: nwse-resize;' + '}' + '.cke_image_resizer_ew-resize{' + 'cursor: ew-resize;' + '}' + '.cke_image_nocaption{' +
			// This is to remove unwanted space so resize
			// wrapper is displayed property.
			'line-height:0' + '}' + '.cke_image_resizer{' + 'display:none;' + 'position:absolute;' + 'width:10px;' + 'height:10px;' + 'bottom:-5px;' + 'right:-5px;' + 'background:#000;' + 'outline:1px solid #fff;' +
			// Prevent drag handler from being misplaced (#11207).
			'line-height:0;' + 'cursor:nwse-resize;' + '}' + '.cke_image_resizer_wrapper{' + 'position:relative;' + 'display:inline-block;' + 'line-height:0;' + '}' + '.cke_widget_wrapper:hover .cke_image_resizer,' + '.cke_image_resizer.cke_image_resizing{' + 'display:block' + '}');
		},


		requires: 'widget'
	});

	// Widget states (forms) depending on alignment and configuration.
	//
	// Non-captioned widget (inline styles)
	// 		┌──────┬───────────────────────────────┬─────────────────────────────┐
	// 		│Align │Internal form                  │Data                         │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│none  │<wrapper>                      │<img />                      │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│left  │<wrapper style=”float:left”>   │<img style=”float:left” />   │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│center│<wrapper>                      │<p style=”text-align:center”>│
	// 		│      │ <p style=”text-align:center”> │  <img />                    │
	// 		│      │   <img />                     │</p>                         │
	// 		│      │ </p>                          │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│right │<wrapper style=”float:right”>  │<img style=”float:right” />  │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		└──────┴───────────────────────────────┴─────────────────────────────┘
	//
	// Non-captioned widget (config.image2_alignClasses defined)
	// 		┌──────┬───────────────────────────────┬─────────────────────────────┐
	// 		│Align │Internal form                  │Data                         │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│none  │<wrapper>                      │<img />                      │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│left  │<wrapper class=”left”>         │<img class=”left” />         │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│center│<wrapper>                      │<p class=”center”>           │
	// 		│      │ <p class=”center”>            │ <img />                     │
	// 		│      │   <img />                     │</p>                         │
	// 		│      │ </p>                          │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│right │<wrapper class=”right”>        │<img class=”right” />        │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		└──────┴───────────────────────────────┴─────────────────────────────┘
	//
	// Captioned widget (inline styles)
	// 		┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐
	// 		│Align │Internal form                           │Data                                    │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│none  │<wrapper>                               │<figure />                              │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│left  │<wrapper style=”float:left”>            │<figure style=”float:left” />           │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│center│<wrapper style=”text-align:center”>     │<div style=”text-align:center”>         │
	// 		│      │ <figure style=”display:inline-block” />│ <figure style=”display:inline-block” />│
	// 		│      │</wrapper>                              │</p>                                    │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│right │<wrapper style=”float:right”>           │<figure style=”float:right” />          │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		└──────┴────────────────────────────────────────┴────────────────────────────────────────┘
	//
	// Captioned widget (config.image2_alignClasses defined)
	// 		┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐
	// 		│Align │Internal form                           │Data                                    │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│none  │<wrapper>                               │<figure />                              │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│left  │<wrapper class=”left”>                  │<figure class=”left” />                 │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│center│<wrapper class=”center”>                │<div class=”center”>                    │
	// 		│      │ <figure />                             │ <figure />                             │
	// 		│      │</wrapper>                              │</p>                                    │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│right │<wrapper class=”right”>                 │<figure class=”right” />                │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		└──────┴────────────────────────────────────────┴────────────────────────────────────────┘
	//
	// @param {CKEDITOR.editor}
	// @returns {Object}
	function widgetDef(editor) {
		editor.config.imageScaleResize = editor.config.imageScaleResize || 'both';

		editor.on('imageAdd', function (imageData) {
			editor.widgets.initOn(imageData.data.el, 'image');
		});

		var alignClasses = editor.config.image2_alignClasses;

		var captionedClass = editor.config.image2_captionedClass;

		return {
			init: function init() {
				var helpers = CKEDITOR.plugins.image2;

				var image = this.parts.image;

				var data = {
					alt: image.getAttribute('alt') || '',
					hasCaption: !!this.parts.caption,
					height: image.getAttribute('height') || '',
					// Lock ratio is on by default (#10833).
					lock: this.ready ? helpers.checkHasNaturalRatio(image) : true,
					src: image.getAttribute('src'),
					width: image.getAttribute('width') || ''
				};

				// If we used 'a' in widget#parts definition, it could happen that
				// selected element is a child of widget.parts#caption. Since there's no clever
				// way to solve it with CSS selectors, it's done like that. (#11783).
				var link = image.getAscendant('a');

				if (link && this.wrapper.contains(link)) {
					this.parts.link = link;
				}

				// Depending on configuration, read style/class from element and
				// then remove it. Removed style/class will be set on wrapper in #data listener.
				// Note: Center alignment is detected during upcast, so only left/right cases
				// are checked below.
				if (!data.align) {
					var alignElement = data.hasCaption ? this.element : image;

					// Read the initial left/right alignment from the class set on element.
					if (alignClasses) {
						if (alignElement.hasClass(alignClasses[0])) {
							data.align = 'left';
						} else if (alignElement.hasClass(alignClasses[2])) {
							data.align = 'right';
						}

						if (data.align) {
							alignElement.removeClass(alignClasses[alignmentsObj[data.align]]);
						} else {
							data.align = 'none';
						}
					}
					// Read initial float style from figure/image and then remove it.
					else {
							data.align = alignElement.getStyle('float') || 'none';
							alignElement.removeStyle('float');
						}
				}

				// Get rid of extra vertical space when there's no caption.
				// It will improve the look of the resizer.
				this.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class']('cke_image_nocaption');

				this.setData(data);

				if (editor.config.image2_disableResizer !== true) {
					setupResizer(this);
				}
			},


			// Overrides default method to handle internal mutability of Image2.
			// @see CKEDITOR.plugins.widget#addClass
			addClass: function addClass(className) {
				getStyleableElement(this).addClass(className);
			},


			allowedContent: getWidgetAllowedContent(editor),

			// This widget converts style-driven dimensions to attributes.
			contentTransformations: [['img[width]: sizeToAttribute']],

			data: function data() {
				var features = this.features;

				// Image can't be captioned when figcaption is disallowed (#11004).
				if (this.data.hasCaption && !editor.filter.checkFeature(features.caption)) {
					this.data.hasCaption = false;
				}

				// Image can't be aligned when floating is disallowed (#11004).
				if (this.data.align != 'none' && !editor.filter.checkFeature(features.align)) {
					this.data.align = 'none';
				}

				// Update widget.parts.link since it will not auto-update unless widget
				// is destroyed and re-inited.
				if (!this.data.link) {
					if (this.parts.link) {
						delete this.parts.link;
					}
				} else {
					if (!this.parts.link) {
						this.parts.link = this.parts.image.getParent();
					}
				}

				this.parts.image.setAttributes({
					alt: this.data.alt,

					contenteditable: this.parts.image.getAttribute('contenteditable') ? this.parts.image.getAttribute('contenteditable') : true,

					// This internal is required by the editor.
					'data-cke-saved-src': this.data.src,

					src: this.data.src
				});

				// If shifting non-captioned -> captioned, remove classes
				// related to styles from <img/>.
				if (this.oldData && !this.oldData.hasCaption && this.data.hasCaption) {
					for (var c in this.data.classes) {
						if (Object.prototype.hasOwnProperty.call(this.data.classes, c)) {
							this.parts.image.removeClass(c);
						}
					}
				}

				// Set dimensions of the image according to gathered data.
				// Do it only when the attributes are allowed (#11004).
				if (editor.filter.checkFeature(features.dimension)) {
					setDimensions(this);
				}

				// Cache current data.
				this.oldData = CKEDITOR.tools.extend({}, this.data);
			},


			downcast: downcastWidgetElement(editor),

			draggable: false,

			// This widget has an editable caption.
			editables: {
				caption: {
					selector: 'figcaption',
					allowedContent: 'br em strong sub sup u s; a[!href,target]'
				}
			},

			features: getWidgetFeatures(editor),

			// Overrides default method to handle internal mutability of Image2.
			// @see CKEDITOR.plugins.widget#getClasses
			getClasses: function () {
				var classRegex = new RegExp('^(' + [].concat(captionedClass, alignClasses).join('|') + ')$');

				return function () {
					var classes = this.repository.parseElementClasses(getStyleableElement(this).getAttribute('class'));

					// Neither config.image2_captionedClass nor config.image2_alignClasses
					// do not belong to style classes.
					for (var c in classes) {
						if (classRegex.test(c)) {
							delete classes[c];
						}
					}

					return classes;
				};
			}(),

			getLabel: function getLabel() {
				var label = (this.data.alt || '') + ' ' + this.pathName;

				return label;
			},


			// Overrides default method to handle internal mutability of Image2.
			// @see CKEDITOR.plugins.widget#hasClass
			hasClass: function hasClass(className) {
				return getStyleableElement(this).hasClass(className);
			},


			parts: {
				caption: 'figcaption',
				image: 'img'
			},

			// Overrides default method to handle internal mutability of Image2.
			// @see CKEDITOR.plugins.widget#removeClass
			removeClass: function removeClass(className) {
				getStyleableElement(this).removeClass(className);
			},


			requiredContent: 'img[src,alt]',

			styleableElements: 'img figure',

			// Template of the widget: plain image.
			template: template,

			upcast: upcastWidgetElement(editor)
		};
	}

	/**
  * A set of Enhanced Image (image2) plugin helpers.
  *
  * @class
  * @singleton
  */
	CKEDITOR.plugins.image2 = {
		/**
   * Checks whether the current image ratio matches the natural one
   * by comparing dimensions.
   *
   * @param {CKEDITOR.dom.element} image
   * @return {Boolean}
   */
		checkHasNaturalRatio: function checkHasNaturalRatio(image) {
			var $ = image.$;

			var natural = this.getNatural(image);

			// The reason for two alternative comparisons is that the rounding can come from
			// both dimensions, e.g. there are two cases:
			// 	1. height is computed as a rounded relation of the real height and the value of width,
			//	2. width is computed as a rounded relation of the real width and the value of heigh.
			return Math.round($.clientWidth / natural.width * natural.height) == $.clientHeight || Math.round($.clientHeight / natural.height * natural.width) == $.clientWidth;
		},


		/**
   * Returns natural dimensions of the image. For modern browsers
   * it uses natural(Width|Height). For old ones (IE8) it creates
   * a new image and reads the dimensions.
   *
   * @param {CKEDITOR.dom.element} image
   * @return {Object}
   */
		getNatural: function getNatural(image) {
			var dimensions = void 0;

			if (image.$.naturalWidth) {
				dimensions = {
					height: image.$.naturalHeigh,
					width: image.$.naturalWidth
				};
			} else {
				var img = new Image();

				img.src = image.getAttribute('src');

				dimensions = {
					height: img.heigh,
					width: img.width
				};
			}

			return dimensions;
		}
	};

	// Returns a function that creates widgets from all <img> and
	// <figure class="{config.image2_captionedClass}"> elements.
	//
	// @param {CKEDITOR.editor} editor
	// @returns {Function}
	function upcastWidgetElement(editor) {
		var isCenterWrapper = centerWrapperChecker(editor);

		var captionedClass = editor.config.image2_captionedClass;

		// @param {CKEDITOR.htmlParser.element} el
		// @param {Object} data
		return function (el, data) {
			var dimensions = {
				height: 1,
				width: 1
			};

			var name = el.name;

			var image = void 0;

			// #11110 Don't initialize on pasted fake objects.
			if (el.attributes['data-cke-realelement']) {
				return;
			}

			// If a center wrapper is found, there are 3 possible cases:
			//
			// 1. <div style="text-align:center"><figure>...</figure></div>.
			//    In this case centering is done with a class set on widget.wrapper.
			//    Simply replace centering wrapper with figure (it's no longer necessary).
			//
			// 2. <p style="text-align:center"><img/></p>.
			//    Nothing to do here: <p> remains for styling purposes.
			//
			// 3. <div style="text-align:center"><img/></div>.
			//    Nothing to do here (2.) but that case is only possible in enterMode different
			//    than ENTER_P.
			if (isCenterWrapper(el)) {
				if (name == 'div') {
					var figure = el.getFirst('figure');

					// Case #1.
					if (figure) {
						el.replaceWith(figure);
						el = figure;
					}
				}
				// Cases #2 and #3 (handled transparently)

				// If there's a centering wrapper, save it in data.
				data.align = 'center';

				// Image can be wrapped in link <a><img/></a>.
				image = el.getFirst('img') || el.getFirst('a').getFirst('img');
			}

			// No center wrapper has been found.
			else if (name == 'figure' && el.hasClass(captionedClass)) {
					image = el.getFirst('img') || el.getFirst('a').getFirst('img');

					// Upcast linked image like <a><img/></a>.
				} else if (isLinkedOrStandaloneImage(el)) {
					image = el.name == 'a' ? el.children[0] : el;
				}

			if (!image) {
				return;
			}

			// If there's an image, then cool, we got a widget.
			// Now just remove dimension attributes expressed with %.
			for (var d in dimensions) {
				if (Object.prototype.hasOwnProperty.call(dimensions, d)) {
					var dimension = image.attributes[d];

					if (dimension && dimension.match(regexPercent)) {
						delete image.attributes[d];
					}
				}
			}

			return el;
		};
	}

	// Returns a function which transforms the widget to the external format
	// according to the current configuration.
	//
	// @param {CKEDITOR.editor}
	function downcastWidgetElement(editor) {
		var alignClasses = editor.config.image2_alignClasses;

		// @param {CKEDITOR.htmlParser.element} el
		return function (el) {
			// In case of <a><img/></a>, <img/> is the element to hold
			// inline styles or classes (image2_alignClasses).
			var attrsHolder = el.name == 'a' ? el.getFirst() : el;

			delete attrsHolder.attributes.contenteditable;

			var attrs = attrsHolder.attributes;

			var align = this.data.align;

			// De-wrap the image from resize handle wrapper.
			// Only block widgets have one.
			if (!this.inline) {
				var resizeWrapper = el.getFirst('span');

				if (resizeWrapper) {
					resizeWrapper.replaceWith(resizeWrapper.getFirst({
						a: 1,
						img: 1
					}));
				}
			}

			if (align && align != 'none') {
				var styles = CKEDITOR.tools.parseCssText(attrs.style || '');

				// When the widget is captioned (<figure>) and internally centering is done
				// with widget's wrapper style/class, in the external data representation,
				// <figure> must be wrapped with an element holding an style/class:
				//
				// 	<div style="text-align:center">
				// 		<figure class="image" style="display:inline-block">...</figure>
				// 	</div>
				// or
				// 	<div class="some-center-class">
				// 		<figure class="image">...</figure>
				// 	</div>
				//
				if (align == 'center' && el.name == 'figure') {
					el = el.wrapWith(new CKEDITOR.htmlParser.element('div', alignClasses ? {
						class: alignClasses[1]
					} : {
						style: 'text-align:center'
					}));
				}

				// If left/right, add float style to the downcasted element.
				else if (align in {
						left: 1,
						right: 1
					}) {
						if (alignClasses) {
							attrsHolder.addClass(alignClasses[alignmentsObj[align]]);
						} else {
							styles['float'] = align;
						}
					}

				// Update element styles.
				if (!alignClasses && !CKEDITOR.tools.isEmpty(styles)) {
					attrs.style = CKEDITOR.tools.writeCssText(styles);
				}
			}

			return el;
		};
	}

	// Returns a function that checks if an element is a centering wrapper.
	//
	// @param {CKEDITOR.editor} editor
	// @returns {Function}
	function centerWrapperChecker(editor) {
		var captionedClass = editor.config.image2_captionedClass;

		var alignClasses = editor.config.image2_alignClasses;

		var validChildren = {
			a: 1,
			figure: 1,
			img: 1
		};

		return function (el) {
			// Wrapper must be either <div> or <p>.
			if (!(el.name in {
				div: 1,
				p: 1
			})) {
				return false;
			}

			var children = el.children;

			// Centering wrapper can have only one child.
			if (children.length !== 1) {
				return false;
			}

			var child = children[0];

			// Only <figure> or <img /> can be first (only) child of centering wrapper,
			// regardless of its type.
			if (!(child.name in validChildren)) {
				return false;
			}

			// If centering wrapper is <p>, only <img /> can be the child.
			//   <p style="text-align:center"><img /></p>
			if (el.name == 'p') {
				if (!isLinkedOrStandaloneImage(child)) {
					return false;
				}
			}
			// Centering <div> can hold <img/> or <figure>, depending on enterMode.
			else {
					// If a <figure> is the first (only) child, it must have a class.
					//   <div style="text-align:center"><figure>...</figure><div>
					if (child.name == 'figure') {
						if (!child.hasClass(captionedClass)) {
							return false;
						}
					} else {
						// Centering <div> can hold <img/> or <a><img/></a> only when enterMode
						// is ENTER_(BR|DIV).
						//   <div style="text-align:center"><img /></div>
						//   <div style="text-align:center"><a><img /></a></div>
						if (editor.enterMode == CKEDITOR.ENTER_P) {
							return false;
						}

						// Regardless of enterMode, a child which is not <figure> must be
						// either <img/> or <a><img/></a>.
						if (!isLinkedOrStandaloneImage(child)) {
							return false;
						}
					}
				}

			// Centering wrapper got to be... centering. If image2_alignClasses are defined,
			// check for centering class. Otherwise, check the style.
			if (alignClasses ? el.hasClass(alignClasses[1]) : CKEDITOR.tools.parseCssText(el.attributes.style || '', true)['text-align'] == 'center') {
				return true;
			}

			return false;
		};
	}

	// Checks whether element is <img/> or <a><img/></a>.
	//
	// @param {CKEDITOR.htmlParser.element}
	function isLinkedOrStandaloneImage(el) {
		if (el.name == 'img') {
			return true;
		} else if (el.name == 'a') {
			return el.children.length == 1 && el.getFirst('img');
		}

		return false;
	}

	// Sets width and height of the widget image according to current widget data.
	//
	// @param {CKEDITOR.plugins.widget} widget
	function setDimensions(widget) {
		var data = widget.data;

		var dimensions = {
			height: data.height,
			width: data.width
		};

		var image = widget.parts.image;

		for (var d in dimensions) {
			if (dimensions[d]) {
				image.setAttribute(d, dimensions[d]);
			} else {
				image.removeAttribute(d);
			}
		}
	}

	// Defines all features related to drag-driven image resizing.
	//
	// @param {CKEDITOR.plugins.widget} widget
	function setupResizer(widget) {
		var editor = widget.editor;

		var editable = editor.editable();

		var doc = editor.document;

		// Store the resizer in a widget for testing (#11004).
		var resizer = widget.resizer = doc.createElement('span');

		resizer.addClass('cke_image_resizer');
		resizer.addClass('cke_image_resizer_' + cursor[editor.config.imageScaleResize]);
		resizer.append(new CKEDITOR.dom.text('\u200B', doc));

		// Inline widgets don't need a resizer wrapper as an image spans the entire widget.
		if (!widget.inline) {
			var imageOrLink = widget.parts.link || widget.parts.image;

			var oldResizeWrapper = imageOrLink.getParent();

			var resizeWrapper = doc.createElement('span');

			resizeWrapper.addClass('cke_image_resizer_wrapper');
			resizeWrapper.append(imageOrLink);
			resizeWrapper.append(resizer);
			widget.element.append(resizeWrapper, true);

			// Remove the old wrapper which could came from e.g. pasted HTML
			// and which could be corrupted (e.g. resizer span has been lost).
			if (oldResizeWrapper.is('span')) {
				oldResizeWrapper.remove();
			}
		} else {
			widget.wrapper.append(resizer);
		}

		// Calculate values of size variables and mouse offsets.
		resizer.on('mousedown', function (evt) {
			var image = widget.parts.image;

			// "factor" can be either 1 or -1. I.e.: For right-aligned images, we need to
			// subtract the difference to get proper width, etc. Without "factor",
			// resizer starts working the opposite way.
			var factor = widget.data.align == 'right' ? -1 : 1;

			// The x-coordinate of the mouse relative to the screen
			// when button gets pressed.
			var startX = evt.data.$.screenX;

			var startY = evt.data.$.screenY;

			// The initial dimensions and aspect ratio of the image.
			var startWidth = image.$.clientWidth;

			var startHeight = image.$.clientHeight;

			var listeners = [];

			// A class applied to editable during resizing.
			var cursorClass = 'cke_image_s' + (!~factor ? 'w' : 'e');

			var nativeEvt = void 0;
			var newWidth = void 0;
			var newHeight = void 0;
			var updateData = void 0;

			var moveDiffX = void 0;
			var moveDiffY = void 0;

			// Save the undo snapshot first: before resizing.
			editor.fire('saveSnapshot');

			// Mousemove listeners are removed on mouseup.
			attachToDocuments('mousemove', onMouseMove, listeners);

			// Clean up the mousemove listener. Update widget data if valid.
			attachToDocuments('mouseup', onMouseUp, listeners);

			// The entire editable will have the special cursor while resizing goes on.
			editable.addClass(cursorClass);

			// This is to always keep the resizer element visible while resizing.
			resizer.addClass('cke_image_resizing');

			// Attaches an event to a global document if inline editor.
			// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.
			function attachToDocuments(name, callback, collection) {
				var globalDoc = CKEDITOR.document;

				var listeners = [];

				if (!doc.equals(globalDoc)) {
					listeners.push(globalDoc.on(name, callback));
				}

				listeners.push(doc.on(name, callback));

				if (collection) {
					for (var i = listeners.length; i--;) {
						collection.push(listeners.pop());
					}
				}
			}

			// This is how variables refer to the geometry.
			// Note: x corresponds to moveOffset, this is the position of mouse
			// Note: o corresponds to [startX, startY].
			//
			// 	+--------------+--------------+
			// 	|              |              |
			// 	|      I       |      II      |
			// 	|              |              |
			// 	+------------- o -------------+ _ _ _
			// 	|              |              |      ^

			// 	|      VI      |     III      |      | moveDiffY
			// 	|              |         x _ _ _ _ _ v
			// 	+--------------+---------|----+
			// 	               |         |
			// 	                <------->
			// 	                moveDiffX
			function onMouseMove(evt) {
				var imageScaleResize = editor.config.imageScaleResize;

				nativeEvt = evt.data.$;

				// This is how far the mouse is from the point the button was pressed.
				moveDiffX = nativeEvt.screenX - startX;
				moveDiffY = startY - nativeEvt.screenY;

				if (imageScaleResize === 'width' || imageScaleResize === 'both' || imageScaleResize === 'scale') {
					newWidth = startWidth + factor * moveDiffX;
				}

				if (imageScaleResize === 'height' || imageScaleResize === 'both') {
					newHeight = startHeight - moveDiffY;
				}

				if (imageScaleResize === 'scale') {
					newHeight = 'auto';
				}

				newWidth = newWidth || startWidth;
				newHeight = newHeight || startHeight;

				// Don't update attributes if less than 10.
				// This is to prevent images to visually disappear.
				if (newWidth >= 15 && (newHeight >= 15 || newHeight === 'auto')) {
					image.$.style.width = newWidth + 'px';
					image.$.style.height = newHeight + 'px';

					updateData = true;
				} else {
					updateData = false;
				}
			}

			function onMouseUp() {
				var l = void 0;

				while (l = listeners.pop()) {
					l.removeListener();
				}

				// Restore default cursor by removing special class.
				editable.removeClass(cursorClass);

				// This is to bring back the regular behaviour of the resizer.
				resizer.removeClass('cke_image_resizing');

				if (updateData) {
					widget.setData({
						height: newHeight,
						width: newWidth
					});

					// Save another undo snapshot: after resizing.
					editor.fire('saveSnapshot');
				}

				// Don't update data twice or more.
				updateData = false;
			}
		});

		// Change the position of the widget resizer when data changes.
		widget.on('data', function () {
			resizer[widget.data.align == 'right' ? 'addClass' : 'removeClass']('cke_image_resizer_left');
		});

		widget.parts.image.on('click', function () {
			var selection = editor.getSelection();

			if (selection) {
				var element = selection.getStartElement();

				if (element) {
					var widgetElement = element.findOne('img');

					if (widgetElement) {
						var region = element.getClientRect();

						var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();
						region.left -= scrollPosition.x;
						region.top += scrollPosition.y;

						region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;

						editor.fire('editorInteraction', {
							nativeEvent: event,
							selectionData: {
								element: widgetElement,
								region: region
							}
						});
					}
				}
			}
		});
	}

	// Returns a set of widget allowedContent rules, depending
	// on configurations like config#image2_alignClasses or
	// config#image2_captionedClass.
	//
	// @param {CKEDITOR.editor}
	// @returns {Object}
	function getWidgetAllowedContent(editor) {
		var rules = {
			figcaption: true,
			figure: {
				classes: '!' + editor.config.image2_captionedClass
			},
			img: {
				attributes: '!src,alt,width,height'
			}
		};

		return rules;
	}

	// Returns a set of widget feature rules, depending
	// on editor configuration. Note that the following may not cover
	// all the possible cases since requiredContent supports a single
	// tag only.
	//
	// @param {CKEDITOR.editor}
	// @returns {Object}
	function getWidgetFeatures(editor) {
		var alignClasses = editor.config.image2_alignClasses;

		var features = {
			align: {
				requiredContent: 'img' + (alignClasses ? '(' + alignClasses[0] + ')' : '{float}')
			},
			caption: {
				requiredContent: 'figcaption'
			},
			dimension: {
				requiredContent: 'img[width,height]'
			}
		};

		return features;
	}

	// Returns element which is styled, considering current
	// state of the widget.
	//
	// @see CKEDITOR.plugins.widget#applyStyle
	// @param {CKEDITOR.plugins.widget} widget
	// @returns {CKEDITOR.dom.element}
	function getStyleableElement(widget) {
		return widget.data.hasCaption ? widget.element : widget.parts.image;
	}
}

CKEDITOR.config.image2_captionedClass = 'image';

/***/ }),

/***/ "./src/plugins/dragresize_ie11.js":
/*!****************************************!*\
  !*** ./src/plugins/dragresize_ie11.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */

(function () {
	if (CKEDITOR.plugins.get('ae_dragresize_ie11')) {
		return;
	}

	var template = '<img alt="" src="" />';

	var templateBlock = new CKEDITOR.template('<figure class="{captionedClass}">' + template + '<figcaption>{captionPlaceholder}</figcaption>' + '</figure>');

	var alignmentsObj = { left: 0, center: 1, right: 2 };

	var regexPercent = /^\s*(\d+%)\s*$/i;

	CKEDITOR.plugins.add('ae_dragresize_ie11', {
		requires: 'widget',
		onLoad: function onLoad() {
			CKEDITOR.addCss('.cke_image_nocaption{' +
			// This is to remove unwanted space so resize
			// wrapper is displayed property.
			'line-height:0' + '}' + '.cke_editable.cke_image_ne, .cke_editable.cke_image_ne *{cursor:ne-resize !important}' + '.cke_editable.cke_image_nw, .cke_editable.cke_image_nw *{cursor:nw-resize !important}' + '.cke_editable.cke_image_sw, .cke_editable.cke_image_sw *{cursor:sw-resize !important}' + '.cke_editable.cke_image_se, .cke_editable.cke_image_se *{cursor:se-resize !important}' + '.cke_image_resizer{' + 'display:none;' + 'position:absolute;' + 'width:10px;' + 'height:10px;' + 'background:#000;' + 'outline:1px solid #fff;' +
			// Prevent drag handler from being misplaced (#11207).
			'line-height:0;' + 'cursor:se-resize;' + '}' + '.cke_image_resizer_wrapper{' + 'position:relative;' + 'display:inline-block;' + 'line-height:0;' + '}' +
			// Top-right corner style of the resizer.
			'.cke_image_resizer.cke_image_resizer_ne{' + 'cursor:ne-resize;' + 'left:auto;' + 'right:-5px;' + 'top:-5px;' + '}' +
			// Top-left corner style of the resizer.
			'.cke_image_resizer.cke_image_resizer_nw{' + 'cursor:nw-resize;' + 'left:-5px;' + 'right:auto;' + 'top:-5px;' + '}' +
			// Bottom-right corner style of the resizer.
			'.cke_image_resizer.cke_image_resizer_se{' + 'bottom:-5px;' + 'cursor:se-resize;' + 'left:auto;' + 'right:-5px;' + '}' +
			// Bottom-left corner style of the resizer.
			'.cke_image_resizer.cke_image_resizer_sw{' + 'bottom:-5px;' + 'cursor:sw-resize;' + 'left:-5px;' + 'right:auto;' + '}' + '.cke_widget_wrapper:hover .cke_image_resizer,' + '.cke_image_resizing>.cke_image_resizer{' + 'display:block' + '}' +
			// Expand widget wrapper when linked inline image.
			'.cke_widget_wrapper>a{' + 'display:inline-block' + '}');
		},
		init: function init(editor) {
			// Adapts configuration from original image plugin. Should be removed
			// when we'll rename ae_dragresize_ie11 to image.

			var image = widgetDef(editor);

			// Register the widget.
			editor.widgets.add('image', image);

			// Add a listener to handle selection change events and properly detect editor
			// interactions on the widgets without messing with widget native selection
			editor.on('selectionChange', function (_event) {
				var selection = editor.getSelection();

				if (selection) {
					var element = selection.getSelectedElement();

					if (element) {
						var widgetElement = element.findOne('img');

						if (widgetElement) {
							var region = element.getClientRect();

							var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();
							region.left -= scrollPosition.x;
							region.top += scrollPosition.y;

							region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;

							editor.fire('editorInteraction', {
								nativeEvent: {},
								selectionData: {
									element: widgetElement,
									region: region
								}
							});
						}
					}
				}
			});
		},
		afterInit: function afterInit(editor) {
			// Integrate with align commands (justify plugin).
			var align = { left: 1, right: 1, center: 1, block: 1 };

			var integrate = alignCommandIntegrator(editor);

			for (var value in align) {
				if (Object.prototype.hasOwnProperty.call(align, value)) {
					integrate(value);
				}
			}
		}
	});

	// Widget states (forms) depending on alignment and configuration.
	//
	// Non-captioned widget (inline styles)
	// 		┌──────┬───────────────────────────────┬─────────────────────────────┐
	// 		│Align │Internal form                  │Data                         │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│none  │<wrapper>                      │<img />                      │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│left  │<wrapper style=”float:left”>   │<img style=”float:left” />   │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│center│<wrapper>                      │<p style=”text-align:center”>│
	// 		│      │ <p style=”text-align:center”> │  <img />                    │
	// 		│      │   <img />                     │</p>                         │
	// 		│      │ </p>                          │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│right │<wrapper style=”float:right”>  │<img style=”float:right” />  │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		└──────┴───────────────────────────────┴─────────────────────────────┘
	//
	// Non-captioned widget (config.ae_dragresize_ie11_alignClasses defined)
	// 		┌──────┬───────────────────────────────┬─────────────────────────────┐
	// 		│Align │Internal form                  │Data                         │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│none  │<wrapper>                      │<img />                      │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│left  │<wrapper class=”left”>         │<img class=”left” />         │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│center│<wrapper>                      │<p class=”center”>           │
	// 		│      │ <p class=”center”>            │ <img />                     │
	// 		│      │   <img />                     │</p>                         │
	// 		│      │ </p>                          │                             │
	// 		│      │</wrapper>                     │                             │
	// 		├──────┼───────────────────────────────┼─────────────────────────────┤
	// 		│right │<wrapper class=”right”>        │<img class=”right” />        │
	// 		│      │ <img />                       │                             │
	// 		│      │</wrapper>                     │                             │
	// 		└──────┴───────────────────────────────┴─────────────────────────────┘
	//
	// Captioned widget (inline styles)
	// 		┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐
	// 		│Align │Internal form                           │Data                                    │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│none  │<wrapper>                               │<figure />                              │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│left  │<wrapper style=”float:left”>            │<figure style=”float:left” />           │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│center│<wrapper style=”text-align:center”>     │<div style=”text-align:center”>         │
	// 		│      │ <figure style=”display:inline-block” />│ <figure style=”display:inline-block” />│
	// 		│      │</wrapper>                              │</p>                                    │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│right │<wrapper style=”float:right”>           │<figure style=”float:right” />          │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		└──────┴────────────────────────────────────────┴────────────────────────────────────────┘
	//
	// Captioned widget (config.ae_dragresize_ie11_alignClasses defined)
	// 		┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐
	// 		│Align │Internal form                           │Data                                    │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│none  │<wrapper>                               │<figure />                              │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│left  │<wrapper class=”left”>                  │<figure class=”left” />                 │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│center│<wrapper class=”center”>                │<div class=”center”>                    │
	// 		│      │ <figure />                             │ <figure />                             │
	// 		│      │</wrapper>                              │</p>                                    │
	// 		├──────┼────────────────────────────────────────┼────────────────────────────────────────┤
	// 		│right │<wrapper class=”right”>                 │<figure class=”right” />                │
	// 		│      │ <figure />                             │                                        │
	// 		│      │</wrapper>                              │                                        │
	// 		└──────┴────────────────────────────────────────┴────────────────────────────────────────┘
	//
	// @param {CKEDITOR.editor}
	// @returns {Object}
	function widgetDef(editor) {
		var alignClasses = editor.config.ae_dragresize_ie11_alignClasses;

		var captionedClass = editor.config.ae_dragresize_ie11_captionedClass;

		function deflate() {
			if (this.deflated) return;

			// Remember whether widget was focused before destroyed.
			if (editor.widgets.focused == this.widget) this.focused = true;

			editor.widgets.destroy(this.widget);

			// Mark widget was destroyed.
			this.deflated = true;
		}

		function inflate() {
			var editable = editor.editable();

			var doc = editor.document;

			// Create a new widget. This widget will be either captioned
			// non-captioned, block or inline according to what is the
			// new state of the widget.
			if (this.deflated) {
				this.widget = editor.widgets.initOn(this.element, 'image', this.widget.data);

				// Once widget was re-created, it may become an inline element without
				// block wrapper (i.e. when unaligned, end not captioned). Let's do some
				// sort of autoparagraphing here (#10853).
				if (this.widget.inline && !new CKEDITOR.dom.elementPath(this.widget.wrapper, editable).block) {
					var block = doc.createElement(editor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div');
					block.replace(this.widget.wrapper);
					this.widget.wrapper.move(block);
				}

				// The focus must be transferred from the old one (destroyed)
				// to the new one (just created).
				if (this.focused) {
					this.widget.focus();
					delete this.focused;
				}

				delete this.deflated;
			}

			// If now widget was destroyed just update wrapper's alignment.
			// According to the new state.
			else {
					setWrapperAlign(this.widget, alignClasses);
				}
		}

		return {
			allowedContent: getWidgetAllowedContent(editor),

			requiredContent: 'img[src,alt]',

			features: getWidgetFeatures(editor),

			styleableElements: 'img figure',

			// This widget converts style-driven dimensions to attributes.
			contentTransformations: [['img[width]: sizeToAttribute']],

			// This widget has an editable caption.
			editables: {
				caption: {
					selector: 'figcaption',
					allowedContent: 'br em strong sub sup u s; a[!href,target]'
				}
			},

			parts: {
				image: 'img',
				caption: 'figcaption'
				// parts#link defined in widget#init
			},

			// Template of the widget: plain image.
			template: template,

			data: function data() {
				var features = this.features;

				// Image can't be captioned when figcaption is disallowed (#11004).
				if (this.data.hasCaption && !editor.filter.checkFeature(features.caption)) this.data.hasCaption = false;

				// Image can't be aligned when floating is disallowed (#11004).
				if (this.data.align != 'none' && !editor.filter.checkFeature(features.align)) this.data.align = 'none';

				// Convert the internal form of the widget from the old state to the new one.
				this.shiftState({
					widget: this,
					element: this.element,
					oldData: this.oldData,
					newData: this.data,
					deflate: deflate,
					inflate: inflate
				});

				// Update widget.parts.link since it will not auto-update unless widget
				// is destroyed and re-inited.
				if (!this.data.link) {
					if (this.parts.link) delete this.parts.link;
				} else {
					if (!this.parts.link) this.parts.link = this.parts.image.getParent();
				}

				this.parts.image.setAttributes({
					src: this.data.src,

					// This internal is required by the editor.
					'data-cke-saved-src': this.data.src,

					alt: this.data.alt
				});

				// If shifting non-captioned -> captioned, remove classes
				// related to styles from <img/>.
				if (this.oldData && !this.oldData.hasCaption && this.data.hasCaption) {
					for (var c in this.data.classes) {
						if (Object.prototype.hasOwnProperty.call(this.data.classes, c)) {
							this.parts.image.removeClass(c);
						}
					}
				}

				// Set dimensions of the image according to gathered data.
				// Do it only when the attributes are allowed (#11004).
				if (editor.filter.checkFeature(features.dimension)) setDimensions(this);

				// Cache current data.
				this.oldData = CKEDITOR.tools.extend({}, this.data);
			},
			init: function init() {
				var helpers = CKEDITOR.plugins.ae_dragresize_ie11;

				var image = this.parts.image;

				var data = {
					hasCaption: !!this.parts.caption,
					src: image.getAttribute('src'),
					alt: image.getAttribute('alt') || '',
					width: image.getAttribute('width') || '',
					height: image.getAttribute('height') || '',

					// Lock ratio is on by default (#10833).
					lock: this.ready ? helpers.checkHasNaturalRatio(image) : true
				};

				// If we used 'a' in widget#parts definition, it could happen that
				// selected element is a child of widget.parts#caption. Since there's no clever
				// way to solve it with CSS selectors, it's done like that. (#11783).
				var link = image.getAscendant('a');

				if (link && this.wrapper.contains(link)) this.parts.link = link;

				// Depending on configuration, read style/class from element and
				// then remove it. Removed style/class will be set on wrapper in #data listener.
				// Note: Center alignment is detected during upcast, so only left/right cases
				// are checked below.
				if (!data.align) {
					var alignElement = data.hasCaption ? this.element : image;

					// Read the initial left/right alignment from the class set on element.
					if (alignClasses) {
						if (alignElement.hasClass(alignClasses[0])) {
							data.align = 'left';
						} else if (alignElement.hasClass(alignClasses[2])) {
							data.align = 'right';
						}

						if (data.align) {
							alignElement.removeClass(alignClasses[alignmentsObj[data.align]]);
						} else {
							data.align = 'none';
						}
					}
					// Read initial float style from figure/image and then remove it.
					else {
							data.align = alignElement.getStyle('float') || 'none';
							alignElement.removeStyle('float');
						}
				}

				// Update data.link object with attributes if the link has been discovered.
				if (editor.plugins.link && this.parts.link) {
					data.link = helpers.getLinkAttributesParser()(editor, this.parts.link);

					// Get rid of cke_widget_* classes in data. Otherwise
					// they might appear in link dialog.
					var advanced = data.link.advanced;
					if (advanced && advanced.advCSSClasses) {
						advanced.advCSSClasses = CKEDITOR.tools.trim(advanced.advCSSClasses.replace(/cke_\S+/, ''));
					}
				}

				// Get rid of extra vertical space when there's no caption.
				// It will improve the look of the resizer.
				this.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class']('cke_image_nocaption');

				this.setData(data);

				// Setup dynamic image resizing with mouse.
				// Don't initialize resizer when dimensions are disallowed (#11004).
				if (editor.filter.checkFeature(this.features.dimension) && editor.config.ae_dragresize_ie11_disableResizer !== true) setupResizer(this);

				var dragHandlerStyle = this.dragHandlerContainer.$.style;
				dragHandlerStyle.setAttribute('backgroundColor', 'rgba(255, 255, 255, 1');
				dragHandlerStyle.setAttribute('opacity', '1');

				this.shiftState = helpers.stateShifter(this.editor);

				// Add widget editing option to its context menu.
				this.on('contextMenu', function (evt) {
					evt.data.image = CKEDITOR.TRISTATE_OFF;

					// Integrate context menu items for link.
					// Note that widget may be wrapped in a link, which
					// does not belong to that widget (#11814).
					if (this.parts.link || this.wrapper.getAscendant('a')) evt.data.link = evt.data.unlink = CKEDITOR.TRISTATE_OFF;
				});
			},


			// Overrides default method to handle internal mutability of ae_dragresize_ie11.
			// @see CKEDITOR.plugins.widget#addClass
			addClass: function addClass(className) {
				getStyleableElement(this).addClass(className);
			},


			// Overrides default method to handle internal mutability of ae_dragresize_ie11.
			// @see CKEDITOR.plugins.widget#hasClass
			hasClass: function hasClass(className) {
				return getStyleableElement(this).hasClass(className);
			},


			// Overrides default method to handle internal mutability of ae_dragresize_ie11.
			// @see CKEDITOR.plugins.widget#removeClass
			removeClass: function removeClass(className) {
				getStyleableElement(this).removeClass(className);
			},


			// Overrides default method to handle internal mutability of ae_dragresize_ie11.
			// @see CKEDITOR.plugins.widget#getClasses
			getClasses: function () {
				var classRegex = new RegExp('^(' + [].concat(captionedClass, alignClasses).join('|') + ')$');

				return function () {
					var classes = this.repository.parseElementClasses(getStyleableElement(this).getAttribute('class'));

					// Neither config.ae_dragresize_ie11_captionedClass nor config.ae_dragresize_ie11_alignClasses
					// do not belong to style classes.
					for (var c in classes) {
						if (classRegex.test(c)) delete classes[c];
					}

					return classes;
				};
			}(),

			upcast: upcastWidgetElement(editor),
			downcast: downcastWidgetElement(editor),

			getLabel: function getLabel() {
				var label = (this.data.alt || '') + ' ' + this.pathName;

				return this.editor.lang.widget.label.replace(/%1/, label);
			}
		};
	}

	/**
  * A set of Enhanced Image (ae_dragresize_ie11) plugin helpers.
  *
  * @class
  * @singleton
  */
	CKEDITOR.plugins.ae_dragresize_ie11 = {
		stateShifter: function stateShifter(editor) {
			// Tag name used for centering non-captioned widgets.
			var doc = editor.document;

			var alignClasses = editor.config.ae_dragresize_ie11_alignClasses;

			var captionedClass = editor.config.ae_dragresize_ie11_captionedClass;

			var editable = editor.editable();

			// The order that stateActions get executed. It matters!

			var shiftables = ['hasCaption', 'align', 'link'];

			// Atomic procedures, one per state variable.
			var stateActions = {
				align: function align(shift, oldValue, newValue) {
					var el = shift.element;

					// Alignment changed.
					if (shift.changed.align || el.$.style.marginLeft === 'auto' && el.$.style.marginRight === 'auto') {
						// No caption in the new state.
						if (!shift.newData.hasCaption) {
							// Changed to "center" (non-captioned).
							if (newValue == 'center' || el.$.style.marginLeft === 'auto' && el.$.style.marginRight === 'auto') {
								shift.deflate();
								shift.element = wrapInCentering(editor, el);
							}

							// Changed to "non-center" from "center" while caption removed.
							if (!shift.changed.hasCaption && oldValue == 'center' && newValue != 'center') {
								shift.deflate();
								shift.element = unwrapFromCentering(el);
							}
						}
					}

					// Alignment remains and "center" removed caption.
					else if (newValue == 'center' && shift.changed.hasCaption && !shift.newData.hasCaption) {
							shift.deflate();
							shift.element = wrapInCentering(editor, el);
						}

					// Finally set display for figure.
					if (!alignClasses && el.is('figure')) {
						if (newValue == 'center') el.setStyle('display', 'inline-block');else el.removeStyle('display');
					}
				},
				hasCaption: function hasCaption(shift, oldValue, newValue) {
					// This action is for real state change only.
					if (!shift.changed.hasCaption) return;

					// Get <img/> or <a><img/></a> from widget. Note that widget element might itself
					// be what we're looking for. Also element can be <p style="text-align:center"><a>...</a></p>.
					var imageOrLink = void 0;
					if (shift.element.is({ img: 1, a: 1 })) imageOrLink = shift.element;else imageOrLink = shift.element.findOne('a,img');

					// Switching hasCaption always destroys the widget.
					shift.deflate();

					// There was no caption, but the caption is to be added.
					if (newValue) {
						// Create new <figure> from widget template.
						var figure = CKEDITOR.dom.element.createFromHtml(templateBlock.output({
							captionedClass: captionedClass,
							captionPlaceholder: editor.lang.ae_dragresize_ie11.captionPlaceholder
						}), doc);

						// Replace element with <figure>.
						replaceSafely(figure, shift.element);

						// Use old <img/> or <a><img/></a> instead of the one from the template,
						// so we won't lose additional attributes.
						imageOrLink.replace(figure.findOne('img'));

						// Update widget's element.
						shift.element = figure;
					}

					// The caption was present, but now it's to be removed.
					else {
							// Unwrap <img/> or <a><img/></a> from figure.
							imageOrLink.replace(shift.element);

							// Update widget's element.
							shift.element = imageOrLink;
						}
				},
				link: function link(shift, oldValue, newValue) {
					if (shift.changed.link) {
						var img = shift.element.is('img') ? shift.element : shift.element.findOne('img');

						var link = shift.element.is('a') ? shift.element : shift.element.findOne('a');

						// Why deflate:
						// If element is <img/>, it will be wrapped into <a>,
						// which becomes a new widget.element.
						// If element is <a><img/></a>, it will be unlinked
						// so <img/> becomes a new widget.element.

						var needsDeflate = shift.element.is('a') && !newValue || shift.element.is('img') && newValue;

						var newEl = void 0;

						if (needsDeflate) shift.deflate();

						// If unlinked the image, returned element is <img>.
						if (!newValue) newEl = unwrapFromLink(link);else {
							// If linked the image, returned element is <a>.
							if (!oldValue) newEl = wrapInLink(img, shift.newData.link);

							// Set and remove all attributes associated with this state.
							var attributes = CKEDITOR.plugins.ae_dragresize_ie11.getLinkAttributesGetter()(editor, newValue);

							if (!CKEDITOR.tools.isEmpty(attributes.set)) (newEl || link).setAttributes(attributes.set);

							if (attributes.removed.length) (newEl || link).removeAttributes(attributes.removed);
						}

						if (needsDeflate) shift.element = newEl;
					}
				}
			};

			function wrapInCentering(editor, element) {
				var attribsAndStyles = {};

				if (alignClasses) attribsAndStyles.attributes = { class: alignClasses[1] };else attribsAndStyles.styles = { 'text-align': 'center' };

				// There's no gentle way to center inline element with CSS, so create p/div
				// that wraps widget contents and does the trick either with style or class.
				var center = doc.createElement(editor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div', attribsAndStyles);

				// Replace element with centering wrapper.
				replaceSafely(center, element);
				element.move(center);

				return center;
			}

			function unwrapFromCentering(element) {
				var imageOrLink = element.findOne('a,img');

				imageOrLink.replace(element);

				return imageOrLink;
			}

			// Wraps <img/> -> <a><img/></a>.
			// Returns reference to <a>.
			//
			// @param {CKEDITOR.dom.element} img
			// @param {Object} linkData
			// @returns {CKEDITOR.dom.element}
			function wrapInLink(img, linkData) {
				var link = doc.createElement('a', {
					attributes: {
						href: linkData.url
					}
				});

				link.replace(img);
				img.move(link);

				return link;
			}

			// De-wraps <a><img/></a> -> <img/>.
			// Returns the reference to <img/>
			//
			// @param {CKEDITOR.dom.element} link
			// @returns {CKEDITOR.dom.element}
			function unwrapFromLink(link) {
				var img = link.findOne('img');

				img.replace(link);

				return img;
			}

			function replaceSafely(replacing, replaced) {
				if (replaced.getParent()) {
					var range = editor.createRange();

					range.moveToPosition(replaced, CKEDITOR.POSITION_BEFORE_START);

					// Remove old element. Do it before insertion to avoid a case when
					// element is moved from 'replaced' element before it, what creates
					// a tricky case which insertElementIntorRange does not handle.
					replaced.remove();

					editable.insertElementIntoRange(replacing, range);
				} else {
					replacing.replace(replaced);
				}
			}

			return function (shift) {
				var name = void 0;
				var i = void 0;

				shift.changed = {};

				for (i = 0; i < shiftables.length; i++) {
					name = shiftables[i];

					shift.changed[name] = shift.oldData ? shift.oldData[name] !== shift.newData[name] : false;
				}

				// Iterate over possible state variables.
				for (i = 0; i < shiftables.length; i++) {
					name = shiftables[i];

					stateActions[name](shift, shift.oldData ? shift.oldData[name] : null, shift.newData[name]);
				}

				shift.inflate();
			};
		},


		/**
   * Checks whether the current image ratio matches the natural one
   * by comparing dimensions.
   *
   * @param {CKEDITOR.dom.element} image
   * @return {Boolean}
   */
		checkHasNaturalRatio: function checkHasNaturalRatio(image) {
			var $ = image.$;

			var natural = this.getNatural(image);

			// The reason for two alternative comparisons is that the rounding can come from
			// both dimensions, e.g. there are two cases:
			// 	1. height is computed as a rounded relation of the real height and the value of width,
			//	2. width is computed as a rounded relation of the real width and the value of heigh.
			return Math.round($.clientWidth / natural.width * natural.height) == $.clientHeight || Math.round($.clientHeight / natural.height * natural.width) == $.clientWidth;
		},


		/**
   * Returns natural dimensions of the image. For modern browsers
   * it uses natural(Width|Height). For old ones (IE8) it creates
   * a new image and reads the dimensions.
   *
   * @param {CKEDITOR.dom.element} image
   * @return {Object}
   */
		getNatural: function getNatural(image) {
			var dimensions = void 0;

			if (image.$.naturalWidth) {
				dimensions = {
					width: image.$.naturalWidth,
					height: image.$.naturalHeight
				};
			} else {
				var img = new Image();
				img.src = image.getAttribute('src');

				dimensions = {
					width: img.width,
					height: img.height
				};
			}

			return dimensions;
		},


		/**
   * Returns an attribute getter function. Default getter comes from the Link plugin
   * and is documented by {@link CKEDITOR.plugins.link#getLinkAttributes}.
   *
   * **Note:** It is possible to override this method and use a custom getter e.g.
   * in the absence of the Link plugin.
   *
   * **Note:** If a custom getter is used, a data model format it produces
   * must be compatible with {@link CKEDITOR.plugins.link#getLinkAttributes}.
   *
   * **Note:** A custom getter must understand the data model format produced by
   * {@link #getLinkAttributesParser} to work correctly.
   *
   * @return {Function} A function that gets (composes) link attributes.
   * @since 4.5.5
   */
		getLinkAttributesGetter: function getLinkAttributesGetter() {
			// #13885
			return CKEDITOR.plugins.link.getLinkAttributes;
		},


		/**
   * Returns an attribute parser function. Default parser comes from the Link plugin
   * and is documented by {@link CKEDITOR.plugins.link#parseLinkAttributes}.
   *
   * **Note:** It is possible to override this method and use a custom parser e.g.
   * in the absence of the Link plugin.
   *
   * **Note:** If a custom parser is used, a data model format produced by the parser
   * must be compatible with {@link #getLinkAttributesGetter}.
   *
   * **Note:** If a custom parser is used, it should be compatible with the
   * {@link CKEDITOR.plugins.link#parseLinkAttributes} data model format. Otherwise the
   * Link plugin dialog may not be populated correctly with parsed data. However
   * as long as Enhanced Image is **not** used with the Link plugin dialog, any custom data model
   * will work, being stored as an internal property of Enhanced Image widget's data only.
   *
   * @return {Function} A function that parses attributes.
   * @since 4.5.5
   */
		getLinkAttributesParser: function getLinkAttributesParser() {
			// #13885
			return CKEDITOR.plugins.link.parseLinkAttributes;
		}
	};

	function setWrapperAlign(widget, alignClasses) {
		var wrapper = widget.wrapper;

		var align = widget.data.align;

		var hasCaption = widget.data.hasCaption;

		if (alignClasses) {
			// Remove all align classes first.
			for (var i = 3; i--;) {
				wrapper.removeClass(alignClasses[i]);
			}if (align == 'center') {
				// Avoid touching non-captioned, centered widgets because
				// they have the class set on the element instead of wrapper:
				//
				// 	<div class="cke_widget_wrapper">
				// 		<p class="center-class">
				// 			<img />
				// 		</p>
				// 	</div>
				if (hasCaption) {
					wrapper.addClass(alignClasses[1]);
				}
			} else if (align != 'none') {
				wrapper.addClass(alignClasses[alignmentsObj[align]]);
			}
		} else {
			if (align == 'center') {
				if (hasCaption) wrapper.setStyle('text-align', 'center');else wrapper.removeStyle('text-align');

				wrapper.removeStyle('float');
			} else {
				if (align == 'none') wrapper.removeStyle('float');else wrapper.setStyle('float', align);

				wrapper.removeStyle('text-align');
			}

			var image = wrapper.$.querySelector('img');

			var imageStyles = image.getAttribute('style');

			if (imageStyles) {
				var styles = '';

				var heightStyles = /(height:.+?;)/.exec(imageStyles);
				if (heightStyles) {
					styles += heightStyles[0];
				}

				var widthStyles = /(width:.+?;)/.exec(imageStyles);
				if (widthStyles) {
					styles += widthStyles[0];
				}

				image.setAttribute('style', styles);
			}
		}
	}

	// Returns a function that creates widgets from all <img> and
	// <figure class="{config.ae_dragresize_ie11_captionedClass}"> elements.
	//
	// @param {CKEDITOR.editor} editor
	// @returns {Function}
	function upcastWidgetElement(editor) {
		var isCenterWrapper = centerWrapperChecker(editor);

		var captionedClass = editor.config.ae_dragresize_ie11_captionedClass;

		// @param {CKEDITOR.htmlParser.element} el
		// @param {Object} data
		return function (el, data) {
			var dimensions = { width: 1, height: 1 };

			var name = el.name;

			var image = void 0;

			// #11110 Don't initialize on pasted fake objects.
			if (el.attributes['data-cke-realelement']) return;

			// If a center wrapper is found, there are 3 possible cases:
			//
			// 1. <div style="text-align:center"><figure>...</figure></div>.
			//    In this case centering is done with a class set on widget.wrapper.
			//    Simply replace centering wrapper with figure (it's no longer necessary).
			//
			// 2. <p style="text-align:center"><img/></p>.
			//    Nothing to do here: <p> remains for styling purposes.
			//
			// 3. <div style="text-align:center"><img/></div>.
			//    Nothing to do here (2.) but that case is only possible in enterMode different
			//    than ENTER_P.
			if (isCenterWrapper(el)) {
				if (name == 'div') {
					var figure = el.getFirst('figure');

					// Case #1.
					if (figure) {
						el.replaceWith(figure);
						el = figure;
					}
				}
				// Cases #2 and #3 (handled transparently)

				// If there's a centering wrapper, save it in data.
				data.align = 'center';

				// Image can be wrapped in link <a><img/></a>.
				image = el.getFirst('img') || el.getFirst('a').getFirst('img');
			}

			// No center wrapper has been found.
			else if (name == 'figure' && el.hasClass(captionedClass)) {
					image = el.getFirst('img') || el.getFirst('a').getFirst('img');

					// Upcast linked image like <a><img/></a>.
				} else if (isLinkedOrStandaloneImage(el)) {
					image = el.name == 'a' ? el.children[0] : el;
				}

			if (!image) return;

			// If there's an image, then cool, we got a widget.
			// Now just remove dimension attributes expressed with %.
			for (var d in dimensions) {
				if (Object.prototype.hasOwnProperty.call(dimensions, d)) {
					var dimension = image.attributes[d];
					if (dimension && dimension.match(regexPercent)) delete image.attributes[d];
				}
			}

			return el;
		};
	}

	// Returns a function which transforms the widget to the external format
	// according to the current configuration.
	//
	// @param {CKEDITOR.editor}
	function downcastWidgetElement(editor) {
		var alignClasses = editor.config.ae_dragresize_ie11_alignClasses;

		// @param {CKEDITOR.htmlParser.element} el
		return function (el) {
			// In case of <a><img/></a>, <img/> is the element to hold
			// inline styles or classes (ae_dragresize_ie11_alignClasses).
			var attrsHolder = el.name == 'a' ? el.getFirst() : el;

			var attrs = attrsHolder.attributes;

			var align = this.data.align;

			// De-wrap the image from resize handle wrapper.
			// Only block widgets have one.
			if (!this.inline) {
				var resizeWrapper = el.getFirst('span');

				if (resizeWrapper) resizeWrapper.replaceWith(resizeWrapper.getFirst({ img: 1, a: 1 }));
			}

			if (align && align != 'none') {
				var styles = CKEDITOR.tools.parseCssText(attrs.style || '');

				// When the widget is captioned (<figure>) and internally centering is done
				// with widget's wrapper style/class, in the external data representation,
				// <figure> must be wrapped with an element holding an style/class:
				//
				// 	<div style="text-align:center">
				// 		<figure class="image" style="display:inline-block">...</figure>
				// 	</div>
				// or
				// 	<div class="some-center-class">
				// 		<figure class="image">...</figure>
				// 	</div>
				//
				if (align == 'center' && el.name == 'figure') {
					el = el.wrapWith(new CKEDITOR.htmlParser.element('div', alignClasses ? { class: alignClasses[1] } : { style: 'text-align:center' }));
				}

				// If left/right, add float style to the downcasted element.
				else if (align in { left: 1, right: 1 }) {
						if (alignClasses) attrsHolder.addClass(alignClasses[alignmentsObj[align]]);else styles['float'] = align;
					}

				// Update element styles.
				if (!alignClasses && !CKEDITOR.tools.isEmpty(styles)) attrs.style = CKEDITOR.tools.writeCssText(styles) + ';';
			}

			return el;
		};
	}

	// Returns a function that checks if an element is a centering wrapper.
	//
	// @param {CKEDITOR.editor} editor
	// @returns {Function}
	function centerWrapperChecker(editor) {
		var captionedClass = editor.config.ae_dragresize_ie11_captionedClass;

		var alignClasses = editor.config.ae_dragresize_ie11_alignClasses;

		var validChildren = { figure: 1, a: 1, img: 1 };

		return function (el) {
			// Wrapper must be either <div> or <p>.
			if (!(el.name in { div: 1, p: 1 })) return false;

			var children = el.children;

			// Centering wrapper can have only one child.
			if (children.length !== 1) return false;

			var child = children[0];

			// Only <figure> or <img /> can be first (only) child of centering wrapper,
			// regardless of its type.
			if (!(child.name in validChildren)) return false;

			// If centering wrapper is <p>, only <img /> can be the child.
			//   <p style="text-align:center"><img /></p>
			if (el.name == 'p') {
				if (!isLinkedOrStandaloneImage(child)) return false;
			}
			// Centering <div> can hold <img/> or <figure>, depending on enterMode.
			else {
					// If a <figure> is the first (only) child, it must have a class.
					//   <div style="text-align:center"><figure>...</figure><div>
					if (child.name == 'figure') {
						if (!child.hasClass(captionedClass)) return false;
					} else {
						// Centering <div> can hold <img/> or <a><img/></a> only when enterMode
						// is ENTER_(BR|DIV).
						//   <div style="text-align:center"><img /></div>
						//   <div style="text-align:center"><a><img /></a></div>
						if (editor.enterMode == CKEDITOR.ENTER_P) return false;

						// Regardless of enterMode, a child which is not <figure> must be
						// either <img/> or <a><img/></a>.
						if (!isLinkedOrStandaloneImage(child)) return false;
					}
				}

			// Centering wrapper got to be... centering. If ae_dragresize_ie11_alignClasses are defined,
			// check for centering class. Otherwise, check the style.
			if (alignClasses ? el.hasClass(alignClasses[1]) : CKEDITOR.tools.parseCssText(el.attributes.style || '', true)['text-align'] == 'center') return true;

			return false;
		};
	}

	// Checks whether element is <img/> or <a><img/></a>.
	//
	// @param {CKEDITOR.htmlParser.element}
	function isLinkedOrStandaloneImage(el) {
		if (el.name == 'img') return true;else if (el.name == 'a') return el.children.length == 1 && el.getFirst('img');

		return false;
	}

	// Sets width and height of the widget image according to current widget data.
	//
	// @param {CKEDITOR.plugins.widget} widget
	function setDimensions(widget) {
		var data = widget.data;

		var dimensions = { width: data.width, height: data.height };

		var image = widget.parts.image;

		for (var d in dimensions) {
			if (dimensions[d]) image.setAttribute(d, dimensions[d]);else image.removeAttribute(d);
		}
	}

	// Defines all features related to drag-driven image resizing.
	//
	// @param {CKEDITOR.plugins.widget} widget
	function setupResizer(widget) {
		var editor = widget.editor;

		var editable = editor.editable();

		var doc = editor.document;

		// Store the resizer in a widget for testing (#11004).

		var resizer = widget.resizer = doc.createElement('span');

		// Create resizer for each corner (NE, NW, SE, SW)

		var resizerNE = doc.createElement('span');

		var resizerNW = doc.createElement('span');

		var resizerSE = doc.createElement('span');

		var resizerSW = doc.createElement('span');

		resizerNE.addClass('cke_image_resizer');
		resizerNE.addClass('cke_image_resizer_ne');

		resizerNW.addClass('cke_image_resizer');
		resizerNW.addClass('cke_image_resizer_nw');

		resizerSE.addClass('cke_image_resizer');
		resizerSE.addClass('cke_image_resizer_se');

		resizerSW.addClass('cke_image_resizer');
		resizerSW.addClass('cke_image_resizer_sw');

		// Add each directional resizer as a child of resizer
		resizer.append(resizerNE);
		resizer.append(resizerNW);
		resizer.append(resizerSE);
		resizer.append(resizerSW);

		// resizer.setAttribute( 'title', editor.lang.ae_dragresize_ie11.resizer );
		resizer.append(new CKEDITOR.dom.text('\u200B', doc));

		// Inline widgets don't need a resizer wrapper as an image spans the entire widget.
		if (!widget.inline) {
			var imageOrLink = widget.parts.link || widget.parts.image;

			var oldResizeWrapper = imageOrLink.getParent();

			var resizeWrapper = doc.createElement('span');

			resizeWrapper.addClass('cke_image_resizer_wrapper');
			resizeWrapper.append(imageOrLink);
			resizeWrapper.append(resizer);
			widget.element.append(resizeWrapper, true);

			// Remove the old wrapper which could came from e.g. pasted HTML
			// and which could be corrupted (e.g. resizer span has been lost).
			if (oldResizeWrapper.is('span')) oldResizeWrapper.remove();
		} else {
			widget.wrapper.append(resizer);
		}

		// Calculate values of size variables and mouse offsets.
		resizer.on('mousedown', function (evt) {
			var image = widget.parts.image;

			// The x-coordinate of the mouse relative to the screen
			// when button gets pressed.

			var startX = evt.data.$.screenX;

			var startY = evt.data.$.screenY;

			// The initial dimensions and aspect ratio of the image.

			var startWidth = image.$.clientWidth;

			var startHeight = image.$.clientHeight;

			var ratio = startWidth / startHeight;

			var listeners = [];

			var target = evt.data.getTarget();

			var factorX = void 0;

			var factorY = void 0;

			var moveDiffX = void 0;

			var moveDiffY = void 0;

			var nativeEvt = void 0;

			var newHeight = void 0;

			var newWidth = void 0;

			var updateData = void 0;

			// "factorX" and "factorY" can be either 1 or -1. I.e.: We need to
			// add/subtract the difference to get proper width, etc. Without "factorX"
			// and "factorY", resizer starts working the opposite way.
			if (target.hasClass('cke_image_resizer_ne')) {
				factorX = 1;
				factorY = 1;
			} else if (target.hasClass('cke_image_resizer_nw')) {
				factorX = -1;
				factorY = 1;
			} else if (target.hasClass('cke_image_resizer_se')) {
				factorX = 1;
				factorY = -1;
			} else if (target.hasClass('cke_image_resizer_sw')) {
				factorX = -1;
				factorY = -1;
			}

			// A class applied to editable during resizing.
			var cursorClass = 'cke_image_' + (!~factorY ? 's' : 'n') + (!~factorX ? 'w' : 'e');

			// Save the undo snapshot first: before resizing.
			editor.fire('saveSnapshot');

			// Mousemove listeners are removed on mouseup.
			attachToDocuments('mousemove', onMouseMove, listeners);

			// Clean up the mousemove listener. Update widget data if valid.
			attachToDocuments('mouseup', onMouseUp, listeners);

			// The entire editable will have the special cursor while resizing goes on.
			editable.addClass(cursorClass);

			// This is to always keep the resizer element visible while resizing.
			resizer.addClass('cke_image_resizing');

			// Attaches an event to a global document if inline editor.
			// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.
			function attachToDocuments(name, callback, collection) {
				var globalDoc = CKEDITOR.document;

				var listeners = [];

				if (!doc.equals(globalDoc)) listeners.push(globalDoc.on(name, callback));

				listeners.push(doc.on(name, callback));

				if (collection) {
					for (var i = listeners.length; i--;) {
						collection.push(listeners.pop());
					}
				}
			}

			// Calculate width first, and then adjust height, preserving ratio.
			function adjustToX() {
				newWidth = startWidth + factorX * moveDiffX;
				newHeight = Math.round(newWidth / ratio);
			}

			// Calculate height first, and then adjust width, preserving ratio.
			function adjustToY() {
				newHeight = startHeight + factorY * moveDiffY;
				newWidth = Math.round(newHeight * ratio);
			}

			// This is how variables refer to the geometry.
			// Note: x corresponds to moveOffset, this is the position of mouse
			// Note: o corresponds to [startX, startY].
			//
			// 	+--------------+--------------+
			// 	|              |              |
			// 	|      I       |      II      |
			// 	|              |              |
			// 	+------------- o -------------+ _ _ _
			// 	|              |              |      ^
			// 	|      VI      |     III      |      | moveDiffY
			// 	|              |         x _ _ _ _ _ v
			// 	+--------------+---------|----+
			// 	               |         |
			// 	                <------->
			// 	                moveDiffX
			function onMouseMove(evt) {
				nativeEvt = evt.data.$;

				// This is how far the mouse is from the point the button was pressed.
				moveDiffX = nativeEvt.screenX - startX;
				moveDiffY = startY - nativeEvt.screenY;

				// Resize with NE, SE drag handles
				if (factorX == 1) {
					if (moveDiffX <= 0) {
						adjustToY();
					} else {
						adjustToX();
					}
				}
				// Resize with NW, SW drag handles
				else {
						if (moveDiffX <= 0) {
							adjustToX();
						} else {
							adjustToY();
						}
					}

				// Don't update attributes if less than 10.
				// This is to prevent images to visually disappear.
				if (newWidth >= 15 && newHeight >= 15) {
					image.$.style.width = newWidth + 'px';
					image.$.style.height = newHeight + 'px';

					updateData = true;
				} else {
					updateData = false;
				}
			}

			function onMouseUp() {
				var l = void 0;

				while (l = listeners.pop()) {
					l.removeListener();
				} // Restore default cursor by removing special class.
				editable.removeClass(cursorClass);

				// This is to bring back the regular behaviour of the resizer.
				resizer.removeClass('cke_image_resizing');

				if (updateData) {
					widget.setData({
						height: newHeight,
						width: newWidth
					});

					// Save another undo snapshot: after resizing.
					editor.fire('saveSnapshot');
				}

				// Don't update data twice or more.
				updateData = false;
			}
		});
	}

	/**
  * Removes the alignment value of an image
  *
  * @param {CKEDITOR.dom.element} image The image element
  * @param {String} imageAlignment The image alignment value to be removed
  */
	var removeWidgetAlignment = function removeWidgetAlignment(widget, imageAlignment) {
		if (imageAlignment === 'left' || imageAlignment === 'right') {
			widget.wrapper.removeStyle('float');
		} else if (imageAlignment === 'center') {
			widget.editor.execCommand('justifyleft');
			widget.editor.execCommand('justifyleft');
		}
	};

	// Integrates widget alignment setting with justify
	// plugin's commands (execution and refreshment).
	// @param {CKEDITOR.editor} editor
	// @param {String} value 'left', 'right', 'center' or 'block'
	function alignCommandIntegrator(editor) {
		var execCallbacks = [];

		var enabled = void 0;

		return function (value) {
			var command = editor.getCommand('justify' + value);

			// Most likely, the justify plugin isn't loaded.
			if (!command) return;

			// This command will be manually refreshed along with
			// other commands after exec.
			execCallbacks.push(function () {
				command.refresh(editor, editor.elementPath());
			});

			if (value in { right: 1, left: 1, center: 1 }) {
				command.on('exec', function (evt) {
					var widget = getFocusedWidget(editor);

					if (widget) {
						if (widget.data.align === value) {
							removeWidgetAlignment(widget, value);

							delete widget.data.align;
						} else {
							widget.setData('align', value);
						}

						// Once the widget changed its align, all the align commands
						// must be refreshed: the event is to be cancelled.
						for (var i = execCallbacks.length; i--;) {
							execCallbacks[i]();
						}evt.cancel();
					}
				});
			}

			command.on('refresh', function (evt) {
				var widget = getFocusedWidget(editor);

				var allowed = { right: 1, left: 1, center: 1 };

				if (!widget) return;

				// Cache "enabled" on first use. This is because filter#checkFeature may
				// not be available during plugin's afterInit in the future — a moment when
				// alignCommandIntegrator is called.
				if (enabled === undefined) enabled = editor.filter.checkFeature(editor.widgets.registered.image.features.align);

				// Don't allow justify commands when widget alignment is disabled (#11004).
				if (!enabled) this.setState(CKEDITOR.TRISTATE_DISABLED);else {
					this.setState(widget.data.align == value ? CKEDITOR.TRISTATE_ON : value in allowed ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
				}

				evt.cancel();
			});
		};
	}

	// Returns the focused widget, if of the type specific for this plugin.
	// If no widget is focused, `null` is returned.
	//
	// @param {CKEDITOR.editor}
	// @returns {CKEDITOR.plugins.widget}
	function getFocusedWidget(editor) {
		var widget = editor.widgets.focused;

		if (widget && widget.name == 'image') return widget;

		return null;
	}

	// Returns a set of widget allowedContent rules, depending
	// on configurations like config#ae_dragresize_ie11_alignClasses or
	// config#ae_dragresize_ie11_captionedClass.
	//
	// @param {CKEDITOR.editor}
	// @returns {Object}
	function getWidgetAllowedContent(editor) {
		var alignClasses = editor.config.ae_dragresize_ie11_alignClasses;

		var rules = {
			// Widget may need <div> or <p> centering wrapper.
			div: {
				match: centerWrapperChecker(editor)
			},
			p: {
				match: centerWrapperChecker(editor)
			},
			img: {
				attributes: '!src,alt,width,height'
			},
			figure: {
				classes: '!' + editor.config.ae_dragresize_ie11_captionedClass
			},
			figcaption: true
		};

		if (alignClasses) {
			// Centering class from the config.
			rules.div.classes = alignClasses[1];
			rules.p.classes = rules.div.classes;

			// Left/right classes from the config.
			rules.img.classes = alignClasses[0] + ',' + alignClasses[2];
			rules.figure.classes += ',' + rules.img.classes;
		} else {
			// Centering with text-align.
			rules.div.styles = 'text-align';
			rules.p.styles = 'text-align';

			rules.img.styles = 'float';
			rules.figure.styles = 'float,display';
		}

		return rules;
	}

	// Returns a set of widget feature rules, depending
	// on editor configuration. Note that the following may not cover
	// all the possible cases since requiredContent supports a single
	// tag only.
	//
	// @param {CKEDITOR.editor}
	// @returns {Object}
	function getWidgetFeatures(editor) {
		var alignClasses = editor.config.ae_dragresize_ie11_alignClasses;

		var features = {
			dimension: {
				requiredContent: 'img[width,height]'
			},
			align: {
				requiredContent: 'img' + (alignClasses ? '(' + alignClasses[0] + ')' : '{float}')
			},
			caption: {
				requiredContent: 'figcaption'
			}
		};

		return features;
	}

	// Returns element which is styled, considering current
	// state of the widget.
	//
	// @see CKEDITOR.plugins.widget#applyStyle
	// @param {CKEDITOR.plugins.widget} widget
	// @returns {CKEDITOR.dom.element}
	function getStyleableElement(widget) {
		return widget.data.hasCaption ? widget.element : widget.parts.image;
	}
})();

/**
 * A CSS class applied to the `<figure>` element of a captioned image.
 *
 * Read more in the [documentation](#!/guide/dev_captionedimage) and see the
 * [SDK sample](http://sdk.ckeditor.com/samples/captionedimage.html).
 *
 *		// Changes the class to "captionedImage".
 *		config.ae_dragresize_ie11_captionedClass = 'captionedImage';
 *
 * @cfg {String} [ae_dragresize_ie11_captionedClass='image']
 * @member CKEDITOR.config
 */
CKEDITOR.config.ae_dragresize_ie11_captionedClass = 'image';

/***/ }),

/***/ "./src/plugins/embed.js":
/*!******************************!*\
  !*** ./src/plugins/embed.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _priorities = __webpack_require__(/*! ./priorities */ "./src/plugins/priorities.js");

/* istanbul ignore if */
if (!CKEDITOR.plugins.get('ae_embed')) {
	var REGEX_HTTP = /^https?/;

	var REGEX_DEFAULT_LINK = /<a href=/;

	CKEDITOR.DEFAULT_AE_EMBED_URL_TPL = 'http://alloy.iframe.ly/api/oembed?url={url}&callback={callback}';
	CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL = '<div data-ae-embed-url="{url}"></div>';
	CKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL = '<a href="{url}">{url}</a>';
	/**
  * CKEditor plugin which adds the infrastructure to embed urls as media objects using an oembed
  * service. By default, and for demoing purposes only, the oembed service is hosted in iframe.ly
  * at //alloy.iframe.ly/api/oembed?url={url}&callback={callback}. Note this should be changed to
  * a self-hosted or paid service in production environments. Access to the alloy.iframe.ly endpoint
  * may be restricted per domain due to significant traffic.
  *
  * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it
  * to an embedded content.
  *
  * @class CKEDITOR.plugins.ae_embed
  */
	CKEDITOR.plugins.add('ae_embed', {
		requires: 'widget',
		init: function init(editor) {
			var AE_EMBED_URL_TPL = new CKEDITOR.template(editor.config.embedUrlTemplate || CKEDITOR.DEFAULT_AE_EMBED_URL_TPL);
			var AE_EMBED_WIDGET_TPL = new CKEDITOR.template(editor.config.embedWidgetTpl || CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL);
			var AE_EMBED_DEFAULT_LINK_TPL = new CKEDITOR.template(editor.config.embedLinkDefaultTpl || CKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL);

			// Default function to upcast DOM elements to embed widgets.
			// It matches CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL
			var defaultEmbedWidgetUpcastFn = function defaultEmbedWidgetUpcastFn(element, data) {
				if (element.name === 'div' && element.attributes['data-ae-embed-url']) {
					data.url = element.attributes['data-ae-embed-url'];

					return true;
				}
			};

			// Create a embedUrl command that can be invoked to easily embed media URLs
			editor.addCommand('embedUrl', {
				exec: function exec(editor, data) {
					editor.insertHtml(AE_EMBED_WIDGET_TPL.output({
						url: data.url
					}));
				}
			});

			// Create a widget to properly handle embed operations
			editor.widgets.add('ae_embed', {
				mask: true,
				requiredContent: 'div[data-ae-embed-url]',

				/**
     * Listener to be executed every time the widget's data changes. It takes care of
     * requesting the embed object to the configured oembed service and render it in
     * the editor
     *
     * @method data
     * @param {event} event Data change event
     */
				data: function data(event) {
					var widget = this;

					var url = event.data.url;

					if (url) {
						CKEDITOR.tools.jsonp(AE_EMBED_URL_TPL, {
							url: encodeURIComponent(url)
						}, function (response) {
							if (response.html) {
								if (REGEX_DEFAULT_LINK.test(response.html)) {
									widget.createATag(url);
								} else {
									widget.element.setHtml(response.html);
								}
							} else {
								widget.createATag(url);
							}
						}, function (_msg) {
							widget.createATag(url);
						});
					}
				},
				createATag: function createATag(url) {
					this.editor.execCommand('undo');

					var aTagHtml = AE_EMBED_DEFAULT_LINK_TPL.output({
						url: url
					});

					this.editor.insertHtml(aTagHtml);
					this.editor.fire('actionPerformed', this);
				},


				/**
     * Function used to upcast an element to ae_embed widgets.
     *
     * @method upcast
     * @param {CKEDITOR.htmlParser.element} element The element to be checked
     * @param {Object} data The object that will be passed to the widget
     */
				upcast: function upcast(element, data) {
					var embedWidgetUpcastFn = editor.config.embedWidgetUpcastFn || defaultEmbedWidgetUpcastFn;

					return embedWidgetUpcastFn(element, data);
				}
			});

			// Add a listener to handle paste events and turn links into embed objects
			editor.once('contentDom', function () {
				editor.on('paste', function (event) {
					var link = event.data.dataValue;

					if (REGEX_HTTP.test(link)) {
						event.stop();

						editor.execCommand('embedUrl', {
							url: event.data.dataValue
						});
					}
				}, null, null,
				// Make sure we run before autolink's paste handler,
				// otherwise the link will be turned into an anchor and our
				// REGEX_HTTP test will fail.
				_priorities.HIGH_PRIORITY);
			});

			// Add a listener to handle selection change events and properly detect editor
			// interactions on the widgets without messing with widget native selection
			editor.on('selectionChange', function (_event) {
				var selection = editor.getSelection();

				if (selection) {
					var element = selection.getSelectedElement();

					if (element) {
						var widgetElement = element.findOne('[data-widget="ae_embed"]');

						if (widgetElement) {
							var region = element.getClientRect();

							var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();
							region.left -= scrollPosition.x;
							region.top += scrollPosition.y;

							region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;

							editor.fire('editorInteraction', {
								nativeEvent: {},
								selectionData: {
									element: widgetElement,
									region: region
								}
							});
						}
					}
				}
			});

			// Add a filter to skip filtering widget elements
			editor.filter.addElementCallback(function (element) {
				if ('data-ae-embed-url' in element.attributes) {
					return CKEDITOR.FILTER_SKIP_TREE;
				}
			});
		}
	});
} /**
   * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
   * SPDX-License-Identifier: LGPL-3.0-or-later
   */

/***/ }),

/***/ "./src/plugins/embedurl.js":
/*!*********************************!*\
  !*** ./src/plugins/embedurl.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _Resizer = __webpack_require__(/*! ./Resizer.es */ "./src/plugins/Resizer.es.js");

var _Resizer2 = _interopRequireDefault(_Resizer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

if (!CKEDITOR.plugins.get('embedurl')) {
	var REGEX_HTTP = /^https?/;

	CKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL = '<div data-embed-url="{url}" class="embed-responsive embed-responsive-16by9">{content}<div class="embed-help-message">{helpMessageIcon}<span> {helpMessage}</span></div></div><br>';

	/**
  * Enum for supported embed alignments
  * @type {Object}
  */

	var EMBED_ALIGNMENT = {
		CENTER: 'center',
		LEFT: 'left',
		RIGHT: 'right'
	};

	/**
  * Enum values for supported embed alignments
  * @type {Array}
  */

	var ALIGN_VALUES = [EMBED_ALIGNMENT.CENTER, EMBED_ALIGNMENT.LEFT, EMBED_ALIGNMENT.RIGHT];

	/**
  * Necessary styles for the center alignment
  * @type {Array.<Object>}
  */

	var CENTERED_EMBED_STYLE = [{
		name: 'display',
		value: 'block'
	}, {
		name: 'margin-left',
		value: 'auto'
	}, {
		name: 'margin-right',
		value: 'auto'
	}];

	/**
  * Retrieves the alignment value of an embed element.
  *
  * @param {CKEDITOR.dom.element} embed The embed element
  * @return {String} The alignment value
  */

	var getEmbedAlignment = function getEmbedAlignment(embed) {
		var embedAlignment = embed.getStyle('float');

		if (!embedAlignment || embedAlignment === 'inherit' || embedAlignment === 'none') {
			embedAlignment = embed.getAttribute('align');
		}

		if (!embedAlignment) {
			var centeredEmbed = CENTERED_EMBED_STYLE.every(function (style) {
				var styleCheck = embed.getStyle(style.name) === style.value;

				if (!styleCheck && style.vendorPrefixes) {
					styleCheck = style.vendorPrefixes.some(function (vendorPrefix) {
						return embed.getStyle(vendorPrefix + style.name) === style.value;
					});
				}

				return styleCheck;
			});

			embedAlignment = centeredEmbed ? EMBED_ALIGNMENT.CENTER : null;
		}

		return embedAlignment;
	};

	/**
  * Removes the alignment value of an embed
  *
  * @param {CKEDITOR.dom.element} embed The embed element
  * @param {String} embedAlignment The embed alignment value to be removed
  */

	var removeEmbedAlignment = function removeEmbedAlignment(embed, embedAlignment) {
		if (embedAlignment === EMBED_ALIGNMENT.LEFT || embedAlignment === EMBED_ALIGNMENT.RIGHT) {
			embed.removeStyle('float');

			if (embedAlignment === getEmbedAlignment(embed)) {
				embed.removeAttribute('align');
			}
		} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {
			CENTERED_EMBED_STYLE.forEach(function (style) {
				embed.removeStyle(style.name);

				if (style.vendorPrefixes) {
					style.vendorPrefixes.forEach(function (vendorPrefix) {
						return embed.removeStyle(vendorPrefix + style.name);
					});
				}
			});
		}
	};

	/**
  * Sets the alignment value of an embed
  *
  * @param {CKEDITOR.dom.element} embed The embed element
  * @param {String} embedAlignment The embed alignment value to be set
  */

	var setEmbedAlignment = function setEmbedAlignment(embed, embedAlignment) {
		removeEmbedAlignment(embed, getEmbedAlignment(embed));

		if (embedAlignment === EMBED_ALIGNMENT.LEFT || embedAlignment === EMBED_ALIGNMENT.RIGHT) {
			embed.setStyle('float', embedAlignment);
		} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {
			CENTERED_EMBED_STYLE.forEach(function (style) {
				embed.setStyle(style.name, style.value);

				if (style.vendorPrefixes) {
					style.vendorPrefixes.forEach(function (vendorPrefix) {
						return embed.setStyle(vendorPrefix + style.name, style.value);
					});
				}
			});
		}
	};

	var getSelectedElement = function getSelectedElement(editor) {
		var result = {
			alignment: null,
			element: null
		};

		var selection = editor.getSelection();

		if (selection) {
			var selectedElement = selection.getSelectedElement();

			if (selectedElement && selectedElement.getAttribute('data-cke-widget-wrapper')) {
				result.alignment = getEmbedAlignment(selectedElement);
				result.element = selectedElement;
			}
		}

		return result;
	};

	var resizeElement = function resizeElement(el, width, height) {
		var wrapperElement = el.parentElement;

		if (wrapperElement && width > 0 && height > 0) {
			var rect = wrapperElement.getBoundingClientRect();

			var pwidth = width >= rect.width ? 100 : Math.floor(width / rect.width * 100);
			var style = 'width:' + pwidth + '%;';

			wrapperElement.setAttribute('style', style);

			var widgetElement = wrapperElement.querySelector('[data-widget="embedurl"]');

			if (widgetElement) {
				var styles = JSON.parse(widgetElement.getAttribute('data-styles')) || {};

				styles.width = width + 'px';
				styles.height = height + 'px';

				widgetElement.setAttribute('data-styles', JSON.stringify(styles));

				var iframeElement = widgetElement.querySelector('iframe');

				if (iframeElement) {
					iframeElement.setAttribute('width', width);
					iframeElement.setAttribute('height', height);
				}
			}
		}
	};

	var selectWidget = function selectWidget(editor) {
		setTimeout(function () {
			var selection = editor.getSelection();

			if (selection) {
				var wrapperElement = selection.root.find('[data-cke-widget-wrapper]');

				if (wrapperElement) {
					var elementList = wrapperElement.$;
					if (elementList.length > 0) {
						var lastElement = new CKEDITOR.dom.element(elementList[elementList.length - 1]);

						var imageElement = lastElement.findOne('img');
						var widgetElement = lastElement.findOne('[data-widget="embedurl"]');

						if (imageElement && widgetElement) {
							var range = editor.createRange();

							range.setStart(widgetElement, 0);
							range.setEnd(imageElement, 1);

							selection.selectRanges([range]);
							selection.selectElement(lastElement);
						}
					}
				}
			}
		}, 0);
	};

	var currentAlignment = null;
	var currentElement = null;
	var resizer = null;

	/**
  * CKEditor plugin which adds the infrastructure to embed urls as media objects
  *
  * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it
  * to an embedded content.
  *
  * @class CKEDITOR.plugins.embedurl
  */

	CKEDITOR.plugins.add('embedurl', {
		requires: 'widget',

		init: function init(editor) {
			var LFR_EMBED_WIDGET_TPL = new CKEDITOR.template(editor.config.embedWidgetTpl || CKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL);

			var providers = editor.config.embedProviders || [];

			providers = providers.map(function (provider) {
				return {
					id: provider.id,
					tpl: new CKEDITOR.template('<div data-embed-id="{embedId}">' + provider.tpl + '</div>'),
					type: provider.type,
					urlSchemes: provider.urlSchemes.map(function (scheme) {
						return new RegExp(scheme);
					})
				};
			});

			var generateEmbedContent = function generateEmbedContent(url, content) {
				return LFR_EMBED_WIDGET_TPL.output({
					content: content,
					helpMessage: AlloyEditor.Strings.videoPlaybackDisabled,
					helpMessageIcon: Liferay.Util.getLexiconIconTpl('info-circle'),
					url: url
				});
			};

			var defaultEmbedWidgetUpcastFn = function defaultEmbedWidgetUpcastFn(element, data) {
				var upcastWidget = false;

				if (element.name === 'div' && element.attributes['data-embed-url']) {
					data.url = element.attributes['data-embed-url'];

					upcastWidget = true;
				} else if (element.name === 'div' && element.attributes['data-embed-id']) {
					var iframe = element.children[0];

					data.url = iframe.attributes.src;

					delete element.attributes.style;

					var embedContent = generateEmbedContent(data.url, element.getOuterHtml());

					var widgetFragment = new CKEDITOR.htmlParser.fragment.fromHtml(embedContent);

					upcastWidget = widgetFragment.children[0];

					upcastWidget.attributes['data-styles'] = element.attributes['data-styles'];
					upcastWidget.removeClass('embed-responsive');
					upcastWidget.removeClass('embed-responsive-16by9');

					element.replaceWith(upcastWidget);
				}

				return upcastWidget;
			};

			var showError = function showError(errorMsg) {
				editor.fire('error', errorMsg);

				setTimeout(function () {
					editor.getSelection().removeAllRanges();

					editor.focus();

					resizer.hide();
				}, 0);
			};

			editor.addCommand('embedUrl', {
				exec: function exec(editor, data) {
					var type = data.type;
					var url = data.url;
					var content = void 0;

					if (REGEX_HTTP.test(url)) {
						var validProvider = providers.filter(function (provider) {
							return type ? provider.type === type : true;
						}).some(function (provider) {
							var scheme = provider.urlSchemes.find(function (scheme) {
								return scheme.test(url);
							});

							if (scheme) {
								var embedId = scheme.exec(url)[1];

								content = provider.tpl.output({
									embedId: embedId
								});
							}

							return scheme;
						});

						if (validProvider) {
							editor._selectEmbedWidget = url;

							var embedContent = generateEmbedContent(url, content);

							editor.insertHtml(embedContent);
						} else {
							showError(AlloyEditor.Strings.platformNotSupported);
						}
					} else {
						showError(AlloyEditor.Strings.enterValidUrl);
					}
				}
			});

			editor.widgets.add('embedurl', {
				draggable: false,
				mask: true,
				requiredContent: 'div[data-embed-url]',

				data: function data(event) {
					var instance = this;

					// Sync dimensions and alignment with editor wrapper

					var styles = null;

					var stylesJSON = instance.element.getAttribute('data-styles');

					if (stylesJSON) {
						try {
							styles = JSON.parse(stylesJSON);
						} catch (_error) {
							styles = null;
						}
					}

					if (!styles) {
						var iframe = instance.wrapper.findOne('iframe');

						var bounds = instance.wrapper.$.getBoundingClientRect();
						var width = iframe.getAttribute('width');

						var pwidth = width >= bounds.width ? 100 : Math.round(width / bounds.width * 100);

						styles = {
							width: pwidth + '%'
						};
					}

					instance.wrapper.setAttribute('style', CKEDITOR.tools.writeCssText(styles));

					if (editor._selectEmbedWidget === event.data.url) {
						selectWidget(editor);
					}
				},
				downcast: function downcast(widget) {
					var embedContent = widget.children[0];

					embedContent.attributes.class = 'embed-responsive embed-responsive-16by9';

					embedContent.attributes['data-styles'] = JSON.stringify(CKEDITOR.tools.parseCssText(widget.parent.attributes.style));

					embedContent.attributes.style = widget.parent.attributes.style;

					return embedContent;
				},
				upcast: function upcast(element, data) {
					var embedWidgetUpcastFn = editor.config.embedWidgetUpcastFn || defaultEmbedWidgetUpcastFn;

					return embedWidgetUpcastFn(element, data);
				}
			});

			window.addEventListener('resize', function () {
				resizer.hide();
				selectWidget(editor);
			}, false);

			editor.on('selectionChange', function (_event) {
				var selection = editor.getSelection();

				if (selection) {
					var element = selection.getSelectedElement();

					if (element) {
						var widgetElement = element.findOne('[data-widget="embedurl"]');

						if (widgetElement) {
							var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();

							var region = element.getClientRect();

							region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;
							region.left -= scrollPosition.x;
							region.top += scrollPosition.y;

							editor.fire('editorInteraction', {
								nativeEvent: {},
								selectionData: {
									element: widgetElement,
									region: region
								}
							});
						}

						var imageElement = element.findOne('img.cke_widget_mask');

						if (imageElement) {
							resizer.show(imageElement.$);
						}
					} else {
						resizer.hide();
					}
				}
			});

			editor.on('destroy', function () {
				var resizeElement = document.getElementById('ckimgrsz');

				if (resizeElement) {
					resizeElement.remove();
				}

				document.removeEventListener('mousedown', mouseDownListener);
			});

			editor.on('blur', function () {
				resizer.hide();
			});

			editor.filter.addElementCallback(function (element) {
				if ('data-embed-url' in element.attributes) {
					return CKEDITOR.FILTER_SKIP_TREE;
				}
			});

			var mouseDownListener = function mouseDownListener(event) {
				var result = getSelectedElement(editor);

				currentAlignment = result.alignment;
				currentElement = result.element;

				if (resizer.isHandle(event.target)) {
					resizer.initDrag(event);
				}
			};

			resizer = new _Resizer2.default(editor, {
				onComplete: function onComplete(element, width, height) {
					resizeElement(element, width, height);

					if (currentAlignment && currentElement) {
						setEmbedAlignment(currentElement, currentAlignment);
					}
					selectWidget(editor);
				}
			});

			document.addEventListener('mousedown', mouseDownListener, false);
		},

		afterInit: function afterInit(editor) {
			ALIGN_VALUES.forEach(function (alignValue) {
				var command = editor.getCommand('justify' + alignValue);

				if (command) {
					command.on('exec', function (event) {
						var selectedElement = editor.getSelection().getSelectedElement();

						if (selectedElement && selectedElement.getAttribute('data-cke-widget-wrapper')) {
							var selectedEmbed = selectedElement.findOne('[data-widget="embedurl"] [data-embed-id]');

							if (selectedEmbed) {
								var embedAlignment = getEmbedAlignment(selectedElement);

								if (embedAlignment === alignValue) {
									removeEmbedAlignment(selectedElement, alignValue);
								} else {
									setEmbedAlignment(selectedElement, alignValue);
								}

								currentElement = selectedElement;
								currentAlignment = getEmbedAlignment(selectedElement);

								var imageElement = selectedElement.findOne('img');

								if (imageElement) {
									resizer.show(imageElement.$);
								}

								event.cancel();

								var elementPath = new CKEDITOR.dom.elementPath(selectedElement);

								ALIGN_VALUES.forEach(function (alignValue) {
									var command = editor.getCommand('justify' + alignValue);

									if (command) {
										command.refresh(editor, elementPath);
									}
								});
							}
						}
					});

					command.on('refresh', function (event) {
						var lastElement = event.data.path.lastElement;

						if (lastElement && lastElement.getAttribute('data-cke-widget-wrapper') && lastElement.findOne('[data-widget] [data-embed-id]')) {
							var embedAlignment = getEmbedAlignment(lastElement);

							event.sender.setState(embedAlignment === alignValue ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);

							event.cancel();
						}
					});
				}
			});
		}
	});
} /**
   * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
   * SPDX-License-Identifier: LGPL-3.0-or-later
   */

exports.default = CKEDITOR.plugins.get('embedurl');

/***/ }),

/***/ "./src/plugins/imagealignment.js":
/*!***************************************!*\
  !*** ./src/plugins/imagealignment.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _selectionTest = __webpack_require__(/*! ../selections/selection-test */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**
                                                                                                                                                                                                                   * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
                                                                                                                                                                                                                   * SPDX-License-Identifier: LGPL-3.0-or-later
                                                                                                                                                                                                                   */

if (!CKEDITOR.plugins.get('ae_imagealignment')) {
	var _IMAGE_STYLE_ALIGNMEN;

	/**
  * Enum for supported image alignments
  * @type {Object}
  */
	var IMAGE_ALIGNMENT = {
		CENTER: 'center',
		LEFT: 'left',
		RIGHT: 'right'
	};

	/**
  * Enum values for supported image alignments
  * @type {Array}
  */
	var ALIGN_VALUES = [IMAGE_ALIGNMENT.LEFT, IMAGE_ALIGNMENT.RIGHT, IMAGE_ALIGNMENT.CENTER];

	/**
  * Necessary styles for the left|center|right alignment
  * @type {Array.<Object>}
  */
	var IMAGE_STYLE_ALIGNMENT = (_IMAGE_STYLE_ALIGNMEN = {}, _defineProperty(_IMAGE_STYLE_ALIGNMEN, IMAGE_ALIGNMENT.LEFT, [{
		name: 'display',
		value: 'inline-block'
	}, {
		name: 'float',
		value: 'left'
	}, {
		name: 'margin-right',
		value: '1.2rem'
	}]), _defineProperty(_IMAGE_STYLE_ALIGNMEN, IMAGE_ALIGNMENT.CENTER, [{
		name: 'display',
		value: 'block'
	}, {
		name: 'margin-left',
		value: 'auto'
	}, {
		name: 'margin-right',
		value: 'auto'
	}]), _defineProperty(_IMAGE_STYLE_ALIGNMEN, IMAGE_ALIGNMENT.RIGHT, [{
		name: 'display',
		value: 'inline-block'
	}, {
		name: 'float',
		value: 'right'
	}, {
		name: 'margin-left',
		value: '1.2rem'
	}]), _IMAGE_STYLE_ALIGNMEN);

	/**
  * Retrieves the alignment value of an image.
  *
  * @param {CKEDITOR.dom.element} image The image element
  * @return {String} The alignment value
  */
	var getImageAlignment = function getImageAlignment(image) {
		var imageAlignment = image.getStyle('float');

		if (!imageAlignment || imageAlignment === 'inherit' || imageAlignment === 'none') {
			imageAlignment = image.getAttribute('align');
		}

		if (!imageAlignment) {
			var centeredImage = IMAGE_STYLE_ALIGNMENT[IMAGE_ALIGNMENT.CENTER].every(function (style) {
				var styleCheck = image.getStyle(style.name) === style.value;

				if (!styleCheck && style.vendorPrefixes) {
					styleCheck = style.vendorPrefixes.some(function (vendorPrefix) {
						return image.getStyle(vendorPrefix + style.name) === style.value;
					});
				}

				return styleCheck;
			});

			if (!imageAlignment) {
				var imageContainer = image.$.parentNode;

				if (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {
					IMAGE_STYLE_ALIGNMENT[IMAGE_ALIGNMENT.CENTER].forEach(function (style) {
						image.setStyle(style.name, style.value);

						if (style.vendorPrefixes) {
							style.vendorPrefixes.forEach(function (vendorPrefix) {
								image.setStyle(vendorPrefix + style.name, style.value);
							});
						}
					});
					centeredImage = true;
					imageContainer.style.textAlign = '';
				}
			}

			imageAlignment = centeredImage ? IMAGE_ALIGNMENT.CENTER : null;
		}

		if (!CKEDITOR.env.edge && CKEDITOR.env.ie) {
			var p = image.findOne('p');
			if (p) {
				imageAlignment = p.getStyle('text-align');
			}
		}

		return imageAlignment;
	};

	/**
  * Removes the alignment value of an image
  *
  * @param {CKEDITOR.dom.element} image The image element
  * @param {String} imageAlignment The image alignment value to be removed
  */
	var removeImageAlignment = function removeImageAlignment(image, imageAlignment) {
		if (imageAlignment === IMAGE_ALIGNMENT.LEFT || imageAlignment === IMAGE_ALIGNMENT.RIGHT) {
			if (imageAlignment === getImageAlignment(image)) {
				image.removeAttribute('align');
			}
		} else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {
			var imageContainer = image.$.parentNode;

			if (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {
				imageContainer.style.textAlign = '';
			}
		}

		var styles = IMAGE_STYLE_ALIGNMENT[imageAlignment];

		if (styles) {
			styles.forEach(function (style) {
				image.removeStyle(style.name);

				if (style.vendorPrefixes) {
					style.vendorPrefixes.forEach(function (vendorPrefix) {
						image.removeStyle(vendorPrefix + style.name);
					});
				}
			});
		}
	};

	/**
  * Sets the alignment value of an image
  *
  * @param {CKEDITOR.dom.element} image The image element
  * @param {String} imageAlignment The image alignment value to be set
  */
	var setImageAlignment = function setImageAlignment(image, imageAlignment) {
		removeImageAlignment(image, getImageAlignment(image));

		var styles = IMAGE_STYLE_ALIGNMENT[imageAlignment];

		if (styles) {
			styles.forEach(function (style) {
				image.setStyle(style.name, style.value);

				if (style.vendorPrefixes) {
					style.vendorPrefixes.forEach(function (vendorPrefix) {
						image.setStyle(vendorPrefix + style.name, style.value);
					});
				}
			});
		}
	};

	/**
  * CKEditor plugin which modifies the justify commands to properly align images. This
  * plugin is an excerpt of CKEditor's original image one that can be found at
  * https://github.com/ckeditor/ckeditor-dev/blob/master/plugins/image/plugin.js
  *
  * @class CKEDITOR.plugins.ae_imagealignment
  */
	CKEDITOR.plugins.add('ae_imagealignment', {
		/**
   * Initialization of the plugin, part of CKEditor plugin lifecycle.
   * The function registers a 'paste' event on the editing area.
   *
   * @method afterInit
   * @param {Object} editor The current editor instance
   */
		afterInit: function afterInit(editor) {
			var self = this;

			ALIGN_VALUES.forEach(function (value) {
				var command = editor.getCommand('justify' + value);

				if (command) {
					command.on('exec', function (event) {
						var selectionData = editor.getSelectionData();

						if (selectionData && _selectionTest2.default.image({
							data: { selectionData: selectionData }
						})) {
							var image = selectionData.element;

							var imageAlignment = getImageAlignment(image);

							if (imageAlignment === value) {
								removeImageAlignment(image, value);
							} else {
								setImageAlignment(image, value);
							}

							event.cancel();

							self.refreshCommands(editor, new CKEDITOR.dom.elementPath(image));
						}
					});

					command.on('refresh', function (event) {
						var selectionData = {
							element: event.data.path.lastElement
						};

						if (_selectionTest2.default.image({
							data: { selectionData: selectionData }
						})) {
							var imageAlignment = getImageAlignment(selectionData.element);

							this.setState(imageAlignment === value ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);

							event.cancel();
						}
					});
				}
			});
		},


		/**
   * Forces a refresh of the modified justify commands. This is needed because the applied changes
   * do not modify the selection, so the refresh is never triggered and the UI does not update
   * properly until the next selectionChange event.
   *
   * @param {CKEDITOR.editor} editor The editor instance
   * @param {CKEDITOR.dom.elementPath} elementPath The path of the selected image
   */
		refreshCommands: function refreshCommands(editor, elementPath) {
			ALIGN_VALUES.forEach(function (value) {
				var command = editor.getCommand('justify' + value);

				if (command) {
					command.refresh(editor, elementPath);
				}
			});
		}
	});
}

/***/ }),

/***/ "./src/plugins/index.js":
/*!******************************!*\
  !*** ./src/plugins/index.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.embedurl = undefined;

__webpack_require__(/*! ./addimages */ "./src/plugins/addimages.js");

__webpack_require__(/*! ./autolink */ "./src/plugins/autolink.js");

__webpack_require__(/*! ./autolist */ "./src/plugins/autolist.js");

__webpack_require__(/*! ./dragresize */ "./src/plugins/dragresize.js");

__webpack_require__(/*! ./dragresize_ie */ "./src/plugins/dragresize_ie.js");

__webpack_require__(/*! ./dragresize_ie11 */ "./src/plugins/dragresize_ie11.js");

__webpack_require__(/*! ./embed */ "./src/plugins/embed.js");

var _embedurl = __webpack_require__(/*! ./embedurl */ "./src/plugins/embedurl.js");

var _embedurl2 = _interopRequireDefault(_embedurl);

__webpack_require__(/*! ./imagealignment */ "./src/plugins/imagealignment.js");

__webpack_require__(/*! ./pasteimages */ "./src/plugins/pasteimages.js");

__webpack_require__(/*! ./placeholder */ "./src/plugins/placeholder.js");

__webpack_require__(/*! ./selectionkeystrokes */ "./src/plugins/selectionkeystrokes.js");

__webpack_require__(/*! ./tableresize */ "./src/plugins/tableresize.js");

__webpack_require__(/*! ./tabletools */ "./src/plugins/tabletools.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

exports.embedurl = _embedurl2.default;

/***/ }),

/***/ "./src/plugins/pasteimages.js":
/*!************************************!*\
  !*** ./src/plugins/pasteimages.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

if (!CKEDITOR.plugins.get('ae_pasteimages')) {
	/**
  * CKEditor plugin which allows pasting images directly into the editable area. The image will be encoded
  * as Data URI. An event `beforeImageAdd` will be fired with the list of pasted images. If any of the listeners
  * returns `false` or cancels the event, the images won't be added to the content. Otherwise,
  * an event `imageAdd` will be fired with the inserted element into the editable area.
  *
  * @class CKEDITOR.plugins.ae_pasteimages
  */

	/**
  * Fired before adding images to the editor.
  * @event beforeImageAdd
  * @param {Array} imageFiles Array of image files
  */

	/**
  * Fired when an image is being added to the editor successfully.
  *
  * @event imageAdd
  * @param {CKEDITOR.dom.element} el The created image with src as Data URI
  * @param {File} file The image file
  */

	CKEDITOR.plugins.add('ae_pasteimages', {
		/**
   * Initialization of the plugin, part of CKEditor plugin lifecycle.
   * The function registers a 'paste' event on the editing area.
   *
   * @method init
   * @param {Object} editor The current editor instance
   */
		init: function init(editor) {
			var _this = this;

			editor.once('contentDom', function () {
				var editable = editor.editable();

				editable.attachListener(editable, 'paste', _this._onPaste, _this, {
					editor: editor
				});
			});
		},


		/**
   * The function creates an img element with src the image data as Data URI.
   * Then, it fires an 'imageAdd' event via CKEditor's event system. The passed
   * params will be:
   * - `el` - the created img element
   * - `file` - the original pasted data
   *
   * @method _onPaste
   * @protected
   * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor
   */
		_onPaste: function _onPaste(event) {
			if (event.data.$.clipboardData) {
				var pastedData = event.data.$.clipboardData.items[0];
				var editor = event.listenerData.editor;

				if (pastedData.type.indexOf('image') === 0) {
					var reader = new FileReader();
					var imageFile = pastedData.getAsFile();

					reader.onload = function (event) {
						var result = editor.fire('beforeImageAdd', {
							imageFiles: imageFile
						});

						if (result) {
							var el = CKEDITOR.dom.element.createFromHtml('<img src="' + event.target.result + '">');

							editor.insertElement(el);

							var imageData = {
								el: el,
								file: imageFile
							};

							editor.fire('imageAdd', imageData);
						}
					};

					reader.readAsDataURL(imageFile);
				}
			}
		}
	});
}

/***/ }),

/***/ "./src/plugins/placeholder.js":
/*!************************************!*\
  !*** ./src/plugins/placeholder.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

if (!CKEDITOR.plugins.get('ae_placeholder')) {
	/**
  * CKEDITOR enterMode config set the behavior of paragraphs
  * When the content is empty CKEDITOR keeps the enterMode string
  * into the content
  * @property
  * @type {string}
  */
	var brFiller = CKEDITOR.env.needsBrFiller ? '<br>' : '';

	var enterModeEmptyValue = {
		1: ['<p>' + brFiller + '</p>'],
		2: ['', ' ', brFiller],
		3: ['<div>' + brFiller + '</div>']
	};

	/**
  * CKEditor plugin which allows adding a placeholder to the editor. In this case, if there
  * is no content to the editor, there will be hint to the user.
  *
  * @class CKEDITOR.plugins.ae_placeholder
  */

	/**
  * Specifies the placeholder class which have to be aded to editor when editor is not focused.
  *
  * @attribute placeholderClass
  * @default ae_placeholder
  * @type String
  */

	CKEDITOR.plugins.add('ae_placeholder', {
		/**
   * Initialization of the plugin, part of CKEditor plugin lifecycle.
   * The function registers a 'blur' and 'contentDom' event listeners.
   *
   * @method init
   * @param {Object} editor The current editor instance
   */
		init: function init(editor) {
			editor.on('blur', this._checkEmptyData, this);
			editor.on('change', this._checkEmptyData, this);
			editor.on('focus', this._removePlaceholderClass, this);
			editor.once('contentDom', this._checkEmptyData, this);
		},


		/**
   * Removes any data from the content and adds a class,
   * specified by the "placeholderClass" config attribute.
   *
   * @protected
   * @method _checkEmptyData
   * @param {CKEDITOR.dom.event} editor event, fired from CKEditor
   */
		_checkEmptyData: function _checkEmptyData(event) {
			var editor = event.editor;

			var editableNode = editor.editable();

			var innerHtml = editableNode.$.innerHTML.trim();

			var isEmpty = enterModeEmptyValue[editor.config.enterMode].some(function (element) {
				return innerHtml === element;
			});

			if (isEmpty) {
				editableNode.addClass(editor.config.placeholderClass);
			} else {
				editableNode.removeClass(editor.config.placeholderClass);
			}
		},


		/**
             * Remove placeholder class when input is focused
             *
             * @protected
             * @method _removePlaceholderClass
             + @param {CKEDITOR.dom.event} editor event, fired from CKEditor
             */
		_removePlaceholderClass: function _removePlaceholderClass(event) {
			var editor = event.editor;

			var editorNode = new CKEDITOR.dom.element(editor.element.$);

			editorNode.removeClass(editor.config.placeholderClass);
		}
	});
}

/***/ }),

/***/ "./src/plugins/priorities.js":
/*!***********************************!*\
  !*** ./src/plugins/priorities.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * Priorities that can be used to control the order in which event handlers run.
 *
 * @see https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_event.html#method-on
 */
var DEFAULT_PRIORITY = exports.DEFAULT_PRIORITY = 10;
var HIGH_PRIORITY = exports.HIGH_PRIORITY = 5;

/***/ }),

/***/ "./src/plugins/selectionkeystrokes.js":
/*!********************************************!*\
  !*** ./src/plugins/selectionkeystrokes.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

if (!CKEDITOR.plugins.get('ae_selectionkeystrokes')) {
	/**
  * CKEditor plugin that simulates editor interaction events based on manual keystrokes. This
  * can be used to trigger different reactions in the editor.
  *
  * @class CKEDITOR.plugins.ae_selectionkeystrokes
  */
	CKEDITOR.plugins.add('ae_selectionkeystrokes', {
		requires: 'ae_selectionregion',

		/**
   * Initialization of the plugin, part of CKEditor plugin lifecycle.
   * The function adds a command to the editor for every defined selectionKeystroke
   * in the configuration and maps it to the specified keystroke.
   *
   * @method init
   * @param {Object} editor The current editor instance
   */
		init: function init(editor) {
			if (editor.config.selectionKeystrokes) {
				editor.config.selectionKeystrokes.forEach(function (selectionKeystroke) {
					var command = new CKEDITOR.command(editor, {
						exec: function exec(editor) {
							editor.fire('editorInteraction', {
								manualSelection: selectionKeystroke.selection,
								nativeEvent: {},
								selectionData: editor.getSelectionData()
							});
						}
					});

					var commandName = 'selectionKeystroke' + selectionKeystroke.selection;

					editor.addCommand(commandName, command);
					editor.setKeystroke(selectionKeystroke.keys, commandName);
				});
			}
		}
	});
}

/***/ }),

/***/ "./src/plugins/tableresize.js":
/*!************************************!*\
  !*** ./src/plugins/tableresize.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */

if (!CKEDITOR.plugins.get('ae_tableresize')) {
	var pxUnit = CKEDITOR.tools.cssLength;

	function getWidth(el) {
		return CKEDITOR.env.ie ? el.$.clientWidth : parseInt(el.getComputedStyle('width'), 10);
	}

	function getBorderWidth(element, side) {
		var computed = element.getComputedStyle('border-' + side + '-width');

		var borderMap = {
			thin: '0px',
			medium: '1px',
			thick: '2px'
		};

		if (computed.indexOf('px') < 0) {
			// look up keywords
			if (computed in borderMap && element.getComputedStyle('border-style') != 'none') {
				computed = borderMap[computed];
			} else {
				computed = 0;
			}
		}

		return parseInt(computed, 10);
	}

	// Gets the table row that contains the most columns.
	function getMasterPillarRow(table) {
		var $rows = table.$.rows;

		var maxCells = 0;

		var cellsCount = void 0;

		var $elected = void 0;

		var $tr = void 0;

		for (var i = 0, len = $rows.length; i < len; i++) {
			$tr = $rows[i];
			cellsCount = $tr.cells.length;

			if (cellsCount > maxCells) {
				maxCells = cellsCount;
				$elected = $tr;
			}
		}

		return $elected;
	}

	function buildTableColumnPillars(table) {
		var pillars = [];

		var pillarIndex = -1;

		var rtl = table.getComputedStyle('direction') === 'rtl';

		// Get the raw row element that cointains the most columns.
		var $tr = getMasterPillarRow(table);

		// Get the tbody element and position, which will be used to set the
		// top and bottom boundaries.
		var tbody = new CKEDITOR.dom.element(table.$.tBodies[0]);

		var tbodyPosition = tbody.getDocumentPosition();

		// Loop thorugh all cells, building pillars after each one of them.
		for (var i = 0, len = $tr.cells.length; i < len; i++) {
			// Both the current cell and the successive one will be used in the
			// pillar size calculation.
			var td = new CKEDITOR.dom.element($tr.cells[i]);

			var nextTd = $tr.cells[i + 1] && new CKEDITOR.dom.element($tr.cells[i + 1]);

			pillarIndex += td.$.colSpan || 1;

			// Calculate the pillar boundary positions.
			var pillarLeft = void 0;
			var pillarRight = void 0;

			var x = td.getDocumentPosition().x;

			// Calculate positions based on the current cell.
			if (rtl) {
				pillarRight = x + getBorderWidth(td, 'left');
			} else {
				pillarLeft = x + td.$.offsetWidth - getBorderWidth(td, 'right');
			}

			// Calculate positions based on the next cell, if available.
			if (nextTd) {
				x = nextTd.getDocumentPosition().x;

				if (rtl) {
					pillarLeft = x + nextTd.$.offsetWidth - getBorderWidth(nextTd, 'right');
				} else {
					pillarRight = x + getBorderWidth(nextTd, 'left');
				}
			}
			// Otherwise calculate positions based on the table (for last cell).
			else {
					x = table.getDocumentPosition().x;

					if (rtl) {
						pillarLeft = x;
					} else {
						pillarRight = x + table.$.offsetWidth;
					}
				}

			var pillarWidth = Math.max(pillarRight - pillarLeft, 4);

			// The pillar should reflects exactly the shape of the hovered
			// column border line.
			pillars.push({
				table: table,
				index: pillarIndex,
				x: pillarLeft,
				y: tbodyPosition.y,
				width: pillarWidth,
				height: tbody.$.offsetHeight,
				rtl: rtl
			});
		}

		return pillars;
	}

	function getPillarAtPosition(pillars, positionX) {
		for (var i = 0, len = pillars.length; i < len; i++) {
			var pillar = pillars[i];

			if (positionX >= pillar.x && positionX <= pillar.x + pillar.width) {
				return pillar;
			}
		}

		return null;
	}

	function cancel(evt) {
		(evt.data || evt).preventDefault();
	}

	function ColumnResizer(editor, pillar) {
		var currentShift = void 0;
		var leftShiftBoundary = void 0;
		var leftSideCells = void 0;
		var resizing = void 0;
		var rightShiftBoundary = void 0;
		var rightSideCells = void 0;
		var startOffset = void 0;

		var document = editor.document;

		var resizer = CKEDITOR.dom.element.createFromHtml('<div data-cke-temp=1 contenteditable=false unselectable=on ' + 'style="position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;' + 'padding:0;background-color:#004;background-image:none;border:0px none;z-index:10"></div>', document);

		var isResizing = this.isResizing = function () {
			return resizing;
		};

		var move = this.move = function (posX) {
			var resizerNewPosition = posX - Math.round(resizer.$.offsetWidth / 2);

			if (isResizing) {
				if (resizerNewPosition === leftShiftBoundary || resizerNewPosition === rightShiftBoundary) {
					return;
				}

				resizerNewPosition = Math.max(resizerNewPosition, leftShiftBoundary);
				resizerNewPosition = Math.min(resizerNewPosition, rightShiftBoundary);

				currentShift = resizerNewPosition - startOffset;
			}

			resizer.setStyle('left', pxUnit(resizerNewPosition));
		};

		function detach() {
			resizer.removeListener('mouseup', onMouseUp);
			resizer.removeListener('mousedown', onMouseDown);
			resizer.removeListener('mousemove', onMouseMove);
		}

		function resizeStart() {
			// Before starting to resize, figure out which cells to change
			// and the boundaries of this resizing shift.

			var columnIndex = pillar.index;

			var map = CKEDITOR.tools.buildTableMap(pillar.table);

			var leftColumnCells = [];

			var rightColumnCells = [];

			var leftMinSize = Number.MAX_VALUE;

			var rightMinSize = leftMinSize;

			var rtl = pillar.rtl;

			for (var i = 0, len = map.length; i < len; i++) {
				var row = map[i];

				var leftCell = row[columnIndex + (rtl ? 1 : 0)];

				var rightCell = row[columnIndex + (rtl ? 0 : 1)];

				leftCell = leftCell && new CKEDITOR.dom.element(leftCell);
				rightCell = rightCell && new CKEDITOR.dom.element(rightCell);

				if (!leftCell || !rightCell || !leftCell.equals(rightCell)) {
					if (leftCell) {
						leftMinSize = Math.min(leftMinSize, getWidth(leftCell));
					}
					if (rightCell) {
						rightMinSize = Math.min(rightMinSize, getWidth(rightCell));
					}

					leftColumnCells.push(leftCell);
					rightColumnCells.push(rightCell);
				}
			}

			// Cache the list of cells to be resized.
			leftSideCells = leftColumnCells;
			rightSideCells = rightColumnCells;

			// Cache the resize limit boundaries.
			leftShiftBoundary = pillar.x - leftMinSize;
			rightShiftBoundary = pillar.x + rightMinSize;

			resizer.setOpacity(0.5);
			startOffset = parseInt(resizer.getStyle('left'), 10);
			currentShift = 0;
			resizing = 1;

			resizer.on('mousemove', onMouseMove);

			// Prevent the native drag behavior otherwise 'mousemove' won't fire.
			document.on('dragstart', cancel);
		}

		function resizeEnd() {
			resizing = 0;

			resizer.setOpacity(0);

			if (currentShift) {
				resizeColumn();
			}

			var table = pillar.table;
			setTimeout(function () {
				table.removeCustomData('_cke_table_pillars');
			}, 0);

			document.removeListener('dragstart', cancel);
		}

		function resizeColumn() {
			var _this = this;

			var rtl = pillar.rtl;

			var cellsCount = rtl ? rightSideCells.length : leftSideCells.length;

			// Perform the actual resize to table cells, only for those by side of the pillar.

			var _loop = function _loop(i) {
				var leftCell = leftSideCells[i];

				var rightCell = rightSideCells[i];

				var table = pillar.table;

				// Defer the resizing to avoid any interference among cells.
				CKEDITOR.tools.setTimeout(function (leftCell, leftOldWidth, rightCell, rightOldWidth, tableWidth, sizeShift) {
					// 1px is the minimum valid width (#11626).
					if (leftCell) {
						leftCell.setStyle('width', pxUnit(Math.max(leftOldWidth + sizeShift, 1)));
					}
					if (rightCell) {
						rightCell.setStyle('width', pxUnit(Math.max(rightOldWidth - sizeShift, 1)));
					}

					// If we're in the last cell, we need to resize the table as well
					if (tableWidth) {
						table.setStyle('width', pxUnit(tableWidth + sizeShift * (rtl ? -1 : 1)));
					}
				}, 0, _this, [leftCell, leftCell && getWidth(leftCell), rightCell, rightCell && getWidth(rightCell), (!leftCell || !rightCell) && getWidth(table) + getBorderWidth(table, 'left') + getBorderWidth(table, 'right'), currentShift]);
			};

			for (var i = 0; i < cellsCount; i++) {
				_loop(i);
			}
		}

		function onMouseDown(evt) {
			cancel(evt);

			resizeStart();

			document.on('mouseup', onMouseUp, this);
		}

		function onMouseUp(evt) {
			evt.removeListener();

			resizeEnd();
		}

		function onMouseMove(evt) {
			move(evt.data.getPageOffset().x);
		}

		// Clean DOM when editor is destroyed.
		editor.on('destroy', function () {
			detach();

			resizer.remove();
		});

		// Place the resizer after body to prevent it
		// from being editable.
		document.getDocumentElement().append(resizer);

		resizer.setStyles({
			width: pxUnit(pillar.width),
			height: pxUnit(pillar.height),
			left: pxUnit(pillar.x),
			top: pxUnit(pillar.y)
		});

		resizer.on('mousedown', onMouseDown, this);

		document.getBody().setStyle('cursor', 'col-resize');

		// Display the resizer to receive events but don't show it,
		// only change the cursor to resizable shape.
		resizer.show();

		this.destroy = function () {
			detach();

			document.getBody().setStyle('cursor', 'auto');

			resizer.remove();
		};
	}

	function clearPillarsCache(evt) {
		var target = evt.data.getTarget();

		if (evt.name === 'mouseout') {
			// Bypass interal mouse move.
			if (!target.is('table')) {
				return;
			}

			var dest = new CKEDITOR.dom.element(evt.data.$.relatedTarget || evt.data.$.toElement);
			while (dest && dest.$ && !dest.equals(target) && !dest.is('body')) {
				dest = dest.getParent();
			}
			if (!dest || dest.equals(target)) {
				return;
			}
		}

		target.getAscendant('table', 1).removeCustomData('_cke_table_pillars');
		evt.removeListener();
	}

	CKEDITOR.plugins.add('ae_tableresize', {
		requires: 'ae_tabletools',

		init: function init(editor) {
			editor.on('contentDom', function () {
				var resizer = void 0;

				var editable = editor.editable();

				// In Classic editor it is better to use document
				// instead of editable so event will work below body.
				editable.attachListener(editable.isInline() ? editable : editor.document, 'mousemove', function (evt) {
					evt = evt.data;

					var target = evt.getTarget();

					// FF may return document and IE8 some UFO (object with no nodeType property...)
					// instead of an element (#11823).
					if (target.type !== CKEDITOR.NODE_ELEMENT) {
						return;
					}

					var pageX = evt.getPageOffset().x;

					// If we're already attached to a pillar, simply move the
					// resizer.
					if (resizer) {
						if (resizer.isResizing()) {
							resizer.move(pageX);

							cancel(evt);

							return;
						} else {
							resizer.destroy();

							resizer = null;
						}
					}

					// Considering table, tr, td, tbody but nothing else.
					var pillars = void 0;

					if (!target.is('table') && !target.getAscendant('tbody', 1)) {
						return;
					}

					var table = target.getAscendant('table', 1);

					// Make sure the table we found is inside the container
					// (eg. we should not use tables the editor is embedded within)
					if (!editor.editable().contains(table)) {
						return;
					}

					if (!(pillars = table.getCustomData('_cke_table_pillars'))) {
						// Cache table pillars calculation result.
						table.setCustomData('_cke_table_pillars', pillars = buildTableColumnPillars(table));
						table.on('mouseout', clearPillarsCache);
						table.on('mousedown', clearPillarsCache);
					}

					var pillar = getPillarAtPosition(pillars, pageX);

					if (pillar) {
						resizer = new ColumnResizer(editor, pillar);
					}
				});
			});
		}
	});
}

/***/ }),

/***/ "./src/plugins/tabletools.js":
/*!***********************************!*\
  !*** ./src/plugins/tabletools.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

/**
 * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */

if (!CKEDITOR.plugins.get('ae_tabletools')) {
	var cellNodeRegex = /^(?:td|th)$/;

	function getSelectedCells(selection) {
		var ranges = selection.getRanges();
		var retval = [];
		var database = {};

		function moveOutOfCellGuard(node) {
			// Apply to the first cell only.
			if (retval.length > 0) return;

			// If we are exiting from the first </td>, then the td should definitely be
			// included.
			if (node.type == CKEDITOR.NODE_ELEMENT && cellNodeRegex.test(node.getName()) && !node.getCustomData('selected_cell')) {
				CKEDITOR.dom.element.setMarker(database, node, 'selected_cell', true);
				retval.push(node);
			}
		}

		for (var i = 0; i < ranges.length; i++) {
			var range = ranges[i];

			if (range.collapsed) {
				// Walker does not handle collapsed ranges yet - fall back to old API.
				var startNode = range.getCommonAncestor();
				var nearestCell = startNode.getAscendant('td', true) || startNode.getAscendant('th', true);
				if (nearestCell) retval.push(nearestCell);
			} else {
				var walker = new CKEDITOR.dom.walker(range);
				var node = void 0;
				walker.guard = moveOutOfCellGuard;

				while (node = walker.next()) {
					// If may be possible for us to have a range like this:
					// <td>^1</td><td>^2</td>
					// The 2nd td shouldn't be included.
					//
					// So we have to take care to include a td we've entered only when we've
					// walked into its children.

					if (node.type != CKEDITOR.NODE_ELEMENT || !node.is(CKEDITOR.dtd.table)) {
						var parent = node.getAscendant('td', true) || node.getAscendant('th', true);
						if (parent && !parent.getCustomData('selected_cell')) {
							CKEDITOR.dom.element.setMarker(database, parent, 'selected_cell', true);
							retval.push(parent);
						}
					}
				}
			}
		}

		CKEDITOR.dom.element.clearAllMarkers(database);

		return retval;
	}

	function getFocusElementAfterDelCells(cellsToDelete) {
		var i = 0;

		var last = cellsToDelete.length - 1;

		var database = {};

		var cell = void 0;

		var focusedCell = void 0;

		var tr = void 0;

		while (cell = cellsToDelete[i++]) {
			CKEDITOR.dom.element.setMarker(database, cell, 'delete_cell', true);
		} // 1.first we check left or right side focusable cell row by row;
		i = 0;
		while (cell = cellsToDelete[i++]) {
			if ((focusedCell = cell.getPrevious()) && !focusedCell.getCustomData('delete_cell') || (focusedCell = cell.getNext()) && !focusedCell.getCustomData('delete_cell')) {
				CKEDITOR.dom.element.clearAllMarkers(database);
				return focusedCell;
			}
		}

		CKEDITOR.dom.element.clearAllMarkers(database);

		// 2. then we check the toppest row (outside the selection area square) focusable cell
		tr = cellsToDelete[0].getParent();
		if (tr = tr.getPrevious()) return tr.getLast();

		// 3. last we check the lowerest  row focusable cell
		tr = cellsToDelete[last].getParent();
		if (tr = tr.getNext()) return tr.getChild(0);

		return null;
	}

	function insertRow(editor, insertBefore) {
		var selection = editor.getSelection();

		var cells = getSelectedCells(selection);

		var firstCell = cells[0];

		var table = firstCell.getAscendant('table');

		var doc = firstCell.getDocument();

		var startRow = cells[0].getParent();

		var startRowIndex = startRow.$.rowIndex;

		var lastCell = cells[cells.length - 1];

		var endRowIndex = lastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;

		var endRow = new CKEDITOR.dom.element(table.$.rows[endRowIndex]);

		var rowIndex = insertBefore ? startRowIndex : endRowIndex;

		var row = insertBefore ? startRow : endRow;

		var map = CKEDITOR.tools.buildTableMap(table);

		var cloneRow = map[rowIndex];

		var nextRow = insertBefore ? map[rowIndex - 1] : map[rowIndex + 1];

		var width = map[0].length;

		var newRow = doc.createElement('tr');
		for (var i = 0; cloneRow[i] && i < width; i++) {
			var _cell = void 0;
			// Check whether there's a spanning row here, do not break it.
			if (cloneRow[i].rowSpan > 1 && nextRow && cloneRow[i] == nextRow[i]) {
				_cell = cloneRow[i];
				_cell.rowSpan += 1;
			} else {
				_cell = new CKEDITOR.dom.element(cloneRow[i]).clone();
				_cell.removeAttribute('rowSpan');
				_cell.appendBogus();
				newRow.append(_cell);
				_cell = _cell.$;
			}

			i += _cell.colSpan - 1;
		}

		if (insertBefore) {
			newRow.insertBefore(row);
		} else {
			newRow.insertAfter(row);
		}

		var cell = new CKEDITOR.dom.element(newRow.$).getChild(cells[0] ? cells[0].$.cellIndex : 0);
		selectElement(editor, cell);
	}

	function deleteRows(selectionOrRow) {
		if (selectionOrRow instanceof CKEDITOR.dom.selection) {
			var cells = getSelectedCells(selectionOrRow);

			var firstCell = cells[0];

			var table = firstCell.getAscendant('table');

			var map = CKEDITOR.tools.buildTableMap(table);

			var startRow = cells[0].getParent();

			var startRowIndex = startRow.$.rowIndex;

			var lastCell = cells[cells.length - 1];

			var endRowIndex = lastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;

			var rowsToDelete = [];

			// Delete cell or reduce cell spans by checking through the table map.
			for (var i = startRowIndex; i <= endRowIndex; i++) {
				var mapRow = map[i];

				var row = new CKEDITOR.dom.element(table.$.rows[i]);

				for (var j = 0; j < mapRow.length; j++) {
					var cell = new CKEDITOR.dom.element(mapRow[j]);

					var cellRowIndex = cell.getParent().$.rowIndex;

					if (cell.$.rowSpan == 1) cell.remove();
					// Row spanned cell.
					else {
							// Span row of the cell, reduce spanning.
							cell.$.rowSpan -= 1;
							// Root row of the cell, root cell to next row.
							if (cellRowIndex == i) {
								var nextMapRow = map[i + 1];
								if (nextMapRow[j - 1]) {
									cell.insertAfter(new CKEDITOR.dom.element(nextMapRow[j - 1]));
								} else {
									new CKEDITOR.dom.element(table.$.rows[i + 1]).append(cell, 1);
								}
							}
						}

					j += cell.$.colSpan - 1;
				}

				rowsToDelete.push(row);
			}

			var rows = table.$.rows;

			// Where to put the cursor after rows been deleted?
			// 1. Into next sibling row if any;
			// 2. Into previous sibling row if any;
			// 3. Into table's parent element if it's the very last row.
			var cursorPosition = new CKEDITOR.dom.element(rows[endRowIndex + 1] || (startRowIndex > 0 ? rows[startRowIndex - 1] : null) || table.$.parentNode);

			for (var _i = rowsToDelete.length; _i >= 0; _i--) {
				deleteRows(rowsToDelete[_i]);
			}return cursorPosition;
		} else if (selectionOrRow instanceof CKEDITOR.dom.element) {
			var _table = selectionOrRow.getAscendant('table');

			if (_table.$.rows.length == 1) _table.remove();else selectionOrRow.remove();
		}

		return null;
	}

	function getCellColIndex(cell, isStart) {
		var row = cell.getParent();

		var rowCells = row.$.cells;

		var colIndex = 0;
		for (var i = 0; i < rowCells.length; i++) {
			var mapCell = rowCells[i];
			colIndex += isStart ? 1 : mapCell.colSpan;
			if (mapCell == cell.$) break;
		}

		return colIndex - 1;
	}

	function getColumnsIndices(cells, isStart) {
		var retval = isStart ? Infinity : 0;
		for (var i = 0; i < cells.length; i++) {
			var colIndex = getCellColIndex(cells[i], isStart);
			if (isStart ? colIndex < retval : colIndex > retval) retval = colIndex;
		}
		return retval;
	}

	function insertColumn(editor, insertBefore) {
		var selection = editor.getSelection();

		var cells = getSelectedCells(selection);

		var firstCell = cells[0];

		var table = firstCell.getAscendant('table');

		var startCol = getColumnsIndices(cells, 1);

		var lastCol = getColumnsIndices(cells);

		var colIndex = insertBefore ? startCol : lastCol;

		var map = CKEDITOR.tools.buildTableMap(table);

		var cloneCol = [];

		var nextCol = [];

		var height = map.length;

		for (var i = 0; i < height; i++) {
			cloneCol.push(map[i][colIndex]);
			var nextCell = insertBefore ? map[i][colIndex - 1] : map[i][colIndex + 1];
			nextCol.push(nextCell);
		}

		var insertedCells = [];
		for (var _i2 = 0; _i2 < height; _i2++) {
			var _cell2 = void 0;

			if (!cloneCol[_i2]) continue;

			// Check whether there's a spanning column here, do not break it.
			if (cloneCol[_i2].colSpan > 1 && nextCol[_i2] == cloneCol[_i2]) {
				_cell2 = cloneCol[_i2];
				_cell2.colSpan += 1;
			} else {
				_cell2 = new CKEDITOR.dom.element(cloneCol[_i2]).clone();
				_cell2.removeAttribute('colSpan');
				_cell2.appendBogus();
				_cell2[insertBefore ? 'insertBefore' : 'insertAfter'].call(_cell2, new CKEDITOR.dom.element(cloneCol[_i2]));
				_cell2 = _cell2.$;
			}

			insertedCells[_i2] = _cell2;

			_i2 += _cell2.rowSpan - 1;
		}

		var cell = new CKEDITOR.dom.element(insertedCells[firstCell.getParent().$.rowIndex]);
		selectElement(editor, cell);
	}

	function selectElement(editor, element) {
		var range = editor.createRange();

		range.moveToPosition(element, CKEDITOR.POSITION_AFTER_START);
		editor.getSelection().selectRanges([range]);
	}

	function deleteColumns(selectionOrCell) {
		var cells = getSelectedCells(selectionOrCell);

		var firstCell = cells[0];

		var lastCell = cells[cells.length - 1];

		var table = firstCell.getAscendant('table');

		var map = CKEDITOR.tools.buildTableMap(table);

		var startColIndex = void 0;

		var endColIndex = void 0;

		var rowsToDelete = [];

		var rows = void 0;

		// Figure out selected cells' column indices.
		for (var i = 0, _rows = map.length; i < _rows; i++) {
			// eslint-disable-next-line sort-vars
			for (var j = 0, cols = map[i].length; j < cols; j++) {
				if (map[i][j] == firstCell.$) startColIndex = j;
				if (map[i][j] == lastCell.$) endColIndex = j;
			}
		}

		// Delete cell or reduce cell spans by checking through the table map.
		for (var _i3 = startColIndex; _i3 <= endColIndex; _i3++) {
			for (var _j = 0; _j < map.length; _j++) {
				var mapRow = map[_j];

				var row = new CKEDITOR.dom.element(table.$.rows[_j]);

				var cell = new CKEDITOR.dom.element(mapRow[_i3]);

				if (cell.$) {
					if (cell.$.colSpan == 1) cell.remove();
					// Reduce the col spans.
					else cell.$.colSpan -= 1;

					_j += cell.$.rowSpan - 1;

					if (!row.$.cells.length) rowsToDelete.push(row);
				}
			}
		}

		var firstRowCells = table.$.rows[0] && table.$.rows[0].cells;

		// Where to put the cursor after columns been deleted?
		// 1. Into next cell of the first row if any;
		// 2. Into previous cell of the first row if any;
		// 3. Into table's parent element;
		var cursorPosition = new CKEDITOR.dom.element(firstRowCells[startColIndex] || (startColIndex ? firstRowCells[startColIndex - 1] : table.$.parentNode));

		// Delete table rows only if all columns are gone (do not remove empty row).
		if (rowsToDelete.length == rows) table.remove();

		return cursorPosition;
	}

	function insertCell(selection, insertBefore) {
		var startElement = selection.getStartElement();
		var cell = startElement.getAscendant('td', 1) || startElement.getAscendant('th', 1);

		if (!cell) return;

		// Create the new cell element to be added.
		var newCell = cell.clone();
		newCell.appendBogus();

		if (insertBefore) newCell.insertBefore(cell);else newCell.insertAfter(cell);
	}

	function deleteCells(selectionOrCell) {
		if (selectionOrCell instanceof CKEDITOR.dom.selection) {
			var cellsToDelete = getSelectedCells(selectionOrCell);
			var table = cellsToDelete[0] && cellsToDelete[0].getAscendant('table');
			var cellToFocus = getFocusElementAfterDelCells(cellsToDelete);

			for (var i = cellsToDelete.length - 1; i >= 0; i--) {
				deleteCells(cellsToDelete[i]);
			}if (cellToFocus) placeCursorInCell(cellToFocus, true);else if (table) table.remove();
		} else if (selectionOrCell instanceof CKEDITOR.dom.element) {
			var tr = selectionOrCell.getParent();
			if (tr.getChildCount() == 1) tr.remove();else selectionOrCell.remove();
		}
	}

	// Remove filler at end and empty spaces around the cell content.
	function trimCell(cell) {
		var bogus = cell.getBogus();
		if (bogus) {
			bogus.remove();
		}
		cell.trim();
	}

	function placeCursorInCell(cell, placeAtEnd) {
		var docInner = cell.getDocument();

		var docOuter = CKEDITOR.document;

		// Fixing "Unspecified error" thrown in IE10 by resetting
		// selection the dirty and shameful way (#10308).
		// We can not apply this hack to IE8 because
		// it causes error (#11058).
		if (CKEDITOR.env.ie && CKEDITOR.env.version == 10) {
			docOuter.focus();
			docInner.focus();
		}

		var range = new CKEDITOR.dom.range(docInner);
		if (!range['moveToElementEdit' + (placeAtEnd ? 'End' : 'Start')](cell)) {
			range.selectNodeContents(cell);
			range.collapse(placeAtEnd ? false : true);
		}
		range.select(true);
	}

	function cellInRow(tableMap, rowIndex, cell) {
		var oRow = tableMap[rowIndex];
		if (typeof cell == 'undefined') return oRow;

		for (var c = 0; oRow && c < oRow.length; c++) {
			if (cell.is && oRow[c] == cell.$) return c;else if (c == cell) return new CKEDITOR.dom.element(oRow[c]);
		}
		return cell.is ? -1 : null;
	}

	function cellInCol(tableMap, colIndex) {
		var oCol = [];
		for (var r = 0; r < tableMap.length; r++) {
			var row = tableMap[r];
			oCol.push(row[colIndex]);

			// Avoid adding duplicate cells.
			if (row[colIndex].rowSpan > 1) r += row[colIndex].rowSpan - 1;
		}
		return oCol;
	}

	function mergeCells(selection, mergeDirection, isDetect) {
		var cells = getSelectedCells(selection);

		// Invalid merge request if:
		// 1. In batch mode despite that less than two selected.
		// 2. In solo mode while not exactly only one selected.
		// 3. Cells distributed in different table groups (e.g. from both thead and tbody).
		var commonAncestor = void 0;
		if ((mergeDirection ? cells.length != 1 : cells.length < 2) || (commonAncestor = selection.getCommonAncestor()) && commonAncestor.type == CKEDITOR.NODE_ELEMENT && commonAncestor.is('table')) return false;

		var cell = void 0;

		var firstCell = cells[0];

		var table = firstCell.getAscendant('table');

		var map = CKEDITOR.tools.buildTableMap(table);

		var mapHeight = map.length;

		var mapWidth = map[0].length;

		var startRow = firstCell.getParent().$.rowIndex;

		var startColumn = cellInRow(map, startRow, firstCell);

		if (mergeDirection) {
			var targetCell = void 0;
			try {
				var rowspan = parseInt(firstCell.getAttribute('rowspan'), 10) || 1;
				var colspan = parseInt(firstCell.getAttribute('colspan'), 10) || 1;

				targetCell = map[mergeDirection == 'up' ? startRow - rowspan : mergeDirection == 'down' ? startRow + rowspan : startRow][mergeDirection == 'left' ? startColumn - colspan : mergeDirection == 'right' ? startColumn + colspan : startColumn];
			} catch (er) {
				return false;
			}

			// 1. No cell could be merged.
			// 2. Same cell actually.
			if (!targetCell || firstCell.$ == targetCell) return false;

			// Sort in map order regardless of the DOM sequence.
			cells[mergeDirection == 'up' || mergeDirection == 'left' ? 'unshift' : 'push'](new CKEDITOR.dom.element(targetCell));
		}

		// Start from here are merging way ignorance (merge up/right, batch merge).
		var doc = firstCell.getDocument();

		var lastRowIndex = startRow;

		var totalRowSpan = 0;

		var totalColSpan = 0;

		// Use a documentFragment as buffer when appending cell contents.

		var frag = !isDetect && new CKEDITOR.dom.documentFragment(doc);

		var dimension = 0;

		for (var i = 0; i < cells.length; i++) {
			cell = cells[i];

			var tr = cell.getParent();

			var cellFirstChild = cell.getFirst();

			var colSpan = cell.$.colSpan;

			var rowSpan = cell.$.rowSpan;

			var rowIndex = tr.$.rowIndex;

			var colIndex = cellInRow(map, rowIndex, cell);

			// Accumulated the actual places taken by all selected cells.
			dimension += colSpan * rowSpan;
			// Accumulated the maximum virtual spans from column and row.
			totalColSpan = Math.max(totalColSpan, colIndex - startColumn + colSpan);
			totalRowSpan = Math.max(totalRowSpan, rowIndex - startRow + rowSpan);

			if (!isDetect) {
				// Trim all cell fillers and check to remove empty cells.
				if (trimCell(cell), cell.getChildren().count()) {
					// Merge vertically cells as two separated paragraphs.
					if (rowIndex != lastRowIndex && cellFirstChild && !(cellFirstChild.isBlockBoundary && cellFirstChild.isBlockBoundary({ br: 1 }))) {
						var last = frag.getLast(CKEDITOR.dom.walker.whitespaces(true));
						if (last && !(last.is && last.is('br'))) frag.append('br');
					}

					cell.moveChildren(frag);
				}
				if (i) {
					cell.remove();
				} else {
					cell.setHtml('');
				}
			}
			lastRowIndex = rowIndex;
		}

		if (!isDetect) {
			frag.moveChildren(firstCell);

			firstCell.appendBogus();

			if (totalColSpan >= mapWidth) firstCell.removeAttribute('rowSpan');else firstCell.$.rowSpan = totalRowSpan;

			if (totalRowSpan >= mapHeight) firstCell.removeAttribute('colSpan');else firstCell.$.colSpan = totalColSpan;

			// Swip empty <tr> left at the end of table due to the merging.
			var trs = new CKEDITOR.dom.nodeList(table.$.rows);

			var count = trs.count();

			for (var _i4 = count - 1; _i4 >= 0; _i4--) {
				var tailTr = trs.getItem(_i4);
				if (!tailTr.$.cells.length) {
					tailTr.remove();
					count++;
					continue;
				}
			}

			return firstCell;
		}
		// Be able to merge cells only if actual dimension of selected
		// cells equals to the caculated rectangle.
		else {
				return totalRowSpan * totalColSpan == dimension;
			}
	}

	function verticalSplitCell(selection, isDetect) {
		var cells = getSelectedCells(selection);
		if (cells.length > 1) return false;else if (isDetect) return true;

		var cell = cells[0];

		var tr = cell.getParent();

		var table = tr.getAscendant('table');

		var map = CKEDITOR.tools.buildTableMap(table);

		var rowIndex = tr.$.rowIndex;

		var colIndex = cellInRow(map, rowIndex, cell);

		var rowSpan = cell.$.rowSpan;

		var newCell = void 0;

		var newRowSpan = void 0;

		var newCellRowSpan = void 0;

		var newRowIndex = void 0;

		if (rowSpan > 1) {
			newRowSpan = Math.ceil(rowSpan / 2);
			newCellRowSpan = Math.floor(rowSpan / 2);
			newRowIndex = rowIndex + newRowSpan;
			var newCellTr = new CKEDITOR.dom.element(table.$.rows[newRowIndex]);

			var newCellRow = cellInRow(map, newRowIndex);

			var candidateCell = void 0;

			newCell = cell.clone();

			// Figure out where to insert the new cell by checking the vitual row.
			for (var c = 0; c < newCellRow.length; c++) {
				candidateCell = newCellRow[c];
				// Catch first cell actually following the column.
				if (candidateCell.parentNode == newCellTr.$ && c > colIndex) {
					newCell.insertBefore(new CKEDITOR.dom.element(candidateCell));
					break;
				} else {
					candidateCell = null;
				}
			}

			// The destination row is empty, append at will.
			if (!candidateCell) newCellTr.append(newCell);
		} else {
			newCellRowSpan = newRowSpan = 1;

			var _newCellTr = tr.clone();
			_newCellTr.insertAfter(tr);
			_newCellTr.append(newCell = cell.clone());

			var cellsInSameRow = cellInRow(map, rowIndex);
			for (var i = 0; i < cellsInSameRow.length; i++) {
				cellsInSameRow[i].rowSpan++;
			}
		}

		newCell.appendBogus();

		cell.$.rowSpan = newRowSpan;
		newCell.$.rowSpan = newCellRowSpan;
		if (newRowSpan == 1) cell.removeAttribute('rowSpan');
		if (newCellRowSpan == 1) newCell.removeAttribute('rowSpan');

		return newCell;
	}

	function horizontalSplitCell(selection, isDetect) {
		var cells = getSelectedCells(selection);
		if (cells.length > 1) return false;else if (isDetect) return true;

		var cell = cells[0];

		var tr = cell.getParent();

		var table = tr.getAscendant('table');

		var map = CKEDITOR.tools.buildTableMap(table);

		var rowIndex = tr.$.rowIndex;

		var colIndex = cellInRow(map, rowIndex, cell);

		var colSpan = cell.$.colSpan;

		var newColSpan = void 0;

		var newCellColSpan = void 0;

		if (colSpan > 1) {
			newColSpan = Math.ceil(colSpan / 2);
			newCellColSpan = Math.floor(colSpan / 2);
		} else {
			newCellColSpan = newColSpan = 1;
			var cellsInSameCol = cellInCol(map, colIndex);
			for (var i = 0; i < cellsInSameCol.length; i++) {
				cellsInSameCol[i].colSpan++;
			}
		}
		var newCell = cell.clone();
		newCell.insertAfter(cell);
		newCell.appendBogus();

		cell.$.colSpan = newColSpan;
		newCell.$.colSpan = newCellColSpan;
		if (newColSpan == 1) cell.removeAttribute('colSpan');
		if (newCellColSpan == 1) newCell.removeAttribute('colSpan');

		return newCell;
	}

	CKEDITOR.plugins.add('ae_tabletools', {
		init: function init(editor) {
			function createDef(def) {
				return CKEDITOR.tools.extend(def || {}, {
					contextSensitive: 1,
					refresh: function refresh(editor, path) {
						this.setState(path.contains({ td: 1, th: 1 }, 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
					}
				});
			}
			function addCmd(name, def) {
				var cmd = editor.getCommand(name);

				if (cmd) {
					return;
				}

				cmd = editor.addCommand(name, def);
				editor.addFeature(cmd);
			}

			addCmd('rowDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					placeCursorInCell(deleteRows(selection));
				}
			}));

			addCmd('rowInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					insertRow(editor, true);
				}
			}));

			addCmd('rowInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					insertRow(editor);
				}
			}));

			addCmd('columnDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					var element = deleteColumns(selection);
					if (element) {
						placeCursorInCell(element, true);
					}
				}
			}));

			addCmd('columnInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					insertColumn(editor, true);
				}
			}));

			addCmd('columnInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					insertColumn(editor);
				}
			}));

			addCmd('cellDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					deleteCells(selection);
				}
			}));

			addCmd('cellMerge', createDef({
				allowedContent: 'td[colspan,rowspan]',
				requiredContent: 'td[colspan,rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection()), true);
				}
			}));

			addCmd('cellMergeRight', createDef({
				allowedContent: 'td[colspan]',
				requiredContent: 'td[colspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection(), 'right'), true);
				}
			}));

			addCmd('cellMergeDown', createDef({
				allowedContent: 'td[rowspan]',
				requiredContent: 'td[rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection(), 'down'), true);
				}
			}));

			addCmd('cellVerticalSplit', createDef({
				allowedContent: 'td[rowspan]',
				requiredContent: 'td[rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(verticalSplitCell(editor.getSelection()));
				}
			}));

			addCmd('cellHorizontalSplit', createDef({
				allowedContent: 'td[colspan]',
				requiredContent: 'td[colspan]',
				exec: function exec(editor) {
					placeCursorInCell(horizontalSplitCell(editor.getSelection()));
				}
			}));

			addCmd('cellInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertCell(selection, true);
				}
			}));

			addCmd('cellInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertCell(selection);
				}
			}));
		},


		getSelectedCells: getSelectedCells
	});
}

/**
 * Create a two-dimension array that reflects the actual layout of table cells,
 * with cell spans, with mappings to the original td elements.
 *
 * @param {CKEDITOR.dom.element} table
 * @member CKEDITOR.tools
 */
CKEDITOR.tools.buildTableMap = function (table) {
	var aRows = table.$.rows;

	// Row and Column counters.
	var r = -1;

	var aMap = [];

	for (var i = 0; i < aRows.length; i++) {
		r++;
		if (!aMap[r]) {
			aMap[r] = [];
		}

		var c = -1;

		for (var j = 0; j < aRows[i].cells.length; j++) {
			var oCell = aRows[i].cells[j];

			c++;
			while (aMap[r][c]) {
				c++;
			}var iColSpan = isNaN(oCell.colSpan) ? 1 : oCell.colSpan;
			var iRowSpan = isNaN(oCell.rowSpan) ? 1 : oCell.rowSpan;

			for (var rs = 0; rs < iRowSpan; rs++) {
				if (!aMap[r + rs]) aMap[r + rs] = [];

				for (var cs = 0; cs < iColSpan; cs++) {
					aMap[r + rs][c + cs] = aRows[i].cells[j];
				}
			}

			c += iColSpan - 1;
		}
	}
	return aMap;
};

/***/ }),

/***/ "./src/selections/selection-arrowbox.js":
/*!**********************************************!*\
  !*** ./src/selections/selection-arrowbox.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var tableSelectionGetArrowBoxClasses = function tableSelectionGetArrowBoxClasses() {
  return 'ae-arrow-box ae-arrow-box-bottom';
};

var SelectionGetArrowBoxClasses = {
  table: tableSelectionGetArrowBoxClasses
};

exports.default = SelectionGetArrowBoxClasses;

/***/ }),

/***/ "./src/selections/selection-position.js":
/*!**********************************************!*\
  !*** ./src/selections/selection-position.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Default gutter value for toolbar positioning
var DEFAULT_GUTTER = {
	left: 0,
	top: 0
};

/**
 * Centers a Toolbar according to given rectangle
 *
 * @method centerToolbar
 * @param {Object} toolbar The toolbar to be centered
 * @param {Object} rect The rectangle according to which the Toolbar will be centered
 */
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var centerToolbar = function centerToolbar(toolbar, rect) {
	var toolbarNode = _reactDom2.default.findDOMNode(toolbar);

	var nativeEditor = toolbar.context.editor.get('nativeEditor');
	var uiNode = nativeEditor.config.uiNode || document.body;
	var uiNodeStyle = getComputedStyle(uiNode);
	var uiNodeMarginLeft = parseInt(uiNodeStyle.getPropertyValue('margin-left'), 10);
	var uiNodeMarginRight = parseInt(uiNodeStyle.getPropertyValue('margin-right'), 10);
	var totalWidth = uiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;

	var halfNodeWidth = toolbarNode.offsetWidth / 2;
	var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();

	var gutter = toolbar.props.gutter || DEFAULT_GUTTER;

	var widgetXY = toolbar.getWidgetXYPoint(rect.left + rect.width / 2 - scrollPosition.x, rect.top + scrollPosition.y, CKEDITOR.SELECTION_BOTTOM_TO_TOP);

	var caretPosition = nativeEditor.getSelection();
	var ranges = caretPosition.getRanges();
	var offsetHeight = 0;

	if (ranges && ranges.length === 1) {
		var startContainer = ranges[0].startContainer;
		if (startContainer.$.nodeType !== Node.ELEMENT_NODE) {
			startContainer = startContainer.getParent();
		}
		if (startContainer) {
			var startContainerClientRect = startContainer.getClientRect();
			offsetHeight = startContainerClientRect.y - rect.top;
		}
	}

	var endPosition = [rect.left + rect.width / 2 - halfNodeWidth - scrollPosition.x, rect.top + offsetHeight - toolbarNode.offsetHeight + scrollPosition.y - gutter.top];

	if (endPosition[0] < 0) {
		endPosition[0] = 0;
	} else if (endPosition[0] > totalWidth - toolbarNode.offsetWidth) {
		endPosition[0] = totalWidth - toolbarNode.offsetWidth;
	}

	toolbar.moveToPoint(widgetXY, endPosition);
};

/**
 * Sets the position of a toolbar according to the position of the selected image
 *
 * @method imageSelectionSetPosition
 * @param {Object} payload Payload, should contain the selection data for retrieving the
 * client rectangle of the selected image
 * @return {Boolean} True, in all cases
 */
var imageSelectionSetPosition = function imageSelectionSetPosition(payload) {
	var selectionData = payload.selectionData ? payload.selectionData : payload.editorEvent ? payload.editorEvent.data.selectionData : null;

	if (selectionData && selectionData.element) {
		var nativeEditor = payload.editor.get('nativeEditor');
		var uiNode = nativeEditor.config.uiNode;

		var scrollTop = uiNode ? uiNode.scrollTop : 0;

		var rect = selectionData.element.getClientRect();
		rect.top += scrollTop;

		centerToolbar(this, rect);

		return true;
	}
};

/**
 * Sets the position of a toolbar according to the position of the selected image
 *
 * @method tableSelectionSetPosition
 * @param {Object} payload Object, which contains the selection data for retrieving the
 * client rectangle of the selected table
 * @return {Boolean} True, in all cases
 */
var tableSelectionSetPosition = function tableSelectionSetPosition(payload) {
	var nativeEditor = payload.editor.get('nativeEditor');
	var uiNode = nativeEditor.config.uiNode;

	var scrollTop = uiNode ? uiNode.scrollTop : 0;

	var table = new CKEDITOR.Table(nativeEditor).getFromSelection();
	var rect = table.getClientRect();
	rect.top += scrollTop;

	centerToolbar(this, rect);

	return true;
};

var SelectionSetPosition = {
	image: imageSelectionSetPosition,
	table: tableSelectionSetPosition
};

exports.default = SelectionSetPosition;

/***/ }),

/***/ "./src/selections/selection-test.js":
/*!******************************************!*\
  !*** ./src/selections/selection-test.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
/**
 * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

var _isRangeAtElementEnd = function _isRangeAtElementEnd(range, element) {
	// Finding if a range is at the end of an element is somewhat tricky
	// due to how CKEditor handles ranges. It might depend on whether a
	// source node inside the element is selected or not. For now, we
	// need to cover the following cases:
	//
	// - The text length of the element is the same as the endOffset of
	//   the range.
	// - Both start and end containers match the element and the start
	//   and end offsets are 1.

	return element.getText().length === range.endOffset || element.equals(range.startContainer) && element.equals(range.endContainer) && range.startOffset === range.endOffset && range.endOffset === 1;
};

var embedSelectionTest = function embedSelectionTest(payload) {
	var selectionData = payload.data.selectionData;

	return !!(selectionData.element && selectionData.element.getAttribute('data-widget') === 'ae_embed');
};

var embedUrlSelectionTest = function embedUrlSelectionTest(payload) {
	var selectionData = payload.data.selectionData;

	return !!(selectionData.element && selectionData.element.getAttribute('data-widget') === 'embedurl');
};

var headingTextSelectionTest = function headingTextSelectionTest(payload) {
	var headings = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];
	var nativeEditor = payload.editor.get('nativeEditor');
	var selectionData = payload.data.selectionData;
	var selectionEmpty = nativeEditor.isSelectionEmpty();

	return !!(!selectionData.element && selectionData.region && !selectionEmpty && !nativeEditor.getSelection().getCommonAncestor().isReadOnly() && nativeEditor.elementPath().contains(headings));
};

var linkSelectionTest = function linkSelectionTest(payload) {
	var nativeEditor = payload.editor.get('nativeEditor');
	var range = nativeEditor.getSelection().getRanges()[0];
	var selectionData = payload.data.selectionData;

	var element = new CKEDITOR.Link(nativeEditor).getFromSelection();
	var isSelectionEmpty = nativeEditor.isSelectionEmpty();
	var elementIsNotImage = selectionData.element ? selectionData.element.getName() !== 'img' : true;

	return !!(isSelectionEmpty && elementIsNotImage && element && element.getText().length !== range.endOffset && element && !element.isReadOnly() && !_isRangeAtElementEnd(range, element));
};

var imageSelectionTest = function imageSelectionTest(payload) {
	var selectionData = payload.data.selectionData;
	var element = selectionData.element;
	var hasImage = !!element && !!element.findOne('img');
	var isImage = !!element && element.getName() === 'img';

	return !!(element && (hasImage || isImage));
};

var textSelectionTest = function textSelectionTest(payload) {
	var nativeEditor = payload.editor.get('nativeEditor');

	var selectionEmpty = nativeEditor.isSelectionEmpty();

	var selectionData = payload.data.selectionData;

	return !!(!selectionData.element && selectionData.region && !selectionEmpty && !nativeEditor.getSelection().getCommonAncestor().isReadOnly());
};

var tableSelectionTest = function tableSelectionTest(payload) {
	var nativeEditor = payload.editor.get('nativeEditor');

	var table = new CKEDITOR.Table(nativeEditor);
	var element = table.getFromSelection();

	return !!(element && table.isEditable(element));
};

var SelectionTest = {
	embed: embedSelectionTest,
	embedUrl: embedUrlSelectionTest,
	header: headingTextSelectionTest,
	image: imageSelectionTest,
	link: linkSelectionTest,
	table: tableSelectionTest,
	text: textSelectionTest
};

exports.default = SelectionTest;

/***/ }),

/***/ "./src/selections/selections.js":
/*!**************************************!*\
  !*** ./src/selections/selections.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _selectionArrowbox = __webpack_require__(/*! ./selection-arrowbox */ "./src/selections/selection-arrowbox.js");

var _selectionArrowbox2 = _interopRequireDefault(_selectionArrowbox);

var _selectionPosition = __webpack_require__(/*! ./selection-position */ "./src/selections/selection-position.js");

var _selectionPosition2 = _interopRequireDefault(_selectionPosition);

var _selectionTest = __webpack_require__(/*! ./selection-test */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Selections = [{
	name: 'embed',
	buttons: ['embedRemove', 'embedEdit'],
	test: _selectionTest2.default.embed
}, {
	name: 'embedUrl',
	buttons: ['embedVideo', 'embedVideoEdit'],
	test: _selectionTest2.default.embedUrl
}, {
	name: 'link',
	buttons: ['linkEdit'],
	test: _selectionTest2.default.link
}, {
	name: 'image',
	buttons: ['imageLeft', 'imageCenter', 'imageRight', 'removeImage'],
	setPosition: _selectionPosition2.default.image,
	test: _selectionTest2.default.image
}, {
	name: 'text',
	buttons: {
		full: [['Font', 'FontSize', 'separator', 'bold', 'italic', 'underline', 'strike', 'separator', 'link'], ['paragraphAlign', 'separator', 'ul', 'ol', 'separator', 'h1', 'h2', 'separator', 'indentBlock', 'outdentBlock', 'separator', 'TextColor', 'BGColor', 'separator', 'code', 'quote', 'separator', 'removeFormat']],

		simple: ['styles', 'bold', 'italic', 'underline', 'link']
	},
	test: _selectionTest2.default.text
}, {
	name: 'table',
	buttons: ['tableHeading', 'tableRow', 'tableColumn', 'tableCell', 'tableRemove'],
	getArrowBoxClasses: _selectionArrowbox2.default.table,
	setPosition: _selectionPosition2.default.table,
	test: _selectionTest2.default.table
}]; /**
     * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>
     * SPDX-License-Identifier: LGPL-3.0-or-later
     */

exports.default = Selections;

/***/ }),

/***/ "react":
/*!****************************************************************************************************!*\
  !*** external {"amd":"react","commonjs":"react","commonjs2":"react","root":"React","umd":"react"} ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "react-dom":
/*!***********************************************************************************************************************!*\
  !*** external {"amd":"react-dom","commonjs":"react-dom","commonjs2":"react-dom","root":"ReactDOM","umd":"react-dom"} ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9saWIvY2tlZGl0b3IvY2tlZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NjcmlwdHMvYnVpbGQvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2J1aWxkL3dpdGgtY2tlZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FkYXB0ZXIvY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYWRhcHRlci9lZGl0b3ItY29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYWRhcHRlci9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tYW5kcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbWFuZHMvcmVtb3ZlLWltYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLWFjdGlvbi1zdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1jb21tYW5kLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLWtleXN0cm9rZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1wcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLXN0eWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Jhc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS90b29sYmFyLWJ1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS93aWRnZXQtZHJvcGRvd24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS93aWRnZXQtZXhjbHVzaXZlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tYWNjZXNzaWJpbGl0eS1pbWFnZS1hbHQuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWJhY2tncm91bmQtY29sb3IuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWJvbGQuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWNhbWVyYS1pbWFnZS5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tY2FtZXJhLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1jb2RlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1jb2xvci5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tY29tbWFuZC1saXN0LWl0ZW0uanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWNvbW1hbmRzLWxpc3QuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWRyb3Bkb3duLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1lbWJlZC1lZGl0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1lbWJlZC12aWRlby1lZGl0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1lbWJlZC12aWRlby5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tZW1iZWQuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWgxLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1oMi5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taGxpbmUuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWljb24uanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWltYWdlLWFsaWduLWNlbnRlci5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taW1hZ2UtYWxpZ24tbGVmdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taW1hZ2UtYWxpZ24tcmlnaHQuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWltYWdlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1pbmRlbnQtYmxvY2suanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWl0YWxpYy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taXRlbS1zZWxlY3Rvci1hdWRpby5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taXRlbS1zZWxlY3Rvci1pbWFnZS5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taXRlbS1zZWxlY3Rvci12aWRlby5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tbGluay1hdXRvY29tcGxldGUtbGlzdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tbGluay1icm93c2UuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWxpbmstZWRpdC1icm93c2UuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWxpbmstZWRpdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tbGluay10YXJnZXQtZWRpdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tbGluay5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tb2wuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLW91dGRlbnQtYmxvY2suanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1sZWZ0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1wYXJhZ3JhcGgtYWxpZ24tcmlnaHQuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXBhcmFncmFwaC1hbGlnbi5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tcGFyYWdyYXBoLWNlbnRlci5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tcGFyYWdyYXBoLWp1c3RpZnkuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXF1b3RlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1yZW1vdmUtZm9ybWF0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1yZW1vdmUtaW1hZ2UuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXNlcGFyYXRvci5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3BhY2luZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3RyaWtlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMtbGlzdC1oZWFkZXIuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXN0eWxlcy1saXN0LWl0ZW0tcmVtb3ZlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMtbGlzdC1pdGVtLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMtbGlzdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3R5bGVzLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdWJzY3JpcHQuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXN1cGVyc2NyaXB0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi10YWJsZS1jZWxsLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi10YWJsZS1jb2x1bW4uanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLWVkaXQuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLWhlYWRpbmcuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLXJlbW92ZS5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdGFibGUtcm93LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi10YWJsZS5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdGFyZ2V0LWxpc3QuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXR3aXR0ZXIuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXVsLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi11bmRlcmxpbmUuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tcGF0L2J1dHRvbi1hY3Rpb24tc3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tcGF0L2J1dHRvbi1jb21tYW5kLWFjdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21wYXQvYnV0dG9uLWNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tcGF0L2J1dHRvbi1rZXlzdHJva2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tcGF0L2J1dHRvbi1wcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21wYXQvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tcGF0L2J1dHRvbi1zdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21wYXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tcGF0L3Rvb2xiYXItYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21wYXQvd2lkZ2V0LWFycm93LWJveC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21wYXQvd2lkZ2V0LWRyb3Bkb3duLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbXBhdC93aWRnZXQtZXhjbHVzaXZlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbXBhdC93aWRnZXQtZm9jdXMtbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21wYXQvd2lkZ2V0LWludGVyYWN0aW9uLXBvaW50LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbXBhdC93aWRnZXQtcG9zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWFpbi5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdG9vbGJhcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdG9vbGJhcnMvdG9vbGJhci1hZGQuanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Rvb2xiYXJzL3Rvb2xiYXItc3R5bGVzLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91aWJyaWRnZS9idXR0b24uanN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3VpYnJpZGdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3VpYnJpZGdlL21lbnUtYnV0dG9uLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91aWJyaWRnZS9tZW51LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91aWJyaWRnZS9wYW5lbC1tZW51LWJ1dHRvbi5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdWlicmlkZ2UvcmljaGNvbWJvLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91aWJyaWRnZS91aWJyaWRnZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9saW5rLmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3BsdWdpbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvc2VsZWN0aW9uLXJlZ2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90b29scy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS91aWNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29vcC9hdHRyaWJ1dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29vcC9iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9vb3AvbGFuZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvb29wL29vcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9EcmFnRXZlbnQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvUmVzaXplci5lcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9hZGRpbWFnZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvYXV0b2xpbmsuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvYXV0b2xpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvZHJhZ3Jlc2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9kcmFncmVzaXplX2llLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL2RyYWdyZXNpemVfaWUxMS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9lbWJlZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9lbWJlZHVybC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9pbWFnZWFsaWdubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9wYXN0ZWltYWdlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9wbGFjZWhvbGRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2lucy9wcmlvcml0aWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW5zL3NlbGVjdGlvbmtleXN0cm9rZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvdGFibGVyZXNpemUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvdGFibGV0b29scy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VsZWN0aW9ucy9zZWxlY3Rpb24tYXJyb3dib3guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlbGVjdGlvbnMvc2VsZWN0aW9uLXBvc2l0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zZWxlY3Rpb25zL3NlbGVjdGlvbi10ZXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9zZWxlY3Rpb25zL3NlbGVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImFtZFwiOlwicmVhY3RcIixcImNvbW1vbmpzXCI6XCJyZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwicm9vdFwiOlwiUmVhY3RcIixcInVtZFwiOlwicmVhY3RcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImFtZFwiOlwicmVhY3QtZG9tXCIsXCJjb21tb25qc1wiOlwicmVhY3QtZG9tXCIsXCJjb21tb25qczJcIjpcInJlYWN0LWRvbVwiLFwicm9vdFwiOlwiUmVhY3RET01cIixcInVtZFwiOlwicmVhY3QtZG9tXCJ9Il0sIm5hbWVzIjpbIkVNQkVEX1ZJREVPX1dJRFRIIiwiRU1CRURfVklERU9fSEVJR0hUIiwiQ29yZSIsImNvbmZpZyIsInN1cGVyY2xhc3MiLCJjb25zdHJ1Y3RvciIsImNhbGwiLCJCYXNlIiwiaW5pdGlhbGl6ZXIiLCJub2RlIiwiZ2V0Iiwic2V0QXR0cmlidXRlIiwiZWRpdG9yIiwiQ0tFRElUT1IiLCJpbmxpbmUiLCJhbGxvd2VkQ29udGVudCIsInRvb2xiYXJzIiwicmVtb3ZlUGx1Z2lucyIsImV4dHJhUGx1Z2lucyIsImVtYmVkUHJvdmlkZXJzIiwicGxhY2Vob2xkZXJDbGFzcyIsInBhc3RlRnJvbVdvcmRSZW1vdmVTdHlsZXMiLCJwYXN0ZUZyb21Xb3JkUmVtb3ZlRm9udFN0eWxlcyIsInNlbGVjdGlvbktleXN0cm9rZXMiLCJzcHJpdGVtYXAiLCJMYW5nIiwibWl4IiwiZW52IiwiaWUiLCJlZGdlIiwicGx1Z2luIiwidmVyc2lvbiIsInJlcGxhY2UiLCJvbmNlIiwiX2FkZFJlYWRPbmx5TGlua0NsaWNrTGlzdGVuZXIiLCJlZGl0YWJsZSIsImV4dHJhQ29tbWFuZHMiLCJleHRyYUNvbW1hbmRLZXlzIiwiT2JqZWN0Iiwia2V5cyIsImkiLCJsZW5ndGgiLCJjb21tYW5kTmFtZSIsImNvbW1hbmRzIiwiYWRkQ29tbWFuZCIsImFkZENsYXNzIiwiX2VkaXRvciIsIkFsbG95RWRpdG9yIiwibG9hZExhbmd1YWdlUmVzb3VyY2VzIiwiX3JlbmRlclVJIiwiYmluZCIsImRlc3RydWN0b3IiLCJfZGVzdHJveWVkIiwiX2VkaXRvclVJRWxlbWVudCIsIlJlYWN0RE9NIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIm5hdGl2ZUVkaXRvciIsInJlbW92ZUNsYXNzIiwiX2NsZWFyU2VsZWN0aW9ucyIsImRlc3Ryb3kiLCJpc01TU2VsZWN0aW9uIiwid2luZG93IiwiZ2V0U2VsZWN0aW9uIiwiZG9jdW1lbnQiLCIkIiwic2VsZWN0aW9uIiwiZW1wdHkiLCJnZXRXaW5kb3ciLCJyZW1vdmVBbGxSYW5nZXMiLCJvbiIsIl9kZWZhdWx0UmVhZE9ubHlDbGlja0ZuIiwiZXZlbnQiLCJtb3VzZUV2ZW50IiwiZGF0YSIsImhhc0N0cmxLZXkiLCJjdHJsS2V5IiwibWV0YUtleSIsInNob3VsZE9wZW4iLCJyZWFkT25seSIsInByZXZlbnREZWZhdWx0IiwibGlzdGVuZXJEYXRhIiwiZmlyZSIsImNrRWxlbWVudCIsImRvbSIsImVsZW1lbnRQYXRoIiwiZ2V0VGFyZ2V0IiwibGluayIsImxhc3RFbGVtZW50IiwiaHJlZiIsImF0dHJpYnV0ZXMiLCJ2YWx1ZSIsInRhcmdldCIsIl9yZWRpcmVjdExpbmsiLCJfZ2V0TmF0aXZlRWRpdG9yIiwib3BlbiIsImxvY2F0aW9uIiwiZWRpdG9yVUlFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInVpTm9kZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNhbGxiYWNrUmVmIiwiX21haW5VSSIsImVsZW1lbnQiLCJyZW5kZXIiLCJfdG9FbGVtZW50IiwiaXNTdHJpbmciLCJnZXRFbGVtZW50QnlJZCIsIl92YWxpZGF0ZUFsbG93ZWRDb250ZW50IiwiaXNPYmplY3QiLCJpc0Jvb2xlYW4iLCJfdmFsaWRhdGVUb29sYmFycyIsImlzTnVsbCIsIkFUVFJTIiwidmFsaWRhdG9yIiwid3JpdGVPbmNlIiwiZG9jdW1lbnRCcm93c2VMaW5rQ2FsbGJhY2siLCJpc0Z1bmN0aW9uIiwidW5kZWZpbmVkIiwiZG9jdW1lbnRCcm93c2VMaW5rVXJsIiwiaXNBcnJheSIsImlkIiwidHBsIiwidHlwZSIsInVybFNjaGVtZXMiLCJlbmFibGVDb250ZW50RWRpdGFibGUiLCJldmVudHNEZWxheSIsImlzTnVtYmVyIiwicmVtb3ZlSW1hZ2UiLCJyZW1vdmVJbWFnZUNvbW1hbmQiLCJtb2RlIiwiZ2V0dGVyIiwiQ1RSTCIsIlNISUZUIiwic3JjTm9kZSIsInNldHRlciIsImFkZCIsImJ1dHRvbnMiLCJ0YWJJbmRleCIsInN0eWxlcyIsInNlbGVjdGlvbnMiLCJTZWxlY3Rpb25zIiwiaW1wbGVtZW50T24iLCJFZGl0b3JDb250ZXh0IiwiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidG9Qcm9wcyIsImZvcndhcmRpbmdDb21wb25lbnQiLCJmb3J3YXJkUmVmIiwicHJvcHMiLCJyZWYiLCJjb250ZXh0Iiwia2V5IiwiQ29tcG9uZW50IiwiQ29tcGF0IiwiQlJJREdFX0JVVFRPTlMiLCJpbXBsZW1lbnRFdmVudFRhcmdldCIsImdldEJhc2VQYXRoIiwicGF0aCIsIkFMTE9ZRURJVE9SX0JBU0VQQVRIIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibWF0Y2giLCJzcmMiLCJyZWdleEJhc2VQYXRoIiwiaW5kZXhPZiIsInNsaWNlIiwiRXJyb3IiLCJjYWxsYmFjayIsIlN0cmluZ3MiLCJzZXRUaW1lb3V0IiwiX2xhbmdSZXNvdXJjZVJlcXVlc3RlZCIsImxhbmd1YWdlcyIsInVzZXJMYW5ndWFnZSIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwicGFydHMiLCJ0b0xvd2VyQ2FzZSIsImxhbmciLCJsb2NhbGUiLCJzY3JpcHRMb2FkZXIiLCJsb2FkIiwiZ2V0VXJsIiwibG9hZGVkIiwicmVzb3VyY2UiLCJiYXNlUGF0aCIsInRpbWVzdGFtcCIsImNoYXJBdCIsInRlc3QiLCJnZXRCdXR0b25zIiwicmVkdWNlIiwiYWNjIiwidmFsIiwiY29uY2F0IiwicmVnaXN0ZXJCcmlkZ2VCdXR0b24iLCJidXR0b25OYW1lIiwicGx1Z2luTmFtZSIsInB1c2giLCJPT1AiLCJleHRlbmQiLCJBdHRyaWJ1dGUiLCJCdXR0b25zIiwiU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzIiwiU2VsZWN0aW9uU2V0UG9zaXRpb24iLCJTZWxlY3Rpb25UZXN0IiwiVG9vbGJhcnMiLCJleGVjIiwicmFuZ2VzIiwiZ2V0UmFuZ2VzIiwic3RhcnRDb250YWluZXIiLCJuZXh0UmFuZ2UiLCJyYW5nZSIsInNldFN0YXJ0Iiwic2V0RW5kIiwic2VsZWN0ZWRFbGVtZW50IiwiZ2V0U2VsZWN0ZWRFbGVtZW50IiwiZ2V0TmFtZSIsIm5hdGl2ZSIsImdldE5hdGl2ZSIsInNlbGVjdFJhbmdlcyIsInJlbW92ZSIsImFwcGx5U3R5bGUiLCJpc0FjdGl2ZSIsImdldFN0eWxlIiwibG9jayIsInJlbW92ZVN0eWxlIiwidW5sb2NrIiwiV3JhcHBlZENvbXBvbmVudCIsImNvbnRleHRUeXBlIiwiY29tbWFuZCIsImdldENvbW1hbmQiLCJzdGF0ZSIsIlRSSVNUQVRFX09OIiwiZXhlY0NvbW1hbmQiLCJrZXlzdHJva2UiLCJuYW1lIiwia2V5c3Ryb2tlRm4iLCJmbiIsIl9kZWZhdWx0S2V5c3Ryb2tlQ29tbWFuZCIsImtleXN0cm9rZUhhbmRsZXIiLCJrZXlzdHJva2VzIiwic2V0S2V5c3Ryb2tlIiwiYnV0dG9uQ2ZnIiwidG9vbHMiLCJtZXJnZSIsInN0YXRlQ2xhc3NlcyIsInN0eWxlIiwic3BsaXQiLCJjdXJyZW50TWVtYmVyIiwicHJvcGVydHkiLCJzaGlmdCIsIl9zdHlsZSIsImNoZWNrQWN0aXZlIiwiZGVmYXVsdCIsIl9hbmltYXRpb25GcmFtZUlkIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJhcnJvd0JveENsYXNzZXMiLCJnZXRJbnRlcmFjdGlvblBvaW50IiwiZGlyZWN0aW9uIiwiU0VMRUNUSU9OX1RPUF9UT19CT1RUT00iLCJhdHRycyIsInZpZXdQYW5lU2l6ZSIsImdldFZpZXdQYW5lU2l6ZSIsIngiLCJsZWZ0IiwieSIsInRvcCIsIndpZHRoIiwiZXZlbnRQYXlsb2FkIiwiZWRpdG9yRXZlbnQiLCJzZWxlY3Rpb25EYXRhIiwibmF0aXZlRXZlbnQiLCJwb3MiLCJwYWdlWCIsInJlZ2lvbiIsImVuZFJlY3QiLCJzdGFydFJlY3QiLCJTRUxFQ1RJT05fQk9UVE9NX1RPX1RPUCIsIl9nZXRYUG9pbnQiLCJNYXRoIiwibWluIiwibWF4IiwiX2dldFlQb2ludCIsImV2ZW50WCIsInJpZ2h0IiwibGVmdERpc3QiLCJhYnMiLCJyaWdodERpc3QiLCJlbGVtZW50VGFyZ2V0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0SGVpZ2h0IiwiYm90dG9tIiwiZG9tTm9kZSIsImZpbmRET01Ob2RlIiwiZ3V0dGVyIiwib2Zmc2V0V2lkdGgiLCJTRUxFQ1RJT05fTEVGVF9UT19SSUdIVCIsIlNFTEVDVElPTl9SSUdIVF9UT19MRUZUIiwiZG9tRWxlbWVudCIsImhhc0NsYXNzIiwic3RhcnRQb2ludCIsImVuZFBvaW50Iiwic2V0U3R5bGVzIiwib3BhY2l0eSIsInBvaW50ZXJFdmVudHMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzY3JvbGxUb3AiLCJpc1Zpc2libGUiLCJpbnRlcmFjdGlvblBvaW50IiwiZmluYWxYIiwiZmluYWxZIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsInBhcnNlRmxvYXQiLCJjb25zdHJhaW5Ub1ZpZXdwb3J0IiwicmVzIiwiZ2V0Q29uc3RyYWluZWRQb3NpdGlvbiIsImhlaWdodCIsIm1vdmVUb1BvaW50IiwidWlOb2RlU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwidWlOb2RlTWFyZ2luTGVmdCIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsInVpTm9kZU1hcmdpblJpZ2h0IiwidG90YWxXaWR0aCIsImNsaWVudFdpZHRoIiwidGFnTmFtZSIsInh5IiwiZ2V0V2lkZ2V0WFlQb2ludCIsImFkZGl0aW9uYWxQcm9wcyIsImxpc3QiLCJidXR0b24iLCJBcnJheSIsImdldFRvb2xiYXJCdXR0b25zIiwiYnV0dG9uUHJvcHMiLCJ0b29sYmFyQnV0dG9ucyIsImZpbHRlckV4Y2x1c2l2ZSIsImZpbHRlciIsIm1hcCIsImNmZyIsImluZGV4IiwibWVyZ2VFeGNsdXNpdmVQcm9wcyIsInRhYktleSIsInRyaWdnZXIiLCJtZXJnZURyb3Bkb3duUHJvcHMiLCJkZWZhdWx0UHJvcHMiLCJvYmoiLCJpdGVtS2V5IiwiZXhwYW5kZWQiLCJpdGVtRHJvcGRvd24iLCJkcm9wZG93blRyaWdnZXIiLCJ0b2dnbGVEcm9wZG93biIsInRvZ2dsZURpcmVjdGlvbiIsInNldFN0YXRlIiwibW92ZUZvY3VzIiwiZm9jdXMiLCJuZXh0UHJvcHMiLCJyZXF1ZXN0RXhjbHVzaXZlIiwiaXRlbUV4Y2x1c2l2ZSIsIml0ZW1zIiwiaXRlbSIsImNhbmNlbEV4Y2x1c2l2ZSIsInJlbmRlckV4Y2x1c2l2ZSIsIkRJUkVDVElPTl9OT05FIiwiRElSRUNUSU9OX05FWFQiLCJESVJFQ1RJT05fUFJFViIsIkFDVElPTl9OT05FIiwiQUNUSU9OX01PVkVfRk9DVVMiLCJBQ1RJT05fRElTTUlTU19GT0NVUyIsIl9pc1ZhbGlkVGFyZ2V0IiwiX2Rlc2NlbmRhbnRzIiwiYWN0aXZlRGVzY2VuZGFudEVsIiwiX2FjdGl2ZURlc2NlbmRhbnQiLCJhY3RpdmVFbGVtZW50IiwiZm9jdXNGaXJzdENoaWxkIiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlS2V5IiwiYWN0aW9uIiwiX2dldEZvY3VzQWN0aW9uIiwiX21vdmVGb2N1cyIsIm9uRGlzbWlzcyIsIl9yZWZyZXNoIiwiX2dldEZvY3VzTW92ZURpcmVjdGlvbiIsImRpc21pc3NBY3Rpb24iLCJfZ2V0Rm9jdXNEaXNtaXNzQWN0aW9uIiwiZGlzbWlzcyIsImZvY3VzTW92ZURpcmVjdGlvbiIsIl9pc1ZhbGlkS2V5Iiwia2V5Q29kZSIsImRpc21pc3NOZXh0IiwiZGlzbWlzc1ByZXYiLCJjaXJjdWxhciIsIm5leHQiLCJwcmV2Iiwic2hpZktleSIsIm51bURlc2NlbmRhbnRzIiwiZGVzY2VuZGFudCIsImRlc2NlbmRhbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsInByaW9yaXR5RGVzY2VuZGFudHMiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiZGF0YVRhYkluZGV4IiwiZ2V0QXR0cmlidXRlIiwic29ydCIsImEiLCJiIiwidG9JbnQiLCJzb21lIiwiQnV0dG9uQWNjZXNzaWJpbGl0eUltYWdlQWx0IiwiZ2V0U3RhcnRFbGVtZW50IiwiX2VsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJmaW5kT25lIiwiaW1hZ2VBbHQiLCJfaGFuZGxlQWx0Q2hhbmdlIiwiX2hhbmRsZUtleURvd24iLCJjb25maXJtIiwiX3VwZGF0ZUltYWdlQWx0IiwiX3JlcXVlc3RFeGNsdXNpdmUiLCJpbnN0YW5jZSIsImZvY3VzQWx0RWwiLCJyZWZzIiwicmVmQWx0SW5wdXQiLCJfZm9jdXNBbHRJbnB1dCIsImltYWdlIiwiQnV0dG9uQmFja2dyb3VuZENvbG9yIiwiYWN0aXZlQ29sb3IiLCJub3JtYWwiLCJhY3RpdmVDb2xvckNsYXNzIiwiY29sb3JzIiwiX2dldENvbG9ycyIsIml0ZW1TdHlsZSIsImNsYXNzIiwic3R5bGVDbGFzcyIsIl9jaGVja0FjdGl2ZSIsImJ1dHRvblN0eWxlc1Byb3BzIiwiYWN0aXZlU3R5bGUiLCJzaG93UmVtb3ZlU3R5bGVzSXRlbSIsInN0eWxlQ29uZmlnIiwic3R5bGVGbiIsIl9hcHBseVN0eWxlIiwicHJpbWFyeSIsImRpc2FibGVkIiwic3VjY2VzcyIsImRhbmdlciIsIndhcm5pbmciLCJpbmZvIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiYm9vbCIsImxhYmVsIiwic3RyaW5nIiwiYXJyYXlPZiIsIm9iamVjdCIsIm51bWJlciIsImZ1bmMiLCJCdXR0b25Cb2xkIiwiY3NzQ2xhc3MiLCJnZXRTdGF0ZUNsYXNzZXMiLCJib2xkIiwiQnV0dG9uQ2FtZXJhSW1hZ2UiLCJ0YWtlUGhvdG8iLCJ2aWRlb0VsIiwiX3ZpZGVvQ29udGFpbmVyUmVmIiwiY3VycmVudCIsImNhbnZhc0VsIiwiX2NhbnZhc0NvbnRhaW5lclJlZiIsImdldENvbnRleHQiLCJfdmlkZW9IZWlnaHQiLCJ2aWRlb1dpZHRoIiwiZHJhd0ltYWdlIiwiaW1nVVJMIiwidG9EYXRhVVJMIiwiZWwiLCJjcmVhdGVGcm9tSHRtbCIsImluc2VydEVsZW1lbnQiLCJfaGFuZGxlU3RyZWFtRXJyb3IiLCJhbGVydCIsImVycm9yIiwiX2hhbmRsZVN0cmVhbVN1Y2Nlc3MiLCJhZGRFdmVudExpc3RlbmVyIiwidmlkZW9IZWlnaHQiLCJpc05hTiIsIl9zdHJlYW0iLCJzdHJlYW0iLCJtb3pHZXRVc2VyTWVkaWEiLCJtb3pTcmNPYmplY3QiLCJzcmNPYmplY3QiLCJwbGF5IiwiX2J1dHRvblRha2VQaG90b1JlZiIsImNyZWF0ZVJlZiIsInN0b3AiLCJnZXRWaWRlb1RyYWNrcyIsInRyYWNrIiwiZ2V0VXNlck1lZGlhIiwid2Via2l0R2V0VXNlck1lZGlhIiwibXNHZXRVc2VyTWVkaWEiLCJ2aWRlbyIsImF1ZGlvIiwiQnV0dG9uQ2FtZXJhIiwicHJvdG9jb2wiLCJjYW1lcmFEaXNhYmxlZCIsImNhbWVyYSIsIkJ1dHRvbkNvZGUiLCJjb2RlIiwiQnV0dG9uQ29sb3IiLCJkYXJrIiwiZGFya0dyYXkiLCJzZWNvbmRhcnkiLCJsaWdodCIsImxpZ2h0ZXIiLCJ3aGl0ZSIsIkJ1dHRvbkNvbW1hbmRMaXN0SXRlbSIsImRlc2NyaXB0aW9uIiwiX2dldENsYXNzTmFtZSIsIkJ1dHRvbkNvbW1hbmRzTGlzdCIsIl9yZWYiLCJsaXN0SWQiLCJfcmVuZGVyQWN0aW9ucyIsImljb24iLCJCdXR0b25Ecm9wZG93biIsImNoaWxkcmVuIiwiS0VZX0VOVEVSIiwiS0VZX0VTQyIsIkJ1dHRvbkVtYmVkRWRpdCIsIl9jbGVhckxpbmsiLCJsaW5rSHJlZiIsIl9lbWJlZExpbmsiLCJ1cmwiLCJfZm9jdXNMaW5rSW5wdXQiLCJsaW5rSW5wdXQiLCJfaGFuZGxlTGlua0hyZWZDaGFuZ2UiLCJfcmVtb3ZlRW1iZWQiLCJlbWJlZFdyYXBwZXIiLCJnZXRBc2NlbmRhbnQiLCJnZXRJbml0aWFsU3RhdGUiLCJtYW51YWxTZWxlY3Rpb24iLCJlbWJlZCIsImluaXRpYWxMaW5rIiwiY2xlYXJMaW5rU3R5bGUiLCJkZWxldGVFbWJlZCIsImVkaXRMaW5rIiwiY2xlYXJJbnB1dCIsImNsZWFyIiwiX2lzVmFsaWRTdGF0ZSIsInZhbGlkU3RhdGUiLCJCdXR0b25FbWJlZFZpZGVvRWRpdCIsIl9lbWJlZFZpZGVvVVJMIiwidmlkZW9VUkwiLCJfZm9jdXNWaWRlb1VybElucHV0IiwiX2hhbmRsZVZpZGVvVVJMQ2hhbmdlIiwibmV3U3RhdGUiLCJhbGwiLCJuZXciLCJvbGQiLCJpbml0aWFsRW1iZWQiLCJpbnB1dFBsYWNlaG9sZGVyIiwicGFzdGVWaWRlb0xpbmsiLCJjbGVhclZpZGVvVVJMU3R5bGUiLCJCdXR0b25FbWJlZFZpZGVvIiwiQnV0dG9uRW1iZWQiLCJCdXR0b25IMSIsImgxIiwiQnV0dG9uSDIiLCJoMiIsIkJ1dHRvbkhsaW5lIiwiaG9yaXpvbnRhbHJ1bGUiLCJCdXR0b25JY29uIiwic3ltYm9sIiwiY2xhc3NOYW1lUHJlZml4IiwiY29tYmluZWRDbGFzc05hbWUiLCJCdXR0b25JbWFnZUFsaWduQ2VudGVyIiwiYWxpZ25DZW50ZXIiLCJCdXR0b25JbWFnZUFsaWduTGVmdCIsImFsaWduTGVmdCIsIkJ1dHRvbkltYWdlQWxpZ25SaWdodCIsImFsaWduUmlnaHQiLCJCdXR0b25JbWFnZSIsImhhbmRsZUNsaWNrIiwiZmlsZUlucHV0IiwiY2xpY2siLCJfb25JbnB1dENoYW5nZSIsImlucHV0RWwiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJmaWxlIiwib25sb2FkIiwicmVzdWx0IiwiaW1hZ2VGaWxlcyIsImltYWdlRGF0YSIsInJlYWRBc0RhdGFVUkwiLCJpbnB1dFN5bGUiLCJkaXNwbGF5IiwiQnV0dG9uSW5kZW50QmxvY2siLCJpbmRlbnQiLCJCdXR0b25JdGFsaWMiLCJpdGFsaWMiLCJCdXR0b25JdGVtU2VsZWN0b3JBdWRpbyIsIl9oYW5kbGVDbGljayIsIkJ1dHRvbkl0ZW1TZWxlY3RvckltYWdlIiwiQnV0dG9uSXRlbVNlbGVjdG9yVmlkZW8iLCJCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdCIsInRlcm0iLCJjbGVhclRpbWVvdXQiLCJfdGltZW91dCIsIl91cGRhdGVJdGVtcyIsImRlbGF5IiwiYXV0b2NvbXBsZXRlU2VsZWN0ZWQiLCJzZXRBdXRvY29tcGxldGVTdGF0ZSIsInNlbGVjdGVkIiwiX3JlbmRlckF1dG9jb21wbGV0ZUl0ZW1zIiwibmV4dFN0YXRlIiwiaGFuZGxlTGlua0F1dG9jb21wbGV0ZUNsaWNrIiwidGl0bGUiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiQnV0dG9uTGlua0Jyb3dzZSIsIm1lcmdlQnV0dG9uQ2ZnUHJvcHMiLCJCdXR0b25MaW5rRWRpdEJyb3dzZSIsIl9icm93c2VDbGljayIsImJyb3dzZUxpbmtDYWxsYmFjayIsImxpbmtUYXJnZXQiLCJsaW5rRWRpdEJ1dHRvblJlZiIsImNoYW5nZUxpbmtDYWxsYmFjayIsIl91cGRhdGVMaW5rIiwic2VsZWN0ZWRJdGVtIiwiYXBwbHkiLCJsaW5rVGl0bGUiLCJsaW5rVXRpbHMiLCJMaW5rIiwiYXBwZW5kUHJvdG9jb2wiLCJsaW5rQXR0cnMiLCJtb2RpZnlTZWxlY3Rpb24iLCJhZHZhbmNlIiwicGx1Z2lucyIsImNyZW9sZSIsIm9yaWdpbiIsInVwZGF0ZSIsImNyZWF0ZSIsImdldEZyb21TZWxlY3Rpb24iLCJCdXR0b25MaW5rRWRpdCIsImFkdmFuY2VTZWxlY3Rpb24iLCJfaGFuZGxlTGlua1RhcmdldENoYW5nZSIsIl9yZW1vdmVMaW5rIiwiYm9va21hcmtzIiwiY3JlYXRlQm9va21hcmtzIiwic2VsZWN0Qm9va21hcmtzIiwiX2dldEluaXRpYWxTdGF0ZSIsInRhcmdldFNlbGVjdG9yIiwiYWxsb3dlZFRhcmdldHMiLCJoYW5kbGVMaW5rVGFyZ2V0Q2hhbmdlIiwic2VsZWN0ZWRUYXJnZXQiLCJsaW5rVGFyZ2V0RGVmYXVsdCIsIkJ1dHRvbkxpbmtUYXJnZXRFZGl0IiwiYXV0b2NvbXBsZXRlRHJvcGRvd24iLCJkYXRhRm4iLCJhdXRvY29tcGxldGVEcm9wZG93blByb3BzIiwiX2hhbmRsZUxpbmtBdXRvY29tcGxldGVDbGljayIsIl9zZXRBdXRvY29tcGxldGVTdGF0ZSIsImJ1dHRvbkNsZWFyTGluayIsInBsYWNlaG9sZGVyUHJvcCIsInBsYWNlaG9sZGVyIiwicmVtb3ZlTGluayIsInNob3dUYXJnZXRTZWxlY3RvciIsImRlZmF1bHRMaW5rVGFyZ2V0IiwiZm9jdXNMaW5rRWwiLCJhdXRvY29tcGxldGVVcmwiLCJjdXN0b21JbmRleFN0YXJ0IiwiYWxsb3dlZExpbmtUYXJnZXRzIiwiQnV0dG9uTGluayIsIkJ1dHRvbk9yZGVyZWRMaXN0IiwibnVtYmVyZWRsaXN0IiwiQnV0dG9uT3V0ZGVudEJsb2NrIiwib3V0ZGVudCIsIkJ1dHRvblBhcmFncmFwaEFsaWduTGVmdCIsIkJ1dHRvblBhcmFncmFwaEFsaWduUmlnaHQiLCJCdXR0b25QYXJhZ3JhcGhBbGlnbiIsImJ1dHRvbkNvbW1hbmRzTGlzdCIsImJ1dHRvbkNvbW1hbmRzTGlzdElkIiwiX2dldENvbW1hbmRzIiwiYWN0aXZlQ29tbWFuZCIsImFsaWdubWVudCIsInBvcCIsImljb25DbGFzc05hbWUiLCJyb3ciLCJhbGlnbkp1c3RpZnkiLCJCdXR0b25QYXJhZ3JhcGhDZW50ZXIiLCJCdXR0b25QYXJhZ3JhcGhKdXN0aWZ5IiwiQnV0dG9uUXVvdGUiLCJxdW90ZSIsIkJ1dHRvblJlbW92ZUZvcm1hdCIsInJlbW92ZWZvcm1hdCIsIkJ1dHRvblJlbW92ZUltYWdlIiwiQnV0dG9uU2VwYXJhdG9yIiwiX3Byb3BzIiwiQnV0dG9uU3BhY2luZyIsImFjdGl2ZVNwYWNpbmciLCJzcGFjaW5ncyIsIl9nZXRTcGFjaW5ncyIsImFjdGl2ZSIsIkJ1dHRvblN0cmlrZSIsInN0cmlrZSIsIkJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyIiwiQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUiLCJfcmVtb3ZlU3R5bGVzIiwicmVtb3ZlQmxvY2tzIiwiYmxvY2tTdHlsZSIsImJsb2NrSXRlbSIsIkJ1dHRvblN0eWxlc0xpc3RJdGVtIiwiX29uQ2xpY2siLCJzdHlsZUNmZyIsIm1hcmdpbiIsIl9wcmV2aWV3IiwiYnVpbGRQcmV2aWV3IiwiX19odG1sIiwiQnV0dG9uU3R5bGVzTGlzdCIsImJsb2NrU3R5bGVzIiwiaW5saW5lU3R5bGVzIiwib2JqZWN0U3R5bGVzIiwiU1RZTEVfQkxPQ0siLCJTVFlMRV9JTkxJTkUiLCJTVFlMRV9PQkpFQ1QiLCJfYmxvY2tTdHlsZXMiLCJfaW5saW5lU3R5bGVzIiwiX29iamVjdFN0eWxlcyIsInJlbW92ZVN0eWxlc0l0ZW0iLCJfcmVuZGVyU3R5bGVzSXRlbXMiLCJCdXR0b25TdHlsZXMiLCJfZ2V0U3R5bGVzIiwiYnV0dG9uU3R5bGVzTGlzdCIsImZvcm1hdHRlZCIsImNpdGUiLCJCdXR0b25TdWJzY3JpcHQiLCJzdWJzY3JpcHQiLCJCdXR0b25TdXBlcnNjcmlwdCIsInN1cGVyc2NyaXB0IiwiQnV0dG9uVGFibGVDZWxsIiwiY2VsbCIsImNlbGxJbnNlcnRCZWZvcmUiLCJjZWxsSW5zZXJ0QWZ0ZXIiLCJjZWxsRGVsZXRlIiwiY2VsbE1lcmdlIiwiY2VsbE1lcmdlRG93biIsImNlbGxNZXJnZVJpZ2h0IiwiY2VsbFNwbGl0SG9yaXpvbnRhbCIsImNlbGxTcGxpdFZlcnRpY2FsIiwiQnV0dG9uVGFibGVDb2x1bW4iLCJjb2x1bW4iLCJjb2x1bW5JbnNlcnRCZWZvcmUiLCJjb2x1bW5JbnNlcnRBZnRlciIsImNvbHVtbkRlbGV0ZSIsIklOUFVUX05BTUVTIiwiQ09MUyIsIlJPV1MiLCJNSU5JTVVNX0dSSURfVkFMVUUiLCJCdXR0b25UYWJsZUVkaXQiLCJfY3JlYXRlVGFibGUiLCJ0YWJsZVV0aWxzIiwiVGFibGUiLCJjb2xzIiwicm93cyIsInRhYmxlQXR0cmlidXRlcyIsIl9oYW5kbGVDaGFuZ2UiLCJpbnB1dE5hbWUiLCJyb3dzUmVmIiwiY29sc1JlZiIsInRpbWUiLCJEYXRlIiwibm93Iiwicm93c0lkIiwiY29sc0lkIiwiY29sdW1ucyIsImJvcmRlciIsImNlbGxQYWRkaW5nIiwiY2VsbFNwYWNpbmciLCJCdXR0b25UYWJsZUhlYWRpbmciLCJhY3RpdmVIZWFkaW5nIiwiZ2V0SGVhZGluZyIsImFjdGl2ZUhlYWRpbmdJbnRybyIsImhlYWRlcnMiLCJhY3RpdmVIZWFkaW5nTGFiZWwiLCJoZWFkZXJzTm9uZSIsImhlYWRlcnNSb3ciLCJoZWFkZXJzQ29sdW1uIiwiaGVhZGVyc0JvdGgiLCJCdXR0b25UYWJsZVJlbW92ZSIsIl9yZW1vdmVUYWJsZSIsImRlbGV0ZVRhYmxlIiwiQnV0dG9uVGFibGVSb3ciLCJyb3dJbnNlcnRCZWZvcmUiLCJyb3dJbnNlcnRBZnRlciIsInJvd0RlbGV0ZSIsIkJ1dHRvblRhYmxlIiwidGFibGUiLCJCdXR0b25UYXJnZXRMaXN0IiwibGlzdFRhcmdldHMiLCJfcmVuZGVyTGlzdFRhcmdldHMiLCJsaW5rVGFyZ2V0U2VsZiIsImxpbmtUYXJnZXRCbGFuayIsImxpbmtUYXJnZXRQYXJlbnQiLCJsaW5rVGFyZ2V0VG9wIiwidGFyZ2V0cyIsIl9nZXRBbGxvd2VkVGFyZ2V0SXRlbXMiLCJNQVhfVFdFRVRfTEVOR1RIIiwiQnV0dG9uVHdpdHRlciIsIl9nZXRIcmVmIiwidHdpdHRlciIsInNlbGVjdGVkVGV4dCIsImdldFNlbGVjdGVkVGV4dCIsInN1YnN0cmluZyIsInZpYSIsInR3aXR0ZXJIcmVmIiwiQnV0dG9uVW5vcmRlcmVkbGlzdCIsImJ1bGxldGVkbGlzdCIsIkJ1dHRvblVuZGVybGluZSIsInVuZGVybGluZSIsIkJ1dHRvbk9sIiwiQnV0dG9uU3R5bGVzTGlzdEhlYWRlciIsIkJ1dHRvblVsIiwiQnV0dG9uQWN0aW9uU3R5bGUiLCJCdXR0b25Db21tYW5kQWN0aXZlIiwiQnV0dG9uQ29tbWFuZCIsImlzUmVxdWlyZWQiLCJtb2RpZmllc1NlbGVjdGlvbiIsInNlbGVjdGlvbkNoYW5nZSIsIkJ1dHRvbktleXN0cm9rZSIsImNvbXBvbmVudFdpbGxNb3VudCIsInJhbmRvbSIsInRvU3RyaW5nIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJCdXR0b25Qcm9wcyIsIkJ1dHRvblN0YXRlQ2xhc3NlcyIsImlzRGlzYWJsZWQiLCJCdXR0b25TdHlsZSIsIm9uZU9mVHlwZSIsIlRvb2xiYXJCdXR0b25zIiwiZ2V0VG9vbGJhckJ1dHRvbkdyb3VwcyIsIldpZGdldEFycm93Qm94IiwiZ2V0QXJyb3dCb3hDbGFzc2VzIiwiV2lkZ2V0RHJvcGRvd24iLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiX25leHRQcm9wcyIsIldpZGdldEV4Y2x1c2l2ZSIsIldpZGdldEZvY3VzTWFuYWdlciIsImNvbXBvbmVudERpZE1vdW50IiwiY29tcG9uZW50RGlkVXBkYXRlIiwiV2lkZ2V0SW50ZXJhY3Rpb25Qb2ludCIsIldpZGdldFBvc2l0aW9uIiwibWl4aW5zIiwiZ2V0RGVmYXVsdFByb3BzIiwiY2FuY2VsQW5pbWF0aW9uIiwiaGFsZldpZHRoIiwiX2FuaW1hdGUiLCJzaG93IiwidXBkYXRlUG9zaXRpb24iLCJVSSIsIl9vbkRpc21pc3NUb29sYmFyRm9jdXMiLCJoaWRkZW4iLCJfb25FZGl0b3JJbnRlcmFjdGlvbiIsIl9vbkFjdGlvblBlcmZvcm1lZCIsIl9vbkVkaXRvcktleSIsIl9tb3VzZWRvd25MaXN0ZW5lciIsIl9zZXRVSUhpZGRlbiIsIl9rZXlEb3duTGlzdGVuZXIiLCJkZWJvdW5jZSIsInByZXZQcm9wcyIsInByZXZTdGF0ZSIsIm1lc3NhZ2UiLCJfZ2V0QXZhaWxhYmxlVG9vbGJhcnNNZXNzYWdlIiwiYXJpYVVwZGF0ZSIsIl9hcmlhVXBkYXRlVGVtcGxhdGVzIiwidGVtcGxhdGUiLCJfZ2V0QXJpYVVwZGF0ZXMiLCJhcmlhVXBkYXRlcyIsIm5vVG9vbGJhciIsImFyaWFVcGRhdGVOb1Rvb2xiYXIiLCJvbmVUb29sYmFyIiwiYXJpYVVwZGF0ZU9uZVRvb2xiYXIiLCJtYW55VG9vbGJhcnMiLCJhcmlhVXBkYXRlTWFueVRvb2xiYXJzIiwidG9vbGJhcnNOb2RlTGlzdCIsInRvb2xiYXJOYW1lcyIsInRvb2xiYXIiLCJfZ2V0QXJpYVVwZGF0ZVRlbXBsYXRlIiwib3V0cHV0Iiwiam9pbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2giLCJfZXZlbnQiLCJnZXRTZWxlY3Rpb25EYXRhIiwiZG9tRXZlbnQiLCJhbHRLZXkiLCJ0YXJnZXROb2RlIiwiY29udGFpbnMiLCJUb29sYmFyQWRkIiwiVG9vbGJhclN0eWxlcyIsIlBPU0lUSU9OX0xFRlQiLCJQT1NJVElPTl9SSUdIVCIsIl91cGRhdGVQb3NpdGlvbiIsIl9wcmV2UHJvcHMiLCJfcHJldlN0YXRlIiwiaXNDb250ZW50RWRpdGFibGUiLCJfZ2V0QnV0dG9ucyIsIl9nZXRUb29sYmFyQ2xhc3NOYW1lIiwiY2xpZW50UmVjdCIsImdldENsaWVudFJlY3QiLCJvZmZzZXRMZWZ0IiwicG9zaXRpb24iLCJndXR0ZXJFeGNsdXNpdmUiLCJmbG9vciIsImN1cnJlbnRTZWxlY3Rpb24iLCJfZ2V0Q3VycmVudFNlbGVjdGlvbiIsImdldEFycm93Qm94Q2xhc3Nlc0ZuIiwiX2dldFNlbGVjdGlvbkZ1bmN0aW9uIiwiY3NzQ2xhc3NlcyIsImJ1dHRvbnNHcm91cCIsInNlbGVjdGlvblR5cGUiLCJoYXNHcm91cHMiLCJzZWxlY3Rpb25GbiIsInNlbGVjdGlvbkZ1bmN0aW9uIiwidGVzdEZuIiwic2V0UG9zaXRpb25GbiIsInNldFBvc2l0aW9uIiwiQlVUVE9OX0RFRlMiLCJnZW5lcmF0ZUJ1dHRvbkJyaWRnZSIsImJ1dHRvbkRlZmluaXRpb24iLCJCdXR0b25CcmlkZ2UiLCJidXR0b25Db21tYW5kIiwiYnV0dG9uT25DbGljayIsIm9uQ2xpY2siLCJidXR0b25DbGFzc05hbWUiLCJidXR0b25EaXNwbGF5TmFtZSIsImJ1dHRvbkxhYmVsIiwiYnV0dG9uVHlwZSIsImljb25TdHlsZSIsImNzc1N0eWxlIiwic2tpbiIsImdldEljb25TdHlsZSIsImNzc1N0eWxlUGFydHMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJiYWNrZ3JvdW5kU2l6ZSIsImRpc3BsYXlOYW1lIiwiVUlfQlVUVE9OIiwicmVxdWlyZXMiLCJiZWZvcmVJbml0IiwidWkiLCJhZGRCdXR0b24iLCJhZGRIYW5kbGVyIiwiTUVOVUJVVFRPTl9ERUZTIiwiZ2VuZXJhdGVNZW51QnV0dG9uQnJpZGdlIiwibWVudUJ1dHRvbk5hbWUiLCJtZW51QnV0dG9uRGVmaW5pdGlvbiIsIk1lbnVCdXR0b25CcmlkZ2UiLCJwYW5lbE1lbnVCdXR0b25EaXNwbGF5TmFtZSIsIl9nZXRNZW51SXRlbXMiLCJvbk1lbnUiLCJtZW51SXRlbXMiLCJtZW51SXRlbSIsImdldE1lbnVJdGVtIiwibWVudUl0ZW1EZWZpbml0aW9uIiwiZGVmaW5pdGlvbiIsIm1lbnVJdGVtU3RhdGUiLCJUUklTVEFURV9ESVNBQkxFRCIsIlVJX01FTlVfQlVUVE9OIiwiYWRkTWVudUJ1dHRvbiIsIlVJX01FTlVCVVRUT04iLCJncm91cHMiLCJncm91cHNPcmRlciIsIl8iLCJtZW51R3JvdXBzIiwiYWRkTWVudUdyb3VwIiwib3JkZXIiLCJhZGRNZW51SXRlbSIsImdyb3VwIiwiYWRkTWVudUl0ZW1zIiwiZGVmaW5pdGlvbnMiLCJpdGVtTmFtZSIsImhhc093blByb3BlcnR5IiwicmVtb3ZlTWVudUl0ZW0iLCJQQU5FTF9NRU5VX0RFRlMiLCJnZW5lcmF0ZVBhbmVsTWVudUJ1dHRvbkJyaWRnZSIsInBhbmVsTWVudUJ1dHRvbk5hbWUiLCJwYW5lbE1lbnVCdXR0b25EZWZpbml0aW9uIiwiUGFuZWxNZW51QnV0dG9uQnJpZGdlIiwicGFuZWwiLCJfZ2V0UGFuZWwiLCJwYW5lbE1lbnVCdXR0b25PbkJsb2NrIiwib25CbG9jayIsImhpZGUiLCJibG9ja0VsZW1lbnQiLCJibG9jayIsImdldEh0bWwiLCJVSV9QQU5FTEJVVFRPTiIsImFkZFBhbmVsTWVudUJ1dHRvbiIsIlJJQ0hfQ09NQk9fREVGUyIsImdlbmVyYXRlUmljaENvbWJvQnJpZGdlIiwicmljaENvbWJvTmFtZSIsInJpY2hDb21ib0RlZmluaXRpb24iLCJSaWNoQ29tYm9CcmlkZ2UiLCJjdXJyZW50VmFsdWUiLCJlZGl0b3JDb21ibyIsIm5ld1ZhbHVlIiwiY3VycmVudFRhcmdldCIsInByZXZpZXciLCJfaXRlbXMiLCJzZXRWYWx1ZSIsIl9zZXRWYWx1ZSIsImluaXQiLCJvblJlbmRlciIsIl9jYWNoZVZhbHVlIiwicmljaENvbWJvTGFiZWwiLCJfZ2V0SXRlbXMiLCJyaWNoQ29tYm8iLCJVSV9SSUNIQ09NQk8iLCJhZGRSaWNoQ29tYm8iLCJvcmlnaW5hbFVJQWRkRm4iLCJ0eXBlSGFuZGxlciIsImhhbmRsZXJzIiwiX19wcm9jZXNzaW5nUGx1Z2luX18iLCJ0aW1lb3V0IiwiYXJncyIsImRlYm91bmNlSGFuZGxlIiwiY2FsbEZuIiwiY2FsbEFyZ3MiLCJjYWxsQ29udGV4dCIsIlJFR0VYX0JPT0tNQVJLX1NDSEVNRSIsIlJFR0VYX0VNQUlMX1NDSEVNRSIsIlJFR0VYX1VSSV9TQ0hFTUUiLCJtb3ZlVG9FbGVtZW50RWRpdEVuZCIsIm5leHROb2RlIiwiZ2V0TmV4dEVkaXRhYmxlTm9kZSIsImVxdWFscyIsImdldENvbW1vbkFuY2VzdG9yIiwid2hpdGVzcGFjZSIsImdldFRleHQiLCJvZmZzZXQiLCJVUkkiLCJjb2xsYXBzZWQiLCJ0ZXh0IiwiaW5zZXJ0Tm9kZSIsInNlbGVjdE5vZGVDb250ZW50cyIsIl9nZXRDb21wbGV0ZVVSSSIsImFwcGx5VG9SYW5nZSIsInNlbGVjdCIsImlzIiwiZ2V0Q2hpbGRyZW4iLCJjb3VudCIsImdldEl0ZW0iLCJzaHJpbmsiLCJTSFJJTktfVEVYVCIsImFsd2F5c1JlbW92ZUVsZW1lbnQiLCJzZWxlY3RFbGVtZW50IiwidXJpIiwic2V0QXR0cmlidXRlcyIsInJlbW92ZUF0dHJzIiwic2V0QXR0cnMiLCJyZW1vdmVBdHRyaWJ1dGVzIiwid3JhcFBsdWdpbkxpZmVjeWNsZSIsIm1ldGhvZHMiLCJtZXRob2ROYW1lIiwib3ZlcnJpZGUiLCJwYXlsb2FkIiwicGhhc2UiLCJvcmlnaW5hbFBsdWdpbk1ldGhvZCIsImZpbHRlclVud2FudGVkRGVwZW5kZW5jaWVzIiwicmVxdWlyZSIsIm5hbWVzIiwic2NvcGUiLCJwbHVnaW5zTG9hZCIsIlNlbGVjdGlvblJlZ2lvbiIsImNyZWF0ZVNlbGVjdGlvbkZyb21Qb2ludCIsImNyZWF0ZVNlbGVjdGlvbkZyb21SYW5nZSIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwiZW5kIiwiZW5kQ29udGFpbmVyIiwiZW5kT2Zmc2V0Iiwic3RhcnQiLCJzdGFydE9mZnNldCIsImNhcmV0UG9zaXRpb25Gcm9tUG9pbnQiLCJvZmZzZXROb2RlIiwiY3JlYXRlUmFuZ2UiLCJjYXJldFJhbmdlRnJvbVBvaW50IiwiY3JlYXRlVGV4dFJhbmdlIiwiZW5kUmFuZ2UiLCJkdXBsaWNhdGUiLCJzZXRFbmRQb2ludCIsImdldENhcmV0UmVnaW9uIiwiYm9va21hcmtOb2RlRWwiLCJzdGFydE5vZGUiLCJzY3JvbGxQb3MiLCJnZXRTY3JvbGxQb3NpdGlvbiIsImdldFNlbGVjdGlvblJlZ2lvbiIsImdldENsaWVudFJlY3RzUmVnaW9uIiwiZ2V0U2VsZWN0aW9uRGlyZWN0aW9uIiwiaXNTZWxlY3Rpb25FbXB0eSIsImdldFR5cGUiLCJTRUxFQ1RJT05fTk9ORSIsIm5hdGl2ZVNlbGVjdGlvbiIsImRlZmF1bHRSZWN0IiwiY2xpZW50UmVjdHMiLCJJbmZpbml0eSIsImdldENsaWVudFJlY3RzIiwicmFuZ2VDb3VudCIsImdldFJhbmdlQXQiLCJhbmNob3JOb2RlIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJmb2N1c05vZGUiLCJhbmNob3JPZmZzZXQiLCJmb2N1c09mZnNldCIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkciLCJhdHRyIiwiSUVfTk9OX0RJUkVDVExZX0VESVRBQkxFX0VMRU1FTlQiLCJjb2wiLCJjb2xncm91cCIsInRib2R5IiwidGQiLCJ0Zm9vdCIsInRoIiwidGhlYWQiLCJ0ciIsIkhFQURJTkdfQk9USCIsIkhFQURJTkdfQ09MIiwiSEVBRElOR19OT05FIiwiSEVBRElOR19ST1ciLCJfY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsImoiLCJhcHBlbmRCb2d1cyIsInNldEhlYWRpbmciLCJoZWFkaW5nIiwiZmlyc3RDZWxsIiwiY2VsbHMiLCJtb3ZlVG9Qb3NpdGlvbiIsIlBPU0lUSU9OX0FGVEVSX1NUQVJUIiwid2Via2l0IiwiTk9ERV9FTEVNRU5UIiwiaXNFZGl0YWJsZSIsImlzUmVhZE9ubHkiLCJoYXNBdHRyaWJ1dGUiLCJnZXRQYXJlbnQiLCJyb3dIZWFkaW5nU2V0dGluZ3MiLCJ0SGVhZCIsImNvbEhlYWRpbmdTZXR0aW5ncyIsIm5vZGVOYW1lIiwiaGVhZGluZ1NldHRpbmdzIiwicGFyZW50IiwiZ2V0Q2hpbGRDb3VudCIsIlBPU0lUSU9OX0JFRk9SRV9TVEFSVCIsIm5ld0NlbGwiLCJ0YWJsZUhlYWQiLCJ0YWJsZUJvZHkiLCJnZXRFbGVtZW50c0J5VGFnIiwidGFibGVIZWFkaW5nIiwiaGFkQ29sSGVhZGluZyIsIm5lZWRDb2xIZWFkaW5nIiwibmVlZFJvd0hlYWRpbmciLCJ0YWJsZUZpcnN0Um93IiwidGFibGVGaXJzdFJvd0NoaWxkQ291bnQiLCJnZXRDaGlsZCIsInJlbmFtZU5vZGUiLCJjcmVhdGVUSGVhZCIsInByZXZpb3VzRmlyc3RSb3ciLCJnZXRGaXJzdCIsIm5ld0ZpcnN0Um93IiwibmV3Rmlyc3RSb3dDaGlsZENvdW50IiwicmVtb3ZlQXR0cmlidXRlIiwiaW5zZXJ0QmVmb3JlIiwiaGFzQ29sSGVhZGluZyIsImhlYWRpbmdDb21tYW5kcyIsImpzb25wIiwidXJsVGVtcGxhdGUiLCJ1cmxQYXJhbXMiLCJlcnJvckNhbGxiYWNrIiwiY2FsbGJhY2tLZXkiLCJnZXROZXh0TnVtYmVyIiwianNvbnBDYWxsYmFja3MiLCJyZXNwb25zZSIsImNsZWFuVXAiLCJzY3JpcHRFbGVtZW50IiwiZ2V0Qm9keSIsImNhbmNlbCIsInNpbXVsYXRlIiwiZXZlbnRJbnN0YW5jZSIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImFyaWFTdGF0ZSIsImFyaWFFbGVtZW50IiwiX2NyZWF0ZUFyaWFFbGVtZW50IiwidWlUYXNrc1RpbWVvdXQiLCJ1aWNvcmUiLCJoYW5kbGVVSSIsImFsbG93RXNjIiwiaGFuZGxlQXJpYSIsImlubmVySFRNTCIsImhhbmRsZU1vdXNlTGVhdmUiLCJhZVVJTm9kZXMiLCJmb3VuZCIsInJlbGF0ZWRUYXJnZXQiLCJmb2N1c0hhbmRsZXIiLCJhdHRhY2hMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwic3RhdHVzRWxlbWVudCIsIl9fY29uZmlnX18iLCJfX0FUVFJTX18iLCJjdXJyZW50QXR0ciIsIl9pc0luaXRpYWxpemVkIiwiX2luaXQiLCJjdXJWYWx1ZSIsIl9jYWxsU3RyaW5nT3JGdW5jdGlvbiIsInNldCIsInN0cmluZ09yRnVuY3Rpb24iLCJoYXNEZWZhdWx0VmFsdWUiLCJoYXNQYXNzZWRWYWx1ZVZpYUNvbmZpZyIsInZhbHVlRm4iLCJfY2FsbENoYWluIiwid2F0IiwiYXJyIiwiY3RvciIsInJldmVyc2UiLCJpc0Zpbml0ZSIsInZhbHVlVHlwZSIsInJlY2VpdmVyIiwic3VwcGxpZXIiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJzdXBwbGllclByb3RvIiwicmVjZWl2ZXJQcm90byIsIkRyYWdFdmVudCIsImV2ZW50cyIsImtleWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwic3RhcnRQb3MiLCJjbGllbnRYIiwiY2xpZW50WSIsImNsYXNzTGlzdCIsIm9uU3RhcnQiLCJjdXJyZW50UG9zIiwiZGVsdGEiLCJhbHQiLCJjdHJsIiwic2hpZnRLZXkiLCJvbkRyYWciLCJ3aGljaCIsInJlbGVhc2UiLCJvbkNvbXBsZXRlIiwib25SZWxlYXNlIiwiSU1BR0VfSEFORExFUyIsIlBPU0lUSU9OX0VMRU1FTlRfRk4iLCJibCIsImhhbmRsZSIsImJveCIsInBvc2l0aW9uRWxlbWVudCIsImJyIiwicm0iLCJyb3VuZCIsInRsIiwiX2JveCIsImdldEJvdW5kaW5nQm94IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJSZXNpemVyIiwiY29udGFpbmVyIiwiaGFuZGxlcyIsInByZXZpZXdCb3giLCJoYW5kbGVOYW1lIiwiY3JlYXRlSGFuZGxlIiwic2hvd0hhbmRsZXMiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJoaWRlSGFuZGxlcyIsImRyYWciLCJzaG93UHJldmlldyIsImlzRHJhZ2dpbmciLCJjYWxjdWxhdGVTaXplIiwiZWRpdG9yQm91bmRzIiwidXBkYXRlUHJldmlldyIsInVwZGF0ZUhhbmRsZXMiLCJoaWRlUHJldmlldyIsInJlc2l6ZUNvbXBsZXRlIiwicmF0aW8iLCJpc0lFIiwiX29uRHJhZ0VudGVyIiwiX29uRHJhZ092ZXIiLCJfb25EcmFnRHJvcCIsIl9vblBhc3RlIiwiX2hhbmRsZUZpbGVzIiwiX3Byb2Nlc3NGaWxlIiwidHJhbnNmZXJGaWxlcyIsImRhdGFUcmFuc2ZlciIsIl9wcmV2ZW50RXZlbnQiLCJjbGlwYm9hcmREYXRhIiwicGFzdGVkRGF0YSIsImltYWdlRmlsZSIsImdldEFzRmlsZSIsImJpbiIsInVzZXJBZ2VudCIsIktFWV9CQUNLIiwiS0VZX0NPTU1BIiwiS0VZX1NFTUlDT0xPTiIsIktFWV9TUEFDRSIsIkRFTElNSVRFUlMiLCJSRUdFWF9MQVNUX1dPUkQiLCJSRUdFWF9VUkwiLCJSRUdFWF9FTUFJTCIsIl9vbktleVVwIiwibWV0aG9kIiwiZGF0YVZhbHVlIiwiUmVnRXhwIiwiX2lzVmFsaWRVUkwiLCJfaXNWYWxpZEVtYWlsIiwiX2dldExhc3RXb3JkIiwicHJldmlvdXNUZXh0IiwiX2N1cnJlbnRLZXlDb2RlIiwicHJldmlvdXNOb2RlIiwiZ2V0UHJldmlvdXMiLCJsYXN0Q2hpbGQiLCJnZXRMYXN0IiwiX3N0YXJ0Q29udGFpbmVyIiwiX29mZnNldCIsImxhc3RXb3JkIiwiZW1haWwiLCJfb25LZXlEb3duIiwiX2NrTGluayIsIl9yZXBsYWNlQ29udGVudEJ5TGluayIsImNvbnRlbnQiLCJja0xpbmsiLCJsaW5rTm9kZSIsIl9zdWJzY3JpYmVUb0tleUV2ZW50IiwibmV4dEVkaXRhYmxlTm9kZSIsImVuY2xvc2VkTm9kZSIsImdldEVuY2xvc2VkTm9kZSIsImNhcmV0T2Zmc2V0IiwiZ2V0TmV4dCIsIm5ld1JhbmdlIiwic2V0RW5kQWZ0ZXIiLCJERUZBVUxUX0NPTkZJRyIsInJlZ2V4IiwiX2NoZWNrRm9yQmFja3NwYWNlQW5kVW5kbyIsImluc2VydEh0bWwiLCJidWxsZXQiLCJfZ2V0TGlzdENvbmZpZyIsImNvbmZpZ1JlZ2V4IiwiYXV0b2xpc3QiLCJ0ZXh0Q29udGFpbmVyIiwicmVnZXhMZW4iLCJhdXRvbGlzdENmZyIsInJlZ2V4SXRlbSIsIl9jcmVhdGVMaXN0IiwibGlzdENvbmZpZyIsInNldFRleHQiLCJib3RoIiwic2NhbGUiLCJibSIsImxtIiwidG0iLCJJTUFHRV9TTkFQX1RPX1NJWkUiLCJpc0ZpcmVmb3giLCJkb2N1bWVudEVsZW1lbnQiLCJpc1dlYktpdCIsImVuYWJsZVBsdWdpbiIsImFkZENzcyIsIm9uTG9hZCIsInNuYXBUb1NpemUiLCJpbWFnZVNjYWxlUmVzaXplIiwicmVzaXplciIsIm1vdXNlRG93bkxpc3RlbmVyIiwiZSIsImlzSGFuZGxlIiwiaW5pdERyYWciLCJodG1sIiwic2VsZiIsInJlc2l6ZUVsZW1lbnQiLCJyZXNpemVUaW1lb3V0IiwibiIsIm90aGVySW1hZ2VzIiwidG9BcnJheSIsInNwbGljZSIsIm90aGVycyIsIm90aGVyIiwibGVuIiwiY3R4IiwiU3RyaW5nIiwiYWxpZ25tZW50c09iaiIsImNlbnRlciIsImN1cnNvciIsInJlZ2V4UGVyY2VudCIsImhpZHBpIiwiaWNvbnMiLCJ3aWRnZXREZWYiLCJ3aWRnZXRzIiwiaW5pdE9uIiwiYWxpZ25DbGFzc2VzIiwiaW1hZ2UyX2FsaWduQ2xhc3NlcyIsImNhcHRpb25lZENsYXNzIiwiaW1hZ2UyX2NhcHRpb25lZENsYXNzIiwiaGVscGVycyIsImltYWdlMiIsImhhc0NhcHRpb24iLCJjYXB0aW9uIiwicmVhZHkiLCJjaGVja0hhc05hdHVyYWxSYXRpbyIsIndyYXBwZXIiLCJhbGlnbiIsImFsaWduRWxlbWVudCIsInNldERhdGEiLCJpbWFnZTJfZGlzYWJsZVJlc2l6ZXIiLCJzZXR1cFJlc2l6ZXIiLCJnZXRTdHlsZWFibGVFbGVtZW50IiwiZ2V0V2lkZ2V0QWxsb3dlZENvbnRlbnQiLCJjb250ZW50VHJhbnNmb3JtYXRpb25zIiwiZmVhdHVyZXMiLCJjaGVja0ZlYXR1cmUiLCJjb250ZW50ZWRpdGFibGUiLCJvbGREYXRhIiwiYyIsImNsYXNzZXMiLCJkaW1lbnNpb24iLCJzZXREaW1lbnNpb25zIiwiZG93bmNhc3QiLCJkb3duY2FzdFdpZGdldEVsZW1lbnQiLCJkcmFnZ2FibGUiLCJlZGl0YWJsZXMiLCJzZWxlY3RvciIsImdldFdpZGdldEZlYXR1cmVzIiwiZ2V0Q2xhc3NlcyIsImNsYXNzUmVnZXgiLCJyZXBvc2l0b3J5IiwicGFyc2VFbGVtZW50Q2xhc3NlcyIsImdldExhYmVsIiwicGF0aE5hbWUiLCJyZXF1aXJlZENvbnRlbnQiLCJzdHlsZWFibGVFbGVtZW50cyIsInVwY2FzdCIsInVwY2FzdFdpZGdldEVsZW1lbnQiLCJuYXR1cmFsIiwiZ2V0TmF0dXJhbCIsImNsaWVudEhlaWdodCIsImRpbWVuc2lvbnMiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2giLCJpbWciLCJJbWFnZSIsImhlaWdoIiwiaXNDZW50ZXJXcmFwcGVyIiwiY2VudGVyV3JhcHBlckNoZWNrZXIiLCJmaWd1cmUiLCJyZXBsYWNlV2l0aCIsImlzTGlua2VkT3JTdGFuZGFsb25lSW1hZ2UiLCJkIiwiYXR0cnNIb2xkZXIiLCJyZXNpemVXcmFwcGVyIiwicGFyc2VDc3NUZXh0Iiwid3JhcFdpdGgiLCJodG1sUGFyc2VyIiwiaXNFbXB0eSIsIndyaXRlQ3NzVGV4dCIsInZhbGlkQ2hpbGRyZW4iLCJkaXYiLCJwIiwiY2hpbGQiLCJlbnRlck1vZGUiLCJFTlRFUl9QIiwid2lkZ2V0IiwiZG9jIiwiaW1hZ2VPckxpbmsiLCJvbGRSZXNpemVXcmFwcGVyIiwiZmFjdG9yIiwiZXZ0Iiwic2NyZWVuWCIsInNjcmVlblkiLCJzdGFydFdpZHRoIiwic3RhcnRIZWlnaHQiLCJsaXN0ZW5lcnMiLCJjdXJzb3JDbGFzcyIsIm5hdGl2ZUV2dCIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwidXBkYXRlRGF0YSIsIm1vdmVEaWZmWCIsIm1vdmVEaWZmWSIsImF0dGFjaFRvRG9jdW1lbnRzIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJjb2xsZWN0aW9uIiwiZ2xvYmFsRG9jIiwibCIsIndpZGdldEVsZW1lbnQiLCJzY3JvbGxQb3NpdGlvbiIsInJ1bGVzIiwiZmlnY2FwdGlvbiIsInRlbXBsYXRlQmxvY2siLCJhZnRlckluaXQiLCJpbnRlZ3JhdGUiLCJhbGlnbkNvbW1hbmRJbnRlZ3JhdG9yIiwiYWVfZHJhZ3Jlc2l6ZV9pZTExX2FsaWduQ2xhc3NlcyIsImFlX2RyYWdyZXNpemVfaWUxMV9jYXB0aW9uZWRDbGFzcyIsImRlZmxhdGUiLCJkZWZsYXRlZCIsImZvY3VzZWQiLCJpbmZsYXRlIiwiYWN0aXZlRW50ZXJNb2RlIiwibW92ZSIsInNldFdyYXBwZXJBbGlnbiIsInNoaWZ0U3RhdGUiLCJuZXdEYXRhIiwiYWVfZHJhZ3Jlc2l6ZV9pZTExIiwiZ2V0TGlua0F0dHJpYnV0ZXNQYXJzZXIiLCJhZHZhbmNlZCIsImFkdkNTU0NsYXNzZXMiLCJ0cmltIiwiYWVfZHJhZ3Jlc2l6ZV9pZTExX2Rpc2FibGVSZXNpemVyIiwiZHJhZ0hhbmRsZXJTdHlsZSIsImRyYWdIYW5kbGVyQ29udGFpbmVyIiwic3RhdGVTaGlmdGVyIiwiVFJJU1RBVEVfT0ZGIiwidW5saW5rIiwic2hpZnRhYmxlcyIsInN0YXRlQWN0aW9ucyIsIm9sZFZhbHVlIiwiY2hhbmdlZCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsIndyYXBJbkNlbnRlcmluZyIsInVud3JhcEZyb21DZW50ZXJpbmciLCJzZXRTdHlsZSIsImNhcHRpb25QbGFjZWhvbGRlciIsInJlcGxhY2VTYWZlbHkiLCJuZWVkc0RlZmxhdGUiLCJuZXdFbCIsInVud3JhcEZyb21MaW5rIiwid3JhcEluTGluayIsImdldExpbmtBdHRyaWJ1dGVzR2V0dGVyIiwicmVtb3ZlZCIsImF0dHJpYnNBbmRTdHlsZXMiLCJsaW5rRGF0YSIsInJlcGxhY2luZyIsInJlcGxhY2VkIiwiaW5zZXJ0RWxlbWVudEludG9SYW5nZSIsIm5hdHVyYWxIZWlnaHQiLCJnZXRMaW5rQXR0cmlidXRlcyIsInBhcnNlTGlua0F0dHJpYnV0ZXMiLCJxdWVyeVNlbGVjdG9yIiwiaW1hZ2VTdHlsZXMiLCJoZWlnaHRTdHlsZXMiLCJ3aWR0aFN0eWxlcyIsInJlc2l6ZXJORSIsInJlc2l6ZXJOVyIsInJlc2l6ZXJTRSIsInJlc2l6ZXJTVyIsImZhY3RvclgiLCJmYWN0b3JZIiwiYWRqdXN0VG9YIiwiYWRqdXN0VG9ZIiwicmVtb3ZlV2lkZ2V0QWxpZ25tZW50IiwiaW1hZ2VBbGlnbm1lbnQiLCJleGVjQ2FsbGJhY2tzIiwiZW5hYmxlZCIsInJlZnJlc2giLCJnZXRGb2N1c2VkV2lkZ2V0IiwiYWxsb3dlZCIsInJlZ2lzdGVyZWQiLCJSRUdFWF9IVFRQIiwiUkVHRVhfREVGQVVMVF9MSU5LIiwiREVGQVVMVF9BRV9FTUJFRF9VUkxfVFBMIiwiREVGQVVMVF9BRV9FTUJFRF9XSURHRVRfVFBMIiwiREVGQVVMVF9BRV9FTUJFRF9ERUZBVUxUX0xJTktfVFBMIiwiQUVfRU1CRURfVVJMX1RQTCIsImVtYmVkVXJsVGVtcGxhdGUiLCJBRV9FTUJFRF9XSURHRVRfVFBMIiwiZW1iZWRXaWRnZXRUcGwiLCJBRV9FTUJFRF9ERUZBVUxUX0xJTktfVFBMIiwiZW1iZWRMaW5rRGVmYXVsdFRwbCIsImRlZmF1bHRFbWJlZFdpZGdldFVwY2FzdEZuIiwibWFzayIsImVuY29kZVVSSUNvbXBvbmVudCIsImNyZWF0ZUFUYWciLCJzZXRIdG1sIiwiYVRhZ0h0bWwiLCJlbWJlZFdpZGdldFVwY2FzdEZuIiwiSElHSF9QUklPUklUWSIsImFkZEVsZW1lbnRDYWxsYmFjayIsIkZJTFRFUl9TS0lQX1RSRUUiLCJERUZBVUxUX0xGUl9FTUJFRF9XSURHRVRfVFBMIiwiRU1CRURfQUxJR05NRU5UIiwiQ0VOVEVSIiwiTEVGVCIsIlJJR0hUIiwiQUxJR05fVkFMVUVTIiwiQ0VOVEVSRURfRU1CRURfU1RZTEUiLCJnZXRFbWJlZEFsaWdubWVudCIsImVtYmVkQWxpZ25tZW50IiwiY2VudGVyZWRFbWJlZCIsImV2ZXJ5Iiwic3R5bGVDaGVjayIsInZlbmRvclByZWZpeGVzIiwidmVuZG9yUHJlZml4IiwicmVtb3ZlRW1iZWRBbGlnbm1lbnQiLCJzZXRFbWJlZEFsaWdubWVudCIsIndyYXBwZXJFbGVtZW50IiwicGFyZW50RWxlbWVudCIsInB3aWR0aCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImlmcmFtZUVsZW1lbnQiLCJzZWxlY3RXaWRnZXQiLCJyb290IiwiZmluZCIsImVsZW1lbnRMaXN0IiwiY3VycmVudEFsaWdubWVudCIsImN1cnJlbnRFbGVtZW50IiwiTEZSX0VNQkVEX1dJREdFVF9UUEwiLCJwcm92aWRlcnMiLCJwcm92aWRlciIsInNjaGVtZSIsImdlbmVyYXRlRW1iZWRDb250ZW50IiwiaGVscE1lc3NhZ2UiLCJ2aWRlb1BsYXliYWNrRGlzYWJsZWQiLCJoZWxwTWVzc2FnZUljb24iLCJMaWZlcmF5IiwiVXRpbCIsImdldExleGljb25JY29uVHBsIiwidXBjYXN0V2lkZ2V0IiwiaWZyYW1lIiwiZW1iZWRDb250ZW50IiwiZ2V0T3V0ZXJIdG1sIiwid2lkZ2V0RnJhZ21lbnQiLCJmcmFnbWVudCIsImZyb21IdG1sIiwic2hvd0Vycm9yIiwiZXJyb3JNc2ciLCJ2YWxpZFByb3ZpZGVyIiwiZW1iZWRJZCIsIl9zZWxlY3RFbWJlZFdpZGdldCIsInBsYXRmb3JtTm90U3VwcG9ydGVkIiwiZW50ZXJWYWxpZFVybCIsInN0eWxlc0pTT04iLCJfZXJyb3IiLCJib3VuZHMiLCJhbGlnblZhbHVlIiwic2VsZWN0ZWRFbWJlZCIsInNlbmRlciIsIklNQUdFX0FMSUdOTUVOVCIsIklNQUdFX1NUWUxFX0FMSUdOTUVOVCIsImdldEltYWdlQWxpZ25tZW50IiwiY2VudGVyZWRJbWFnZSIsImltYWdlQ29udGFpbmVyIiwidGV4dEFsaWduIiwicmVtb3ZlSW1hZ2VBbGlnbm1lbnQiLCJzZXRJbWFnZUFsaWdubWVudCIsInJlZnJlc2hDb21tYW5kcyIsImVtYmVkdXJsIiwiYnJGaWxsZXIiLCJuZWVkc0JyRmlsbGVyIiwiZW50ZXJNb2RlRW1wdHlWYWx1ZSIsIl9jaGVja0VtcHR5RGF0YSIsIl9yZW1vdmVQbGFjZWhvbGRlckNsYXNzIiwiZWRpdGFibGVOb2RlIiwiaW5uZXJIdG1sIiwiZWRpdG9yTm9kZSIsIkRFRkFVTFRfUFJJT1JJVFkiLCJzZWxlY3Rpb25LZXlzdHJva2UiLCJweFVuaXQiLCJjc3NMZW5ndGgiLCJnZXRXaWR0aCIsImdldEJvcmRlcldpZHRoIiwic2lkZSIsImNvbXB1dGVkIiwiYm9yZGVyTWFwIiwidGhpbiIsIm1lZGl1bSIsInRoaWNrIiwiZ2V0TWFzdGVyUGlsbGFyUm93IiwiJHJvd3MiLCJtYXhDZWxscyIsImNlbGxzQ291bnQiLCIkZWxlY3RlZCIsIiR0ciIsImJ1aWxkVGFibGVDb2x1bW5QaWxsYXJzIiwicGlsbGFycyIsInBpbGxhckluZGV4IiwicnRsIiwidEJvZGllcyIsInRib2R5UG9zaXRpb24iLCJnZXREb2N1bWVudFBvc2l0aW9uIiwibmV4dFRkIiwiY29sU3BhbiIsInBpbGxhckxlZnQiLCJwaWxsYXJSaWdodCIsInBpbGxhcldpZHRoIiwiZ2V0UGlsbGFyQXRQb3NpdGlvbiIsInBvc2l0aW9uWCIsInBpbGxhciIsIkNvbHVtblJlc2l6ZXIiLCJjdXJyZW50U2hpZnQiLCJsZWZ0U2hpZnRCb3VuZGFyeSIsImxlZnRTaWRlQ2VsbHMiLCJyZXNpemluZyIsInJpZ2h0U2hpZnRCb3VuZGFyeSIsInJpZ2h0U2lkZUNlbGxzIiwiaXNSZXNpemluZyIsInBvc1giLCJyZXNpemVyTmV3UG9zaXRpb24iLCJvbk1vdXNlRG93biIsInJlc2l6ZVN0YXJ0IiwiY29sdW1uSW5kZXgiLCJidWlsZFRhYmxlTWFwIiwibGVmdENvbHVtbkNlbGxzIiwicmlnaHRDb2x1bW5DZWxscyIsImxlZnRNaW5TaXplIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwicmlnaHRNaW5TaXplIiwibGVmdENlbGwiLCJyaWdodENlbGwiLCJzZXRPcGFjaXR5IiwicmVzaXplRW5kIiwicmVzaXplQ29sdW1uIiwicmVtb3ZlQ3VzdG9tRGF0YSIsImxlZnRPbGRXaWR0aCIsInJpZ2h0T2xkV2lkdGgiLCJ0YWJsZVdpZHRoIiwic2l6ZVNoaWZ0IiwiZ2V0UGFnZU9mZnNldCIsImdldERvY3VtZW50RWxlbWVudCIsImNsZWFyUGlsbGFyc0NhY2hlIiwiZGVzdCIsInRvRWxlbWVudCIsImlzSW5saW5lIiwiZ2V0Q3VzdG9tRGF0YSIsInNldEN1c3RvbURhdGEiLCJjZWxsTm9kZVJlZ2V4IiwiZ2V0U2VsZWN0ZWRDZWxscyIsInJldHZhbCIsImRhdGFiYXNlIiwibW92ZU91dE9mQ2VsbEd1YXJkIiwic2V0TWFya2VyIiwibmVhcmVzdENlbGwiLCJ3YWxrZXIiLCJndWFyZCIsImR0ZCIsImNsZWFyQWxsTWFya2VycyIsImdldEZvY3VzRWxlbWVudEFmdGVyRGVsQ2VsbHMiLCJjZWxsc1RvRGVsZXRlIiwibGFzdCIsImZvY3VzZWRDZWxsIiwiaW5zZXJ0Um93IiwiZ2V0RG9jdW1lbnQiLCJzdGFydFJvdyIsInN0YXJ0Um93SW5kZXgiLCJyb3dJbmRleCIsImxhc3RDZWxsIiwiZW5kUm93SW5kZXgiLCJyb3dTcGFuIiwiZW5kUm93IiwiY2xvbmVSb3ciLCJuZXh0Um93IiwibmV3Um93IiwiY2xvbmUiLCJpbnNlcnRBZnRlciIsImNlbGxJbmRleCIsImRlbGV0ZVJvd3MiLCJzZWxlY3Rpb25PclJvdyIsInJvd3NUb0RlbGV0ZSIsIm1hcFJvdyIsImNlbGxSb3dJbmRleCIsIm5leHRNYXBSb3ciLCJjdXJzb3JQb3NpdGlvbiIsImdldENlbGxDb2xJbmRleCIsImlzU3RhcnQiLCJyb3dDZWxscyIsImNvbEluZGV4IiwibWFwQ2VsbCIsImdldENvbHVtbnNJbmRpY2VzIiwiaW5zZXJ0Q29sdW1uIiwic3RhcnRDb2wiLCJsYXN0Q29sIiwiY2xvbmVDb2wiLCJuZXh0Q29sIiwibmV4dENlbGwiLCJpbnNlcnRlZENlbGxzIiwiZGVsZXRlQ29sdW1ucyIsInNlbGVjdGlvbk9yQ2VsbCIsInN0YXJ0Q29sSW5kZXgiLCJlbmRDb2xJbmRleCIsImZpcnN0Um93Q2VsbHMiLCJpbnNlcnRDZWxsIiwic3RhcnRFbGVtZW50IiwiZGVsZXRlQ2VsbHMiLCJjZWxsVG9Gb2N1cyIsInBsYWNlQ3Vyc29ySW5DZWxsIiwidHJpbUNlbGwiLCJib2d1cyIsImdldEJvZ3VzIiwicGxhY2VBdEVuZCIsImRvY0lubmVyIiwiZG9jT3V0ZXIiLCJjb2xsYXBzZSIsImNlbGxJblJvdyIsInRhYmxlTWFwIiwib1JvdyIsImNlbGxJbkNvbCIsIm9Db2wiLCJyIiwibWVyZ2VDZWxscyIsIm1lcmdlRGlyZWN0aW9uIiwiaXNEZXRlY3QiLCJjb21tb25BbmNlc3RvciIsIm1hcEhlaWdodCIsIm1hcFdpZHRoIiwic3RhcnRDb2x1bW4iLCJ0YXJnZXRDZWxsIiwicm93c3BhbiIsImNvbHNwYW4iLCJlciIsImxhc3RSb3dJbmRleCIsInRvdGFsUm93U3BhbiIsInRvdGFsQ29sU3BhbiIsImZyYWciLCJkb2N1bWVudEZyYWdtZW50IiwiY2VsbEZpcnN0Q2hpbGQiLCJpc0Jsb2NrQm91bmRhcnkiLCJ3aGl0ZXNwYWNlcyIsIm1vdmVDaGlsZHJlbiIsInRycyIsIm5vZGVMaXN0IiwidGFpbFRyIiwidmVydGljYWxTcGxpdENlbGwiLCJuZXdSb3dTcGFuIiwibmV3Q2VsbFJvd1NwYW4iLCJuZXdSb3dJbmRleCIsImNlaWwiLCJuZXdDZWxsVHIiLCJuZXdDZWxsUm93IiwiY2FuZGlkYXRlQ2VsbCIsImNlbGxzSW5TYW1lUm93IiwiaG9yaXpvbnRhbFNwbGl0Q2VsbCIsIm5ld0NvbFNwYW4iLCJuZXdDZWxsQ29sU3BhbiIsImNlbGxzSW5TYW1lQ29sIiwiY3JlYXRlRGVmIiwiZGVmIiwiY29udGV4dFNlbnNpdGl2ZSIsImFkZENtZCIsImNtZCIsImFkZEZlYXR1cmUiLCJhUm93cyIsImFNYXAiLCJvQ2VsbCIsImlDb2xTcGFuIiwiaVJvd1NwYW4iLCJycyIsImNzIiwidGFibGVTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMiLCJERUZBVUxUX0dVVFRFUiIsImNlbnRlclRvb2xiYXIiLCJ0b29sYmFyTm9kZSIsImhhbGZOb2RlV2lkdGgiLCJ3aWRnZXRYWSIsImNhcmV0UG9zaXRpb24iLCJub2RlVHlwZSIsIkVMRU1FTlRfTk9ERSIsInN0YXJ0Q29udGFpbmVyQ2xpZW50UmVjdCIsImVuZFBvc2l0aW9uIiwiaW1hZ2VTZWxlY3Rpb25TZXRQb3NpdGlvbiIsInRhYmxlU2VsZWN0aW9uU2V0UG9zaXRpb24iLCJfaXNSYW5nZUF0RWxlbWVudEVuZCIsImVtYmVkU2VsZWN0aW9uVGVzdCIsImVtYmVkVXJsU2VsZWN0aW9uVGVzdCIsImhlYWRpbmdUZXh0U2VsZWN0aW9uVGVzdCIsImhlYWRpbmdzIiwic2VsZWN0aW9uRW1wdHkiLCJsaW5rU2VsZWN0aW9uVGVzdCIsImVsZW1lbnRJc05vdEltYWdlIiwiaW1hZ2VTZWxlY3Rpb25UZXN0IiwiaGFzSW1hZ2UiLCJpc0ltYWdlIiwidGV4dFNlbGVjdGlvblRlc3QiLCJ0YWJsZVNlbGVjdGlvblRlc3QiLCJlbWJlZFVybCIsImhlYWRlciIsImZ1bGwiLCJzaW1wbGUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzQkFBc0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLElBQXFDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLDJCQUEyQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sS0FBcUMsNEZBQTRGLFNBQU07QUFDN0k7QUFDQTs7QUFFQSxtQkFBbUIsZ0NBQWdDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixnQ0FBZ0M7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7O0FDOWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSSxJQUFxQztBQUN6QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrREFBVTs7QUFFbEM7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMsdUZBQTJCO0FBQ3RELENBQUMsTUFBTSxFQUlOOzs7Ozs7Ozs7Ozs7O0FDbEJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjs7QUFFQTs7Ozs7Ozs7Ozs7OztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7Ozs7QUFJYixJQUFJLElBQXFDO0FBQ3pDO0FBQ0E7O0FBRUEsOENBQThDLGNBQWM7O0FBRTVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxzRkFBc0YsYUFBYTtBQUNuRztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEYsZUFBZTtBQUMzRztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7Ozs7Ozs7O0FDbE9hOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQztBQUNELG1CQUFtQixtQkFBTyxDQUFDLDBGQUErQjtBQUMxRDs7Ozs7Ozs7Ozs7O0FDTkEsMkI7Ozs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFxQzs7QUFFaUI7O0FBRXREO0FBQ0E7QUFDQSxzQkFBc0IsOENBQVc7QUFDakMsQ0FBQyx5REFBbUIsR0FBRyxtQkFBTyxDQUFDLDZDQUFXO0FBQzFDOztBQUVxQjs7Ozs7Ozs7Ozs7Ozs7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Y2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiLCBcInJlYWN0LWRvbVwiXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpIDogZmFjdG9yeShyb290W1wiUmVhY3RcIl0sIHJvb3RbXCJSZWFjdERPTVwiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh3aW5kb3csIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9kb21fXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc2NyaXB0cy9idWlsZC93aXRoLWNrZWRpdG9yLmpzXCIpO1xuIiwi77u/LypcbkNvcHlyaWdodCAoYykgMjAwMy0yMDIwLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2VcbiovXG4oZnVuY3Rpb24oKXtpZighd2luZG93LkNLRURJVE9SfHwhd2luZG93LkNLRURJVE9SLmRvbSl7d2luZG93LkNLRURJVE9SfHwod2luZG93LkNLRURJVE9SPWZ1bmN0aW9uKCl7dmFyIGM9LyhefC4qW1xcXFxcXC9dKWNrZWRpdG9yXFwuanMoPzpcXD8uKnw7LiopPyQvaSxnPXt0aW1lc3RhbXA6XCJLNVQ3XCIsdmVyc2lvbjpcIjQuMTQuMVwiLHJldmlzaW9uOlwiZWIyZDExNjQ0XCIscm5kOk1hdGguZmxvb3IoOTAwKk1hdGgucmFuZG9tKCkpKzEwMCxfOntwZW5kaW5nOltdLGJhc2VQYXRoU3JjUGF0dGVybjpjfSxzdGF0dXM6XCJ1bmxvYWRlZFwiLGJhc2VQYXRoOmZ1bmN0aW9uKCl7dmFyIGI9d2luZG93LkNLRURJVE9SX0JBU0VQQVRIfHxcIlwiO2lmKCFiKWZvcih2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBrPWVbZ10uc3JjLm1hdGNoKGMpO2lmKGspe2I9a1sxXTticmVha319LTE9PWIuaW5kZXhPZihcIjovXCIpJiZcIi8vXCIhPWIuc2xpY2UoMCxcbjIpJiYoYj0wPT09Yi5pbmRleE9mKFwiL1wiKT9sb2NhdGlvbi5ocmVmLm1hdGNoKC9eLio/OlxcL1xcL1teXFwvXSovKVswXStiOmxvY2F0aW9uLmhyZWYubWF0Y2goL15bXlxcP10qXFwvKD86KS8pWzBdK2IpO2lmKCFiKXRocm93J1RoZSBDS0VkaXRvciBpbnN0YWxsYXRpb24gcGF0aCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBkZXRlY3RlZC4gUGxlYXNlIHNldCB0aGUgZ2xvYmFsIHZhcmlhYmxlIFwiQ0tFRElUT1JfQkFTRVBBVEhcIiBiZWZvcmUgY3JlYXRpbmcgZWRpdG9yIGluc3RhbmNlcy4nO3JldHVybiBifSgpLGdldFVybDpmdW5jdGlvbihiKXstMT09Yi5pbmRleE9mKFwiOi9cIikmJjAhPT1iLmluZGV4T2YoXCIvXCIpJiYoYj10aGlzLmJhc2VQYXRoK2IpO3RoaXMudGltZXN0YW1wJiZcIi9cIiE9Yi5jaGFyQXQoYi5sZW5ndGgtMSkmJiEvWyY/XXQ9Ly50ZXN0KGIpJiYoYis9KDA8PWIuaW5kZXhPZihcIj9cIik/XCJcXHgyNlwiOlwiP1wiKStcInRcXHgzZFwiK3RoaXMudGltZXN0YW1wKTtyZXR1cm4gYn0sXG5kb21SZWFkeTpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXt0cnl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixiLCExKSxjKCkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiZcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYoZG9jdW1lbnQuZGV0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixiKSxjKCkpfWNhdGNoKGspe319ZnVuY3Rpb24gYygpe2Zvcih2YXIgYjtiPWUuc2hpZnQoKTspYigpfXZhciBlPVtdO3JldHVybiBmdW5jdGlvbihrKXtmdW5jdGlvbiBkKCl7dHJ5e2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbChcImxlZnRcIil9Y2F0Y2goYSl7c2V0VGltZW91dChkLDEpO3JldHVybn1iKCl9ZS5wdXNoKGspO1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJnNldFRpbWVvdXQoYiwxKTtpZigxPT1lLmxlbmd0aClpZihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsXG5iLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixiLCExKTtlbHNlIGlmKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGIpO3dpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGIpO2s9ITE7dHJ5e2s9IXdpbmRvdy5mcmFtZUVsZW1lbnR9Y2F0Y2goZil7fWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCYmayYmZCgpfX19KCl9LGU9d2luZG93LkNLRURJVE9SX0dFVFVSTDtpZihlKXt2YXIgYj1nLmdldFVybDtnLmdldFVybD1mdW5jdGlvbihjKXtyZXR1cm4gZS5jYWxsKGcsYyl8fGIuY2FsbChnLGMpfX1yZXR1cm4gZ30oKSk7Q0tFRElUT1IuZXZlbnR8fChDS0VESVRPUi5ldmVudD1mdW5jdGlvbigpe30sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T249ZnVuY3Rpb24oYyl7dmFyIGc9Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLGU7Zm9yKGUgaW4gZyludWxsPT1jW2VdJiYoY1tlXT1nW2VdKX0sXG5DS0VESVRPUi5ldmVudC5wcm90b3R5cGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGIpe3ZhciBjPWcodGhpcyk7cmV0dXJuIGNbYl18fChjW2JdPW5ldyBlKGIpKX12YXIgZz1mdW5jdGlvbihiKXtiPWIuZ2V0UHJpdmF0ZSYmYi5nZXRQcml2YXRlKCl8fGIuX3x8KGIuXz17fSk7cmV0dXJuIGIuZXZlbnRzfHwoYi5ldmVudHM9e30pfSxlPWZ1bmN0aW9uKGIpe3RoaXMubmFtZT1iO3RoaXMubGlzdGVuZXJzPVtdfTtlLnByb3RvdHlwZT17Z2V0TGlzdGVuZXJJbmRleDpmdW5jdGlvbihiKXtmb3IodmFyIGM9MCxlPXRoaXMubGlzdGVuZXJzO2M8ZS5sZW5ndGg7YysrKWlmKGVbY10uZm49PWIpcmV0dXJuIGM7cmV0dXJuLTF9fTtyZXR1cm57ZGVmaW5lOmZ1bmN0aW9uKGIsZSl7dmFyIGc9Yy5jYWxsKHRoaXMsYik7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGcsZSwhMCl9LG9uOmZ1bmN0aW9uKGIsZSxnLGwsayl7ZnVuY3Rpb24gZChhLG4sZCxyKXthPXtuYW1lOmIsc2VuZGVyOnRoaXMsZWRpdG9yOmEsXG5kYXRhOm4sbGlzdGVuZXJEYXRhOmwsc3RvcDpkLGNhbmNlbDpyLHJlbW92ZUxpc3RlbmVyOmZ9O3JldHVybiExPT09ZS5jYWxsKGcsYSk/ITE6YS5kYXRhfWZ1bmN0aW9uIGYoKXtuLnJlbW92ZUxpc3RlbmVyKGIsZSl9dmFyIGE9Yy5jYWxsKHRoaXMsYik7aWYoMD5hLmdldExpc3RlbmVySW5kZXgoZSkpe2E9YS5saXN0ZW5lcnM7Z3x8KGc9dGhpcyk7aXNOYU4oaykmJihrPTEwKTt2YXIgbj10aGlzO2QuZm49ZTtkLnByaW9yaXR5PWs7Zm9yKHZhciByPWEubGVuZ3RoLTE7MDw9cjtyLS0paWYoYVtyXS5wcmlvcml0eTw9aylyZXR1cm4gYS5zcGxpY2UocisxLDAsZCkse3JlbW92ZUxpc3RlbmVyOmZ9O2EudW5zaGlmdChkKX1yZXR1cm57cmVtb3ZlTGlzdGVuZXI6Zn19LG9uY2U6ZnVuY3Rpb24oKXt2YXIgYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGM9YlsxXTtiWzFdPWZ1bmN0aW9uKGIpe2IucmVtb3ZlTGlzdGVuZXIoKTtyZXR1cm4gYy5hcHBseSh0aGlzLFxuYXJndW1lbnRzKX07cmV0dXJuIHRoaXMub24uYXBwbHkodGhpcyxiKX0sY2FwdHVyZTpmdW5jdGlvbigpe0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MTt2YXIgYj10aGlzLm9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTA7cmV0dXJuIGJ9LGZpcmU6ZnVuY3Rpb24oKXt2YXIgYj0wLGM9ZnVuY3Rpb24oKXtiPTF9LGU9MCxsPWZ1bmN0aW9uKCl7ZT0xfTtyZXR1cm4gZnVuY3Rpb24oayxkLGYpe3ZhciBhPWcodGhpcylba107az1iO3ZhciBuPWU7Yj1lPTA7aWYoYSl7dmFyIHI9YS5saXN0ZW5lcnM7aWYoci5sZW5ndGgpZm9yKHZhciByPXIuc2xpY2UoMCkseCxwPTA7cDxyLmxlbmd0aDtwKyspe2lmKGEuZXJyb3JQcm9vZil0cnl7eD1yW3BdLmNhbGwodGhpcyxmLGQsYyxsKX1jYXRjaChxKXt9ZWxzZSB4PXJbcF0uY2FsbCh0aGlzLGYsZCxjLGwpOyExPT09eD9lPTE6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHgmJihkPXgpO2lmKGJ8fGUpYnJlYWt9fWQ9XG5lPyExOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBkPyEwOmQ7Yj1rO2U9bjtyZXR1cm4gZH19KCksZmlyZU9uY2U6ZnVuY3Rpb24oYixjLGUpe2M9dGhpcy5maXJlKGIsYyxlKTtkZWxldGUgZyh0aGlzKVtiXTtyZXR1cm4gY30scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oYixjKXt2YXIgZT1nKHRoaXMpW2JdO2lmKGUpe3ZhciBsPWUuZ2V0TGlzdGVuZXJJbmRleChjKTswPD1sJiZlLmxpc3RlbmVycy5zcGxpY2UobCwxKX19LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBiPWcodGhpcyksYztmb3IoYyBpbiBiKWRlbGV0ZSBiW2NdfSxoYXNMaXN0ZW5lcnM6ZnVuY3Rpb24oYil7cmV0dXJuKGI9Zyh0aGlzKVtiXSkmJjA8Yi5saXN0ZW5lcnMubGVuZ3RofX19KCkpO0NLRURJVE9SLmVkaXRvcnx8KENLRURJVE9SLmVkaXRvcj1mdW5jdGlvbigpe0NLRURJVE9SLl8ucGVuZGluZy5wdXNoKFt0aGlzLGFyZ3VtZW50c10pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZT1cbmZ1bmN0aW9uKGMsZyl7YyBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1tjXT0hMCk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlLmNhbGwodGhpcyxjLGcsdGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZU9uY2U9ZnVuY3Rpb24oYyxnKXtjIGlue2luc3RhbmNlUmVhZHk6MSxsb2FkZWQ6MX0mJih0aGlzW2NdPSEwKTtyZXR1cm4gQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlLmZpcmVPbmNlLmNhbGwodGhpcyxjLGcsdGhpcyl9LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUpKTtDS0VESVRPUi5lbnZ8fChDS0VESVRPUi5lbnY9ZnVuY3Rpb24oKXt2YXIgYz1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksZz1jLm1hdGNoKC9lZGdlWyBcXC9dKFxcZCsuP1xcZCopLyksZT0tMTxjLmluZGV4T2YoXCJ0cmlkZW50L1wiKSxlPSEoIWcmJiFlKSxlPXtpZTplLGVkZ2U6ISFnLHdlYmtpdDohZSYmXG4tMTxjLmluZGV4T2YoXCIgYXBwbGV3ZWJraXQvXCIpLGFpcjotMTxjLmluZGV4T2YoXCIgYWRvYmVhaXIvXCIpLG1hYzotMTxjLmluZGV4T2YoXCJtYWNpbnRvc2hcIikscXVpcmtzOlwiQmFja0NvbXBhdFwiPT1kb2N1bWVudC5jb21wYXRNb2RlJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTA+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxtb2JpbGU6LTE8Yy5pbmRleE9mKFwibW9iaWxlXCIpLGlPUzovKGlwYWR8aXBob25lfGlwb2QpLy50ZXN0KGMpLGlzQ3VzdG9tRG9tYWluOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaWUpcmV0dXJuITE7dmFyIGI9ZG9jdW1lbnQuZG9tYWluLGM9d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO3JldHVybiBiIT1jJiZiIT1cIltcIitjK1wiXVwifSxzZWN1cmU6XCJodHRwczpcIj09bG9jYXRpb24ucHJvdG9jb2x9O2UuZ2Vja289XCJHZWNrb1wiPT1uYXZpZ2F0b3IucHJvZHVjdCYmIWUud2Via2l0JiYhZS5pZTtlLndlYmtpdCYmKC0xPGMuaW5kZXhPZihcImNocm9tZVwiKT9lLmNocm9tZT1cbiEwOmUuc2FmYXJpPSEwKTt2YXIgYj0wO2UuaWUmJihiPWc/cGFyc2VGbG9hdChnWzFdKTplLnF1aXJrc3x8IWRvY3VtZW50LmRvY3VtZW50TW9kZT9wYXJzZUZsb2F0KGMubWF0Y2goL21zaWUgKFxcZCspLylbMV0pOmRvY3VtZW50LmRvY3VtZW50TW9kZSxlLmllOUNvbXBhdD05PT1iLGUuaWU4Q29tcGF0PTg9PWIsZS5pZTdDb21wYXQ9Nz09YixlLmllNkNvbXBhdD03PmJ8fGUucXVpcmtzKTtlLmdlY2tvJiYoZz1jLm1hdGNoKC9ydjooW1xcZFxcLl0rKS8pKSYmKGc9Z1sxXS5zcGxpdChcIi5cIiksYj0xRTQqZ1swXSsxMDAqKGdbMV18fDApKzEqKGdbMl18fDApKTtlLmFpciYmKGI9cGFyc2VGbG9hdChjLm1hdGNoKC8gYWRvYmVhaXJcXC8oXFxkKykvKVsxXSkpO2Uud2Via2l0JiYoYj1wYXJzZUZsb2F0KGMubWF0Y2goLyBhcHBsZXdlYmtpdFxcLyhcXGQrKS8pWzFdKSk7ZS52ZXJzaW9uPWI7ZS5pc0NvbXBhdGlibGU9IShlLmllJiY3PmIpJiYhKGUuZ2Vja28mJjRFND5iKSYmIShlLndlYmtpdCYmXG41MzQ+Yik7ZS5oaWRwaT0yPD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztlLm5lZWRzQnJGaWxsZXI9ZS5nZWNrb3x8ZS53ZWJraXR8fGUuaWUmJjEwPGI7ZS5uZWVkc05ic3BGaWxsZXI9ZS5pZSYmMTE+YjtlLmNzc0NsYXNzPVwiY2tlX2Jyb3dzZXJfXCIrKGUuaWU/XCJpZVwiOmUuZ2Vja28/XCJnZWNrb1wiOmUud2Via2l0P1wid2Via2l0XCI6XCJ1bmtub3duXCIpO2UucXVpcmtzJiYoZS5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfcXVpcmtzXCIpO2UuaWUmJihlLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9pZVwiKyhlLnF1aXJrcz9cIjYgY2tlX2Jyb3dzZXJfaWVxdWlya3NcIjplLnZlcnNpb24pKTtlLmFpciYmKGUuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2FpclwiKTtlLmlPUyYmKGUuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2lvc1wiKTtlLmhpZHBpJiYoZS5jc3NDbGFzcys9XCIgY2tlX2hpZHBpXCIpO3JldHVybiBlfSgpKTtcInVubG9hZGVkXCI9PUNLRURJVE9SLnN0YXR1cyYmZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUik7XG5DS0VESVRPUi5sb2FkRnVsbENvcmU9ZnVuY3Rpb24oKXtpZihcImJhc2ljX3JlYWR5XCIhPUNLRURJVE9SLnN0YXR1cylDS0VESVRPUi5sb2FkRnVsbENvcmUuX2xvYWQ9MTtlbHNle2RlbGV0ZSBDS0VESVRPUi5sb2FkRnVsbENvcmU7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtjLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtjLnNyYz1DS0VESVRPUi5iYXNlUGF0aCtcImNrZWRpdG9yLmpzXCI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGMpfX07Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dD0wO0NLRURJVE9SLmFkZD1mdW5jdGlvbihjKXsodGhpcy5fLnBlbmRpbmd8fCh0aGlzLl8ucGVuZGluZz1bXSkpLnB1c2goYyl9OyhmdW5jdGlvbigpe0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7dmFyIGM9Q0tFRElUT1IubG9hZEZ1bGxDb3JlLGc9Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dDtjJiYoQ0tFRElUT1Iuc3RhdHVzPVxuXCJiYXNpY19yZWFkeVwiLGMmJmMuX2xvYWQ/YygpOmcmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtDS0VESVRPUi5sb2FkRnVsbENvcmUmJkNLRURJVE9SLmxvYWRGdWxsQ29yZSgpfSwxRTMqZykpfSl9KSgpO0NLRURJVE9SLnN0YXR1cz1cImJhc2ljX2xvYWRlZFwifSgpO1widXNlIHN0cmljdFwiO0NLRURJVE9SLlZFUkJPU0lUWV9XQVJOPTE7Q0tFRElUT1IuVkVSQk9TSVRZX0VSUk9SPTI7Q0tFRElUT1IudmVyYm9zaXR5PUNLRURJVE9SLlZFUkJPU0lUWV9XQVJOfENLRURJVE9SLlZFUkJPU0lUWV9FUlJPUjtDS0VESVRPUi53YXJuPWZ1bmN0aW9uKGMsZyl7Q0tFRElUT1IudmVyYm9zaXR5JkNLRURJVE9SLlZFUkJPU0lUWV9XQVJOJiZDS0VESVRPUi5maXJlKFwibG9nXCIse3R5cGU6XCJ3YXJuXCIsZXJyb3JDb2RlOmMsYWRkaXRpb25hbERhdGE6Z30pfTtDS0VESVRPUi5lcnJvcj1mdW5jdGlvbihjLGcpe0NLRURJVE9SLnZlcmJvc2l0eSZDS0VESVRPUi5WRVJCT1NJVFlfRVJST1ImJkNLRURJVE9SLmZpcmUoXCJsb2dcIixcbnt0eXBlOlwiZXJyb3JcIixlcnJvckNvZGU6YyxhZGRpdGlvbmFsRGF0YTpnfSl9O0NLRURJVE9SLm9uKFwibG9nXCIsZnVuY3Rpb24oYyl7aWYod2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyl7dmFyIGc9Y29uc29sZVtjLmRhdGEudHlwZV0/Yy5kYXRhLnR5cGU6XCJsb2dcIixlPWMuZGF0YS5lcnJvckNvZGU7aWYoYz1jLmRhdGEuYWRkaXRpb25hbERhdGEpY29uc29sZVtnXShcIltDS0VESVRPUl0gRXJyb3IgY29kZTogXCIrZStcIi5cIixjKTtlbHNlIGNvbnNvbGVbZ10oXCJbQ0tFRElUT1JdIEVycm9yIGNvZGU6IFwiK2UrXCIuXCIpO2NvbnNvbGVbZ10oXCJbQ0tFRElUT1JdIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgZXJyb3IgZ28gdG8gaHR0cHM6Ly9ja2VkaXRvci5jb20vZG9jcy9ja2VkaXRvcjQvbGF0ZXN0L2d1aWRlL2Rldl9lcnJvcnMuaHRtbCNcIitlKX19LG51bGwsbnVsbCw5OTkpO0NLRURJVE9SLmRvbT17fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsZCxmKXt0aGlzLl9taW5JbnRlcnZhbD1cbmE7dGhpcy5fY29udGV4dD1mO3RoaXMuX2xhc3RPdXRwdXQ9dGhpcy5fc2NoZWR1bGVkVGltZXI9MDt0aGlzLl9vdXRwdXQ9Q0tFRElUT1IudG9vbHMuYmluZChkLGZ8fHt9KTt2YXIgYj10aGlzO3RoaXMuaW5wdXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Yi5fbGFzdE91dHB1dD0obmV3IERhdGUpLmdldFRpbWUoKTtiLl9zY2hlZHVsZWRUaW1lcj0wO2IuX2NhbGwoKX1pZighYi5fc2NoZWR1bGVkVGltZXJ8fCExIT09Yi5fcmVzY2hlZHVsZSgpKXt2YXIgbj0obmV3IERhdGUpLmdldFRpbWUoKS1iLl9sYXN0T3V0cHV0O248Yi5fbWluSW50ZXJ2YWw/Yi5fc2NoZWR1bGVkVGltZXI9c2V0VGltZW91dChhLGIuX21pbkludGVydmFsLW4pOmEoKX19fWZ1bmN0aW9uIGcoYSxkLGYpe2MuY2FsbCh0aGlzLGEsZCxmKTt0aGlzLl9hcmdzPVtdO3ZhciBiPXRoaXM7dGhpcy5pbnB1dD1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLmlucHV0LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2IuX2FyZ3M9XG5BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2EuY2FsbCh0aGlzKX19KX12YXIgZT1bXSxiPUNLRURJVE9SLmVudi5nZWNrbz9cIi1tb3otXCI6Q0tFRElUT1IuZW52LndlYmtpdD9cIi13ZWJraXQtXCI6Q0tFRElUT1IuZW52LmllP1wiLW1zLVwiOlwiXCIsaD0vJi9nLG09Lz4vZyxsPS88L2csaz0vXCIvZyxkPS8mKGx0fGd0fGFtcHxxdW90fG5ic3B8c2h5fCNcXGR7MSw1fSk7L2csZj17bHQ6XCJcXHgzY1wiLGd0OlwiXFx4M2VcIixhbXA6XCJcXHgyNlwiLHF1b3Q6J1wiJyxuYnNwOlwiwqBcIixzaHk6XCLCrVwifSxhPWZ1bmN0aW9uKGEsZCl7cmV0dXJuXCIjXCI9PWRbMF0/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChkLnNsaWNlKDEpLDEwKSk6ZltkXX07Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7ZT1bXX0pO0NLRURJVE9SLnRvb2xzPXthcnJheUNvbXBhcmU6ZnVuY3Rpb24oYSxkKXtpZighYSYmIWQpcmV0dXJuITA7aWYoIWF8fCFkfHxhLmxlbmd0aCE9ZC5sZW5ndGgpcmV0dXJuITE7XG5mb3IodmFyIGY9MDtmPGEubGVuZ3RoO2YrKylpZihhW2ZdIT1kW2ZdKXJldHVybiExO3JldHVybiEwfSxnZXRJbmRleDpmdW5jdGlvbihhLGQpe2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7KytmKWlmKGQoYVtmXSkpcmV0dXJuIGY7cmV0dXJuLTF9LGNsb25lOmZ1bmN0aW9uKGEpe3ZhciBkO2lmKGEmJmEgaW5zdGFuY2VvZiBBcnJheSl7ZD1bXTtmb3IodmFyIGY9MDtmPGEubGVuZ3RoO2YrKylkW2ZdPUNLRURJVE9SLnRvb2xzLmNsb25lKGFbZl0pO3JldHVybiBkfWlmKG51bGw9PT1hfHxcIm9iamVjdFwiIT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZ3x8YSBpbnN0YW5jZW9mIE51bWJlcnx8YSBpbnN0YW5jZW9mIEJvb2xlYW58fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgUmVnRXhwfHxhLm5vZGVUeXBlfHxhLndpbmRvdz09PWEpcmV0dXJuIGE7ZD1uZXcgYS5jb25zdHJ1Y3Rvcjtmb3IoZiBpbiBhKWRbZl09Q0tFRElUT1IudG9vbHMuY2xvbmUoYVtmXSk7cmV0dXJuIGR9LFxuY2FwaXRhbGl6ZTpmdW5jdGlvbihhLGQpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKyhkP2Euc2xpY2UoMSk6YS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKX0sZXh0ZW5kOmZ1bmN0aW9uKGEpe3ZhciBkPWFyZ3VtZW50cy5sZW5ndGgsZixiO1wiYm9vbGVhblwiPT10eXBlb2YoZj1hcmd1bWVudHNbZC0xXSk/ZC0tOlwiYm9vbGVhblwiPT10eXBlb2YoZj1hcmd1bWVudHNbZC0yXSkmJihiPWFyZ3VtZW50c1tkLTFdLGQtPTIpO2Zvcih2YXIgYz0xO2M8ZDtjKyspe3ZhciBrPWFyZ3VtZW50c1tjXXx8e307Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChDS0VESVRPUi50b29scy5vYmplY3Qua2V5cyhrKSxmdW5jdGlvbihkKXtpZighMD09PWZ8fG51bGw9PWFbZF0paWYoIWJ8fGQgaW4gYilhW2RdPWtbZF19KX1yZXR1cm4gYX0scHJvdG90eXBlZENvcHk6ZnVuY3Rpb24oYSl7dmFyIGQ9ZnVuY3Rpb24oKXt9O2QucHJvdG90eXBlPWE7cmV0dXJuIG5ldyBkfSxjb3B5OmZ1bmN0aW9uKGEpe3ZhciBkPVxue30sZjtmb3IoZiBpbiBhKWRbZl09YVtmXTtyZXR1cm4gZH0saXNBcnJheTpmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX0saXNFbXB0eTpmdW5jdGlvbihhKXtmb3IodmFyIGQgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGQpKXJldHVybiExO3JldHVybiEwfSxjc3NWZW5kb3JQcmVmaXg6ZnVuY3Rpb24oYSxkLGYpe2lmKGYpcmV0dXJuIGIrYStcIjpcIitkK1wiO1wiK2ErXCI6XCIrZDtmPXt9O2ZbYV09ZDtmW2IrYV09ZDtyZXR1cm4gZn0sY3NzU3R5bGVUb0RvbVN0eWxlOmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxkPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNzc0Zsb2F0P1wiY3NzRmxvYXRcIjpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zdHlsZUZsb2F0P1wic3R5bGVGbG9hdFwiOlwiZmxvYXRcIjtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuXCJmbG9hdFwiPT1hP2Q6YS5yZXBsYWNlKC8tLi9nLFxuZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3Vic3RyKDEpLnRvVXBwZXJDYXNlKCl9KX19KCksYnVpbGRTdHlsZUh0bWw6ZnVuY3Rpb24oYSl7YT1bXS5jb25jYXQoYSk7Zm9yKHZhciBkLGY9W10sYj0wO2I8YS5sZW5ndGg7YisrKWlmKGQ9YVtiXSkvQGltcG9ydHxbe31dLy50ZXN0KGQpP2YucHVzaChcIlxceDNjc3R5bGVcXHgzZVwiK2QrXCJcXHgzYy9zdHlsZVxceDNlXCIpOmYucHVzaCgnXFx4M2NsaW5rIHR5cGVcXHgzZFwidGV4dC9jc3NcIiByZWxcXHgzZHN0eWxlc2hlZXQgaHJlZlxceDNkXCInK2QrJ1wiXFx4M2UnKTtyZXR1cm4gZi5qb2luKFwiXCIpfSxodG1sRW5jb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hfHxudWxsPT09YT9cIlwiOlN0cmluZyhhKS5yZXBsYWNlKGgsXCJcXHgyNmFtcDtcIikucmVwbGFjZShtLFwiXFx4MjZndDtcIikucmVwbGFjZShsLFwiXFx4MjZsdDtcIil9LGh0bWxEZWNvZGU6ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZShkLGEpfSxodG1sRW5jb2RlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhKS5yZXBsYWNlKGssXG5cIlxceDI2cXVvdDtcIil9LGh0bWxEZWNvZGVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5odG1sRGVjb2RlKGEpfSx0cmFuc2Zvcm1QbGFpblRleHRUb0h0bWw6ZnVuY3Rpb24oYSxkKXt2YXIgZj1kPT1DS0VESVRPUi5FTlRFUl9CUixiPXRoaXMuaHRtbEVuY29kZShhLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpKSxiPWIucmVwbGFjZSgvXFx0L2csXCJcXHgyNm5ic3A7XFx4MjZuYnNwOyBcXHgyNm5ic3A7XCIpLGM9ZD09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiO2lmKCFmKXt2YXIgaz0vXFxuezJ9L2c7aWYoay50ZXN0KGIpKXZhciBlPVwiXFx4M2NcIitjK1wiXFx4M2VcIixoPVwiXFx4M2MvXCIrYytcIlxceDNlXCIsYj1lK2IucmVwbGFjZShrLGZ1bmN0aW9uKCl7cmV0dXJuIGgrZX0pK2h9Yj1iLnJlcGxhY2UoL1xcbi9nLFwiXFx4M2NiclxceDNlXCIpO2Z8fChiPWIucmVwbGFjZShuZXcgUmVnRXhwKFwiXFx4M2NiclxceDNlKD9cXHgzZFxceDNjL1wiK2MrXCJcXHgzZSlcIiksZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChhLFxuMil9KSk7Yj1iLnJlcGxhY2UoL14gfCAkL2csXCJcXHgyNm5ic3A7XCIpO3JldHVybiBiPWIucmVwbGFjZSgvKD58XFxzKSAvZyxmdW5jdGlvbihhLG4pe3JldHVybiBuK1wiXFx4MjZuYnNwO1wifSkucmVwbGFjZSgvICg/PTwpL2csXCJcXHgyNm5ic3A7XCIpfSxnZXROZXh0TnVtYmVyOmZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4rK2F9fSgpLGdldE5leHRJZDpmdW5jdGlvbigpe3JldHVyblwiY2tlX1wiK3RoaXMuZ2V0TmV4dE51bWJlcigpfSxnZXRVbmlxdWVJZDpmdW5jdGlvbigpe2Zvcih2YXIgYT1cImVcIixkPTA7OD5kO2QrKylhKz1NYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO3JldHVybiBhfSxvdmVycmlkZTpmdW5jdGlvbihhLGQpe3ZhciBmPWQoYSk7Zi5wcm90b3R5cGU9YS5wcm90b3R5cGU7cmV0dXJuIGZ9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYSxkLGYsYixjKXtjfHwoYz13aW5kb3cpO2Z8fChmPVxuYyk7cmV0dXJuIGMuc2V0VGltZW91dChmdW5jdGlvbigpe2I/YS5hcHBseShmLFtdLmNvbmNhdChiKSk6YS5hcHBseShmKX0sZHx8MCl9LHRocm90dGxlOmZ1bmN0aW9uKGEsZCxmKXtyZXR1cm4gbmV3IHRoaXMuYnVmZmVycy50aHJvdHRsZShhLGQsZil9LHRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nO3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gZC5yZXBsYWNlKGEsXCJcIil9fSgpLGx0cmltOmZ1bmN0aW9uKCl7dmFyIGE9L15bIFxcdFxcblxccl0rL2c7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBkLnJlcGxhY2UoYSxcIlwiKX19KCkscnRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vWyBcXHRcXG5cXHJdKyQvZztyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGQucmVwbGFjZShhLFwiXCIpfX0oKSxpbmRleE9mOmZ1bmN0aW9uKGEsZCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZClmb3IodmFyIGY9MCxiPWEubGVuZ3RoO2Y8YjtmKyspe2lmKGQoYVtmXSkpcmV0dXJuIGZ9ZWxzZXtpZihhLmluZGV4T2YpcmV0dXJuIGEuaW5kZXhPZihkKTtcbmY9MDtmb3IoYj1hLmxlbmd0aDtmPGI7ZisrKWlmKGFbZl09PT1kKXJldHVybiBmfXJldHVybi0xfSxzZWFyY2g6ZnVuY3Rpb24oYSxkKXt2YXIgZj1DS0VESVRPUi50b29scy5pbmRleE9mKGEsZCk7cmV0dXJuIDA8PWY/YVtmXTpudWxsfSxiaW5kOmZ1bmN0aW9uKGEsZCl7dmFyIGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGQsZi5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfX0sY3JlYXRlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGQ9YS4kLGY9YS5iYXNlLGI9YS5wcml2YXRlc3x8YS5fLGM9YS5wcm90bzthPWEuc3RhdGljczshZCYmKGQ9ZnVuY3Rpb24oKXtmJiZ0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7aWYoYil2YXIgaz1kLGQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl98fCh0aGlzLl89e30pLGQ7Zm9yKGQgaW4gYil7dmFyIG49YltkXTtcbmFbZF09XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9DS0VESVRPUi50b29scy5iaW5kKG4sdGhpcyk6bn1rLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZiYmKGQucHJvdG90eXBlPXRoaXMucHJvdG90eXBlZENvcHkoZi5wcm90b3R5cGUpLGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQsZC5iYXNlPWYsZC5iYXNlUHJvdG89Zi5wcm90b3R5cGUsZC5wcm90b3R5cGUuYmFzZT1mdW5jdGlvbiB0KCl7dGhpcy5iYXNlPWYucHJvdG90eXBlLmJhc2U7Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5iYXNlPXR9KTtjJiZ0aGlzLmV4dGVuZChkLnByb3RvdHlwZSxjLCEwKTthJiZ0aGlzLmV4dGVuZChkLGEsITApO3JldHVybiBkfSxhZGRGdW5jdGlvbjpmdW5jdGlvbihhLGQpe3JldHVybiBlLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShkfHx0aGlzLGFyZ3VtZW50cyl9KS0xfSxyZW1vdmVGdW5jdGlvbjpmdW5jdGlvbihhKXtlW2FdPW51bGx9LGNhbGxGdW5jdGlvbjpmdW5jdGlvbihhKXt2YXIgZD1cbmVbYV07cmV0dXJuIGQmJmQuYXBwbHkod2luZG93LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LGNzc0xlbmd0aDpmdW5jdGlvbigpe3ZhciBhPS9eLT9cXGQrXFwuP1xcZCpweCQvLGQ7cmV0dXJuIGZ1bmN0aW9uKGYpe2Q9Q0tFRElUT1IudG9vbHMudHJpbShmK1wiXCIpK1wicHhcIjtyZXR1cm4gYS50ZXN0KGQpP2Q6Znx8XCJcIn19KCksY29udmVydFRvUHg6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24oZCl7YXx8KGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweDt0b3A6LTk5OTlweDttYXJnaW46MHB4O3BhZGRpbmc6MHB4O2JvcmRlcjowcHg7XCJcXHgzZVxceDNjL2RpdlxceDNlJyxDS0VESVRPUi5kb2N1bWVudCksQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZChhKSk7aWYoIS8lJC8udGVzdChkKSl7dmFyIGY9MD5wYXJzZUZsb2F0KGQpO1xuZiYmKGQ9ZC5yZXBsYWNlKFwiLVwiLFwiXCIpKTthLnNldFN0eWxlKFwid2lkdGhcIixkKTtkPWEuJC5jbGllbnRXaWR0aDtyZXR1cm4gZj8tZDpkfXJldHVybiBkfX0oKSxyZXBlYXQ6ZnVuY3Rpb24oYSxkKXtyZXR1cm4gQXJyYXkoZCsxKS5qb2luKGEpfSx0cnlUaGVzZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxkPTAsZj1hcmd1bWVudHMubGVuZ3RoO2Q8ZjtkKyspe3ZhciBiPWFyZ3VtZW50c1tkXTt0cnl7YT1iKCk7YnJlYWt9Y2F0Y2goYyl7fX1yZXR1cm4gYX0sZ2VuS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIi1cIil9LGRlZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWFyZ3VtZW50cyxmPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmFwcGx5KGYsZCl9LDApfX0sbm9ybWFsaXplQ3NzVGV4dDpmdW5jdGlvbihhLGQpe3ZhciBmPVtdLGIsYz1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYSxcbiEwLGQpO2ZvcihiIGluIGMpZi5wdXNoKGIrXCI6XCIrY1tiXSk7Zi5zb3J0KCk7cmV0dXJuIGYubGVuZ3RoP2Yuam9pbihcIjtcIikrXCI7XCI6XCJcIn0sY29udmVydFJnYlRvSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyg/OnJnYlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqXFwpKS9naSxmdW5jdGlvbihhLGQsbixmKXthPVtkLG4sZl07Zm9yKGQ9MDszPmQ7ZCsrKWFbZF09KFwiMFwiK3BhcnNlSW50KGFbZF0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVyblwiI1wiK2Euam9pbihcIlwiKX0pfSxub3JtYWxpemVIZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvIygoWzAtOWEtZl17M30pezEsMn0pKCR8O3xcXHMrKS9naSxmdW5jdGlvbihhLGQsbixmKXthPWQudG9Mb3dlckNhc2UoKTszPT1hLmxlbmd0aCYmKGE9YS5zcGxpdChcIlwiKSxhPVthWzBdLGFbMF0sYVsxXSxhWzFdLGFbMl0sYVsyXV0uam9pbihcIlwiKSk7cmV0dXJuXCIjXCIrYStmfSl9LHBhcnNlQ3NzVGV4dDpmdW5jdGlvbihhLFxuZCxmKXt2YXIgYj17fTtmJiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKSkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixhKS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIik7YSYmKGE9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplSGV4KENLRURJVE9SLnRvb2xzLmNvbnZlcnRSZ2JUb0hleChhKSkpO2lmKCFhfHxcIjtcIj09YSlyZXR1cm4gYjthLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW146O1xcc10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsbixmKXtkJiYobj1uLnRvTG93ZXJDYXNlKCksXCJmb250LWZhbWlseVwiPT1uJiYoZj1mLnJlcGxhY2UoL1xccyosXFxzKi9nLFwiLFwiKSksZj1DS0VESVRPUi50b29scy50cmltKGYpKTtiW25dPWZ9KTtyZXR1cm4gYn0sd3JpdGVDc3NUZXh0OmZ1bmN0aW9uKGEsZCl7dmFyIGYsYj1bXTtmb3IoZiBpbiBhKWIucHVzaChmK1wiOlwiK2FbZl0pO2QmJmIuc29ydCgpO3JldHVybiBiLmpvaW4oXCI7IFwiKX0sXG5vYmplY3RDb21wYXJlOmZ1bmN0aW9uKGEsZCxmKXt2YXIgYjtpZighYSYmIWQpcmV0dXJuITA7aWYoIWF8fCFkKXJldHVybiExO2ZvcihiIGluIGEpaWYoYVtiXSE9ZFtiXSlyZXR1cm4hMTtpZighZilmb3IoYiBpbiBkKWlmKGFbYl0hPWRbYl0pcmV0dXJuITE7cmV0dXJuITB9LG9iamVjdEtleXM6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLm9iamVjdC5rZXlzKGEpfSxjb252ZXJ0QXJyYXlUb09iamVjdDpmdW5jdGlvbihhLGQpe3ZhciBmPXt9OzE9PWFyZ3VtZW50cy5sZW5ndGgmJihkPSEwKTtmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2I8YzsrK2IpZlthW2JdXT1kO3JldHVybiBmfSxmaXhEb21haW46ZnVuY3Rpb24oKXtmb3IodmFyIGE7Oyl0cnl7YT13aW5kb3cucGFyZW50LmRvY3VtZW50LmRvbWFpbjticmVha31jYXRjaChkKXthPWE/YS5yZXBsYWNlKC8uKz8oPzpcXC58JCkvLFwiXCIpOmRvY3VtZW50LmRvbWFpbjtpZighYSlicmVhaztkb2N1bWVudC5kb21haW49XG5hfXJldHVybiEhYX0sZXZlbnRzQnVmZmVyOmZ1bmN0aW9uKGEsZCxmKXtyZXR1cm4gbmV3IHRoaXMuYnVmZmVycy5ldmVudChhLGQsZil9LGVuYWJsZUh0bWw1RWxlbWVudHM6ZnVuY3Rpb24oYSxkKXtmb3IodmFyIGY9XCJhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFpbiBtYXJrIG1ldGVyIG5hdiBvdXRwdXQgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRpbWUgdmlkZW9cIi5zcGxpdChcIiBcIiksYj1mLmxlbmd0aCxjO2ItLTspYz1hLmNyZWF0ZUVsZW1lbnQoZltiXSksZCYmYS5hcHBlbmRDaGlsZChjKX0sY2hlY2tJZkFueUFycmF5SXRlbU1hdGNoZXM6ZnVuY3Rpb24oYSxkKXtmb3IodmFyIGY9MCxiPWEubGVuZ3RoO2Y8YjsrK2YpaWYoYVtmXS5tYXRjaChkKSlyZXR1cm4hMDtyZXR1cm4hMX0sY2hlY2tJZkFueU9iamVjdFByb3BlcnR5TWF0Y2hlczpmdW5jdGlvbihhLFxuZCl7Zm9yKHZhciBmIGluIGEpaWYoZi5tYXRjaChkKSlyZXR1cm4hMDtyZXR1cm4hMX0sa2V5c3Ryb2tlVG9TdHJpbmc6ZnVuY3Rpb24oYSxkKXt2YXIgZj10aGlzLmtleXN0cm9rZVRvQXJyYXkoYSxkKTtmLmRpc3BsYXk9Zi5kaXNwbGF5LmpvaW4oXCIrXCIpO2YuYXJpYT1mLmFyaWEuam9pbihcIitcIik7cmV0dXJuIGZ9LGtleXN0cm9rZVRvQXJyYXk6ZnVuY3Rpb24oYSxkKXt2YXIgZj1kJjE2NzExNjgwLGI9ZCY2NTUzNSxjPUNLRURJVE9SLmVudi5tYWMsaz1bXSxlPVtdO2YmQ0tFRElUT1IuQ1RSTCYmKGsucHVzaChjP1wi4oyYXCI6YVsxN10pLGUucHVzaChjP2FbMjI0XTphWzE3XSkpO2YmQ0tFRElUT1IuQUxUJiYoay5wdXNoKGM/XCLijKVcIjphWzE4XSksZS5wdXNoKGFbMThdKSk7ZiZDS0VESVRPUi5TSElGVCYmKGsucHVzaChjP1wi4oenXCI6YVsxNl0pLGUucHVzaChhWzE2XSkpO2ImJihhW2JdPyhrLnB1c2goYVtiXSksZS5wdXNoKGFbYl0pKTooay5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYikpLFxuZS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYikpKSk7cmV0dXJue2Rpc3BsYXk6ayxhcmlhOmV9fSx0cmFuc3BhcmVudEltYWdlRGF0YTpcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBUEFCQVAvLy93QUFBQ0g1QkFFS0FBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93XFx4M2RcXHgzZFwiLGdldENvb2tpZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtmb3IodmFyIGQ9ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSxmLGIsYz0wO2M8ZC5sZW5ndGg7YysrKWlmKGY9ZFtjXS5zcGxpdChcIlxceDNkXCIpLGI9ZGVjb2RlVVJJQ29tcG9uZW50KENLRURJVE9SLnRvb2xzLnRyaW0oZlswXSkudG9Mb3dlckNhc2UoKSksYj09PWEpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCgxPGYubGVuZ3RoP2ZbMV06XCJcIik7cmV0dXJuIG51bGx9LHNldENvb2tpZTpmdW5jdGlvbihhLGQpe2RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCJcXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChkKStcblwiO3BhdGhcXHgzZC9cIn0sZ2V0Q3NyZlRva2VuOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZ2V0Q29va2llKFwiY2tDc3JmVG9rZW5cIik7aWYoIWF8fDQwIT1hLmxlbmd0aCl7dmFyIGE9W10sZD1cIlwiO2lmKHdpbmRvdy5jcnlwdG8mJndpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKWE9bmV3IFVpbnQ4QXJyYXkoNDApLHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGEpO2Vsc2UgZm9yKHZhciBmPTA7NDA+ZjtmKyspYS5wdXNoKE1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpKTtmb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKXZhciBiPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIuY2hhckF0KGFbZl0lMzYpLGQ9ZCsoLjU8TWF0aC5yYW5kb20oKT9iLnRvVXBwZXJDYXNlKCk6Yik7YT1kO0NLRURJVE9SLnRvb2xzLnNldENvb2tpZShcImNrQ3NyZlRva2VuXCIsYSl9cmV0dXJuIGF9LGVzY2FwZUNzczpmdW5jdGlvbihhKXtyZXR1cm4gYT93aW5kb3cuQ1NTJiZcbkNTUy5lc2NhcGU/Q1NTLmVzY2FwZShhKTppc05hTihwYXJzZUludChhLmNoYXJBdCgwKSwxMCkpP2E6XCJcXFxcM1wiK2EuY2hhckF0KDApK1wiIFwiK2Euc3Vic3RyaW5nKDEsYS5sZW5ndGgpOlwiXCJ9LGdldE1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybihhPWEmJmEuZGF0YT9hLmRhdGEuJDphKT9DS0VESVRPUi50b29scy5ub3JtYWxpemVNb3VzZUJ1dHRvbihhLmJ1dHRvbik6ITF9LG5vcm1hbGl6ZU1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEsZCl7aWYoIUNLRURJVE9SLmVudi5pZXx8OTw9Q0tFRElUT1IuZW52LnZlcnNpb24mJiFDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXJldHVybiBhO2Zvcih2YXIgZj1bW0NLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZULDFdLFtDS0VESVRPUi5NT1VTRV9CVVRUT05fTUlERExFLDRdLFtDS0VESVRPUi5NT1VTRV9CVVRUT05fUklHSFQsMl1dLGI9MDtiPGYubGVuZ3RoO2IrKyl7dmFyIGM9ZltiXTtpZihjWzBdPT09YSYmZClyZXR1cm4gY1sxXTtpZighZCYmXG5jWzFdPT09YSlyZXR1cm4gY1swXX19LGNvbnZlcnRIZXhTdHJpbmdUb0J5dGVzOmZ1bmN0aW9uKGEpe3ZhciBkPVtdLGY9YS5sZW5ndGgvMixiO2ZvcihiPTA7YjxmO2IrKylkLnB1c2gocGFyc2VJbnQoYS5zdWJzdHIoMipiLDIpLDE2KSk7cmV0dXJuIGR9LGNvbnZlcnRCeXRlc1RvQmFzZTY0OmZ1bmN0aW9uKGEpe3ZhciBkPVwiXCIsZj1hLmxlbmd0aCxiO2ZvcihiPTA7YjxmO2IrPTMpe3ZhciBjPWEuc2xpY2UoYixiKzMpLGs9Yy5sZW5ndGgsZT1bXSxoO2lmKDM+aylmb3IoaD1rOzM+aDtoKyspY1toXT0wO2VbMF09KGNbMF0mMjUyKT4+MjtlWzFdPShjWzBdJjMpPDw0fGNbMV0+PjQ7ZVsyXT0oY1sxXSYxNSk8PDJ8KGNbMl0mMTkyKT4+NjtlWzNdPWNbMl0mNjM7Zm9yKGg9MDs0Pmg7aCsrKWQ9aDw9az9kK1wiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLmNoYXJBdChlW2hdKTpkK1wiXFx4M2RcIn1yZXR1cm4gZH0sXG5zdHlsZTp7cGFyc2U6e19jb2xvcnM6e2FsaWNlYmx1ZTpcIiNGMEY4RkZcIixhbnRpcXVld2hpdGU6XCIjRkFFQkQ3XCIsYXF1YTpcIiMwMEZGRkZcIixhcXVhbWFyaW5lOlwiIzdGRkZENFwiLGF6dXJlOlwiI0YwRkZGRlwiLGJlaWdlOlwiI0Y1RjVEQ1wiLGJpc3F1ZTpcIiNGRkU0QzRcIixibGFjazpcIiMwMDAwMDBcIixibGFuY2hlZGFsbW9uZDpcIiNGRkVCQ0RcIixibHVlOlwiIzAwMDBGRlwiLGJsdWV2aW9sZXQ6XCIjOEEyQkUyXCIsYnJvd246XCIjQTUyQTJBXCIsYnVybHl3b29kOlwiI0RFQjg4N1wiLGNhZGV0Ymx1ZTpcIiM1RjlFQTBcIixjaGFydHJldXNlOlwiIzdGRkYwMFwiLGNob2NvbGF0ZTpcIiNEMjY5MUVcIixjb3JhbDpcIiNGRjdGNTBcIixjb3JuZmxvd2VyYmx1ZTpcIiM2NDk1RURcIixjb3Juc2lsazpcIiNGRkY4RENcIixjcmltc29uOlwiI0RDMTQzQ1wiLGN5YW46XCIjMDBGRkZGXCIsZGFya2JsdWU6XCIjMDAwMDhCXCIsZGFya2N5YW46XCIjMDA4QjhCXCIsZGFya2dvbGRlbnJvZDpcIiNCODg2MEJcIixkYXJrZ3JheTpcIiNBOUE5QTlcIixkYXJrZ3JlZW46XCIjMDA2NDAwXCIsXG5kYXJrZ3JleTpcIiNBOUE5QTlcIixkYXJra2hha2k6XCIjQkRCNzZCXCIsZGFya21hZ2VudGE6XCIjOEIwMDhCXCIsZGFya29saXZlZ3JlZW46XCIjNTU2QjJGXCIsZGFya29yYW5nZTpcIiNGRjhDMDBcIixkYXJrb3JjaGlkOlwiIzk5MzJDQ1wiLGRhcmtyZWQ6XCIjOEIwMDAwXCIsZGFya3NhbG1vbjpcIiNFOTk2N0FcIixkYXJrc2VhZ3JlZW46XCIjOEZCQzhGXCIsZGFya3NsYXRlYmx1ZTpcIiM0ODNEOEJcIixkYXJrc2xhdGVncmF5OlwiIzJGNEY0RlwiLGRhcmtzbGF0ZWdyZXk6XCIjMkY0RjRGXCIsZGFya3R1cnF1b2lzZTpcIiMwMENFRDFcIixkYXJrdmlvbGV0OlwiIzk0MDBEM1wiLGRlZXBwaW5rOlwiI0ZGMTQ5M1wiLGRlZXBza3libHVlOlwiIzAwQkZGRlwiLGRpbWdyYXk6XCIjNjk2OTY5XCIsZGltZ3JleTpcIiM2OTY5NjlcIixkb2RnZXJibHVlOlwiIzFFOTBGRlwiLGZpcmVicmljazpcIiNCMjIyMjJcIixmbG9yYWx3aGl0ZTpcIiNGRkZBRjBcIixmb3Jlc3RncmVlbjpcIiMyMjhCMjJcIixmdWNoc2lhOlwiI0ZGMDBGRlwiLGdhaW5zYm9ybzpcIiNEQ0RDRENcIixcbmdob3N0d2hpdGU6XCIjRjhGOEZGXCIsZ29sZDpcIiNGRkQ3MDBcIixnb2xkZW5yb2Q6XCIjREFBNTIwXCIsZ3JheTpcIiM4MDgwODBcIixncmVlbjpcIiMwMDgwMDBcIixncmVlbnllbGxvdzpcIiNBREZGMkZcIixncmV5OlwiIzgwODA4MFwiLGhvbmV5ZGV3OlwiI0YwRkZGMFwiLGhvdHBpbms6XCIjRkY2OUI0XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLGluZGlnbzpcIiM0QjAwODJcIixpdm9yeTpcIiNGRkZGRjBcIixraGFraTpcIiNGMEU2OENcIixsYXZlbmRlcjpcIiNFNkU2RkFcIixsYXZlbmRlcmJsdXNoOlwiI0ZGRjBGNVwiLGxhd25ncmVlbjpcIiM3Q0ZDMDBcIixsZW1vbmNoaWZmb246XCIjRkZGQUNEXCIsbGlnaHRibHVlOlwiI0FERDhFNlwiLGxpZ2h0Y29yYWw6XCIjRjA4MDgwXCIsbGlnaHRjeWFuOlwiI0UwRkZGRlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiI0ZBRkFEMlwiLGxpZ2h0Z3JheTpcIiNEM0QzRDNcIixsaWdodGdyZWVuOlwiIzkwRUU5MFwiLGxpZ2h0Z3JleTpcIiNEM0QzRDNcIixsaWdodHBpbms6XCIjRkZCNkMxXCIsbGlnaHRzYWxtb246XCIjRkZBMDdBXCIsXG5saWdodHNlYWdyZWVuOlwiIzIwQjJBQVwiLGxpZ2h0c2t5Ymx1ZTpcIiM4N0NFRkFcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixsaWdodHNsYXRlZ3JleTpcIiM3Nzg4OTlcIixsaWdodHN0ZWVsYmx1ZTpcIiNCMEM0REVcIixsaWdodHllbGxvdzpcIiNGRkZGRTBcIixsaW1lOlwiIzAwRkYwMFwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixsaW5lbjpcIiNGQUYwRTZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLG1hcm9vbjpcIiM4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiIzY2Q0RBQVwiLG1lZGl1bWJsdWU6XCIjMDAwMENEXCIsbWVkaXVtb3JjaGlkOlwiI0JBNTVEM1wiLG1lZGl1bXB1cnBsZTpcIiM5MzcwREJcIixtZWRpdW1zZWFncmVlbjpcIiMzQ0IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN0I2OEVFXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBGQTlBXCIsbWVkaXVtdHVycXVvaXNlOlwiIzQ4RDFDQ1wiLG1lZGl1bXZpb2xldHJlZDpcIiNDNzE1ODVcIixtaWRuaWdodGJsdWU6XCIjMTkxOTcwXCIsbWludGNyZWFtOlwiI0Y1RkZGQVwiLG1pc3R5cm9zZTpcIiNGRkU0RTFcIixcbm1vY2Nhc2luOlwiI0ZGRTRCNVwiLG5hdmFqb3doaXRlOlwiI0ZGREVBRFwiLG5hdnk6XCIjMDAwMDgwXCIsb2xkbGFjZTpcIiNGREY1RTZcIixvbGl2ZTpcIiM4MDgwMDBcIixvbGl2ZWRyYWI6XCIjNkI4RTIzXCIsb3JhbmdlOlwiI0ZGQTUwMFwiLG9yYW5nZXJlZDpcIiNGRjQ1MDBcIixvcmNoaWQ6XCIjREE3MEQ2XCIscGFsZWdvbGRlbnJvZDpcIiNFRUU4QUFcIixwYWxlZ3JlZW46XCIjOThGQjk4XCIscGFsZXR1cnF1b2lzZTpcIiNBRkVFRUVcIixwYWxldmlvbGV0cmVkOlwiI0RCNzA5M1wiLHBhcGF5YXdoaXA6XCIjRkZFRkQ1XCIscGVhY2hwdWZmOlwiI0ZGREFCOVwiLHBlcnU6XCIjQ0Q4NTNGXCIscGluazpcIiNGRkMwQ0JcIixwbHVtOlwiI0REQTBERFwiLHBvd2RlcmJsdWU6XCIjQjBFMEU2XCIscHVycGxlOlwiIzgwMDA4MFwiLHJlYmVjY2FwdXJwbGU6XCIjNjYzMzk5XCIscmVkOlwiI0ZGMDAwMFwiLHJvc3licm93bjpcIiNCQzhGOEZcIixyb3lhbGJsdWU6XCIjNDE2OUUxXCIsc2FkZGxlYnJvd246XCIjOEI0NTEzXCIsc2FsbW9uOlwiI0ZBODA3MlwiLHNhbmR5YnJvd246XCIjRjRBNDYwXCIsXG5zZWFncmVlbjpcIiMyRThCNTdcIixzZWFzaGVsbDpcIiNGRkY1RUVcIixzaWVubmE6XCIjQTA1MjJEXCIsc2lsdmVyOlwiI0MwQzBDMFwiLHNreWJsdWU6XCIjODdDRUVCXCIsc2xhdGVibHVlOlwiIzZBNUFDRFwiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixzbGF0ZWdyZXk6XCIjNzA4MDkwXCIsc25vdzpcIiNGRkZBRkFcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixzdGVlbGJsdWU6XCIjNDY4MkI0XCIsdGFuOlwiI0QyQjQ4Q1wiLHRlYWw6XCIjMDA4MDgwXCIsdGhpc3RsZTpcIiNEOEJGRDhcIix0b21hdG86XCIjRkY2MzQ3XCIsdHVycXVvaXNlOlwiIzQwRTBEMFwiLHZpb2xldDpcIiNFRTgyRUVcIix3aW5kb3d0ZXh0Olwid2luZG93dGV4dFwiLHdoZWF0OlwiI0Y1REVCM1wiLHdoaXRlOlwiI0ZGRkZGRlwiLHdoaXRlc21va2U6XCIjRjVGNUY1XCIseWVsbG93OlwiI0ZGRkYwMFwiLHllbGxvd2dyZWVuOlwiIzlBQ0QzMlwifSxfYm9yZGVyU3R5bGU6XCJub25lIGhpZGRlbiBkb3R0ZWQgZGFzaGVkIHNvbGlkIGRvdWJsZSBncm9vdmUgcmlkZ2UgaW5zZXQgb3V0c2V0XCIuc3BsaXQoXCIgXCIpLFxuX3dpZHRoUmVnRXhwOi9eKHRoaW58bWVkaXVtfHRoaWNrfFtcXCstXT9cXGQrKFxcLlxcZCspP1thLXolXSt8W1xcKy1dPzArKFxcLjArKT98XFwuXFxkK1thLXolXSspJC8sX3JnYmFSZWdFeHA6L3JnYmE/XFwoXFxzKlxcZCslP1xccyosXFxzKlxcZCslP1xccyosXFxzKlxcZCslP1xccyooPzosXFxzKlswLTkuXStcXHMqKT9cXCkvZ2ksX2hzbGFSZWdFeHA6L2hzbGE/XFwoXFxzKlswLTkuXStcXHMqLFxccypcXGQrJVxccyosXFxzKlxcZCslXFxzKig/OixcXHMqWzAtOS5dK1xccyopP1xcKS9naSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKGEpe3ZhciBkPXt9LGY9dGhpcy5fZmluZENvbG9yKGEpO2YubGVuZ3RoJiYoZC5jb2xvcj1mWzBdLENLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goZixmdW5jdGlvbihkKXthPWEucmVwbGFjZShkLFwiXCIpfSkpO2lmKGE9Q0tFRElUT1IudG9vbHMudHJpbShhKSlkLnVucHJvY2Vzc2VkPWE7cmV0dXJuIGR9LG1hcmdpbjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2Uuc2lkZVNob3J0aGFuZChhLFxuZnVuY3Rpb24oYSl7cmV0dXJuIGEubWF0Y2goLyg/OlxcLT9bXFwuXFxkXSsoPzolfFxcdyopfGF1dG98aW5oZXJpdHxpbml0aWFsfHVuc2V0fHJldmVydCkvZyl8fFtcIjBweFwiXX0pfSxzaWRlU2hvcnRoYW5kOmZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZihhKXtiLnRvcD1jW2FbMF1dO2IucmlnaHQ9Y1thWzFdXTtiLmJvdHRvbT1jW2FbMl1dO2IubGVmdD1jW2FbM11dfXZhciBiPXt9LGM9ZD9kKGEpOmEuc3BsaXQoL1xccysvKTtzd2l0Y2goYy5sZW5ndGgpe2Nhc2UgMTpmKFswLDAsMCwwXSk7YnJlYWs7Y2FzZSAyOmYoWzAsMSwwLDFdKTticmVhaztjYXNlIDM6ZihbMCwxLDIsMV0pO2JyZWFrO2Nhc2UgNDpmKFswLDEsMiwzXSl9cmV0dXJuIGJ9LGJvcmRlcjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuc3R5bGUuYm9yZGVyLmZyb21Dc3NSdWxlKGEpfSxfZmluZENvbG9yOmZ1bmN0aW9uKGEpe3ZhciBkPVtdLGY9Q0tFRElUT1IudG9vbHMuYXJyYXksZD1kLmNvbmNhdChhLm1hdGNoKHRoaXMuX3JnYmFSZWdFeHApfHxcbltdKSxkPWQuY29uY2F0KGEubWF0Y2godGhpcy5faHNsYVJlZ0V4cCl8fFtdKTtyZXR1cm4gZD1kLmNvbmNhdChmLmZpbHRlcihhLnNwbGl0KC9cXHMrLyksZnVuY3Rpb24oYSl7cmV0dXJuIGEubWF0Y2goL15cXCNbYS1mMC05XXszfSg/OlthLWYwLTldezN9KT8kL2dpKT8hMDphLnRvTG93ZXJDYXNlKClpbiBDS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5fY29sb3JzfSkpfX19LGFycmF5OntmaWx0ZXI6ZnVuY3Rpb24oYSxkLGYpe3ZhciBiPVtdO3RoaXMuZm9yRWFjaChhLGZ1bmN0aW9uKGMsayl7ZC5jYWxsKGYsYyxrLGEpJiZiLnB1c2goYyl9KTtyZXR1cm4gYn0sZmluZDpmdW5jdGlvbihhLGQsZil7Zm9yKHZhciBiPWEubGVuZ3RoLGM9MDtjPGI7KXtpZihkLmNhbGwoZixhW2NdLGMsYSkpcmV0dXJuIGFbY107YysrfX0sZm9yRWFjaDpmdW5jdGlvbihhLGQsZil7dmFyIGI9YS5sZW5ndGgsYztmb3IoYz0wO2M8YjtjKyspZC5jYWxsKGYsYVtjXSxjLGEpfSxtYXA6ZnVuY3Rpb24oYSxcbmQsZil7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goZC5jYWxsKGYsYVtjXSxjLGEpKTtyZXR1cm4gYn0scmVkdWNlOmZ1bmN0aW9uKGEsZCxmLGIpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWY9ZC5jYWxsKGIsZixhW2NdLGMsYSk7cmV0dXJuIGZ9LGV2ZXJ5OmZ1bmN0aW9uKGEsZCxmKXtpZighYS5sZW5ndGgpcmV0dXJuITA7ZD10aGlzLmZpbHRlcihhLGQsZik7cmV0dXJuIGEubGVuZ3RoPT09ZC5sZW5ndGh9LHNvbWU6ZnVuY3Rpb24oYSxkLGYpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKGQuY2FsbChmLGFbYl0sYixhKSlyZXR1cm4hMDtyZXR1cm4hMX19LG9iamVjdDp7RE9OVF9FTlVNUzpcInRvU3RyaW5nIHRvTG9jYWxlU3RyaW5nIHZhbHVlT2YgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSBjb25zdHJ1Y3RvclwiLnNwbGl0KFwiIFwiKSxlbnRyaWVzOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5tYXAoQ0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoYSksXG5mdW5jdGlvbihkKXtyZXR1cm5bZCxhW2RdXX0pfSx2YWx1ZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChDS0VESVRPUi50b29scy5vYmplY3Qua2V5cyhhKSxmdW5jdGlvbihkKXtyZXR1cm4gYVtkXX0pfSxrZXlzOmZ1bmN0aW9uKGEpe3ZhciBkPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZj1bXSxiPUNLRURJVE9SLnRvb2xzLm9iamVjdC5ET05UX0VOVU1TO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKCFhfHxcIm9iamVjdFwiIT09dHlwZW9mIGEpKXtkPVtdO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlmb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKWQucHVzaChTdHJpbmcoZikpO3JldHVybiBkfWZvcih2YXIgYyBpbiBhKWYucHVzaChjKTtpZihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24pZm9yKGM9MDtjPGIubGVuZ3RoO2MrKylkLmNhbGwoYSxiW2NdKSYmZi5wdXNoKGJbY10pO1xucmV0dXJuIGZ9LGZpbmRLZXk6ZnVuY3Rpb24oYSxkKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGEpcmV0dXJuIG51bGw7Zm9yKHZhciBmIGluIGEpaWYoYVtmXT09PWQpcmV0dXJuIGY7cmV0dXJuIG51bGx9LG1lcmdlOmZ1bmN0aW9uKGEsZCl7dmFyIGY9Q0tFRElUT1IudG9vbHMsYj1mLmNsb25lKGEpLGM9Zi5jbG9uZShkKTtmLmFycmF5LmZvckVhY2goZi5vYmplY3Qua2V5cyhjKSxmdW5jdGlvbihhKXtiW2FdPVwib2JqZWN0XCI9PT10eXBlb2YgY1thXSYmXCJvYmplY3RcIj09PXR5cGVvZiBiW2FdP2Yub2JqZWN0Lm1lcmdlKGJbYV0sY1thXSk6Y1thXX0pO3JldHVybiBifX0sZ2V0QWJzb2x1dGVSZWN0UG9zaXRpb246ZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBmKGEpe2lmKGEpe3ZhciBkPWEuZ2V0Q2xpZW50UmVjdCgpO2IudG9wKz1kLnRvcDtiLmxlZnQrPWQubGVmdDtcInhcImluIGImJlwieVwiaW4gYiYmKGIueCs9ZC54LGIueSs9ZC55KTtmKGEuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSl9fVxudmFyIGI9Q0tFRElUT1IudG9vbHMuY29weShkKTtmKGEuZ2V0RnJhbWUoKSk7dmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKTtiLnRvcCs9Yy55O2IubGVmdCs9Yy54O1wieFwiaW4gYiYmXCJ5XCJpbiBiJiYoYi55Kz1jLnksYi54Kz1jLngpO2IucmlnaHQ9Yi5sZWZ0K2Iud2lkdGg7Yi5ib3R0b209Yi50b3ArYi5oZWlnaHQ7cmV0dXJuIGJ9fTtjLnByb3RvdHlwZT17cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9sYXN0T3V0cHV0PTA7dGhpcy5fY2xlYXJUaW1lcigpfSxfcmVzY2hlZHVsZTpmdW5jdGlvbigpe3JldHVybiExfSxfY2FsbDpmdW5jdGlvbigpe3RoaXMuX291dHB1dCgpfSxfY2xlYXJUaW1lcjpmdW5jdGlvbigpe3RoaXMuX3NjaGVkdWxlZFRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fc2NoZWR1bGVkVGltZXIpO3RoaXMuX3NjaGVkdWxlZFRpbWVyPTB9fTtnLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShjLnByb3RvdHlwZSk7XG5nLnByb3RvdHlwZS5fcmVzY2hlZHVsZT1mdW5jdGlvbigpe3RoaXMuX3NjaGVkdWxlZFRpbWVyJiZ0aGlzLl9jbGVhclRpbWVyKCl9O2cucHJvdG90eXBlLl9jYWxsPWZ1bmN0aW9uKCl7dGhpcy5fb3V0cHV0LmFwcGx5KHRoaXMuX2NvbnRleHQsdGhpcy5fYXJncyl9O0NLRURJVE9SLnRvb2xzLmJ1ZmZlcnM9e307Q0tFRElUT1IudG9vbHMuYnVmZmVycy5ldmVudD1jO0NLRURJVE9SLnRvb2xzLmJ1ZmZlcnMudGhyb3R0bGU9ZztDS0VESVRPUi50b29scy5zdHlsZS5ib3JkZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7YT1hfHx7fTt0aGlzLndpZHRoPWEud2lkdGg7dGhpcy5zdHlsZT1hLnN0eWxlO3RoaXMuY29sb3I9YS5jb2xvcjt0aGlzLl8ubm9ybWFsaXplKCl9LF86e25vcm1hbGl6ZU1hcDp7Y29sb3I6W1svd2luZG93dGV4dC9nLFwiYmxhY2tcIl1dfSxub3JtYWxpemU6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5fLm5vcm1hbGl6ZU1hcCl7dmFyIGQ9XG50aGlzW2FdO2QmJih0aGlzW2FdPUNLRURJVE9SLnRvb2xzLmFycmF5LnJlZHVjZSh0aGlzLl8ubm9ybWFsaXplTWFwW2FdLGZ1bmN0aW9uKGEsZCl7cmV0dXJuIGEucmVwbGFjZShkWzBdLGRbMV0pfSxkKSl9fX0scHJvdG86e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LmZpbHRlcihbdGhpcy53aWR0aCx0aGlzLnN0eWxlLHRoaXMuY29sb3JdLGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pLmpvaW4oXCIgXCIpfX0sc3RhdGljczp7ZnJvbUNzc1J1bGU6ZnVuY3Rpb24oYSl7dmFyIGQ9e30sZj1hLnNwbGl0KC9cXHMrL2cpO2E9Q0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX2ZpbmRDb2xvcihhKTthLmxlbmd0aCYmKGQuY29sb3I9YVswXSk7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChmLGZ1bmN0aW9uKGEpe2Quc3R5bGV8fC0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihDS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5fYm9yZGVyU3R5bGUsXG5hKT8hZC53aWR0aCYmQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX3dpZHRoUmVnRXhwLnRlc3QoYSkmJihkLndpZHRoPWEpOmQuc3R5bGU9YX0pO3JldHVybiBuZXcgQ0tFRElUT1IudG9vbHMuc3R5bGUuYm9yZGVyKGQpfSxzcGxpdENzc1ZhbHVlczpmdW5jdGlvbihhLGQpe2Q9ZHx8e307dmFyIGY9Q0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKFtcIndpZHRoXCIsXCJzdHlsZVwiLFwiY29sb3JcIl0sZnVuY3Rpb24oZixiKXt2YXIgYz1hW1wiYm9yZGVyLVwiK2JdfHxkW2JdO2ZbYl09Yz9DS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5zaWRlU2hvcnRoYW5kKGMpOm51bGw7cmV0dXJuIGZ9LHt9KTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKFtcInRvcFwiLFwicmlnaHRcIixcImJvdHRvbVwiLFwibGVmdFwiXSxmdW5jdGlvbihkLGIpe3ZhciBjPXt9LGs7Zm9yKGsgaW4gZil7dmFyIGU9YVtcImJvcmRlci1cIitiK1wiLVwiK2tdO2Nba109ZT9lOmZba10mJmZba11bYl19ZFtcImJvcmRlci1cIitcbmJdPW5ldyBDS0VESVRPUi50b29scy5zdHlsZS5ib3JkZXIoYyk7cmV0dXJuIGR9LHt9KX19fSk7Q0tFRElUT1IudG9vbHMuYXJyYXkuaW5kZXhPZj1DS0VESVRPUi50b29scy5pbmRleE9mO0NLRURJVE9SLnRvb2xzLmFycmF5LmlzQXJyYXk9Q0tFRElUT1IudG9vbHMuaXNBcnJheTtDS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVD0wO0NLRURJVE9SLk1PVVNFX0JVVFRPTl9NSURETEU9MTtDS0VESVRPUi5NT1VTRV9CVVRUT05fUklHSFQ9Mn0pKCk7Q0tFRElUT1IuZHRkPWZ1bmN0aW9uKCl7dmFyIGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLGc9ZnVuY3Rpb24oZCxhKXtmb3IodmFyIGI9Q0tFRElUT1IudG9vbHMuY2xvbmUoZCksYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe2E9YXJndW1lbnRzW2NdO2Zvcih2YXIgayBpbiBhKWRlbGV0ZSBiW2tdfXJldHVybiBifSxlPXt9LGI9e30saD17YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxkZXRhaWxzOjEsZGl2OjEsXG5kbDoxLGZpZWxkc2V0OjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWFpbjoxLG1lbnU6MSxuYXY6MSxvbDoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsdGFibGU6MSx1bDoxfSxtPXtjb21tYW5kOjEsbGluazoxLG1ldGE6MSxub3NjcmlwdDoxLHNjcmlwdDoxLHN0eWxlOjF9LGw9e30saz17XCIjXCI6MX0sZD17Y2VudGVyOjEsZGlyOjEsbm9mcmFtZXM6MX07YyhlLHthOjEsYWJicjoxLGFyZWE6MSxhdWRpbzoxLGI6MSxiZGk6MSxiZG86MSxicjoxLGJ1dHRvbjoxLGNhbnZhczoxLGNpdGU6MSxjb2RlOjEsY29tbWFuZDoxLGRhdGFsaXN0OjEsZGVsOjEsZGZuOjEsZW06MSxlbWJlZDoxLGk6MSxpZnJhbWU6MSxpbWc6MSxpbnB1dDoxLGluczoxLGtiZDoxLGtleWdlbjoxLGxhYmVsOjEsbWFwOjEsbWFyazoxLG1ldGVyOjEsbm9zY3JpcHQ6MSxvYmplY3Q6MSxvdXRwdXQ6MSxwcm9ncmVzczoxLFxucToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNjcmlwdDoxLHNlbGVjdDoxLHNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSxcInZhclwiOjEsdmlkZW86MSx3YnI6MX0sayx7YWNyb255bToxLGFwcGxldDoxLGJhc2Vmb250OjEsYmlnOjEsZm9udDoxLGlzaW5kZXg6MSxzdHJpa2U6MSxzdHlsZToxLHR0OjF9KTtjKGIsaCxlLGQpO2c9e2E6ZyhlLHthOjEsYnV0dG9uOjF9KSxhYmJyOmUsYWRkcmVzczpiLGFyZWE6bCxhcnRpY2xlOmIsYXNpZGU6YixhdWRpbzpjKHtzb3VyY2U6MSx0cmFjazoxfSxiKSxiOmUsYmFzZTpsLGJkaTplLGJkbzplLGJsb2NrcXVvdGU6Yixib2R5OmIsYnI6bCxidXR0b246ZyhlLHthOjEsYnV0dG9uOjF9KSxjYW52YXM6ZSxjYXB0aW9uOmIsY2l0ZTplLGNvZGU6ZSxjb2w6bCxjb2xncm91cDp7Y29sOjF9LGNvbW1hbmQ6bCxkYXRhbGlzdDpjKHtvcHRpb246MX0sZSksZGQ6YixkZWw6ZSxkZXRhaWxzOmMoe3N1bW1hcnk6MX0sXG5iKSxkZm46ZSxkaXY6YixkbDp7ZHQ6MSxkZDoxfSxkdDpiLGVtOmUsZW1iZWQ6bCxmaWVsZHNldDpjKHtsZWdlbmQ6MX0sYiksZmlnY2FwdGlvbjpiLGZpZ3VyZTpjKHtmaWdjYXB0aW9uOjF9LGIpLGZvb3RlcjpiLGZvcm06YixoMTplLGgyOmUsaDM6ZSxoNDplLGg1OmUsaDY6ZSxoZWFkOmMoe3RpdGxlOjEsYmFzZToxfSxtKSxoZWFkZXI6YixoZ3JvdXA6e2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxocjpsLGh0bWw6Yyh7aGVhZDoxLGJvZHk6MX0sYixtKSxpOmUsaWZyYW1lOmssaW1nOmwsaW5wdXQ6bCxpbnM6ZSxrYmQ6ZSxrZXlnZW46bCxsYWJlbDplLGxlZ2VuZDplLGxpOmIsbGluazpsLG1haW46YixtYXA6YixtYXJrOmUsbWVudTpjKHtsaToxfSxiKSxtZXRhOmwsbWV0ZXI6ZyhlLHttZXRlcjoxfSksbmF2OmIsbm9zY3JpcHQ6Yyh7bGluazoxLG1ldGE6MSxzdHlsZToxfSxlKSxvYmplY3Q6Yyh7cGFyYW06MX0sZSksb2w6e2xpOjF9LG9wdGdyb3VwOntvcHRpb246MX0sXG5vcHRpb246ayxvdXRwdXQ6ZSxwOmUscGFyYW06bCxwcmU6ZSxwcm9ncmVzczpnKGUse3Byb2dyZXNzOjF9KSxxOmUscnA6ZSxydDplLHJ1Ynk6Yyh7cnA6MSxydDoxfSxlKSxzOmUsc2FtcDplLHNjcmlwdDprLHNlY3Rpb246YixzZWxlY3Q6e29wdGdyb3VwOjEsb3B0aW9uOjF9LHNtYWxsOmUsc291cmNlOmwsc3BhbjplLHN0cm9uZzplLHN0eWxlOmssc3ViOmUsc3VtbWFyeTpjKHtoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sZSksc3VwOmUsdGFibGU6e2NhcHRpb246MSxjb2xncm91cDoxLHRoZWFkOjEsdGZvb3Q6MSx0Ym9keToxLHRyOjF9LHRib2R5Ont0cjoxfSx0ZDpiLHRleHRhcmVhOmssdGZvb3Q6e3RyOjF9LHRoOmIsdGhlYWQ6e3RyOjF9LHRpbWU6ZyhlLHt0aW1lOjF9KSx0aXRsZTprLHRyOnt0aDoxLHRkOjF9LHRyYWNrOmwsdTplLHVsOntsaToxfSxcInZhclwiOmUsdmlkZW86Yyh7c291cmNlOjEsdHJhY2s6MX0sYiksd2JyOmwsYWNyb255bTplLGFwcGxldDpjKHtwYXJhbToxfSxcbmIpLGJhc2Vmb250OmwsYmlnOmUsY2VudGVyOmIsZGlhbG9nOmwsZGlyOntsaToxfSxmb250OmUsaXNpbmRleDpsLG5vZnJhbWVzOmIsc3RyaWtlOmUsdHQ6ZX07YyhnLHskYmxvY2s6Yyh7YXVkaW86MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxpOjEsdmlkZW86MX0saCxkKSwkYmxvY2tMaW1pdDp7YXJ0aWNsZToxLGFzaWRlOjEsYXVkaW86MSxib2R5OjEsY2FwdGlvbjoxLGRldGFpbHM6MSxkaXI6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLGZpZ3VyZToxLGZvb3RlcjoxLGZvcm06MSxoZWFkZXI6MSxoZ3JvdXA6MSxtYWluOjEsbWVudToxLG5hdjoxLG9sOjEsc2VjdGlvbjoxLHRhYmxlOjEsdGQ6MSx0aDoxLHRyOjEsdWw6MSx2aWRlbzoxfSwkY2RhdGE6e3NjcmlwdDoxLHN0eWxlOjF9LCRlZGl0YWJsZTp7YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxib2R5OjEsZGV0YWlsczoxLGRpdjoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLFxuZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxuYXY6MSxwOjEscHJlOjEsc2VjdGlvbjoxfSwkZW1wdHk6e2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLHRyYWNrOjEsd2JyOjF9LCRpbmxpbmU6ZSwkbGlzdDp7ZGw6MSxvbDoxLHVsOjF9LCRsaXN0SXRlbTp7ZGQ6MSxkdDoxLGxpOjF9LCRub25Cb2R5Q29udGVudDpjKHtib2R5OjEsaGVhZDoxLGh0bWw6MX0sZy5oZWFkKSwkbm9uRWRpdGFibGU6e2FwcGxldDoxLGF1ZGlvOjEsYnV0dG9uOjEsZW1iZWQ6MSxpZnJhbWU6MSxtYXA6MSxvYmplY3Q6MSxvcHRpb246MSxwYXJhbToxLHNjcmlwdDoxLHRleHRhcmVhOjEsdmlkZW86MX0sJG9iamVjdDp7YXBwbGV0OjEsYXVkaW86MSxcbmJ1dHRvbjoxLGhyOjEsaWZyYW1lOjEsaW1nOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0YWJsZToxLHRleHRhcmVhOjEsdmlkZW86MX0sJHJlbW92ZUVtcHR5OnthYmJyOjEsYWNyb255bToxLGI6MSxiZGk6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLG1hcms6MSxtZXRlcjoxLG91dHB1dDoxLHE6MSxydWJ5OjEsczoxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0aW1lOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSwkdGFiSW5kZXg6e2E6MSxhcmVhOjEsYnV0dG9uOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0ZXh0YXJlYToxfSwkdGFibGVDb250ZW50OntjYXB0aW9uOjEsY29sOjEsY29sZ3JvdXA6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX0sJHRyYW5zcGFyZW50OnthOjEsYXVkaW86MSxjYW52YXM6MSxkZWw6MSxcbmluczoxLG1hcDoxLG5vc2NyaXB0OjEsb2JqZWN0OjEsdmlkZW86MX0sJGludGVybWVkaWF0ZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsZGQ6MSxkdDoxLGZpZ2NhcHRpb246MSxsZWdlbmQ6MSxsaToxLG9wdGdyb3VwOjEsb3B0aW9uOjEscnA6MSxydDoxLHN1bW1hcnk6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX19KTtyZXR1cm4gZ30oKTtDS0VESVRPUi5kb20uZXZlbnQ9ZnVuY3Rpb24oYyl7dGhpcy4kPWN9O0NLRURJVE9SLmRvbS5ldmVudC5wcm90b3R5cGU9e2dldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQua2V5Q29kZXx8dGhpcy4kLndoaWNofSxnZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmdldEtleSgpO2lmKHRoaXMuJC5jdHJsS2V5fHx0aGlzLiQubWV0YUtleSljKz1DS0VESVRPUi5DVFJMO3RoaXMuJC5zaGlmdEtleSYmKGMrPUNLRURJVE9SLlNISUZUKTt0aGlzLiQuYWx0S2V5JiYoYys9Q0tFRElUT1IuQUxUKTtyZXR1cm4gY30sXG5wcmV2ZW50RGVmYXVsdDpmdW5jdGlvbihjKXt2YXIgZz10aGlzLiQ7Zy5wcmV2ZW50RGVmYXVsdD9nLnByZXZlbnREZWZhdWx0KCk6Zy5yZXR1cm5WYWx1ZT0hMTtjJiZ0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYz10aGlzLiQ7Yy5zdG9wUHJvcGFnYXRpb24/Yy5zdG9wUHJvcGFnYXRpb24oKTpjLmNhbmNlbEJ1YmJsZT0hMH0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy4kLnRhcmdldHx8dGhpcy4kLnNyY0VsZW1lbnQ7cmV0dXJuIGM/bmV3IENLRURJVE9SLmRvbS5ub2RlKGMpOm51bGx9LGdldFBoYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ldmVudFBoYXNlfHwyfSxnZXRQYWdlT2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLiQ7cmV0dXJue3g6dGhpcy4kLnBhZ2VYfHx0aGlzLiQuY2xpZW50WCsoYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8Yy5ib2R5LnNjcm9sbExlZnQpLFxueTp0aGlzLiQucGFnZVl8fHRoaXMuJC5jbGllbnRZKyhjLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGMuYm9keS5zY3JvbGxUb3ApfX19O0NLRURJVE9SLkNUUkw9MTExNDExMjtDS0VESVRPUi5TSElGVD0yMjI4MjI0O0NLRURJVE9SLkFMVD00NDU2NDQ4O0NLRURJVE9SLkVWRU5UX1BIQVNFX0NBUFRVUklORz0xO0NLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVD0yO0NLRURJVE9SLkVWRU5UX1BIQVNFX0JVQkJMSU5HPTM7Q0tFRElUT1IuZG9tLmRvbU9iamVjdD1mdW5jdGlvbihjKXtjJiYodGhpcy4kPWMpfTtDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZT1mdW5jdGlvbigpe3ZhciBjPWZ1bmN0aW9uKGMsZSl7cmV0dXJuIGZ1bmN0aW9uKGIpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBDS0VESVRPUiYmYy5maXJlKGUsbmV3IENLRURJVE9SLmRvbS5ldmVudChiKSl9fTtyZXR1cm57Z2V0UHJpdmF0ZTpmdW5jdGlvbigpe3ZhciBjOyhjPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9cIikpfHxcbnRoaXMuc2V0Q3VzdG9tRGF0YShcIl9cIixjPXt9KTtyZXR1cm4gY30sb246ZnVuY3Rpb24oZyl7dmFyIGU9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIik7ZXx8KGU9e30sdGhpcy5zZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIixlKSk7ZVtnXXx8KGU9ZVtnXT1jKHRoaXMsZyksdGhpcy4kLmFkZEV2ZW50TGlzdGVuZXI/dGhpcy4kLmFkZEV2ZW50TGlzdGVuZXIoZyxlLCEhQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZSk6dGhpcy4kLmF0dGFjaEV2ZW50JiZ0aGlzLiQuYXR0YWNoRXZlbnQoXCJvblwiK2csZSkpO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihjKXtDS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmhhc0xpc3RlbmVycyhjKSl7dmFyIGU9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksXG5iPWUmJmVbY107YiYmKHRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyP3RoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGMsYiwhMSk6dGhpcy4kLmRldGFjaEV2ZW50JiZ0aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2MsYiksZGVsZXRlIGVbY10pfX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dHJ5e3ZhciBjPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9ja2VfbmF0aXZlTGlzdGVuZXJzXCIpLGU7Zm9yKGUgaW4gYyl7dmFyIGI9Y1tlXTt0aGlzLiQuZGV0YWNoRXZlbnQ/dGhpcy4kLmRldGFjaEV2ZW50KFwib25cIitlLGIpOnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyJiZ0aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGIsITEpO2RlbGV0ZSBjW2VdfX1jYXRjaChoKXtpZighQ0tFRElUT1IuZW52LmVkZ2V8fC0yMTQ2ODI4MjE4IT09aC5udW1iZXIpdGhyb3cgaDt9Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5jYWxsKHRoaXMpfX19KCk7KGZ1bmN0aW9uKGMpe3ZhciBnPVxue307Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7Zz17fX0pO2MuZXF1YWxzPWZ1bmN0aW9uKGMpe3RyeXtyZXR1cm4gYyYmYy4kPT09dGhpcy4kfWNhdGNoKGIpe3JldHVybiExfX07Yy5zZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGMsYil7dmFyIGg9dGhpcy5nZXRVbmlxdWVJZCgpOyhnW2hdfHwoZ1toXT17fSkpW2NdPWI7cmV0dXJuIHRoaXN9O2MuZ2V0Q3VzdG9tRGF0YT1mdW5jdGlvbihjKXt2YXIgYj10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdO3JldHVybihiPWImJmdbYl0pJiZjIGluIGI/YltjXTpudWxsfTtjLnJlbW92ZUN1c3RvbURhdGE9ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXSxiPWImJmdbYl0saCxtO2ImJihoPWJbY10sbT1jIGluIGIsZGVsZXRlIGJbY10pO3JldHVybiBtP2g6bnVsbH07Yy5jbGVhckN1c3RvbURhdGE9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO3ZhciBjPXRoaXMuZ2V0VW5pcXVlSWQoKTtcbmMmJmRlbGV0ZSBnW2NdfTtjLmdldFVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl18fCh0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSl9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGMpfSkoQ0tFRElUT1IuZG9tLmRvbU9iamVjdC5wcm90b3R5cGUpO0NLRURJVE9SLmRvbS5ub2RlPWZ1bmN0aW9uKGMpe3JldHVybiBjP25ldyBDS0VESVRPUi5kb21bYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD9cImRvY3VtZW50XCI6Yy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP1wiZWxlbWVudFwiOmMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9cInRleHRcIjpjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/XCJjb21tZW50XCI6Yy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD9cImRvY3VtZW50RnJhZ21lbnRcIjpcImRvbU9iamVjdFwiXShjKTpcbnRoaXN9O0NLRURJVE9SLmRvbS5ub2RlLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLmRvbU9iamVjdDtDS0VESVRPUi5OT0RFX0VMRU1FTlQ9MTtDS0VESVRPUi5OT0RFX0RPQ1VNRU5UPTk7Q0tFRElUT1IuTk9ERV9URVhUPTM7Q0tFRElUT1IuTk9ERV9DT01NRU5UPTg7Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD0xMTtDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw9MDtDS0VESVRPUi5QT1NJVElPTl9ESVNDT05ORUNURUQ9MTtDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkc9MjtDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc9NDtDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQ9ODtDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUz0xNjtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLm5vZGUucHJvdG90eXBlLHthcHBlbmRUbzpmdW5jdGlvbihjLGcpe2MuYXBwZW5kKHRoaXMsZyk7cmV0dXJuIGN9LGNsb25lOmZ1bmN0aW9uKGMsZyl7ZnVuY3Rpb24gZShiKXtiW1wiZGF0YS1ja2UtZXhwYW5kb1wiXSYmXG4oYltcImRhdGEtY2tlLWV4cGFuZG9cIl09ITEpO2lmKGIubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yi5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVClpZihnfHxiLm5vZGVUeXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGIucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwhMSksYyl7Yj1iLmNoaWxkTm9kZXM7Zm9yKHZhciBoPTA7aDxiLmxlbmd0aDtoKyspZShiW2hdKX19ZnVuY3Rpb24gYihlKXtpZihlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8ZS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXtpZihlLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBoPWUuZ2V0TmFtZSgpO1wiOlwiPT1oWzBdJiZlLnJlbmFtZU5vZGUoaC5zdWJzdHJpbmcoMSkpfWlmKGMpZm9yKGg9MDtoPGUuZ2V0Q2hpbGRDb3VudCgpO2grKyliKGUuZ2V0Q2hpbGQoaCkpfX12YXIgaD10aGlzLiQuY2xvbmVOb2RlKGMpO1xuZShoKTtoPW5ldyBDS0VESVRPUi5kb20ubm9kZShoKTtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8dGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKSYmYihoKTtyZXR1cm4gaH0saGFzUHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuJC5wcmV2aW91c1NpYmxpbmd9LGhhc05leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuJC5uZXh0U2libGluZ30saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYyl7Yy4kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxjLiQubmV4dFNpYmxpbmcpO3JldHVybiBjfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYyl7Yy4kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxjLiQpO3JldHVybiBjfSxpbnNlcnRCZWZvcmVNZTpmdW5jdGlvbihjKXt0aGlzLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYy4kLHRoaXMuJCk7XG5yZXR1cm4gY30sZ2V0QWRkcmVzczpmdW5jdGlvbihjKXtmb3IodmFyIGc9W10sZT10aGlzLmdldERvY3VtZW50KCkuJC5kb2N1bWVudEVsZW1lbnQsYj10aGlzO2ImJmIhPWU7KXt2YXIgaD1iLmdldFBhcmVudCgpO2gmJmcudW5zaGlmdCh0aGlzLmdldEluZGV4LmNhbGwoYixjKSk7Yj1ofXJldHVybiBnfSxnZXREb2N1bWVudDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KHRoaXMuJC5vd25lckRvY3VtZW50fHx0aGlzLiQucGFyZW50Tm9kZS5vd25lckRvY3VtZW50KX0sZ2V0SW5kZXg6ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZyhiLGMpe3ZhciBrPWM/Yi5nZXROZXh0KCk6Yi5nZXRQcmV2aW91cygpO3JldHVybiBrJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9rLmlzRW1wdHkoKT9nKGssYyk6azpudWxsfXZhciBlPXRoaXMsYj0tMSxoO2lmKCF0aGlzLmdldFBhcmVudCgpfHxjJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZS5pc0VtcHR5KCkmJlxuIWcoZSkmJiFnKGUsITApKXJldHVybi0xO2RvIGlmKCFjfHxlLmVxdWFscyh0aGlzKXx8ZS50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFR8fCFoJiYhZS5pc0VtcHR5KCkpYisrLGg9ZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ7d2hpbGUoZT1lLmdldFByZXZpb3VzKCkpO3JldHVybiBifSxnZXROZXh0U291cmNlTm9kZTpmdW5jdGlvbihjLGcsZSl7aWYoZSYmIWUuY2FsbCl7dmFyIGI9ZTtlPWZ1bmN0aW9uKGMpe3JldHVybiFjLmVxdWFscyhiKX19Yz0hYyYmdGhpcy5nZXRGaXJzdCYmdGhpcy5nZXRGaXJzdCgpO3ZhciBoO2lmKCFjKXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZSYmITE9PT1lKHRoaXMsITApKXJldHVybiBudWxsO2M9dGhpcy5nZXROZXh0KCl9Zm9yKDshYyYmKGg9KGh8fHRoaXMpLmdldFBhcmVudCgpKTspe2lmKGUmJiExPT09ZShoLCEwKSlyZXR1cm4gbnVsbDtjPWguZ2V0TmV4dCgpfXJldHVybiFjfHxlJiYhMT09PWUoYyk/bnVsbDpnJiZcbmchPWMudHlwZT9jLmdldE5leHRTb3VyY2VOb2RlKCExLGcsZSk6Y30sZ2V0UHJldmlvdXNTb3VyY2VOb2RlOmZ1bmN0aW9uKGMsZyxlKXtpZihlJiYhZS5jYWxsKXt2YXIgYj1lO2U9ZnVuY3Rpb24oYyl7cmV0dXJuIWMuZXF1YWxzKGIpfX1jPSFjJiZ0aGlzLmdldExhc3QmJnRoaXMuZ2V0TGFzdCgpO3ZhciBoO2lmKCFjKXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZSYmITE9PT1lKHRoaXMsITApKXJldHVybiBudWxsO2M9dGhpcy5nZXRQcmV2aW91cygpfWZvcig7IWMmJihoPShofHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihlJiYhMT09PWUoaCwhMCkpcmV0dXJuIG51bGw7Yz1oLmdldFByZXZpb3VzKCl9cmV0dXJuIWN8fGUmJiExPT09ZShjKT9udWxsOmcmJmMudHlwZSE9Zz9jLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxnLGUpOmN9LGdldFByZXZpb3VzOmZ1bmN0aW9uKGMpe3ZhciBnPXRoaXMuJCxlO2RvIGU9KGc9Zy5wcmV2aW91c1NpYmxpbmcpJiZcbjEwIT1nLm5vZGVUeXBlJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZyk7d2hpbGUoZSYmYyYmIWMoZSkpO3JldHVybiBlfSxnZXROZXh0OmZ1bmN0aW9uKGMpe3ZhciBnPXRoaXMuJCxlO2RvIGU9KGc9Zy5uZXh0U2libGluZykmJm5ldyBDS0VESVRPUi5kb20ubm9kZShnKTt3aGlsZShlJiZjJiYhYyhlKSk7cmV0dXJuIGV9LGdldFBhcmVudDpmdW5jdGlvbihjKXt2YXIgZz10aGlzLiQucGFyZW50Tm9kZTtyZXR1cm4gZyYmKGcubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8YyYmZy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCk/bmV3IENLRURJVE9SLmRvbS5ub2RlKGcpOm51bGx9LGdldFBhcmVudHM6ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcyxlPVtdO2RvIGVbYz9cInB1c2hcIjpcInVuc2hpZnRcIl0oZyk7d2hpbGUoZz1nLmdldFBhcmVudCgpKTtyZXR1cm4gZX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYyl7aWYoYy5lcXVhbHModGhpcykpcmV0dXJuIHRoaXM7XG5pZihjLmNvbnRhaW5zJiZjLmNvbnRhaW5zKHRoaXMpKXJldHVybiBjO3ZhciBnPXRoaXMuY29udGFpbnM/dGhpczp0aGlzLmdldFBhcmVudCgpO2RvIGlmKGcuY29udGFpbnMoYykpcmV0dXJuIGc7d2hpbGUoZz1nLmdldFBhcmVudCgpKTtyZXR1cm4gbnVsbH0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcy4kLGU9Yy4kO2lmKGcuY29tcGFyZURvY3VtZW50UG9zaXRpb24pcmV0dXJuIGcuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk7aWYoZz09ZSlyZXR1cm4gQ0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMO2lmKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoZy5jb250YWlucyl7aWYoZy5jb250YWlucyhlKSlyZXR1cm4gQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMrQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HO2lmKGUuY29udGFpbnMoZykpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCtcbkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR31pZihcInNvdXJjZUluZGV4XCJpbiBnKXJldHVybiAwPmcuc291cmNlSW5kZXh8fDA+ZS5zb3VyY2VJbmRleD9DS0VESVRPUi5QT1NJVElPTl9ESVNDT05ORUNURUQ6Zy5zb3VyY2VJbmRleDxlLnNvdXJjZUluZGV4P0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9Zz10aGlzLmdldEFkZHJlc3MoKTtjPWMuZ2V0QWRkcmVzcygpO2Zvcih2YXIgZT1NYXRoLm1pbihnLmxlbmd0aCxjLmxlbmd0aCksYj0wO2I8ZTtiKyspaWYoZ1tiXSE9Y1tiXSlyZXR1cm4gZ1tiXTxjW2JdP0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkc7cmV0dXJuIGcubGVuZ3RoPGMubGVuZ3RoP0NLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfSxcbmdldEFzY2VuZGFudDpmdW5jdGlvbihjLGcpe3ZhciBlPXRoaXMuJCxiLGg7Z3x8KGU9ZS5wYXJlbnROb2RlKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjPyhoPSEwLGI9Yyk6KGg9ITEsYj1mdW5jdGlvbihiKXtiPVwic3RyaW5nXCI9PXR5cGVvZiBiLm5vZGVOYW1lP2Iubm9kZU5hbWUudG9Mb3dlckNhc2UoKTpcIlwiO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBjP2I9PWM6YiBpbiBjfSk7Zm9yKDtlOyl7aWYoYihoP25ldyBDS0VESVRPUi5kb20ubm9kZShlKTplKSlyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlKGUpO3RyeXtlPWUucGFyZW50Tm9kZX1jYXRjaChtKXtlPW51bGx9fXJldHVybiBudWxsfSxoYXNBc2NlbmRhbnQ6ZnVuY3Rpb24oYyxnKXt2YXIgZT10aGlzLiQ7Z3x8KGU9ZS5wYXJlbnROb2RlKTtmb3IoO2U7KXtpZihlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PWMpcmV0dXJuITA7ZT1lLnBhcmVudE5vZGV9cmV0dXJuITF9LG1vdmU6ZnVuY3Rpb24oYyxnKXtjLmFwcGVuZCh0aGlzLnJlbW92ZSgpLFxuZyl9LHJlbW92ZTpmdW5jdGlvbihjKXt2YXIgZz10aGlzLiQsZT1nLnBhcmVudE5vZGU7aWYoZSl7aWYoYylmb3IoO2M9Zy5maXJzdENoaWxkOyllLmluc2VydEJlZm9yZShnLnJlbW92ZUNoaWxkKGMpLGcpO2UucmVtb3ZlQ2hpbGQoZyl9cmV0dXJuIHRoaXN9LHJlcGxhY2U6ZnVuY3Rpb24oYyl7dGhpcy5pbnNlcnRCZWZvcmUoYyk7Yy5yZW1vdmUoKX0sdHJpbTpmdW5jdGlvbigpe3RoaXMubHRyaW0oKTt0aGlzLnJ0cmltKCl9LGx0cmltOmZ1bmN0aW9uKCl7Zm9yKHZhciBjO3RoaXMuZ2V0Rmlyc3QmJihjPXRoaXMuZ2V0Rmlyc3QoKSk7KXtpZihjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7dmFyIGc9Q0tFRElUT1IudG9vbHMubHRyaW0oYy5nZXRUZXh0KCkpLGU9Yy5nZXRMZW5ndGgoKTtpZihnKWcubGVuZ3RoPGUmJihjLnNwbGl0KGUtZy5sZW5ndGgpLHRoaXMuJC5yZW1vdmVDaGlsZCh0aGlzLiQuZmlyc3RDaGlsZCkpO2Vsc2V7Yy5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9fSxcbnJ0cmltOmZ1bmN0aW9uKCl7Zm9yKHZhciBjO3RoaXMuZ2V0TGFzdCYmKGM9dGhpcy5nZXRMYXN0KCkpOyl7aWYoYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBnPUNLRURJVE9SLnRvb2xzLnJ0cmltKGMuZ2V0VGV4dCgpKSxlPWMuZ2V0TGVuZ3RoKCk7aWYoZylnLmxlbmd0aDxlJiYoYy5zcGxpdChnLmxlbmd0aCksdGhpcy4kLmxhc3RDaGlsZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJC5sYXN0Q2hpbGQpKTtlbHNle2MucmVtb3ZlKCk7Y29udGludWV9fWJyZWFrfUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiYoYz10aGlzLiQubGFzdENoaWxkKSYmMT09Yy50eXBlJiZcImJyXCI9PWMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfSxpc1JlYWRPbmx5OmZ1bmN0aW9uKGMpe3ZhciBnPXRoaXM7dGhpcy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihnPXRoaXMuZ2V0UGFyZW50KCkpO0NLRURJVE9SLmVudi5lZGdlJiZcbmcmJmcuaXMoXCJ0ZXh0YXJlYVwiLFwiaW5wdXRcIikmJihjPSEwKTtpZighYyYmZyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGcuJC5pc0NvbnRlbnRFZGl0YWJsZSlyZXR1cm4hKGcuJC5pc0NvbnRlbnRFZGl0YWJsZXx8Zy5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKTtmb3IoO2c7KXtpZihnLmRhdGEoXCJja2UtZWRpdGFibGVcIikpcmV0dXJuITE7aWYoZy5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuXCJmYWxzZVwiPT1nLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKTtnPWcuZ2V0UGFyZW50KCl9cmV0dXJuITB9fSk7Q0tFRElUT1IuZG9tLndpbmRvdz1mdW5jdGlvbihjKXtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxjKX07Q0tFRElUT1IuZG9tLndpbmRvdy5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3Q7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlLHtmb2N1czpmdW5jdGlvbigpe3RoaXMuJC5mb2N1cygpfSxcbmdldFZpZXdQYW5lU2l6ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuJC5kb2N1bWVudCxnPVwiQ1NTMUNvbXBhdFwiPT1jLmNvbXBhdE1vZGU7cmV0dXJue3dpZHRoOihnP2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOmMuYm9keS5jbGllbnRXaWR0aCl8fDAsaGVpZ2h0OihnP2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDpjLmJvZHkuY2xpZW50SGVpZ2h0KXx8MH19LGdldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy4kO2lmKFwicGFnZVhPZmZzZXRcImluIGMpcmV0dXJue3g6Yy5wYWdlWE9mZnNldHx8MCx5OmMucGFnZVlPZmZzZXR8fDB9O2M9Yy5kb2N1bWVudDtyZXR1cm57eDpjLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxjLmJvZHkuc2Nyb2xsTGVmdHx8MCx5OmMuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8Yy5ib2R5LnNjcm9sbFRvcHx8MH19LGdldEZyYW1lOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy4kLmZyYW1lRWxlbWVudDtyZXR1cm4gYz9cbm5ldyBDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYyk6bnVsbH19KTtDS0VESVRPUi5kb20uZG9jdW1lbnQ9ZnVuY3Rpb24oYyl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYyl9O0NLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3Q7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVCxhcHBlbmRTdHlsZVNoZWV0OmZ1bmN0aW9uKGMpe2lmKHRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KXRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KGMpO2Vsc2V7dmFyIGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwibGlua1wiKTtnLnNldEF0dHJpYnV0ZXMoe3JlbDpcInN0eWxlc2hlZXRcIix0eXBlOlwidGV4dC9jc3NcIixocmVmOmN9KTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoZyl9fSxhcHBlbmRTdHlsZVRleHQ6ZnVuY3Rpb24oYyl7aWYodGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQpe3ZhciBnPVxudGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQoXCJcIik7Zy5jc3NUZXh0PWN9ZWxzZXt2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzdHlsZVwiLHRoaXMpO2UuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChjLHRoaXMpKTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoZSl9cmV0dXJuIGd8fGUuJC5zaGVldH0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbihjLGcpe3ZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjLHRoaXMpO2cmJihnLmF0dHJpYnV0ZXMmJmUuc2V0QXR0cmlidXRlcyhnLmF0dHJpYnV0ZXMpLGcuc3R5bGVzJiZlLnNldFN0eWxlcyhnLnN0eWxlcykpO3JldHVybiBlfSxjcmVhdGVUZXh0OmZ1bmN0aW9uKGMpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLnRleHQoYyx0aGlzKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmdldFdpbmRvdygpLmZvY3VzKCl9LGdldEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBjO3RyeXtjPXRoaXMuJC5hY3RpdmVFbGVtZW50fWNhdGNoKGcpe3JldHVybiBudWxsfXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyl9LFxuZ2V0QnlJZDpmdW5jdGlvbihjKXtyZXR1cm4oYz10aGlzLiQuZ2V0RWxlbWVudEJ5SWQoYykpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKTpudWxsfSxnZXRCeUFkZHJlc3M6ZnVuY3Rpb24oYyxnKXtmb3IodmFyIGU9dGhpcy4kLmRvY3VtZW50RWxlbWVudCxiPTA7ZSYmYjxjLmxlbmd0aDtiKyspe3ZhciBoPWNbYl07aWYoZylmb3IodmFyIG09LTEsbD0wO2w8ZS5jaGlsZE5vZGVzLmxlbmd0aDtsKyspe3ZhciBrPWUuY2hpbGROb2Rlc1tsXTtpZighMCE9PWd8fDMhPWsubm9kZVR5cGV8fCFrLnByZXZpb3VzU2libGluZ3x8MyE9ay5wcmV2aW91c1NpYmxpbmcubm9kZVR5cGUpaWYobSsrLG09PWgpe2U9azticmVha319ZWxzZSBlPWUuY2hpbGROb2Rlc1toXX1yZXR1cm4gZT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoZSk6bnVsbH0sZ2V0RWxlbWVudHNCeVRhZzpmdW5jdGlvbihjLGcpe0NLRURJVE9SLmVudi5pZSYmOD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwhZ3x8KGM9ZytcIjpcIitcbmMpO3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShjKSl9LGdldEhlYWQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO3JldHVybiBjPWM/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpOnRoaXMuZ2V0RG9jdW1lbnRFbGVtZW50KCkuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImhlYWRcIiksITApfSxnZXRCb2R5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0aGlzLiQuYm9keSl9LGdldERvY3VtZW50RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmRvY3VtZW50RWxlbWVudCl9LGdldFdpbmRvdzpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh0aGlzLiQucGFyZW50V2luZG93fHx0aGlzLiQuZGVmYXVsdFZpZXcpfSx3cml0ZTpmdW5jdGlvbihjKXt0aGlzLiQub3BlbihcInRleHQvaHRtbFwiLFxuXCJyZXBsYWNlXCIpO0NLRURJVE9SLmVudi5pZSYmKGM9Yy5yZXBsYWNlKC8oPzpeXFxzKjwhRE9DVFlQRVtePl0qPz4pfF4vaSwnJFxceDI2XFxuXFx4M2NzY3JpcHQgZGF0YS1ja2UtdGVtcFxceDNkXCIxXCJcXHgzZSgnK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcXHgzYy9zY3JpcHRcXHgzZVwiKSk7dGhpcy4kLndyaXRlKGMpO3RoaXMuJC5jbG9zZSgpfSxmaW5kOmZ1bmN0aW9uKGMpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGMpKX0sZmluZE9uZTpmdW5jdGlvbihjKXtyZXR1cm4oYz10aGlzLiQucXVlcnlTZWxlY3RvcihjKSk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpOm51bGx9LF9nZXRIdG1sNVNoaXZGcmFnOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5nZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiKTtjfHwoYz10aGlzLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLENLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoYyxcbiEwKSx0aGlzLnNldEN1c3RvbURhdGEoXCJodG1sNVNoaXZGcmFnXCIsYykpO3JldHVybiBjfX0pO0NLRURJVE9SLmRvbS5ub2RlTGlzdD1mdW5jdGlvbihjKXt0aGlzLiQ9Y307Q0tFRElUT1IuZG9tLm5vZGVMaXN0LnByb3RvdHlwZT17Y291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmxlbmd0aH0sZ2V0SXRlbTpmdW5jdGlvbihjKXtyZXR1cm4gMD5jfHxjPj10aGlzLiQubGVuZ3RoP251bGw6KGM9dGhpcy4kW2NdKT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyk6bnVsbH0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5tYXAodGhpcy4kLGZ1bmN0aW9uKGMpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyl9KX19O0NLRURJVE9SLmRvbS5lbGVtZW50PWZ1bmN0aW9uKGMsZyl7XCJzdHJpbmdcIj09dHlwZW9mIGMmJihjPShnP2cuJDpkb2N1bWVudCkuY3JlYXRlRWxlbWVudChjKSk7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsXG5jKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0PWZ1bmN0aW9uKGMpe3JldHVybihjPVwic3RyaW5nXCI9PXR5cGVvZiBjP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGMpfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShjKVswXTpjKSYmKGMuJD9jOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKSl9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGU7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWw9ZnVuY3Rpb24oYyxnKXt2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIixnKTtlLnNldEh0bWwoYyk7cmV0dXJuIGUuZ2V0Rmlyc3QoKS5yZW1vdmUoKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyPWZ1bmN0aW9uKGMsZyxlLGIpe3ZhciBoPWcuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpfHxnLnNldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiLENLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSkuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLFxubT1nLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKXx8Zy5zZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIix7fSkuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpO2NbaF09ZzttW2VdPTE7cmV0dXJuIGcuc2V0Q3VzdG9tRGF0YShlLGIpfTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnM9ZnVuY3Rpb24oYyl7Zm9yKHZhciBnIGluIGMpQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzKGMsY1tnXSwxKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzPWZ1bmN0aW9uKGMsZyxlKXt2YXIgYj1nLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKSxoPWcuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLG07Zm9yKG0gaW4gYilnLnJlbW92ZUN1c3RvbURhdGEobSk7Zy5yZW1vdmVDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIik7ZSYmKGcucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIpLFxuZGVsZXRlIGNbaF0pfTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGIsZCl7cmV0dXJuLTE8KFwiIFwiK2IrXCIgXCIpLnJlcGxhY2UobSxcIiBcIikuaW5kZXhPZihcIiBcIitkK1wiIFwiKX1mdW5jdGlvbiBnKGIpe3ZhciBkPSEwO2IuJC5pZHx8KGIuJC5pZD1cImNrZV90bXBfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGQ9ITEpO3JldHVybiBmdW5jdGlvbigpe2R8fGIucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fWZ1bmN0aW9uIGUoYixkKXt2YXIgZj1DS0VESVRPUi50b29scy5lc2NhcGVDc3MoYi4kLmlkKTtyZXR1cm5cIiNcIitmK1wiIFwiK2Quc3BsaXQoLyxcXHMqLykuam9pbihcIiwgI1wiK2YrXCIgXCIpfWZ1bmN0aW9uIGIoYil7Zm9yKHZhciBkPTAsZj0wLGE9bFtiXS5sZW5ndGg7ZjxhO2YrKylkKz1wYXJzZUZsb2F0KHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShsW2JdW2ZdKXx8MCwxMCl8fDA7cmV0dXJuIGR9dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikuY2xhc3NMaXN0LGg9XCJ1bmRlZmluZWRcIiE9PVxudHlwZW9mIGgmJm51bGwhPT1TdHJpbmcoaC5hZGQpLm1hdGNoKC9cXFtOYXRpdmUgY29kZVxcXS9naSksbT0vW1xcblxcdFxccl0vZztDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGRDbGFzczpoP2Z1bmN0aW9uKGIpe3RoaXMuJC5jbGFzc0xpc3QuYWRkKGIpO3JldHVybiB0aGlzfTpmdW5jdGlvbihiKXt2YXIgZD10aGlzLiQuY2xhc3NOYW1lO2QmJihjKGQsYil8fChkKz1cIiBcIitiKSk7dGhpcy4kLmNsYXNzTmFtZT1kfHxiO3JldHVybiB0aGlzfSxyZW1vdmVDbGFzczpoP2Z1bmN0aW9uKGIpe3ZhciBkPXRoaXMuJDtkLmNsYXNzTGlzdC5yZW1vdmUoYik7ZC5jbGFzc05hbWV8fGQucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7cmV0dXJuIHRoaXN9OmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7ZCYmYyhkLGIpJiYoKGQ9ZC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKylcIitcbmIrXCIoP1xceDNkXFxcXHN8JClcIiksXCJcIikucmVwbGFjZSgvXlxccysvLFwiXCIpKT90aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsZCk6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKSk7cmV0dXJuIHRoaXN9LGhhc0NsYXNzOmZ1bmN0aW9uKGIpe3JldHVybiBjKHRoaXMuJC5jbGFzc05hbWUsYil9LGFwcGVuZDpmdW5jdGlvbihiLGQpe1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj10aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChiKSk7ZD90aGlzLiQuaW5zZXJ0QmVmb3JlKGIuJCx0aGlzLiQuZmlyc3RDaGlsZCk6dGhpcy4kLmFwcGVuZENoaWxkKGIuJCk7cmV0dXJuIGJ9LGFwcGVuZEh0bWw6ZnVuY3Rpb24oYil7aWYodGhpcy4kLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIix0aGlzLmdldERvY3VtZW50KCkpO2Quc2V0SHRtbChiKTtkLm1vdmVDaGlsZHJlbih0aGlzKX1lbHNlIHRoaXMuc2V0SHRtbChiKX0sYXBwZW5kVGV4dDpmdW5jdGlvbihiKXtudWxsIT1cbnRoaXMuJC50ZXh0JiZDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/dGhpcy4kLnRleHQrPWI6dGhpcy5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KGIpKX0sYXBwZW5kQm9ndXM6ZnVuY3Rpb24oYil7aWYoYnx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpe2ZvcihiPXRoaXMuZ2V0TGFzdCgpO2ImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMucnRyaW0oYi5nZXRUZXh0KCkpOyliPWIuZ2V0UHJldmlvdXMoKTtiJiZiLmlzJiZiLmlzKFwiYnJcIil8fChiPXRoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiYnJcIiksQ0tFRElUT1IuZW52LmdlY2tvJiZiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIl9tb3pcIiksdGhpcy5hcHBlbmQoYikpfX0sYnJlYWtQYXJlbnQ6ZnVuY3Rpb24oYixkKXt2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMuZ2V0RG9jdW1lbnQoKSk7Zi5zZXRTdGFydEFmdGVyKHRoaXMpO2Yuc2V0RW5kQWZ0ZXIoYik7XG52YXIgYT1mLmV4dHJhY3RDb250ZW50cyghMSxkfHwhMSksYztmLmluc2VydE5vZGUodGhpcy5yZW1vdmUoKSk7aWYoQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2Upe2ZvcihmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtjPWEuZ2V0Rmlyc3QoKTspYy4kLnN0eWxlLmJhY2tncm91bmRDb2xvciYmKGMuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Yy4kLnN0eWxlLmJhY2tncm91bmRDb2xvciksZi5hcHBlbmQoYyk7Zi5pbnNlcnRBZnRlcih0aGlzKTtmLnJlbW92ZSghMCl9ZWxzZSBhLmluc2VydEFmdGVyTm9kZSh0aGlzKX0sY29udGFpbnM6ZG9jdW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZnVuY3Rpb24oYil7cmV0dXJuISEodGhpcy4kLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIuJCkmMTYpfTpmdW5jdGlvbihiKXt2YXIgZD10aGlzLiQ7cmV0dXJuIGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2QuY29udGFpbnMoYi5nZXRQYXJlbnQoKS4kKTpcbmQhPWIuJCYmZC5jb250YWlucyhiLiQpfSxmb2N1czpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXt0cnl7dGhpcy4kLmZvY3VzKCl9Y2F0Y2goZCl7fX1yZXR1cm4gZnVuY3Rpb24oZCl7ZD9DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGIsMTAwLHRoaXMpOmIuY2FsbCh0aGlzKX19KCksZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuJC5pbm5lckhUTUw7cmV0dXJuIENLRURJVE9SLmVudi5pZT9iLnJlcGxhY2UoLzxcXD9bXj5dKj4vZyxcIlwiKTpifSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtpZih0aGlzLiQub3V0ZXJIVE1MKXJldHVybiB0aGlzLiQub3V0ZXJIVE1MLnJlcGxhY2UoLzxcXD9bXj5dKj4vLFwiXCIpO3ZhciBiPXRoaXMuJC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yi5hcHBlbmRDaGlsZCh0aGlzLiQuY2xvbmVOb2RlKCEwKSk7cmV0dXJuIGIuaW5uZXJIVE1MfSxnZXRDbGllbnRSZWN0OmZ1bmN0aW9uKGIpe3ZhciBkPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxcbnRoaXMuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7IWQud2lkdGgmJihkLndpZHRoPWQucmlnaHQtZC5sZWZ0KTshZC5oZWlnaHQmJihkLmhlaWdodD1kLmJvdHRvbS1kLnRvcCk7cmV0dXJuIGI/Q0tFRElUT1IudG9vbHMuZ2V0QWJzb2x1dGVSZWN0UG9zaXRpb24odGhpcy5nZXRXaW5kb3coKSxkKTpkfSxzZXRIdG1sOkNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj9mdW5jdGlvbihiKXt0cnl7dmFyIGQ9dGhpcy4kO2lmKHRoaXMuZ2V0UGFyZW50KCkpcmV0dXJuIGQuaW5uZXJIVE1MPWI7dmFyIGY9dGhpcy5nZXREb2N1bWVudCgpLl9nZXRIdG1sNVNoaXZGcmFnKCk7Zi5hcHBlbmRDaGlsZChkKTtkLmlubmVySFRNTD1iO2YucmVtb3ZlQ2hpbGQoZCk7cmV0dXJuIGJ9Y2F0Y2goYSl7dGhpcy4kLmlubmVySFRNTD1cIlwiO2Q9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiYm9keVwiLHRoaXMuZ2V0RG9jdW1lbnQoKSk7ZC4kLmlubmVySFRNTD1iO2ZvcihkPWQuZ2V0Q2hpbGRyZW4oKTtkLmNvdW50KCk7KXRoaXMuYXBwZW5kKGQuZ2V0SXRlbSgwKSk7XG5yZXR1cm4gYn19OmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLiQuaW5uZXJIVE1MPWJ9LHNldFRleHQ6ZnVuY3Rpb24oKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtiLmlubmVySFRNTD1cInhcIjtiPWIudGV4dENvbnRlbnQ7cmV0dXJuIGZ1bmN0aW9uKGQpe3RoaXMuJFtiP1widGV4dENvbnRlbnRcIjpcImlubmVyVGV4dFwiXT1kfX0oKSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYj1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy4kLmdldEF0dHJpYnV0ZShkLDIpfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oZCl7c3dpdGNoKGQpe2Nhc2UgXCJjbGFzc1wiOmQ9XCJjbGFzc05hbWVcIjticmVhaztjYXNlIFwiaHR0cC1lcXVpdlwiOmQ9XCJodHRwRXF1aXZcIjticmVhaztjYXNlIFwibmFtZVwiOnJldHVybiB0aGlzLiQubmFtZTtjYXNlIFwidGFiaW5kZXhcIjpyZXR1cm4gZD10aGlzLiQuZ2V0QXR0cmlidXRlKGQsXG4yKSwwIT09ZCYmMD09PXRoaXMuJC50YWJJbmRleCYmKGQ9bnVsbCksZDtjYXNlIFwiY2hlY2tlZFwiOnJldHVybiBkPXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShkKSwoZC5zcGVjaWZpZWQ/ZC5ub2RlVmFsdWU6dGhpcy4kLmNoZWNrZWQpP1wiY2hlY2tlZFwiOm51bGw7Y2FzZSBcImhzcGFjZVwiOmNhc2UgXCJ2YWx1ZVwiOnJldHVybiB0aGlzLiRbZF07Y2FzZSBcInN0eWxlXCI6cmV0dXJuIHRoaXMuJC5zdHlsZS5jc3NUZXh0O2Nhc2UgXCJjb250ZW50ZWRpdGFibGVcIjpjYXNlIFwiY29udGVudEVkaXRhYmxlXCI6cmV0dXJuIHRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImNvbnRlbnRFZGl0YWJsZVwiKS5zcGVjaWZpZWQ/dGhpcy4kLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKTpudWxsfXJldHVybiB0aGlzLiQuZ2V0QXR0cmlidXRlKGQsMil9OmJ9KCksZ2V0QXR0cmlidXRlczpmdW5jdGlvbihiKXt2YXIgZD17fSxmPXRoaXMuJC5hdHRyaWJ1dGVzLGE7Yj1DS0VESVRPUi50b29scy5pc0FycmF5KGIpP1xuYjpbXTtmb3IoYT0wO2E8Zi5sZW5ndGg7YSsrKS0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihiLGZbYV0ubmFtZSkmJihkW2ZbYV0ubmFtZV09ZlthXS52YWx1ZSk7cmV0dXJuIGR9LGdldENoaWxkcmVuOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZUxpc3QodGhpcy4kLmNoaWxkTm9kZXMpfSxnZXRDbGllbnRTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOnRoaXMuJC5jbGllbnRXaWR0aCxoZWlnaHQ6dGhpcy4kLmNsaWVudEhlaWdodH19LGdldENvbXB1dGVkU3R5bGU6ZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5nZXRXaW5kb3coKS4kLmdldENvbXB1dGVkU3R5bGUodGhpcy4kLG51bGwpO3JldHVybiBkP2QuZ2V0UHJvcGVydHlWYWx1ZShiKTpcIlwifTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy4kLmN1cnJlbnRTdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYildfSxcbmdldER0ZDpmdW5jdGlvbigpe3ZhciBiPUNLRURJVE9SLmR0ZFt0aGlzLmdldE5hbWUoKV07dGhpcy5nZXREdGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYn07cmV0dXJuIGJ9LGdldEVsZW1lbnRzQnlUYWc6Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnLGdldFRhYkluZGV4OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy4kLnRhYkluZGV4O3JldHVybiAwIT09Ynx8Q0tFRElUT1IuZHRkLiR0YWJJbmRleFt0aGlzLmdldE5hbWUoKV18fDA9PT1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLDEwKT9iOi0xfSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC50ZXh0Q29udGVudHx8dGhpcy4kLmlubmVyVGV4dHx8XCJcIn0sZ2V0V2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKX0sZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmlkfHxudWxsfSxnZXROYW1lQXR0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5uYW1lfHxcbm51bGx9LGdldE5hbWU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihDS0VESVRPUi5lbnYuaWUmJjg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSl7dmFyIGQ9dGhpcy4kLnNjb3BlTmFtZTtcIkhUTUxcIiE9ZCYmKGI9ZC50b0xvd2VyQ2FzZSgpK1wiOlwiK2IpfXRoaXMuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiBifTtyZXR1cm4gdGhpcy5nZXROYW1lKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC52YWx1ZX0sZ2V0Rmlyc3Q6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy4kLmZpcnN0Q2hpbGQ7KGQ9ZCYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGQpKSYmYiYmIWIoZCkmJihkPWQuZ2V0TmV4dChiKSk7cmV0dXJuIGR9LGdldExhc3Q6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy4kLmxhc3RDaGlsZDsoZD1kJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZCkpJiZiJiYhYihkKSYmKGQ9ZC5nZXRQcmV2aW91cyhiKSk7cmV0dXJuIGR9LGdldFN0eWxlOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGIpXX0sXG5pczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0TmFtZSgpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pcmV0dXJuISFhcmd1bWVudHNbMF1bYl07Zm9yKHZhciBkPTA7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKylpZihhcmd1bWVudHNbZF09PWIpcmV0dXJuITA7cmV0dXJuITF9LGlzRWRpdGFibGU6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5nZXROYW1lKCk7cmV0dXJuIHRoaXMuaXNSZWFkT25seSgpfHxcIm5vbmVcIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8XCJoaWRkZW5cIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwidmlzaWJpbGl0eVwiKXx8Q0tFRElUT1IuZHRkLiRub25FZGl0YWJsZVtkXXx8Q0tFRElUT1IuZHRkLiRlbXB0eVtkXXx8dGhpcy5pcyhcImFcIikmJih0aGlzLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKXx8dGhpcy5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpKSYmIXRoaXMuZ2V0Q2hpbGRDb3VudCgpPyExOiExIT09Yj8oYj1DS0VESVRPUi5kdGRbZF18fFxuQ0tFRElUT1IuZHRkLnNwYW4sISghYnx8IWJbXCIjXCJdKSk6ITB9LGlzSWRlbnRpY2FsOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuY2xvbmUoMCwxKTtiPWIuY2xvbmUoMCwxKTtkLnJlbW92ZUF0dHJpYnV0ZXMoW1wiX21vel9kaXJ0eVwiLFwiZGF0YS1ja2UtZXhwYW5kb1wiLFwiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSk7Yi5yZW1vdmVBdHRyaWJ1dGVzKFtcIl9tb3pfZGlydHlcIixcImRhdGEtY2tlLWV4cGFuZG9cIixcImRhdGEtY2tlLXNhdmVkLWhyZWZcIixcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pO2lmKGQuJC5pc0VxdWFsTm9kZSlyZXR1cm4gZC4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChkLiQuc3R5bGUuY3NzVGV4dCksYi4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChiLiQuc3R5bGUuY3NzVGV4dCksZC4kLmlzRXF1YWxOb2RlKGIuJCk7ZD1kLmdldE91dGVySHRtbCgpO2I9XG5iLmdldE91dGVySHRtbCgpO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmdGhpcy5pcyhcImFcIikpe3ZhciBmPXRoaXMuZ2V0UGFyZW50KCk7Zi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihmPWYuY2xvbmUoKSxmLnNldEh0bWwoZCksZD1mLmdldEh0bWwoKSxmLnNldEh0bWwoYiksYj1mLmdldEh0bWwoKSl9cmV0dXJuIGQ9PWJ9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3ZhciBiPSh0aGlzLiQub2Zmc2V0SGVpZ2h0fHx0aGlzLiQub2Zmc2V0V2lkdGgpJiZcImhpZGRlblwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJ2aXNpYmlsaXR5XCIpLGQsZjtiJiZDS0VESVRPUi5lbnYud2Via2l0JiYoZD10aGlzLmdldFdpbmRvdygpLCFkLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSkmJihmPWQuJC5mcmFtZUVsZW1lbnQpJiYoYj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYpKS5pc1Zpc2libGUoKSkpO3JldHVybiEhYn0saXNFbXB0eUlubGluZVJlbW92ZWFibGU6ZnVuY3Rpb24oKXtpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt0aGlzLmdldE5hbWUoKV0pcmV0dXJuITE7XG5mb3IodmFyIGI9dGhpcy5nZXRDaGlsZHJlbigpLGQ9MCxmPWIuY291bnQoKTtkPGY7ZCsrKXt2YXIgYT1iLmdldEl0ZW0oZCk7aWYoYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFhLmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGEuZ2V0VGV4dCgpKSlyZXR1cm4hMX1yZXR1cm4hMH0saGFzQXR0cmlidXRlczpDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLiQuYXR0cmlidXRlcyxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBmPWJbZF07c3dpdGNoKGYubm9kZU5hbWUpe2Nhc2UgXCJjbGFzc1wiOmlmKHRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpcmV0dXJuITA7Y2FzZSBcImRhdGEtY2tlLWV4cGFuZG9cIjpjb250aW51ZTtcbmRlZmF1bHQ6aWYoZi5zcGVjaWZpZWQpcmV0dXJuITB9fXJldHVybiExfTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuJC5hdHRyaWJ1dGVzLGQ9Yi5sZW5ndGgsZj17XCJkYXRhLWNrZS1leHBhbmRvXCI6MSxfbW96X2RpcnR5OjF9O3JldHVybiAwPGQmJigyPGR8fCFmW2JbMF0ubm9kZU5hbWVdfHwyPT1kJiYhZltiWzFdLm5vZGVOYW1lXSl9LGhhc0F0dHJpYnV0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoZCl7dmFyIGY9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGQpO2lmKFwiaW5wdXRcIj09dGhpcy5nZXROYW1lKCkpc3dpdGNoKGQpe2Nhc2UgXCJjbGFzc1wiOnJldHVybiAwPHRoaXMuJC5jbGFzc05hbWUubGVuZ3RoO2Nhc2UgXCJjaGVja2VkXCI6cmV0dXJuISF0aGlzLiQuY2hlY2tlZDtjYXNlIFwidmFsdWVcIjpyZXR1cm4gZD10aGlzLmdldEF0dHJpYnV0ZShcInR5cGVcIiksXCJjaGVja2JveFwiPT1kfHxcInJhZGlvXCI9PWQ/XCJvblwiIT10aGlzLiQudmFsdWU6ISF0aGlzLiQudmFsdWV9cmV0dXJuIGY/XG5mLnNwZWNpZmllZDohMX1yZXR1cm4gQ0tFRElUT1IuZW52LmllPzg+Q0tFRElUT1IuZW52LnZlcnNpb24/ZnVuY3Rpb24oZCl7cmV0dXJuXCJuYW1lXCI9PWQ/ISF0aGlzLiQubmFtZTpiLmNhbGwodGhpcyxkKX06YjpmdW5jdGlvbihkKXtyZXR1cm4hIXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShkKX19KCksaGlkZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxtb3ZlQ2hpbGRyZW46ZnVuY3Rpb24oYixkKXt2YXIgZj10aGlzLiQ7Yj1iLiQ7aWYoZiE9Yil7dmFyIGE7aWYoZClmb3IoO2E9Zi5sYXN0Q2hpbGQ7KWIuaW5zZXJ0QmVmb3JlKGYucmVtb3ZlQ2hpbGQoYSksYi5maXJzdENoaWxkKTtlbHNlIGZvcig7YT1mLmZpcnN0Q2hpbGQ7KWIuYXBwZW5kQ2hpbGQoZi5yZW1vdmVDaGlsZChhKSl9fSxtZXJnZVNpYmxpbmdzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihkLGYsYSl7aWYoZiYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2Zvcih2YXIgYz1cbltdO2YuZGF0YShcImNrZS1ib29rbWFya1wiKXx8Zi5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpOylpZihjLnB1c2goZiksZj1hP2YuZ2V0TmV4dCgpOmYuZ2V0UHJldmlvdXMoKSwhZnx8Zi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuO2lmKGQuaXNJZGVudGljYWwoZikpe2Zvcih2YXIgZT1hP2QuZ2V0TGFzdCgpOmQuZ2V0Rmlyc3QoKTtjLmxlbmd0aDspYy5zaGlmdCgpLm1vdmUoZCwhYSk7Zi5tb3ZlQ2hpbGRyZW4oZCwhYSk7Zi5yZW1vdmUoKTtlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5tZXJnZVNpYmxpbmdzKCl9fX1yZXR1cm4gZnVuY3Rpb24oZCl7aWYoITE9PT1kfHxDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXXx8dGhpcy5pcyhcImFcIikpYih0aGlzLHRoaXMuZ2V0TmV4dCgpLCEwKSxiKHRoaXMsdGhpcy5nZXRQcmV2aW91cygpKX19KCksc2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKHtkaXNwbGF5OlwiXCIsXG52aXNpYmlsaXR5OlwiXCJ9KX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGI9ZnVuY3Rpb24oZCxiKXt0aGlzLiQuc2V0QXR0cmlidXRlKGQsYik7cmV0dXJuIHRoaXN9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihkLGYpe1wiY2xhc3NcIj09ZD90aGlzLiQuY2xhc3NOYW1lPWY6XCJzdHlsZVwiPT1kP3RoaXMuJC5zdHlsZS5jc3NUZXh0PWY6XCJ0YWJpbmRleFwiPT1kP3RoaXMuJC50YWJJbmRleD1mOlwiY2hlY2tlZFwiPT1kP3RoaXMuJC5jaGVja2VkPWY6XCJjb250ZW50ZWRpdGFibGVcIj09ZD9iLmNhbGwodGhpcyxcImNvbnRlbnRFZGl0YWJsZVwiLGYpOmIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTpDS0VESVRPUi5lbnYuaWU4Q29tcGF0JiZDS0VESVRPUi5lbnYuc2VjdXJlP2Z1bmN0aW9uKGQsZil7aWYoXCJzcmNcIj09ZCYmZi5tYXRjaCgvXmh0dHA6XFwvXFwvLykpdHJ5e2IuYXBwbHkodGhpcyxcbmFyZ3VtZW50cyl9Y2F0Y2goYSl7fWVsc2UgYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OmJ9KCksc2V0QXR0cmlidXRlczpmdW5jdGlvbihiKXtmb3IodmFyIGQgaW4gYil0aGlzLnNldEF0dHJpYnV0ZShkLGJbZF0pO3JldHVybiB0aGlzfSxzZXRWYWx1ZTpmdW5jdGlvbihiKXt0aGlzLiQudmFsdWU9YjtyZXR1cm4gdGhpc30scmVtb3ZlQXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGI9ZnVuY3Rpb24oZCl7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShkKX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGQpe1wiY2xhc3NcIj09ZD9kPVwiY2xhc3NOYW1lXCI6XCJ0YWJpbmRleFwiPT1kP2Q9XCJ0YWJJbmRleFwiOlwiY29udGVudGVkaXRhYmxlXCI9PWQmJihkPVwiY29udGVudEVkaXRhYmxlXCIpO3RoaXMuJC5yZW1vdmVBdHRyaWJ1dGUoZCl9OmJ9KCkscmVtb3ZlQXR0cmlidXRlczpmdW5jdGlvbihiKXtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGIpKWZvcih2YXIgZD1cbjA7ZDxiLmxlbmd0aDtkKyspdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYltkXSk7ZWxzZSBmb3IoZCBpbiBiPWJ8fHRoaXMuZ2V0QXR0cmlidXRlcygpLGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoZCl9LHJlbW92ZVN0eWxlOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuJC5zdHlsZTtpZihkLnJlbW92ZVByb3BlcnR5fHxcImJvcmRlclwiIT1iJiZcIm1hcmdpblwiIT1iJiZcInBhZGRpbmdcIiE9YilkLnJlbW92ZVByb3BlcnR5P2QucmVtb3ZlUHJvcGVydHkoYik6ZC5yZW1vdmVBdHRyaWJ1dGUoQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGIpKSx0aGlzLiQuc3R5bGUuY3NzVGV4dHx8dGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtlbHNle3ZhciBmPVtcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiXSxhO1wiYm9yZGVyXCI9PWImJihhPVtcImNvbG9yXCIsXCJzdHlsZVwiLFwid2lkdGhcIl0pO2Zvcih2YXIgZD1bXSxjPTA7YzxmLmxlbmd0aDtjKyspaWYoYSlmb3IodmFyIGU9XG4wO2U8YS5sZW5ndGg7ZSsrKWQucHVzaChbYixmW2NdLGFbZV1dLmpvaW4oXCItXCIpKTtlbHNlIGQucHVzaChbYixmW2NdXS5qb2luKFwiLVwiKSk7Zm9yKGI9MDtiPGQubGVuZ3RoO2IrKyl0aGlzLnJlbW92ZVN0eWxlKGRbYl0pfX0sc2V0U3R5bGU6ZnVuY3Rpb24oYixkKXt0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGIpXT1kO3JldHVybiB0aGlzfSxzZXRTdHlsZXM6ZnVuY3Rpb24oYil7Zm9yKHZhciBkIGluIGIpdGhpcy5zZXRTdHlsZShkLGJbZF0pO3JldHVybiB0aGlzfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGIpe0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj8oYj1NYXRoLnJvdW5kKDEwMCpiKSx0aGlzLnNldFN0eWxlKFwiZmlsdGVyXCIsMTAwPD1iP1wiXCI6XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eVxceDNkXCIrYitcIilcIikpOnRoaXMuc2V0U3R5bGUoXCJvcGFjaXR5XCIsYil9LHVuc2VsZWN0YWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXG5cIm5vbmVcIikpO2lmKENLRURJVE9SLmVudi5pZSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpO2Zvcih2YXIgYixkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZyhcIipcIiksZj0wLGE9ZC5jb3VudCgpO2Y8YTtmKyspYj1kLmdldEl0ZW0oZiksYi5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpfX0sZ2V0UG9zaXRpb25lZEFuY2VzdG9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPXRoaXM7XCJodG1sXCIhPWIuZ2V0TmFtZSgpOyl7aWYoXCJzdGF0aWNcIiE9Yi5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIikpcmV0dXJuIGI7Yj1iLmdldFBhcmVudCgpfXJldHVybiBudWxsfSxnZXREb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBkPTAsZj0wLGE9dGhpcy5nZXREb2N1bWVudCgpLGM9YS5nZXRCb2R5KCksZT1cIkJhY2tDb21wYXRcIj09YS4kLmNvbXBhdE1vZGU7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKENLRURJVE9SLmVudi5pZT9cbjghPT1DS0VESVRPUi5lbnYudmVyc2lvbjoxKSl7dmFyIGg9dGhpcy4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGc9YS4kLmRvY3VtZW50RWxlbWVudCxtPWcuY2xpZW50VG9wfHxjLiQuY2xpZW50VG9wfHwwLHU9Zy5jbGllbnRMZWZ0fHxjLiQuY2xpZW50TGVmdHx8MCxsPSEwO0NLRURJVE9SLmVudi5pZSYmKGw9YS5nZXREb2N1bWVudEVsZW1lbnQoKS5jb250YWlucyh0aGlzKSxhPWEuZ2V0Qm9keSgpLmNvbnRhaW5zKHRoaXMpLGw9ZSYmYXx8IWUmJmwpO2wmJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuaWUmJjEyPD1DS0VESVRPUi5lbnYudmVyc2lvbj8oZD1jLiQuc2Nyb2xsTGVmdHx8Zy5zY3JvbGxMZWZ0LGY9Yy4kLnNjcm9sbFRvcHx8Zy5zY3JvbGxUb3ApOihmPWU/Yy4kOmcsZD1mLnNjcm9sbExlZnQsZj1mLnNjcm9sbFRvcCksZD1oLmxlZnQrZC11LGY9aC50b3ArZi1tKX1lbHNlIGZvcihtPXRoaXMsdT1udWxsO20mJlwiYm9keVwiIT1tLmdldE5hbWUoKSYmXG5cImh0bWxcIiE9bS5nZXROYW1lKCk7KXtkKz1tLiQub2Zmc2V0TGVmdC1tLiQuc2Nyb2xsTGVmdDtmKz1tLiQub2Zmc2V0VG9wLW0uJC5zY3JvbGxUb3A7bS5lcXVhbHModGhpcyl8fChkKz1tLiQuY2xpZW50TGVmdHx8MCxmKz1tLiQuY2xpZW50VG9wfHwwKTtmb3IoO3UmJiF1LmVxdWFscyhtKTspZC09dS4kLnNjcm9sbExlZnQsZi09dS4kLnNjcm9sbFRvcCx1PXUuZ2V0UGFyZW50KCk7dT1tO209KGg9bS4kLm9mZnNldFBhcmVudCk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGgpOm51bGx9YiYmKGg9dGhpcy5nZXRXaW5kb3coKSxtPWIuZ2V0V2luZG93KCksIWguZXF1YWxzKG0pJiZoLiQuZnJhbWVFbGVtZW50JiYoYj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGguJC5mcmFtZUVsZW1lbnQpKS5nZXREb2N1bWVudFBvc2l0aW9uKGIpLGQrPWIueCxmKz1iLnkpKTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0fHwhQ0tFRElUT1IuZW52LmdlY2tvfHxcbmV8fChkKz10aGlzLiQuY2xpZW50TGVmdD8xOjAsZis9dGhpcy4kLmNsaWVudFRvcD8xOjApO3JldHVybnt4OmQseTpmfX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5nZXRQYXJlbnQoKTtpZihkKXtkbyBpZigoZC4kLmNsaWVudFdpZHRoJiZkLiQuY2xpZW50V2lkdGg8ZC4kLnNjcm9sbFdpZHRofHxkLiQuY2xpZW50SGVpZ2h0JiZkLiQuY2xpZW50SGVpZ2h0PGQuJC5zY3JvbGxIZWlnaHQpJiYhZC5pcyhcImJvZHlcIikmJnRoaXMuc2Nyb2xsSW50b1BhcmVudChkLGIsMSksZC5pcyhcImh0bWxcIikpe3ZhciBmPWQuZ2V0V2luZG93KCk7dHJ5e3ZhciBhPWYuJC5mcmFtZUVsZW1lbnQ7YSYmKGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpKX1jYXRjaChjKXt9fXdoaWxlKGQ9ZC5nZXRQYXJlbnQoKSl9fSxzY3JvbGxJbnRvUGFyZW50OmZ1bmN0aW9uKGIsZCxmKXt2YXIgYSxjLGUsaDtmdW5jdGlvbiBnKGEsZCl7L2JvZHl8aHRtbC8udGVzdChiLmdldE5hbWUoKSk/XG5iLmdldFdpbmRvdygpLiQuc2Nyb2xsQnkoYSxkKTooYi4kLnNjcm9sbExlZnQrPWEsYi4kLnNjcm9sbFRvcCs9ZCl9ZnVuY3Rpb24gbShhLGIpe3ZhciBkPXt4OjAseTowfTtpZighYS5pcyhsP1wiYm9keVwiOlwiaHRtbFwiKSl7dmFyIGY9YS4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2QueD1mLmxlZnQ7ZC55PWYudG9wfWY9YS5nZXRXaW5kb3coKTtmLmVxdWFscyhiKXx8KGY9bShDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZi4kLmZyYW1lRWxlbWVudCksYiksZC54Kz1mLngsZC55Kz1mLnkpO3JldHVybiBkfWZ1bmN0aW9uIHUoYSxiKXtyZXR1cm4gcGFyc2VJbnQoYS5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLVwiK2IpfHwwLDEwKXx8MH0hYiYmKGI9dGhpcy5nZXRXaW5kb3coKSk7ZT1iLmdldERvY3VtZW50KCk7dmFyIGw9XCJCYWNrQ29tcGF0XCI9PWUuJC5jb21wYXRNb2RlO2IgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ud2luZG93JiYoYj1sP2UuZ2V0Qm9keSgpOmUuZ2V0RG9jdW1lbnRFbGVtZW50KCkpO1xuQ0tFRElUT1IuZW52LndlYmtpdCYmKGU9dGhpcy5nZXRFZGl0b3IoITEpKSYmKGUuXy5wcmV2aW91c1Njcm9sbFRvcD1udWxsKTtlPWIuZ2V0V2luZG93KCk7Yz1tKHRoaXMsZSk7dmFyIHQ9bShiLGUpLEI9dGhpcy4kLm9mZnNldEhlaWdodDthPXRoaXMuJC5vZmZzZXRXaWR0aDt2YXIgdz1iLiQuY2xpZW50SGVpZ2h0LHY9Yi4kLmNsaWVudFdpZHRoO2U9Yy54LXUodGhpcyxcImxlZnRcIiktdC54fHwwO2g9Yy55LXUodGhpcyxcInRvcFwiKS10Lnl8fDA7YT1jLngrYSt1KHRoaXMsXCJyaWdodFwiKS0odC54K3YpfHwwO2M9Yy55K0IrdSh0aGlzLFwiYm90dG9tXCIpLSh0Lnkrdyl8fDA7KDA+aHx8MDxjKSYmZygwLCEwPT09ZD9oOiExPT09ZD9jOjA+aD9oOmMpO2YmJigwPmV8fDA8YSkmJmcoMD5lP2U6YSwwKX0sc2V0U3RhdGU6ZnVuY3Rpb24oYixkLGYpe2Q9ZHx8XCJja2VcIjtzd2l0Y2goYil7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9PTjp0aGlzLmFkZENsYXNzKGQrXCJfb25cIik7dGhpcy5yZW1vdmVDbGFzcyhkK1xuXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoZCtcIl9kaXNhYmxlZFwiKTtmJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKTtmJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7YnJlYWs7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDp0aGlzLmFkZENsYXNzKGQrXCJfZGlzYWJsZWRcIik7dGhpcy5yZW1vdmVDbGFzcyhkK1wiX29mZlwiKTt0aGlzLnJlbW92ZUNsYXNzKGQrXCJfb25cIik7ZiYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApO2YmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpO2JyZWFrO2RlZmF1bHQ6dGhpcy5hZGRDbGFzcyhkK1wiX29mZlwiKSx0aGlzLnJlbW92ZUNsYXNzKGQrXCJfb25cIiksdGhpcy5yZW1vdmVDbGFzcyhkK1wiX2Rpc2FibGVkXCIpLGYmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpLGYmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKX19LFxuZ2V0RnJhbWVEb2N1bWVudDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuJDt0cnl7Yi5jb250ZW50V2luZG93LmRvY3VtZW50fWNhdGNoKGQpe2Iuc3JjPWIuc3JjfXJldHVybiBiJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGIuY29udGVudFdpbmRvdy5kb2N1bWVudCl9LGNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGIsZCl7dmFyIGY9dGhpcy4kLmF0dHJpYnV0ZXM7ZD1kfHx7fTtmb3IodmFyIGE9MDthPGYubGVuZ3RoO2ErKyl7dmFyIGM9ZlthXSxlPWMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxoO2lmKCEoZSBpbiBkKSlpZihcImNoZWNrZWRcIj09ZSYmKGg9dGhpcy5nZXRBdHRyaWJ1dGUoZSkpKWIuc2V0QXR0cmlidXRlKGUsaCk7ZWxzZSBpZighQ0tFRElUT1IuZW52LmllfHx0aGlzLmhhc0F0dHJpYnV0ZShlKSloPXRoaXMuZ2V0QXR0cmlidXRlKGUpLG51bGw9PT1oJiYoaD1jLm5vZGVWYWx1ZSksYi5zZXRBdHRyaWJ1dGUoZSxoKX1cIlwiIT09dGhpcy4kLnN0eWxlLmNzc1RleHQmJlxuKGIuJC5zdHlsZS5jc3NUZXh0PXRoaXMuJC5zdHlsZS5jc3NUZXh0KX0scmVuYW1lTm9kZTpmdW5jdGlvbihiKXtpZih0aGlzLmdldE5hbWUoKSE9Yil7dmFyIGQ9dGhpcy5nZXREb2N1bWVudCgpO2I9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIsZCk7dGhpcy5jb3B5QXR0cmlidXRlcyhiKTt0aGlzLm1vdmVDaGlsZHJlbihiKTt0aGlzLmdldFBhcmVudCghMCkmJnRoaXMuJC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChiLiQsdGhpcy4kKTtiLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07dGhpcy4kPWIuJDtkZWxldGUgdGhpcy5nZXROYW1lfX0sZ2V0Q2hpbGQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGQsZil7dmFyIGE9ZC5jaGlsZE5vZGVzO2lmKDA8PWYmJmY8YS5sZW5ndGgpcmV0dXJuIGFbZl19cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBmPXRoaXMuJDtpZihkLnNsaWNlKWZvcihkPWQuc2xpY2UoKTswPGQubGVuZ3RoJiZmOylmPWIoZixcbmQuc2hpZnQoKSk7ZWxzZSBmPWIoZixkKTtyZXR1cm4gZj9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoZik6bnVsbH19KCksZ2V0Q2hpbGRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuY2hpbGROb2Rlcy5sZW5ndGh9LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoZCl7cmV0dXJuIGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmhhc0NsYXNzKFwiY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIil9dGhpcy5vbihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oZCl7ZC5kYXRhLmdldFRhcmdldCgpLmdldEFzY2VuZGFudChiLCEwKXx8ZC5kYXRhLnByZXZlbnREZWZhdWx0KCl9KX0sZ2V0RGlyZWN0aW9uOmZ1bmN0aW9uKGIpe3JldHVybiBiP3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKXx8dGhpcy5nZXREaXJlY3Rpb24oKXx8dGhpcy5nZXRQYXJlbnQoKSYmdGhpcy5nZXRQYXJlbnQoKS5nZXREaXJlY3Rpb24oMSl8fHRoaXMuZ2V0RG9jdW1lbnQoKS4kLmRpcnx8XG5cImx0clwiOnRoaXMuZ2V0U3R5bGUoXCJkaXJlY3Rpb25cIil8fHRoaXMuZ2V0QXR0cmlidXRlKFwiZGlyXCIpfSxkYXRhOmZ1bmN0aW9uKGIsZCl7Yj1cImRhdGEtXCIrYjtpZih2b2lkIDA9PT1kKXJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShiKTshMT09PWQ/dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYik6dGhpcy5zZXRBdHRyaWJ1dGUoYixkKTtyZXR1cm4gbnVsbH0sZ2V0RWRpdG9yOmZ1bmN0aW9uKGIpe3ZhciBkPUNLRURJVE9SLmluc3RhbmNlcyxmLGEsYztiPWJ8fHZvaWQgMD09PWI7Zm9yKGYgaW4gZClpZihhPWRbZl0sYS5lbGVtZW50LmVxdWFscyh0aGlzKSYmYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPfHwhYiYmKGM9YS5lZGl0YWJsZSgpKSYmKGMuZXF1YWxzKHRoaXMpfHxjLmNvbnRhaW5zKHRoaXMpKSlyZXR1cm4gYTtyZXR1cm4gbnVsbH0sZmluZDpmdW5jdGlvbihiKXt2YXIgZD1nKHRoaXMpO2I9bmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChlKHRoaXMsXG5iKSkpO2QoKTtyZXR1cm4gYn0sZmluZE9uZTpmdW5jdGlvbihiKXt2YXIgZD1nKHRoaXMpO2I9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoZSh0aGlzLGIpKTtkKCk7cmV0dXJuIGI/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIpOm51bGx9LGZvckVhY2g6ZnVuY3Rpb24oYixkLGYpe2lmKCEoZnx8ZCYmdGhpcy50eXBlIT1kKSl2YXIgYT1iKHRoaXMpO2lmKCExIT09YSl7Zj10aGlzLmdldENoaWxkcmVuKCk7Zm9yKHZhciBjPTA7YzxmLmNvdW50KCk7YysrKWE9Zi5nZXRJdGVtKGMpLGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2EuZm9yRWFjaChiLGQpOmQmJmEudHlwZSE9ZHx8YihhKX19LGZpcmVFdmVudEhhbmRsZXI6ZnVuY3Rpb24oYixkKXt2YXIgZj1cIm9uXCIrYixhPXRoaXMuJDtpZihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24pe3ZhciBjPWEub3duZXJEb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpLGU7Zm9yKGUgaW4gZCljW2VdPWRbZV07YS5maXJlRXZlbnQoZixcbmMpfWVsc2UgYVthW2JdP2I6Zl0oZCl9LGlzRGV0YWNoZWQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldERvY3VtZW50KCksZD1iLmdldERvY3VtZW50RWxlbWVudCgpO3JldHVybiBkLmVxdWFscyh0aGlzKXx8ZC5jb250YWlucyh0aGlzKT8hQ0tFRElUT1IuZW52LmllfHw4PENLRURJVE9SLmVudi52ZXJzaW9uJiYhQ0tFRElUT1IuZW52LnF1aXJrcz8hYi4kLmRlZmF1bHRWaWV3OiExOiEwfX0pO3ZhciBsPXt3aWR0aDpbXCJib3JkZXItbGVmdC13aWR0aFwiLFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXCJwYWRkaW5nLWxlZnRcIixcInBhZGRpbmctcmlnaHRcIl0saGVpZ2h0OltcImJvcmRlci10b3Atd2lkdGhcIixcImJvcmRlci1ib3R0b20td2lkdGhcIixcInBhZGRpbmctdG9wXCIsXCJwYWRkaW5nLWJvdHRvbVwiXX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oYyxkLGYpe1wibnVtYmVyXCI9PXR5cGVvZiBkJiYoIWZ8fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrc3x8XG4oZC09Yi5jYWxsKHRoaXMsYykpLHRoaXMuc2V0U3R5bGUoYyxkK1wicHhcIikpfTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihjLGQpe3ZhciBmPU1hdGgubWF4KHRoaXMuJFtcIm9mZnNldFwiK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUoYyldLHRoaXMuJFtcImNsaWVudFwiK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUoYyldKXx8MDtkJiYoZi09Yi5jYWxsKHRoaXMsYykpO3JldHVybiBmfX0pKCk7Q0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQ9ZnVuY3Rpb24oYyl7Yz1jfHxDS0VESVRPUi5kb2N1bWVudDt0aGlzLiQ9Yy50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP2MuJC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6Y307Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSxDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCxcbmluc2VydEFmdGVyTm9kZTpmdW5jdGlvbihjKXtjPWMuJDtjLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxjLm5leHRTaWJsaW5nKX0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTt0aGlzLmNsb25lKDEsMSkuYXBwZW5kVG8oYyk7cmV0dXJuIGMuZ2V0SHRtbCgpLnJlcGxhY2UoL1xccypkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKX19LCEwLHthcHBlbmQ6MSxhcHBlbmRCb2d1czoxLGNsb25lOjEsZ2V0Rmlyc3Q6MSxnZXRIdG1sOjEsZ2V0TGFzdDoxLGdldFBhcmVudDoxLGdldE5leHQ6MSxnZXRQcmV2aW91czoxLGFwcGVuZFRvOjEsbW92ZUNoaWxkcmVuOjEsaW5zZXJ0QmVmb3JlOjEsaW5zZXJ0QWZ0ZXJOb2RlOjEscmVwbGFjZToxLHRyaW06MSx0eXBlOjEsbHRyaW06MSxydHJpbToxLGdldERvY3VtZW50OjEsZ2V0Q2hpbGRDb3VudDoxLGdldENoaWxkOjEsZ2V0Q2hpbGRyZW46MX0pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsXG5DS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLCEwLHtmaW5kOjEsZmluZE9uZToxfSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhLGIpe3ZhciBkPXRoaXMucmFuZ2U7aWYodGhpcy5fLmVuZClyZXR1cm4gbnVsbDtpZighdGhpcy5fLnN0YXJ0KXt0aGlzLl8uc3RhcnQ9MTtpZihkLmNvbGxhcHNlZClyZXR1cm4gdGhpcy5lbmQoKSxudWxsO2Qub3B0aW1pemUoKX12YXIgZixjPWQuc3RhcnRDb250YWluZXI7Zj1kLmVuZENvbnRhaW5lcjt2YXIgZT1kLnN0YXJ0T2Zmc2V0LG49ZC5lbmRPZmZzZXQsaCxnPXRoaXMuZ3VhcmQsdj10aGlzLnR5cGUsbT1hP1wiZ2V0UHJldmlvdXNTb3VyY2VOb2RlXCI6XCJnZXROZXh0U291cmNlTm9kZVwiO2lmKCFhJiYhdGhpcy5fLmd1YXJkTFRSKXt2YXIgaz1mLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9mOmYuZ2V0UGFyZW50KCksbD1mLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9mLmdldENoaWxkKG4pOmYuZ2V0TmV4dCgpO3RoaXMuXy5ndWFyZExUUj1cbmZ1bmN0aW9uKGEsYil7cmV0dXJuKCFifHwhay5lcXVhbHMoYSkpJiYoIWx8fCFhLmVxdWFscyhsKSkmJihhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWJ8fCFhLmVxdWFscyhkLnJvb3QpKX19aWYoYSYmIXRoaXMuXy5ndWFyZFJUTCl7dmFyIEg9Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/YzpjLmdldFBhcmVudCgpLEc9Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZT9jLmdldENoaWxkKGUtMSk6bnVsbDpjLmdldFByZXZpb3VzKCk7dGhpcy5fLmd1YXJkUlRMPWZ1bmN0aW9uKGEsYil7cmV0dXJuKCFifHwhSC5lcXVhbHMoYSkpJiYoIUd8fCFhLmVxdWFscyhHKSkmJihhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWJ8fCFhLmVxdWFscyhkLnJvb3QpKX19dmFyIEw9YT90aGlzLl8uZ3VhcmRSVEw6dGhpcy5fLmd1YXJkTFRSO2g9Zz9mdW5jdGlvbihhLGIpe3JldHVybiExPT09TChhLGIpPyExOmcoYSxiKX06TDt0aGlzLmN1cnJlbnQ/Zj10aGlzLmN1cnJlbnRbbV0oITEsXG52LGgpOihhP2YudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZj0wPG4/Zi5nZXRDaGlsZChuLTEpOiExPT09aChmLCEwKT9udWxsOmYuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCEwLHYsaCkpOihmPWMsZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJigoZj1mLmdldENoaWxkKGUpKXx8KGY9ITE9PT1oKGMsITApP251bGw6Yy5nZXROZXh0U291cmNlTm9kZSghMCx2LGgpKSkpLGYmJiExPT09aChmKSYmKGY9bnVsbCkpO2Zvcig7ZiYmIXRoaXMuXy5lbmQ7KXt0aGlzLmN1cnJlbnQ9ZjtpZighdGhpcy5ldmFsdWF0b3J8fCExIT09dGhpcy5ldmFsdWF0b3IoZikpe2lmKCFiKXJldHVybiBmfWVsc2UgaWYoYiYmdGhpcy5ldmFsdWF0b3IpcmV0dXJuITE7Zj1mW21dKCExLHYsaCl9dGhpcy5lbmQoKTtyZXR1cm4gdGhpcy5jdXJyZW50PW51bGx9ZnVuY3Rpb24gZyhhKXtmb3IodmFyIGIsZD1udWxsO2I9Yy5jYWxsKHRoaXMsYSk7KWQ9YjtyZXR1cm4gZH1DS0VESVRPUi5kb20ud2Fsa2VyPVxuQ0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7dGhpcy5yYW5nZT1hO3RoaXMuXz17fX0scHJvdG86e2VuZDpmdW5jdGlvbigpe3RoaXMuXy5lbmQ9MX0sbmV4dDpmdW5jdGlvbigpe3JldHVybiBjLmNhbGwodGhpcyl9LHByZXZpb3VzOmZ1bmN0aW9uKCl7cmV0dXJuIGMuY2FsbCh0aGlzLDEpfSxjaGVja0ZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWMuY2FsbCh0aGlzLDAsMSl9LGNoZWNrQmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWMuY2FsbCh0aGlzLDEsMSl9LGxhc3RGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FsbCh0aGlzKX0sbGFzdEJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FsbCh0aGlzLDEpfSxyZXNldDpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmN1cnJlbnQ7dGhpcy5fPXt9fX19KTt2YXIgZT17YmxvY2s6MSxcImxpc3QtaXRlbVwiOjEsdGFibGU6MSxcInRhYmxlLXJvdy1ncm91cFwiOjEsXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIjoxLFxuXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjoxLFwidGFibGUtcm93XCI6MSxcInRhYmxlLWNvbHVtbi1ncm91cFwiOjEsXCJ0YWJsZS1jb2x1bW5cIjoxLFwidGFibGUtY2VsbFwiOjEsXCJ0YWJsZS1jYXB0aW9uXCI6MX0sYj17YWJzb2x1dGU6MSxmaXhlZDoxfTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuaXNCbG9ja0JvdW5kYXJ5PWZ1bmN0aW9uKGEpe3JldHVyblwibm9uZVwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJmbG9hdFwiKXx8dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIilpbiBifHwhZVt0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpXT8hISh0aGlzLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spfHxhJiZ0aGlzLmlzKGEpKTohMH07Q0tFRElUT1IuZG9tLndhbGtlci5ibG9ja0JvdW5kYXJ5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4hKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeShhKSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmxpc3RJdGVtQm91bmRhcnk9XG5mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrQm91bmRhcnkoe2JyOjF9KX07Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGEmJmEuZ2V0TmFtZSYmXCJzcGFuXCI9PWEuZ2V0TmFtZSgpJiZhLmRhdGEoXCJja2UtYm9va21hcmtcIil9cmV0dXJuIGZ1bmN0aW9uKGYpe3ZhciBjLGU7Yz1mJiZmLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGU9Zi5nZXRQYXJlbnQoKSkmJmQoZSk7Yz1hP2M6Y3x8ZChmKTtyZXR1cm4hIShiXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGQ7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihkPSFDS0VESVRPUi50b29scy50cmltKGIuZ2V0VGV4dCgpKXx8Q0tFRElUT1IuZW52LndlYmtpdCYmYi5nZXRUZXh0KCk9PUNLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFKTtcbnJldHVybiEhKGFeZCl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZT1mdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksZD1DS0VESVRPUi5lbnYud2Via2l0PzE6MDtyZXR1cm4gZnVuY3Rpb24oZil7YihmKT9mPTE6KGYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZj1mLmdldFBhcmVudCgpKSxmPWYuJC5vZmZzZXRXaWR0aDw9ZCk7cmV0dXJuISEoYV5mKX19O0NLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuISEoYl5kLnR5cGU9PWEpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiFtKGEpJiYhbChhKX1yZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGY9Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/ZC5pcyYmZC5pcyhcImJyXCIpOmQuZ2V0VGV4dCYmaC50ZXN0KGQuZ2V0VGV4dCgpKTtmJiYoZj1kLmdldFBhcmVudCgpLFxuZD1kLmdldE5leHQoYiksZj1mLmlzQmxvY2tCb3VuZGFyeSgpJiYoIWR8fGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzQmxvY2tCb3VuZGFyeSgpKSk7cmV0dXJuISEoYV5mKX19O0NLRURJVE9SLmRvbS53YWxrZXIudGVtcD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2I9YiYmYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpO3JldHVybiEhKGFeYil9fTt2YXIgaD0vXltcXHRcXHJcXG4gXSooPzombmJzcDt8XFx4YTApJC8sbT1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksbD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksaz1DS0VESVRPUi5kb20ud2Fsa2VyLnRlbXAoKSxkPWZ1bmN0aW9uKGEpe3JldHVybiBsKGEpfHxtKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhDS0VESVRPUi5kdGQuJGlubGluZSkmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpfTtcbkNLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yj1tKGIpfHxsKGIpfHxrKGIpO3JldHVybiEhKGFeYil9fTt2YXIgZj1DS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQoKTtDS0VESVRPUi5kb20ud2Fsa2VyLmVtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGQ9MCxjPWIuZ2V0Q2hpbGRDb3VudCgpO2Q8YzsrK2QpaWYoIWYoYi5nZXRDaGlsZChkKSkpcmV0dXJuISFhO3JldHVybiFhfX07dmFyIGE9Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eSgpLG49Q0tFRElUT1IuZG9tLndhbGtlci52YWxpZEVtcHR5QmxvY2tDb250YWluZXJzPUNLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihhKXt2YXIgYj17fSxkO2ZvcihkIGluIGEpQ0tFRElUT1IuZHRkW2RdW1wiI1wiXSYmKGJbZF09MSk7cmV0dXJuIGJ9KENLRURJVE9SLmR0ZC4kYmxvY2spLHtjYXB0aW9uOjEsdGQ6MSx0aDoxfSk7Q0tFRElUT1IuZG9tLndhbGtlci5lZGl0YWJsZT1cbmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihkKXtkPWYoZCk/ITE6ZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZC5pcyhDS0VESVRPUi5kdGQuJGlubGluZSl8fGQuaXMoXCJoclwiKXx8XCJmYWxzZVwiPT1kLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8IUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZkLmlzKG4pJiZhKGQpKT8hMDohMTtyZXR1cm4hIShiXmQpfX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmdldEJvZ3VzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkbyBhPWEuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCk7d2hpbGUoZChhKSk7cmV0dXJuIGEmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9hLmlzJiZhLmlzKFwiYnJcIik6YS5nZXRUZXh0JiZoLnRlc3QoYS5nZXRUZXh0KCkpKT9hOiExfX0pKCk7Q0tFRElUT1IuZG9tLnJhbmdlPWZ1bmN0aW9uKGMpe3RoaXMuZW5kT2Zmc2V0PXRoaXMuZW5kQ29udGFpbmVyPVxudGhpcy5zdGFydE9mZnNldD10aGlzLnN0YXJ0Q29udGFpbmVyPW51bGw7dGhpcy5jb2xsYXBzZWQ9ITA7dmFyIGc9YyBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudDt0aGlzLmRvY3VtZW50PWc/YzpjLmdldERvY3VtZW50KCk7dGhpcy5yb290PWc/Yy5nZXRCb2R5KCk6Y307KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhKXthLmNvbGxhcHNlZD1hLnN0YXJ0Q29udGFpbmVyJiZhLmVuZENvbnRhaW5lciYmYS5zdGFydENvbnRhaW5lci5lcXVhbHMoYS5lbmRDb250YWluZXIpJiZhLnN0YXJ0T2Zmc2V0PT1hLmVuZE9mZnNldH1mdW5jdGlvbiBnKGEsYixkLGYsYyl7ZnVuY3Rpb24gZShhLGIsZCxmKXt2YXIgbj1kP2EuZ2V0UHJldmlvdXMoKTphLmdldE5leHQoKTtpZihmJiZtKXJldHVybiBuO2x8fGY/Yi5hcHBlbmQoYS5jbG9uZSghMCxjKSxkKTooYS5yZW1vdmUoKSxrJiZiLmFwcGVuZChhLGQpKTtyZXR1cm4gbn1mdW5jdGlvbiBoKCl7dmFyIGEsYixkLGY9TWF0aC5taW4oSy5sZW5ndGgsXG5NLmxlbmd0aCk7Zm9yKGE9MDthPGY7YSsrKWlmKGI9S1thXSxkPU1bYV0sIWIuZXF1YWxzKGQpKXJldHVybiBhO3JldHVybiBhLTF9ZnVuY3Rpb24gZygpe3ZhciBiPUEtMSxkPUwmJkUmJiF2LmVxdWFscyhGKTtiPE4tMXx8YjxKLTF8fGQ/KGQ/YS5tb3ZlVG9Qb3NpdGlvbihGLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk6Sj09YisxJiZHP2EubW92ZVRvUG9zaXRpb24oTVtiXSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTphLm1vdmVUb1Bvc2l0aW9uKE1bYisxXSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGYmJihiPUtbYisxXSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGRhdGEtY2tlLWJvb2ttYXJrXFx4M2RcIjFcIiBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZScsYS5kb2N1bWVudCksZC5pbnNlcnRBZnRlcihiKSxcbmIubWVyZ2VTaWJsaW5ncyghMSksYS5tb3ZlVG9Cb29rbWFyayh7c3RhcnROb2RlOmR9KSkpOmEuY29sbGFwc2UoITApfWEub3B0aW1pemVCb29rbWFyaygpO3ZhciBtPTA9PT1iLGs9MT09YixsPTI9PWI7Yj1sfHxrO3ZhciB2PWEuc3RhcnRDb250YWluZXIsRj1hLmVuZENvbnRhaW5lcix5PWEuc3RhcnRPZmZzZXQsQz1hLmVuZE9mZnNldCxILEcsTCxFLEQsTztpZihsJiZGLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKHYuZXF1YWxzKEYpfHx2LnR5cGU9PT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnYuZ2V0Rmlyc3QoKS5lcXVhbHMoRikpKWQuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dChGLnN1YnN0cmluZyh5LEMpKSk7ZWxzZXtGLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9sP089ITA6Rj1GLnNwbGl0KEMpOjA8Ri5nZXRDaGlsZENvdW50KCk/Qz49Ri5nZXRDaGlsZENvdW50KCk/KEY9Ri5nZXRDaGlsZChDLTEpLEc9ITApOkY9Ri5nZXRDaGlsZChDKTpFPUc9ITA7di50eXBlPT1cbkNLRURJVE9SLk5PREVfVEVYVD9sP0Q9ITA6di5zcGxpdCh5KTowPHYuZ2V0Q2hpbGRDb3VudCgpPzA9PT15Pyh2PXYuZ2V0Q2hpbGQoeSksSD0hMCk6dj12LmdldENoaWxkKHktMSk6TD1IPSEwO2Zvcih2YXIgSz12LmdldFBhcmVudHMoKSxNPUYuZ2V0UGFyZW50cygpLEE9aCgpLE49Sy5sZW5ndGgtMSxKPU0ubGVuZ3RoLTEsST1kLGVhLFUsWSxoYT0tMSxXPUE7Vzw9TjtXKyspe1U9S1tXXTtZPVUuZ2V0TmV4dCgpO2ZvcihXIT1OfHxVLmVxdWFscyhNW1ddKSYmTjxKP2ImJihlYT1JLmFwcGVuZChVLmNsb25lKDAsYykpKTpIP2UoVSxJLCExLEwpOkQmJkkuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dChVLnN1YnN0cmluZyh5KSkpO1k7KXtpZihZLmVxdWFscyhNW1ddKSl7aGE9VzticmVha31ZPWUoWSxJKX1JPWVhfUk9ZDtmb3IoVz1BO1c8PUo7VysrKWlmKGQ9TVtXXSxZPWQuZ2V0UHJldmlvdXMoKSxkLmVxdWFscyhLW1ddKSliJiYoST1JLmdldENoaWxkKDApKTtlbHNle1chPVxuSnx8ZC5lcXVhbHMoS1tXXSkmJko8Tj9iJiYoZWE9SS5hcHBlbmQoZC5jbG9uZSgwLGMpKSk6Rz9lKGQsSSwhMSxFKTpPJiZJLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoZC5zdWJzdHJpbmcoMCxDKSkpO2lmKFc+aGEpZm9yKDtZOylZPWUoWSxJLCEwKTtJPWVhfWx8fGcoKX19ZnVuY3Rpb24gZSgpe3ZhciBhPSExLGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMCksZj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBkKGMpfHxiKGMpPyEwOmYoYykmJiFhP2E9ITA6Yy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjLmhhc0FzY2VuZGFudChcInByZVwiKXx8Q0tFRElUT1IudG9vbHMudHJpbShjLmdldFRleHQoKSkubGVuZ3RoKXx8Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFjLmlzKG0pPyExOiEwfX1mdW5jdGlvbiBiKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxcbmQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygxKTtyZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIGQoZil8fGIoZik/ITA6IWEmJmwoZil8fGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLmlzKENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHkpfX1mdW5jdGlvbiBoKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiO3JldHVybiB0aGlzW2E/XCJnZXRQcmV2aW91c05vZGVcIjpcImdldE5leHROb2RlXCJdKGZ1bmN0aW9uKGEpeyFiJiZmKGEpJiYoYj1hKTtyZXR1cm4gZChhKSYmIShsKGEpJiZhLmVxdWFscyhiKSl9KX19dmFyIG09e2FiYnI6MSxhY3JvbnltOjEsYjoxLGJkbzoxLGJpZzoxLGNpdGU6MSxjb2RlOjEsZGVsOjEsZGZuOjEsZW06MSxmb250OjEsaToxLGluczoxLGxhYmVsOjEsa2JkOjEscToxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0dDoxLHU6MSxcInZhclwiOjF9LGw9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpLFxuaz0vXltcXHRcXHJcXG4gXSooPzombmJzcDt8XFx4YTApJC8sZD1DS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlKCksZj1DS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQoITApO0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2EuX3NldFN0YXJ0Q29udGFpbmVyKHRoaXMuc3RhcnRDb250YWluZXIpO2Euc3RhcnRPZmZzZXQ9dGhpcy5zdGFydE9mZnNldDthLl9zZXRFbmRDb250YWluZXIodGhpcy5lbmRDb250YWluZXIpO2EuZW5kT2Zmc2V0PXRoaXMuZW5kT2Zmc2V0O2EuY29sbGFwc2VkPXRoaXMuY29sbGFwc2VkO3JldHVybiBhfSxjb2xsYXBzZTpmdW5jdGlvbihhKXthPyh0aGlzLl9zZXRFbmRDb250YWluZXIodGhpcy5zdGFydENvbnRhaW5lciksdGhpcy5lbmRPZmZzZXQ9dGhpcy5zdGFydE9mZnNldCk6KHRoaXMuX3NldFN0YXJ0Q29udGFpbmVyKHRoaXMuZW5kQ29udGFpbmVyKSxcbnRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5lbmRPZmZzZXQpO3RoaXMuY29sbGFwc2VkPSEwfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8Zyh0aGlzLDIsYiwhMSxcInVuZGVmaW5lZFwiPT10eXBlb2YgYT8hMDphKTtyZXR1cm4gYn0sZGVsZXRlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5jb2xsYXBzZWR8fGcodGhpcywwLG51bGwsYSl9LGV4dHJhY3RDb250ZW50czpmdW5jdGlvbihhLGIpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8Zyh0aGlzLDEsZCxhLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiPyEwOmIpO3JldHVybiBkfSxlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhcnRPZmZzZXQ9PT1hLnN0YXJ0T2Zmc2V0JiZ0aGlzLmVuZE9mZnNldD09PWEuZW5kT2Zmc2V0JiZcbnRoaXMuc3RhcnRDb250YWluZXIuZXF1YWxzKGEuc3RhcnRDb250YWluZXIpJiZ0aGlzLmVuZENvbnRhaW5lci5lcXVhbHMoYS5lbmRDb250YWluZXIpfSxjcmVhdGVCb29rbWFyazpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBhLmdldEFzY2VuZGFudChmdW5jdGlvbihhKXt2YXIgYjtpZihiPWEuZGF0YSYmYS5kYXRhKFwiY2tlLXRlbXBcIikpYj0tMT09PUNLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2YoW1wiY2tlX2NvcHliaW5cIixcImNrZV9wYXN0ZWJpblwiXSxhLmdldEF0dHJpYnV0ZShcImlkXCIpKTtyZXR1cm4gYn0sITApfXZhciBkPXRoaXMuc3RhcnRDb250YWluZXIsZj10aGlzLmVuZENvbnRhaW5lcixjPXRoaXMuY29sbGFwc2VkLGUsaCxnLG07ZT10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2UuZGF0YShcImNrZS1ib29rbWFya1wiLDEpO2Uuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO2Uuc2V0SHRtbChcIlxceDI2bmJzcDtcIik7YSYmKGc9XCJja2VfYm1fXCIrXG5DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLGcrKGM/XCJDXCI6XCJTXCIpKSk7Y3x8KGg9ZS5jbG9uZSgpLGguc2V0SHRtbChcIlxceDI2bmJzcDtcIiksYSYmaC5zZXRBdHRyaWJ1dGUoXCJpZFwiLGcrXCJFXCIpLG09dGhpcy5jbG9uZSgpLGIoZikmJihmPWIoZiksbS5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpLG0uY29sbGFwc2UoKSxtLmluc2VydE5vZGUoaCkpO209dGhpcy5jbG9uZSgpO2IoZCkmJihmPWIoZCksbS5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpO20uY29sbGFwc2UoITApO20uaW5zZXJ0Tm9kZShlKTtoPyh0aGlzLnNldFN0YXJ0QWZ0ZXIoZSksdGhpcy5zZXRFbmRCZWZvcmUoaCkpOnRoaXMubW92ZVRvUG9zaXRpb24oZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3JldHVybntzdGFydE5vZGU6YT9nKyhjP1wiQ1wiOlwiU1wiKTplLGVuZE5vZGU6YT9nK1xuXCJFXCI6aCxzZXJpYWxpemFibGU6YSxjb2xsYXBzZWQ6Y319LGNyZWF0ZUJvb2ttYXJrMjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9YS5jb250YWluZXIsZj1hLm9mZnNldCxjO2M9Yjt2YXIgZT1mO2M9Yy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fDA9PT1lfHxlPT1jLmdldENoaWxkQ291bnQoKT8wOmMuZ2V0Q2hpbGQoZS0xKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmMuZ2V0Q2hpbGQoZSkudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUO2MmJihiPWIuZ2V0Q2hpbGQoZi0xKSxmPWIuZ2V0TGVuZ3RoKCkpO2lmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYwPGYpe2E6e2ZvcihjPWI7Zi0tOylpZihlPWMuZ2V0Q2hpbGQoZikuZ2V0SW5kZXgoITApLDA8PWUpe2Y9ZTticmVhayBhfWY9LTF9Zis9MX1pZihiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7Yz1iO2ZvcihlPTA7KGM9Yy5nZXRQcmV2aW91cygpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ7KWUrPVxuYy5nZXRUZXh0KCkucmVwbGFjZShDS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRSxcIlwiKS5sZW5ndGg7Yz1lO2IuaXNFbXB0eSgpPyhlPWIuZ2V0UHJldmlvdXMoZCksYz8oZj1jLGI9ZT9lLmdldE5leHQoKTpiLmdldFBhcmVudCgpLmdldEZpcnN0KCkpOihiPWIuZ2V0UGFyZW50KCksZj1lP2UuZ2V0SW5kZXgoITApKzE6MCkpOmYrPWN9YS5jb250YWluZXI9YjthLm9mZnNldD1mfWZ1bmN0aW9uIGIoYSxkKXt2YXIgZj1kLmdldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIik7aWYoZil7dmFyIGM9YS5jb250YWluZXI7Zi5lcXVhbHMoYykmJihhLm9mZnNldC09Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5GSUxMSU5HX0NIQVJfU0VRVUVOQ0UubGVuZ3RoLDA+PWEub2Zmc2V0JiYoYS5vZmZzZXQ9Yy5nZXRJbmRleCgpLGEuY29udGFpbmVyPWMuZ2V0UGFyZW50KCkpKX19dmFyIGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX1RFWFQsXG4hMCk7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBmPXRoaXMuY29sbGFwc2VkLGM9e2NvbnRhaW5lcjp0aGlzLnN0YXJ0Q29udGFpbmVyLG9mZnNldDp0aGlzLnN0YXJ0T2Zmc2V0fSxlPXtjb250YWluZXI6dGhpcy5lbmRDb250YWluZXIsb2Zmc2V0OnRoaXMuZW5kT2Zmc2V0fTtkJiYoYShjKSxiKGMsdGhpcy5yb290KSxmfHwoYShlKSxiKGUsdGhpcy5yb290KSkpO3JldHVybntzdGFydDpjLmNvbnRhaW5lci5nZXRBZGRyZXNzKGQpLGVuZDpmP251bGw6ZS5jb250YWluZXIuZ2V0QWRkcmVzcyhkKSxzdGFydE9mZnNldDpjLm9mZnNldCxlbmRPZmZzZXQ6ZS5vZmZzZXQsbm9ybWFsaXplZDpkLGNvbGxhcHNlZDpmLGlzMjohMH19fSgpLG1vdmVUb0Jvb2ttYXJrOmZ1bmN0aW9uKGEpe2lmKGEuaXMyKXt2YXIgYj10aGlzLmRvY3VtZW50LmdldEJ5QWRkcmVzcyhhLnN0YXJ0LGEubm9ybWFsaXplZCksZD1hLnN0YXJ0T2Zmc2V0LGY9YS5lbmQmJnRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuZW5kLFxuYS5ub3JtYWxpemVkKTthPWEuZW5kT2Zmc2V0O3RoaXMuc2V0U3RhcnQoYixkKTtmP3RoaXMuc2V0RW5kKGYsYSk6dGhpcy5jb2xsYXBzZSghMCl9ZWxzZSBiPShkPWEuc2VyaWFsaXphYmxlKT90aGlzLmRvY3VtZW50LmdldEJ5SWQoYS5zdGFydE5vZGUpOmEuc3RhcnROb2RlLGE9ZD90aGlzLmRvY3VtZW50LmdldEJ5SWQoYS5lbmROb2RlKTphLmVuZE5vZGUsdGhpcy5zZXRTdGFydEJlZm9yZShiKSxiLnJlbW92ZSgpLGE/KHRoaXMuc2V0RW5kQmVmb3JlKGEpLGEucmVtb3ZlKCkpOnRoaXMuY29sbGFwc2UoITApfSxnZXRCb3VuZGFyeU5vZGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuZW5kQ29udGFpbmVyLGQ9dGhpcy5zdGFydE9mZnNldCxmPXRoaXMuZW5kT2Zmc2V0LGM7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoYz1hLmdldENoaWxkQ291bnQoKSxjPmQpYT1hLmdldENoaWxkKGQpO2Vsc2UgaWYoMT5jKWE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTtcbmVsc2V7Zm9yKGE9YS4kO2EubGFzdENoaWxkOylhPWEubGFzdENoaWxkO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpO2E9YS5nZXROZXh0U291cmNlTm9kZSgpfHxhfWlmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGM9Yi5nZXRDaGlsZENvdW50KCksYz5mKWI9Yi5nZXRDaGlsZChmKS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITApO2Vsc2UgaWYoMT5jKWI9Yi5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTtlbHNle2ZvcihiPWIuJDtiLmxhc3RDaGlsZDspYj1iLmxhc3RDaGlsZDtiPW5ldyBDS0VESVRPUi5kb20ubm9kZShiKX1hLmdldFBvc2l0aW9uKGIpJkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmKGE9Yik7cmV0dXJue3N0YXJ0Tm9kZTphLGVuZE5vZGU6Yn19LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5zdGFydENvbnRhaW5lcixmPXRoaXMuZW5kQ29udGFpbmVyLGQ9ZC5lcXVhbHMoZik/YSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxudGhpcy5zdGFydE9mZnNldD09dGhpcy5lbmRPZmZzZXQtMT9kLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpOmQ6ZC5nZXRDb21tb25BbmNlc3RvcihmKTtyZXR1cm4gYiYmIWQuaXM/ZC5nZXRQYXJlbnQoKTpkfSxvcHRpbWl6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLnN0YXJ0T2Zmc2V0O2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj9iPj1hLmdldExlbmd0aCgpJiZ0aGlzLnNldFN0YXJ0QWZ0ZXIoYSk6dGhpcy5zZXRTdGFydEJlZm9yZShhKSk7YT10aGlzLmVuZENvbnRhaW5lcjtiPXRoaXMuZW5kT2Zmc2V0O2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj9iPj1hLmdldExlbmd0aCgpJiZ0aGlzLnNldEVuZEFmdGVyKGEpOnRoaXMuc2V0RW5kQmVmb3JlKGEpKX0sb3B0aW1pemVCb29rbWFyazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLmVuZENvbnRhaW5lcjthLmlzJiZhLmlzKFwic3BhblwiKSYmXG5hLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7YiYmYi5pcyYmYi5pcyhcInNwYW5cIikmJmIuZGF0YShcImNrZS1ib29rbWFya1wiKSYmdGhpcy5zZXRFbmRBdChiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9LHRyaW06ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLnN0YXJ0Q29udGFpbmVyLGY9dGhpcy5zdGFydE9mZnNldCxjPXRoaXMuY29sbGFwc2VkO2lmKCghYXx8YykmJmQmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtpZihmKWlmKGY+PWQuZ2V0TGVuZ3RoKCkpZj1kLmdldEluZGV4KCkrMSxkPWQuZ2V0UGFyZW50KCk7ZWxzZXt2YXIgZT1kLnNwbGl0KGYpLGY9ZC5nZXRJbmRleCgpKzEsZD1kLmdldFBhcmVudCgpO3RoaXMuc3RhcnRDb250YWluZXIuZXF1YWxzKHRoaXMuZW5kQ29udGFpbmVyKT90aGlzLnNldEVuZChlLHRoaXMuZW5kT2Zmc2V0LXRoaXMuc3RhcnRPZmZzZXQpOmQuZXF1YWxzKHRoaXMuZW5kQ29udGFpbmVyKSYmXG4odGhpcy5lbmRPZmZzZXQrPTEpfWVsc2UgZj1kLmdldEluZGV4KCksZD1kLmdldFBhcmVudCgpO3RoaXMuc2V0U3RhcnQoZCxmKTtpZihjKXt0aGlzLmNvbGxhcHNlKCEwKTtyZXR1cm59fWQ9dGhpcy5lbmRDb250YWluZXI7Zj10aGlzLmVuZE9mZnNldDtifHxjfHwhZHx8ZC50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFR8fChmPyhmPj1kLmdldExlbmd0aCgpfHxkLnNwbGl0KGYpLGY9ZC5nZXRJbmRleCgpKzEpOmY9ZC5nZXRJbmRleCgpLGQ9ZC5nZXRQYXJlbnQoKSx0aGlzLnNldEVuZChkLGYpKX0sZW5sYXJnZTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9udWxsOmF9dmFyIGY9bmV3IFJlZ0V4cCgvW15cXHNcXHVmZWZmXS8pO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLkVOTEFSR0VfSU5MSU5FOnZhciBjPTE7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQ6dmFyIGU9XG5mdW5jdGlvbihhLGIpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZyk7ZC5zZXRTdGFydChhLGIpO2Quc2V0RW5kQXQoZyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKSxjO2ZvcihkLmd1YXJkPWZ1bmN0aW9uKGEpe3JldHVybiEoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXNCbG9ja0JvdW5kYXJ5KCkpfTtjPWQubmV4dCgpOyl7aWYoYy50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQpcmV0dXJuITE7SD1jIT1hP2MuZ2V0VGV4dCgpOmMuc3Vic3RyaW5nKGIpO2lmKGYudGVzdChIKSlyZXR1cm4hMX1yZXR1cm4hMH07aWYodGhpcy5jb2xsYXBzZWQpYnJlYWs7dmFyIGg9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpLGc9dGhpcy5yb290LG0sayxsLHYsRix5PSExLEMsSDtDPXRoaXMuc3RhcnRDb250YWluZXI7dmFyIEc9dGhpcy5zdGFydE9mZnNldDtDLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9cbihHJiYoQz0hQ0tFRElUT1IudG9vbHMudHJpbShDLnN1YnN0cmluZygwLEcpKS5sZW5ndGgmJkMseT0hIUMpLEMmJigodj1DLmdldFByZXZpb3VzKCkpfHwobD1DLmdldFBhcmVudCgpKSkpOihHJiYodj1DLmdldENoaWxkKEctMSl8fEMuZ2V0TGFzdCgpKSx2fHwobD1DKSk7Zm9yKGw9ZChsKTtsfHx2Oyl7aWYobCYmIXYpeyFGJiZsLmVxdWFscyhoKSYmKEY9ITApO2lmKGM/bC5pc0Jsb2NrQm91bmRhcnkoKTohZy5jb250YWlucyhsKSlicmVhazt5JiZcImlubGluZVwiPT1sLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpfHwoeT0hMSxGP209bDp0aGlzLnNldFN0YXJ0QmVmb3JlKGwpKTt2PWwuZ2V0UHJldmlvdXMoKX1mb3IoO3Y7KWlmKEM9ITEsdi50eXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQpdj12LmdldFByZXZpb3VzKCk7ZWxzZXtpZih2LnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVClIPXYuZ2V0VGV4dCgpLGYudGVzdChIKSYmKHY9bnVsbCksQz0vW1xcc1xcdWZlZmZdJC8udGVzdChIKTtcbmVsc2UgaWYoKHYuJC5vZmZzZXRXaWR0aD4oQ0tFRElUT1IuZW52LndlYmtpdD8xOjApfHxiJiZ2LmlzKFwiYnJcIikpJiYhdi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKWlmKHkmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbdi5nZXROYW1lKCldKXtIPXYuZ2V0VGV4dCgpO2lmKGYudGVzdChIKSl2PW51bGw7ZWxzZSBmb3IodmFyIEc9di4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSxMPTAsRTtFPUdbTCsrXTspaWYoIUNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbRS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7dj1udWxsO2JyZWFrfXYmJihDPSEhSC5sZW5ndGgpfWVsc2Ugdj1udWxsO0MmJih5P0Y/bT1sOmwmJnRoaXMuc2V0U3RhcnRCZWZvcmUobCk6eT0hMCk7aWYodil7Qz12LmdldFByZXZpb3VzKCk7aWYoIWwmJiFDKXtsPXY7dj1udWxsO2JyZWFrfXY9Q31lbHNlIGw9bnVsbH1sJiYobD1kKGwuZ2V0UGFyZW50KCkpKX1DPXRoaXMuZW5kQ29udGFpbmVyO0c9dGhpcy5lbmRPZmZzZXQ7XG5sPXY9bnVsbDtGPXk9ITE7Qy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/Q0tFRElUT1IudG9vbHMudHJpbShDLnN1YnN0cmluZyhHKSkubGVuZ3RoP3k9ITA6KHk9IUMuZ2V0TGVuZ3RoKCksRz09Qy5nZXRMZW5ndGgoKT8odj1DLmdldE5leHQoKSl8fChsPUMuZ2V0UGFyZW50KCkpOmUoQyxHKSYmKGw9Qy5nZXRQYXJlbnQoKSkpOih2PUMuZ2V0Q2hpbGQoRykpfHwobD1DKTtmb3IoO2x8fHY7KXtpZihsJiYhdil7IUYmJmwuZXF1YWxzKGgpJiYoRj0hMCk7aWYoYz9sLmlzQmxvY2tCb3VuZGFyeSgpOiFnLmNvbnRhaW5zKGwpKWJyZWFrO3kmJlwiaW5saW5lXCI9PWwuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIil8fCh5PSExLEY/az1sOmwmJnRoaXMuc2V0RW5kQWZ0ZXIobCkpO3Y9bC5nZXROZXh0KCl9Zm9yKDt2Oyl7Qz0hMTtpZih2LnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVClIPXYuZ2V0VGV4dCgpLGUodiwwKXx8KHY9bnVsbCksQz0vXltcXHNcXHVmZWZmXS8udGVzdChIKTtlbHNlIGlmKHYudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKCgwPHYuJC5vZmZzZXRXaWR0aHx8YiYmdi5pcyhcImJyXCIpKSYmIXYuZGF0YShcImNrZS1ib29rbWFya1wiKSlpZih5JiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3YuZ2V0TmFtZSgpXSl7SD12LmdldFRleHQoKTtpZihmLnRlc3QoSCkpdj1udWxsO2Vsc2UgZm9yKEc9di4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSxMPTA7RT1HW0wrK107KWlmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W0Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe3Y9bnVsbDticmVha312JiYoQz0hIUgubGVuZ3RoKX1lbHNlIHY9bnVsbH1lbHNlIEM9MTtDJiZ5JiYoRj9rPWw6dGhpcy5zZXRFbmRBZnRlcihsKSk7aWYodil7Qz12LmdldE5leHQoKTtpZighbCYmIUMpe2w9djt2PW51bGw7YnJlYWt9dj1DfWVsc2UgbD1udWxsfWwmJihsPWQobC5nZXRQYXJlbnQoKSkpfW0mJmsmJihoPW0uY29udGFpbnMoayk/azptLHRoaXMuc2V0U3RhcnRCZWZvcmUoaCksXG50aGlzLnNldEVuZEFmdGVyKGgpKTticmVhaztjYXNlIENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFM6Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUzpsPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtnPXRoaXMucm9vdDtsLnNldFN0YXJ0QXQoZyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7bC5zZXRFbmQodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnN0YXJ0T2Zmc2V0KTtsPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpO3ZhciBELE8sSz1DS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnkoYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM/e2JyOjF9Om51bGwpLE09bnVsbCxBPWZ1bmN0aW9uKGEpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZhbHNlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKWlmKE0pe2lmKE0uZXF1YWxzKGEpKXtNPW51bGw7cmV0dXJufX1lbHNlIE09XG5hO2Vsc2UgaWYoTSlyZXR1cm47dmFyIGI9SyhhKTtifHwoRD1hKTtyZXR1cm4gYn0sYz1mdW5jdGlvbihhKXt2YXIgYj1BKGEpOyFiJiZhLmlzJiZhLmlzKFwiYnJcIikmJihPPWEpO3JldHVybiBifTtsLmd1YXJkPUE7bD1sLmxhc3RCYWNrd2FyZCgpO0Q9RHx8Zzt0aGlzLnNldFN0YXJ0QXQoRCwhRC5pcyhcImJyXCIpJiYoIWwmJnRoaXMuY2hlY2tTdGFydE9mQmxvY2soKXx8bCYmRC5jb250YWlucyhsKSk/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtpZihhPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUyl7bD10aGlzLmNsb25lKCk7bD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihsKTt2YXIgTj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksSj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCk7bC5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIU4oYSkmJiFKKGEpfTtpZigobD1sLnByZXZpb3VzKCkpJiZcbmwudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZsLmlzKFwiYnJcIikpYnJlYWt9bD10aGlzLmNsb25lKCk7bC5jb2xsYXBzZSgpO2wuc2V0RW5kQXQoZyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtsPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpO2wuZ3VhcmQ9YT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM/YzpBO0Q9TT1PPW51bGw7bD1sLmxhc3RGb3J3YXJkKCk7RD1EfHxnO3RoaXMuc2V0RW5kQXQoRCwhbCYmdGhpcy5jaGVja0VuZE9mQmxvY2soKXx8bCYmRC5jb250YWlucyhsKT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7TyYmdGhpcy5zZXRFbmRBZnRlcihPKX19LHNocmluazpmdW5jdGlvbihhLGIsZCl7dmFyIGY9XCJib29sZWFuXCI9PT10eXBlb2YgZD9kOmQmJlwiYm9vbGVhblwiPT09dHlwZW9mIGQuc2hyaW5rT25CbG9ja0JvdW5kYXJ5P2Quc2hyaW5rT25CbG9ja0JvdW5kYXJ5OlxuITAsYz1kJiZkLnNraXBCb2d1cztpZighdGhpcy5jb2xsYXBzZWQpe2E9YXx8Q0tFRElUT1IuU0hSSU5LX1RFWFQ7dmFyIGU9dGhpcy5jbG9uZSgpLGg9dGhpcy5zdGFydENvbnRhaW5lcixnPXRoaXMuZW5kQ29udGFpbmVyLGw9dGhpcy5zdGFydE9mZnNldCxtPXRoaXMuZW5kT2Zmc2V0LGs9ZD0xO2gmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYobD9sPj1oLmdldExlbmd0aCgpP2Uuc2V0U3RhcnRBZnRlcihoKTooZS5zZXRTdGFydEJlZm9yZShoKSxkPTApOmUuc2V0U3RhcnRCZWZvcmUoaCkpO2cmJmcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYobT9tPj1nLmdldExlbmd0aCgpP2Uuc2V0RW5kQWZ0ZXIoZyk6KGUuc2V0RW5kQWZ0ZXIoZyksaz0wKTplLnNldEVuZEJlZm9yZShnKSk7dmFyIGU9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSksdj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksRj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7ZS5ldmFsdWF0b3I9XG5mdW5jdGlvbihiKXtyZXR1cm4gYi50eXBlPT0oYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/Q0tFRElUT1IuTk9ERV9FTEVNRU5UOkNLRURJVE9SLk5PREVfVEVYVCl9O3ZhciB5O2UuZ3VhcmQ9ZnVuY3Rpb24oYixkKXtpZihjJiZGKGIpfHx2KGIpKXJldHVybiEwO2lmKGE9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8ZCYmYi5lcXVhbHMoeSl8fCExPT09ZiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KCl8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4hMTtkfHxiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8KHk9Yik7cmV0dXJuITB9O2QmJihoPWVbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XCJsYXN0Rm9yd2FyZFwiOlwibmV4dFwiXSgpKSYmdGhpcy5zZXRTdGFydEF0KGgsYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7ayYmKGUucmVzZXQoKSwoZT1lW2E9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP1wibGFzdEJhY2t3YXJkXCI6XCJwcmV2aW91c1wiXSgpKSYmdGhpcy5zZXRFbmRBdChlLGI/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTtyZXR1cm4hKCFkJiYhayl9fSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMub3B0aW1pemVCb29rbWFyaygpO3RoaXMudHJpbSghMSwhMCk7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixkPWIuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk7ZD9hLmluc2VydEJlZm9yZShkKTpiLmFwcGVuZChhKTthLmdldFBhcmVudCgpJiZhLmdldFBhcmVudCgpLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikmJnRoaXMuZW5kT2Zmc2V0Kys7dGhpcy5zZXRTdGFydEJlZm9yZShhKX0sbW92ZVRvUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFN0YXJ0QXQoYSxcbmIpO3RoaXMuY29sbGFwc2UoITApfSxtb3ZlVG9SYW5nZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuc3RhcnRDb250YWluZXIsYS5zdGFydE9mZnNldCk7dGhpcy5zZXRFbmQoYS5lbmRDb250YWluZXIsYS5lbmRPZmZzZXQpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLDApO3RoaXMuc2V0RW5kKGEsYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/YS5nZXRMZW5ndGgoKTphLmdldENoaWxkQ291bnQoKSl9LHNldFN0YXJ0OmZ1bmN0aW9uKGEsYil7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYS5nZXROYW1lKCldJiYoYj1hLmdldEluZGV4KCksYT1hLmdldFBhcmVudCgpKTt0aGlzLl9zZXRTdGFydENvbnRhaW5lcihhKTt0aGlzLnN0YXJ0T2Zmc2V0PWI7dGhpcy5lbmRDb250YWluZXJ8fCh0aGlzLl9zZXRFbmRDb250YWluZXIoYSksdGhpcy5lbmRPZmZzZXQ9Yik7Yyh0aGlzKX0sc2V0RW5kOmZ1bmN0aW9uKGEsXG5iKXthLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ0tFRElUT1IuZHRkLiRlbXB0eVthLmdldE5hbWUoKV0mJihiPWEuZ2V0SW5kZXgoKSsxLGE9YS5nZXRQYXJlbnQoKSk7dGhpcy5fc2V0RW5kQ29udGFpbmVyKGEpO3RoaXMuZW5kT2Zmc2V0PWI7dGhpcy5zdGFydENvbnRhaW5lcnx8KHRoaXMuX3NldFN0YXJ0Q29udGFpbmVyKGEpLHRoaXMuc3RhcnRPZmZzZXQ9Yik7Yyh0aGlzKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKzEpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkrMSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldEVuZChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSl9LHNldFN0YXJ0QXQ6ZnVuY3Rpb24oYSxcbmIpe3N3aXRjaChiKXtjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOnRoaXMuc2V0U3RhcnQoYSwwKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6YS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/dGhpcy5zZXRTdGFydChhLGEuZ2V0TGVuZ3RoKCkpOnRoaXMuc2V0U3RhcnQoYSxhLmdldENoaWxkQ291bnQoKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRTdGFydEJlZm9yZShhKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldFN0YXJ0QWZ0ZXIoYSl9Yyh0aGlzKX0sc2V0RW5kQXQ6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYil7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldEVuZChhLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDphLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldEVuZChhLFxuYS5nZXRMZW5ndGgoKSk6dGhpcy5zZXRFbmQoYSxhLmdldENoaWxkQ291bnQoKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRFbmRCZWZvcmUoYSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6dGhpcy5zZXRFbmRBZnRlcihhKX1jKHRoaXMpfSxmaXhCbG9jazpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuY3JlYXRlQm9va21hcmsoKSxmPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKTt0aGlzLmNvbGxhcHNlKGEpO3RoaXMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKTt0aGlzLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGYpO2YudHJpbSgpO3RoaXMuaW5zZXJ0Tm9kZShmKTt2YXIgYz1mLmdldEJvZ3VzKCk7YyYmYy5yZW1vdmUoKTtmLmFwcGVuZEJvZ3VzKCk7dGhpcy5tb3ZlVG9Cb29rbWFyayhkKTtyZXR1cm4gZn0sc3BsaXRCbG9jazpmdW5jdGlvbihhLGIpe3ZhciBkPVxubmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCksYz1kLmJsb2NrLGU9Zi5ibG9jayxoPW51bGw7aWYoIWQuYmxvY2tMaW1pdC5lcXVhbHMoZi5ibG9ja0xpbWl0KSlyZXR1cm4gbnVsbDtcImJyXCIhPWEmJihjfHwoYz10aGlzLmZpeEJsb2NrKCEwLGEpLGU9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KSkuYmxvY2spLGV8fChlPXRoaXMuZml4QmxvY2soITEsYSkpKTtkPWMmJnRoaXMuY2hlY2tTdGFydE9mQmxvY2soKTtmPWUmJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCk7dGhpcy5kZWxldGVDb250ZW50cygpO2MmJmMuZXF1YWxzKGUpJiYoZj8oaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSx0aGlzLm1vdmVUb1Bvc2l0aW9uKGUsXG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGU9bnVsbCk6ZD8oaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSx0aGlzLm1vdmVUb1Bvc2l0aW9uKGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxjPW51bGwpOihlPXRoaXMuc3BsaXRFbGVtZW50KGMsYnx8ITEpLGMuaXMoXCJ1bFwiLFwib2xcIil8fGMuYXBwZW5kQm9ndXMoKSkpO3JldHVybntwcmV2aW91c0Jsb2NrOmMsbmV4dEJsb2NrOmUsd2FzU3RhcnRPZkJsb2NrOmQsd2FzRW5kT2ZCbG9jazpmLGVsZW1lbnRQYXRoOmh9fSxzcGxpdEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5jb2xsYXBzZWQpcmV0dXJuIG51bGw7dGhpcy5zZXRFbmRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3ZhciBkPXRoaXMuZXh0cmFjdENvbnRlbnRzKCExLGJ8fCExKSxmPWEuY2xvbmUoITEsYnx8ITEpO2QuYXBwZW5kVG8oZik7Zi5pbnNlcnRBZnRlcihhKTtcbnRoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3JldHVybiBmfSxyZW1vdmVFbXB0eUJsb2Nrc0F0RW5kOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIGIoZil8fGQoZil8fGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCl8fGEuaXMoXCJ0YWJsZVwiKSYmZi5pcyhcImNhcHRpb25cIik/ITE6ITB9fXZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxkPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEpO3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGQ9dGhpcy5jcmVhdGVCb29rbWFyaygpLGY9dGhpc1tiP1wiZW5kUGF0aFwiOlwic3RhcnRQYXRoXCJdKCksYz1mLmJsb2NrfHxmLmJsb2NrTGltaXQsZTtjJiYhYy5lcXVhbHMoZi5yb290KSYmIWMuZ2V0Rmlyc3QoYShjKSk7KWU9Yy5nZXRQYXJlbnQoKSx0aGlzW2I/XCJzZXRFbmRBdFwiOlxuXCJzZXRTdGFydEF0XCJdKGMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxjLnJlbW92ZSgxKSxjPWU7dGhpcy5tb3ZlVG9Cb29rbWFyayhkKX19KCksc3RhcnRQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpfSxlbmRQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KX0sY2hlY2tCb3VuZGFyeU9mRWxlbWVudDpmdW5jdGlvbihhLGQpe3ZhciBmPWQ9PUNLRURJVE9SLlNUQVJULGM9dGhpcy5jbG9uZSgpO2MuY29sbGFwc2UoZik7Y1tmP1wic2V0U3RhcnRBdFwiOlwic2V0RW5kQXRcIl0oYSxmP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2M9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyk7Yy5ldmFsdWF0b3I9YihmKTtyZXR1cm4gY1tmP1xuXCJjaGVja0JhY2t3YXJkXCI6XCJjaGVja0ZvcndhcmRcIl0oKX0sY2hlY2tTdGFydE9mQmxvY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5zdGFydE9mZnNldDtDS0VESVRPUi5lbnYuaWUmJmImJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1DS0VESVRPUi50b29scy5sdHJpbShhLnN1YnN0cmluZygwLGIpKSxrLnRlc3QoYSkmJnRoaXMudHJpbSgwLDEpKTt0aGlzLnRyaW0oKTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpO2I9dGhpcy5jbG9uZSgpO2IuY29sbGFwc2UoITApO2Iuc2V0U3RhcnRBdChhLmJsb2NrfHxhLmJsb2NrTGltaXQsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYik7YS5ldmFsdWF0b3I9ZSgpO3JldHVybiBhLmNoZWNrQmFja3dhcmQoKX0sY2hlY2tFbmRPZkJsb2NrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbmRDb250YWluZXIsXG5iPXRoaXMuZW5kT2Zmc2V0O0NLRURJVE9SLmVudi5pZSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPUNLRURJVE9SLnRvb2xzLnJ0cmltKGEuc3Vic3RyaW5nKGIpKSxrLnRlc3QoYSkmJnRoaXMudHJpbSgxLDApKTt0aGlzLnRyaW0oKTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KTtiPXRoaXMuY2xvbmUoKTtiLmNvbGxhcHNlKCExKTtiLnNldEVuZEF0KGEuYmxvY2t8fGEuYmxvY2tMaW1pdCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2EuZXZhbHVhdG9yPWUoKTtyZXR1cm4gYS5jaGVja0ZvcndhcmQoKX0sZ2V0UHJldmlvdXNOb2RlOmZ1bmN0aW9uKGEsYixkKXt2YXIgZj10aGlzLmNsb25lKCk7Zi5jb2xsYXBzZSgxKTtmLnNldFN0YXJ0QXQoZHx8dGhpcy5yb290LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpO1xuZC5ldmFsdWF0b3I9YTtkLmd1YXJkPWI7cmV0dXJuIGQucHJldmlvdXMoKX0sZ2V0TmV4dE5vZGU6ZnVuY3Rpb24oYSxiLGQpe3ZhciBmPXRoaXMuY2xvbmUoKTtmLmNvbGxhcHNlKCk7Zi5zZXRFbmRBdChkfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKTtkLmV2YWx1YXRvcj1hO2QuZ3VhcmQ9YjtyZXR1cm4gZC5uZXh0KCl9LGNoZWNrUmVhZE9ubHk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7Zm9yKDthOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKFwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIikmJiFhLmRhdGEoXCJja2UtZWRpdGFibGVcIikpcmV0dXJuIDA7aWYoYS5pcyhcImh0bWxcIil8fFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmKGEuY29udGFpbnMoYil8fGEuZXF1YWxzKGIpKSlicmVha31hPWEuZ2V0UGFyZW50KCl9cmV0dXJuIDF9XG5yZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLnN0YXJ0Q29udGFpbmVyLGQ9dGhpcy5lbmRDb250YWluZXI7cmV0dXJuIShhKGIsZCkmJmEoZCxiKSl9fSgpLG1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzRWRpdGFibGUoITEpKXJldHVybiB0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSwhMDtmb3IodmFyIGQ9MDthOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2ImJnRoaXMuZW5kQ29udGFpbmVyJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpJiZrLnRlc3QoYS5nZXRUZXh0KCkpP3RoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpOnRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7ZD0xO2JyZWFrfWlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGEuaXNFZGl0YWJsZSgpKXRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGQ9MTtlbHNlIGlmKGImJmEuaXMoXCJiclwiKSYmdGhpcy5lbmRDb250YWluZXImJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCkpdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7ZWxzZSBpZihcImZhbHNlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiZhLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKXJldHVybiB0aGlzLnNldFN0YXJ0QmVmb3JlKGEpLHRoaXMuc2V0RW5kQWZ0ZXIoYSksITA7dmFyIGM9YSxlPWQsaD12b2lkIDA7Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXNFZGl0YWJsZSghMSkmJlxuKGg9Y1tiP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oZikpO2V8fGh8fChoPWNbYj9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGYpKTthPWh9cmV0dXJuISFkfSxtb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBkLGY9MCxjLGUsaD1bQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5ELENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVF07YT8oZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCksZC5tb3ZlVG9Qb3NpdGlvbihhLGhbYj8wOjFdKSk6ZD10aGlzLmNsb25lKCk7aWYoYSYmIWEuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykpZj0xO2Vsc2UgaWYoYz1kW2I/XCJnZXROZXh0RWRpdGFibGVOb2RlXCI6XCJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZVwiXSgpKWY9MSwoZT1jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmMuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykmJlwiZmFsc2VcIj09Yy5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XG4oZC5zZXRTdGFydEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxkLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk6IUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZlJiZjLmlzKENLRURJVE9SLmRvbS53YWxrZXIudmFsaWRFbXB0eUJsb2NrQ29udGFpbmVycyk/KGQuc2V0RW5kKGMsMCksZC5jb2xsYXBzZSgpKTpkLm1vdmVUb1Bvc2l0aW9uKGMsaFtiPzE6MF0pO2YmJnRoaXMubW92ZVRvUmFuZ2UoZCk7cmV0dXJuISFmfSxtb3ZlVG9FbGVtZW50RWRpdFN0YXJ0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGEpfSxtb3ZlVG9FbGVtZW50RWRpdEVuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihhLCEwKX0sZ2V0RW5jbG9zZWROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jbG9uZSgpO2Eub3B0aW1pemUoKTtpZihhLnN0YXJ0Q29udGFpbmVyLnR5cGUhPVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UfHxhLmVuZENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSksYj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKSxkPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApO2EuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBkKGEpJiZiKGEpfTt2YXIgZj1hLm5leHQoKTthLnJlc2V0KCk7cmV0dXJuIGYmJmYuZXF1YWxzKGEucHJldmlvdXMoKSk/ZjpudWxsfSxnZXRUb3VjaGVkU3RhcnROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcjtyZXR1cm4gdGhpcy5jb2xsYXBzZWR8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2E6YS5nZXRDaGlsZCh0aGlzLnN0YXJ0T2Zmc2V0KXx8YX0sZ2V0VG91Y2hlZEVuZE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4gdGhpcy5jb2xsYXBzZWR8fFxuYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/YTphLmdldENoaWxkKHRoaXMuZW5kT2Zmc2V0LTEpfHxhfSxnZXROZXh0RWRpdGFibGVOb2RlOmgoKSxnZXRQcmV2aW91c0VkaXRhYmxlTm9kZTpoKDEpLF9nZXRUYWJsZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7YT1hfHx7dGQ6MSx0aDoxLHRyOjEsdGJvZHk6MSx0aGVhZDoxLHRmb290OjEsdGFibGU6MX07dmFyIGI9dGhpcy5nZXRUb3VjaGVkU3RhcnROb2RlKCksZD10aGlzLmdldFRvdWNoZWRFbmROb2RlKCksZj1iLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLGQ9ZC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKTtyZXR1cm4gZiYmIXRoaXMucm9vdC5jb250YWlucyhmKT9udWxsOnRoaXMuZ2V0RW5jbG9zZWROb2RlKCk/dGhpcy5nZXRFbmNsb3NlZE5vZGUoKS5nZXRBc2NlbmRhbnQoYSwhMCk6ZiYmZCYmKGYuZXF1YWxzKGQpfHxmLmNvbnRhaW5zKGQpfHxkLmNvbnRhaW5zKGYpKT9iLmdldEFzY2VuZGFudChhLCEwKTpudWxsfSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbigpe3ZhciBhPVxubmV3IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFwiXFx4M2NzcGFuXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXCIsdGhpcy5kb2N1bWVudCksYixkLGYsYz10aGlzLmNsb25lKCk7Yy5vcHRpbWl6ZSgpOyhmPWMuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKT8oZD1jLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKSxiPWMuc3RhcnRDb250YWluZXIuc3BsaXQoYy5zdGFydE9mZnNldCksYS5pbnNlcnRBZnRlcihjLnN0YXJ0Q29udGFpbmVyKSk6Yy5pbnNlcnROb2RlKGEpO2Euc2Nyb2xsSW50b1ZpZXcoKTtmJiYoYy5zdGFydENvbnRhaW5lci5zZXRUZXh0KGQpLGIucmVtb3ZlKCkpO2EucmVtb3ZlKCl9LGdldENsaWVudFJlY3RzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBkPUNLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhfSksZj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGIucm9vdCksYyxlLFxuaDtiLnN0YXJ0Q29udGFpbmVyIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJihlPTA9PT1iLnN0YXJ0T2Zmc2V0JiZiLnN0YXJ0Q29udGFpbmVyLmhhc0F0dHJpYnV0ZShcImRhdGEtd2lkZ2V0XCIpKTtiLmVuZENvbnRhaW5lciBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50JiYoaD0oaD1iLmVuZE9mZnNldD09PShiLmVuZENvbnRhaW5lci5nZXRDaGlsZENvdW50P2IuZW5kQ29udGFpbmVyLmdldENoaWxkQ291bnQoKTpiLmVuZENvbnRhaW5lci5sZW5ndGgpKSYmYi5lbmRDb250YWluZXIuaGFzQXR0cmlidXRlKFwiZGF0YS13aWRnZXRcIikpO2UmJmYuc2V0U3RhcnQoYi5zdGFydENvbnRhaW5lci5nZXRQYXJlbnQoKSxiLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCkpO2gmJmYuc2V0RW5kKGIuZW5kQ29udGFpbmVyLmdldFBhcmVudCgpLGIuZW5kQ29udGFpbmVyLmdldEluZGV4KCkrMSk7aWYoZXx8aCliPWY7Zj1iLmNsb25lQ29udGVudHMoKS5maW5kKFwiW2RhdGEtY2tlLXdpZGdldC1pZF1cIikudG9BcnJheSgpO1xuaWYoZj1DS0VESVRPUi50b29scy5hcnJheS5tYXAoZixmdW5jdGlvbihhKXt2YXIgZD1iLnJvb3QuZWRpdG9yO2E9YS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQtaWRcIik7cmV0dXJuIGQud2lkZ2V0cy5pbnN0YW5jZXNbYV0uZWxlbWVudH0pKXJldHVybiBmPUNLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChmLGZ1bmN0aW9uKGEpe3ZhciBiO2I9YS5nZXRQYXJlbnQoKS5oYXNDbGFzcyhcImNrZV93aWRnZXRfd3JhcHBlclwiKT9hLmdldFBhcmVudCgpOmE7Yz10aGlzLnJvb3QuZ2V0RG9jdW1lbnQoKS4kLmNyZWF0ZVJhbmdlKCk7Yy5zZXRTdGFydChiLmdldFBhcmVudCgpLiQsYi5nZXRJbmRleCgpKTtjLnNldEVuZChiLmdldFBhcmVudCgpLiQsYi5nZXRJbmRleCgpKzEpO2I9Yy5nZXRDbGllbnRSZWN0cygpO2Iud2lkZ2V0UmVjdD1hLmdldENsaWVudFJlY3QoKTtyZXR1cm4gYn0sYiksQ0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChmLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyl7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChkLFxuZnVuY3Rpb24oYixlKXt2YXIgaD1DS0VESVRPUi50b29scy5vYmplY3RDb21wYXJlKGFbY10sYik7aHx8KGg9Q0tFRElUT1IudG9vbHMub2JqZWN0Q29tcGFyZShhLndpZGdldFJlY3QsYikpO2gmJihBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoZCxlLGEubGVuZ3RoLWMsYS53aWRnZXRSZWN0KSxmPSEwKX0pO2Z8fChjPGQubGVuZ3RoLTE/YihjKzEpOmQucHVzaChhLndpZGdldFJlY3QpKX12YXIgZjtiKDApfSksZH1mdW5jdGlvbiBiKGEsZCxjKXt2YXIgZTtkLmNvbGxhcHNlZD9jLnN0YXJ0Q29udGFpbmVyIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/KGE9Yy5jaGVja1N0YXJ0T2ZCbG9jaygpLGU9bmV3IENLRURJVE9SLmRvbS50ZXh0KFwi4oCLXCIpLGE/Yy5zdGFydENvbnRhaW5lci5hcHBlbmQoZSwhMCk6MD09PWMuc3RhcnRPZmZzZXQ/ZS5pbnNlcnRCZWZvcmUoYy5zdGFydENvbnRhaW5lci5nZXRGaXJzdCgpKTooYz1jLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkcmVuKCkuZ2V0SXRlbShjLnN0YXJ0T2Zmc2V0LVxuMSksZS5pbnNlcnRBZnRlcihjKSksZC5zZXRTdGFydChlLiQsMCksZC5zZXRFbmQoZS4kLDApLGE9ZC5nZXRDbGllbnRSZWN0cygpLGUucmVtb3ZlKCkpOmMuc3RhcnRDb250YWluZXIgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20udGV4dCYmKFwiXCI9PT1jLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKT8oYy5zdGFydENvbnRhaW5lci5zZXRUZXh0KFwi4oCLXCIpLGE9ZC5nZXRDbGllbnRSZWN0cygpLGMuc3RhcnRDb250YWluZXIuc2V0VGV4dChcIlwiKSk6YT1bZihjLmNyZWF0ZUJvb2ttYXJrKCkpXSk6YT1bZihjLmNyZWF0ZUJvb2ttYXJrKCkpXTtyZXR1cm4gYX1mdW5jdGlvbiBkKGEsYixmKXthPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhKTtiJiYoYT1DS0VESVRPUi50b29scy5nZXRBYnNvbHV0ZVJlY3RQb3NpdGlvbihmLmRvY3VtZW50LmdldFdpbmRvdygpLGEpKTshYS53aWR0aCYmKGEud2lkdGg9YS5yaWdodC1hLmxlZnQpOyFhLmhlaWdodCYmKGEuaGVpZ2h0PWEuYm90dG9tLWEudG9wKTtcbnJldHVybiBhfWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5zdGFydE5vZGU7YT1hLmVuZE5vZGU7dmFyIGQ7Yi5zZXRUZXh0KFwi4oCLXCIpO2IucmVtb3ZlU3R5bGUoXCJkaXNwbGF5XCIpO2E/KGEuc2V0VGV4dChcIuKAi1wiKSxhLnJlbW92ZVN0eWxlKFwiZGlzcGxheVwiKSxkPVtiLmdldENsaWVudFJlY3QoKSxhLmdldENsaWVudFJlY3QoKV0sYS5yZW1vdmUoKSk6ZD1bYi5nZXRDbGllbnRSZWN0KCksYi5nZXRDbGllbnRSZWN0KCldO2IucmVtb3ZlKCk7cmV0dXJue3JpZ2h0Ok1hdGgubWF4KGRbMF0ucmlnaHQsZFsxXS5yaWdodCksYm90dG9tOk1hdGgubWF4KGRbMF0uYm90dG9tLGRbMV0uYm90dG9tKSxsZWZ0Ok1hdGgubWluKGRbMF0ubGVmdCxkWzFdLmxlZnQpLHRvcDpNYXRoLm1pbihkWzBdLnRvcCxkWzFdLnRvcCksd2lkdGg6TWF0aC5hYnMoZFswXS5sZWZ0LWRbMV0ubGVmdCksaGVpZ2h0Ok1hdGgubWF4KGRbMF0uYm90dG9tLGRbMV0uYm90dG9tKS1NYXRoLm1pbihkWzBdLnRvcCxkWzFdLnRvcCl9fVxucmV0dXJuIHZvaWQgMCE9PXRoaXMuZG9jdW1lbnQuZ2V0U2VsZWN0aW9uP2Z1bmN0aW9uKGYpe3ZhciBjPXRoaXMucm9vdC5nZXREb2N1bWVudCgpLiQuY3JlYXRlUmFuZ2UoKSxlO2Muc2V0U3RhcnQodGhpcy5zdGFydENvbnRhaW5lci4kLHRoaXMuc3RhcnRPZmZzZXQpO2Muc2V0RW5kKHRoaXMuZW5kQ29udGFpbmVyLiQsdGhpcy5lbmRPZmZzZXQpO2U9Yy5nZXRDbGllbnRSZWN0cygpO2U9YShlLHRoaXMpO2UubGVuZ3RofHwoZT1iKGUsYyx0aGlzKSk7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEsZix0aGlzKX0sdGhpcyl9OmZ1bmN0aW9uKGEpe3JldHVybltkKGYodGhpcy5jcmVhdGVCb29rbWFyaygpKSxhLHRoaXMpXX19KCksX3NldFN0YXJ0Q29udGFpbmVyOmZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRDb250YWluZXI9YX0sX3NldEVuZENvbnRhaW5lcjpmdW5jdGlvbihhKXt0aGlzLmVuZENvbnRhaW5lcj1hfSxfZmluZDpmdW5jdGlvbihhLFxuYil7dmFyIGQ9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpLGY9dGhpcy5nZXRCb3VuZGFyeU5vZGVzKCksYz1bXSxlLGgsZyxsO2lmKGQmJmQuZmluZClmb3IoaD1kLmZpbmQoYSksZT0wO2U8aC5jb3VudCgpO2UrKylpZihkPWguZ2V0SXRlbShlKSxifHwhZC5pc1JlYWRPbmx5KCkpZz1kLmdldFBvc2l0aW9uKGYuc3RhcnROb2RlKSZDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8fGYuc3RhcnROb2RlLmVxdWFscyhkKSxsPWQuZ2V0UG9zaXRpb24oZi5lbmROb2RlKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcrQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEfHxmLmVuZE5vZGUuZXF1YWxzKGQpLGcmJmwmJmMucHVzaChkKTtyZXR1cm4gY319O0NLRURJVE9SLmRvbS5yYW5nZS5tZXJnZVJhbmdlcz1mdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKGEsZnVuY3Rpb24oYSxiKXt2YXIgZD1hW2EubGVuZ3RoLTFdLGY9ITE7Yj1iLmNsb25lKCk7XG5iLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTtpZihkKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGIucm9vdCksZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxlPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKTtjLnNldFN0YXJ0KGQuZW5kQ29udGFpbmVyLGQuZW5kT2Zmc2V0KTtjLnNldEVuZChiLnN0YXJ0Q29udGFpbmVyLGIuc3RhcnRPZmZzZXQpO2ZvcihjPWYubmV4dCgpO2UoYyl8fGIuZW5kQ29udGFpbmVyLmVxdWFscyhjKTspYz1mLm5leHQoKTtmPSFjfWY/ZC5zZXRFbmQoYi5lbmRDb250YWluZXIsYi5lbmRPZmZzZXQpOmEucHVzaChiKTtyZXR1cm4gYX0sW10pfX0pKCk7Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ9MTtDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EPTI7Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUPTM7Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EPTQ7Q0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UPVxuMTtDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTPTI7Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM9MztDS0VESVRPUi5FTkxBUkdFX0lOTElORT00O0NLRURJVE9SLlNUQVJUPTE7Q0tFRElUT1IuRU5EPTI7Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ9MTtDS0VESVRPUi5TSFJJTktfVEVYVD0yO1widXNlIHN0cmljdFwiOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYil7MT5hcmd1bWVudHMubGVuZ3RofHwodGhpcy5yYW5nZT1iLHRoaXMuZm9yY2VCckJyZWFrPTAsdGhpcy5lbmxhcmdlQnI9MSx0aGlzLmVuZm9yY2VSZWFsQmxvY2tzPTAsdGhpcy5ffHwodGhpcy5fPXt9KSl9ZnVuY3Rpb24gZyhiKXt2YXIgYT1bXTtiLmZvckVhY2goZnVuY3Rpb24oYil7aWYoXCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBhLnB1c2goYiksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7cmV0dXJuIGF9ZnVuY3Rpb24gZShiLGEsZCxjKXthOntudWxsPT1cbmMmJihjPWcoZCkpO2Zvcih2YXIgaDtoPWMuc2hpZnQoKTspaWYoaC5nZXREdGQoKS5wKXtjPXtlbGVtZW50OmgscmVtYWluaW5nOmN9O2JyZWFrIGF9Yz1udWxsfWlmKCFjKXJldHVybiAwO2lmKChoPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbYy5lbGVtZW50LmRhdGEoXCJja2UtZmlsdGVyXCIpXSkmJiFoLmNoZWNrKGEpKXJldHVybiBlKGIsYSxkLGMucmVtYWluaW5nKTthPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYy5lbGVtZW50KTthLnNlbGVjdE5vZGVDb250ZW50cyhjLmVsZW1lbnQpO2E9YS5jcmVhdGVJdGVyYXRvcigpO2EuZW5sYXJnZUJyPWIuZW5sYXJnZUJyO2EuZW5mb3JjZVJlYWxCbG9ja3M9Yi5lbmZvcmNlUmVhbEJsb2NrczthLmFjdGl2ZUZpbHRlcj1hLmZpbHRlcj1oO2IuXy5uZXN0ZWRFZGl0YWJsZT17ZWxlbWVudDpjLmVsZW1lbnQsY29udGFpbmVyOmQscmVtYWluaW5nOmMucmVtYWluaW5nLGl0ZXJhdG9yOmF9O3JldHVybiAxfWZ1bmN0aW9uIGIoYixhLGQpe2lmKCFhKXJldHVybiExO1xuYj1iLmNsb25lKCk7Yi5jb2xsYXBzZSghZCk7cmV0dXJuIGIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChhLGQ/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKX12YXIgaD0vXltcXHJcXG5cXHQgXSskLyxtPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLGw9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCksaz1mdW5jdGlvbihiKXtyZXR1cm4gbShiKSYmbChiKX0sZD17ZGQ6MSxkdDoxLGxpOjF9O2MucHJvdG90eXBlPXtnZXROZXh0UGFyYWdyYXBoOmZ1bmN0aW9uKGYpe3ZhciBhLGMsZyxsLHA7Zj1mfHxcInBcIjtpZih0aGlzLl8ubmVzdGVkRWRpdGFibGUpe2lmKGE9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmdldE5leHRQYXJhZ3JhcGgoZikpcmV0dXJuIHRoaXMuYWN0aXZlRmlsdGVyPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5hY3RpdmVGaWx0ZXIsYTt0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLmZpbHRlcjtpZihlKHRoaXMsZixcbnRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5jb250YWluZXIsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLnJlbWFpbmluZykpcmV0dXJuIHRoaXMuYWN0aXZlRmlsdGVyPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5hY3RpdmVGaWx0ZXIsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmdldE5leHRQYXJhZ3JhcGgoZik7dGhpcy5fLm5lc3RlZEVkaXRhYmxlPW51bGx9aWYoIXRoaXMucmFuZ2Uucm9vdC5nZXREdGQoKVtmXSlyZXR1cm4gbnVsbDtpZighdGhpcy5fLnN0YXJ0ZWQpe3ZhciBxPXRoaXMucmFuZ2UuY2xvbmUoKTtjPXEuc3RhcnRQYXRoKCk7dmFyIHU9cS5lbmRQYXRoKCksej0hcS5jb2xsYXBzZWQmJmIocSxjLmJsb2NrKSx0PSFxLmNvbGxhcHNlZCYmYihxLHUuYmxvY2ssMSk7cS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITApO3omJnEuc2V0U3RhcnRBdChjLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3QmJnEuc2V0RW5kQXQodS5ibG9jayxcbkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtjPXEuZW5kQ29udGFpbmVyLmhhc0FzY2VuZGFudChcInByZVwiLCEwKXx8cS5zdGFydENvbnRhaW5lci5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCk7cS5lbmxhcmdlKHRoaXMuZm9yY2VCckJyZWFrJiYhY3x8IXRoaXMuZW5sYXJnZUJyP0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTOkNLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO3EuY29sbGFwc2VkfHwoYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihxLmNsb25lKCkpLHU9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMCwhMCksYy5ldmFsdWF0b3I9dSx0aGlzLl8ubmV4dE5vZGU9Yy5uZXh0KCksYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihxLmNsb25lKCkpLGMuZXZhbHVhdG9yPXUsYz1jLnByZXZpb3VzKCksdGhpcy5fLmxhc3ROb2RlPWMuZ2V0TmV4dFNvdXJjZU5vZGUoITAsbnVsbCxxLnJvb3QpLHRoaXMuXy5sYXN0Tm9kZSYmdGhpcy5fLmxhc3ROb2RlLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbSh0aGlzLl8ubGFzdE5vZGUuZ2V0VGV4dCgpKSYmdGhpcy5fLmxhc3ROb2RlLmdldFBhcmVudCgpLmlzQmxvY2tCb3VuZGFyeSgpJiYodT10aGlzLnJhbmdlLmNsb25lKCksdS5tb3ZlVG9Qb3NpdGlvbih0aGlzLl8ubGFzdE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSx1LmNoZWNrRW5kT2ZCbG9jaygpJiYodT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHUuZW5kQ29udGFpbmVyLHUucm9vdCksdGhpcy5fLmxhc3ROb2RlPSh1LmJsb2NrfHx1LmJsb2NrTGltaXQpLmdldE5leHRTb3VyY2VOb2RlKCEwKSkpLHRoaXMuXy5sYXN0Tm9kZSYmcS5yb290LmNvbnRhaW5zKHRoaXMuXy5sYXN0Tm9kZSl8fCh0aGlzLl8ubGFzdE5vZGU9dGhpcy5fLmRvY0VuZE1hcmtlcj1xLmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksdGhpcy5fLmxhc3ROb2RlLmluc2VydEFmdGVyKGMpKSxxPW51bGwpO3RoaXMuXy5zdGFydGVkPVxuMTtjPXF9dT10aGlzLl8ubmV4dE5vZGU7cT10aGlzLl8ubGFzdE5vZGU7Zm9yKHRoaXMuXy5uZXh0Tm9kZT1udWxsO3U7KXt2YXIgej0wLHQ9dS5oYXNBc2NlbmRhbnQoXCJwcmVcIiksQj11LnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCx3PTA7aWYoQil1LnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmaC50ZXN0KHUuZ2V0VGV4dCgpKSYmKEI9MCk7ZWxzZXt2YXIgdj11LmdldE5hbWUoKTtpZihDS0VESVRPUi5kdGQuJGJsb2NrW3ZdJiZcImZhbHNlXCI9PXUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXthPXU7ZSh0aGlzLGYsYSk7YnJlYWt9ZWxzZSBpZih1LmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXQmJnticjoxfSkpe2lmKFwiYnJcIj09dilCPTE7ZWxzZSBpZighYyYmIXUuZ2V0Q2hpbGRDb3VudCgpJiZcImhyXCIhPXYpe2E9dTtnPXUuZXF1YWxzKHEpO2JyZWFrfWMmJihjLnNldEVuZEF0KHUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcblwiYnJcIiE9diYmKHRoaXMuXy5uZXh0Tm9kZT11KSk7ej0xfWVsc2V7aWYodS5nZXRGaXJzdCgpKXtjfHwoYz10aGlzLnJhbmdlLmNsb25lKCksYy5zZXRTdGFydEF0KHUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk7dT11LmdldEZpcnN0KCk7Y29udGludWV9Qj0xfX1CJiYhYyYmKGM9dGhpcy5yYW5nZS5jbG9uZSgpLGMuc2V0U3RhcnRBdCh1LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpO2c9KCF6fHxCKSYmdS5lcXVhbHMocSk7aWYoYyYmIXopZm9yKDshdS5nZXROZXh0KGspJiYhZzspe3Y9dS5nZXRQYXJlbnQoKTtpZih2LmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXQmJnticjoxfSkpe3o9MTtCPTA7Z3x8di5lcXVhbHMocSk7Yy5zZXRFbmRBdCh2LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2JyZWFrfXU9djtCPTE7Zz11LmVxdWFscyhxKTt3PTF9QiYmYy5zZXRFbmRBdCh1LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7XG51PXRoaXMuX2dldE5leHRTb3VyY2VOb2RlKHUsdyxxKTtpZigoZz0hdSl8fHomJmMpYnJlYWt9aWYoIWEpe2lmKCFjKXJldHVybiB0aGlzLl8uZG9jRW5kTWFya2VyJiZ0aGlzLl8uZG9jRW5kTWFya2VyLnJlbW92ZSgpLHRoaXMuXy5uZXh0Tm9kZT1udWxsO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLnN0YXJ0Q29udGFpbmVyLGMucm9vdCk7dT1hLmJsb2NrTGltaXQ7ej17ZGl2OjEsdGg6MSx0ZDoxfTthPWEuYmxvY2s7IWEmJnUmJiF0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZ6W3UuZ2V0TmFtZSgpXSYmYy5jaGVja1N0YXJ0T2ZCbG9jaygpJiZjLmNoZWNrRW5kT2ZCbG9jaygpJiYhdS5lcXVhbHMoYy5yb290KT9hPXU6IWF8fHRoaXMuZW5mb3JjZVJlYWxCbG9ja3MmJmEuaXMoZCk/KGE9dGhpcy5yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGYpLGMuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oYSksYS50cmltKCksYy5pbnNlcnROb2RlKGEpLGw9cD0hMCk6XG5cImxpXCIhPWEuZ2V0TmFtZSgpP2MuY2hlY2tTdGFydE9mQmxvY2soKSYmYy5jaGVja0VuZE9mQmxvY2soKXx8KGE9YS5jbG9uZSghMSksYy5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhhKSxhLnRyaW0oKSxwPWMuc3BsaXRCbG9jaygpLGw9IXAud2FzU3RhcnRPZkJsb2NrLHA9IXAud2FzRW5kT2ZCbG9jayxjLmluc2VydE5vZGUoYSkpOmd8fCh0aGlzLl8ubmV4dE5vZGU9YS5lcXVhbHMocSk/bnVsbDp0aGlzLl9nZXROZXh0U291cmNlTm9kZShjLmdldEJvdW5kYXJ5Tm9kZXMoKS5lbmROb2RlLDEscSkpfWwmJihsPWEuZ2V0UHJldmlvdXMoKSkmJmwudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJiclwiPT1sLmdldE5hbWUoKT9sLnJlbW92ZSgpOmwuZ2V0TGFzdCgpJiZcImJyXCI9PWwuZ2V0TGFzdCgpLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmbC5nZXRMYXN0KCkucmVtb3ZlKCkpO3AmJihsPWEuZ2V0TGFzdCgpKSYmbC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuXCJiclwiPT1sLmdldE5hbWUoKSYmKCFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8bC5nZXRQcmV2aW91cyhtKXx8bC5nZXROZXh0KG0pKSYmbC5yZW1vdmUoKTt0aGlzLl8ubmV4dE5vZGV8fCh0aGlzLl8ubmV4dE5vZGU9Z3x8YS5lcXVhbHMocSl8fCFxP251bGw6dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUoYSwxLHEpKTtyZXR1cm4gYX0sX2dldE5leHRTb3VyY2VOb2RlOmZ1bmN0aW9uKGIsYSxkKXtmdW5jdGlvbiBjKGEpe3JldHVybiEoYS5lcXVhbHMoZCl8fGEuZXF1YWxzKGUpKX12YXIgZT10aGlzLnJhbmdlLnJvb3Q7Zm9yKGI9Yi5nZXROZXh0U291cmNlTm9kZShhLG51bGwsYyk7IW0oYik7KWI9Yi5nZXROZXh0U291cmNlTm9kZShhLG51bGwsYyk7cmV0dXJuIGJ9fTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLmNyZWF0ZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjKHRoaXMpfX0pKCk7Q0tFRElUT1IuY29tbWFuZD1mdW5jdGlvbihjLGcpe3RoaXMudWlJdGVtcz1cbltdO3RoaXMuZXhlYz1mdW5jdGlvbihiKXtpZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRHx8IXRoaXMuY2hlY2tBbGxvd2VkKCkpcmV0dXJuITE7dGhpcy5lZGl0b3JGb2N1cyYmYy5mb2N1cygpO3JldHVybiExPT09dGhpcy5maXJlKFwiZXhlY1wiKT8hMDohMSE9PWcuZXhlYy5jYWxsKHRoaXMsYyxiKX07dGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGIsYyl7aWYoIXRoaXMucmVhZE9ubHkmJmIucmVhZE9ubHkpcmV0dXJuITA7aWYodGhpcy5jb250ZXh0JiYhYy5pc0NvbnRleHRGb3IodGhpcy5jb250ZXh0KXx8IXRoaXMuY2hlY2tBbGxvd2VkKCEwKSlyZXR1cm4gdGhpcy5kaXNhYmxlKCksITA7dGhpcy5zdGFydERpc2FibGVkfHx0aGlzLmVuYWJsZSgpO3RoaXMubW9kZXMmJiF0aGlzLm1vZGVzW2IubW9kZV0mJnRoaXMuZGlzYWJsZSgpO3JldHVybiExPT09dGhpcy5maXJlKFwicmVmcmVzaFwiLHtlZGl0b3I6YixwYXRoOmN9KT8hMDpnLnJlZnJlc2gmJiExIT09Zy5yZWZyZXNoLmFwcGx5KHRoaXMsXG5hcmd1bWVudHMpfTt2YXIgZTt0aGlzLmNoZWNrQWxsb3dlZD1mdW5jdGlvbihiKXtyZXR1cm4gYnx8XCJib29sZWFuXCIhPXR5cGVvZiBlP2U9Yy5hY3RpdmVGaWx0ZXIuY2hlY2tGZWF0dXJlKHRoaXMpOmV9O0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGcse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjEsY29udGV4dFNlbnNpdGl2ZTohIWcuY29udGV4dCxzdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH0pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9O0NLRURJVE9SLmNvbW1hbmQucHJvdG90eXBlPXtlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmdGhpcy5jaGVja0FsbG93ZWQoKSYmdGhpcy5zZXRTdGF0ZSh0aGlzLnByZXNlcnZlU3RhdGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLnByZXZpb3VzU3RhdGU/dGhpcy5wcmV2aW91c1N0YXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRil9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sXG5zZXRTdGF0ZTpmdW5jdGlvbihjKXtpZih0aGlzLnN0YXRlPT1jfHxjIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmIXRoaXMuY2hlY2tBbGxvd2VkKCkpcmV0dXJuITE7dGhpcy5wcmV2aW91c1N0YXRlPXRoaXMuc3RhdGU7dGhpcy5zdGF0ZT1jO3RoaXMuZmlyZShcInN0YXRlXCIpO3JldHVybiEwfSx0b2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTp0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGUpO0NLRURJVE9SLkVOVEVSX1A9MTtDS0VESVRPUi5FTlRFUl9CUj0yO0NLRURJVE9SLkVOVEVSX0RJVj0zO0NLRURJVE9SLmNvbmZpZz17Y3VzdG9tQ29uZmlnOlwiY29uZmlnLmpzXCIsYXV0b1VwZGF0ZUVsZW1lbnQ6ITAsXG5sYW5ndWFnZTpcIlwiLGRlZmF1bHRMYW5ndWFnZTpcImVuXCIsY29udGVudHNMYW5nRGlyZWN0aW9uOlwiXCIsZW50ZXJNb2RlOkNLRURJVE9SLkVOVEVSX1AsZm9yY2VFbnRlck1vZGU6ITEsc2hpZnRFbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfQlIsZG9jVHlwZTpcIlxceDNjIURPQ1RZUEUgaHRtbFxceDNlXCIsYm9keUlkOlwiXCIsYm9keUNsYXNzOlwiXCIsZnVsbFBhZ2U6ITEsaGVpZ2h0OjIwMCxjb250ZW50c0NzczpDS0VESVRPUi5nZXRVcmwoXCJjb250ZW50cy5jc3NcIiksZXh0cmFQbHVnaW5zOlwiXCIscmVtb3ZlUGx1Z2luczpcIlwiLHByb3RlY3RlZFNvdXJjZTpbXSx0YWJJbmRleDowLHdpZHRoOlwiXCIsYmFzZUZsb2F0WkluZGV4OjFFNCxibG9ja2VkS2V5c3Ryb2tlczpbQ0tFRElUT1IuQ1RSTCs2NixDS0VESVRPUi5DVFJMKzczLENLRURJVE9SLkNUUkwrODVdfTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsYixkLGYsYyl7dmFyIGUsaDthPVtdO2ZvcihlIGluIGIpe2g9YltlXTtoPVwiYm9vbGVhblwiPT1cbnR5cGVvZiBoP3t9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGg/e21hdGNoOmh9OkwoaCk7XCIkXCIhPWUuY2hhckF0KDApJiYoaC5lbGVtZW50cz1lKTtkJiYoaC5mZWF0dXJlTmFtZT1kLnRvTG93ZXJDYXNlKCkpO3ZhciBuPWg7bi5lbGVtZW50cz1sKG4uZWxlbWVudHMsL1xccysvKXx8bnVsbDtuLnByb3BlcnRpZXNPbmx5PW4ucHJvcGVydGllc09ubHl8fCEwPT09bi5lbGVtZW50czt2YXIgZz0vXFxzKixcXHMqLyxBPXZvaWQgMDtmb3IoQSBpbiBPKXtuW0FdPWwobltBXSxnKXx8bnVsbDt2YXIgbT1uLGs9S1tBXSx2PWwobltLW0FdXSxnKSxKPW5bQV0sdT1bXSxOPSEwLEU9dm9pZCAwO3Y/Tj0hMTp2PXt9O2ZvcihFIGluIEopXCIhXCI9PUUuY2hhckF0KDApJiYoRT1FLnNsaWNlKDEpLHUucHVzaChFKSx2W0VdPSEwLE49ITEpO2Zvcig7RT11LnBvcCgpOylKW0VdPUpbXCIhXCIrRV0sZGVsZXRlIEpbXCIhXCIrRV07bVtrXT0oTj8hMTp2KXx8bnVsbH1uLm1hdGNoPW4ubWF0Y2h8fG51bGw7Zi5wdXNoKGgpO1xuYS5wdXNoKGgpfWI9Yy5lbGVtZW50cztjPWMuZ2VuZXJpYzt2YXIgcjtkPTA7Zm9yKGY9YS5sZW5ndGg7ZDxmOysrZCl7ZT1MKGFbZF0pO2g9ITA9PT1lLmNsYXNzZXN8fCEwPT09ZS5zdHlsZXN8fCEwPT09ZS5hdHRyaWJ1dGVzO249ZTtBPWs9Zz12b2lkIDA7Zm9yKGcgaW4gTyluW2ddPXoobltnXSk7bT0hMDtmb3IoQSBpbiBLKXtnPUtbQV07az1uW2ddO3Y9W107Sj12b2lkIDA7Zm9yKEogaW4gayktMTxKLmluZGV4T2YoXCIqXCIpP3YucHVzaChuZXcgUmVnRXhwKFwiXlwiK0oucmVwbGFjZSgvXFwqL2csXCIuKlwiKStcIiRcIikpOnYucHVzaChKKTtrPXY7ay5sZW5ndGgmJihuW2ddPWssbT0hMSl9bi5ub3RoaW5nUmVxdWlyZWQ9bTtuLm5vUHJvcGVydGllcz0hKG4uYXR0cmlidXRlc3x8bi5jbGFzc2VzfHxuLnN0eWxlcyk7aWYoITA9PT1lLmVsZW1lbnRzfHxudWxsPT09ZS5lbGVtZW50cyljW2g/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKGUpO2Vsc2UgZm9yKHIgaW4gbj1lLmVsZW1lbnRzLGRlbGV0ZSBlLmVsZW1lbnRzLFxubilpZihiW3JdKWJbcl1baD9cInVuc2hpZnRcIjpcInB1c2hcIl0oZSk7ZWxzZSBiW3JdPVtlXX19ZnVuY3Rpb24gZyhhLGIsZCxmKXtpZighYS5tYXRjaHx8YS5tYXRjaChiKSlpZihmfHxrKGEsYikpaWYoYS5wcm9wZXJ0aWVzT25seXx8KGQudmFsaWQ9ITApLGQuYWxsQXR0cmlidXRlc3x8KGQuYWxsQXR0cmlidXRlcz1lKGEuYXR0cmlidXRlcyxiLmF0dHJpYnV0ZXMsZC52YWxpZEF0dHJpYnV0ZXMpKSxkLmFsbFN0eWxlc3x8KGQuYWxsU3R5bGVzPWUoYS5zdHlsZXMsYi5zdHlsZXMsZC52YWxpZFN0eWxlcykpLCFkLmFsbENsYXNzZXMpe2E9YS5jbGFzc2VzO2I9Yi5jbGFzc2VzO2Y9ZC52YWxpZENsYXNzZXM7aWYoYSlpZighMD09PWEpYT0hMDtlbHNle2Zvcih2YXIgYz0wLGg9Yi5sZW5ndGgsbjtjPGg7KytjKW49YltjXSxmW25dfHwoZltuXT1hKG4pKTthPSExfWVsc2UgYT0hMTtkLmFsbENsYXNzZXM9YX19ZnVuY3Rpb24gZShhLGIsZCl7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiEwO1xuZm9yKHZhciBmIGluIGIpZFtmXXx8KGRbZl09YShmKSk7cmV0dXJuITF9ZnVuY3Rpb24gYihhLGIsZCl7aWYoIWEubWF0Y2h8fGEubWF0Y2goYikpe2lmKGEubm9Qcm9wZXJ0aWVzKXJldHVybiExO2QuaGFkSW52YWxpZEF0dHJpYnV0ZT1oKGEuYXR0cmlidXRlcyxiLmF0dHJpYnV0ZXMpfHxkLmhhZEludmFsaWRBdHRyaWJ1dGU7ZC5oYWRJbnZhbGlkU3R5bGU9aChhLnN0eWxlcyxiLnN0eWxlcyl8fGQuaGFkSW52YWxpZFN0eWxlO2E9YS5jbGFzc2VzO2I9Yi5jbGFzc2VzO2lmKGEpe2Zvcih2YXIgZj0hMSxjPSEwPT09YSxlPWIubGVuZ3RoO2UtLTspaWYoY3x8YShiW2VdKSliLnNwbGljZShlLDEpLGY9ITA7YT1mfWVsc2UgYT0hMTtkLmhhZEludmFsaWRDbGFzcz1hfHxkLmhhZEludmFsaWRDbGFzc319ZnVuY3Rpb24gaChhLGIpe2lmKCFhKXJldHVybiExO3ZhciBkPSExLGY9ITA9PT1hLGM7Zm9yKGMgaW4gYilpZihmfHxhKGMpKWRlbGV0ZSBiW2NdLGQ9ITA7cmV0dXJuIGR9ZnVuY3Rpb24gbShhLFxuYixkKXtpZihhLmRpc2FibGVkfHxhLmN1c3RvbUNvbmZpZyYmIWR8fCFiKXJldHVybiExO2EuXy5jYWNoZWRDaGVja3M9e307cmV0dXJuITB9ZnVuY3Rpb24gbChhLGIpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4gYTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSlyZXR1cm4gYT1FKGEpLFwiKlwiPT1hPyEwOkNLRURJVE9SLnRvb2xzLmNvbnZlcnRBcnJheVRvT2JqZWN0KGEuc3BsaXQoYikpO2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpcmV0dXJuIGEubGVuZ3RoP0NLRURJVE9SLnRvb2xzLmNvbnZlcnRBcnJheVRvT2JqZWN0KGEpOiExO3ZhciBkPXt9LGY9MCxjO2ZvcihjIGluIGEpZFtjXT1hW2NdLGYrKztyZXR1cm4gZj9kOiExfWZ1bmN0aW9uIGsoYSxiKXtpZihhLm5vdGhpbmdSZXF1aXJlZClyZXR1cm4hMDt2YXIgZixjLGUsaDtpZihlPWEucmVxdWlyZWRDbGFzc2VzKWZvcihoPWIuY2xhc3NlcyxmPTA7ZjxlLmxlbmd0aDsrK2YpaWYoYz1lW2ZdLFwic3RyaW5nXCI9PVxudHlwZW9mIGMpe2lmKC0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGgsYykpcmV0dXJuITF9ZWxzZSBpZighQ0tFRElUT1IudG9vbHMuY2hlY2tJZkFueUFycmF5SXRlbU1hdGNoZXMoaCxjKSlyZXR1cm4hMTtyZXR1cm4gZChiLnN0eWxlcyxhLnJlcXVpcmVkU3R5bGVzKSYmZChiLmF0dHJpYnV0ZXMsYS5yZXF1aXJlZEF0dHJpYnV0ZXMpfWZ1bmN0aW9uIGQoYSxiKXtpZighYilyZXR1cm4hMDtmb3IodmFyIGQ9MCxmO2Q8Yi5sZW5ndGg7KytkKWlmKGY9YltkXSxcInN0cmluZ1wiPT10eXBlb2YgZil7aWYoIShmIGluIGEpKXJldHVybiExfWVsc2UgaWYoIUNLRURJVE9SLnRvb2xzLmNoZWNrSWZBbnlPYmplY3RQcm9wZXJ0eU1hdGNoZXMoYSxmKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBmKGEpe2lmKCFhKXJldHVybnt9O2E9YS5zcGxpdCgvXFxzKixcXHMqLykuc29ydCgpO2Zvcih2YXIgYj17fTthLmxlbmd0aDspYlthLnNoaWZ0KCldPVwiY2tlLXRlc3RcIjtyZXR1cm4gYn1mdW5jdGlvbiBhKGEpe3ZhciBiLFxuZCxmLGMsZT17fSxoPTE7Zm9yKGE9RShhKTtiPWEubWF0Y2goTSk7KShkPWJbMl0pPyhmPW4oZCxcInN0eWxlc1wiKSxjPW4oZCxcImF0dHJzXCIpLGQ9bihkLFwiY2xhc3Nlc1wiKSk6Zj1jPWQ9bnVsbCxlW1wiJFwiK2grK109e2VsZW1lbnRzOmJbMV0sY2xhc3NlczpkLHN0eWxlczpmLGF0dHJpYnV0ZXM6Y30sYT1hLnNsaWNlKGJbMF0ubGVuZ3RoKTtyZXR1cm4gZX1mdW5jdGlvbiBuKGEsYil7dmFyIGQ9YS5tYXRjaChBW2JdKTtyZXR1cm4gZD9FKGRbMV0pOm51bGx9ZnVuY3Rpb24gcihhKXt2YXIgYj1hLnN0eWxlQmFja3VwPWEuYXR0cmlidXRlcy5zdHlsZSxkPWEuY2xhc3NCYWNrdXA9YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07YS5zdHlsZXN8fChhLnN0eWxlcz1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYnx8XCJcIiwxKSk7YS5jbGFzc2VzfHwoYS5jbGFzc2VzPWQ/ZC5zcGxpdCgvXFxzKy8pOltdKX1mdW5jdGlvbiB4KGEsZCxmLGMpe3ZhciBlPTAsaDtjLnRvSHRtbCYmKGQubmFtZT1kLm5hbWUucmVwbGFjZShOLFxuXCIkMVwiKSk7aWYoYy5kb0NhbGxiYWNrcyYmYS5lbGVtZW50Q2FsbGJhY2tzKXthOntoPWEuZWxlbWVudENhbGxiYWNrcztmb3IodmFyIG49MCxsPWgubGVuZ3RoLEE7bjxsOysrbilpZihBPWhbbl0oZCkpe2g9QTticmVhayBhfWg9dm9pZCAwfWlmKGgpcmV0dXJuIGh9aWYoYy5kb1RyYW5zZm9ybSYmKGg9YS5fLnRyYW5zZm9ybWF0aW9uc1tkLm5hbWVdKSl7cihkKTtmb3Iobj0wO248aC5sZW5ndGg7KytuKXYoYSxkLGhbbl0pO3EoZCl9aWYoYy5kb0ZpbHRlcil7YTp7bj1kLm5hbWU7bD1hLl87YT1sLmFsbG93ZWRSdWxlcy5lbGVtZW50c1tuXTtoPWwuYWxsb3dlZFJ1bGVzLmdlbmVyaWM7bj1sLmRpc2FsbG93ZWRSdWxlcy5lbGVtZW50c1tuXTtsPWwuZGlzYWxsb3dlZFJ1bGVzLmdlbmVyaWM7QT1jLnNraXBSZXF1aXJlZDt2YXIgbT17dmFsaWQ6ITEsdmFsaWRBdHRyaWJ1dGVzOnt9LHZhbGlkQ2xhc3Nlczp7fSx2YWxpZFN0eWxlczp7fSxhbGxBdHRyaWJ1dGVzOiExLGFsbENsYXNzZXM6ITEsXG5hbGxTdHlsZXM6ITEsaGFkSW52YWxpZEF0dHJpYnV0ZTohMSxoYWRJbnZhbGlkQ2xhc3M6ITEsaGFkSW52YWxpZFN0eWxlOiExfSxrLEU7aWYoYXx8aCl7cihkKTtpZihuKWZvcihrPTAsRT1uLmxlbmd0aDtrPEU7KytrKWlmKCExPT09YihuW2tdLGQsbSkpe2E9bnVsbDticmVhayBhfWlmKGwpZm9yKGs9MCxFPWwubGVuZ3RoO2s8RTsrK2spYihsW2tdLGQsbSk7aWYoYSlmb3Ioaz0wLEU9YS5sZW5ndGg7azxFOysraylnKGFba10sZCxtLEEpO2lmKGgpZm9yKGs9MCxFPWgubGVuZ3RoO2s8RTsrK2spZyhoW2tdLGQsbSxBKTthPW19ZWxzZSBhPW51bGx9aWYoIWF8fCFhLnZhbGlkKXJldHVybiBmLnB1c2goZCksMTtFPWEudmFsaWRBdHRyaWJ1dGVzO3ZhciBGPWEudmFsaWRTdHlsZXM7aD1hLnZhbGlkQ2xhc3Nlczt2YXIgbj1kLmF0dHJpYnV0ZXMsRz1kLnN0eWxlcyxsPWQuY2xhc3NlcztBPWQuY2xhc3NCYWNrdXA7dmFyIFA9ZC5zdHlsZUJhY2t1cCxJLEwsTT1bXSxtPVtdLHQ9L15kYXRhLWNrZS0vO1xuaz0hMTtkZWxldGUgbi5zdHlsZTtkZWxldGUgbltcImNsYXNzXCJdO2RlbGV0ZSBkLmNsYXNzQmFja3VwO2RlbGV0ZSBkLnN0eWxlQmFja3VwO2lmKCFhLmFsbEF0dHJpYnV0ZXMpZm9yKEkgaW4gbilFW0ldfHwodC50ZXN0KEkpP0k9PShMPUkucmVwbGFjZSgvXmRhdGEtY2tlLXNhdmVkLS8sXCJcIikpfHxFW0xdfHwoZGVsZXRlIG5bSV0saz0hMCk6KGRlbGV0ZSBuW0ldLGs9ITApKTtpZighYS5hbGxTdHlsZXN8fGEuaGFkSW52YWxpZFN0eWxlKXtmb3IoSSBpbiBHKWEuYWxsU3R5bGVzfHxGW0ldP00ucHVzaChJK1wiOlwiK0dbSV0pOms9ITA7TS5sZW5ndGgmJihuLnN0eWxlPU0uc29ydCgpLmpvaW4oXCI7IFwiKSl9ZWxzZSBQJiYobi5zdHlsZT1QKTtpZighYS5hbGxDbGFzc2VzfHxhLmhhZEludmFsaWRDbGFzcyl7Zm9yKEk9MDtJPGwubGVuZ3RoOysrSSkoYS5hbGxDbGFzc2VzfHxoW2xbSV1dKSYmbS5wdXNoKGxbSV0pO20ubGVuZ3RoJiYobltcImNsYXNzXCJdPW0uc29ydCgpLmpvaW4oXCIgXCIpKTtcbkEmJm0ubGVuZ3RoPEEuc3BsaXQoL1xccysvKS5sZW5ndGgmJihrPSEwKX1lbHNlIEEmJihuW1wiY2xhc3NcIl09QSk7ayYmKGU9MSk7aWYoIWMuc2tpcEZpbmFsVmFsaWRhdGlvbiYmIXUoZCkpcmV0dXJuIGYucHVzaChkKSwxfWMudG9IdG1sJiYoZC5uYW1lPWQubmFtZS5yZXBsYWNlKEosXCJja2U6JDFcIikpO3JldHVybiBlfWZ1bmN0aW9uIHAoYSl7dmFyIGI9W10sZDtmb3IoZCBpbiBhKS0xPGQuaW5kZXhPZihcIipcIikmJmIucHVzaChkLnJlcGxhY2UoL1xcKi9nLFwiLipcIikpO3JldHVybiBiLmxlbmd0aD9uZXcgUmVnRXhwKFwiXig/OlwiK2Iuam9pbihcInxcIikrXCIpJFwiKTpudWxsfWZ1bmN0aW9uIHEoYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLGQ7ZGVsZXRlIGIuc3R5bGU7ZGVsZXRlIGJbXCJjbGFzc1wiXTtpZihkPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChhLnN0eWxlcywhMCkpYi5zdHlsZT1kO2EuY2xhc3Nlcy5sZW5ndGgmJihiW1wiY2xhc3NcIl09YS5jbGFzc2VzLnNvcnQoKS5qb2luKFwiIFwiKSl9XG5mdW5jdGlvbiB1KGEpe3N3aXRjaChhLm5hbWUpe2Nhc2UgXCJhXCI6aWYoIShhLmNoaWxkcmVuLmxlbmd0aHx8YS5hdHRyaWJ1dGVzLm5hbWV8fGEuYXR0cmlidXRlcy5pZCkpcmV0dXJuITE7YnJlYWs7Y2FzZSBcImltZ1wiOmlmKCFhLmF0dHJpYnV0ZXMuc3JjKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHooYSl7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiEwO3ZhciBiPXAoYSk7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBkIGluIGF8fGImJmQubWF0Y2goYil9fWZ1bmN0aW9uIHQoKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImJyXCIpfWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJiclwiPT1hLm5hbWV8fEcuJGJsb2NrW2EubmFtZV0pfWZ1bmN0aW9uIHcoYSxiLGQpe3ZhciBmPWEubmFtZTtpZihHLiRlbXB0eVtmXXx8IWEuY2hpbGRyZW4ubGVuZ3RoKVwiaHJcIj09ZiYmXCJiclwiPT1iP2EucmVwbGFjZVdpdGgodCgpKTpcbihhLnBhcmVudCYmZC5wdXNoKHtjaGVjazpcIml0XCIsZWw6YS5wYXJlbnR9KSxhLnJlbW92ZSgpKTtlbHNlIGlmKEcuJGJsb2NrW2ZdfHxcInRyXCI9PWYpaWYoXCJiclwiPT1iKWEucHJldmlvdXMmJiFCKGEucHJldmlvdXMpJiYoYj10KCksYi5pbnNlcnRCZWZvcmUoYSkpLGEubmV4dCYmIUIoYS5uZXh0KSYmKGI9dCgpLGIuaW5zZXJ0QWZ0ZXIoYSkpLGEucmVwbGFjZVdpdGhDaGlsZHJlbigpO2Vsc2V7dmFyIGY9YS5jaGlsZHJlbixjO2I6e2M9R1tiXTtmb3IodmFyIGU9MCxoPWYubGVuZ3RoLG47ZTxoOysrZSlpZihuPWZbZV0sbi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFjW24ubmFtZV0pe2M9ITE7YnJlYWsgYn1jPSEwfWlmKGMpYS5uYW1lPWIsYS5hdHRyaWJ1dGVzPXt9LGQucHVzaCh7Y2hlY2s6XCJwYXJlbnQtZG93blwiLGVsOmF9KTtlbHNle2M9YS5wYXJlbnQ7Zm9yKHZhciBlPWMudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8XCJib2R5XCI9PWMubmFtZSxcbmcsbCxoPWYubGVuZ3RoOzA8aDspbj1mWy0taF0sZSYmKG4udHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmRy4kaW5saW5lW24ubmFtZV0pPyhnfHwoZz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGIpLGcuaW5zZXJ0QWZ0ZXIoYSksZC5wdXNoKHtjaGVjazpcInBhcmVudC1kb3duXCIsZWw6Z30pKSxnLmFkZChuLDApKTooZz1udWxsLGw9R1tjLm5hbWVdfHxHLnNwYW4sbi5pbnNlcnRBZnRlcihhKSxjLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fG4udHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxsW24ubmFtZV18fGQucHVzaCh7Y2hlY2s6XCJlbC11cFwiLGVsOm59KSk7YS5yZW1vdmUoKX19ZWxzZSBmIGlue3N0eWxlOjEsc2NyaXB0OjF9P2EucmVtb3ZlKCk6KGEucGFyZW50JiZkLnB1c2goe2NoZWNrOlwiaXRcIixlbDphLnBhcmVudH0pLGEucmVwbGFjZVdpdGhDaGlsZHJlbigpKX1mdW5jdGlvbiB2KGEsXG5iLGQpe3ZhciBmLGM7Zm9yKGY9MDtmPGQubGVuZ3RoOysrZilpZihjPWRbZl0sIShjLmNoZWNrJiYhYS5jaGVjayhjLmNoZWNrLCExKXx8Yy5sZWZ0JiYhYy5sZWZ0KGIpKSl7Yy5yaWdodChiLEkpO2JyZWFrfX1mdW5jdGlvbiBGKGEsYil7dmFyIGQ9Yi5nZXREZWZpbml0aW9uKCksZj1kLmF0dHJpYnV0ZXMsYz1kLnN0eWxlcyxlLGgsbixnO2lmKGEubmFtZSE9ZC5lbGVtZW50KXJldHVybiExO2ZvcihlIGluIGYpaWYoXCJjbGFzc1wiPT1lKWZvcihkPWZbZV0uc3BsaXQoL1xccysvKSxuPWEuY2xhc3Nlcy5qb2luKFwifFwiKTtnPWQucG9wKCk7KXtpZigtMT09bi5pbmRleE9mKGcpKXJldHVybiExfWVsc2UgaWYoYS5hdHRyaWJ1dGVzW2VdIT1mW2VdKXJldHVybiExO2ZvcihoIGluIGMpaWYoYS5zdHlsZXNbaF0hPWNbaF0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geShhLGIpe3ZhciBkLGY7XCJzdHJpbmdcIj09dHlwZW9mIGE/ZD1hOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZT9mPVxuYTooZD1hWzBdLGY9YVsxXSk7cmV0dXJuW3tlbGVtZW50OmQsbGVmdDpmLHJpZ2h0OmZ1bmN0aW9uKGEsZCl7ZC50cmFuc2Zvcm0oYSxiKX19XX1mdW5jdGlvbiBDKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gRihiLGEpfX1mdW5jdGlvbiBIKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2RbYV0oYil9fXZhciBHPUNLRURJVE9SLmR0ZCxMPUNLRURJVE9SLnRvb2xzLmNvcHksRT1DS0VESVRPUi50b29scy50cmltLEQ9W1wiXCIsXCJwXCIsXCJiclwiLFwiZGl2XCJdO0NLRURJVE9SLkZJTFRFUl9TS0lQX1RSRUU9MjtDS0VESVRPUi5maWx0ZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLmFsbG93ZWRDb250ZW50PVtdO3RoaXMuZGlzYWxsb3dlZENvbnRlbnQ9W107dGhpcy5lbGVtZW50Q2FsbGJhY2tzPW51bGw7dGhpcy5kaXNhYmxlZD0hMTt0aGlzLmVkaXRvcj1udWxsO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuXz17YWxsb3dlZFJ1bGVzOntlbGVtZW50czp7fSxcbmdlbmVyaWM6W119LGRpc2FsbG93ZWRSdWxlczp7ZWxlbWVudHM6e30sZ2VuZXJpYzpbXX0sdHJhbnNmb3JtYXRpb25zOnt9LGNhY2hlZFRlc3RzOnt9LGNhY2hlZENoZWNrczp7fX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXT10aGlzO3ZhciBkPXRoaXMuZWRpdG9yPWEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3I/YTpudWxsO2lmKGQmJiFiKXt0aGlzLmN1c3RvbUNvbmZpZz0hMDt2YXIgZj1kLmNvbmZpZy5hbGxvd2VkQ29udGVudDshMD09PWY/dGhpcy5kaXNhYmxlZD0hMDooZnx8KHRoaXMuY3VzdG9tQ29uZmlnPSExKSx0aGlzLmFsbG93KGYsXCJjb25maWdcIiwxKSx0aGlzLmFsbG93KGQuY29uZmlnLmV4dHJhQWxsb3dlZENvbnRlbnQsXCJleHRyYVwiLDEpLHRoaXMuYWxsb3coRFtkLmVudGVyTW9kZV0rXCIgXCIrRFtkLnNoaWZ0RW50ZXJNb2RlXSxcImRlZmF1bHRcIiwxKSx0aGlzLmRpc2FsbG93KGQuY29uZmlnLmRpc2FsbG93ZWRDb250ZW50KSl9ZWxzZSB0aGlzLmN1c3RvbUNvbmZpZz1cbiExLHRoaXMuYWxsb3coYnx8YSxcImRlZmF1bHRcIiwxKX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlcz17fTtDS0VESVRPUi5maWx0ZXIucHJvdG90eXBlPXthbGxvdzpmdW5jdGlvbihiLGQsZil7aWYoIW0odGhpcyxiLGYpKXJldHVybiExO3ZhciBlLGg7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYj1hKGIpO2Vsc2UgaWYoYiBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKXtpZihiLnRvQWxsb3dlZENvbnRlbnRSdWxlcylyZXR1cm4gdGhpcy5hbGxvdyhiLnRvQWxsb3dlZENvbnRlbnRSdWxlcyh0aGlzLmVkaXRvciksZCxmKTtlPWIuZ2V0RGVmaW5pdGlvbigpO2I9e307Zj1lLmF0dHJpYnV0ZXM7YltlLmVsZW1lbnRdPWU9e3N0eWxlczplLnN0eWxlcyxyZXF1aXJlZFN0eWxlczplLnN0eWxlcyYmQ0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoZS5zdHlsZXMpfTtmJiYoZj1MKGYpLGUuY2xhc3Nlcz1mW1wiY2xhc3NcIl0/ZltcImNsYXNzXCJdLnNwbGl0KC9cXHMrLyk6bnVsbCxlLnJlcXVpcmVkQ2xhc3Nlcz1cbmUuY2xhc3NlcyxkZWxldGUgZltcImNsYXNzXCJdLGUuYXR0cmlidXRlcz1mLGUucmVxdWlyZWRBdHRyaWJ1dGVzPWYmJkNLRURJVE9SLnRvb2xzLm9iamVjdC5rZXlzKGYpKX1lbHNlIGlmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYikpe2ZvcihlPTA7ZTxiLmxlbmd0aDsrK2UpaD10aGlzLmFsbG93KGJbZV0sZCxmKTtyZXR1cm4gaH1jKHRoaXMsYixkLHRoaXMuYWxsb3dlZENvbnRlbnQsdGhpcy5fLmFsbG93ZWRSdWxlcyk7cmV0dXJuITB9LGFwcGx5VG86ZnVuY3Rpb24oYSxiLGQsZil7aWYodGhpcy5kaXNhYmxlZClyZXR1cm4hMTt2YXIgYz10aGlzLGU9W10saD10aGlzLmVkaXRvciYmdGhpcy5lZGl0b3IuY29uZmlnLnByb3RlY3RlZFNvdXJjZSxuLGc9ITEsbD17ZG9GaWx0ZXI6IWQsZG9UcmFuc2Zvcm06ITAsZG9DYWxsYmFja3M6ITAsdG9IdG1sOmJ9O2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoXCJvZmZcIj09YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZmlsdGVyXCJdKXJldHVybiExO1xuaWYoIWJ8fFwic3BhblwiIT1hLm5hbWV8fCF+Q0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoYS5hdHRyaWJ1dGVzKS5qb2luKFwifFwiKS5pbmRleE9mKFwiZGF0YS1ja2UtXCIpKWlmKG49eChjLGEsZSxsKSxuJjEpZz0hMDtlbHNlIGlmKG4mMilyZXR1cm4hMX1lbHNlIGlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UJiZhLnZhbHVlLm1hdGNoKC9eXFx7Y2tlX3Byb3RlY3RlZFxcfSg/IVxce0NcXH0pLykpe3ZhciBkO2E6e3ZhciBmPWRlY29kZVVSSUNvbXBvbmVudChhLnZhbHVlLnJlcGxhY2UoL15cXHtja2VfcHJvdGVjdGVkXFx9LyxcIlwiKSk7ZD1bXTt2YXIgQSxrLG07aWYoaClmb3Ioaz0wO2s8aC5sZW5ndGg7KytrKWlmKChtPWYubWF0Y2goaFtrXSkpJiZtWzBdLmxlbmd0aD09Zi5sZW5ndGgpe2Q9ITA7YnJlYWsgYX1mPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoZik7MT09Zi5jaGlsZHJlbi5sZW5ndGgmJihBPWYuY2hpbGRyZW5bMF0pLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG54KGMsQSxkLGwpO2Q9IWQubGVuZ3RofWR8fGUucHVzaChhKX19LG51bGwsITApO2UubGVuZ3RoJiYoZz0hMCk7dmFyIEE7YT1bXTtmPURbZnx8KHRoaXMuZWRpdG9yP3RoaXMuZWRpdG9yLmVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9QKV07Zm9yKHZhciBrO2Q9ZS5wb3AoKTspZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/dyhkLGYsYSk6ZC5yZW1vdmUoKTtmb3IoO0E9YS5wb3AoKTspaWYoZD1BLmVsLGQucGFyZW50KXN3aXRjaChrPUdbZC5wYXJlbnQubmFtZV18fEcuc3BhbixBLmNoZWNrKXtjYXNlIFwiaXRcIjpHLiRyZW1vdmVFbXB0eVtkLm5hbWVdJiYhZC5jaGlsZHJlbi5sZW5ndGg/dyhkLGYsYSk6dShkKXx8dyhkLGYsYSk7YnJlYWs7Y2FzZSBcImVsLXVwXCI6ZC5wYXJlbnQudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8a1tkLm5hbWVdfHx3KGQsZixhKTticmVhaztjYXNlIFwicGFyZW50LWRvd25cIjpkLnBhcmVudC50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHxcbmtbZC5uYW1lXXx8dyhkLnBhcmVudCxmLGEpfXJldHVybiBnfSxjaGVja0ZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXNhYmxlZHx8IWEpcmV0dXJuITA7YS50b0ZlYXR1cmUmJihhPWEudG9GZWF0dXJlKHRoaXMuZWRpdG9yKSk7cmV0dXJuIWEucmVxdWlyZWRDb250ZW50fHx0aGlzLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9LGRpc2FsbG93OmZ1bmN0aW9uKGIpe2lmKCFtKHRoaXMsYiwhMCkpcmV0dXJuITE7XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWEoYikpO2ModGhpcyxiLG51bGwsdGhpcy5kaXNhbGxvd2VkQ29udGVudCx0aGlzLl8uZGlzYWxsb3dlZFJ1bGVzKTtyZXR1cm4hMH0sYWRkQ29udGVudEZvcm1zOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmRpc2FibGVkJiZhKXt2YXIgYixkLGY9W10sYztmb3IoYj0wO2I8YS5sZW5ndGgmJiFjOysrYilkPWFbYl0sKFwic3RyaW5nXCI9PXR5cGVvZiBkfHxkIGluc3RhbmNlb2ZcbkNLRURJVE9SLnN0eWxlKSYmdGhpcy5jaGVjayhkKSYmKGM9ZCk7aWYoYyl7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYilmLnB1c2goeShhW2JdLGMpKTt0aGlzLmFkZFRyYW5zZm9ybWF0aW9ucyhmKX19fSxhZGRFbGVtZW50Q2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50Q2FsbGJhY2tzfHwodGhpcy5lbGVtZW50Q2FsbGJhY2tzPVtdKTt0aGlzLmVsZW1lbnRDYWxsYmFja3MucHVzaChhKX0sYWRkRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmRpc2FibGVkfHwhYSlyZXR1cm4hMDthLnRvRmVhdHVyZSYmKGE9YS50b0ZlYXR1cmUodGhpcy5lZGl0b3IpKTt0aGlzLmFsbG93KGEuYWxsb3dlZENvbnRlbnQsYS5uYW1lKTt0aGlzLmFkZFRyYW5zZm9ybWF0aW9ucyhhLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnMpO3RoaXMuYWRkQ29udGVudEZvcm1zKGEuY29udGVudEZvcm1zKTtyZXR1cm4gYS5yZXF1aXJlZENvbnRlbnQmJih0aGlzLmN1c3RvbUNvbmZpZ3x8dGhpcy5kaXNhbGxvd2VkQ29udGVudC5sZW5ndGgpP1xudGhpcy5jaGVjayhhLnJlcXVpcmVkQ29udGVudCk6ITB9LGFkZFRyYW5zZm9ybWF0aW9uczpmdW5jdGlvbihhKXt2YXIgYixkO2lmKCF0aGlzLmRpc2FibGVkJiZhKXt2YXIgZj10aGlzLl8udHJhbnNmb3JtYXRpb25zLGM7Zm9yKGM9MDtjPGEubGVuZ3RoOysrYyl7Yj1hW2NdO3ZhciBlPXZvaWQgMCxoPXZvaWQgMCxuPXZvaWQgMCxnPXZvaWQgMCxsPXZvaWQgMCxBPXZvaWQgMDtkPVtdO2ZvcihoPTA7aDxiLmxlbmd0aDsrK2gpbj1iW2hdLFwic3RyaW5nXCI9PXR5cGVvZiBuPyhuPW4uc3BsaXQoL1xccyo6XFxzKi8pLGc9blswXSxsPW51bGwsQT1uWzFdKTooZz1uLmNoZWNrLGw9bi5sZWZ0LEE9bi5yaWdodCksZXx8KGU9bixlPWUuZWxlbWVudD9lLmVsZW1lbnQ6Zz9nLm1hdGNoKC9eKFthLXowLTldKykvaSlbMF06ZS5sZWZ0LmdldERlZmluaXRpb24oKS5lbGVtZW50KSxsIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUmJihsPUMobCkpLGQucHVzaCh7Y2hlY2s6Zz09ZT9udWxsOmcsbGVmdDpsLFxucmlnaHQ6XCJzdHJpbmdcIj09dHlwZW9mIEE/SChBKTpBfSk7Yj1lO2ZbYl18fChmW2JdPVtdKTtmW2JdLnB1c2goZCl9fX0sY2hlY2s6ZnVuY3Rpb24oYixkLGMpe2lmKHRoaXMuZGlzYWJsZWQpcmV0dXJuITA7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShiKSl7Zm9yKHZhciBlPWIubGVuZ3RoO2UtLTspaWYodGhpcy5jaGVjayhiW2VdLGQsYykpcmV0dXJuITA7cmV0dXJuITF9dmFyIGgsbjtpZihcInN0cmluZ1wiPT10eXBlb2YgYil7bj1iK1wiXFx4M2NcIisoITE9PT1kP1wiMFwiOlwiMVwiKSsoYz9cIjFcIjpcIjBcIikrXCJcXHgzZVwiO2lmKG4gaW4gdGhpcy5fLmNhY2hlZENoZWNrcylyZXR1cm4gdGhpcy5fLmNhY2hlZENoZWNrc1tuXTtoPWEoYikuJDE7dmFyIGc9aC5zdHlsZXMsZT1oLmNsYXNzZXM7aC5uYW1lPWguZWxlbWVudHM7aC5jbGFzc2VzPWU9ZT9lLnNwbGl0KC9cXHMqLFxccyovKTpbXTtoLnN0eWxlcz1mKGcpO2guYXR0cmlidXRlcz1mKGguYXR0cmlidXRlcyk7aC5jaGlsZHJlbj1bXTtlLmxlbmd0aCYmXG4oaC5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09ZS5qb2luKFwiIFwiKSk7ZyYmKGguYXR0cmlidXRlcy5zdHlsZT1DS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoaC5zdHlsZXMpKX1lbHNlIGg9Yi5nZXREZWZpbml0aW9uKCksZz1oLnN0eWxlcyxlPWguYXR0cmlidXRlc3x8e30sZyYmIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoZyk/KGc9TChnKSxlLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChnLCEwKSk6Zz17fSxoPXtuYW1lOmguZWxlbWVudCxhdHRyaWJ1dGVzOmUsY2xhc3NlczplW1wiY2xhc3NcIl0/ZVtcImNsYXNzXCJdLnNwbGl0KC9cXHMrLyk6W10sc3R5bGVzOmcsY2hpbGRyZW46W119O3ZhciBnPUNLRURJVE9SLnRvb2xzLmNsb25lKGgpLGw9W10sQTtpZighMSE9PWQmJihBPXRoaXMuXy50cmFuc2Zvcm1hdGlvbnNbaC5uYW1lXSkpe2ZvcihlPTA7ZTxBLmxlbmd0aDsrK2Updih0aGlzLGgsQVtlXSk7cShoKX14KHRoaXMsZyxsLHtkb0ZpbHRlcjohMCxkb1RyYW5zZm9ybTohMSE9PVxuZCxza2lwUmVxdWlyZWQ6IWMsc2tpcEZpbmFsVmFsaWRhdGlvbjohY30pOzA8bC5sZW5ndGg/Yz0hMTooKGQ9aC5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0pJiYoaC5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09aC5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpLnNvcnQoKS5qb2luKFwiIFwiKSksYz1DS0VESVRPUi50b29scy5vYmplY3RDb21wYXJlKGguYXR0cmlidXRlcyxnLmF0dHJpYnV0ZXMsITApLGQmJihoLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1kKSk7XCJzdHJpbmdcIj09dHlwZW9mIGImJih0aGlzLl8uY2FjaGVkQ2hlY2tzW25dPWMpO3JldHVybiBjfSxnZXRBbGxvd2VkRW50ZXJNb2RlOmZ1bmN0aW9uKCl7dmFyIGE9W1wicFwiLFwiZGl2XCIsXCJiclwiXSxiPXtwOkNLRURJVE9SLkVOVEVSX1AsZGl2OkNLRURJVE9SLkVOVEVSX0RJVixicjpDS0VESVRPUi5FTlRFUl9CUn07cmV0dXJuIGZ1bmN0aW9uKGQsZil7dmFyIGM9YS5zbGljZSgpLGU7aWYodGhpcy5jaGVjayhEW2RdKSlyZXR1cm4gZDtmb3IoZnx8XG4oYz1jLnJldmVyc2UoKSk7ZT1jLnBvcCgpOylpZih0aGlzLmNoZWNrKGUpKXJldHVybiBiW2VdO3JldHVybiBDS0VESVRPUi5FTlRFUl9CUn19KCksY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZmlsdGVyLGI9Q0tFRElUT1IudG9vbHMuY2xvbmU7YS5hbGxvd2VkQ29udGVudD1iKHRoaXMuYWxsb3dlZENvbnRlbnQpO2EuXy5hbGxvd2VkUnVsZXM9Yih0aGlzLl8uYWxsb3dlZFJ1bGVzKTthLmRpc2FsbG93ZWRDb250ZW50PWIodGhpcy5kaXNhbGxvd2VkQ29udGVudCk7YS5fLmRpc2FsbG93ZWRSdWxlcz1iKHRoaXMuXy5kaXNhbGxvd2VkUnVsZXMpO2EuXy50cmFuc2Zvcm1hdGlvbnM9Yih0aGlzLl8udHJhbnNmb3JtYXRpb25zKTthLmRpc2FibGVkPXRoaXMuZGlzYWJsZWQ7YS5lZGl0b3I9dGhpcy5lZGl0b3I7cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgQ0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXTtkZWxldGUgdGhpcy5fO2RlbGV0ZSB0aGlzLmFsbG93ZWRDb250ZW50O1xuZGVsZXRlIHRoaXMuZGlzYWxsb3dlZENvbnRlbnR9fTt2YXIgTz17c3R5bGVzOjEsYXR0cmlidXRlczoxLGNsYXNzZXM6MX0sSz17c3R5bGVzOlwicmVxdWlyZWRTdHlsZXNcIixhdHRyaWJ1dGVzOlwicmVxdWlyZWRBdHRyaWJ1dGVzXCIsY2xhc3NlczpcInJlcXVpcmVkQ2xhc3Nlc1wifSxNPS9eKFthLXowLTlcXC0qXFxzXSspKCg/OlxccypcXHtbIVxcd1xcLSxcXHNcXCpdK1xcfVxccyp8XFxzKlxcW1shXFx3XFwtLFxcc1xcKl0rXFxdXFxzKnxcXHMqXFwoWyFcXHdcXC0sXFxzXFwqXStcXClcXHMqKXswLDN9KSg/OjtcXHMqfCQpL2ksQT17c3R5bGVzOi97KFtefV0rKX0vLGF0dHJzOi9cXFsoW15cXF1dKylcXF0vLGNsYXNzZXM6L1xcKChbXlxcKV0rKVxcKS99LE49L15ja2U6KG9iamVjdHxlbWJlZHxwYXJhbSkkLyxKPS9eKG9iamVjdHxlbWJlZHxwYXJhbSkkLyxJO0k9Q0tFRElUT1IuZmlsdGVyLnRyYW5zZm9ybWF0aW9uc1Rvb2xzPXtzaXplVG9TdHlsZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvU3R5bGUoYSxcIndpZHRoXCIpO3RoaXMubGVuZ3RoVG9TdHlsZShhLFxuXCJoZWlnaHRcIil9LHNpemVUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJ3aWR0aFwiKTt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJoZWlnaHRcIil9LGxlbmd0aFRvU3R5bGU6ZnVuY3Rpb24oYSxiLGQpe2Q9ZHx8YjtpZighKGQgaW4gYS5zdHlsZXMpKXt2YXIgZj1hLmF0dHJpYnV0ZXNbYl07ZiYmKC9eXFxkKyQvLnRlc3QoZikmJihmKz1cInB4XCIpLGEuc3R5bGVzW2RdPWYpfWRlbGV0ZSBhLmF0dHJpYnV0ZXNbYl19LGxlbmd0aFRvQXR0cmlidXRlOmZ1bmN0aW9uKGEsYixkKXtkPWR8fGI7aWYoIShkIGluIGEuYXR0cmlidXRlcykpe3ZhciBmPWEuc3R5bGVzW2JdLGM9ZiYmZi5tYXRjaCgvXihcXGQrKSg/OlxcLlxcZCopP3B4JC8pO2M/YS5hdHRyaWJ1dGVzW2RdPWNbMV06XCJja2UtdGVzdFwiPT1mJiYoYS5hdHRyaWJ1dGVzW2RdPVwiY2tlLXRlc3RcIil9ZGVsZXRlIGEuc3R5bGVzW2JdfSxhbGlnbm1lbnRUb1N0eWxlOmZ1bmN0aW9uKGEpe2lmKCEoXCJmbG9hdFwiaW5cbmEuc3R5bGVzKSl7dmFyIGI9YS5hdHRyaWJ1dGVzLmFsaWduO2lmKFwibGVmdFwiPT1ifHxcInJpZ2h0XCI9PWIpYS5zdHlsZXNbXCJmbG9hdFwiXT1ifWRlbGV0ZSBhLmF0dHJpYnV0ZXMuYWxpZ259LGFsaWdubWVudFRvQXR0cmlidXRlOmZ1bmN0aW9uKGEpe2lmKCEoXCJhbGlnblwiaW4gYS5hdHRyaWJ1dGVzKSl7dmFyIGI9YS5zdHlsZXNbXCJmbG9hdFwiXTtpZihcImxlZnRcIj09Ynx8XCJyaWdodFwiPT1iKWEuYXR0cmlidXRlcy5hbGlnbj1ifWRlbGV0ZSBhLnN0eWxlc1tcImZsb2F0XCJdfSxzcGxpdEJvcmRlclNob3J0aGFuZDpmdW5jdGlvbihhKXtpZihhLnN0eWxlcy5ib3JkZXIpe3ZhciBiPUNLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLmJvcmRlcihhLnN0eWxlcy5ib3JkZXIpO2IuY29sb3ImJihhLnN0eWxlc1tcImJvcmRlci1jb2xvclwiXT1iLmNvbG9yKTtiLnN0eWxlJiYoYS5zdHlsZXNbXCJib3JkZXItc3R5bGVcIl09Yi5zdHlsZSk7Yi53aWR0aCYmKGEuc3R5bGVzW1wiYm9yZGVyLXdpZHRoXCJdPWIud2lkdGgpO1xuZGVsZXRlIGEuc3R5bGVzLmJvcmRlcn19LGxpc3RUeXBlVG9TdHlsZTpmdW5jdGlvbihhKXtpZihhLmF0dHJpYnV0ZXMudHlwZSlzd2l0Y2goYS5hdHRyaWJ1dGVzLnR5cGUpe2Nhc2UgXCJhXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJBXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJpXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1yb21hblwiO2JyZWFrO2Nhc2UgXCJJXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1yb21hblwiO2JyZWFrO2Nhc2UgXCIxXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJkZWNpbWFsXCI7YnJlYWs7ZGVmYXVsdDphLnN0eWxlc1tcImxpc3Qtc3R5bGUtdHlwZVwiXT1hLmF0dHJpYnV0ZXMudHlwZX19LHNwbGl0TWFyZ2luU2hvcnRoYW5kOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZil7YS5zdHlsZXNbXCJtYXJnaW4tdG9wXCJdPVxuZFtmWzBdXTthLnN0eWxlc1tcIm1hcmdpbi1yaWdodFwiXT1kW2ZbMV1dO2Euc3R5bGVzW1wibWFyZ2luLWJvdHRvbVwiXT1kW2ZbMl1dO2Euc3R5bGVzW1wibWFyZ2luLWxlZnRcIl09ZFtmWzNdXX1pZihhLnN0eWxlcy5tYXJnaW4pe3ZhciBkPWEuc3R5bGVzLm1hcmdpbi5tYXRjaCgvKFxcLT9bXFwuXFxkXStcXHcrKS9nKXx8W1wiMHB4XCJdO3N3aXRjaChkLmxlbmd0aCl7Y2FzZSAxOmIoWzAsMCwwLDBdKTticmVhaztjYXNlIDI6YihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpiKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmIoWzAsMSwyLDNdKX1kZWxldGUgYS5zdHlsZXMubWFyZ2lufX0sbWF0Y2hlc1N0eWxlOkYsdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYS5uYW1lPWI7ZWxzZXt2YXIgZD1iLmdldERlZmluaXRpb24oKSxmPWQuc3R5bGVzLGM9ZC5hdHRyaWJ1dGVzLGUsaCxuLGc7YS5uYW1lPWQuZWxlbWVudDtmb3IoZSBpbiBjKWlmKFwiY2xhc3NcIj09ZSlmb3IoZD1cbmEuY2xhc3Nlcy5qb2luKFwifFwiKSxuPWNbZV0uc3BsaXQoL1xccysvKTtnPW4ucG9wKCk7KS0xPT1kLmluZGV4T2YoZykmJmEuY2xhc3Nlcy5wdXNoKGcpO2Vsc2UgYS5hdHRyaWJ1dGVzW2VdPWNbZV07Zm9yKGggaW4gZilhLnN0eWxlc1toXT1mW2hdfX19fSkoKTsoZnVuY3Rpb24oKXtDS0VESVRPUi5mb2N1c01hbmFnZXI9ZnVuY3Rpb24oYyl7aWYoYy5mb2N1c01hbmFnZXIpcmV0dXJuIGMuZm9jdXNNYW5hZ2VyO3RoaXMuaGFzRm9jdXM9ITE7dGhpcy5jdXJyZW50QWN0aXZlPW51bGw7dGhpcy5fPXtlZGl0b3I6Y307cmV0dXJuIHRoaXN9O0NLRURJVE9SLmZvY3VzTWFuYWdlci5fPXtibHVyRGVsYXk6MjAwfTtDS0VESVRPUi5mb2N1c01hbmFnZXIucHJvdG90eXBlPXtmb2N1czpmdW5jdGlvbihjKXt0aGlzLl8udGltZXImJmNsZWFyVGltZW91dCh0aGlzLl8udGltZXIpO2MmJih0aGlzLmN1cnJlbnRBY3RpdmU9Yyk7dGhpcy5oYXNGb2N1c3x8dGhpcy5fLmxvY2tlZHx8KChjPUNLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSkmJlxuYy5mb2N1c01hbmFnZXIuYmx1cigxKSx0aGlzLmhhc0ZvY3VzPSEwLChjPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyKSYmYy5hZGRDbGFzcyhcImNrZV9mb2N1c1wiKSx0aGlzLl8uZWRpdG9yLmZpcmUoXCJmb2N1c1wiKSl9LGxvY2s6ZnVuY3Rpb24oKXt0aGlzLl8ubG9ja2VkPTF9LHVubG9jazpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8ubG9ja2VkfSxibHVyOmZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGcoKXtpZih0aGlzLmhhc0ZvY3VzKXt0aGlzLmhhc0ZvY3VzPSExO3ZhciBiPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyO2ImJmIucmVtb3ZlQ2xhc3MoXCJja2VfZm9jdXNcIik7dGhpcy5fLmVkaXRvci5maXJlKFwiYmx1clwiKX19aWYoIXRoaXMuXy5sb2NrZWQpe3RoaXMuXy50aW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuXy50aW1lcik7dmFyIGU9Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLl8uYmx1ckRlbGF5O2N8fCFlP2cuY2FsbCh0aGlzKTp0aGlzLl8udGltZXI9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8udGltZXI7XG5nLmNhbGwodGhpcyl9LGUsdGhpcyl9fSxhZGQ6ZnVuY3Rpb24oYyxnKXt2YXIgZT1jLmdldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIik7aWYoIWV8fGUhPXRoaXMpe2UmJmUucmVtb3ZlKGMpO3ZhciBlPVwiZm9jdXNcIixiPVwiYmx1clwiO2cmJihDS0VESVRPUi5lbnYuaWU/KGU9XCJmb2N1c2luXCIsYj1cImZvY3Vzb3V0XCIpOkNLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MSk7dmFyIGg9e2JsdXI6ZnVuY3Rpb24oKXtjLmVxdWFscyh0aGlzLmN1cnJlbnRBY3RpdmUpJiZ0aGlzLmJsdXIoKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKGMpfX07Yy5vbihlLGguZm9jdXMsdGhpcyk7Yy5vbihiLGguYmx1cix0aGlzKTtnJiYoQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0wKTtjLnNldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIix0aGlzKTtjLnNldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJfaGFuZGxlcnNcIixoKX19LHJlbW92ZTpmdW5jdGlvbihjKXtjLnJlbW92ZUN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIik7XG52YXIgZz1jLnJlbW92ZUN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJfaGFuZGxlcnNcIik7Yy5yZW1vdmVMaXN0ZW5lcihcImJsdXJcIixnLmJsdXIpO2MucmVtb3ZlTGlzdGVuZXIoXCJmb2N1c1wiLGcuZm9jdXMpfX19KSgpO0NLRURJVE9SLmtleXN0cm9rZUhhbmRsZXI9ZnVuY3Rpb24oYyl7aWYoYy5rZXlzdHJva2VIYW5kbGVyKXJldHVybiBjLmtleXN0cm9rZUhhbmRsZXI7dGhpcy5rZXlzdHJva2VzPXt9O3RoaXMuYmxvY2tlZEtleXN0cm9rZXM9e307dGhpcy5fPXtlZGl0b3I6Y307cmV0dXJuIHRoaXN9OyhmdW5jdGlvbigpe3ZhciBjLGc9ZnVuY3Rpb24oYil7Yj1iLmRhdGE7dmFyIGU9Yi5nZXRLZXlzdHJva2UoKSxnPXRoaXMua2V5c3Ryb2tlc1tlXSxsPXRoaXMuXy5lZGl0b3I7Yz0hMT09PWwuZmlyZShcImtleVwiLHtrZXlDb2RlOmUsZG9tRXZlbnQ6Yn0pO2N8fChnJiYoYz0hMSE9PWwuZXhlY0NvbW1hbmQoZyx7ZnJvbTpcImtleXN0cm9rZUhhbmRsZXJcIn0pKSxjfHwoYz0hIXRoaXMuYmxvY2tlZEtleXN0cm9rZXNbZV0pKTtcbmMmJmIucHJldmVudERlZmF1bHQoITApO3JldHVybiFjfSxlPWZ1bmN0aW9uKGIpe2MmJihjPSExLGIuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCkpfTtDS0VESVRPUi5rZXlzdHJva2VIYW5kbGVyLnByb3RvdHlwZT17YXR0YWNoOmZ1bmN0aW9uKGIpe2Iub24oXCJrZXlkb3duXCIsZyx0aGlzKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMpYi5vbihcImtleXByZXNzXCIsZSx0aGlzKX19fSkoKTsoZnVuY3Rpb24oKXtDS0VESVRPUi5sYW5nPXtsYW5ndWFnZXM6e2FmOjEsYXI6MSxhejoxLGJnOjEsYm46MSxiczoxLGNhOjEsY3M6MSxjeToxLGRhOjEsZGU6MSxcImRlLWNoXCI6MSxlbDoxLFwiZW4tYXVcIjoxLFwiZW4tY2FcIjoxLFwiZW4tZ2JcIjoxLGVuOjEsZW86MSxlczoxLFwiZXMtbXhcIjoxLGV0OjEsZXU6MSxmYToxLGZpOjEsZm86MSxcImZyLWNhXCI6MSxmcjoxLGdsOjEsZ3U6MSxoZToxLGhpOjEsaHI6MSxodToxLGlkOjEsaXM6MSxpdDoxLGphOjEsa2E6MSxrbToxLGtvOjEsXG5rdToxLGx0OjEsbHY6MSxtazoxLG1uOjEsbXM6MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEsXCJwdC1iclwiOjEscHQ6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxcInNyLWxhdG5cIjoxLHNyOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSxcInpoLWNuXCI6MSx6aDoxfSxydGw6e2FyOjEsZmE6MSxoZToxLGt1OjEsdWc6MX0sbG9hZDpmdW5jdGlvbihjLGcsZSl7YyYmQ0tFRElUT1IubGFuZy5sYW5ndWFnZXNbY118fChjPXRoaXMuZGV0ZWN0KGcsYykpO3ZhciBiPXRoaXM7Zz1mdW5jdGlvbigpe2JbY10uZGlyPWIucnRsW2NdP1wicnRsXCI6XCJsdHJcIjtlKGMsYltjXSl9O3RoaXNbY10/ZygpOkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChcImxhbmcvXCIrYytcIi5qc1wiKSxnLHRoaXMpfSxkZXRlY3Q6ZnVuY3Rpb24oYyxnKXt2YXIgZT10aGlzLmxhbmd1YWdlcztnPWd8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5sYW5ndWFnZXx8XG5jO3ZhciBiPWcudG9Mb3dlckNhc2UoKS5tYXRjaCgvKFthLXpdKykoPzotKFthLXpdKykpPy8pLGg9YlsxXSxiPWJbMl07ZVtoK1wiLVwiK2JdP2g9aCtcIi1cIitiOmVbaF18fChoPW51bGwpO0NLRURJVE9SLmxhbmcuZGV0ZWN0PWg/ZnVuY3Rpb24oKXtyZXR1cm4gaH06ZnVuY3Rpb24oYil7cmV0dXJuIGJ9O3JldHVybiBofHxjfX19KSgpO0NLRURJVE9SLnNjcmlwdExvYWRlcj1mdW5jdGlvbigpe3ZhciBjPXt9LGc9e307cmV0dXJue2xvYWQ6ZnVuY3Rpb24oZSxiLGgsbSl7dmFyIGw9XCJzdHJpbmdcIj09dHlwZW9mIGU7bCYmKGU9W2VdKTtofHwoaD1DS0VESVRPUik7dmFyIGs9ZS5sZW5ndGgsZD1bXSxmPVtdLGE9ZnVuY3Rpb24oYSl7YiYmKGw/Yi5jYWxsKGgsYSk6Yi5jYWxsKGgsZCxmKSl9O2lmKDA9PT1rKWEoITApO2Vsc2V7dmFyIG49ZnVuY3Rpb24oYixjKXsoYz9kOmYpLnB1c2goYik7MD49LS1rJiYobSYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkucmVtb3ZlU3R5bGUoXCJjdXJzb3JcIiksXG5hKGMpKX0scj1mdW5jdGlvbihhLGIpe2NbYV09MTt2YXIgZD1nW2FdO2RlbGV0ZSBnW2FdO2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWRbZl0oYSxiKX0seD1mdW5jdGlvbihhKXtpZihjW2FdKW4oYSwhMCk7ZWxzZXt2YXIgZD1nW2FdfHwoZ1thXT1bXSk7ZC5wdXNoKG4pO2lmKCEoMTxkLmxlbmd0aCkpe3ZhciBmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNjcmlwdFwiKTtmLnNldEF0dHJpYnV0ZXMoe3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIixzcmM6YX0pO2ImJihDS0VESVRPUi5lbnYuaWUmJig4Pj1DS0VESVRPUi5lbnYudmVyc2lvbnx8Q0tFRElUT1IuZW52LmllOUNvbXBhdCk/Zi4kLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKFwibG9hZGVkXCI9PWYuJC5yZWFkeVN0YXRlfHxcImNvbXBsZXRlXCI9PWYuJC5yZWFkeVN0YXRlKWYuJC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxyKGEsITApfTooZi4kLm9ubG9hZD1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmLiQub25sb2FkPVxubnVsbDtmLiQub25lcnJvcj1udWxsO3IoYSwhMCl9LDApfSxmLiQub25lcnJvcj1mdW5jdGlvbigpe2YuJC5vbmxvYWQ9bnVsbDtmLiQub25lcnJvcj1udWxsO3IoYSwhMSl9KSk7Zi5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRIZWFkKCkpfX19O20mJkNLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlKFwiY3Vyc29yXCIsXCJ3YWl0XCIpO2Zvcih2YXIgcD0wO3A8aztwKyspeChlW3BdKX19LHF1ZXVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYygpe3ZhciBlOyhlPWJbMF0pJiZ0aGlzLmxvYWQoZS5zY3JpcHRVcmwsZS5jYWxsYmFjayxDS0VESVRPUiwwKX12YXIgYj1bXTtyZXR1cm4gZnVuY3Rpb24oaCxnKXt2YXIgbD10aGlzO2IucHVzaCh7c2NyaXB0VXJsOmgsY2FsbGJhY2s6ZnVuY3Rpb24oKXtnJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLnNoaWZ0KCk7Yy5jYWxsKGwpfX0pOzE9PWIubGVuZ3RoJiZjLmNhbGwodGhpcyl9fSgpfX0oKTtDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXI9XG5mdW5jdGlvbihjLGcpe3RoaXMuYmFzZVBhdGg9Yzt0aGlzLmZpbGVOYW1lPWc7dGhpcy5yZWdpc3RlcmVkPXt9O3RoaXMubG9hZGVkPXt9O3RoaXMuZXh0ZXJuYWxzPXt9O3RoaXMuXz17d2FpdGluZ0xpc3Q6e319fTtDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYyxnKXtpZih0aGlzLnJlZ2lzdGVyZWRbY10pdGhyb3cgRXJyb3IoJ1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIuYWRkXSBUaGUgcmVzb3VyY2UgbmFtZSBcIicrYysnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLicpO3ZhciBlPXRoaXMucmVnaXN0ZXJlZFtjXT1nfHx7fTtlLm5hbWU9YztlLnBhdGg9dGhpcy5nZXRQYXRoKGMpO0NLRURJVE9SLmZpcmUoYytDS0VESVRPUi50b29scy5jYXBpdGFsaXplKHRoaXMuZmlsZU5hbWUpK1wiUmVhZHlcIixlKTtyZXR1cm4gdGhpcy5nZXQoYyl9LGdldDpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5yZWdpc3RlcmVkW2NdfHxudWxsfSxnZXRQYXRoOmZ1bmN0aW9uKGMpe3ZhciBnPVxudGhpcy5leHRlcm5hbHNbY107cmV0dXJuIENLRURJVE9SLmdldFVybChnJiZnLmRpcnx8dGhpcy5iYXNlUGF0aCtjK1wiL1wiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcy5leHRlcm5hbHNbY107cmV0dXJuIENLRURJVE9SLmdldFVybCh0aGlzLmdldFBhdGgoYykrKGc/Zy5maWxlOnRoaXMuZmlsZU5hbWUrXCIuanNcIikpfSxhZGRFeHRlcm5hbDpmdW5jdGlvbihjLGcsZSl7ZXx8KGc9Zy5yZXBsYWNlKC9bXlxcL10rJC8sZnVuY3Rpb24oYil7ZT1iO3JldHVyblwiXCJ9KSk7ZT1lfHx0aGlzLmZpbGVOYW1lK1wiLmpzXCI7Yz1jLnNwbGl0KFwiLFwiKTtmb3IodmFyIGI9MDtiPGMubGVuZ3RoO2IrKyl0aGlzLmV4dGVybmFsc1tjW2JdXT17ZGlyOmcsZmlsZTplfX0sbG9hZDpmdW5jdGlvbihjLGcsZSl7Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKXx8KGM9Yz9bY106W10pO2Zvcih2YXIgYj10aGlzLmxvYWRlZCxoPXRoaXMucmVnaXN0ZXJlZCxtPVtdLGw9e30saz17fSxkPTA7ZDxcbmMubGVuZ3RoO2QrKyl7dmFyIGY9Y1tkXTtpZihmKWlmKGJbZl18fGhbZl0pa1tmXT10aGlzLmdldChmKTtlbHNle3ZhciBhPXRoaXMuZ2V0RmlsZVBhdGgoZik7bS5wdXNoKGEpO2EgaW4gbHx8KGxbYV09W10pO2xbYV0ucHVzaChmKX19Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQobSxmdW5jdGlvbihhLGQpe2lmKGQubGVuZ3RoKXRocm93IEVycm9yKCdbQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLmxvYWRdIFJlc291cmNlIG5hbWUgXCInK2xbZFswXV0uam9pbihcIixcIikrJ1wiIHdhcyBub3QgZm91bmQgYXQgXCInK2RbMF0rJ1wiLicpO2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWZvcih2YXIgYz1sW2FbZl1dLGg9MDtoPGMubGVuZ3RoO2grKyl7dmFyIG09Y1toXTtrW21dPXRoaXMuZ2V0KG0pO2JbbV09MX1nLmNhbGwoZSxrKX0sdGhpcyl9fTtDS0VESVRPUi5wbHVnaW5zPW5ldyBDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIoXCJwbHVnaW5zL1wiLFwicGx1Z2luXCIpO0NLRURJVE9SLnBsdWdpbnMubG9hZD1cbkNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKENLRURJVE9SLnBsdWdpbnMubG9hZCxmdW5jdGlvbihjKXt2YXIgZz17fTtyZXR1cm4gZnVuY3Rpb24oZSxiLGgpe3ZhciBtPXt9LGw9ZnVuY3Rpb24oZSl7Yy5jYWxsKHRoaXMsZSxmdW5jdGlvbihkKXtDS0VESVRPUi50b29scy5leHRlbmQobSxkKTt2YXIgZj1bXSxhO2ZvcihhIGluIGQpe3ZhciBjPWRbYV0sZT1jJiZjLnJlcXVpcmVzO2lmKCFnW2FdKXtpZihjLmljb25zKWZvcih2YXIgaz1jLmljb25zLnNwbGl0KFwiLFwiKSxwPWsubGVuZ3RoO3AtLTspQ0tFRElUT1Iuc2tpbi5hZGRJY29uKGtbcF0sYy5wYXRoK1wiaWNvbnMvXCIrKENLRURJVE9SLmVudi5oaWRwaSYmYy5oaWRwaT9cImhpZHBpL1wiOlwiXCIpK2tbcF0rXCIucG5nXCIpO2MuaXNTdXBwb3J0ZWRFbnZpcm9ubWVudD1jLmlzU3VwcG9ydGVkRW52aXJvbm1lbnR8fGZ1bmN0aW9uKCl7cmV0dXJuITB9O2dbYV09MX1pZihlKWZvcihlLnNwbGl0JiYoZT1lLnNwbGl0KFwiLFwiKSksYz0wO2M8ZS5sZW5ndGg7YysrKW1bZVtjXV18fFxuZi5wdXNoKGVbY10pfWlmKGYubGVuZ3RoKWwuY2FsbCh0aGlzLGYpO2Vsc2V7Zm9yKGEgaW4gbSljPW1bYV0sYy5vbkxvYWQmJiFjLm9uTG9hZC5fY2FsbGVkJiYoITE9PT1jLm9uTG9hZCgpJiZkZWxldGUgbVthXSxjLm9uTG9hZC5fY2FsbGVkPTEpO2ImJmIuY2FsbChofHx3aW5kb3csbSl9fSx0aGlzKX07bC5jYWxsKHRoaXMsZSl9fSk7Q0tFRElUT1IucGx1Z2lucy5zZXRMYW5nPWZ1bmN0aW9uKGMsZyxlKXt2YXIgYj10aGlzLmdldChjKTtjPWIubGFuZ0VudHJpZXN8fChiLmxhbmdFbnRyaWVzPXt9KTtiPWIubGFuZ3x8KGIubGFuZz1bXSk7Yi5zcGxpdCYmKGI9Yi5zcGxpdChcIixcIikpOy0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGIsZykmJmIucHVzaChnKTtjW2ddPWV9O0NLRURJVE9SLnVpPWZ1bmN0aW9uKGMpe2lmKGMudWkpcmV0dXJuIGMudWk7dGhpcy5pdGVtcz17fTt0aGlzLmluc3RhbmNlcz17fTt0aGlzLmVkaXRvcj1jO3RoaXMuXz17aGFuZGxlcnM6e319O3JldHVybiB0aGlzfTtcbkNLRURJVE9SLnVpLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGMsZyxlKXtlLm5hbWU9Yy50b0xvd2VyQ2FzZSgpO3ZhciBiPXRoaXMuaXRlbXNbY109e3R5cGU6Zyxjb21tYW5kOmUuY29tbWFuZHx8bnVsbCxhcmdzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsZSl9LGdldDpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXNbY119LGNyZWF0ZTpmdW5jdGlvbihjKXt2YXIgZz10aGlzLml0ZW1zW2NdLGU9ZyYmdGhpcy5fLmhhbmRsZXJzW2cudHlwZV0sYj1nJiZnLmNvbW1hbmQmJnRoaXMuZWRpdG9yLmdldENvbW1hbmQoZy5jb21tYW5kKSxlPWUmJmUuY3JlYXRlLmFwcGx5KHRoaXMsZy5hcmdzKTt0aGlzLmluc3RhbmNlc1tjXT1lO2ImJmIudWlJdGVtcy5wdXNoKGUpO2UmJiFlLnR5cGUmJihlLnR5cGU9Zy50eXBlKTtyZXR1cm4gZX0sYWRkSGFuZGxlcjpmdW5jdGlvbihjLGcpe3RoaXMuXy5oYW5kbGVyc1tjXT1cbmd9LHNwYWNlOmZ1bmN0aW9uKGMpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuc3BhY2VJZChjKSl9LHNwYWNlSWQ6ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZWRpdG9yLmlkK1wiX1wiK2N9fTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi51aSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhLGQsZil7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKTthPWEmJkNLRURJVE9SLnRvb2xzLmNsb25lKGEpO2lmKHZvaWQgMCE9PWQpe2lmKCEoZCBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50KSl0aHJvdyBFcnJvcihcIkV4cGVjdCBlbGVtZW50IG9mIHR5cGUgQ0tFRElUT1IuZG9tLmVsZW1lbnQuXCIpO2lmKCFmKXRocm93IEVycm9yKFwiT25lIG9mIHRoZSBlbGVtZW50IG1vZGVzIG11c3QgYmUgc3BlY2lmaWVkLlwiKTtpZihDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJmY9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpdGhyb3cgRXJyb3IoXCJJbmxpbmUgZWxlbWVudCBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgcXVpcmtzLlwiKTtcbmlmKCFlKGQsZikpdGhyb3cgRXJyb3IoJ1RoZSBzcGVjaWZpZWQgZWxlbWVudCBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgb24gZWxlbWVudDogXCInK2QuZ2V0TmFtZSgpKydcIi4nKTt0aGlzLmVsZW1lbnQ9ZDt0aGlzLmVsZW1lbnRNb2RlPWY7dGhpcy5uYW1lPXRoaXMuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTyYmKGQuZ2V0SWQoKXx8ZC5nZXROYW1lQXR0KCkpfWVsc2UgdGhpcy5lbGVtZW50TW9kZT1DS0VESVRPUi5FTEVNRU5UX01PREVfTk9ORTt0aGlzLl89e307dGhpcy5jb21tYW5kcz17fTt0aGlzLnRlbXBsYXRlcz17fTt0aGlzLm5hbWU9dGhpcy5uYW1lfHxnKCk7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLnN0YXR1cz1cInVubG9hZGVkXCI7dGhpcy5jb25maWc9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoQ0tFRElUT1IuY29uZmlnKTt0aGlzLnVpPW5ldyBDS0VESVRPUi51aSh0aGlzKTt0aGlzLmZvY3VzTWFuYWdlcj1cbm5ldyBDS0VESVRPUi5mb2N1c01hbmFnZXIodGhpcyk7dGhpcy5rZXlzdHJva2VIYW5kbGVyPW5ldyBDS0VESVRPUi5rZXlzdHJva2VIYW5kbGVyKHRoaXMpO3RoaXMub24oXCJyZWFkT25seVwiLGIpO3RoaXMub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihhKXttKHRoaXMsYS5kYXRhLnBhdGgpfSk7dGhpcy5vbihcImFjdGl2ZUZpbHRlckNoYW5nZVwiLGZ1bmN0aW9uKCl7bSh0aGlzLHRoaXMuZWxlbWVudFBhdGgoKSwhMCl9KTt0aGlzLm9uKFwibW9kZVwiLGIpO0NLRURJVE9SLmRvbS5zZWxlY3Rpb24uc2V0dXBFZGl0b3JPcHRpbWl6YXRpb24odGhpcyk7dGhpcy5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbigpe2lmKHRoaXMuY29uZmlnLnN0YXJ0dXBGb2N1cyl7aWYoXCJlbmRcIj09PXRoaXMuY29uZmlnLnN0YXJ0dXBGb2N1cyl7dmFyIGE9dGhpcy5jcmVhdGVSYW5nZSgpO2Euc2VsZWN0Tm9kZUNvbnRlbnRzKHRoaXMuZWRpdGFibGUoKSk7YS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsXG4hMCk7YS5jb2xsYXBzZSgpO3RoaXMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFthXSl9dGhpcy5mb2N1cygpfX0pO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZUNyZWF0ZWRcIixudWxsLHRoaXMpO0NLRURJVE9SLmFkZCh0aGlzKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5pc0Rlc3Ryb3llZCgpfHx0aGlzLmlzRGV0YWNoZWQoKXx8ayh0aGlzLGEpfSwwLHRoaXMpfWZ1bmN0aW9uIGcoKXtkbyB2YXIgYT1cImVkaXRvclwiKyArK3A7d2hpbGUoQ0tFRElUT1IuaW5zdGFuY2VzW2FdKTtyZXR1cm4gYX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGI9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5pcyhDS0VESVRPUi5kdGQuJGVkaXRhYmxlKXx8YS5pcyhcInRleHRhcmVhXCIpOmI9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPyFhLmlzKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnQpOjF9ZnVuY3Rpb24gYigpe3ZhciBhPXRoaXMuY29tbWFuZHMsXG5iO2ZvcihiIGluIGEpaCh0aGlzLGFbYl0pfWZ1bmN0aW9uIGgoYSxiKXtiW2Iuc3RhcnREaXNhYmxlZD9cImRpc2FibGVcIjphLnJlYWRPbmx5JiYhYi5yZWFkT25seT9cImRpc2FibGVcIjpiLm1vZGVzW2EubW9kZV0/XCJlbmFibGVcIjpcImRpc2FibGVcIl0oKX1mdW5jdGlvbiBtKGEsYixkKXtpZihiKXt2YXIgZixjLGU9YS5jb21tYW5kcztmb3IoYyBpbiBlKWY9ZVtjXSwoZHx8Zi5jb250ZXh0U2Vuc2l0aXZlKSYmZi5yZWZyZXNoKGEsYil9fWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5jb25maWcuY3VzdG9tQ29uZmlnO2lmKCFiKXJldHVybiExO3ZhciBiPUNLRURJVE9SLmdldFVybChiKSxkPXFbYl18fChxW2JdPXt9KTtkLmZuPyhkLmZuLmNhbGwoYSxhLmNvbmZpZyksQ0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLmN1c3RvbUNvbmZpZykhPWImJmwoYSl8fGEuZmlyZU9uY2UoXCJjdXN0b21Db25maWdMb2FkZWRcIikpOkNLRURJVE9SLnNjcmlwdExvYWRlci5xdWV1ZShiLGZ1bmN0aW9uKCl7ZC5mbj1cbkNLRURJVE9SLmVkaXRvckNvbmZpZz9DS0VESVRPUi5lZGl0b3JDb25maWc6ZnVuY3Rpb24oKXt9O2woYSl9KTtyZXR1cm4hMH1mdW5jdGlvbiBrKGEsYil7YS5vbihcImN1c3RvbUNvbmZpZ0xvYWRlZFwiLGZ1bmN0aW9uKCl7aWYoYil7aWYoYi5vbilmb3IodmFyIGYgaW4gYi5vbilhLm9uKGYsYi5vbltmXSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGEuY29uZmlnLGIsITApO2RlbGV0ZSBhLmNvbmZpZy5vbn1mPWEuY29uZmlnO2EucmVhZE9ubHk9Zi5yZWFkT25seT8hMDphLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuZWxlbWVudC5pcyhcInRleHRhcmVhXCIpP2EuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpOmEuZWxlbWVudC5pc1JlYWRPbmx5KCk6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpfHxcbmEuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTohMTthLmJsb2NrbGVzcz1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FPyEoYS5lbGVtZW50LmlzKFwidGV4dGFyZWFcIil8fENLRURJVE9SLmR0ZFthLmVsZW1lbnQuZ2V0TmFtZSgpXS5wKTohMTthLnRhYkluZGV4PWYudGFiSW5kZXh8fGEuZWxlbWVudCYmYS5lbGVtZW50LmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpfHwwO2EuYWN0aXZlRW50ZXJNb2RlPWEuZW50ZXJNb2RlPWEuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmYuZW50ZXJNb2RlO2EuYWN0aXZlU2hpZnRFbnRlck1vZGU9YS5zaGlmdEVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpmLnNoaWZ0RW50ZXJNb2RlO2Yuc2tpbiYmKENLRURJVE9SLnNraW5OYW1lPWYuc2tpbik7YS5maXJlT25jZShcImNvbmZpZ0xvYWRlZFwiKTthLmRhdGFQcm9jZXNzb3I9bmV3IENLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yKGEpO1xuYS5maWx0ZXI9YS5hY3RpdmVGaWx0ZXI9bmV3IENLRURJVE9SLmZpbHRlcihhKTtkKGEpfSk7YiYmbnVsbCE9Yi5jdXN0b21Db25maWcmJihhLmNvbmZpZy5jdXN0b21Db25maWc9Yi5jdXN0b21Db25maWcpO2woYSl8fGEuZmlyZU9uY2UoXCJjdXN0b21Db25maWdMb2FkZWRcIil9ZnVuY3Rpb24gZChhKXtDS0VESVRPUi5za2luLmxvYWRQYXJ0KFwiZWRpdG9yXCIsZnVuY3Rpb24oKXtmKGEpfSl9ZnVuY3Rpb24gZihiKXtDS0VESVRPUi5sYW5nLmxvYWQoYi5jb25maWcubGFuZ3VhZ2UsYi5jb25maWcuZGVmYXVsdExhbmd1YWdlLGZ1bmN0aW9uKGQsZil7dmFyIGM9Yi5jb25maWcudGl0bGU7Yi5sYW5nQ29kZT1kO2IubGFuZz1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShmKTtiLnRpdGxlPVwic3RyaW5nXCI9PXR5cGVvZiBjfHwhMT09PWM/YzpbYi5sYW5nLmVkaXRvcixiLm5hbWVdLmpvaW4oXCIsIFwiKTtiLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb258fChiLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb249XG5iLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2IuZWxlbWVudC5nZXREaXJlY3Rpb24oMSk6Yi5sYW5nLmRpcik7Yi5maXJlKFwibGFuZ0xvYWRlZFwiKTthKGIpfSl9ZnVuY3Rpb24gYShhKXthLmdldFN0eWxlc1NldChmdW5jdGlvbihiKXthLm9uY2UoXCJsb2FkZWRcIixmdW5jdGlvbigpe2EuZmlyZShcInN0eWxlc1NldFwiLHtzdHlsZXM6Yn0pfSxudWxsLG51bGwsMSk7bihhKX0pfWZ1bmN0aW9uIG4oYSl7ZnVuY3Rpb24gYihhKXtpZighYSlyZXR1cm5cIlwiO0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkmJihhPWEuam9pbihcIixcIikpO3JldHVybiBhLnJlcGxhY2UoL1xccy9nLFwiXCIpfXZhciBkPWEuY29uZmlnLGY9YihkLnBsdWdpbnMpLGM9YihkLmV4dHJhUGx1Z2lucyksZT1iKGQucmVtb3ZlUGx1Z2lucyk7aWYoYyl2YXIgaD1uZXcgUmVnRXhwKFwiKD86XnwsKSg/OlwiK2MucmVwbGFjZSgvLC9nLFwifFwiKStcIikoP1xceDNkLHwkKVwiLFwiZ1wiKSxmPWYucmVwbGFjZShoLFxuXCJcIiksZj1mKyhcIixcIitjKTtpZihlKXZhciBuPW5ldyBSZWdFeHAoXCIoPzpefCwpKD86XCIrZS5yZXBsYWNlKC8sL2csXCJ8XCIpK1wiKSg/XFx4M2QsfCQpXCIsXCJnXCIpLGY9Zi5yZXBsYWNlKG4sXCJcIik7Q0tFRElUT1IuZW52LmFpciYmKGYrPVwiLGFkb2JlYWlyXCIpO0NLRURJVE9SLnBsdWdpbnMubG9hZChmLnNwbGl0KFwiLFwiKSxmdW5jdGlvbihiKXt2YXIgZj1bXSxjPVtdLGU9W107YS5wbHVnaW5zPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLnBsdWdpbnMsYik7Zm9yKHZhciBoIGluIGIpe3ZhciBnPWJbaF0sbD1nLmxhbmcsaz1udWxsLG09Zy5yZXF1aXJlcyxBO0NLRURJVE9SLnRvb2xzLmlzQXJyYXkobSkmJihtPW0uam9pbihcIixcIikpO2lmKG0mJihBPW0ubWF0Y2gobikpKWZvcig7bT1BLnBvcCgpOylDS0VESVRPUi5lcnJvcihcImVkaXRvci1wbHVnaW4tcmVxdWlyZWRcIix7cGx1Z2luOm0ucmVwbGFjZShcIixcIixcIlwiKSxyZXF1aXJlZEJ5Omh9KTtsJiYhYS5sYW5nW2hdJiYobC5zcGxpdCYmXG4obD1sLnNwbGl0KFwiLFwiKSksMDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihsLGEubGFuZ0NvZGUpP2s9YS5sYW5nQ29kZTooaz1hLmxhbmdDb2RlLnJlcGxhY2UoLy0uKi8sXCJcIiksaz1rIT1hLmxhbmdDb2RlJiYwPD1DS0VESVRPUi50b29scy5pbmRleE9mKGwsayk/azowPD1DS0VESVRPUi50b29scy5pbmRleE9mKGwsXCJlblwiKT9cImVuXCI6bFswXSksZy5sYW5nRW50cmllcyYmZy5sYW5nRW50cmllc1trXT8oYS5sYW5nW2hdPWcubGFuZ0VudHJpZXNba10saz1udWxsKTplLnB1c2goQ0tFRElUT1IuZ2V0VXJsKGcucGF0aCtcImxhbmcvXCIraytcIi5qc1wiKSkpO2MucHVzaChrKTtmLnB1c2goZyl9Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoZSxmdW5jdGlvbigpe2lmKCFhLmlzRGVzdHJveWVkKCkmJiFhLmlzRGV0YWNoZWQoKSl7Zm9yKHZhciBiPVtcImJlZm9yZUluaXRcIixcImluaXRcIixcImFmdGVySW5pdFwiXSxlPTA7ZTxiLmxlbmd0aDtlKyspZm9yKHZhciBoPTA7aDxmLmxlbmd0aDtoKyspe3ZhciBuPVxuZltoXTswPT09ZSYmY1toXSYmbi5sYW5nJiZuLmxhbmdFbnRyaWVzJiYoYS5sYW5nW24ubmFtZV09bi5sYW5nRW50cmllc1tjW2hdXSk7aWYobltiW2VdXSluW2JbZV1dKGEpfWEuZmlyZU9uY2UoXCJwbHVnaW5zTG9hZGVkXCIpO2Qua2V5c3Ryb2tlcyYmYS5zZXRLZXlzdHJva2UoYS5jb25maWcua2V5c3Ryb2tlcyk7Zm9yKGg9MDtoPGEuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzLmxlbmd0aDtoKyspYS5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzW2EuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzW2hdXT0xO2Euc3RhdHVzPVwibG9hZGVkXCI7YS5maXJlT25jZShcImxvYWRlZFwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VMb2FkZWRcIixudWxsLGEpfX0pfSl9ZnVuY3Rpb24gcigpe3ZhciBhPXRoaXMuZWxlbWVudDtpZihhJiZ0aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pe3ZhciBiPXRoaXMuZ2V0RGF0YSgpO3RoaXMuY29uZmlnLmh0bWxFbmNvZGVPdXRwdXQmJlxuKGI9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShiKSk7YS5pcyhcInRleHRhcmVhXCIpP2Euc2V0VmFsdWUoYik6YS5zZXRIdG1sKGIpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHgoYSxiKXtmdW5jdGlvbiBkKGEpe3ZhciBiPWEuc3RhcnRDb250YWluZXIsZj1hLmVuZENvbnRhaW5lcjtyZXR1cm4gYi5pcyYmKGIuaXMoXCJ0clwiKXx8Yi5pcyhcInRkXCIpJiZiLmVxdWFscyhmKSYmYS5lbmRPZmZzZXQ9PT1iLmdldENoaWxkQ291bnQoKSk/ITA6ITF9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLnN0YXJ0Q29udGFpbmVyO3JldHVybiBiLmlzKFwidHJcIik/YS5jbG9uZUNvbnRlbnRzKCk6Yi5jbG9uZSghMCl9Zm9yKHZhciBjPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCxlLGgsbixnPTA7ZzxhLmxlbmd0aDtnKyspe3ZhciBsPWFbZ10saz1sLnN0YXJ0Q29udGFpbmVyLmdldEFzY2VuZGFudChcInRyXCIsITApO2QobCk/KGV8fChlPWsuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuY2xvbmUoKSxcbmUuYXBwZW5kKGsuZ2V0QXNjZW5kYW50KHt0aGVhZDoxLHRib2R5OjEsdGZvb3Q6MX0pLmNsb25lKCkpLGMuYXBwZW5kKGUpLGU9ZS5maW5kT25lKFwidGhlYWQsIHRib2R5LCB0Zm9vdFwiKSksaCYmaC5lcXVhbHMoayl8fChoPWssbj1rLmNsb25lKCksZS5hcHBlbmQobikpLG4uYXBwZW5kKGYobCkpKTpjLmFwcGVuZChsLmNsb25lQ29udGVudHMoKSl9cmV0dXJuIGU/YzpiLmdldEh0bWxGcm9tUmFuZ2UoYVswXSl9Yy5wcm90b3R5cGU9Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZTtDS0VESVRPUi5lZGl0b3I9Yzt2YXIgcD0wLHE9e307Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse3BsdWdpbnM6e2RldGVjdENvbmZsaWN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBmPWJbZF07aWYodGhpc1tmXSlyZXR1cm4gQ0tFRElUT1Iud2FybihcImVkaXRvci1wbHVnaW4tY29uZmxpY3RcIix7cGx1Z2luOmEscmVwbGFjZWRXaXRoOmZ9KSxcbiEwfXJldHVybiExfX0sYWRkQ29tbWFuZDpmdW5jdGlvbihhLGIpe2IubmFtZT1hLnRvTG93ZXJDYXNlKCk7dmFyIGQ9YiBpbnN0YW5jZW9mIENLRURJVE9SLmNvbW1hbmQ/YjpuZXcgQ0tFRElUT1IuY29tbWFuZCh0aGlzLGIpO3RoaXMubW9kZSYmaCh0aGlzLGQpO3JldHVybiB0aGlzLmNvbW1hbmRzW2FdPWR9LF9hdHRhY2hUb0Zvcm06ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2QudXBkYXRlRWxlbWVudCgpO2QuXy5yZXF1aXJlZCYmIWYuZ2V0VmFsdWUoKSYmITE9PT1kLmZpcmUoXCJyZXF1aXJlZFwiKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYihhKXtyZXR1cm4hIShhJiZhLmNhbGwmJmEuYXBwbHkpfXZhciBkPXRoaXMsZj1kLmVsZW1lbnQsYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZi4kLmZvcm0pO2YuaXMoXCJ0ZXh0YXJlYVwiKSYmYyYmKGMub24oXCJzdWJtaXRcIixhKSxiKGMuJC5zdWJtaXQpJiYoYy4kLnN1Ym1pdD1DS0VESVRPUi50b29scy5vdmVycmlkZShjLiQuc3VibWl0LFxuZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7YSgpO2IuYXBwbHk/Yi5hcHBseSh0aGlzKTpiKCl9fSkpLGQub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKFwic3VibWl0XCIsYSl9KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlcyxkPXRoaXM7dGhpcy5maXJlKFwiYmVmb3JlRGVzdHJveVwiKTshYSYmci5jYWxsKHRoaXMpO3RoaXMuZWRpdGFibGUobnVsbCk7dGhpcy5maWx0ZXImJmRlbGV0ZSB0aGlzLmZpbHRlcjtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKENLRURJVE9SLnRvb2xzLm9iamVjdC5rZXlzKGIpLGZ1bmN0aW9uKGEpe2E9YlthXTtkPT09YS5lZGl0b3ImJmEuZGVzdHJveSgpfSk7ZGVsZXRlIHRoaXMuYWN0aXZlRmlsdGVyO3RoaXMuc3RhdHVzPVwiZGVzdHJveWVkXCI7dGhpcy5maXJlKFwiZGVzdHJveVwiKTt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO0NLRURJVE9SLnJlbW92ZSh0aGlzKTtcbkNLRURJVE9SLmZpcmUoXCJpbnN0YW5jZURlc3Ryb3llZFwiLG51bGwsdGhpcyl9LGVsZW1lbnRQYXRoOmZ1bmN0aW9uKGEpe2lmKCFhKXthPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYoIWEpcmV0dXJuIG51bGw7YT1hLmdldFN0YXJ0RWxlbWVudCgpfXJldHVybiBhP25ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYSx0aGlzLmVkaXRhYmxlKCkpOm51bGx9LGNyZWF0ZVJhbmdlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0YWJsZSgpO3JldHVybiBhP25ldyBDS0VESVRPUi5kb20ucmFuZ2UoYSk6bnVsbH0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmdldENvbW1hbmQoYSksZj17bmFtZTphLGNvbW1hbmREYXRhOmJ8fHt9LGNvbW1hbmQ6ZH07cmV0dXJuIGQmJmQuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYhMSE9PXRoaXMuZmlyZShcImJlZm9yZUNvbW1hbmRFeGVjXCIsZikmJihmLnJldHVyblZhbHVlPWQuZXhlYyhmLmNvbW1hbmREYXRhKSxcbiFkLmFzeW5jJiYhMSE9PXRoaXMuZmlyZShcImFmdGVyQ29tbWFuZEV4ZWNcIixmKSk/Zi5yZXR1cm5WYWx1ZTohMX0sZ2V0Q29tbWFuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb21tYW5kc1thXX0sZ2V0RGF0YTpmdW5jdGlvbihhKXshYSYmdGhpcy5maXJlKFwiYmVmb3JlR2V0RGF0YVwiKTt2YXIgYj10aGlzLl8uZGF0YTtcInN0cmluZ1wiIT10eXBlb2YgYiYmKGI9KGI9dGhpcy5lbGVtZW50KSYmdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/Yi5pcyhcInRleHRhcmVhXCIpP2IuZ2V0VmFsdWUoKTpiLmdldEh0bWwoKTpcIlwiKTtiPXtkYXRhVmFsdWU6Yn07IWEmJnRoaXMuZmlyZShcImdldERhdGFcIixiKTtyZXR1cm4gYi5kYXRhVmFsdWV9LGdldFNuYXBzaG90OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maXJlKFwiZ2V0U25hcHNob3RcIik7XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihhPShhPXRoaXMuZWxlbWVudCkmJnRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP1xuYS5pcyhcInRleHRhcmVhXCIpP2EuZ2V0VmFsdWUoKTphLmdldEh0bWwoKTpcIlwiKTtyZXR1cm4gYX0sbG9hZFNuYXBzaG90OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImxvYWRTbmFwc2hvdFwiLGEpfSxzZXREYXRhOmZ1bmN0aW9uKGEsYixkKXt2YXIgZj0hMCxjPWI7YiYmXCJvYmplY3RcIj09dHlwZW9mIGImJihkPWIuaW50ZXJuYWwsYz1iLmNhbGxiYWNrLGY9IWIubm9TbmFwc2hvdCk7IWQmJmYmJnRoaXMuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtpZihjfHwhZCl0aGlzLm9uY2UoXCJkYXRhUmVhZHlcIixmdW5jdGlvbihhKXshZCYmZiYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2MmJmMuY2FsbChhLmVkaXRvcil9KTthPXtkYXRhVmFsdWU6YX07IWQmJnRoaXMuZmlyZShcInNldERhdGFcIixhKTt0aGlzLl8uZGF0YT1hLmRhdGFWYWx1ZTshZCYmdGhpcy5maXJlKFwiYWZ0ZXJTZXREYXRhXCIsYSl9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe2E9bnVsbD09YXx8YTt0aGlzLnJlYWRPbmx5IT1hJiYodGhpcy5yZWFkT25seT1cbmEsdGhpcy5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzWzhdPSthLHRoaXMuZWRpdGFibGUoKS5zZXRSZWFkT25seShhKSx0aGlzLmZpcmUoXCJyZWFkT25seVwiKSl9LGluc2VydEh0bWw6ZnVuY3Rpb24oYSxiLGQpe3RoaXMuZmlyZShcImluc2VydEh0bWxcIix7ZGF0YVZhbHVlOmEsbW9kZTpiLHJhbmdlOmR9KX0saW5zZXJ0VGV4dDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJpbnNlcnRUZXh0XCIsYSl9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiaW5zZXJ0RWxlbWVudFwiLGEpfSxnZXRTZWxlY3RlZEh0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0YWJsZSgpLGQ9dGhpcy5nZXRTZWxlY3Rpb24oKSxkPWQmJmQuZ2V0UmFuZ2VzKCk7aWYoIWJ8fCFkfHwwPT09ZC5sZW5ndGgpcmV0dXJuIG51bGw7Yj14KGQsYik7cmV0dXJuIGE/Yi5nZXRIdG1sKCk6Yn0sZXh0cmFjdFNlbGVjdGVkSHRtbDpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZWRpdGFibGUoKSxcbmY9dGhpcy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxjPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCxlO2lmKCFkfHwwPT09Zi5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKGU9MDtlPGYubGVuZ3RoO2UrKyljLmFwcGVuZChkLmV4dHJhY3RIdG1sRnJvbVJhbmdlKGZbZV0sYikpO2J8fHRoaXMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtmWzBdXSk7cmV0dXJuIGE/Yy5nZXRIdG1sKCk6Y30sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJiZWZvcmVGb2N1c1wiKX0sY2hlY2tEaXJ0eTpmdW5jdGlvbigpe3JldHVyblwicmVhZHlcIj09dGhpcy5zdGF0dXMmJnRoaXMuXy5wcmV2aW91c1ZhbHVlIT09dGhpcy5nZXRTbmFwc2hvdCgpfSxyZXNldERpcnR5OmZ1bmN0aW9uKCl7dGhpcy5fLnByZXZpb3VzVmFsdWU9dGhpcy5nZXRTbmFwc2hvdCgpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHIuY2FsbCh0aGlzKX0sc2V0S2V5c3Ryb2tlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxudGhpcy5rZXlzdHJva2VIYW5kbGVyLmtleXN0cm9rZXMsYj1DS0VESVRPUi50b29scy5pc0FycmF5KGFyZ3VtZW50c1swXSk/YXJndW1lbnRzWzBdOltbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKV0sZCxmLGM9Yi5sZW5ndGg7Yy0tOylkPWJbY10sZj0wLENLRURJVE9SLnRvb2xzLmlzQXJyYXkoZCkmJihmPWRbMV0sZD1kWzBdKSxmP2FbZF09ZjpkZWxldGUgYVtkXX0sZ2V0Q29tbWFuZEtleXN0cm9rZTpmdW5jdGlvbihhLGIpe3ZhciBkPVwic3RyaW5nXCI9PT10eXBlb2YgYT90aGlzLmdldENvbW1hbmQoYSk6YSxmPVtdO2lmKGQpe3ZhciBjPUNLRURJVE9SLnRvb2xzLm9iamVjdC5maW5kS2V5KHRoaXMuY29tbWFuZHMsZCksZT10aGlzLmtleXN0cm9rZUhhbmRsZXIua2V5c3Ryb2tlcztpZihkLmZha2VLZXlzdHJva2UpZi5wdXNoKGQuZmFrZUtleXN0cm9rZSk7ZWxzZSBmb3IodmFyIGggaW4gZSllW2hdPT09YyYmZi5wdXNoKGgpfXJldHVybiBiP2Y6ZlswXXx8bnVsbH0sYWRkRmVhdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maWx0ZXIuYWRkRmVhdHVyZShhKX0sXG5zZXRBY3RpdmVGaWx0ZXI6ZnVuY3Rpb24oYSl7YXx8KGE9dGhpcy5maWx0ZXIpO3RoaXMuYWN0aXZlRmlsdGVyIT09YSYmKHRoaXMuYWN0aXZlRmlsdGVyPWEsdGhpcy5maXJlKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIpLGE9PT10aGlzLmZpbHRlcj90aGlzLnNldEFjdGl2ZUVudGVyTW9kZShudWxsLG51bGwpOnRoaXMuc2V0QWN0aXZlRW50ZXJNb2RlKGEuZ2V0QWxsb3dlZEVudGVyTW9kZSh0aGlzLmVudGVyTW9kZSksYS5nZXRBbGxvd2VkRW50ZXJNb2RlKHRoaXMuc2hpZnRFbnRlck1vZGUsITApKSl9LHNldEFjdGl2ZUVudGVyTW9kZTpmdW5jdGlvbihhLGIpe2E9YT90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjphOnRoaXMuZW50ZXJNb2RlO2I9Yj90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpiOnRoaXMuc2hpZnRFbnRlck1vZGU7aWYodGhpcy5hY3RpdmVFbnRlck1vZGUhPWF8fHRoaXMuYWN0aXZlU2hpZnRFbnRlck1vZGUhPWIpdGhpcy5hY3RpdmVFbnRlck1vZGU9XG5hLHRoaXMuYWN0aXZlU2hpZnRFbnRlck1vZGU9Yix0aGlzLmZpcmUoXCJhY3RpdmVFbnRlck1vZGVDaGFuZ2VcIil9LHNob3dOb3RpZmljYXRpb246ZnVuY3Rpb24oYSl7YWxlcnQoYSl9LGlzRGV0YWNoZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuY29udGFpbmVyJiZ0aGlzLmNvbnRhaW5lci5pc0RldGFjaGVkKCl9LGlzRGVzdHJveWVkOmZ1bmN0aW9uKCl7cmV0dXJuXCJkZXN0cm95ZWRcIj09PXRoaXMuc3RhdHVzfX0pO0NLRURJVE9SLmVkaXRvci5fZ2V0RWRpdG9yRWxlbWVudD1mdW5jdGlvbihhKXtpZighQ0tFRElUT1IuZW52LmlzQ29tcGF0aWJsZSlyZXR1cm4gbnVsbDt2YXIgYj1DS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk7cmV0dXJuIGI/Yi5nZXRFZGl0b3IoKT8oQ0tFRElUT1IuZXJyb3IoXCJlZGl0b3ItZWxlbWVudC1jb25mbGljdFwiLHtlZGl0b3JOYW1lOmIuZ2V0RWRpdG9yKCkubmFtZX0pLG51bGwpOmI6KENLRURJVE9SLmVycm9yKFwiZWRpdG9yLWluY29ycmVjdC1lbGVtZW50XCIsXG57ZWxlbWVudDphfSksbnVsbCl9fSkoKTtDS0VESVRPUi5FTEVNRU5UX01PREVfTk9ORT0wO0NLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPTE7Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPPTI7Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT0zO0NLRURJVE9SLmh0bWxQYXJzZXI9ZnVuY3Rpb24oKXt0aGlzLl89e2h0bWxQYXJ0c1JlZ2V4Oi88KD86KD86XFwvKFtePl0rKT4pfCg/OiEtLShbXFxTfFxcc10qPyktLVxceDNlKXwoPzooW15cXC9cXHM+XSspKCg/OlxccytbXFx3XFwtOi5dKyg/Olxccyo9XFxzKj8oPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXxbXlxcc1wiJ1xcLz5dKykpPykqKVtcXFNcXHNdKj8oXFwvPyk+KSkvZ319OyhmdW5jdGlvbigpe3ZhciBjPS8oW1xcd1xcLTouXSspKD86KD86XFxzKj1cXHMqKD86KD86XCIoW15cIl0qKVwiKXwoPzonKFteJ10qKScpfChbXlxccz5dKykpKXwoPz1cXHN8JCkpL2csZz17Y2hlY2tlZDoxLGNvbXBhY3Q6MSxkZWNsYXJlOjEsZGVmZXI6MSxkaXNhYmxlZDoxLFxuaXNtYXA6MSxtdWx0aXBsZToxLG5vaHJlZjoxLG5vcmVzaXplOjEsbm9zaGFkZToxLG5vd3JhcDoxLHJlYWRvbmx5OjEsc2VsZWN0ZWQ6MX07Q0tFRElUT1IuaHRtbFBhcnNlci5wcm90b3R5cGU9e29uVGFnT3BlbjpmdW5jdGlvbigpe30sb25UYWdDbG9zZTpmdW5jdGlvbigpe30sb25UZXh0OmZ1bmN0aW9uKCl7fSxvbkNEQVRBOmZ1bmN0aW9uKCl7fSxvbkNvbW1lbnQ6ZnVuY3Rpb24oKXt9LHBhcnNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgYixoLG09MCxsO2I9dGhpcy5fLmh0bWxQYXJ0c1JlZ2V4LmV4ZWMoZSk7KXtoPWIuaW5kZXg7aWYoaD5tKWlmKG09ZS5zdWJzdHJpbmcobSxoKSxsKWwucHVzaChtKTtlbHNlIHRoaXMub25UZXh0KG0pO209dGhpcy5fLmh0bWxQYXJ0c1JlZ2V4Lmxhc3RJbmRleDtpZihoPWJbMV0paWYoaD1oLnRvTG93ZXJDYXNlKCksbCYmQ0tFRElUT1IuZHRkLiRjZGF0YVtoXSYmKHRoaXMub25DREFUQShsLmpvaW4oXCJcIikpLGw9bnVsbCksIWwpe3RoaXMub25UYWdDbG9zZShoKTtcbmNvbnRpbnVlfWlmKGwpbC5wdXNoKGJbMF0pO2Vsc2UgaWYoaD1iWzNdKXtpZihoPWgudG9Mb3dlckNhc2UoKSwhLz1cIi8udGVzdChoKSl7dmFyIGs9e30sZCxmPWJbNF07Yj0hIWJbNV07aWYoZilmb3IoO2Q9Yy5leGVjKGYpOyl7dmFyIGE9ZFsxXS50b0xvd2VyQ2FzZSgpO2Q9ZFsyXXx8ZFszXXx8ZFs0XXx8XCJcIjtrW2FdPSFkJiZnW2FdP2E6Q0tFRElUT1IudG9vbHMuaHRtbERlY29kZUF0dHIoZCl9dGhpcy5vblRhZ09wZW4oaCxrLGIpOyFsJiZDS0VESVRPUi5kdGQuJGNkYXRhW2hdJiYobD1bXSl9fWVsc2UgaWYoaD1iWzJdKXRoaXMub25Db21tZW50KGgpfWlmKGUubGVuZ3RoPm0pdGhpcy5vblRleHQoZS5zdWJzdHJpbmcobSxlLmxlbmd0aCkpfX19KSgpO0NLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oKXt0aGlzLl89e291dHB1dDpbXX19LHByb3RvOntvcGVuVGFnOmZ1bmN0aW9uKGMpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjXCIsXG5jKX0sb3BlblRhZ0Nsb3NlOmZ1bmN0aW9uKGMsZyl7Zz90aGlzLl8ub3V0cHV0LnB1c2goXCIgL1xceDNlXCIpOnRoaXMuXy5vdXRwdXQucHVzaChcIlxceDNlXCIpfSxhdHRyaWJ1dGU6ZnVuY3Rpb24oYyxnKXtcInN0cmluZ1wiPT10eXBlb2YgZyYmKGc9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoZykpO3RoaXMuXy5vdXRwdXQucHVzaChcIiBcIixjLCdcXHgzZFwiJyxnLCdcIicpfSxjbG9zZVRhZzpmdW5jdGlvbihjKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYy9cIixjLFwiXFx4M2VcIil9LHRleHQ6ZnVuY3Rpb24oYyl7dGhpcy5fLm91dHB1dC5wdXNoKGMpfSxjb21tZW50OmZ1bmN0aW9uKGMpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjIS0tXCIsYyxcIi0tXFx4M2VcIil9LHdyaXRlOmZ1bmN0aW9uKGMpe3RoaXMuXy5vdXRwdXQucHVzaChjKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8ub3V0cHV0PVtdO3RoaXMuXy5pbmRlbnQ9ITF9LGdldEh0bWw6ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcy5fLm91dHB1dC5qb2luKFwiXCIpO1xuYyYmdGhpcy5yZXNldCgpO3JldHVybiBnfX19KTtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLm5vZGU9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLmh0bWxQYXJzZXIubm9kZS5wcm90b3R5cGU9e3JlbW92ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMucGFyZW50LmNoaWxkcmVuLGc9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihjLHRoaXMpLGU9dGhpcy5wcmV2aW91cyxiPXRoaXMubmV4dDtlJiYoZS5uZXh0PWIpO2ImJihiLnByZXZpb3VzPWUpO2Muc3BsaWNlKGcsMSk7dGhpcy5wYXJlbnQ9bnVsbH0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcy5wYXJlbnQuY2hpbGRyZW4sZT1DS0VESVRPUi50b29scy5pbmRleE9mKGcsdGhpcyksYj1jLnByZXZpb3VzPXRoaXMucHJldmlvdXMsaD1jLm5leHQ9dGhpcy5uZXh0O2ImJihiLm5leHQ9Yyk7aCYmKGgucHJldmlvdXM9Yyk7Z1tlXT1jO2MucGFyZW50PXRoaXMucGFyZW50O3RoaXMucGFyZW50PW51bGx9LFxuaW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYyl7dmFyIGc9Yy5wYXJlbnQuY2hpbGRyZW4sZT1DS0VESVRPUi50b29scy5pbmRleE9mKGcsYyksYj1jLm5leHQ7Zy5zcGxpY2UoZSsxLDAsdGhpcyk7dGhpcy5uZXh0PWMubmV4dDt0aGlzLnByZXZpb3VzPWM7Yy5uZXh0PXRoaXM7YiYmKGIucHJldmlvdXM9dGhpcyk7dGhpcy5wYXJlbnQ9Yy5wYXJlbnR9LGluc2VydEJlZm9yZTpmdW5jdGlvbihjKXt2YXIgZz1jLnBhcmVudC5jaGlsZHJlbixlPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxjKTtnLnNwbGljZShlLDAsdGhpcyk7dGhpcy5uZXh0PWM7KHRoaXMucHJldmlvdXM9Yy5wcmV2aW91cykmJihjLnByZXZpb3VzLm5leHQ9dGhpcyk7Yy5wcmV2aW91cz10aGlzO3RoaXMucGFyZW50PWMucGFyZW50fSxnZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYyl7dmFyIGc9XCJmdW5jdGlvblwiPT10eXBlb2YgYz9jOlwic3RyaW5nXCI9PXR5cGVvZiBjP2Z1bmN0aW9uKGIpe3JldHVybiBiLm5hbWU9PWN9OmZ1bmN0aW9uKGIpe3JldHVybiBiLm5hbWUgaW5cbmN9LGU9dGhpcy5wYXJlbnQ7Zm9yKDtlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVDspe2lmKGcoZSkpcmV0dXJuIGU7ZT1lLnBhcmVudH1yZXR1cm4gbnVsbH0sd3JhcFdpdGg6ZnVuY3Rpb24oYyl7dGhpcy5yZXBsYWNlV2l0aChjKTtjLmFkZCh0aGlzKTtyZXR1cm4gY30sZ2V0SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLnBhcmVudC5jaGlsZHJlbix0aGlzKX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihjKXtyZXR1cm4gY3x8e319fX0pKCk7XCJ1c2Ugc3RyaWN0XCI7Q0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50PWZ1bmN0aW9uKGMpe3RoaXMudmFsdWU9Yzt0aGlzLl89e2lzQmxvY2tMaWtlOiExfX07Q0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX0NPTU1FTlQsZmlsdGVyOmZ1bmN0aW9uKGMsXG5nKXt2YXIgZT10aGlzLnZhbHVlO2lmKCEoZT1jLm9uQ29tbWVudChnLGUsdGhpcykpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGUpLCExO3RoaXMudmFsdWU9ZTtyZXR1cm4hMH0sd3JpdGVIdG1sOmZ1bmN0aW9uKGMsZyl7ZyYmdGhpcy5maWx0ZXIoZyk7Yy5jb21tZW50KHRoaXMudmFsdWUpfX0pO1widXNlIHN0cmljdFwiOyhmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIudGV4dD1mdW5jdGlvbihjKXt0aGlzLnZhbHVlPWM7dGhpcy5fPXtpc0Jsb2NrTGlrZTohMX19O0NLRURJVE9SLmh0bWxQYXJzZXIudGV4dC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9URVhULGZpbHRlcjpmdW5jdGlvbihjLGcpe2lmKCEodGhpcy52YWx1ZT1jLm9uVGV4dChnLHRoaXMudmFsdWUsdGhpcykpKXJldHVybiB0aGlzLnJlbW92ZSgpLFxuITF9LHdyaXRlSHRtbDpmdW5jdGlvbihjLGcpe2cmJnRoaXMuZmlsdGVyKGcpO2MudGV4dCh0aGlzLnZhbHVlKX19KX0pKCk7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YT1mdW5jdGlvbihjKXt0aGlzLnZhbHVlPWN9O0NLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxmaWx0ZXI6ZnVuY3Rpb24oKXt9LHdyaXRlSHRtbDpmdW5jdGlvbihjKXtjLndyaXRlKHRoaXMudmFsdWUpfX0pfSkoKTtcInVzZSBzdHJpY3RcIjtDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50PWZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbj1bXTt0aGlzLnBhcmVudD1udWxsO3RoaXMuXz17aXNCbG9ja0xpa2U6ITAsaGFzSW5saW5lU3RhcnRlZDohMX19OyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYil7cmV0dXJuIGIuYXR0cmlidXRlc1tcImRhdGEtY2tlLXN1cnZpdmVcIl0/XG4hMTpcImFcIj09Yi5uYW1lJiZiLmF0dHJpYnV0ZXMuaHJlZnx8Q0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtiLm5hbWVdfXZhciBnPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7dGFibGU6MSx1bDoxLG9sOjEsZGw6MX0sQ0tFRElUT1IuZHRkLnRhYmxlLENLRURJVE9SLmR0ZC51bCxDS0VESVRPUi5kdGQub2wsQ0tFRElUT1IuZHRkLmRsKSxlPXtvbDoxLHVsOjF9LGI9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHtodG1sOjF9LENLRURJVE9SLmR0ZC5odG1sLENLRURJVE9SLmR0ZC5ib2R5LENLRURJVE9SLmR0ZC5oZWFkLHtzdHlsZToxLHNjcmlwdDoxfSksaD17dWw6XCJsaVwiLG9sOlwibGlcIixkbDpcImRkXCIsdGFibGU6XCJ0Ym9keVwiLHRib2R5OlwidHJcIix0aGVhZDpcInRyXCIsdGZvb3Q6XCJ0clwiLHRyOlwidGRcIn07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbD1mdW5jdGlvbihtLGwsayl7ZnVuY3Rpb24gZChhKXt2YXIgYjtpZigwPHUubGVuZ3RoKWZvcih2YXIgZD0wO2Q8dS5sZW5ndGg7ZCsrKXt2YXIgYz1cbnVbZF0sZT1jLm5hbWUsaD1DS0VESVRPUi5kdGRbZV0sZz10Lm5hbWUmJkNLRURJVE9SLmR0ZFt0Lm5hbWVdO2cmJiFnW2VdfHxhJiZoJiYhaFthXSYmQ0tFRElUT1IuZHRkW2FdP2U9PXQubmFtZSYmKG4odCx0LnBhcmVudCwxKSxkLS0pOihifHwoZigpLGI9MSksYz1jLmNsb25lKCksYy5wYXJlbnQ9dCx0PWMsdS5zcGxpY2UoZCwxKSxkLS0pfX1mdW5jdGlvbiBmKCl7Zm9yKDt6Lmxlbmd0aDspbih6LnNoaWZ0KCksdCl9ZnVuY3Rpb24gYShhKXtpZihhLl8uaXNCbG9ja0xpa2UmJlwicHJlXCIhPWEubmFtZSYmXCJ0ZXh0YXJlYVwiIT1hLm5hbWUpe3ZhciBiPWEuY2hpbGRyZW4ubGVuZ3RoLGQ9YS5jaGlsZHJlbltiLTFdLGY7ZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJigoZj1DS0VESVRPUi50b29scy5ydHJpbShkLnZhbHVlKSk/ZC52YWx1ZT1mOmEuY2hpbGRyZW4ubGVuZ3RoPWItMSl9fWZ1bmN0aW9uIG4oYixkLGYpe2Q9ZHx8dHx8cTt2YXIgZT10O3ZvaWQgMD09PWIucHJldmlvdXMmJlxuKHIoZCxiKSYmKHQ9ZCxwLm9uVGFnT3BlbihrLHt9KSxiLnJldHVyblBvaW50PWQ9dCksYShiKSxjKGIpJiYhYi5jaGlsZHJlbi5sZW5ndGh8fGQuYWRkKGIpLFwicHJlXCI9PWIubmFtZSYmKHc9ITEpLFwidGV4dGFyZWFcIj09Yi5uYW1lJiYoQj0hMSkpO2IucmV0dXJuUG9pbnQ/KHQ9Yi5yZXR1cm5Qb2ludCxkZWxldGUgYi5yZXR1cm5Qb2ludCk6dD1mP2Q6ZX1mdW5jdGlvbiByKGEsYil7aWYoKGE9PXF8fFwiYm9keVwiPT1hLm5hbWUpJiZrJiYoIWEubmFtZXx8Q0tFRElUT1IuZHRkW2EubmFtZV1ba10pKXt2YXIgZCxmO3JldHVybihkPWIuYXR0cmlidXRlcyYmKGY9Yi5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcmVhbC1lbGVtZW50LXR5cGVcIl0pP2Y6Yi5uYW1lKSYmZCBpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShkIGluIENLRURJVE9SLmR0ZC5oZWFkKSYmIWIuaXNPcnBoYW58fGIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfX1mdW5jdGlvbiB4KGEsYil7cmV0dXJuIGEgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbXx8XG5hIGluIENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50P2E9PWJ8fFwiZHRcIj09YSYmXCJkZFwiPT1ifHxcImRkXCI9PWEmJlwiZHRcIj09YjohMX12YXIgcD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlcixxPWwgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/bDpcInN0cmluZ1wiPT10eXBlb2YgbD9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGwpOm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LHU9W10sej1bXSx0PXEsQj1cInRleHRhcmVhXCI9PXEubmFtZSx3PVwicHJlXCI9PXEubmFtZTtwLm9uVGFnT3Blbj1mdW5jdGlvbihhLGgsbCxrKXtoPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoYSxoKTtoLmlzVW5rbm93biYmbCYmKGguaXNFbXB0eT0hMCk7aC5pc09wdGlvbmFsQ2xvc2U9aztpZihjKGgpKXUucHVzaChoKTtlbHNle2lmKFwicHJlXCI9PWEpdz0hMDtlbHNle2lmKFwiYnJcIj09YSYmdyl7dC5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIlxcblwiKSk7XG5yZXR1cm59XCJ0ZXh0YXJlYVwiPT1hJiYoQj0hMCl9aWYoXCJiclwiPT1hKXoucHVzaChoKTtlbHNle2Zvcig7IShrPShsPXQubmFtZSk/Q0tFRElUT1IuZHRkW2xdfHwodC5fLmlzQmxvY2tMaWtlP0NLRURJVE9SLmR0ZC5kaXY6Q0tFRElUT1IuZHRkLnNwYW4pOmIsaC5pc1Vua25vd258fHQuaXNVbmtub3dufHxrW2FdKTspaWYodC5pc09wdGlvbmFsQ2xvc2UpcC5vblRhZ0Nsb3NlKGwpO2Vsc2UgaWYoYSBpbiBlJiZsIGluIGUpbD10LmNoaWxkcmVuLChsPWxbbC5sZW5ndGgtMV0pJiZcImxpXCI9PWwubmFtZXx8bihsPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJsaVwiKSx0KSwhaC5yZXR1cm5Qb2ludCYmKGgucmV0dXJuUG9pbnQ9dCksdD1sO2Vsc2UgaWYoYSBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiYheChhLGwpKXAub25UYWdPcGVuKFwibGlcIj09YT9cInVsXCI6XCJkbFwiLHt9LDAsMSk7ZWxzZSBpZihsIGluIGcmJiF4KGEsbCkpIWgucmV0dXJuUG9pbnQmJihoLnJldHVyblBvaW50PVxudCksdD10LnBhcmVudDtlbHNlIGlmKGwgaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJnUudW5zaGlmdCh0KSx0LnBhcmVudCluKHQsdC5wYXJlbnQsMSk7ZWxzZXtoLmlzT3JwaGFuPTE7YnJlYWt9ZChhKTtmKCk7aC5wYXJlbnQ9dDtoLmlzRW1wdHk/bihoKTp0PWh9fX07cC5vblRhZ0Nsb3NlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj11Lmxlbmd0aC0xOzA8PWI7Yi0tKWlmKGE9PXVbYl0ubmFtZSl7dS5zcGxpY2UoYiwxKTtyZXR1cm59Zm9yKHZhciBkPVtdLGM9W10sZT10O2UhPXEmJmUubmFtZSE9YTspZS5fLmlzQmxvY2tMaWtlfHxjLnVuc2hpZnQoZSksZC5wdXNoKGUpLGU9ZS5yZXR1cm5Qb2ludHx8ZS5wYXJlbnQ7aWYoZSE9cSl7Zm9yKGI9MDtiPGQubGVuZ3RoO2IrKyl7dmFyIGg9ZFtiXTtuKGgsaC5wYXJlbnQpfXQ9ZTtlLl8uaXNCbG9ja0xpa2UmJmYoKTtuKGUsZS5wYXJlbnQpO2U9PXQmJih0PXQucGFyZW50KTt1PXUuY29uY2F0KGMpfVwiYm9keVwiPT1hJiYoaz0hMSl9O3Aub25UZXh0PVxuZnVuY3Rpb24oYSl7aWYoISh0Ll8uaGFzSW5saW5lU3RhcnRlZCYmIXoubGVuZ3RofHx3fHxCKSYmKGE9Q0tFRElUT1IudG9vbHMubHRyaW0oYSksMD09PWEubGVuZ3RoKSlyZXR1cm47dmFyIGM9dC5uYW1lLGU9Yz9DS0VESVRPUi5kdGRbY118fCh0Ll8uaXNCbG9ja0xpa2U/Q0tFRElUT1IuZHRkLmRpdjpDS0VESVRPUi5kdGQuc3Bhbik6YjtpZighQiYmIWVbXCIjXCJdJiZjIGluIGcpcC5vblRhZ09wZW4oaFtjXXx8XCJcIikscC5vblRleHQoYSk7ZWxzZXtmKCk7ZCgpO3d8fEJ8fChhPWEucmVwbGFjZSgvW1xcdFxcclxcbiBdezIsfXxbXFx0XFxyXFxuXS9nLFwiIFwiKSk7YT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEpO2lmKHIodCxhKSl0aGlzLm9uVGFnT3BlbihrLHt9LDAsMSk7dC5hZGQoYSl9fTtwLm9uQ0RBVEE9ZnVuY3Rpb24oYSl7dC5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEoYSkpfTtwLm9uQ29tbWVudD1mdW5jdGlvbihhKXtmKCk7ZCgpO3QuYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQoYSkpfTtcbnAucGFyc2UobSk7Zm9yKGYoKTt0IT1xOyluKHQsdC5wYXJlbnQsMSk7YShxKTtyZXR1cm4gcX07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5wcm90b3R5cGU9e3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCxhZGQ6ZnVuY3Rpb24oYixjKXtpc05hTihjKSYmKGM9dGhpcy5jaGlsZHJlbi5sZW5ndGgpO3ZhciBlPTA8Yz90aGlzLmNoaWxkcmVuW2MtMV06bnVsbDtpZihlKXtpZihiLl8uaXNCbG9ja0xpa2UmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZS52YWx1ZT1DS0VESVRPUi50b29scy5ydHJpbShlLnZhbHVlKSwwPT09ZS52YWx1ZS5sZW5ndGgpKXt0aGlzLmNoaWxkcmVuLnBvcCgpO3RoaXMuYWRkKGIpO3JldHVybn1lLm5leHQ9Yn1iLnByZXZpb3VzPWU7Yi5wYXJlbnQ9dGhpczt0aGlzLmNoaWxkcmVuLnNwbGljZShjLDAsYik7dGhpcy5fLmhhc0lubGluZVN0YXJ0ZWR8fCh0aGlzLl8uaGFzSW5saW5lU3RhcnRlZD1iLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8XG5iLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWIuXy5pc0Jsb2NrTGlrZSl9LGZpbHRlcjpmdW5jdGlvbihiLGMpe2M9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGMpO2Iub25Sb290KGMsdGhpcyk7dGhpcy5maWx0ZXJDaGlsZHJlbihiLCExLGMpfSxmaWx0ZXJDaGlsZHJlbjpmdW5jdGlvbihiLGMsZSl7aWYodGhpcy5jaGlsZHJlbkZpbHRlcmVkQnkhPWIuaWQpe2U9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGUpO2lmKGMmJiF0aGlzLnBhcmVudCliLm9uUm9vdChlLHRoaXMpO3RoaXMuY2hpbGRyZW5GaWx0ZXJlZEJ5PWIuaWQ7Zm9yKGM9MDtjPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2MrKykhMT09PXRoaXMuY2hpbGRyZW5bY10uZmlsdGVyKGIsZSkmJmMtLX19LHdyaXRlSHRtbDpmdW5jdGlvbihiLGMpe2MmJnRoaXMuZmlsdGVyKGMpO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYil9LHdyaXRlQ2hpbGRyZW5IdG1sOmZ1bmN0aW9uKGIsYyxlKXt2YXIgZD10aGlzLmdldEZpbHRlckNvbnRleHQoKTtcbmlmKGUmJiF0aGlzLnBhcmVudCYmYyljLm9uUm9vdChkLHRoaXMpO2MmJnRoaXMuZmlsdGVyQ2hpbGRyZW4oYywhMSxkKTtjPTA7ZT10aGlzLmNoaWxkcmVuO2ZvcihkPWUubGVuZ3RoO2M8ZDtjKyspZVtjXS53cml0ZUh0bWwoYil9LGZvckVhY2g6ZnVuY3Rpb24oYixjLGUpe2lmKCEoZXx8YyYmdGhpcy50eXBlIT1jKSl2YXIgZD1iKHRoaXMpO2lmKCExIT09ZCl7ZT10aGlzLmNoaWxkcmVuO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWQ9ZVtmXSxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kLmZvckVhY2goYixjKTpjJiZkLnR5cGUhPWN8fGIoZCl9fSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGIpe3JldHVybiBifHx7fX19fSkoKTtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dGhpcy5ydWxlcz1bXX1mdW5jdGlvbiBnKGUsYixoLGcpe3ZhciBsLGs7Zm9yKGwgaW4gYikoaz1lW2xdKXx8KGs9ZVtsXT1uZXcgYyksay5hZGQoYltsXSxoLGcpfVxuQ0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oZSl7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7dGhpcy5lbGVtZW50TmFtZVJ1bGVzPW5ldyBjO3RoaXMuYXR0cmlidXRlTmFtZVJ1bGVzPW5ldyBjO3RoaXMuZWxlbWVudHNSdWxlcz17fTt0aGlzLmF0dHJpYnV0ZXNSdWxlcz17fTt0aGlzLnRleHRSdWxlcz1uZXcgYzt0aGlzLmNvbW1lbnRSdWxlcz1uZXcgYzt0aGlzLnJvb3RSdWxlcz1uZXcgYztlJiZ0aGlzLmFkZFJ1bGVzKGUsMTApfSxwcm90bzp7YWRkUnVsZXM6ZnVuY3Rpb24oYyxiKXt2YXIgaDtcIm51bWJlclwiPT10eXBlb2YgYj9oPWI6YiYmXCJwcmlvcml0eVwiaW4gYiYmKGg9Yi5wcmlvcml0eSk7XCJudW1iZXJcIiE9dHlwZW9mIGgmJihoPTEwKTtcIm9iamVjdFwiIT10eXBlb2YgYiYmKGI9e30pO2MuZWxlbWVudE5hbWVzJiZ0aGlzLmVsZW1lbnROYW1lUnVsZXMuYWRkTWFueShjLmVsZW1lbnROYW1lcyxcbmgsYik7Yy5hdHRyaWJ1dGVOYW1lcyYmdGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXMuYWRkTWFueShjLmF0dHJpYnV0ZU5hbWVzLGgsYik7Yy5lbGVtZW50cyYmZyh0aGlzLmVsZW1lbnRzUnVsZXMsYy5lbGVtZW50cyxoLGIpO2MuYXR0cmlidXRlcyYmZyh0aGlzLmF0dHJpYnV0ZXNSdWxlcyxjLmF0dHJpYnV0ZXMsaCxiKTtjLnRleHQmJnRoaXMudGV4dFJ1bGVzLmFkZChjLnRleHQsaCxiKTtjLmNvbW1lbnQmJnRoaXMuY29tbWVudFJ1bGVzLmFkZChjLmNvbW1lbnQsaCxiKTtjLnJvb3QmJnRoaXMucm9vdFJ1bGVzLmFkZChjLnJvb3QsaCxiKX0sYXBwbHlUbzpmdW5jdGlvbihjKXtjLmZpbHRlcih0aGlzKX0sb25FbGVtZW50TmFtZTpmdW5jdGlvbihjLGIpe3JldHVybiB0aGlzLmVsZW1lbnROYW1lUnVsZXMuZXhlY09uTmFtZShjLGIpfSxvbkF0dHJpYnV0ZU5hbWU6ZnVuY3Rpb24oYyxiKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXMuZXhlY09uTmFtZShjLGIpfSxvblRleHQ6ZnVuY3Rpb24oYyxcbmIsaCl7cmV0dXJuIHRoaXMudGV4dFJ1bGVzLmV4ZWMoYyxiLGgpfSxvbkNvbW1lbnQ6ZnVuY3Rpb24oYyxiLGgpe3JldHVybiB0aGlzLmNvbW1lbnRSdWxlcy5leGVjKGMsYixoKX0sb25Sb290OmZ1bmN0aW9uKGMsYil7cmV0dXJuIHRoaXMucm9vdFJ1bGVzLmV4ZWMoYyxiKX0sb25FbGVtZW50OmZ1bmN0aW9uKGMsYil7Zm9yKHZhciBoPVt0aGlzLmVsZW1lbnRzUnVsZXNbXCJeXCJdLHRoaXMuZWxlbWVudHNSdWxlc1tiLm5hbWVdLHRoaXMuZWxlbWVudHNSdWxlcy4kXSxnLGw9MDszPmw7bCsrKWlmKGc9aFtsXSl7Zz1nLmV4ZWMoYyxiLHRoaXMpO2lmKCExPT09ZylyZXR1cm4gbnVsbDtpZihnJiZnIT1iKXJldHVybiB0aGlzLm9uTm9kZShjLGcpO2lmKGIucGFyZW50JiYhYi5uYW1lKWJyZWFrfXJldHVybiBifSxvbk5vZGU6ZnVuY3Rpb24oYyxiKXt2YXIgaD1iLnR5cGU7cmV0dXJuIGg9PUNLRURJVE9SLk5PREVfRUxFTUVOVD90aGlzLm9uRWxlbWVudChjLGIpOmg9PUNLRURJVE9SLk5PREVfVEVYVD9cbm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQodGhpcy5vblRleHQoYyxiLnZhbHVlLGIpKTpoPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudCh0aGlzLm9uQ29tbWVudChjLGIudmFsdWUsYikpOm51bGx9LG9uQXR0cmlidXRlOmZ1bmN0aW9uKGMsYixoLGcpe3JldHVybihoPXRoaXMuYXR0cmlidXRlc1J1bGVzW2hdKT9oLmV4ZWMoYyxnLGIsdGhpcyk6Z319fSk7Q0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXJSdWxlc0dyb3VwPWM7Yy5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihjLGIsaCl7dGhpcy5ydWxlcy5zcGxpY2UodGhpcy5maW5kSW5kZXgoYiksMCx7dmFsdWU6Yyxwcmlvcml0eTpiLG9wdGlvbnM6aH0pfSxhZGRNYW55OmZ1bmN0aW9uKGMsYixoKXtmb3IodmFyIGc9W3RoaXMuZmluZEluZGV4KGIpLDBdLGw9MCxrPWMubGVuZ3RoO2w8aztsKyspZy5wdXNoKHt2YWx1ZTpjW2xdLHByaW9yaXR5OmIsb3B0aW9uczpofSk7dGhpcy5ydWxlcy5zcGxpY2UuYXBwbHkodGhpcy5ydWxlcyxcbmcpfSxmaW5kSW5kZXg6ZnVuY3Rpb24oYyl7Zm9yKHZhciBiPXRoaXMucnVsZXMsaD1iLmxlbmd0aC0xOzA8PWgmJmM8YltoXS5wcmlvcml0eTspaC0tO3JldHVybiBoKzF9LGV4ZWM6ZnVuY3Rpb24oYyxiKXt2YXIgaD1iIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlfHxiIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudCxnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxsPXRoaXMucnVsZXMsaz1sLmxlbmd0aCxkLGYsYSxuO2ZvcihuPTA7bjxrO24rKylpZihoJiYoZD1iLnR5cGUsZj1iLm5hbWUpLGE9bFtuXSwhKGMubm9uRWRpdGFibGUmJiFhLm9wdGlvbnMuYXBwbHlUb0FsbHx8Yy5uZXN0ZWRFZGl0YWJsZSYmYS5vcHRpb25zLmV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZSkpe2E9YS52YWx1ZS5hcHBseShudWxsLGcpO2lmKCExPT09YXx8aCYmYSYmKGEubmFtZSE9Znx8YS50eXBlIT1kKSlyZXR1cm4gYTtudWxsIT1hJiZcbihnWzBdPWI9YSl9cmV0dXJuIGJ9LGV4ZWNPbk5hbWU6ZnVuY3Rpb24oYyxiKXtmb3IodmFyIGg9MCxnPXRoaXMucnVsZXMsbD1nLmxlbmd0aCxrO2ImJmg8bDtoKyspaz1nW2hdLGMubm9uRWRpdGFibGUmJiFrLm9wdGlvbnMuYXBwbHlUb0FsbHx8Yy5uZXN0ZWRFZGl0YWJsZSYmay5vcHRpb25zLmV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZXx8KGI9Yi5yZXBsYWNlKGsudmFsdWVbMF0say52YWx1ZVsxXSkpO3JldHVybiBifX19KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYSxkKXtmdW5jdGlvbiBmKGEpe3JldHVybiBhfHxDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoXCLCoFwiKTpuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiYnJcIix7XCJkYXRhLWNrZS1ib2d1c1wiOjF9KX1mdW5jdGlvbiBjKGEsZCl7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKGMudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGg9XG5bXSxnPWUoYyksbCxrO2lmKGcpZm9yKG4oZywxKSYmaC5wdXNoKGcpO2c7KW0oZykmJihsPWIoZykpJiZuKGwpJiYoKGs9YihsKSkmJiFtKGspP2gucHVzaChsKTooZihBKS5pbnNlcnRBZnRlcihsKSxsLnJlbW92ZSgpKSksZz1nLnByZXZpb3VzO2ZvcihnPTA7ZzxoLmxlbmd0aDtnKyspaFtnXS5yZW1vdmUoKTtpZihoPSFhfHwhMSE9PShcImZ1bmN0aW9uXCI9PXR5cGVvZiBkP2QoYyk6ZCkpQXx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fGMudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD9BfHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8ISg3PGRvY3VtZW50LmRvY3VtZW50TW9kZXx8Yy5uYW1lIGluIENLRURJVE9SLmR0ZC50cnx8Yy5uYW1lIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pPyhoPWUoYyksaD0haHx8XCJmb3JtXCI9PWMubmFtZSYmXCJpbnB1dFwiPT1oLm5hbWUpOmg9ITE6aD0hMTtoJiZjLmFkZChmKGEpKX19fWZ1bmN0aW9uIG4oYSxiKXtpZigoIUF8fFxuQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJiclwiPT1hLm5hbWUmJiFhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1lb2xcIl0pcmV0dXJuITA7dmFyIGQ7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZD1hLnZhbHVlLm1hdGNoKHopKSYmKGQuaW5kZXgmJigobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChhLnZhbHVlLnN1YnN0cmluZygwLGQuaW5kZXgpKSkuaW5zZXJ0QmVmb3JlKGEpLGEudmFsdWU9ZFswXSksIUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZBJiYoIWJ8fGEucGFyZW50Lm5hbWUgaW4gayl8fCFBJiYoKGQ9YS5wcmV2aW91cykmJlwiYnJcIj09ZC5uYW1lfHwhZHx8bShkKSkpPyEwOiExfXZhciBnPXtlbGVtZW50czp7fX0sQT1cImh0bWxcIj09ZCxrPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx2KSxFO2ZvcihFIGluIGspXCIjXCJpbiBCW0VdfHxkZWxldGUga1tFXTtmb3IoRSBpbiBrKWcuZWxlbWVudHNbRV09XG5jKEEsYS5jb25maWcuZmlsbEVtcHR5QmxvY2tzKTtnLnJvb3Q9YyhBLCExKTtnLmVsZW1lbnRzLmJyPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihkKXtpZihkLnBhcmVudC50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXt2YXIgYz1kLmF0dHJpYnV0ZXM7aWYoXCJkYXRhLWNrZS1ib2d1c1wiaW4gY3x8XCJkYXRhLWNrZS1lb2xcImluIGMpZGVsZXRlIGNbXCJkYXRhLWNrZS1ib2d1c1wiXTtlbHNle2ZvcihjPWQubmV4dDtjJiZoKGMpOyljPWMubmV4dDt2YXIgZT1iKGQpOyFjJiZtKGQucGFyZW50KT9sKGQucGFyZW50LGYoYSkpOm0oYykmJmUmJiFtKGUpJiZmKGEpLmluc2VydEJlZm9yZShjKX19fX0oQSk7cmV0dXJuIGd9ZnVuY3Rpb24gZyhhLGIpe3JldHVybiBhIT1DS0VESVRPUi5FTlRFUl9CUiYmITEhPT1iP2E9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiOiExfWZ1bmN0aW9uIGUoYSl7Zm9yKGE9YS5jaGlsZHJlblthLmNoaWxkcmVuLmxlbmd0aC0xXTthJiZcbmgoYSk7KWE9YS5wcmV2aW91cztyZXR1cm4gYX1mdW5jdGlvbiBiKGEpe2ZvcihhPWEucHJldmlvdXM7YSYmaChhKTspYT1hLnByZXZpb3VzO3JldHVybiBhfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbShhLnZhbHVlKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWJvb2ttYXJrXCJdfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIGEmJihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5uYW1lIGluIHZ8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl9ZnVuY3Rpb24gbChhLGIpe3ZhciBkPWEuY2hpbGRyZW5bYS5jaGlsZHJlbi5sZW5ndGgtMV07YS5jaGlsZHJlbi5wdXNoKGIpO2IucGFyZW50PWE7ZCYmKGQubmV4dD1iLGIucHJldmlvdXM9ZCl9ZnVuY3Rpb24gayhhKXthPWEuYXR0cmlidXRlcztcImZhbHNlXCIhPWEuY29udGVudGVkaXRhYmxlJiZcbihhW1wiZGF0YS1ja2UtZWRpdGFibGVcIl09YS5jb250ZW50ZWRpdGFibGU/XCJ0cnVlXCI6MSk7YS5jb250ZW50ZWRpdGFibGU9XCJmYWxzZVwifWZ1bmN0aW9uIGQoYSl7YT1hLmF0dHJpYnV0ZXM7c3dpdGNoKGFbXCJkYXRhLWNrZS1lZGl0YWJsZVwiXSl7Y2FzZSBcInRydWVcIjphLmNvbnRlbnRlZGl0YWJsZT1cInRydWVcIjticmVhaztjYXNlIFwiMVwiOmRlbGV0ZSBhLmNvbnRlbnRlZGl0YWJsZX19ZnVuY3Rpb24gZihhKXtyZXR1cm4gYS5yZXBsYWNlKEcsZnVuY3Rpb24oYSxiLGQpe3JldHVyblwiXFx4M2NcIitiK2QucmVwbGFjZShMLGZ1bmN0aW9uKGEsYil7cmV0dXJuIEUudGVzdChiKSYmLTE9PWQuaW5kZXhPZihcImRhdGEtY2tlLXNhdmVkLVwiK2IpP1wiIGRhdGEtY2tlLXNhdmVkLVwiK2ErXCIgZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLVwiK2E6YX0pK1wiXFx4M2VcIn0pfWZ1bmN0aW9uIGEoYSxiKXtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGQpezA9PT1hLmluZGV4T2YoXCJcXHgzY3RleHRhcmVhXCIpJiZcbihhPWIreChkKS5yZXBsYWNlKC88L2csXCJcXHgyNmx0O1wiKS5yZXBsYWNlKC8+L2csXCJcXHgyNmd0O1wiKStcIlxceDNjL3RleHRhcmVhXFx4M2VcIik7cmV0dXJuXCJcXHgzY2NrZTplbmNvZGVkXFx4M2VcIitlbmNvZGVVUklDb21wb25lbnQoYSkrXCJcXHgzYy9ja2U6ZW5jb2RlZFxceDNlXCJ9KX1mdW5jdGlvbiBuKGEpe3JldHVybiBhLnJlcGxhY2UoSyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KX1mdW5jdGlvbiByKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tKD8he2NrZV9wcm90ZWN0ZWR9KVtcXHNcXFNdKz8tLVxceDNlL2csZnVuY3Rpb24oYSl7cmV0dXJuXCJcXHgzYyEtLVwiK3QrXCJ7Q31cIitlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvLS0vZyxcIiUyRCUyRFwiKStcIi0tXFx4M2VcIn0pfWZ1bmN0aW9uIHgoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9XFx7Q1xcfShbXFxzXFxTXSs/KS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KX1cbmZ1bmN0aW9uIHAoYSxiKXt2YXIgZD1iLl8uZGF0YVN0b3JlO3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfShbXFxzXFxTXSs/KS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KS5yZXBsYWNlKC9cXHtja2VfcHJvdGVjdGVkXyhcXGQrKVxcfS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGQmJmRbYl18fFwiXCJ9KX1mdW5jdGlvbiBxKGEsYil7dmFyIGQ9W10sZj1iLmNvbmZpZy5wcm90ZWN0ZWRTb3VyY2UsYz1iLl8uZGF0YVN0b3JlfHwoYi5fLmRhdGFTdG9yZT17aWQ6MX0pLGU9LzxcXCEtLVxce2NrZV90ZW1wKGNvbW1lbnQpP1xcfShcXGQqPyktLVxceDNlL2csZj1bLzxzY3JpcHRbXFxzXFxTXSo/KDxcXC9zY3JpcHQ+fCQpL2dpLC88bm9zY3JpcHRbXFxzXFxTXSo/PFxcL25vc2NyaXB0Pi9naSwvPG1ldGFbXFxzXFxTXSo/XFwvPz4vZ2ldLmNvbmNhdChmKTthPWEucmVwbGFjZSgvXFx4M2MhLS1bXFxzXFxTXSo/LS1cXHgzZS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiXFx4M2MhLS17Y2tlX3RlbXBjb21tZW50fVwiK1xuKGQucHVzaChhKS0xKStcIi0tXFx4M2VcIn0pO2Zvcih2YXIgaD0wO2g8Zi5sZW5ndGg7aCsrKWE9YS5yZXBsYWNlKGZbaF0sZnVuY3Rpb24oYSl7YT1hLnJlcGxhY2UoZSxmdW5jdGlvbihhLGIsZil7cmV0dXJuIGRbZl19KTtyZXR1cm4vY2tlX3RlbXAoY29tbWVudCk/Ly50ZXN0KGEpP2E6XCJcXHgzYyEtLXtja2VfdGVtcH1cIisoZC5wdXNoKGEpLTEpK1wiLS1cXHgzZVwifSk7YT1hLnJlcGxhY2UoZSxmdW5jdGlvbihhLGIsZil7cmV0dXJuXCJcXHgzYyEtLVwiK3QrKGI/XCJ7Q31cIjpcIlwiKStlbmNvZGVVUklDb21wb25lbnQoZFtmXSkucmVwbGFjZSgvLS0vZyxcIiUyRCUyRFwiKStcIi0tXFx4M2VcIn0pO2E9YS5yZXBsYWNlKC88XFx3Kyg/OlxccysoPzooPzpbXlxccz0+XStcXHMqPVxccyooPzpbXidcIlxccz5dK3wnW14nXSonfFwiW15cIl0qXCIpKXxbXlxccz1cXC8+XSspKStcXHMqXFwvPz4vZyxmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLVxce2NrZV9wcm90ZWN0ZWRcXH0oW14+XSopLS1cXHgzZS9nLGZ1bmN0aW9uKGEsXG5iKXtjW2MuaWRdPWRlY29kZVVSSUNvbXBvbmVudChiKTtyZXR1cm5cIntja2VfcHJvdGVjdGVkX1wiK2MuaWQrKyArXCJ9XCJ9KX0pO3JldHVybiBhPWEucmVwbGFjZSgvPCh0aXRsZXxpZnJhbWV8dGV4dGFyZWEpKFtePl0qKT4oW1xcc1xcU10qPyk8XFwvXFwxPi9nLGZ1bmN0aW9uKGEsZCxmLGMpe3JldHVyblwiXFx4M2NcIitkK2YrXCJcXHgzZVwiK3AoeChjKSxiKStcIlxceDNjL1wiK2QrXCJcXHgzZVwifSl9dmFyIHU7Q0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3I9ZnVuY3Rpb24oYil7dmFyIGQsZSxoPXRoaXM7dGhpcy5lZGl0b3I9Yjt0aGlzLmRhdGFGaWx0ZXI9ZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI7dGhpcy5odG1sRmlsdGVyPWU9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMud3JpdGVyPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2QuYWRkUnVsZXMoRik7ZC5hZGRSdWxlcyh5LHthcHBseVRvQWxsOiEwfSk7ZC5hZGRSdWxlcyhjKGIsXCJkYXRhXCIpLFxue2FwcGx5VG9BbGw6ITB9KTtlLmFkZFJ1bGVzKEMpO2UuYWRkUnVsZXMoSCx7YXBwbHlUb0FsbDohMH0pO2UuYWRkUnVsZXMoYyhiLFwiaHRtbFwiKSx7YXBwbHlUb0FsbDohMH0pO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihkKXtkPWQuZGF0YTt2YXIgYz1kLmRhdGFWYWx1ZSxlLGM9dShjKSxjPXEoYyxiKSxjPWEoYyxPKSxjPWYoYyksYz1hKGMsRCksYz1jLnJlcGxhY2UoTSxcIiQxY2tlOiQyXCIpLGM9Yy5yZXBsYWNlKE4sXCJcXHgzY2NrZTokMSQyXFx4M2VcXHgzYy9ja2U6JDFcXHgzZVwiKSxjPWMucmVwbGFjZSgvKDxwcmVcXGJbXj5dKj4pKFxcclxcbnxcXG4pL2csXCIkMSQyJDJcIiksYz1jLnJlcGxhY2UoLyhbXmEtejAtOTxcXC1dKShvblxcd3szLH0pKD8hPikvZ2ksXCIkMWRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi0kMlwiKTtlPWQuY29udGV4dHx8Yi5lZGl0YWJsZSgpLmdldE5hbWUoKTt2YXIgaDtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJlwicHJlXCI9PWUmJihlPVwiZGl2XCIsXG5jPVwiXFx4M2NwcmVcXHgzZVwiK2MrXCJcXHgzYy9wcmVcXHgzZVwiLGg9MSk7ZT1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7ZS5zZXRIdG1sKFwiYVwiK2MpO2M9ZS5nZXRIdG1sKCkuc3Vic3RyKDEpO2M9Yy5yZXBsYWNlKG5ldyBSZWdFeHAoXCJkYXRhLWNrZS1cIitDS0VESVRPUi5ybmQrXCItXCIsXCJpZ1wiKSxcIlwiKTtoJiYoYz1jLnJlcGxhY2UoL148cHJlPnw8XFwvcHJlPiQvZ2ksXCJcIikpO2M9Yy5yZXBsYWNlKEEsXCIkMSQyXCIpO2M9bihjKTtjPXgoYyk7ZT0hMT09PWQuZml4Rm9yQm9keT8hMTpnKGQuZW50ZXJNb2RlLGIuY29uZmlnLmF1dG9QYXJhZ3JhcGgpO2M9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChjLGQuY29udGV4dCxlKTtlJiYoaD1jLCFoLmNoaWxkcmVuLmxlbmd0aCYmQ0tFRElUT1IuZHRkW2gubmFtZV1bZV0mJihlPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZSksaC5hZGQoZSkpKTtkLmRhdGFWYWx1ZT1jfSxudWxsLG51bGwsNSk7Yi5vbihcInRvSHRtbFwiLFxuZnVuY3Rpb24oYSl7YS5kYXRhLmZpbHRlci5hcHBseVRvKGEuZGF0YS5kYXRhVmFsdWUsITAsYS5kYXRhLmRvbnRGaWx0ZXIsYS5kYXRhLmVudGVyTW9kZSkmJmIuZmlyZShcImRhdGFGaWx0ZXJlZFwiKX0sbnVsbCxudWxsLDYpO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlLmZpbHRlckNoaWxkcmVuKGguZGF0YUZpbHRlciwhMCl9LG51bGwsbnVsbCwxMCk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBiPWEuZGF0YVZhbHVlLGQ9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Yi53cml0ZUNoaWxkcmVuSHRtbChkKTtiPWQuZ2V0SHRtbCghMCk7YS5kYXRhVmFsdWU9cihiKX0sbnVsbCxudWxsLDE1KTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7dmFyIGQ9YS5kYXRhLmRhdGFWYWx1ZTthLmRhdGEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGQ9ZC5yZXBsYWNlKC9ePGJyICpcXC8/Pi9pLFwiXCIpKTtcbmEuZGF0YS5kYXRhVmFsdWU9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChkLGEuZGF0YS5jb250ZXh0LGcoYS5kYXRhLmVudGVyTW9kZSxiLmNvbmZpZy5hdXRvUGFyYWdyYXBoKSl9LG51bGwsbnVsbCw1KTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZS5maWx0ZXJDaGlsZHJlbihoLmh0bWxGaWx0ZXIsITApfSxudWxsLG51bGwsMTApO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZmlsdGVyLmFwcGx5VG8oYS5kYXRhLmRhdGFWYWx1ZSwhMSwhMCl9LG51bGwsbnVsbCwxMSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe3ZhciBkPWEuZGF0YS5kYXRhVmFsdWUsZj1oLndyaXRlcjtmLnJlc2V0KCk7ZC53cml0ZUNoaWxkcmVuSHRtbChmKTtkPWYuZ2V0SHRtbCghMCk7ZD14KGQpO2Q9cChkLGIpO2EuZGF0YS5kYXRhVmFsdWU9ZH0sbnVsbCxudWxsLDE1KX07Q0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3IucHJvdG90eXBlPVxue3RvSHRtbDpmdW5jdGlvbihhLGIsZCxmKXt2YXIgYz10aGlzLmVkaXRvcixlLGgsZyxuO2ImJlwib2JqZWN0XCI9PXR5cGVvZiBiPyhlPWIuY29udGV4dCxkPWIuZml4Rm9yQm9keSxmPWIuZG9udEZpbHRlcixoPWIuZmlsdGVyLGc9Yi5lbnRlck1vZGUsbj1iLnByb3RlY3RlZFdoaXRlc3BhY2VzKTplPWI7ZXx8bnVsbD09PWV8fChlPWMuZWRpdGFibGUoKS5nZXROYW1lKCkpO3JldHVybiBjLmZpcmUoXCJ0b0h0bWxcIix7ZGF0YVZhbHVlOmEsY29udGV4dDplLGZpeEZvckJvZHk6ZCxkb250RmlsdGVyOmYsZmlsdGVyOmh8fGMuZmlsdGVyLGVudGVyTW9kZTpnfHxjLmVudGVyTW9kZSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczpufSkuZGF0YVZhbHVlfSx0b0RhdGFGb3JtYXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZCxmLGM7YiYmKGQ9Yi5jb250ZXh0LGY9Yi5maWx0ZXIsYz1iLmVudGVyTW9kZSk7ZHx8bnVsbD09PWR8fChkPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCkuZ2V0TmFtZSgpKTtyZXR1cm4gdGhpcy5lZGl0b3IuZmlyZShcInRvRGF0YUZvcm1hdFwiLFxue2RhdGFWYWx1ZTphLGZpbHRlcjpmfHx0aGlzLmVkaXRvci5maWx0ZXIsY29udGV4dDpkLGVudGVyTW9kZTpjfHx0aGlzLmVkaXRvci5lbnRlck1vZGV9KS5kYXRhVmFsdWV9fTt2YXIgej0vKD86Jm5ic3A7fFxceGEwKSQvLHQ9XCJ7Y2tlX3Byb3RlY3RlZH1cIixCPUNLRURJVE9SLmR0ZCx3PVwiY2FwdGlvbiBjb2xncm91cCBjb2wgdGhlYWQgdGZvb3QgdGJvZHlcIi5zcGxpdChcIiBcIiksdj1DS0VESVRPUi50b29scy5leHRlbmQoe30sQi4kYmxvY2tMaW1pdCxCLiRibG9jayksRj17ZWxlbWVudHM6e2lucHV0OmssdGV4dGFyZWE6a319LHk9e2F0dHJpYnV0ZU5hbWVzOltbL15vbi8sXCJkYXRhLWNrZS1wYS1vblwiXSxbL15zcmNkb2MvLFwiZGF0YS1ja2UtcGEtc3JjZG9jXCJdLFsvXmRhdGEtY2tlLWV4cGFuZG8kLyxcIlwiXV0sZWxlbWVudHM6e2lmcmFtZTpmdW5jdGlvbihhKXtpZihhLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy5zcmMpe3ZhciBiPWEuYXR0cmlidXRlcy5zcmMudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXmEtel0vZ2ksXG5cIlwiKTtpZigwPT09Yi5pbmRleE9mKFwiamF2YXNjcmlwdFwiKXx8MD09PWIuaW5kZXhPZihcImRhdGFcIikpYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcGEtc3JjXCJdPWEuYXR0cmlidXRlcy5zcmMsZGVsZXRlIGEuYXR0cmlidXRlcy5zcmN9fX19LEM9e2VsZW1lbnRzOntlbWJlZDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudDtpZihiJiZcIm9iamVjdFwiPT1iLm5hbWUpe3ZhciBkPWIuYXR0cmlidXRlcy53aWR0aCxiPWIuYXR0cmlidXRlcy5oZWlnaHQ7ZCYmKGEuYXR0cmlidXRlcy53aWR0aD1kKTtiJiYoYS5hdHRyaWJ1dGVzLmhlaWdodD1iKX19LGE6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKCEoYS5jaGlsZHJlbi5sZW5ndGh8fGIubmFtZXx8Yi5pZHx8YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSkpcmV0dXJuITF9fX0sSD17ZWxlbWVudE5hbWVzOltbL15ja2U6LyxcIlwiXSxbL15cXD94bWw6bmFtZXNwYWNlJC8sXCJcIl1dLGF0dHJpYnV0ZU5hbWVzOltbL15kYXRhLWNrZS0oc2F2ZWR8cGEpLS8sXG5cIlwiXSxbL15kYXRhLWNrZS0uKi8sXCJcIl0sW1wiaGlkZWZvY3VzXCIsXCJcIl1dLGVsZW1lbnRzOnskOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cmlidXRlcztpZihiKXtpZihiW1wiZGF0YS1ja2UtdGVtcFwiXSlyZXR1cm4hMTtmb3IodmFyIGQ9W1wibmFtZVwiLFwiaHJlZlwiLFwic3JjXCJdLGYsYz0wO2M8ZC5sZW5ndGg7YysrKWY9XCJkYXRhLWNrZS1zYXZlZC1cIitkW2NdLGYgaW4gYiYmZGVsZXRlIGJbZFtjXV19cmV0dXJuIGF9LHRhYmxlOmZ1bmN0aW9uKGEpe2EuY2hpbGRyZW4uc2xpY2UoMCkuc29ydChmdW5jdGlvbihhLGIpe3ZhciBkLGY7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIudHlwZT09YS50eXBlJiYoZD1DS0VESVRPUi50b29scy5pbmRleE9mKHcsYS5uYW1lKSxmPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodyxiLm5hbWUpKTstMTxkJiYtMTxmJiZkIT1mfHwoZD1hLnBhcmVudD9hLmdldEluZGV4KCk6LTEsZj1iLnBhcmVudD9iLmdldEluZGV4KCk6LTEpO3JldHVybiBkPmY/XG4xOi0xfSl9LHBhcmFtOmZ1bmN0aW9uKGEpe2EuY2hpbGRyZW49W107YS5pc0VtcHR5PSEwO3JldHVybiBhfSxzcGFuOmZ1bmN0aW9uKGEpe1wiQXBwbGUtc3R5bGUtc3BhblwiPT1hLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSYmZGVsZXRlIGEubmFtZX0saHRtbDpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZTtkZWxldGUgYS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl19LGJvZHk6ZnVuY3Rpb24oYSl7ZGVsZXRlIGEuYXR0cmlidXRlcy5zcGVsbGNoZWNrO2RlbGV0ZSBhLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlfSxzdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLmNoaWxkcmVuWzBdO2ImJmIudmFsdWUmJihiLnZhbHVlPUNLRURJVE9SLnRvb2xzLnRyaW0oYi52YWx1ZSkpO2EuYXR0cmlidXRlcy50eXBlfHwoYS5hdHRyaWJ1dGVzLnR5cGU9XCJ0ZXh0L2Nzc1wiKX0sdGl0bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jaGlsZHJlblswXTshYiYmbChhLGI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dCk7XG5iLnZhbHVlPWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXRpdGxlXCJdfHxcIlwifSxpbnB1dDpkLHRleHRhcmVhOmR9LGF0dHJpYnV0ZXM6e1wiY2xhc3NcIjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMubHRyaW0oYS5yZXBsYWNlKC8oPzpefFxccyspY2tlX1teXFxzXSovZyxcIlwiKSl8fCExfX19O0NLRURJVE9SLmVudi5pZSYmKEguYXR0cmlidXRlcy5zdHlsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oXnw7KShbXlxcOl0rKS9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCl9KX0pO3ZhciBHPS88KGF8YXJlYXxpbWd8aW5wdXR8c291cmNlKVxcYihbXj5dKik+L2dpLEw9LyhbXFx3LTpdKylcXHMqPVxccyooPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXwoPzpbXiBcIic+XSspKS9naSxFPS9eKGhyZWZ8c3JjfG5hbWUpJC9pLEQ9Lyg/OjxzdHlsZSg/PVsgPl0pW14+XSo+W1xcc1xcU10qPzxcXC9zdHlsZT4pfCg/OjwoOj9saW5rfG1ldGF8YmFzZSlbXj5dKj4pL2dpLFxuTz0vKDx0ZXh0YXJlYSg/PVsgPl0pW14+XSo+KShbXFxzXFxTXSo/KSg/OjxcXC90ZXh0YXJlYT4pL2dpLEs9Lzxja2U6ZW5jb2RlZD4oW148XSopPFxcL2NrZTplbmNvZGVkPi9naSxNPS8oPFxcLz8pKCg/Om9iamVjdHxlbWJlZHxwYXJhbXxodG1sfGJvZHl8aGVhZHx0aXRsZSkoW1xcc11bXj5dKik/PikvZ2ksQT0vKDxcXC8/KWNrZTooKD86aHRtbHxib2R5fGhlYWR8dGl0bGUpW14+XSo+KS9naSxOPS88Y2tlOihwYXJhbXxlbWJlZCkoW14+XSo/KVxcLz8+KD8hXFxzKjxcXC9ja2U6XFwxKS9naTt1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShkKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKGQuc3BsaXQoXCJcIiksZnVuY3Rpb24oYSxkKXt2YXIgZj1kLnRvTG93ZXJDYXNlKCksYz1kLnRvVXBwZXJDYXNlKCksZT1iKGYpO2YhPT1jJiYoZSs9XCJ8XCIrYihjKSk7cmV0dXJuIGErKFwiKFwiK2UrXCIpXCIpfSxcIlwiKX1mdW5jdGlvbiBiKGEpe3ZhciBkO2Q9YS5jaGFyQ29kZUF0KDApO3ZhciBmPWQudG9TdHJpbmcoMTYpO1xuZD17aHRtbENvZGU6XCJcXHgyNiNcIitkK1wiOz9cIixoZXg6XCJcXHgyNiN4MCpcIitmK1wiOz9cIixlbnRpdHk6e1wiXFx4M2NcIjpcIlxceDI2bHQ7XCIsXCJcXHgzZVwiOlwiXFx4MjZndDtcIixcIjpcIjpcIlxceDI2Y29sb247XCJ9W2FdfTtmb3IodmFyIGMgaW4gZClkW2NdJiYoYSs9XCJ8XCIrZFtjXSk7cmV0dXJuIGF9dmFyIGQ9bmV3IFJlZ0V4cChcIihcIithKFwiXFx4M2Nja2U6ZW5jb2RlZFxceDNlXCIpK1wiKC4qPylcIithKFwiXFx4M2MvY2tlOmVuY29kZWRcXHgzZVwiKStcIil8KFwiK2EoXCJcXHgzY1wiKSthKFwiL1wiKStcIj9cIithKFwiY2tlOmVuY29kZWRcXHgzZVwiKStcIilcIixcImdpXCIpLGY9bmV3IFJlZ0V4cChcIigoXCIrYShcIntja2VfcHJvdGVjdGVkXCIpK1wiKShfWzAtOV0qKT9cIithKFwifVwiKStcIilcIixcImdpXCIpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGQsXCJcIikucmVwbGFjZShmLFwiXCIpfX0oKX0pKCk7XCJ1c2Ugc3RyaWN0XCI7Q0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50PWZ1bmN0aW9uKGMsZyl7dGhpcy5uYW1lPWM7dGhpcy5hdHRyaWJ1dGVzPVxuZ3x8e307dGhpcy5jaGlsZHJlbj1bXTt2YXIgZT1jfHxcIlwiLGI9ZS5tYXRjaCgvXmNrZTooLiopLyk7YiYmKGU9YlsxXSk7ZT0hIShDS0VESVRPUi5kdGQuJG5vbkJvZHlDb250ZW50W2VdfHxDS0VESVRPUi5kdGQuJGJsb2NrW2VdfHxDS0VESVRPUi5kdGQuJGxpc3RJdGVtW2VdfHxDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudFtlXXx8Q0tFRElUT1IuZHRkLiRub25FZGl0YWJsZVtlXXx8XCJiclwiPT1lKTt0aGlzLmlzRW1wdHk9ISFDS0VESVRPUi5kdGQuJGVtcHR5W2NdO3RoaXMuaXNVbmtub3duPSFDS0VESVRPUi5kdGRbY107dGhpcy5fPXtpc0Jsb2NrTGlrZTplLGhhc0lubGluZVN0YXJ0ZWQ6dGhpcy5pc0VtcHR5fHwhZX19O0NLRURJVE9SLmh0bWxQYXJzZXIuY3NzU3R5bGU9ZnVuY3Rpb24oYyl7dmFyIGc9e307KChjIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50P2MuYXR0cmlidXRlcy5zdHlsZTpjKXx8XCJcIikucmVwbGFjZSgvJnF1b3Q7L2csJ1wiJykucmVwbGFjZSgvXFxzKihbXiA6O10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLFxuZnVuY3Rpb24oYyxiLGgpe1wiZm9udC1mYW1pbHlcIj09YiYmKGg9aC5yZXBsYWNlKC9bXCInXS9nLFwiXCIpKTtnW2IudG9Mb3dlckNhc2UoKV09aH0pO3JldHVybntydWxlczpnLHBvcHVsYXRlOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMudG9TdHJpbmcoKTtiJiYoYyBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2Muc2V0QXR0cmlidXRlKFwic3R5bGVcIixiKTpjIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50P2MuYXR0cmlidXRlcy5zdHlsZT1iOmMuc3R5bGU9Yil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGM9W10sYjtmb3IoYiBpbiBnKWdbYl0mJmMucHVzaChiLFwiOlwiLGdbYl0sXCI7XCIpO3JldHVybiBjLmpvaW4oXCJcIil9fX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJzdHJpbmdcIj09dHlwZW9mIGI/Yy5uYW1lPT1iOmMubmFtZSBpbiBiKX19dmFyIGc9XG5mdW5jdGlvbihiLGMpe2I9YlswXTtjPWNbMF07cmV0dXJuIGI8Yz8tMTpiPmM/MTowfSxlPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQucHJvdG90eXBlO0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGFkZDplLmFkZCxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KHRoaXMubmFtZSx0aGlzLmF0dHJpYnV0ZXMpfSxmaWx0ZXI6ZnVuY3Rpb24oYixjKXt2YXIgZT10aGlzLGcsaztjPWUuZ2V0RmlsdGVyQ29udGV4dChjKTtpZighZS5wYXJlbnQpYi5vblJvb3QoYyxlKTtmb3IoOzspe2c9ZS5uYW1lO2lmKCEoaz1iLm9uRWxlbWVudE5hbWUoYyxnKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITE7ZS5uYW1lPWs7aWYoIShlPWIub25FbGVtZW50KGMsZSkpKXJldHVybiB0aGlzLnJlbW92ZSgpLFxuITE7aWYoZSE9PXRoaXMpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgoZSksITE7aWYoZS5uYW1lPT1nKWJyZWFrO2lmKGUudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGUpLCExO2lmKCFlLm5hbWUpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGhDaGlsZHJlbigpLCExfWc9ZS5hdHRyaWJ1dGVzO3ZhciBkLGY7Zm9yKGQgaW4gZyl7Zm9yKGs9Z1tkXTs7KWlmKGY9Yi5vbkF0dHJpYnV0ZU5hbWUoYyxkKSlpZihmIT1kKWRlbGV0ZSBnW2RdLGQ9ZjtlbHNlIGJyZWFrO2Vsc2V7ZGVsZXRlIGdbZF07YnJlYWt9ZiYmKCExPT09KGs9Yi5vbkF0dHJpYnV0ZShjLGUsZixrKSk/ZGVsZXRlIGdbZl06Z1tmXT1rKX1lLmlzRW1wdHl8fHRoaXMuZmlsdGVyQ2hpbGRyZW4oYiwhMSxjKTtyZXR1cm4hMH0sZmlsdGVyQ2hpbGRyZW46ZS5maWx0ZXJDaGlsZHJlbix3cml0ZUh0bWw6ZnVuY3Rpb24oYixjKXtjJiZ0aGlzLmZpbHRlcihjKTt2YXIgZT10aGlzLm5hbWUsXG5sPVtdLGs9dGhpcy5hdHRyaWJ1dGVzLGQsZjtiLm9wZW5UYWcoZSxrKTtmb3IoZCBpbiBrKWwucHVzaChbZCxrW2RdXSk7Yi5zb3J0QXR0cmlidXRlcyYmbC5zb3J0KGcpO2Q9MDtmb3IoZj1sLmxlbmd0aDtkPGY7ZCsrKWs9bFtkXSxiLmF0dHJpYnV0ZShrWzBdLGtbMV0pO2Iub3BlblRhZ0Nsb3NlKGUsdGhpcy5pc0VtcHR5KTt0aGlzLndyaXRlQ2hpbGRyZW5IdG1sKGIpO3RoaXMuaXNFbXB0eXx8Yi5jbG9zZVRhZyhlKX0sd3JpdGVDaGlsZHJlbkh0bWw6ZS53cml0ZUNoaWxkcmVuSHRtbCxyZXBsYWNlV2l0aENoaWxkcmVuOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPXRoaXMuY2hpbGRyZW4sYz1iLmxlbmd0aDtjOyliWy0tY10uaW5zZXJ0QWZ0ZXIodGhpcyk7dGhpcy5yZW1vdmUoKX0sZm9yRWFjaDplLmZvckVhY2gsZ2V0Rmlyc3Q6ZnVuY3Rpb24oYil7aWYoIWIpcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoP3RoaXMuY2hpbGRyZW5bMF06bnVsbDtcImZ1bmN0aW9uXCIhPXR5cGVvZiBiJiZcbihiPWMoYikpO2Zvcih2YXIgZT0wLGc9dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZTxnOysrZSlpZihiKHRoaXMuY2hpbGRyZW5bZV0pKXJldHVybiB0aGlzLmNoaWxkcmVuW2VdO3JldHVybiBudWxsfSxnZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChiKTtyZXR1cm4gYi5nZXRIdG1sKCl9LHNldEh0bWw6ZnVuY3Rpb24oYil7Yj10aGlzLmNoaWxkcmVuPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYikuY2hpbGRyZW47Zm9yKHZhciBjPTAsZT1iLmxlbmd0aDtjPGU7KytjKWJbY10ucGFyZW50PXRoaXN9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe3ZhciBiPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVIdG1sKGIpO3JldHVybiBiLmdldEh0bWwoKX0sc3BsaXQ6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPXRoaXMuY2hpbGRyZW4uc3BsaWNlKGIsXG50aGlzLmNoaWxkcmVuLmxlbmd0aC1iKSxlPXRoaXMuY2xvbmUoKSxnPTA7ZzxjLmxlbmd0aDsrK2cpY1tnXS5wYXJlbnQ9ZTtlLmNoaWxkcmVuPWM7Y1swXSYmKGNbMF0ucHJldmlvdXM9bnVsbCk7MDxiJiYodGhpcy5jaGlsZHJlbltiLTFdLm5leHQ9bnVsbCk7dGhpcy5wYXJlbnQuYWRkKGUsdGhpcy5nZXRJbmRleCgpKzEpO3JldHVybiBlfSxmaW5kOmZ1bmN0aW9uKGIsYyl7dm9pZCAwPT09YyYmKGM9ITEpO3ZhciBlPVtdLGc7Zm9yKGc9MDtnPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2crKyl7dmFyIGs9dGhpcy5jaGlsZHJlbltnXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiZiKGspP2UucHVzaChrKTpcInN0cmluZ1wiPT10eXBlb2YgYiYmay5uYW1lPT09YiYmZS5wdXNoKGspO2MmJmsuZmluZCYmKGU9ZS5jb25jYXQoay5maW5kKGIsYykpKX1yZXR1cm4gZX0sZmluZE9uZTpmdW5jdGlvbihiLGMpe3ZhciBlPW51bGwsZz1DS0VESVRPUi50b29scy5hcnJheS5maW5kKHRoaXMuY2hpbGRyZW4sXG5mdW5jdGlvbihnKXt2YXIgZD1cImZ1bmN0aW9uXCI9PT10eXBlb2YgYj9iKGcpOmcubmFtZT09PWI7aWYoZHx8IWMpcmV0dXJuIGQ7Zy5jaGlsZHJlbiYmZy5maW5kT25lJiYoZT1nLmZpbmRPbmUoYiwhMCkpO3JldHVybiEhZX0pO3JldHVybiBlfHxnfHxudWxsfSxhZGRDbGFzczpmdW5jdGlvbihiKXtpZighdGhpcy5oYXNDbGFzcyhiKSl7dmFyIGM9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl18fFwiXCI7dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09YysoYz9cIiBcIjpcIlwiKStifX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07YyYmKChjPUNLRURJVE9SLnRvb2xzLnRyaW0oYy5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPzpcXFxccyt8XilcIitiK1wiKD86XFxcXHMrfCQpXCIpLFwiIFwiKSkpP3RoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdPWM6ZGVsZXRlIHRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdKX0saGFzQ2xhc3M6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07XG5yZXR1cm4gYz8obmV3IFJlZ0V4cChcIig/Ol58XFxcXHMpXCIrYitcIig/XFx4M2RcXFxcc3wkKVwiKSkudGVzdChjKTohMX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihiKXt2YXIgYz1bXTtifHwoYj17bm9uRWRpdGFibGU6ITEsbmVzdGVkRWRpdGFibGU6ITF9KTtiLm5vbkVkaXRhYmxlfHxcImZhbHNlXCIhPXRoaXMuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU/Yi5ub25FZGl0YWJsZSYmIWIubmVzdGVkRWRpdGFibGUmJlwidHJ1ZVwiPT10aGlzLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlJiZjLnB1c2goXCJuZXN0ZWRFZGl0YWJsZVwiLCEwKTpjLnB1c2goXCJub25FZGl0YWJsZVwiLCEwKTtpZihjLmxlbmd0aCl7Yj1DS0VESVRPUi50b29scy5jb3B5KGIpO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSs9MiliW2NbZV1dPWNbZSsxXX1yZXR1cm4gYn19LCEwKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGM9L3soW159XSspfS9nO0NLRURJVE9SLnRlbXBsYXRlPWZ1bmN0aW9uKGMpe3RoaXMuc291cmNlPVxuXCJmdW5jdGlvblwiPT09dHlwZW9mIGM/YzpTdHJpbmcoYyl9O0NLRURJVE9SLnRlbXBsYXRlLnByb3RvdHlwZS5vdXRwdXQ9ZnVuY3Rpb24oZyxlKXt2YXIgYj0oXCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXMuc291cmNlP3RoaXMuc291cmNlKGcpOnRoaXMuc291cmNlKS5yZXBsYWNlKGMsZnVuY3Rpb24oYixjKXtyZXR1cm4gdm9pZCAwIT09Z1tjXT9nW2NdOmJ9KTtyZXR1cm4gZT9lLnB1c2goYik6Yn19KSgpO2RlbGV0ZSBDS0VESVRPUi5sb2FkRnVsbENvcmU7Q0tFRElUT1IuaW5zdGFuY2VzPXt9O0NLRURJVE9SLmRvY3VtZW50PW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoZG9jdW1lbnQpO0NLRURJVE9SLmFkZD1mdW5jdGlvbihjKXtmdW5jdGlvbiBnKCl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlPT1jJiYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPW51bGwsQ0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKSl9Q0tFRElUT1IuaW5zdGFuY2VzW2MubmFtZV09YztjLm9uKFwiZm9jdXNcIixcbmZ1bmN0aW9uKCl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlIT1jJiYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPWMsQ0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKSl9KTtjLm9uKFwiYmx1clwiLGcpO2Mub24oXCJkZXN0cm95XCIsZyk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlXCIsbnVsbCxjKX07Q0tFRElUT1IucmVtb3ZlPWZ1bmN0aW9uKGMpe2RlbGV0ZSBDS0VESVRPUi5pbnN0YW5jZXNbYy5uYW1lXX07KGZ1bmN0aW9uKCl7dmFyIGM9e307Q0tFRElUT1IuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oZyxlKXt2YXIgYj1jW2ddO2lmKGIpcmV0dXJuIGI7Yj17bmFtZTpnLHNvdXJjZTplfTtDS0VESVRPUi5maXJlKFwidGVtcGxhdGVcIixiKTtyZXR1cm4gY1tnXT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoYi5zb3VyY2UpfTtDS0VESVRPUi5nZXRUZW1wbGF0ZT1mdW5jdGlvbihnKXtyZXR1cm4gY1tnXX19KSgpOyhmdW5jdGlvbigpe3ZhciBjPVtdO0NLRURJVE9SLmFkZENzcz1mdW5jdGlvbihnKXtjLnB1c2goZyl9O1xuQ0tFRElUT1IuZ2V0Q3NzPWZ1bmN0aW9uKCl7cmV0dXJuIGMuam9pbihcIlxcblwiKX19KSgpO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLmlzRW1wdHkodGhpcy5pbnN0YW5jZXMpJiZDS0VESVRPUi5maXJlKFwicmVzZXRcIil9KTtDS0VESVRPUi5UUklTVEFURV9PTj0xO0NLRURJVE9SLlRSSVNUQVRFX09GRj0yO0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEPTA7KGZ1bmN0aW9uKCl7Q0tFRElUT1IuaW5saW5lPWZ1bmN0aW9uKGMsZyl7Yz1DS0VESVRPUi5lZGl0b3IuX2dldEVkaXRvckVsZW1lbnQoYyk7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGU9bmV3IENLRURJVE9SLmVkaXRvcihnLGMsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSksYj1jLmlzKFwidGV4dGFyZWFcIik/YzpudWxsO2I/KGUuc2V0RGF0YShiLmdldFZhbHVlKCksbnVsbCwhMCksYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgY29udGVudGVkaXRhYmxlXFx4M2RcIicrXG4hIWUucmVhZE9ubHkrJ1wiIGNsYXNzXFx4M2RcImNrZV90ZXh0YXJlYV9pbmxpbmVcIlxceDNlJytiLmdldFZhbHVlKCkrXCJcXHgzYy9kaXZcXHgzZVwiLENLRURJVE9SLmRvY3VtZW50KSxjLmluc2VydEFmdGVyKGIpLGIuaGlkZSgpLGIuJC5mb3JtJiZlLl9hdHRhY2hUb0Zvcm0oKSk6KGcmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZy5yZWFkT25seSYmIWcucmVhZE9ubHkmJmMuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsXCJ0cnVlXCIpLGUuc2V0RGF0YShjLmdldEh0bWwoKSxudWxsLCEwKSk7ZS5vbihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7ZS5maXJlKFwidWlSZWFkeVwiKTtlLmVkaXRhYmxlKGMpO2UuY29udGFpbmVyPWM7ZS51aS5jb250ZW50c0VsZW1lbnQ9YztlLnNldERhdGEoZS5nZXREYXRhKDEpKTtlLnJlc2V0RGlydHkoKTtlLmZpcmUoXCJjb250ZW50RG9tXCIpO2UubW9kZT1cInd5c2l3eWdcIjtlLmZpcmUoXCJtb2RlXCIpO2Uuc3RhdHVzPVwicmVhZHlcIjtlLmZpcmVPbmNlKFwiaW5zdGFuY2VSZWFkeVwiKTtcbkNLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVJlYWR5XCIsbnVsbCxlKX0sbnVsbCxudWxsLDFFNCk7ZS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe3ZhciBjPWUuY29udGFpbmVyO2ImJmMmJihjLmNsZWFyQ3VzdG9tRGF0YSgpLGMucmVtb3ZlKCkpO2ImJmIuc2hvdygpO2UuZWxlbWVudC5jbGVhckN1c3RvbURhdGEoKTtkZWxldGUgZS5lbGVtZW50fSk7cmV0dXJuIGV9O0NLRURJVE9SLmlubGluZUFsbD1mdW5jdGlvbigpe3ZhciBjLGcsZTtmb3IoZSBpbiBDS0VESVRPUi5kdGQuJGVkaXRhYmxlKWZvcih2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKGUpLGg9MCxtPWIuY291bnQoKTtoPG07aCsrKWM9Yi5nZXRJdGVtKGgpLFwidHJ1ZVwiPT1jLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmKGc9e2VsZW1lbnQ6Yyxjb25maWc6e319LCExIT09Q0tFRElUT1IuZmlyZShcImlubGluZVwiLGcpJiZDS0VESVRPUi5pbmxpbmUoYyxnLmNvbmZpZykpfTtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpeyFDS0VESVRPUi5kaXNhYmxlQXV0b0lubGluZSYmXG5DS0VESVRPUi5pbmxpbmVBbGwoKX0pfSkoKTtDS0VESVRPUi5yZXBsYWNlQ2xhc3M9XCJja2VkaXRvclwiOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYixjLG0sbCl7Yj1DS0VESVRPUi5lZGl0b3IuX2dldEVkaXRvckVsZW1lbnQoYik7aWYoIWIpcmV0dXJuIG51bGw7dmFyIGs9bmV3IENLRURJVE9SLmVkaXRvcihjLGIsbCk7bD09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJihiLnNldFN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLGsuXy5yZXF1aXJlZD1iLmhhc0F0dHJpYnV0ZShcInJlcXVpcmVkXCIpLGIucmVtb3ZlQXR0cmlidXRlKFwicmVxdWlyZWRcIikpO20mJmsuc2V0RGF0YShtLG51bGwsITApO2sub24oXCJsb2FkZWRcIixmdW5jdGlvbigpe2suaXNEZXN0cm95ZWQoKXx8ay5pc0RldGFjaGVkKCl8fChlKGspLGw9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZrLmNvbmZpZy5hdXRvVXBkYXRlRWxlbWVudCYmYi4kLmZvcm0mJmsuX2F0dGFjaFRvRm9ybSgpLGsuc2V0TW9kZShrLmNvbmZpZy5zdGFydHVwTW9kZSxcbmZ1bmN0aW9uKCl7ay5yZXNldERpcnR5KCk7ay5zdGF0dXM9XCJyZWFkeVwiO2suZmlyZU9uY2UoXCJpbnN0YW5jZVJlYWR5XCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVJlYWR5XCIsbnVsbCxrKX0pKX0pO2sub24oXCJkZXN0cm95XCIsZyk7cmV0dXJuIGt9ZnVuY3Rpb24gZygpe3ZhciBiPXRoaXMuY29udGFpbmVyLGM9dGhpcy5lbGVtZW50O2ImJihiLmNsZWFyQ3VzdG9tRGF0YSgpLGIucmVtb3ZlKCkpO2MmJihjLmNsZWFyQ3VzdG9tRGF0YSgpLHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiYoYy5zaG93KCksdGhpcy5fLnJlcXVpcmVkJiZjLnNldEF0dHJpYnV0ZShcInJlcXVpcmVkXCIsXCJyZXF1aXJlZFwiKSksZGVsZXRlIHRoaXMuZWxlbWVudCl9ZnVuY3Rpb24gZShiKXt2YXIgYz1iLm5hbWUsZT1iLmVsZW1lbnQsZz1iLmVsZW1lbnRNb2RlLGs9Yi5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcInRvcFwiLGh0bWw6XCJcIn0pLmh0bWwsZD1iLmZpcmUoXCJ1aVNwYWNlXCIsXG57c3BhY2U6XCJib3R0b21cIixodG1sOlwiXCJ9KS5odG1sLGY9bmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY3tvdXRlckVsfSBpZFxceDNkXCJja2Vfe25hbWV9XCIgY2xhc3NcXHgzZFwie2lkfSBja2UgY2tlX3Jlc2V0IGNrZV9jaHJvbWUgY2tlX2VkaXRvcl97bmFtZX0gY2tlX3tsYW5nRGlyfSAnK0NLRURJVE9SLmVudi5jc3NDbGFzcysnXCIgIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiByb2xlXFx4M2RcImFwcGxpY2F0aW9uXCInKyhiLnRpdGxlPycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiJzpcIlwiKStcIlxceDNlXCIrKGIudGl0bGU/J1xceDNjc3BhbiBpZFxceDNkXCJja2Vfe25hbWV9X2FyaWFsYmxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNle3ZvaWNlTGFiZWx9XFx4M2Mvc3BhblxceDNlJzpcIlwiKSsnXFx4M2N7b3V0ZXJFbH0gY2xhc3NcXHgzZFwiY2tlX2lubmVyIGNrZV9yZXNldFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZXt0b3BIdG1sfVxceDNje291dGVyRWx9IGlkXFx4M2RcIntjb250ZW50SWR9XCIgY2xhc3NcXHgzZFwiY2tlX2NvbnRlbnRzIGNrZV9yZXNldFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL3tvdXRlckVsfVxceDNle2JvdHRvbUh0bWx9XFx4M2Mve291dGVyRWx9XFx4M2VcXHgzYy97b3V0ZXJFbH1cXHgzZScpLFxuYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChmLm91dHB1dCh7aWQ6Yi5pZCxuYW1lOmMsbGFuZ0RpcjpiLmxhbmcuZGlyLGxhbmdDb2RlOmIubGFuZ0NvZGUsdm9pY2VMYWJlbDpiLnRpdGxlLHRvcEh0bWw6az8nXFx4M2NzcGFuIGlkXFx4M2RcIicrYi51aS5zcGFjZUlkKFwidG9wXCIpKydcIiBjbGFzc1xceDNkXCJja2VfdG9wIGNrZV9yZXNldF9hbGxcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIHN0eWxlXFx4M2RcImhlaWdodDphdXRvXCJcXHgzZScraytcIlxceDNjL3NwYW5cXHgzZVwiOlwiXCIsY29udGVudElkOmIudWkuc3BhY2VJZChcImNvbnRlbnRzXCIpLGJvdHRvbUh0bWw6ZD8nXFx4M2NzcGFuIGlkXFx4M2RcIicrYi51aS5zcGFjZUlkKFwiYm90dG9tXCIpKydcIiBjbGFzc1xceDNkXCJja2VfYm90dG9tIGNrZV9yZXNldF9hbGxcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnK2QrXCJcXHgzYy9zcGFuXFx4M2VcIjpcIlwiLG91dGVyRWw6Q0tFRElUT1IuZW52LmllP1wic3BhblwiOlwiZGl2XCJ9KSk7Zz09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/XG4oZS5oaWRlKCksYy5pbnNlcnRBZnRlcihlKSk6ZS5hcHBlbmQoYyk7Yi5jb250YWluZXI9YztiLnVpLmNvbnRlbnRzRWxlbWVudD1iLnVpLnNwYWNlKFwiY29udGVudHNcIik7ayYmYi51aS5zcGFjZShcInRvcFwiKS51bnNlbGVjdGFibGUoKTtkJiZiLnVpLnNwYWNlKFwiYm90dG9tXCIpLnVuc2VsZWN0YWJsZSgpO2U9Yi5jb25maWcud2lkdGg7Zz1iLmNvbmZpZy5oZWlnaHQ7ZSYmYy5zZXRTdHlsZShcIndpZHRoXCIsQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGUpKTtnJiZiLnVpLnNwYWNlKFwiY29udGVudHNcIikuc2V0U3R5bGUoXCJoZWlnaHRcIixDS0VESVRPUi50b29scy5jc3NMZW5ndGgoZykpO2MuZGlzYWJsZUNvbnRleHRNZW51KCk7Q0tFRElUT1IuZW52LndlYmtpdCYmYy5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXtiLmZvY3VzKCl9KTtiLmZpcmVPbmNlKFwidWlSZWFkeVwiKX1DS0VESVRPUi5yZXBsYWNlPWZ1bmN0aW9uKGIsZSl7cmV0dXJuIGMoYixlLG51bGwsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UpfTtcbkNLRURJVE9SLmFwcGVuZFRvPWZ1bmN0aW9uKGIsZSxnKXtyZXR1cm4gYyhiLGUsZyxDS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pfTtDS0VESVRPUi5yZXBsYWNlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGV4dGFyZWFcIiksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZT1udWxsLGc9YltjXTtpZihnLm5hbWV8fGcuaWQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe2lmKCEobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMpXCIrYXJndW1lbnRzWzBdK1wiKD86JHxcXFxccylcIikpLnRlc3QoZy5jbGFzc05hbWUpKWNvbnRpbnVlfWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiYoZT17fSwhMT09PWFyZ3VtZW50c1swXShnLGUpKSljb250aW51ZTt0aGlzLnJlcGxhY2UoZyxlKX19fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmFkZE1vZGU9ZnVuY3Rpb24oYixjKXsodGhpcy5fLm1vZGVzfHwodGhpcy5fLm1vZGVzPVxue30pKVtiXT1jfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnNldE1vZGU9ZnVuY3Rpb24oYixjKXt2YXIgZT10aGlzLGc9dGhpcy5fLm1vZGVzO2lmKGIhPWUubW9kZSYmZyYmZ1tiXSl7ZS5maXJlKFwiYmVmb3JlU2V0TW9kZVwiLGIpO2lmKGUubW9kZSl7dmFyIGs9ZS5jaGVja0RpcnR5KCksZz1lLl8ucHJldmlvdXNNb2RlRGF0YSxkLGY9MDtlLmZpcmUoXCJiZWZvcmVNb2RlVW5sb2FkXCIpO2UuZWRpdGFibGUoMCk7ZS5fLnByZXZpb3VzTW9kZT1lLm1vZGU7ZS5fLnByZXZpb3VzTW9kZURhdGE9ZD1lLmdldERhdGEoMSk7XCJzb3VyY2VcIj09ZS5tb2RlJiZnPT1kJiYoZS5maXJlKFwibG9ja1NuYXBzaG90XCIse2ZvcmNlVXBkYXRlOiEwfSksZj0xKTtlLnVpLnNwYWNlKFwiY29udGVudHNcIikuc2V0SHRtbChcIlwiKTtlLm1vZGU9XCJcIn1lbHNlIGUuXy5wcmV2aW91c01vZGVEYXRhPWUuZ2V0RGF0YSgxKTt0aGlzLl8ubW9kZXNbYl0oZnVuY3Rpb24oKXtlLm1vZGU9Yjt2b2lkIDAhPT1rJiYhayYmXG5lLnJlc2V0RGlydHkoKTtmP2UuZmlyZShcInVubG9ja1NuYXBzaG90XCIpOlwid3lzaXd5Z1wiPT1iJiZlLmZpcmUoXCJzYXZlU25hcHNob3RcIik7c2V0VGltZW91dChmdW5jdGlvbigpe2UuaXNEZXN0cm95ZWQoKXx8ZS5pc0RldGFjaGVkKCl8fChlLmZpcmUoXCJtb2RlXCIpLGMmJmMuY2FsbChlKSl9LDApfSl9fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihiLGMsZSxnKXt2YXIgaz10aGlzLmNvbnRhaW5lcixkPXRoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKSxmPUNLRURJVE9SLmVudi53ZWJraXQmJnRoaXMuZG9jdW1lbnQmJnRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5mcmFtZUVsZW1lbnQ7Zz1nP3RoaXMuY29udGFpbmVyLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV9pbm5lclwiKX0pOms7Yj1DS0VESVRPUi50b29scy5jb252ZXJ0VG9QeChDS0VESVRPUi50b29scy5jc3NMZW5ndGgoYikpO1xuZy5zZXRTaXplKFwid2lkdGhcIixiLCEwKTtmJiYoZi5zdHlsZS53aWR0aD1cIjElXCIpO2M9Q0tFRElUT1IudG9vbHMuY29udmVydFRvUHgoQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGMpKTt2YXIgYT0oZy4kLm9mZnNldEhlaWdodHx8MCktKGQuJC5jbGllbnRIZWlnaHR8fDApLGs9TWF0aC5tYXgoYy0oZT8wOmEpLDApO2M9ZT9jK2E6YztkLnNldFN0eWxlKFwiaGVpZ2h0XCIsQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGspKTtmJiYoZi5zdHlsZS53aWR0aD1cIjEwMCVcIik7dGhpcy5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmMsY29udGVudHNIZWlnaHQ6ayxvdXRlcldpZHRoOmJ8fGcuZ2V0U2l6ZShcIndpZHRoXCIpfSl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0UmVzaXphYmxlPWZ1bmN0aW9uKGIpe3JldHVybiBiP3RoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKTp0aGlzLmNvbnRhaW5lcn07Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXtDS0VESVRPUi5yZXBsYWNlQ2xhc3MmJlxuQ0tFRElUT1IucmVwbGFjZUFsbChDS0VESVRPUi5yZXBsYWNlQ2xhc3MpfSl9KSgpO0NLRURJVE9SLmNvbmZpZy5zdGFydHVwTW9kZT1cInd5c2l3eWdcIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEpe3ZhciBkPWEuZWRpdG9yLGM9YS5kYXRhLnBhdGgsZj1jLmJsb2NrTGltaXQsZT1hLmRhdGEuc2VsZWN0aW9uLGg9ZS5nZXRSYW5nZXMoKVswXSxuO2lmKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcilpZihlPWcoZSxjKSllLmFwcGVuZEJvZ3VzKCksbj1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZXx8Q0tFRElUT1IuZW52LmVkZ2UmJmQuXy5wcmV2aW91c0FjdGl2ZTtsKGQsYy5ibG9jayxmKSYmaC5jb2xsYXBzZWQmJiFoLmdldENvbW1vbkFuY2VzdG9yKCkuaXNSZWFkT25seSgpJiYoYz1oLmNsb25lKCksYy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpLGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksXG5mLmd1YXJkPWZ1bmN0aW9uKGEpe3JldHVybiFiKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVHx8YS5pc1JlYWRPbmx5KCl9LCFmLmNoZWNrRm9yd2FyZCgpfHxjLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmMuY2hlY2tFbmRPZkJsb2NrKCkpJiYoZD1oLmZpeEJsb2NrKCEwLGQuYWN0aXZlRW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIiksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fChkPWQuZ2V0Rmlyc3QoYikpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmQ0tFRElUT1IudG9vbHMudHJpbShkLmdldFRleHQoKSkubWF0Y2goL14oPzombmJzcDt8XFx4YTApJC8pJiZkLnJlbW92ZSgpLG49MSxhLmNhbmNlbCgpKTtuJiZoLnNlbGVjdCgpfWZ1bmN0aW9uIGcoYSxkKXtpZihhLmlzRmFrZSlyZXR1cm4gMDt2YXIgYz1kLmJsb2NrfHxkLmJsb2NrTGltaXQsZj1jJiZjLmdldExhc3QoYik7aWYoISghY3x8IWMuaXNCbG9ja0JvdW5kYXJ5KCl8fFxuZiYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuaXNCbG9ja0JvdW5kYXJ5KCl8fGMuaXMoXCJwcmVcIil8fGMuZ2V0Qm9ndXMoKSkpcmV0dXJuIGN9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7Yi5pcyhcImlucHV0XCIpJiYoYj1iLmdldEF0dHJpYnV0ZShcInR5cGVcIiksXCJzdWJtaXRcIiE9YiYmXCJyZXNldFwiIT1ifHxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9ZnVuY3Rpb24gYihhKXtyZXR1cm4gbihhKSYmcihhKX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBjPWQuZGF0YS4kLnRvRWxlbWVudHx8ZC5kYXRhLiQuZnJvbUVsZW1lbnR8fGQuZGF0YS4kLnJlbGF0ZWRUYXJnZXQ7KGM9YyYmYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKTpudWxsKSYmKGIuZXF1YWxzKGMpfHxiLmNvbnRhaW5zKGMpKXx8YS5jYWxsKHRoaXMsZCl9fWZ1bmN0aW9uIG0oYSl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oZCxcbmYpe2YmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzKGUpJiYoYz1kKTtpZighKGZ8fCFiKGQpfHxhJiZwKGQpKSlyZXR1cm4hMX19dmFyIGMsZj1hLmdldFJhbmdlcygpWzBdO2E9YS5yb290O3ZhciBlPXt0YWJsZToxLHVsOjEsb2w6MSxkbDoxfTtpZihmLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKGUpKXt2YXIgaD1mLmNsb25lKCk7aC5jb2xsYXBzZSgxKTtoLnNldFN0YXJ0QXQoYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7YT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihoKTthLmd1YXJkPWQoKTthLmNoZWNrQmFja3dhcmQoKTtpZihjKXJldHVybiBoPWYuY2xvbmUoKSxoLmNvbGxhcHNlKCksaC5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksYT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihoKSxhLmd1YXJkPWQoITApLGM9ITEsYS5jaGVja0ZvcndhcmQoKSxjfXJldHVybiBudWxsfWZ1bmN0aW9uIGwoYSxiLGQpe3JldHVybiExIT09XG5hLmNvbmZpZy5hdXRvUGFyYWdyYXBoJiZhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihhLmVkaXRhYmxlKCkuZXF1YWxzKGQpJiYhYnx8YiYmXCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX1mdW5jdGlvbiBrKGEpe3JldHVybiBhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJiExIT09YS5jb25maWcuYXV0b1BhcmFncmFwaD9hLmFjdGl2ZUVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCI6ITF9ZnVuY3Rpb24gZChhKXthJiZhLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCkmJmEucmVtb3ZlKCl9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLmVkaXRvcjtiLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCk7c2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCl9ZnVuY3Rpb24gYShhLGIsZCl7dmFyIGM9YS5nZXRDb21tb25BbmNlc3RvcihiKTtmb3IoYj1hPWQ/XG5iOmE7KGE9YS5nZXRQYXJlbnQoKSkmJiFjLmVxdWFscyhhKSYmMT09YS5nZXRDaGlsZENvdW50KCk7KWI9YTtiLnJlbW92ZSgpfXZhciBuLHIseCxwLHEsdSx6LHQsQix3O0NLRURJVE9SLmVkaXRhYmxlPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmRvbS5lbGVtZW50LCQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2UoYi4kfHxiKTt0aGlzLmVkaXRvcj1hO3RoaXMuc3RhdHVzPVwidW5sb2FkZWRcIjt0aGlzLmhhc0ZvY3VzPSExO3RoaXMuc2V0dXAoKX0scHJvdG86e2ZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE7aWYoQ0tFRElUT1IuZW52LndlYmtpdCYmIXRoaXMuaGFzRm9jdXMmJihhPXRoaXMuZWRpdG9yLl8ucHJldmlvdXNBY3RpdmV8fHRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKSx0aGlzLmNvbnRhaW5zKGEpKSl7YS5mb2N1cygpO3JldHVybn1DS0VESVRPUi5lbnYuZWRnZSYmMTQ8Q0tFRElUT1IuZW52LnZlcnNpb24mJiF0aGlzLmhhc0ZvY3VzJiZcbnRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiYodGhpcy5lZGl0b3IuXy5wcmV2aW91c1Njcm9sbFRvcD10aGlzLiQuc2Nyb2xsVG9wKTt0cnl7aWYoIUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9ufHwhdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCkpaWYoQ0tFRElUT1IuZW52LmNocm9tZSl7dmFyIGI9dGhpcy4kLnNjcm9sbFRvcDt0aGlzLiQuZm9jdXMoKTt0aGlzLiQuc2Nyb2xsVG9wPWJ9ZWxzZSB0aGlzLiQuZm9jdXMoKTtlbHNlIHRoaXMuJC5zZXRBY3RpdmUoKX1jYXRjaChkKXtpZighQ0tFRElUT1IuZW52LmllKXRocm93IGQ7fUNLRURJVE9SLmVudi5zYWZhcmkmJiF0aGlzLmlzSW5saW5lKCkmJihhPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpLGEuZXF1YWxzKHRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSl8fHRoaXMuZ2V0V2luZG93KCkuZm9jdXMoKSl9LFxub246ZnVuY3Rpb24oYSxiKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Q0tFRElUT1IuZW52LmllJiYvXmZvY3VzfGJsdXIkLy5leGVjKGEpJiYoYT1cImZvY3VzXCI9PWE/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiLGI9aChiLHRoaXMpLGRbMF09YSxkWzFdPWIpO3JldHVybiBDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxkKX0sYXR0YWNoTGlzdGVuZXI6ZnVuY3Rpb24oYSl7IXRoaXMuXy5saXN0ZW5lcnMmJih0aGlzLl8ubGlzdGVuZXJzPVtdKTt2YXIgYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksYj1hLm9uLmFwcGx5KGEsYik7dGhpcy5fLmxpc3RlbmVycy5wdXNoKGIpO3JldHVybiBifSxjbGVhckxpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5saXN0ZW5lcnM7dHJ5e2Zvcig7YS5sZW5ndGg7KWEucG9wKCkucmVtb3ZlTGlzdGVuZXIoKX1jYXRjaChiKXt9fSxyZXN0b3JlQXR0cnM6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuXy5hdHRyQ2hhbmdlcyxiLGQ7Zm9yKGQgaW4gYSlhLmhhc093blByb3BlcnR5KGQpJiYoYj1hW2RdLG51bGwhPT1iP3RoaXMuc2V0QXR0cmlidXRlKGQsYik6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoZCkpfSxhdHRhY2hDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIpO3RoaXMuaGFzQ2xhc3MoYSl8fCghYiYmKGI9W10pLGIucHVzaChhKSx0aGlzLnNldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIsYiksdGhpcy5hZGRDbGFzcyhhKSl9LGNoYW5nZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtiIT09ZCYmKCF0aGlzLl8uYXR0ckNoYW5nZXMmJih0aGlzLl8uYXR0ckNoYW5nZXM9e30pLGEgaW4gdGhpcy5fLmF0dHJDaGFuZ2VzfHwodGhpcy5fLmF0dHJDaGFuZ2VzW2FdPWQpLHRoaXMuc2V0QXR0cmlidXRlKGEsYikpfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmZvY3VzKCk7dGhpcy5pbnNlcnRIdG1sKHRoaXMudHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sKGEpLFxuXCJ0ZXh0XCIpfSx0cmFuc2Zvcm1QbGFpblRleHRUb0h0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkuaGFzQXNjZW5kYW50KFwicHJlXCIsITApP0NLRURJVE9SLkVOVEVSX0JSOnRoaXMuZWRpdG9yLmFjdGl2ZUVudGVyTW9kZTtyZXR1cm4gQ0tFRElUT1IudG9vbHMudHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sKGEsYil9LGluc2VydEh0bWw6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPXRoaXMuZWRpdG9yO2MuZm9jdXMoKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZHx8KGQ9Yy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSk7dSh0aGlzLGJ8fFwiaHRtbFwiLGEsZCk7ZC5zZWxlY3QoKTtmKHRoaXMpO3RoaXMuZWRpdG9yLmZpcmUoXCJhZnRlckluc2VydEh0bWxcIix7fSl9LGluc2VydEh0bWxJbnRvUmFuZ2U6ZnVuY3Rpb24oYSxiLGQpe3UodGhpcyxkfHxcImh0bWxcIixhLGIpO3RoaXMuZWRpdG9yLmZpcmUoXCJhZnRlckluc2VydEh0bWxcIixcbntpbnRvUmFuZ2U6Yn0pfSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKGEsZCl7dmFyIGM9dGhpcy5lZGl0b3I7Yy5mb2N1cygpO2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKTt2YXIgZT1jLmFjdGl2ZUVudGVyTW9kZSxjPWMuZ2V0U2VsZWN0aW9uKCksaD1hLmdldE5hbWUoKSxoPUNLRURJVE9SLmR0ZC4kYmxvY2tbaF07ZHx8KGQ9Yy5nZXRSYW5nZXMoKVswXSk7dGhpcy5pbnNlcnRFbGVtZW50SW50b1JhbmdlKGEsZCkmJihkLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxoJiYoKGg9YS5nZXROZXh0KGZ1bmN0aW9uKGEpe3JldHVybiBiKGEpJiYhcChhKX0pKSYmaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXMoQ0tFRElUT1IuZHRkLiRibG9jayk/aC5nZXREdGQoKVtcIiNcIl0/ZC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGgpOmQubW92ZVRvRWxlbWVudEVkaXRFbmQoYSk6aHx8ZT09Q0tFRElUT1IuRU5URVJfQlJ8fChoPWQuZml4QmxvY2soITAsXG5lPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIiksZC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGgpKSkpO2Muc2VsZWN0UmFuZ2VzKFtkXSk7Zih0aGlzKX0saW5zZXJ0RWxlbWVudEludG9TZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRFbGVtZW50KGEpfSxpbnNlcnRFbGVtZW50SW50b1JhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGl0b3IsZj1jLmNvbmZpZy5lbnRlck1vZGUsZT1hLmdldE5hbWUoKSxoPUNLRURJVE9SLmR0ZC4kYmxvY2tbZV07aWYoYi5jaGVja1JlYWRPbmx5KCkpcmV0dXJuITE7Yi5kZWxldGVDb250ZW50cygxKTtiLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGIuc3RhcnRDb250YWluZXIuaXMoe3RyOjEsdGFibGU6MSx0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MX0pP3ooYik6Yi5zdGFydENvbnRhaW5lci5pcyhDS0VESVRPUi5kdGQuJGxpc3QpJiZ0KGIpKTt2YXIgZyxuO2lmKGgpZm9yKDsoZz1iLmdldENvbW1vbkFuY2VzdG9yKDAsXG4xKSkmJihuPUNLRURJVE9SLmR0ZFtnLmdldE5hbWUoKV0pJiYoIW58fCFuW2VdKTspaWYoZy5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuc3Bhbil7dmFyIGg9Yi5zcGxpdEVsZW1lbnQoZyksbD1iLmNyZWF0ZUJvb2ttYXJrKCk7ZChnKTtkKGgpO2IubW92ZVRvQm9va21hcmsobCl9ZWxzZSBiLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmIuY2hlY2tFbmRPZkJsb2NrKCk/KGIuc2V0U3RhcnRCZWZvcmUoZyksYi5jb2xsYXBzZSghMCksZy5yZW1vdmUoKSk6Yi5zcGxpdEJsb2NrKGY9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiLGMuZWRpdGFibGUoKSk7Yi5pbnNlcnROb2RlKGEpO3JldHVybiEwfSxzZXREYXRhOmZ1bmN0aW9uKGEsYil7Ynx8KGE9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwoYSkpO3RoaXMuc2V0SHRtbChhKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTtcInVubG9hZGVkXCI9PXRoaXMuc3RhdHVzJiYodGhpcy5zdGF0dXM9XCJyZWFkeVwiKTt0aGlzLmVkaXRvci5maXJlKFwiZGF0YVJlYWR5XCIpfSxcbmdldERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRIdG1sKCk7YXx8KGI9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQoYikpO3JldHVybiBifSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCFhKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9XCJkZXRhY2hlZFwiO3RoaXMuZWRpdG9yLnNldERhdGEodGhpcy5lZGl0b3IuZ2V0RGF0YSgpLHtpbnRlcm5hbDohMH0pO3RoaXMuY2xlYXJMaXN0ZW5lcnMoKTt0cnl7dGhpcy5fLmNsZWFuQ3VzdG9tRGF0YSgpfWNhdGNoKGEpe2lmKCFDS0VESVRPUi5lbnYuaWV8fC0yMTQ2ODI4MjE4IT09YS5udW1iZXIpdGhyb3cgYTt9dGhpcy5lZGl0b3IuZmlyZShcImNvbnRlbnREb21VbmxvYWRcIik7ZGVsZXRlIHRoaXMuZWRpdG9yLmRvY3VtZW50O2RlbGV0ZSB0aGlzLmVkaXRvci53aW5kb3c7ZGVsZXRlIHRoaXMuZWRpdG9yfSxpc0lubGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KX0sXG5maXhJbml0aWFsU2VsZWN0aW9uOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBiPWQuZ2V0RG9jdW1lbnQoKS4kLGM9Yi5nZXRTZWxlY3Rpb24oKSxmO2E6aWYoYy5hbmNob3JOb2RlJiZjLmFuY2hvck5vZGU9PWQuJClmPSEwO2Vsc2V7aWYoQ0tFRElUT1IuZW52LndlYmtpdCYmKGY9ZC5nZXREb2N1bWVudCgpLmdldEFjdGl2ZSgpKSYmZi5lcXVhbHMoZCkmJiFjLmFuY2hvck5vZGUpe2Y9ITA7YnJlYWsgYX1mPXZvaWQgMH1mJiYoZj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGQpLGYubW92ZVRvRWxlbWVudEVkaXRTdGFydChkKSxiPWIuY3JlYXRlUmFuZ2UoKSxiLnNldFN0YXJ0KGYuc3RhcnRDb250YWluZXIuJCxmLnN0YXJ0T2Zmc2V0KSxiLmNvbGxhcHNlKCEwKSxjLnJlbW92ZUFsbFJhbmdlcygpLGMuYWRkUmFuZ2UoYikpfWZ1bmN0aW9uIGIoKXt2YXIgYT1kLmdldERvY3VtZW50KCkuJCxjPWEuc2VsZWN0aW9uLGY9ZC5nZXREb2N1bWVudCgpLmdldEFjdGl2ZSgpO1wiTm9uZVwiPT1cbmMudHlwZSYmZi5lcXVhbHMoZCkmJihjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZCksYT1hLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCksYy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGQpLGM9Yy5zdGFydENvbnRhaW5lcixjLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGM9Yy5nZXRQYXJlbnQoKSksYS5tb3ZlVG9FbGVtZW50VGV4dChjLiQpLGEuY29sbGFwc2UoITApLGEuc2VsZWN0KCkpfXZhciBkPXRoaXM7aWYoQ0tFRElUT1IuZW52LmllJiYoOT5DS0VESVRPUi5lbnYudmVyc2lvbnx8Q0tFRElUT1IuZW52LnF1aXJrcykpdGhpcy5oYXNGb2N1cyYmKHRoaXMuZm9jdXMoKSxiKCkpO2Vsc2UgaWYodGhpcy5oYXNGb2N1cyl0aGlzLmZvY3VzKCksYSgpO2Vsc2UgdGhpcy5vbmNlKFwiZm9jdXNcIixmdW5jdGlvbigpe2EoKX0sbnVsbCxudWxsLC05OTkpfSxnZXRIdG1sRnJvbVJhbmdlOmZ1bmN0aW9uKGEpe2lmKGEuY29sbGFwc2VkKXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYS5kb2N1bWVudCk7XG5hPXtkb2M6dGhpcy5nZXREb2N1bWVudCgpLHJhbmdlOmEuY2xvbmUoKX07Qi5lb2wuZGV0ZWN0KGEsdGhpcyk7Qi5ib2d1cy5leGNsdWRlKGEpO0IuY2VsbC5zaHJpbmsoYSk7YS5mcmFnbWVudD1hLnJhbmdlLmNsb25lQ29udGVudHMoKTtCLnRyZWUucmVidWlsZChhLHRoaXMpO0IuZW9sLmZpeChhLHRoaXMpO3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYS5mcmFnbWVudC4kKX0sZXh0cmFjdEh0bWxGcm9tUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgZD13LGM9e3JhbmdlOmEsZG9jOmEuZG9jdW1lbnR9LGY9dGhpcy5nZXRIdG1sRnJvbVJhbmdlKGEpO2lmKGEuY29sbGFwc2VkKXJldHVybiBhLm9wdGltaXplKCksZjthLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUsMSk7ZC50YWJsZS5kZXRlY3RQdXJnZShjKTtjLmJvb2ttYXJrPWEuY3JlYXRlQm9va21hcmsoKTtkZWxldGUgYy5yYW5nZTt2YXIgZT10aGlzLmVkaXRvci5jcmVhdGVSYW5nZSgpO1xuZS5tb3ZlVG9Qb3NpdGlvbihjLmJvb2ttYXJrLnN0YXJ0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2MudGFyZ2V0Qm9va21hcms9ZS5jcmVhdGVCb29rbWFyaygpO2QubGlzdC5kZXRlY3RNZXJnZShjLHRoaXMpO2QudGFibGUuZGV0ZWN0UmFuZ2VzKGMsdGhpcyk7ZC5ibG9jay5kZXRlY3RNZXJnZShjLHRoaXMpO2MudGFibGVDb250ZW50c1Jhbmdlcz8oZC50YWJsZS5kZWxldGVSYW5nZXMoYyksYS5tb3ZlVG9Cb29rbWFyayhjLmJvb2ttYXJrKSxjLnJhbmdlPWEpOihhLm1vdmVUb0Jvb2ttYXJrKGMuYm9va21hcmspLGMucmFuZ2U9YSxhLmV4dHJhY3RDb250ZW50cyhkLmRldGVjdEV4dHJhY3RNZXJnZShjKSkpO2EubW92ZVRvQm9va21hcmsoYy50YXJnZXRCb29rbWFyayk7YS5vcHRpbWl6ZSgpO2QuZml4VW5lZGl0YWJsZVJhbmdlUG9zaXRpb24oYSk7ZC5saXN0Lm1lcmdlKGMsdGhpcyk7ZC50YWJsZS5wdXJnZShjLHRoaXMpO2QuYmxvY2subWVyZ2UoYyx0aGlzKTtcbmlmKGIpe2Q9YS5zdGFydFBhdGgoKTtpZihjPWEuY2hlY2tTdGFydE9mQmxvY2soKSYmYS5jaGVja0VuZE9mQmxvY2soKSYmZC5ibG9jayYmIWEucm9vdC5lcXVhbHMoZC5ibG9jaykpe2E6e3ZhciBjPWQuYmxvY2suZ2V0RWxlbWVudHNCeVRhZyhcInNwYW5cIiksZT0wLGg7aWYoYylmb3IoO2g9Yy5nZXRJdGVtKGUrKyk7KWlmKCFyKGgpKXtjPSEwO2JyZWFrIGF9Yz0hMX1jPSFjfWMmJihhLm1vdmVUb1Bvc2l0aW9uKGQuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxkLmJsb2NrLnJlbW92ZSgpKX1lbHNlIGQuYXV0b1BhcmFncmFwaCh0aGlzLmVkaXRvcixhKSx4KGEuc3RhcnRDb250YWluZXIpJiZhLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCk7YS5zdGFydENvbnRhaW5lci5tZXJnZVNpYmxpbmdzKCk7cmV0dXJuIGZ9LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lZGl0b3I7dGhpcy5hdHRhY2hMaXN0ZW5lcihkLFwiYmVmb3JlR2V0RGF0YVwiLGZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLmdldERhdGEoKTt0aGlzLmlzKFwidGV4dGFyZWFcIil8fCExIT09ZC5jb25maWcuaWdub3JlRW1wdHlQYXJhZ3JhcGgmJihhPWEucmVwbGFjZShxLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9KSk7ZC5zZXREYXRhKGEsbnVsbCwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihkLFwiZ2V0U25hcHNob3RcIixmdW5jdGlvbihhKXthLmRhdGE9dGhpcy5nZXREYXRhKDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGQsXCJhZnRlclNldERhdGFcIixmdW5jdGlvbigpe3RoaXMuc2V0RGF0YShkLmdldERhdGEoMSkpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGQsXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbihhKXt0aGlzLnNldERhdGEoYS5kYXRhLDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGQsXCJiZWZvcmVGb2N1c1wiLGZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRTZWxlY3Rpb24oKTsoYT1hJiZhLmdldE5hdGl2ZSgpKSYmXCJDb250cm9sXCI9PWEudHlwZXx8dGhpcy5mb2N1cygpfSxcbnRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoZCxcImluc2VydEh0bWxcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydEh0bWwoYS5kYXRhLmRhdGFWYWx1ZSxhLmRhdGEubW9kZSxhLmRhdGEucmFuZ2UpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGQsXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRFbGVtZW50KGEuZGF0YSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoZCxcImluc2VydFRleHRcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydFRleHQoYS5kYXRhKX0sdGhpcyk7dGhpcy5zZXRSZWFkT25seShkLnJlYWRPbmx5KTt0aGlzLmF0dGFjaENsYXNzKFwiY2tlX2VkaXRhYmxlXCIpO2QuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9lZGl0YWJsZV9pbmxpbmVcIik6ZC5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJmQuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUT3x8XG50aGlzLmF0dGFjaENsYXNzKFwiY2tlX2VkaXRhYmxlX3RoZW1lZFwiKTt0aGlzLmF0dGFjaENsYXNzKFwiY2tlX2NvbnRlbnRzX1wiK2QuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbik7ZC5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzWzhdPStkLnJlYWRPbmx5O2Qua2V5c3Ryb2tlSGFuZGxlci5hdHRhY2godGhpcyk7dGhpcy5vbihcImJsdXJcIixmdW5jdGlvbigpe3RoaXMuaGFzRm9jdXM9ITF9LG51bGwsbnVsbCwtMSk7dGhpcy5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLmhhc0ZvY3VzPSEwfSxudWxsLG51bGwsLTEpO2lmKENLRURJVE9SLmVudi53ZWJraXQpdGhpcy5vbihcInNjcm9sbFwiLGZ1bmN0aW9uKCl7ZC5fLnByZXZpb3VzU2Nyb2xsVG9wPWQuZWRpdGFibGUoKS4kLnNjcm9sbFRvcH0sbnVsbCxudWxsLC0xKTtpZihDS0VESVRPUi5lbnYuZWRnZSYmMTQ8Q0tFRElUT1IuZW52LnZlcnNpb24pe3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGE9ZC5lZGl0YWJsZSgpO1xubnVsbCE9ZC5fLnByZXZpb3VzU2Nyb2xsVG9wJiZhLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSYmKGEuJC5zY3JvbGxUb3A9ZC5fLnByZXZpb3VzU2Nyb2xsVG9wLGQuXy5wcmV2aW91c1Njcm9sbFRvcD1udWxsLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIixjKSl9O3RoaXMub24oXCJzY3JvbGxcIixjKX1kLmZvY3VzTWFuYWdlci5hZGQodGhpcyk7dGhpcy5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCkpJiYodGhpcy5oYXNGb2N1cz0hMCxkLm9uY2UoXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtkLmZvY3VzTWFuYWdlci5mb2N1cyh0aGlzKX0sdGhpcykpO3RoaXMuaXNJbmxpbmUoKSYmdGhpcy5jaGFuZ2VBdHRyKFwidGFiaW5kZXhcIixkLnRhYkluZGV4KTtpZighdGhpcy5pcyhcInRleHRhcmVhXCIpKXtkLmRvY3VtZW50PXRoaXMuZ2V0RG9jdW1lbnQoKTtkLndpbmRvdz10aGlzLmdldFdpbmRvdygpO3ZhciBmPWQuZG9jdW1lbnQ7dGhpcy5jaGFuZ2VBdHRyKFwic3BlbGxjaGVja1wiLFxuIWQuY29uZmlnLmRpc2FibGVOYXRpdmVTcGVsbENoZWNrZXIpO3ZhciBoPWQuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbjt0aGlzLmdldERpcmVjdGlvbigxKSE9aCYmdGhpcy5jaGFuZ2VBdHRyKFwiZGlyXCIsaCk7dmFyIGc9Q0tFRElUT1IuZ2V0Q3NzKCk7aWYoZyl7dmFyIGg9Zi5nZXRIZWFkKCksbD1oLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0XCIpO2w/ZyE9bC5nZXRUZXh0KCkmJihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/bC4kLnN0eWxlU2hlZXQuY3NzVGV4dD1nOmwuc2V0VGV4dChnKSk6KGc9Zi5hcHBlbmRTdHlsZVRleHQoZyksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZy5vd25lck5vZGV8fGcub3duaW5nRWxlbWVudCksaC5zZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiLGcpLGcuZGF0YShcImNrZS10ZW1wXCIsMSkpfWg9Zi5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIil8fDA7Zi5zZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIixcbmgrMSk7dGhpcy5zZXRDdXN0b21EYXRhKFwiY2tlX2luY2x1ZGVSZWFkb25seVwiLCFkLmNvbmZpZy5kaXNhYmxlUmVhZG9ubHlTdHlsaW5nKTt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBiPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0VGFyZ2V0KCksdGhpcykpLmNvbnRhaW5zKFwiYVwiKTtiJiYyIT1hLiQuYnV0dG9uJiZiLmlzUmVhZE9ubHkoKSYmYS5wcmV2ZW50RGVmYXVsdCgpfSk7dmFyIGs9ezg6MSw0NjoxfTt0aGlzLmF0dGFjaExpc3RlbmVyKGQsXCJrZXlcIixmdW5jdGlvbihhKXtpZihkLnJlYWRPbmx5KXJldHVybiEwO3ZhciBiPWEuZGF0YS5kb21FdmVudC5nZXRLZXkoKSxjO2E9ZC5nZXRTZWxlY3Rpb24oKTtpZigwIT09YS5nZXRSYW5nZXMoKS5sZW5ndGgpe2lmKGIgaW4gayl7dmFyIGYsZT1hLmdldFJhbmdlcygpWzBdLGg9ZS5zdGFydFBhdGgoKSxnLGwscixiPTg9PWI7Q0tFRElUT1IuZW52LmllJiZcbjExPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZj1hLmdldFNlbGVjdGVkRWxlbWVudCgpKXx8KGY9bShhKSk/KGQuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxlLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxmLnJlbW92ZSgpLGUuc2VsZWN0KCksZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGM9MSk6ZS5jb2xsYXBzZWQmJigoZz1oLmJsb2NrKSYmKHI9Z1tiP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0obikpJiZyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmci5pcyhcInRhYmxlXCIpJiZlW2I/XCJjaGVja1N0YXJ0T2ZCbG9ja1wiOlwiY2hlY2tFbmRPZkJsb2NrXCJdKCk/KGQuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxlW2I/XCJjaGVja0VuZE9mQmxvY2tcIjpcImNoZWNrU3RhcnRPZkJsb2NrXCJdKCkmJmcucmVtb3ZlKCksZVtcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGI/XCJFbmRcIjpcIlN0YXJ0XCIpXShyKSxlLnNlbGVjdCgpLGQuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxcbmM9MSk6aC5ibG9ja0xpbWl0JiZoLmJsb2NrTGltaXQuaXMoXCJ0ZFwiKSYmKGw9aC5ibG9ja0xpbWl0LmdldEFzY2VuZGFudChcInRhYmxlXCIpKSYmZS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGwsYj9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYocj1sW2I/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShuKSk/KGQuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxlW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYj9cIkVuZFwiOlwiU3RhcnRcIildKHIpLGUuY2hlY2tTdGFydE9mQmxvY2soKSYmZS5jaGVja0VuZE9mQmxvY2soKT9yLnJlbW92ZSgpOmUuc2VsZWN0KCksZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGM9MSk6KGw9aC5jb250YWlucyhbXCJ0ZFwiLFwidGhcIixcImNhcHRpb25cIl0pKSYmZS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGwsYj9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYoYz0xKSl9cmV0dXJuIWN9fSk7ZC5ibG9ja2xlc3MmJkNLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJlxudGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwia2V5dXBcIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0S2V5c3Ryb2tlKClpbiBrJiYhdGhpcy5nZXRGaXJzdChiKSYmKHRoaXMuYXBwZW5kQm9ndXMoKSxhPWQuY3JlYXRlUmFuZ2UoKSxhLm1vdmVUb1Bvc2l0aW9uKHRoaXMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGEuc2VsZWN0KCkpfSk7dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiZGJsY2xpY2tcIixmdW5jdGlvbihhKXtpZihkLnJlYWRPbmx5KXJldHVybiExO2E9e2VsZW1lbnQ6YS5kYXRhLmdldFRhcmdldCgpfTtkLmZpcmUoXCJkb3VibGVjbGlja1wiLGEpfSk7Q0tFRElUT1IuZW52LmllJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGUpO0NLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlfHx0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7Yi5pcyhcImltZ1wiLFwiaHJcIixcblwiaW5wdXRcIixcInRleHRhcmVhXCIsXCJzZWxlY3RcIikmJiFiLmlzUmVhZE9ubHkoKSYmKGQuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChiKSxiLmlzKFwiaW5wdXRcIixcInRleHRhcmVhXCIsXCJzZWxlY3RcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0pO0NLRURJVE9SLmVudi5lZGdlJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJtb3VzZXVwXCIsZnVuY3Rpb24oYSl7KGE9YS5kYXRhLmdldFRhcmdldCgpKSYmYS5pcyhcImltZ1wiKSYmIWEuaXNSZWFkT25seSgpJiZkLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYSl9KTtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihhKXtpZigyPT1hLmRhdGEuJC5idXR0b24mJihhPWEuZGF0YS5nZXRUYXJnZXQoKSwhYS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSYmIWEuZ2V0T3V0ZXJIdG1sKCkucmVwbGFjZShxLFwiXCIpKSl7dmFyIGI9ZC5jcmVhdGVSYW5nZSgpO2IubW92ZVRvRWxlbWVudEVkaXRTdGFydChhKTtcbmIuc2VsZWN0KCEwKX19KTtDS0VESVRPUi5lbnYud2Via2l0JiYodGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJpbnB1dFwiLFwic2VsZWN0XCIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJpbnB1dFwiLFwidGV4dGFyZWFcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSkpO0NLRURJVE9SLmVudi53ZWJraXQmJnRoaXMuYXR0YWNoTGlzdGVuZXIoZCxcImtleVwiLGZ1bmN0aW9uKGIpe2lmKGQucmVhZE9ubHkpcmV0dXJuITA7dmFyIGM9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpO2lmKGMgaW4gayYmKGI9ZC5nZXRTZWxlY3Rpb24oKSwwIT09Yi5nZXRSYW5nZXMoKS5sZW5ndGgpKXt2YXIgYz04PT1jLGY9Yi5nZXRSYW5nZXMoKVswXTtiPWYuc3RhcnRQYXRoKCk7aWYoZi5jb2xsYXBzZWQpYTp7dmFyIGU9XG5iLmJsb2NrO2lmKGUmJmZbYz9cImNoZWNrU3RhcnRPZkJsb2NrXCI6XCJjaGVja0VuZE9mQmxvY2tcIl0oKSYmZi5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihlLCFjKSYmZi5jb2xsYXBzZWQpe2lmKGYuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt2YXIgaD1mLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGYuc3RhcnRPZmZzZXQtKGM/MTowKSk7aWYoaCYmaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXMoXCJoclwiKSl7ZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2gucmVtb3ZlKCk7Yj0hMDticmVhayBhfX1mPWYuc3RhcnRQYXRoKCkuYmxvY2s7aWYoIWZ8fGYmJmYuY29udGFpbnMoZSkpYj12b2lkIDA7ZWxzZXtkLmZpcmUoXCJzYXZlU25hcHNob3RcIik7dmFyIGc7KGc9KGM/ZjplKS5nZXRCb2d1cygpKSYmZy5yZW1vdmUoKTtnPWQuZ2V0U2VsZWN0aW9uKCk7aD1nLmNyZWF0ZUJvb2ttYXJrcygpOyhjP2U6ZikubW92ZUNoaWxkcmVuKGM/XG5mOmUsITEpO2IubGFzdEVsZW1lbnQubWVyZ2VTaWJsaW5ncygpO2EoZSxmLCFjKTtnLnNlbGVjdEJvb2ttYXJrcyhoKTtiPSEwfX1lbHNlIGI9ITF9ZWxzZSBjPWYsZz1iLmJsb2NrLGY9Yy5lbmRQYXRoKCkuYmxvY2ssZyYmZiYmIWcuZXF1YWxzKGYpPyhkLmZpcmUoXCJzYXZlU25hcHNob3RcIiksKGU9Zy5nZXRCb2d1cygpKSYmZS5yZW1vdmUoKSxjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUpLGMuZGVsZXRlQ29udGVudHMoKSxmLmdldFBhcmVudCgpJiYoZi5tb3ZlQ2hpbGRyZW4oZywhMSksYi5sYXN0RWxlbWVudC5tZXJnZVNpYmxpbmdzKCksYShnLGYsITApKSxjPWQuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0sYy5jb2xsYXBzZSgxKSxjLm9wdGltaXplKCksXCJcIj09PWMuc3RhcnRDb250YWluZXIuZ2V0SHRtbCgpJiZjLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCksYy5zZWxlY3QoKSxiPSEwKTpiPSExO2lmKCFiKXJldHVybjtkLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCk7XG5kLmZpcmUoXCJzYXZlU25hcHNob3RcIik7cmV0dXJuITF9fSx0aGlzLG51bGwsMTAwKX19LGdldFVuaXF1ZUlkOmZ1bmN0aW9uKCl7dmFyIGE7dHJ5e3RoaXMuXy5leHBhbmRvTnVtYmVyPWE9Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5wcm90b3R5cGUuZ2V0VW5pcXVlSWQuY2FsbCh0aGlzKX1jYXRjaChiKXthPXRoaXMuXyYmdGhpcy5fLmV4cGFuZG9OdW1iZXJ9cmV0dXJuIGF9fSxfOntjbGVhbkN1c3RvbURhdGE6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUNsYXNzKFwiY2tlX2VkaXRhYmxlXCIpO3RoaXMucmVzdG9yZUF0dHJzKCk7Zm9yKHZhciBhPXRoaXMucmVtb3ZlQ3VzdG9tRGF0YShcImNsYXNzZXNcIik7YSYmYS5sZW5ndGg7KXRoaXMucmVtb3ZlQ2xhc3MoYS5wb3AoKSk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7dmFyIGE9dGhpcy5nZXREb2N1bWVudCgpLGI9YS5nZXRIZWFkKCk7aWYoYi5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKSl7dmFyIGQ9YS5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIik7XG4tLWQ/YS5zZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIixkKTooYS5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIiksYi5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKS5yZW1vdmUoKSl9fX19fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5lZGl0YWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uZWRpdGFibGU7aWYoYiYmYSlyZXR1cm4gMDtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYjthP2I9YSBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlP2E6bmV3IENLRURJVE9SLmVkaXRhYmxlKHRoaXMsYSk6KGImJmIuZGV0YWNoKCksYj1udWxsKTtyZXR1cm4gdGhpcy5fLmVkaXRhYmxlPWJ9O0NLRURJVE9SLm9uKFwiaW5zdGFuY2VMb2FkZWRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5pcyhcImlucHV0XCIpfHxcbmEuaXMoXCJ0ZXh0YXJlYVwiKSkmJihcImZhbHNlXCIhPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZhLmRhdGEoXCJja2UtZWRpdGFibGVcIixhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9cInRydWVcIjpcIjFcIiksYS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwhMSkpfSk7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe2lmKCFiLnJlYWRPbmx5KXt2YXIgZD1iLmdldFNlbGVjdGlvbigpO2QmJiFkLmlzTG9ja2VkJiYoZD1iLmNoZWNrRGlydHkoKSxiLmZpcmUoXCJsb2NrU25hcHNob3RcIiksYyhhKSxiLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSwhZCYmYi5yZXNldERpcnR5KCkpfX0pfSk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5lZGl0YWJsZSgpO2lmKGEmJmEuaXNJbmxpbmUoKSl7dmFyIGQ9Yi50aXRsZTthLmNoYW5nZUF0dHIoXCJyb2xlXCIsXG5cInRleHRib3hcIik7YS5jaGFuZ2VBdHRyKFwiYXJpYS1tdWx0aWxpbmVcIixcInRydWVcIik7YS5jaGFuZ2VBdHRyKFwiYXJpYS1sYWJlbFwiLGQpO2QmJmEuY2hhbmdlQXR0cihcInRpdGxlXCIsZCk7dmFyIGM9Yi5maXJlKFwiYXJpYUVkaXRvckhlbHBMYWJlbFwiLHt9KS5sYWJlbDtpZihjJiYoZD10aGlzLnVpLnNwYWNlKHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/XCJ0b3BcIjpcImNvbnRlbnRzXCIpKSl7dmFyIGY9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrZisnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrYytcIlxceDNjL3NwYW5cXHgzZVwiKTtkLmFwcGVuZChjKTthLmNoYW5nZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsZil9fX0pfSk7Q0tFRElUT1IuYWRkQ3NzKFwiLmNrZV9lZGl0YWJsZXtjdXJzb3I6dGV4dH0uY2tlX2VkaXRhYmxlIGltZywuY2tlX2VkaXRhYmxlIGlucHV0LC5ja2VfZWRpdGFibGUgdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9XCIpO1xubj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTtyPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApO3g9Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eSgpO3A9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO3E9LyhefDxib2R5XFxiW14+XSo+KVxccyo8KHB8ZGl2fGFkZHJlc3N8aFxcZHxjZW50ZXJ8cHJlKVtePl0qPlxccyooPzo8YnJbXj5dKj58Jm5ic3A7fFxcdTAwQTB8JiMxNjA7KT9cXHMqKDo/PFxcL1xcMj4pP1xccyooPz0kfDxcXC9ib2R5PikvZ2k7dT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfWZ1bmN0aW9uIGMoYixkKXt2YXIgZixlLGgsZyxuPVtdLGw9ZC5yYW5nZS5zdGFydENvbnRhaW5lcjtmPWQucmFuZ2Uuc3RhcnRQYXRoKCk7Zm9yKHZhciBsPW1bbC5nZXROYW1lKCldLGs9MCxyPWIuZ2V0Q2hpbGRyZW4oKSx1PXIuY291bnQoKSxHPS0xLEw9LTEseD0wLHA9Zi5jb250YWlucyhtLiRsaXN0KTtrPFxudTsrK2spZj1yLmdldEl0ZW0oayksYShmKT8oaD1mLmdldE5hbWUoKSxwJiZoIGluIENLRURJVE9SLmR0ZC4kbGlzdD9uPW4uY29uY2F0KGMoZixkKSk6KGc9ISFsW2hdLFwiYnJcIiE9aHx8IWYuZGF0YShcImNrZS1lb2xcIil8fGsmJmshPXUtMXx8KHg9KGU9az9uW2stMV0ubm9kZTpyLmdldEl0ZW0oaysxKSkmJighYShlKXx8IWUuaXMoXCJiclwiKSksZT1lJiZhKGUpJiZtLiRibG9ja1tlLmdldE5hbWUoKV0pLC0xIT1HfHxnfHwoRz1rKSxnfHwoTD1rKSxuLnB1c2goe2lzRWxlbWVudDoxLGlzTGluZUJyZWFrOngsaXNCbG9jazpmLmlzQmxvY2tCb3VuZGFyeSgpLGhhc0Jsb2NrU2libGluZzplLG5vZGU6ZixuYW1lOmgsYWxsb3dlZDpnfSksZT14PTApKTpuLnB1c2goe2lzRWxlbWVudDowLG5vZGU6ZixhbGxvd2VkOjF9KTstMTxHJiYobltHXS5maXJzdE5vdEFsbG93ZWQ9MSk7LTE8TCYmKG5bTF0ubGFzdE5vdEFsbG93ZWQ9MSk7cmV0dXJuIG59ZnVuY3Rpb24gZihiLGQpe3ZhciBjPVtdLFxuZT1iLmdldENoaWxkcmVuKCksaD1lLmNvdW50KCksZyxuPTAsbD1tW2RdLGs9IWIuaXMobS4kaW5saW5lKXx8Yi5pcyhcImJyXCIpO2ZvcihrJiZjLnB1c2goXCIgXCIpO248aDtuKyspZz1lLmdldEl0ZW0obiksYShnKSYmIWcuaXMobCk/Yz1jLmNvbmNhdChmKGcsZCkpOmMucHVzaChnKTtrJiZjLnB1c2goXCIgXCIpO3JldHVybiBjfWZ1bmN0aW9uIGUoYil7cmV0dXJuIGEoYi5zdGFydENvbnRhaW5lcikmJmIuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoYi5zdGFydE9mZnNldC0xKX1mdW5jdGlvbiBoKGIpe3JldHVybiBiJiZhKGIpJiYoYi5pcyhtLiRyZW1vdmVFbXB0eSl8fGIuaXMoXCJhXCIpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKSl9ZnVuY3Rpb24gZyhiLGQsYyxmKXt2YXIgZT1iLmNsb25lKCksaCxuO2Uuc2V0RW5kQXQoZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTsoaD0obmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSkpLm5leHQoKSkmJmEoaCkmJnJbaC5nZXROYW1lKCldJiZcbihuPWguZ2V0UHJldmlvdXMoKSkmJmEobikmJiFuLmdldFBhcmVudCgpLmVxdWFscyhiLnN0YXJ0Q29udGFpbmVyKSYmYy5jb250YWlucyhuKSYmZi5jb250YWlucyhoKSYmaC5pc0lkZW50aWNhbChuKSYmKGgubW92ZUNoaWxkcmVuKG4pLGgucmVtb3ZlKCksZyhiLGQsYyxmKSl9ZnVuY3Rpb24gbihiLGQpe2Z1bmN0aW9uIGMoYixkKXtpZihkLmlzQmxvY2smJmQuaXNFbGVtZW50JiYhZC5ub2RlLmlzKFwiYnJcIikmJmEoYikmJmIuaXMoXCJiclwiKSlyZXR1cm4gYi5yZW1vdmUoKSwxfXZhciBmPWQuZW5kQ29udGFpbmVyLmdldENoaWxkKGQuZW5kT2Zmc2V0KSxlPWQuZW5kQ29udGFpbmVyLmdldENoaWxkKGQuZW5kT2Zmc2V0LTEpO2YmJmMoZixiW2IubGVuZ3RoLTFdKTtlJiZjKGUsYlswXSkmJihkLnNldEVuZChkLmVuZENvbnRhaW5lcixkLmVuZE9mZnNldC0xKSxkLmNvbGxhcHNlKCkpfXZhciBtPUNLRURJVE9SLmR0ZCxyPXtwOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLFxuaDY6MSx1bDoxLG9sOjEsbGk6MSxwcmU6MSxkbDoxLGJsb2NrcXVvdGU6MX0sdT17cDoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSx4PUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxtLiRpbmxpbmUpO2RlbGV0ZSB4LmJyO3JldHVybiBmdW5jdGlvbihyLEEsTixKKXt2YXIgST1yLmVkaXRvcixwPSExO1widW5maWx0ZXJlZF9odG1sXCI9PUEmJihBPVwiaHRtbFwiLHA9ITApO2lmKCFKLmNoZWNrUmVhZE9ubHkoKSl7dmFyIHQ9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoSi5zdGFydENvbnRhaW5lcixKLnJvb3QpKS5ibG9ja0xpbWl0fHxKLnJvb3Q7QT17dHlwZTpBLGRvbnRGaWx0ZXI6cCxlZGl0YWJsZTpyLGVkaXRvcjpJLHJhbmdlOkosYmxvY2tMaW1pdDp0LG1lcmdlQ2FuZGlkYXRlczpbXSx6b21iaWVzOltdfTt2YXIgcD1BLnJhbmdlLHQ9QS5tZXJnZUNhbmRpZGF0ZXMsRD1cImh0bWxcIj09PUEudHlwZSxxLHcseixCLGJhLFg7XCJ0ZXh0XCI9PUEudHlwZSYmXG5wLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCwhMCwhMSkmJih3PUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFwiXFx4M2NzcGFuXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXCIscC5kb2N1bWVudCkscC5pbnNlcnROb2RlKHcpLHAuc2V0U3RhcnRBZnRlcih3KSk7ej1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHAuc3RhcnRDb250YWluZXIpO0EuZW5kUGF0aD1CPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgocC5lbmRDb250YWluZXIpO2lmKCFwLmNvbGxhcHNlZCl7cT1CLmJsb2NrfHxCLmJsb2NrTGltaXQ7dmFyIGRhPXAuZ2V0Q29tbW9uQW5jZXN0b3IoKTtxJiYhcS5lcXVhbHMoZGEpJiYhcS5jb250YWlucyhkYSkmJnAuY2hlY2tFbmRPZkJsb2NrKCkmJkEuem9tYmllcy5wdXNoKHEpO3AuZGVsZXRlQ29udGVudHMoKX1mb3IoOyhiYT1lKHApKSYmYShiYSkmJmJhLmlzQmxvY2tCb3VuZGFyeSgpJiZ6LmNvbnRhaW5zKGJhKTspcC5tb3ZlVG9Qb3NpdGlvbihiYSxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2cocCxBLmJsb2NrTGltaXQseixCKTt3JiYocC5zZXRFbmRCZWZvcmUodykscC5jb2xsYXBzZSgpLHcucmVtb3ZlKCkpO3c9cC5zdGFydFBhdGgoKTtpZihxPXcuY29udGFpbnMoaCwhMSwxKSlYPXAuc3BsaXRFbGVtZW50KHEpLEEuaW5saW5lU3R5bGVzUm9vdD1xLEEuaW5saW5lU3R5bGVzUGVhaz13Lmxhc3RFbGVtZW50O3c9cC5jcmVhdGVCb29rbWFyaygpO0QmJihkKHEpLGQoWCkpOyhxPXcuc3RhcnROb2RlLmdldFByZXZpb3VzKGIpKSYmYShxKSYmaChxKSYmdC5wdXNoKHEpOyhxPXcuc3RhcnROb2RlLmdldE5leHQoYikpJiZhKHEpJiZoKHEpJiZ0LnB1c2gocSk7Zm9yKHE9dy5zdGFydE5vZGU7KHE9cS5nZXRQYXJlbnQoKSkmJmgocSk7KXQucHVzaChxKTtwLm1vdmVUb0Jvb2ttYXJrKHcpO0kuZW50ZXJNb2RlPT09Q0tFRElUT1IuRU5URVJfRElWJiZcIlwiPT09SS5nZXREYXRhKCEwKSYmKChJPXIuZ2V0Rmlyc3QoKSkmJkkucmVtb3ZlKCksXG5KLnNldFN0YXJ0QXQocixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksSi5jb2xsYXBzZSghMCkpO2lmKHI9Til7cj1BLnJhbmdlO2lmKFwidGV4dFwiPT1BLnR5cGUmJkEuaW5saW5lU3R5bGVzUm9vdCl7Sj1BLmlubGluZVN0eWxlc1BlYWs7ST1KLmdldERvY3VtZW50KCkuY3JlYXRlVGV4dChcIntja2UtcGVha31cIik7Zm9yKFg9QS5pbmxpbmVTdHlsZXNSb290LmdldFBhcmVudCgpOyFKLmVxdWFscyhYKTspST1JLmFwcGVuZFRvKEouY2xvbmUoKSksSj1KLmdldFBhcmVudCgpO049SS5nZXRPdXRlckh0bWwoKS5zcGxpdChcIntja2UtcGVha31cIikuam9pbihOKX1KPUEuYmxvY2tMaW1pdC5nZXROYW1lKCk7aWYoL15cXHMrfFxccyskLy50ZXN0KE4pJiZcInNwYW5cImluIENLRURJVE9SLmR0ZFtKXSl7dmFyIFo9J1xceDNjc3BhbiBkYXRhLWNrZS1tYXJrZXJcXHgzZFwiMVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJztOPVorTitafU49QS5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwoTixcbntjb250ZXh0Om51bGwsZml4Rm9yQm9keTohMSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczohIVosZG9udEZpbHRlcjpBLmRvbnRGaWx0ZXIsZmlsdGVyOkEuZWRpdG9yLmFjdGl2ZUZpbHRlcixlbnRlck1vZGU6QS5lZGl0b3IuYWN0aXZlRW50ZXJNb2RlfSk7Sj1yLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO0ouc2V0SHRtbChOKTtaJiYoSi5nZXRGaXJzdCgpLnJlbW92ZSgpLEouZ2V0TGFzdCgpLnJlbW92ZSgpKTtpZigoWj1yLnN0YXJ0UGF0aCgpLmJsb2NrKSYmKDEhPVouZ2V0Q2hpbGRDb3VudCgpfHwhWi5nZXRCb2d1cygpKSlhOnt2YXIgUTtpZigxPT1KLmdldENoaWxkQ291bnQoKSYmYShRPUouZ2V0Rmlyc3QoKSkmJlEuaXModSkmJiFRLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl7Wj1RLmdldEVsZW1lbnRzQnlUYWcoXCIqXCIpO3I9MDtmb3IoWD1aLmNvdW50KCk7cjxYO3IrKylpZihJPVouZ2V0SXRlbShyKSwhSS5pcyh4KSlicmVhayBhO1EubW92ZUNoaWxkcmVuKFEuZ2V0UGFyZW50KDEpKTtcblEucmVtb3ZlKCl9fUEuZGF0YVdyYXBwZXI9SjtyPU59aWYocil7UT1BLnJhbmdlO3I9US5kb2N1bWVudDtKPUEuYmxvY2tMaW1pdDtYPTA7dmFyIFMsWj1bXSxSLFA7Tj13PTA7dmFyIFYsST1RLnN0YXJ0Q29udGFpbmVyO2JhPUEuZW5kUGF0aC5lbGVtZW50c1swXTt2YXIgVCxwPWJhLmdldFBvc2l0aW9uKEkpLHQ9ISFiYS5nZXRDb21tb25BbmNlc3RvcihJKSYmcCE9Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMJiYhKHAmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMrQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEKSxJPWMoQS5kYXRhV3JhcHBlcixBKTtmb3IobihJLFEpO1g8SS5sZW5ndGg7WCsrKXtwPUlbWF07aWYoRD1wLmlzTGluZUJyZWFrKUQ9USxxPUosQj16PXZvaWQgMCxwLmhhc0Jsb2NrU2libGluZz9EPTE6KHo9RC5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQobS4kYmxvY2ssMSkpJiZ6LmlzKHtkaXY6MSxwOjF9KT8oQj16LmdldFBvc2l0aW9uKHEpLFxuQj09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfHxCPT1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUz9EPTA6KHE9RC5zcGxpdEVsZW1lbnQoeiksRC5tb3ZlVG9Qb3NpdGlvbihxLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxEPTEpKTpEPTA7aWYoRClOPTA8WDtlbHNle0Q9US5zdGFydFBhdGgoKTshcC5pc0Jsb2NrJiZsKEEuZWRpdG9yLEQuYmxvY2ssRC5ibG9ja0xpbWl0KSYmKFA9ayhBLmVkaXRvcikpJiYoUD1yLmNyZWF0ZUVsZW1lbnQoUCksUC5hcHBlbmRCb2d1cygpLFEuaW5zZXJ0Tm9kZShQKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKFM9UC5nZXRCb2d1cygpKSYmUy5yZW1vdmUoKSxRLm1vdmVUb1Bvc2l0aW9uKFAsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpO2lmKChEPVEuc3RhcnRQYXRoKCkuYmxvY2spJiYhRC5lcXVhbHMoUikpe2lmKFM9RC5nZXRCb2d1cygpKVMucmVtb3ZlKCksWi5wdXNoKEQpO1I9RH1wLmZpcnN0Tm90QWxsb3dlZCYmXG4odz0xKTtpZih3JiZwLmlzRWxlbWVudCl7RD1RLnN0YXJ0Q29udGFpbmVyO2ZvcihxPW51bGw7RCYmIW1bRC5nZXROYW1lKCldW3AubmFtZV07KXtpZihELmVxdWFscyhKKSl7RD1udWxsO2JyZWFrfXE9RDtEPUQuZ2V0UGFyZW50KCl9aWYoRClxJiYoVj1RLnNwbGl0RWxlbWVudChxKSxBLnpvbWJpZXMucHVzaChWKSxBLnpvbWJpZXMucHVzaChxKSk7ZWxzZXtxPUouZ2V0TmFtZSgpO1Q9IVg7RD1YPT1JLmxlbmd0aC0xO3E9ZihwLm5vZGUscSk7ej1bXTtCPXEubGVuZ3RoO2Zvcih2YXIgZGE9MCxmYT12b2lkIDAsY2E9MCxhYT0tMTtkYTxCO2RhKyspZmE9cVtkYV0sXCIgXCI9PWZhPyhjYXx8VCYmIWRhfHwoei5wdXNoKG5ldyBDS0VESVRPUi5kb20udGV4dChcIiBcIikpLGFhPXoubGVuZ3RoKSxjYT0xKTooei5wdXNoKGZhKSxjYT0wKTtEJiZhYT09ei5sZW5ndGgmJnoucG9wKCk7VD16fX1pZihUKXtmb3IoO0Q9VC5wb3AoKTspUS5pbnNlcnROb2RlKEQpO1Q9MH1lbHNlIFEuaW5zZXJ0Tm9kZShwLm5vZGUpO1xucC5sYXN0Tm90QWxsb3dlZCYmWDxJLmxlbmd0aC0xJiYoKFY9dD9iYTpWKSYmUS5zZXRFbmRBdChWLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSx3PTApO1EuY29sbGFwc2UoKX19MSE9SS5sZW5ndGg/Uz0hMTooUz1JWzBdLFM9Uy5pc0VsZW1lbnQmJlwiZmFsc2VcIj09Uy5ub2RlLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSk7UyYmKE49ITAsRD1JWzBdLm5vZGUsUS5zZXRTdGFydEF0KEQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxRLnNldEVuZEF0KEQsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7QS5kb250TW92ZUNhcmV0PU47QS5ib2d1c05lZWRlZEJsb2Nrcz1afVM9QS5yYW5nZTt2YXIgZ2E7Vj1BLmJvZ3VzTmVlZGVkQmxvY2tzO2ZvcihUPVMuY3JlYXRlQm9va21hcmsoKTtSPUEuem9tYmllcy5wb3AoKTspUi5nZXRQYXJlbnQoKSYmKFA9Uy5jbG9uZSgpLFAubW92ZVRvRWxlbWVudEVkaXRTdGFydChSKSxQLnJlbW92ZUVtcHR5QmxvY2tzQXRFbmQoKSk7XG5pZihWKWZvcig7Uj1WLnBvcCgpOylDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9SLmFwcGVuZEJvZ3VzKCk6Ui5hcHBlbmQoUy5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpO2Zvcig7Uj1BLm1lcmdlQ2FuZGlkYXRlcy5wb3AoKTspUi5tZXJnZVNpYmxpbmdzKCk7Uy5tb3ZlVG9Cb29rbWFyayhUKTtpZighQS5kb250TW92ZUNhcmV0KXtmb3IoUj1lKFMpO1ImJmEoUikmJiFSLmlzKG0uJGVtcHR5KTspe2lmKFIuaXNCbG9ja0JvdW5kYXJ5KCkpUy5tb3ZlVG9Qb3NpdGlvbihSLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Vsc2V7aWYoaChSKSYmUi5nZXRIdG1sKCkubWF0Y2goLyhcXHN8Jm5ic3A7KSQvZykpe2dhPW51bGw7YnJlYWt9Z2E9Uy5jbG9uZSgpO2dhLm1vdmVUb1Bvc2l0aW9uKFIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9Uj1SLmdldExhc3QoYil9Z2EmJlMubW92ZVRvUmFuZ2UoZ2EpfX19fSgpO3o9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2I9XG5uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihiKTtiLmd1YXJkPWZ1bmN0aW9uKGEsYil7aWYoYilyZXR1cm4hMTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCl9O2IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH07cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGQsYyl7ZD1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChkKTthLmFwcGVuZChkLGMpO3JldHVybiBkfWZ1bmN0aW9uIGQoYSl7dmFyIGI9YS5jb3VudCgpLGM7Zm9yKGI7MDxiLS07KWM9YS5nZXRJdGVtKGIpLENLRURJVE9SLnRvb2xzLnRyaW0oYy5nZXRIdG1sKCkpfHwoYy5hcHBlbmRCb2d1cygpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmYy5nZXRDaGlsZENvdW50KCkmJmMuZ2V0Rmlyc3QoKS5yZW1vdmUoKSl9cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBmPVxuYy5zdGFydENvbnRhaW5lcixlPWYuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwxKSxoPSExO2QoZS5nZXRFbGVtZW50c0J5VGFnKFwidGRcIikpO2QoZS5nZXRFbGVtZW50c0J5VGFnKFwidGhcIikpO2U9Yy5jbG9uZSgpO2Uuc2V0U3RhcnQoZiwwKTtlPWEoZSkubGFzdEJhY2t3YXJkKCk7ZXx8KGU9Yy5jbG9uZSgpLGUuc2V0RW5kQXQoZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxlPWEoZSkubGFzdEZvcndhcmQoKSxoPSEwKTtlfHwoZT1mKTtlLmlzKFwidGFibGVcIik/KGMuc2V0U3RhcnRBdChlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksYy5jb2xsYXBzZSghMCksZS5yZW1vdmUoKSk6KGUuaXMoe3Rib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSkmJihlPWIoZSxcInRyXCIsaCkpLGUuaXMoXCJ0clwiKSYmKGU9YihlLGUuZ2V0UGFyZW50KCkuaXMoXCJ0aGVhZFwiKT9cInRoXCI6XCJ0ZFwiLGgpKSwoZj1lLmdldEJvZ3VzKCkpJiZmLnJlbW92ZSgpLGMubW92ZVRvUG9zaXRpb24oZSxoP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOlxuQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpfX0oKTt0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtiPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2IuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybiExO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBhLmlzKENLRURJVE9SLmR0ZC4kbGlzdCl8fGEuaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSl9O2IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKX07cmV0dXJuIGJ9cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBkPWIuc3RhcnRDb250YWluZXIsYz0hMSxmO2Y9Yi5jbG9uZSgpO2Yuc2V0U3RhcnQoZCwwKTtmPWEoZikubGFzdEJhY2t3YXJkKCk7Znx8KGY9Yi5jbG9uZSgpLGYuc2V0RW5kQXQoZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxmPWEoZikubGFzdEZvcndhcmQoKSxcbmM9ITApO2Z8fChmPWQpO2YuaXMoQ0tFRElUT1IuZHRkLiRsaXN0KT8oYi5zZXRTdGFydEF0KGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxiLmNvbGxhcHNlKCEwKSxmLnJlbW92ZSgpKTooKGQ9Zi5nZXRCb2d1cygpKSYmZC5yZW1vdmUoKSxiLm1vdmVUb1Bvc2l0aW9uKGYsYz9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxiLnNlbGVjdCgpKX19KCk7Qj17ZW9sOntkZXRlY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLnJhbmdlLGM9ZC5jbG9uZSgpLGY9ZC5jbG9uZSgpLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLnN0YXJ0Q29udGFpbmVyLGIpLGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLmVuZENvbnRhaW5lcixiKTtjLmNvbGxhcHNlKDEpO2YuY29sbGFwc2UoKTtlLmJsb2NrJiZjLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZS5ibG9jayxDS0VESVRPUi5FTkQpJiYoZC5zZXRTdGFydEFmdGVyKGUuYmxvY2spLFxuYS5wcmVwZW5kRW9sQnI9MSk7aC5ibG9jayYmZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGguYmxvY2ssQ0tFRElUT1IuU1RBUlQpJiYoZC5zZXRFbmRCZWZvcmUoaC5ibG9jayksYS5hcHBlbmRFb2xCcj0xKX0sZml4OmZ1bmN0aW9uKGEsYil7dmFyIGQ9Yi5nZXREb2N1bWVudCgpLGM7YS5hcHBlbmRFb2xCciYmKGM9dGhpcy5jcmVhdGVFb2xCcihkKSxhLmZyYWdtZW50LmFwcGVuZChjKSk7IWEucHJlcGVuZEVvbEJyfHxjJiYhYy5nZXRQcmV2aW91cygpfHxhLmZyYWdtZW50LmFwcGVuZCh0aGlzLmNyZWF0ZUVvbEJyKGQpLDEpfSxjcmVhdGVFb2xCcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5jcmVhdGVFbGVtZW50KFwiYnJcIix7YXR0cmlidXRlczp7XCJkYXRhLWNrZS1lb2xcIjoxfX0pfX0sYm9ndXM6e2V4Y2x1ZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yYW5nZS5nZXRCb3VuZGFyeU5vZGVzKCksZD1iLnN0YXJ0Tm9kZSxiPWIuZW5kTm9kZTshYnx8IXAoYil8fGQmJmQuZXF1YWxzKGIpfHxcbmEucmFuZ2Uuc2V0RW5kQmVmb3JlKGIpfX0sdHJlZTp7cmVidWlsZDpmdW5jdGlvbihhLGIpe3ZhciBkPWEucmFuZ2UsYz1kLmdldENvbW1vbkFuY2VzdG9yKCksZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMsYiksZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuc3RhcnRDb250YWluZXIsYiksZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuZW5kQ29udGFpbmVyLGIpLGg7Yy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWMuZ2V0UGFyZW50KCkpO2lmKGYuYmxvY2tMaW1pdC5pcyh7dHI6MSx0YWJsZToxfSkpe3ZhciBnPWYuY29udGFpbnMoXCJ0YWJsZVwiKS5nZXRQYXJlbnQoKTtoPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhnKX19ZWxzZSBpZihmLmJsb2NrJiZmLmJsb2NrLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiYoZT1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksZD1kLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksXG4hZS5lcXVhbHMoZCkpKXt2YXIgbj1mLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCkuZ2V0UGFyZW50KCk7aD1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMobil9fWh8fChoPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhmLmJsb2NrKSYmIWEuZXF1YWxzKGYuYmxvY2tMaW1pdCl9KTt0aGlzLnJlYnVpbGRGcmFnbWVudChhLGIsYyxoKX0scmVidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixkLGMpe2Zvcih2YXIgZjtkJiYhZC5lcXVhbHMoYikmJmMoZCk7KWY9ZC5jbG9uZSgwLDEpLGEuZnJhZ21lbnQuYXBwZW5kVG8oZiksYS5mcmFnbWVudD1mLGQ9ZC5nZXRQYXJlbnQoKX19LGNlbGw6e3NocmluazpmdW5jdGlvbihhKXthPWEucmFuZ2U7dmFyIGI9YS5zdGFydENvbnRhaW5lcixkPWEuZW5kQ29udGFpbmVyLGM9YS5zdGFydE9mZnNldCxmPWEuZW5kT2Zmc2V0O2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmVxdWFscyhkKSYmYi5pcyhcInRyXCIpJiYrK2M9PVxuZiYmYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpfX19O3c9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsZCl7dmFyIGM9Yi5nZXRQYXJlbnQoKTtpZihjLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSliW2Q/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGMpfWZ1bmN0aW9uIGIoZCxjLGYpe2EoYyk7YShmLDEpO2Zvcih2YXIgZTtlPWYuZ2V0TmV4dCgpOyllLmluc2VydEFmdGVyKGMpLGM9ZTt4KGQpJiZkLnJlbW92ZSgpfWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEpO2Muc2V0U3RhcnRBZnRlcihiLnN0YXJ0Tm9kZSk7Yy5zZXRFbmRCZWZvcmUoYi5lbmROb2RlKTtyZXR1cm4gY31yZXR1cm57bGlzdDp7ZGV0ZWN0TWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKGIsYS5ib29rbWFyayksZj1jLnN0YXJ0UGF0aCgpLGU9Yy5lbmRQYXRoKCksaD1mLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksZz1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCk7XG5hLm1lcmdlTGlzdD1oJiZnJiZoLmdldFBhcmVudCgpLmVxdWFscyhnLmdldFBhcmVudCgpKSYmIWguZXF1YWxzKGcpO2EubWVyZ2VMaXN0SXRlbXM9Zi5ibG9jayYmZS5ibG9jayYmZi5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmZS5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKTtpZihhLm1lcmdlTGlzdHx8YS5tZXJnZUxpc3RJdGVtcyljPWMuY2xvbmUoKSxjLnNldFN0YXJ0QmVmb3JlKGEuYm9va21hcmsuc3RhcnROb2RlKSxjLnNldEVuZEFmdGVyKGEuYm9va21hcmsuZW5kTm9kZSksYS5tZXJnZUxpc3RCb29rbWFyaz1jLmNyZWF0ZUJvb2ttYXJrKCl9LG1lcmdlOmZ1bmN0aW9uKGEsZCl7aWYoYS5tZXJnZUxpc3RCb29rbWFyayl7dmFyIGM9YS5tZXJnZUxpc3RCb29rbWFyay5zdGFydE5vZGUsZj1hLm1lcmdlTGlzdEJvb2ttYXJrLmVuZE5vZGUsZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMsZCksaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYsXG5kKTtpZihhLm1lcmdlTGlzdCl7dmFyIGc9ZS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLG49aC5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2cuZXF1YWxzKG4pfHwobi5tb3ZlQ2hpbGRyZW4oZyksbi5yZW1vdmUoKSl9YS5tZXJnZUxpc3RJdGVtcyYmKGU9ZS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxoPWguY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSksZS5lcXVhbHMoaCl8fGIoaCxjLGYpKTtjLnJlbW92ZSgpO2YucmVtb3ZlKCl9fX0sYmxvY2s6e2RldGVjdE1lcmdlOmZ1bmN0aW9uKGEsYil7aWYoIWEudGFibGVDb250ZW50c1JhbmdlcyYmIWEubWVyZ2VMaXN0Qm9va21hcmspe3ZhciBkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYik7ZC5zZXRTdGFydEJlZm9yZShhLmJvb2ttYXJrLnN0YXJ0Tm9kZSk7ZC5zZXRFbmRBZnRlcihhLmJvb2ttYXJrLmVuZE5vZGUpO2EubWVyZ2VCbG9ja0Jvb2ttYXJrPWQuY3JlYXRlQm9va21hcmsoKX19LFxubWVyZ2U6ZnVuY3Rpb24oYSxkKXtpZihhLm1lcmdlQmxvY2tCb29rbWFyayYmIWEucHVyZ2VUYWJsZUJvb2ttYXJrKXt2YXIgYz1hLm1lcmdlQmxvY2tCb29rbWFyay5zdGFydE5vZGUsZj1hLm1lcmdlQmxvY2tCb29rbWFyay5lbmROb2RlLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLGQpLGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChmLGQpLGU9ZS5ibG9jayxoPWguYmxvY2s7ZSYmaCYmIWUuZXF1YWxzKGgpJiZiKGgsYyxmKTtjLnJlbW92ZSgpO2YucmVtb3ZlKCl9fX0sdGFibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGQpe3ZhciBmPVtdLGUsaD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKSxnPWQuc3RhcnRQYXRoKCkuY29udGFpbnMoYyksbj1kLmVuZFBhdGgoKS5jb250YWlucyhjKSxsPXt9O2guZ3VhcmQ9ZnVuY3Rpb24oYSxoKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7dmFyIGs9XCJ2aXNpdGVkX1wiKyhoP1wib3V0XCI6XCJpblwiKTtpZihhLmdldEN1c3RvbURhdGEoaykpcmV0dXJuO1xuQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGwsYSxrLDEpfWlmKGgmJmcmJmEuZXF1YWxzKGcpKWU9ZC5jbG9uZSgpLGUuc2V0RW5kQXQoZyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxmLnB1c2goZSk7ZWxzZSBpZighaCYmbiYmYS5lcXVhbHMobikpZT1kLmNsb25lKCksZS5zZXRTdGFydEF0KG4sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGYucHVzaChlKTtlbHNle2lmKGs9IWgpaz1hLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhjKSYmKCFnfHxiKGEsZykpJiYoIW58fGIoYSxuKSk7aWYoIWsmJihrPWgpKWlmKGEuaXMoYykpdmFyIGs9ZyYmZy5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxtPW4mJm4uZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCkscj1hLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLGs9ayYmay5jb250YWlucyhyKXx8bSYmbS5jb250YWlucyhyKTtlbHNlIGs9dm9pZCAwO2smJihlPWQuY2xvbmUoKSxlLnNlbGVjdE5vZGVDb250ZW50cyhhKSxcbmYucHVzaChlKSl9fTtoLmxhc3RGb3J3YXJkKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGwpO3JldHVybiBmfWZ1bmN0aW9uIGIoYSxkKXt2YXIgYz1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsZj1hLmdldFBvc2l0aW9uKGQpO3JldHVybiBmPT09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMPyExOjA9PT0oZiZjKX12YXIgYz17dGQ6MSx0aDoxLGNhcHRpb246MX07cmV0dXJue2RldGVjdFB1cmdlOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmFuZ2UsZD1iLmNsb25lKCk7ZC5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCksZj0wO2QuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKGMpJiYrK2Z9O2QuY2hlY2tGb3J3YXJkKCk7aWYoMTxmKXt2YXIgZD1iLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIiksXG5lPWIuZW5kUGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIik7ZCYmZSYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGQsQ0tFRElUT1IuU1RBUlQpJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZSxDS0VESVRPUi5FTkQpJiYoYj1hLnJhbmdlLmNsb25lKCksYi5zZXRTdGFydEJlZm9yZShkKSxiLnNldEVuZEFmdGVyKGUpLGEucHVyZ2VUYWJsZUJvb2ttYXJrPWIuY3JlYXRlQm9va21hcmsoKSl9fSxkZXRlY3RSYW5nZXM6ZnVuY3Rpb24oZixlKXt2YXIgaD1kKGUsZi5ib29rbWFyayksZz1oLmNsb25lKCksbixrLGw9aC5nZXRDb21tb25BbmNlc3RvcigpO2wuaXMoQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnQpJiYhbC5pcyhjKSYmKGw9bC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSk7az1sO2w9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChoLnN0YXJ0Q29udGFpbmVyLGspO2s9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChoLmVuZENvbnRhaW5lcixrKTtsPWwuY29udGFpbnMoXCJ0YWJsZVwiKTtcbms9ay5jb250YWlucyhcInRhYmxlXCIpO2lmKGx8fGspbCYmayYmYihsLGspPyhmLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1nLGcuc2V0U3RhcnRBdChsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZy5zZXRFbmRBdChrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZz1oLmNsb25lKCksZy5zZXRFbmRBdChsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksbj1oLmNsb25lKCksbi5zZXRTdGFydEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxuPWEoZykuY29uY2F0KGEobikpKTpsP2t8fChmLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1nLGcuc2V0U3RhcnRBdChsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksaC5zZXRFbmRBdChsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpOihmLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1nLGcuc2V0RW5kQXQoayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGguc2V0U3RhcnRBdChrLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSksXG5mLnRhYmxlQ29udGVudHNSYW5nZXM9bj9uOmEoaCl9LGRlbGV0ZVJhbmdlczpmdW5jdGlvbihhKXtmb3IodmFyIGI7Yj1hLnRhYmxlQ29udGVudHNSYW5nZXMucG9wKCk7KWIuZXh0cmFjdENvbnRlbnRzKCkseChiLnN0YXJ0Q29udGFpbmVyKSYmYi5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2EudGFibGVTdXJyb3VuZGluZ1JhbmdlJiZhLnRhYmxlU3Vycm91bmRpbmdSYW5nZS5leHRyYWN0Q29udGVudHMoKX0scHVyZ2U6ZnVuY3Rpb24oYSl7aWYoYS5wdXJnZVRhYmxlQm9va21hcmspe3ZhciBiPWEuZG9jLGQ9YS5yYW5nZS5jbG9uZSgpLGI9Yi5jcmVhdGVFbGVtZW50KFwicFwiKTtiLmluc2VydEJlZm9yZShhLnB1cmdlVGFibGVCb29rbWFyay5zdGFydE5vZGUpO2QubW92ZVRvQm9va21hcmsoYS5wdXJnZVRhYmxlQm9va21hcmspO2QuZGVsZXRlQ29udGVudHMoKTthLnJhbmdlLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpfX19fSgpLFxuZGV0ZWN0RXh0cmFjdE1lcmdlOmZ1bmN0aW9uKGEpe3JldHVybiEoYS5yYW5nZS5zdGFydFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmYS5yYW5nZS5lbmRQYXRoKCkuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkpfSxmaXhVbmVkaXRhYmxlUmFuZ2VQb3NpdGlvbjpmdW5jdGlvbihhKXthLnN0YXJ0Q29udGFpbmVyLmdldER0ZCgpW1wiI1wiXXx8YS5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihudWxsLCEwKX0sYXV0b1BhcmFncmFwaDpmdW5jdGlvbihhLGIpe3ZhciBkPWIuc3RhcnRQYXRoKCksYztsKGEsZC5ibG9jayxkLmJsb2NrTGltaXQpJiYoYz1rKGEpKSYmKGM9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGMpLGMuYXBwZW5kQm9ndXMoKSxiLmluc2VydE5vZGUoYyksYi5tb3ZlVG9Qb3NpdGlvbihjLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSl9fX0oKX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gQ0tFRElUT1IucGx1Z2lucy53aWRnZXQmJlxuQ0tFRElUT1IucGx1Z2lucy53aWRnZXQuaXNEb21XaWRnZXQoYSl9ZnVuY3Rpb24gZyhhLGIpe2lmKDA9PT1hLmxlbmd0aHx8YyhhWzBdLmdldEVuY2xvc2VkTm9kZSgpKSlyZXR1cm4hMTt2YXIgZCxmO2lmKChkPSFiJiYxPT09YS5sZW5ndGgpJiYhKGQ9YVswXS5jb2xsYXBzZWQpKXt2YXIgZT1hWzBdO2Q9ZS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApO3ZhciBoPWUuZW5kQ29udGFpbmVyLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCk7Zj1DS0VESVRPUi50b29scy50cmltO2QmJmQuZXF1YWxzKGgpJiYhZC5maW5kT25lKFwidGQsIHRoLCB0ciwgdGJvZHksIHRhYmxlXCIpPyhlPWUuY2xvbmVDb250ZW50cygpLGQ9ZS5nZXRGaXJzdCgpP2YoZS5nZXRGaXJzdCgpLmdldFRleHQoKSkhPT1mKGQuZ2V0VGV4dCgpKTohMCk6ZD0hMX1pZihkKXJldHVybiExO2ZvcihmPTA7ZjxhLmxlbmd0aDtmKyspaWYoZD1hW2ZdLl9nZXRUYWJsZUVsZW1lbnQoKSxcbiFkKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gYihhKXthPWEuZmluZChcInRkLCB0aFwiKTt2YXIgZD1bXSxjO2ZvcihjPTA7YzxhLmNvdW50KCk7YysrKWQucHVzaChhLmdldEl0ZW0oYykpO3JldHVybiBkfXZhciBkPVtdLGMsZjtmb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKWM9YVtmXS5fZ2V0VGFibGVFbGVtZW50KCksYy5pcyYmYy5pcyh7dGQ6MSx0aDoxfSk/ZC5wdXNoKGMpOmQ9ZC5jb25jYXQoYihjKSk7cmV0dXJuIGR9ZnVuY3Rpb24gYihhKXthPWUoYSk7dmFyIGI9XCJcIixkPVtdLGMsZjtmb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKWMmJiFjLmVxdWFscyhhW2ZdLmdldEFzY2VuZGFudChcInRyXCIpKT8oYis9ZC5qb2luKFwiXFx0XCIpK1wiXFxuXCIsYz1hW2ZdLmdldEFzY2VuZGFudChcInRyXCIpLGQ9W10pOjA9PT1mJiYoYz1hW2ZdLmdldEFzY2VuZGFudChcInRyXCIpKSxkLnB1c2goYVtmXS5nZXRUZXh0KCkpO3JldHVybiBiKz1kLmpvaW4oXCJcXHRcIil9ZnVuY3Rpb24gaChhKXt2YXIgZD1cbnRoaXMucm9vdC5lZGl0b3IsYz1kLmdldFNlbGVjdGlvbigxKTt0aGlzLnJlc2V0KCk7dz0hMDtjLnJvb3Qub25jZShcInNlbGVjdGlvbmNoYW5nZVwiLGZ1bmN0aW9uKGEpe2EuY2FuY2VsKCl9LG51bGwsbnVsbCwwKTtjLnNlbGVjdFJhbmdlcyhbYVswXV0pO2M9dGhpcy5fLmNhY2hlO2MucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGEpO2MudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVDtjLnNlbGVjdGVkRWxlbWVudD1hWzBdLl9nZXRUYWJsZUVsZW1lbnQoKTtjLnNlbGVjdGVkVGV4dD1iKGEpO2MubmF0aXZlU2VsPW51bGw7dGhpcy5pc0Zha2U9MTt0aGlzLnJldj16Kys7ZC5fLmZha2VTZWxlY3Rpb249dGhpczt3PSExO3RoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfWZ1bmN0aW9uIG0oKXt2YXIgYT10aGlzLl8uZmFrZVNlbGVjdGlvbixiO2lmKGEpe2I9dGhpcy5nZXRTZWxlY3Rpb24oMSk7dmFyIGQ7aWYoIShkPSFiKSYmKGQ9IWIuaXNIaWRkZW4oKSkpe2Q9XG5hO3ZhciBmPWIuZ2V0UmFuZ2VzKCksZT1kLmdldFJhbmdlcygpLGg9Zi5sZW5ndGgmJmZbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZmWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxuPWUubGVuZ3RoJiZlWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmZVswXS5fZ2V0VGFibGVFbGVtZW50KCkuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksbD0xPT09Zi5sZW5ndGgmJmZbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZmWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5pcyhcInRhYmxlXCIpLGs9MT09PWUubGVuZ3RoJiZlWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmZVswXS5fZ2V0VGFibGVFbGVtZW50KCkuaXMoXCJ0YWJsZVwiKTtpZihjKGQuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpKWQ9ITE7ZWxzZXt2YXIgbT0xPT09Zi5sZW5ndGgmJmZbMF0uY29sbGFwc2VkLGU9ZyhmLCEhQ0tFRElUT1IuZW52LndlYmtpdCkmJmcoZSk7aD1oJiZuP2guZXF1YWxzKG4pfHxuLmNvbnRhaW5zKGgpOlxuITE7aCYmKG18fGUpPyhsJiYhayYmZC5zZWxlY3RSYW5nZXMoZiksZD0hMCk6ZD0hMX1kPSFkfWQmJihhLnJlc2V0KCksYT0wKX1pZighYSYmKGE9Ynx8dGhpcy5nZXRTZWxlY3Rpb24oMSksIWF8fGEuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSkpcmV0dXJuO3RoaXMuZmlyZShcInNlbGVjdGlvbkNoZWNrXCIsYSk7Yj10aGlzLmVsZW1lbnRQYXRoKCk7Yi5jb21wYXJlKHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgpfHwoZD10aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoJiZ0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoLmJsb2NrTGltaXQuZXF1YWxzKGIuYmxvY2tMaW1pdCksIUNLRURJVE9SLmVudi53ZWJraXQmJiFDS0VESVRPUi5lbnYuZ2Vja298fGR8fCh0aGlzLl8ucHJldmlvdXNBY3RpdmU9dGhpcy5kb2N1bWVudC5nZXRBY3RpdmUoKSksdGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aD1iLHRoaXMuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLHtzZWxlY3Rpb246YSxcbnBhdGg6Yn0pKX1mdW5jdGlvbiBsKCl7Rj0hMDt2fHwoay5jYWxsKHRoaXMpLHY9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChrLDIwMCx0aGlzKSl9ZnVuY3Rpb24gaygpe3Y9bnVsbDtGJiYoQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChtLDAsdGhpcyksRj0hMSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4geShhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpPyEwOiExfWZ1bmN0aW9uIGYoYSl7ZnVuY3Rpb24gYihkLGMpe3JldHVybiBkJiZkLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVD9hLmNsb25lKClbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhjP1wiRW5kXCI6XCJTdGFydFwiKV0oZCk6ITF9aWYoIShhLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZSkpcmV0dXJuITE7dmFyIGM9YS5zdGFydENvbnRhaW5lcixmPWEuZ2V0UHJldmlvdXNOb2RlKGQsbnVsbCxjKSxlPWEuZ2V0TmV4dE5vZGUoZCxudWxsLGMpO3JldHVybiBiKGYpfHxcbmIoZSwxKXx8IShmfHxlfHxjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5pc0Jsb2NrQm91bmRhcnkoKSYmYy5nZXRCb2d1cygpKT8hMDohMX1mdW5jdGlvbiBhKGEpe24oYSwhMSk7dmFyIGI9YS5nZXREb2N1bWVudCgpLmNyZWF0ZVRleHQodCk7YS5zZXRDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIsYik7cmV0dXJuIGJ9ZnVuY3Rpb24gbihhLGIpe3ZhciBkPWEmJmEucmVtb3ZlQ3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihkKXtpZighMSE9PWIpe3ZhciBjPWEuZ2V0RG9jdW1lbnQoKS5nZXRTZWxlY3Rpb24oKS5nZXROYXRpdmUoKSxmPWMmJlwiTm9uZVwiIT1jLnR5cGUmJmMuZ2V0UmFuZ2VBdCgwKSxlPXQubGVuZ3RoO2lmKGQuZ2V0TGVuZ3RoKCk+ZSYmZiYmZi5pbnRlcnNlY3RzTm9kZShkLiQpKXt2YXIgaD1be25vZGU6Yy5hbmNob3JOb2RlLG9mZnNldDpjLmFuY2hvck9mZnNldH0se25vZGU6Yy5mb2N1c05vZGUsb2Zmc2V0OmMuZm9jdXNPZmZzZXR9XTtcbmMuYW5jaG9yTm9kZT09ZC4kJiZjLmFuY2hvck9mZnNldD5lJiYoaFswXS5vZmZzZXQtPWUpO2MuZm9jdXNOb2RlPT1kLiQmJmMuZm9jdXNPZmZzZXQ+ZSYmKGhbMV0ub2Zmc2V0LT1lKX19ZC5zZXRUZXh0KHIoZC5nZXRUZXh0KCksMSkpO2gmJihkPWEuZ2V0RG9jdW1lbnQoKS4kLGM9ZC5nZXRTZWxlY3Rpb24oKSxkPWQuY3JlYXRlUmFuZ2UoKSxkLnNldFN0YXJ0KGhbMF0ubm9kZSxoWzBdLm9mZnNldCksZC5jb2xsYXBzZSghMCksYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKGQpLGMuZXh0ZW5kKGhbMV0ubm9kZSxoWzFdLm9mZnNldCkpfX1mdW5jdGlvbiByKGEsYil7cmV0dXJuIGI/YS5yZXBsYWNlKEIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIsKgXCI6XCJcIn0pOmEucmVwbGFjZSh0LFwiXCIpfWZ1bmN0aW9uIHgoYSxiKXt2YXIgZD1iJiZDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGIpfHxcIlxceDI2bmJzcDtcIixkPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBkYXRhLWNrZS1oaWRkZW4tc2VsXFx4M2RcIjFcIiBkYXRhLWNrZS10ZW1wXFx4M2RcIjFcIiBzdHlsZVxceDNkXCInK1xuKENLRURJVE9SLmVudi5pZSYmMTQ+Q0tFRElUT1IuZW52LnZlcnNpb24/XCJkaXNwbGF5Om5vbmVcIjpcInBvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6LTEwMDBweDt3aWR0aDowO2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtcIikrJ1wiXFx4M2UnK2QrXCJcXHgzYy9kaXZcXHgzZVwiLGEuZG9jdW1lbnQpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTthLmVkaXRhYmxlKCkuYXBwZW5kKGQpO3ZhciBjPWEuZ2V0U2VsZWN0aW9uKDEpLGY9YS5jcmVhdGVSYW5nZSgpLGU9Yy5yb290Lm9uKFwic2VsZWN0aW9uY2hhbmdlXCIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLDApO2Yuc2V0U3RhcnRBdChkLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtmLnNldEVuZEF0KGQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Yy5zZWxlY3RSYW5nZXMoW2ZdKTtlLnJlbW92ZUxpc3RlbmVyKCk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7YS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcj1cbmR9ZnVuY3Rpb24gcChhKXt2YXIgYj17Mzc6MSwzOToxLDg6MSw0NjoxfTtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGM9ZC5kYXRhLmdldEtleXN0cm9rZSgpO2lmKGJbY10pe3ZhciBmPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksZT1mWzBdOzE9PWYubGVuZ3RoJiZlLmNvbGxhcHNlZCYmKGM9ZVszOD5jP1wiZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGVcIjpcImdldE5leHRFZGl0YWJsZU5vZGVcIl0oKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZhbHNlXCI9PWMuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoYS5nZXRTZWxlY3Rpb24oKS5mYWtlKGMpLGQuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLGQuY2FuY2VsKCkpfX19ZnVuY3Rpb24gcShhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGQ9YVtiXTtkLmdldENvbW1vbkFuY2VzdG9yKCkuaXNSZWFkT25seSgpJiZhLnNwbGljZShiLDEpO2lmKCFkLmNvbGxhcHNlZCl7aWYoZC5zdGFydENvbnRhaW5lci5pc1JlYWRPbmx5KCkpZm9yKHZhciBjPVxuZC5zdGFydENvbnRhaW5lcixmO2MmJiEoKGY9Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpJiZjLmlzKFwiYm9keVwiKXx8IWMuaXNSZWFkT25seSgpKTspZiYmXCJmYWxzZVwiPT1jLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmZC5zZXRTdGFydEFmdGVyKGMpLGM9Yy5nZXRQYXJlbnQoKTtjPWQuc3RhcnRDb250YWluZXI7Zj1kLmVuZENvbnRhaW5lcjt2YXIgZT1kLnN0YXJ0T2Zmc2V0LGg9ZC5lbmRPZmZzZXQsZz1kLmNsb25lKCk7YyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihlPj1jLmdldExlbmd0aCgpP2cuc2V0U3RhcnRBZnRlcihjKTpnLnNldFN0YXJ0QmVmb3JlKGMpKTtmJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGg/Zy5zZXRFbmRBZnRlcihmKTpnLnNldEVuZEJlZm9yZShmKSk7Yz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihnKTtjLmV2YWx1YXRvcj1mdW5jdGlvbihjKXtpZihjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG5jLmlzUmVhZE9ubHkoKSl7dmFyIGY9ZC5jbG9uZSgpO2Quc2V0RW5kQmVmb3JlKGMpO2QuY29sbGFwc2VkJiZhLnNwbGljZShiLS0sMSk7Yy5nZXRQb3NpdGlvbihnLmVuZENvbnRhaW5lcikmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlN8fChmLnNldFN0YXJ0QWZ0ZXIoYyksZi5jb2xsYXBzZWR8fGEuc3BsaWNlKGIrMSwwLGYpKTtyZXR1cm4hMH1yZXR1cm4hMX07Yy5uZXh0KCl9fXJldHVybiBhfXZhciB1PVwiZnVuY3Rpb25cIiE9dHlwZW9mIHdpbmRvdy5nZXRTZWxlY3Rpb24sej0xLHQ9Q0tFRElUT1IudG9vbHMucmVwZWF0KFwi4oCLXCIsNyksQj1uZXcgUmVnRXhwKHQrXCIoICk/XCIsXCJnXCIpLHcsdixGLHk9Q0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSksQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBkPWEuZWRpdG9yLmNyZWF0ZVJhbmdlKCk7ZC5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihhLnNlbGVjdGVkLGIpJiZhLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKTtcbnJldHVybiExfX1mdW5jdGlvbiBiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZD1iLmVkaXRvcixjPWQuY3JlYXRlUmFuZ2UoKSxmO2lmKCFkLnJlYWRPbmx5KXJldHVybihmPWMubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYi5zZWxlY3RlZCxhKSl8fChmPWMubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYi5zZWxlY3RlZCwhYSkpLGYmJmQuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSksZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGIuc2VsZWN0ZWQucmVtb3ZlKCksZnx8KGMubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oZC5lZGl0YWJsZSgpKSxkLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbY10pKSxkLmZpcmUoXCJzYXZlU25hcHNob3RcIiksITF9fXZhciBkPWEoKSxjPWEoMSk7cmV0dXJuezM3OmQsMzg6ZCwzOTpjLDQwOmMsODpiKCksNDY6YigxKX19KCk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9XG5kLmdldFNlbGVjdGlvbigpO2EmJmEucmVtb3ZlQWxsUmFuZ2VzKCl9dmFyIGQ9YS5lZGl0b3I7ZC5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0PW5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKGQuZ2V0U2VsZWN0aW9uKCkpO3QubG9jaygpfWZ1bmN0aW9uIGIoKXtoLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGIpO3IucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYik7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuJC5zZWxlY3Rpb24sZD1hLmNyZWF0ZVJhbmdlKCk7XCJOb25lXCIhPWEudHlwZSYmZC5wYXJlbnRFbGVtZW50KCkmJmQucGFyZW50RWxlbWVudCgpLm93bmVyRG9jdW1lbnQ9PWUuJCYmZC5zZWxlY3QoKX1mdW5jdGlvbiBjKGEpe3ZhciBiLGQ7Yj0oYj10aGlzLmRvY3VtZW50LmdldEFjdGl2ZSgpKT9cImlucHV0XCI9PT1iLmdldE5hbWUoKXx8XCJ0ZXh0YXJlYVwiPT09Yi5nZXROYW1lKCk6ITE7Ynx8KGI9dGhpcy5nZXRTZWxlY3Rpb24oMSksKGQ9ZihiKSkmJlxuIWQuZXF1YWxzKGcpJiYoYi5zZWxlY3RFbGVtZW50KGQpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKSl9ZnVuY3Rpb24gZihhKXthPWEuZ2V0UmFuZ2VzKClbMF07cmV0dXJuIGE/KGE9YS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0sITApKSYmXCJmYWxzZVwiPT09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/YTpudWxsOm51bGx9dmFyIGU9ZC5kb2N1bWVudCxoPUNLRURJVE9SLmRvY3VtZW50LGc9ZC5lZGl0YWJsZSgpLGs9ZS5nZXRCb2R5KCkscj1lLmdldERvY3VtZW50RWxlbWVudCgpLHg9Zy5pc0lubGluZSgpLHEsdDtDS0VESVRPUi5lbnYuZ2Vja28mJmcuYXR0YWNoTGlzdGVuZXIoZyxcImZvY3VzXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpOzAhPT1xJiYoYT1kLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpKSYmXG5hLmlzQ29sbGFwc2VkJiZhLmFuY2hvck5vZGU9PWcuJCYmKGE9ZC5jcmVhdGVSYW5nZSgpLGEubW92ZVRvRWxlbWVudEVkaXRTdGFydChnKSxhLnNlbGVjdCgpKX0sbnVsbCxudWxsLC0yKTtnLmF0dGFjaExpc3RlbmVyKGcsQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvP1wiZm9jdXNpblwiOlwiZm9jdXNcIixmdW5jdGlvbigpe2lmKHEmJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja28pKXtxPWQuXy5wcmV2aW91c0FjdGl2ZSYmZC5fLnByZXZpb3VzQWN0aXZlLmVxdWFscyhlLmdldEFjdGl2ZSgpKTt2YXIgYT1udWxsIT1kLl8ucHJldmlvdXNTY3JvbGxUb3AmJmQuXy5wcmV2aW91c1Njcm9sbFRvcCE9Zy4kLnNjcm9sbFRvcDtDS0VESVRPUi5lbnYud2Via2l0JiZxJiZhJiYoZy4kLnNjcm9sbFRvcD1kLl8ucHJldmlvdXNTY3JvbGxUb3ApfWQudW5sb2NrU2VsZWN0aW9uKHEpO3E9MH0sbnVsbCxudWxsLC0xKTtnLmF0dGFjaExpc3RlbmVyKGcsXG5cIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7cT0wfSk7aWYoQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuZ2Vja298fHgpdT9nLmF0dGFjaExpc3RlbmVyKGcsXCJiZWZvcmVkZWFjdGl2YXRlXCIsYSxudWxsLG51bGwsLTEpOmcuYXR0YWNoTGlzdGVuZXIoZCxcInNlbGVjdGlvbkNoZWNrXCIsYSxudWxsLG51bGwsLTEpLGcuYXR0YWNoTGlzdGVuZXIoZyxDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja28/XCJmb2N1c291dFwiOlwiYmx1clwiLGZ1bmN0aW9uKCl7dmFyIGE9dCYmKHQuaXNGYWtlfHwyPnQuZ2V0UmFuZ2VzKCkubGVuZ3RoKTtDS0VESVRPUi5lbnYuZ2Vja28mJiF4JiZhfHwoZC5sb2NrU2VsZWN0aW9uKHQpLHE9MSl9LG51bGwsbnVsbCwtMSksZy5hdHRhY2hMaXN0ZW5lcihnLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtxPTB9KTtpZihDS0VESVRPUi5lbnYuaWUmJiF4KXt2YXIgTDtnLmF0dGFjaExpc3RlbmVyKGcsXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXsyPT1cbmEuZGF0YS4kLmJ1dHRvbiYmKChhPWQuZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCkpJiZhLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkV8fChMPWQud2luZG93LmdldFNjcm9sbFBvc2l0aW9uKCkpKX0pO2cuYXR0YWNoTGlzdGVuZXIoZyxcIm1vdXNldXBcIixmdW5jdGlvbihhKXsyPT1hLmRhdGEuJC5idXR0b24mJkwmJihkLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ9TC54LGQuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPUwueSk7TD1udWxsfSk7aWYoXCJCYWNrQ29tcGF0XCIhPWUuJC5jb21wYXRNb2RlKXtpZihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgdyx6O3Iub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2E9YS5kYXRhLiQ7aWYodyl7dmFyIGQ9ay4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtkLm1vdmVUb1BvaW50KGEuY2xpZW50WCxhLmNsaWVudFkpfWNhdGNoKGMpe313LnNldEVuZFBvaW50KDA+XG56LmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvU3RhcnRcIixkKT9cIkVuZFRvRW5kXCI6XCJTdGFydFRvU3RhcnRcIixkKTt3LnNlbGVjdCgpfX1mdW5jdGlvbiBkKCl7ci5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpO2gucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsZCk7ci5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixkKTt3LnNlbGVjdCgpfWE9YS5kYXRhO2lmKGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZhLiQueTxyLiQuY2xpZW50SGVpZ2h0JiZhLiQueDxyLiQuY2xpZW50V2lkdGgpe3c9ay4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXt3Lm1vdmVUb1BvaW50KGEuJC5jbGllbnRYLGEuJC5jbGllbnRZKX1jYXRjaChjKXt9ej13LmR1cGxpY2F0ZSgpO3Iub24oXCJtb3VzZW1vdmVcIixiKTtoLm9uKFwibW91c2V1cFwiLGQpO3Iub24oXCJtb3VzZXVwXCIsZCl9fSl9aWYoNzxDS0VESVRPUi5lbnYudmVyc2lvbiYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24pci5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJlxuKGgub24oXCJtb3VzZXVwXCIsYiksci5vbihcIm1vdXNldXBcIixiKSl9KX19Zy5hdHRhY2hMaXN0ZW5lcihnLFwic2VsZWN0aW9uY2hhbmdlXCIsbSxkKTtnLmF0dGFjaExpc3RlbmVyKGcsXCJrZXl1cFwiLGwsZCk7Zy5hdHRhY2hMaXN0ZW5lcihnLFwidG91Y2hzdGFydFwiLGwsZCk7Zy5hdHRhY2hMaXN0ZW5lcihnLFwidG91Y2hlbmRcIixsLGQpO0NLRURJVE9SLmVudi5pZSYmZy5hdHRhY2hMaXN0ZW5lcihnLFwia2V5ZG93blwiLGMsZCk7Zy5hdHRhY2hMaXN0ZW5lcihnLENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbz9cImZvY3VzaW5cIjpcImZvY3VzXCIsZnVuY3Rpb24oKXtkLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7ZC5zZWxlY3Rpb25DaGFuZ2UoMSl9KTtpZih4JiYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvKSl7dmFyIHY7Zy5hdHRhY2hMaXN0ZW5lcihnLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt2PTF9KTtnLmF0dGFjaExpc3RlbmVyKGUuZ2V0RG9jdW1lbnRFbGVtZW50KCksXG5cIm1vdXNldXBcIixmdW5jdGlvbigpe3YmJmwuY2FsbChkKTt2PTB9KX1lbHNlIGcuYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZW52LmllP2c6ZS5nZXREb2N1bWVudEVsZW1lbnQoKSxcIm1vdXNldXBcIixsLGQpO0NLRURJVE9SLmVudi53ZWJraXQmJmcuYXR0YWNoTGlzdGVuZXIoZSxcImtleWRvd25cIixmdW5jdGlvbihhKXtzd2l0Y2goYS5kYXRhLmdldEtleSgpKXtjYXNlIDEzOmNhc2UgMzM6Y2FzZSAzNDpjYXNlIDM1OmNhc2UgMzY6Y2FzZSAzNzpjYXNlIDM5OmNhc2UgODpjYXNlIDQ1OmNhc2UgNDY6Zy5oYXNGb2N1cyYmbihnKX19LG51bGwsbnVsbCwtMSk7Zy5hdHRhY2hMaXN0ZW5lcihnLFwia2V5ZG93blwiLHAoZCksbnVsbCxudWxsLC0xKX0pO2Qub24oXCJzZXREYXRhXCIsZnVuY3Rpb24oKXtkLnVubG9ja1NlbGVjdGlvbigpO0NLRURJVE9SLmVudi53ZWJraXQmJmIoKX0pO2Qub24oXCJjb250ZW50RG9tVW5sb2FkXCIsZnVuY3Rpb24oKXtkLnVubG9ja1NlbGVjdGlvbigpfSk7aWYoQ0tFRElUT1IuZW52LmllOUNvbXBhdClkLm9uKFwiYmVmb3JlRGVzdHJveVwiLFxuYixudWxsLG51bGwsOSk7ZC5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7ZGVsZXRlIGQuXy5mYWtlU2VsZWN0aW9uO2RlbGV0ZSBkLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO2Quc2VsZWN0aW9uQ2hhbmdlKDEpfSk7ZC5vbihcImxvYWRTbmFwc2hvdFwiLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0VMRU1FTlQpLGI9ZC5lZGl0YWJsZSgpLmdldExhc3QoYSk7YiYmYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS1oaWRkZW4tc2VsXCIpJiYoYi5yZW1vdmUoKSxDS0VESVRPUi5lbnYuZ2Vja28mJihhPWQuZWRpdGFibGUoKS5nZXRGaXJzdChhKSkmJmEuaXMoXCJiclwiKSYmYS5nZXRBdHRyaWJ1dGUoXCJfbW96X2VkaXRvcl9ib2d1c19ub2RlXCIpJiZhLnJlbW92ZSgpKX0sbnVsbCxudWxsLDEwMCk7ZC5vbihcImtleVwiLGZ1bmN0aW9uKGEpe2lmKFwid3lzaXd5Z1wiPT1kLm1vZGUpe3ZhciBiPWQuZ2V0U2VsZWN0aW9uKCk7aWYoYi5pc0Zha2Upe3ZhciBjPVxuQ1thLmRhdGEua2V5Q29kZV07aWYoYylyZXR1cm4gYyh7ZWRpdG9yOmQsc2VsZWN0ZWQ6Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSxzZWxlY3Rpb246YixrZXlFdmVudDphfSl9fX0pfSk7aWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgYT1iLmVkaXRhYmxlKCksZD1hLmdldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIik7ZCYmKGQuZ2V0Q3VzdG9tRGF0YShcInJlYWR5XCIpPyhuKGEpLGEuZWRpdG9yLmZpcmUoXCJzZWxlY3Rpb25DaGVja1wiKSk6ZC5zZXRDdXN0b21EYXRhKFwicmVhZHlcIiwxKSl9LG51bGwsbnVsbCwtMSk7Yi5vbihcImJlZm9yZVNldE1vZGVcIixmdW5jdGlvbigpe24oYi5lZGl0YWJsZSgpKX0sbnVsbCxudWxsLC0xKTtiLm9uKFwiZ2V0U25hcHNob3RcIixmdW5jdGlvbihhKXthLmRhdGEmJihhLmRhdGE9cihhLmRhdGEpKX0sXG5iLG51bGwsMjApO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlPXIoYS5kYXRhLmRhdGFWYWx1ZSl9LG51bGwsbnVsbCwwKX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuc2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKGEpeyhhP206bCkuY2FsbCh0aGlzKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuXy5zYXZlZFNlbGVjdGlvbiYmIXRoaXMuXy5mYWtlU2VsZWN0aW9ufHxhPyhhPXRoaXMuZWRpdGFibGUoKSkmJlwid3lzaXd5Z1wiPT10aGlzLm1vZGU/bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oYSk6bnVsbDp0aGlzLl8uc2F2ZWRTZWxlY3Rpb258fHRoaXMuXy5mYWtlU2VsZWN0aW9ufTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFNlbGVjdGVkUmFuZ2VzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIGImJmIuZ2V0UmFuZ2VzKGEpfHxcbltdfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmxvY2tTZWxlY3Rpb249ZnVuY3Rpb24oYSl7YT1hfHx0aGlzLmdldFNlbGVjdGlvbigxKTtyZXR1cm4gYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FPyghYS5pc0xvY2tlZCYmYS5sb2NrKCksdGhpcy5fLnNhdmVkU2VsZWN0aW9uPWEsITApOiExfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnVubG9ja1NlbGVjdGlvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uc2F2ZWRTZWxlY3Rpb247cmV0dXJuIGI/KGIudW5sb2NrKGEpLGRlbGV0ZSB0aGlzLl8uc2F2ZWRTZWxlY3Rpb24sITApOiExfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGh9O0NLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMpfTtcbkNLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yb290IGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGU/dGhpcy5yb290LmVkaXRvci5nZXRTZWxlY3Rpb24oKTpuZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbih0aGlzLnJvb3QpO2Euc2VsZWN0UmFuZ2VzKFt0aGlzXSk7cmV0dXJuIGF9O0NLRURJVE9SLlNFTEVDVElPTl9OT05FPTE7Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ9MjtDS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVD0zO0NLRURJVE9SLmRvbS5zZWxlY3Rpb249ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24pe3ZhciBiPWE7YT1hLnJvb3R9dmFyIGQ9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50O3RoaXMucmV2PWI/Yi5yZXY6eisrO3RoaXMuZG9jdW1lbnQ9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudD9hOmEuZ2V0RG9jdW1lbnQoKTt0aGlzLnJvb3Q9XG5kP2E6dGhpcy5kb2N1bWVudC5nZXRCb2R5KCk7dGhpcy5pc0xvY2tlZD0wO3RoaXMuXz17Y2FjaGU6e319O2lmKGIpcmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLl8uY2FjaGUsYi5fLmNhY2hlKSx0aGlzLmlzRmFrZT1iLmlzRmFrZSx0aGlzLmlzTG9ja2VkPWIuaXNMb2NrZWQsdGhpczthPXRoaXMuZ2V0TmF0aXZlKCk7dmFyIGMsZjtpZihhKWlmKGEuZ2V0UmFuZ2VBdCljPShmPWEucmFuZ2VDb3VudCYmYS5nZXRSYW5nZUF0KDApKSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGYuY29tbW9uQW5jZXN0b3JDb250YWluZXIpO2Vsc2V7dHJ5e2Y9YS5jcmVhdGVSYW5nZSgpfWNhdGNoKGUpe31jPWYmJkNLRURJVE9SLmRvbS5lbGVtZW50LmdldChmLml0ZW0mJmYuaXRlbSgwKXx8Zi5wYXJlbnRFbGVtZW50KCkpfWlmKCFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFR8fCF0aGlzLnJvb3QuZXF1YWxzKGMpJiYhdGhpcy5yb290LmNvbnRhaW5zKGMpKXRoaXMuXy5jYWNoZS50eXBlPVxuQ0tFRElUT1IuU0VMRUNUSU9OX05PTkUsdGhpcy5fLmNhY2hlLnN0YXJ0RWxlbWVudD1udWxsLHRoaXMuXy5jYWNoZS5zZWxlY3RlZEVsZW1lbnQ9bnVsbCx0aGlzLl8uY2FjaGUuc2VsZWN0ZWRUZXh0PVwiXCIsdGhpcy5fLmNhY2hlLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdDtyZXR1cm4gdGhpc307dmFyIEg9e2ltZzoxLGhyOjEsbGk6MSx0YWJsZToxLHRyOjEsdGQ6MSx0aDoxLGVtYmVkOjEsb2JqZWN0OjEsb2w6MSx1bDoxLGE6MSxpbnB1dDoxLGZvcm06MSxzZWxlY3Q6MSx0ZXh0YXJlYToxLGJ1dHRvbjoxLGZpZWxkc2V0OjEsdGhlYWQ6MSx0Zm9vdDoxfTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLnNlbGVjdGlvbix7X3JlbW92ZUZpbGxpbmdDaGFyU2VxdWVuY2VTdHJpbmc6cixfY3JlYXRlRmlsbGluZ0NoYXJTZXF1ZW5jZU5vZGU6YSxGSUxMSU5HX0NIQVJfU0VRVUVOQ0U6dH0pO0NLRURJVE9SLmRvbS5zZWxlY3Rpb24ucHJvdG90eXBlPXtnZXROYXRpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09XG50aGlzLl8uY2FjaGUubmF0aXZlU2VsP3RoaXMuXy5jYWNoZS5uYXRpdmVTZWw6dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD11P3RoaXMuZG9jdW1lbnQuJC5zZWxlY3Rpb246dGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmdldFNlbGVjdGlvbigpfSxnZXRUeXBlOnU/ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS50eXBlKXJldHVybiBhLnR5cGU7dmFyIGI9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7dHJ5e3ZhciBkPXRoaXMuZ2V0TmF0aXZlKCksYz1kLnR5cGU7XCJUZXh0XCI9PWMmJihiPUNLRURJVE9SLlNFTEVDVElPTl9URVhUKTtcIkNvbnRyb2xcIj09YyYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQpO2QuY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkmJihiPUNLRURJVE9SLlNFTEVDVElPTl9URVhUKX1jYXRjaChmKXt9cmV0dXJuIGEudHlwZT1ifTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnR5cGUpcmV0dXJuIGEudHlwZTt2YXIgYj1cbkNLRURJVE9SLlNFTEVDVElPTl9URVhULGQ9dGhpcy5nZXROYXRpdmUoKTtpZighZHx8IWQucmFuZ2VDb3VudCliPUNLRURJVE9SLlNFTEVDVElPTl9OT05FO2Vsc2UgaWYoMT09ZC5yYW5nZUNvdW50KXt2YXIgZD1kLmdldFJhbmdlQXQoMCksYz1kLnN0YXJ0Q29udGFpbmVyO2M9PWQuZW5kQ29udGFpbmVyJiYxPT1jLm5vZGVUeXBlJiYxPT1kLmVuZE9mZnNldC1kLnN0YXJ0T2Zmc2V0JiZIW2MuY2hpbGROb2Rlc1tkLnN0YXJ0T2Zmc2V0XS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQpfXJldHVybiBhLnR5cGU9Yn0sZ2V0UmFuZ2VzOmZ1bmN0aW9uKCl7dmFyIGE9dT9mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuKG5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkuZ2V0SW5kZXgoKX12YXIgYj1mdW5jdGlvbihiLGQpe2I9Yi5kdXBsaWNhdGUoKTtiLmNvbGxhcHNlKGQpO3ZhciBjPWIucGFyZW50RWxlbWVudCgpO2lmKCFjLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm57Y29udGFpbmVyOmMsXG5vZmZzZXQ6MH07Zm9yKHZhciBmPWMuY2hpbGRyZW4sZSxoLGc9Yi5kdXBsaWNhdGUoKSxuPTAsaz1mLmxlbmd0aC0xLGw9LTEsbSxyO248PWs7KWlmKGw9TWF0aC5mbG9vcigobitrKS8yKSxlPWZbbF0sZy5tb3ZlVG9FbGVtZW50VGV4dChlKSxtPWcuY29tcGFyZUVuZFBvaW50cyhcIlN0YXJ0VG9TdGFydFwiLGIpLDA8bSlrPWwtMTtlbHNlIGlmKDA+bSluPWwrMTtlbHNlIHJldHVybntjb250YWluZXI6YyxvZmZzZXQ6YShlKX07aWYoLTE9PWx8fGw9PWYubGVuZ3RoLTEmJjA+bSl7Zy5tb3ZlVG9FbGVtZW50VGV4dChjKTtnLnNldEVuZFBvaW50KFwiU3RhcnRUb1N0YXJ0XCIsYik7Zz1nLnRleHQucmVwbGFjZSgvKFxcclxcbnxcXHIpL2csXCJcXG5cIikubGVuZ3RoO2Y9Yy5jaGlsZE5vZGVzO2lmKCFnKXJldHVybiBlPWZbZi5sZW5ndGgtMV0sZS5ub2RlVHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP3tjb250YWluZXI6YyxvZmZzZXQ6Zi5sZW5ndGh9Ontjb250YWluZXI6ZSxvZmZzZXQ6ZS5ub2RlVmFsdWUubGVuZ3RofTtcbmZvcihjPWYubGVuZ3RoOzA8ZyYmMDxjOyloPWZbLS1jXSxoLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihyPWgsZy09aC5ub2RlVmFsdWUubGVuZ3RoKTtyZXR1cm57Y29udGFpbmVyOnIsb2Zmc2V0Oi1nfX1nLmNvbGxhcHNlKDA8bT8hMDohMSk7Zy5zZXRFbmRQb2ludCgwPG0/XCJTdGFydFRvU3RhcnRcIjpcIkVuZFRvU3RhcnRcIixiKTtnPWcudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7aWYoIWcpcmV0dXJue2NvbnRhaW5lcjpjLG9mZnNldDphKGUpKygwPG0/MDoxKX07Zm9yKDswPGc7KXRyeXtoPWVbMDxtP1wicHJldmlvdXNTaWJsaW5nXCI6XCJuZXh0U2libGluZ1wiXSxoLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihnLT1oLm5vZGVWYWx1ZS5sZW5ndGgscj1oKSxlPWh9Y2F0Y2godSl7cmV0dXJue2NvbnRhaW5lcjpjLG9mZnNldDphKGUpfX1yZXR1cm57Y29udGFpbmVyOnIsb2Zmc2V0OjA8bT8tZzpyLm5vZGVWYWx1ZS5sZW5ndGgrZ319O1xucmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXROYXRpdmUoKSxkPWEmJmEuY3JlYXRlUmFuZ2UoKSxjPXRoaXMuZ2V0VHlwZSgpO2lmKCFhKXJldHVybltdO2lmKGM9PUNLRURJVE9SLlNFTEVDVElPTl9URVhUKXJldHVybiBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KSxjPWIoZCwhMCksYS5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYy5jb250YWluZXIpLGMub2Zmc2V0KSxjPWIoZCksYS5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGMuY29udGFpbmVyKSxjLm9mZnNldCksYS5lbmRDb250YWluZXIuZ2V0UG9zaXRpb24oYS5zdGFydENvbnRhaW5lcikmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HJiZhLmVuZE9mZnNldDw9YS5zdGFydENvbnRhaW5lci5nZXRJbmRleCgpJiZhLmNvbGxhcHNlKCksW2FdO2lmKGM9PUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UKXtmb3IodmFyIGM9W10sZj0wO2Y8ZC5sZW5ndGg7ZisrKXtmb3IodmFyIGU9XG5kLml0ZW0oZiksaD1lLnBhcmVudE5vZGUsZz0wLGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2c8aC5jaGlsZE5vZGVzLmxlbmd0aCYmaC5jaGlsZE5vZGVzW2ddIT1lO2crKyk7YS5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoaCksZyk7YS5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGgpLGcrMSk7Yy5wdXNoKGEpfXJldHVybiBjfXJldHVybltdfX0oKTpmdW5jdGlvbigpe3ZhciBhPVtdLGIsZD10aGlzLmdldE5hdGl2ZSgpO2lmKCFkKXJldHVybiBhO2Zvcih2YXIgYz0wO2M8ZC5yYW5nZUNvdW50O2MrKyl7dmFyIGY9ZC5nZXRSYW5nZUF0KGMpO2I9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Iuc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGYuc3RhcnRDb250YWluZXIpLGYuc3RhcnRPZmZzZXQpO2Iuc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShmLmVuZENvbnRhaW5lciksZi5lbmRPZmZzZXQpO2EucHVzaChiKX1yZXR1cm4gYX07XG5yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5fLmNhY2hlLGM9ZC5yYW5nZXM7Y3x8KGQucmFuZ2VzPWM9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoYS5jYWxsKHRoaXMpKSk7cmV0dXJuIGI/cShuZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChjLnNsaWNlKCkpKTpjfX0oKSxnZXRTdGFydEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zdGFydEVsZW1lbnQpcmV0dXJuIGEuc3RhcnRFbGVtZW50O3ZhciBiO3N3aXRjaCh0aGlzLmdldFR5cGUoKSl7Y2FzZSBDS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDpyZXR1cm4gdGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKTtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9URVhUOnZhciBkPXRoaXMuZ2V0UmFuZ2VzKClbMF07aWYoZCl7aWYoZC5jb2xsYXBzZWQpYj1kLnN0YXJ0Q29udGFpbmVyLGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj1iLmdldFBhcmVudCgpKTtlbHNle2ZvcihkLm9wdGltaXplKCk7Yj1cbmQuc3RhcnRDb250YWluZXIsZC5zdGFydE9mZnNldD09KGIuZ2V0Q2hpbGRDb3VudD9iLmdldENoaWxkQ291bnQoKTpiLmdldExlbmd0aCgpKSYmIWIuaXNCbG9ja0JvdW5kYXJ5KCk7KWQuc2V0U3RhcnRBZnRlcihiKTtiPWQuc3RhcnRDb250YWluZXI7aWYoYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIGIuZ2V0UGFyZW50KCk7aWYoKGI9Yi5nZXRDaGlsZChkLnN0YXJ0T2Zmc2V0KSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWZvcihkPWIuZ2V0Rmlyc3QoKTtkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVDspYj1kLGQ9ZC5nZXRGaXJzdCgpO2Vsc2UgYj1kLnN0YXJ0Q29udGFpbmVyfWI9Yi4kfX1yZXR1cm4gYS5zdGFydEVsZW1lbnQ9Yj9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYik6bnVsbH0sZ2V0U2VsZWN0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc2VsZWN0ZWRFbGVtZW50KXJldHVybiBhLnNlbGVjdGVkRWxlbWVudDtcbnZhciBiPXRoaXMsZD1DS0VESVRPUi50b29scy50cnlUaGVzZShmdW5jdGlvbigpe3JldHVybiBiLmdldE5hdGl2ZSgpLmNyZWF0ZVJhbmdlKCkuaXRlbSgwKX0sZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5nZXRSYW5nZXMoKVswXS5jbG9uZSgpLGQsYyxmPTI7ZiYmISgoZD1hLmdldEVuY2xvc2VkTm9kZSgpKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkhbZC5nZXROYW1lKCldJiYoYz1kKSk7Zi0tKWEuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5UKTtyZXR1cm4gYyYmYy4kfSk7cmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50PWQ/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQpOm51bGx9LGdldFNlbGVjdGVkVGV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnNlbGVjdGVkVGV4dClyZXR1cm4gYS5zZWxlY3RlZFRleHQ7dmFyIGI9dGhpcy5nZXROYXRpdmUoKSxiPXU/XCJDb250cm9sXCI9PWIudHlwZT9cIlwiOmIuY3JlYXRlUmFuZ2UoKS50ZXh0OlxuYi50b1N0cmluZygpO3JldHVybiBhLnNlbGVjdGVkVGV4dD1ifSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5nZXRSYW5nZXMoKTt0aGlzLmdldFN0YXJ0RWxlbWVudCgpO3RoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5nZXRTZWxlY3RlZFRleHQoKTt0aGlzLl8uY2FjaGUubmF0aXZlU2VsPW51bGw7dGhpcy5pc0xvY2tlZD0xfSx1bmxvY2s6ZnVuY3Rpb24oYSl7aWYodGhpcy5pc0xvY2tlZCl7aWYoYSl2YXIgYj10aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpLGQ9dGhpcy5nZXRSYW5nZXMoKSxjPXRoaXMuaXNGYWtlO3RoaXMuaXNMb2NrZWQ9MDt0aGlzLnJlc2V0KCk7YSYmKGE9Ynx8ZFswXSYmZFswXS5nZXRDb21tb25BbmNlc3RvcigpKSYmYS5nZXRBc2NlbmRhbnQoXCJib2R5XCIsMSkmJigoYT10aGlzLnJvb3QuZWRpdG9yKSYmYS5wbHVnaW5zLnRhYmxlc2VsZWN0aW9uJiZhLnBsdWdpbnMudGFibGVzZWxlY3Rpb24uaXNTdXBwb3J0ZWRFbnZpcm9ubWVudChhKSYmZyhkKT9oLmNhbGwodGhpcyxcbmQpOmM/dGhpcy5mYWtlKGIpOmImJjI+ZC5sZW5ndGg/dGhpcy5zZWxlY3RFbGVtZW50KGIpOnRoaXMuc2VsZWN0UmFuZ2VzKGQpKX19LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLmNhY2hlPXt9O3RoaXMuaXNGYWtlPTA7dmFyIGE9dGhpcy5yb290LmVkaXRvcjtpZihhJiZhLl8uZmFrZVNlbGVjdGlvbilpZih0aGlzLnJldj09YS5fLmZha2VTZWxlY3Rpb24ucmV2KXtkZWxldGUgYS5fLmZha2VTZWxlY3Rpb247dmFyIGI9YS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjtpZihiKXt2YXIgZD1hLmNoZWNrRGlydHkoKTthLmZpcmUoXCJsb2NrU25hcHNob3RcIik7Yi5yZW1vdmUoKTthLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTshZCYmYS5yZXNldERpcnR5KCl9ZGVsZXRlIGEuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXJ9ZWxzZSBDS0VESVRPUi53YXJuKFwic2VsZWN0aW9uLWZha2UtcmVzZXRcIik7dGhpcy5yZXY9eisrfSxzZWxlY3RFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtcbmIuc2V0U3RhcnRCZWZvcmUoYSk7Yi5zZXRFbmRBZnRlcihhKTt0aGlzLnNlbGVjdFJhbmdlcyhbYl0pfSxzZWxlY3RSYW5nZXM6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5yb290LmVkaXRvcixjPWQmJmQuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7dGhpcy5yZXNldCgpO2lmKGMpZm9yKHZhciBjPXRoaXMucm9vdCxlLGw9MDtsPGIubGVuZ3RoOysrbCllPWJbbF0sZS5lbmRDb250YWluZXIuZXF1YWxzKGMpJiYoZS5lbmRPZmZzZXQ9TWF0aC5taW4oZS5lbmRPZmZzZXQsYy5nZXRDaGlsZENvdW50KCkpKTtpZihiLmxlbmd0aClpZih0aGlzLmlzTG9ja2VkKXt2YXIgaz1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTt0aGlzLnVubG9jaygpO3RoaXMuc2VsZWN0UmFuZ2VzKGIpO3RoaXMubG9jaygpO2smJiFrLmVxdWFscyh0aGlzLnJvb3QpJiZrLmZvY3VzKCl9ZWxzZXt2YXIgbTthOnt2YXIgQSxyO2lmKDE9PWIubGVuZ3RoJiYhKHI9YlswXSkuY29sbGFwc2VkJiYobT1yLmdldEVuY2xvc2VkTm9kZSgpKSYmXG5tLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKHI9ci5jbG9uZSgpLHIuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwKSwoQT1yLmdldEVuY2xvc2VkTm9kZSgpKSYmQS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihtPUEpLFwiZmFsc2VcIj09bS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpKWJyZWFrIGE7bT12b2lkIDB9aWYobSl0aGlzLmZha2UobSk7ZWxzZSBpZihkJiZkLnBsdWdpbnMudGFibGVzZWxlY3Rpb24mJmQucGx1Z2lucy50YWJsZXNlbGVjdGlvbi5pc1N1cHBvcnRlZEVudmlyb25tZW50KGQpJiZnKGIpJiYhdyYmIWJbMF0uX2dldFRhYmxlRWxlbWVudCh7dGFibGU6MX0pLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRhYmxlc2VsZWN0aW9uLWlnbm9yZWRcIikpaC5jYWxsKHRoaXMsYik7ZWxzZXtpZih1KXtBPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApO209L1xcdWZlZmZ8XFx1MDBhMC87cj17dGFibGU6MSx0Ym9keToxLFxudHI6MX07MTxiLmxlbmd0aCYmKGQ9YltiLmxlbmd0aC0xXSxiWzBdLnNldEVuZChkLmVuZENvbnRhaW5lcixkLmVuZE9mZnNldCkpO2Q9YlswXTtiPWQuY29sbGFwc2VkO3ZhciBKLHgscDtpZigoYz1kLmdldEVuY2xvc2VkTm9kZSgpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuZ2V0TmFtZSgpaW4gSCYmKCFjLmlzKFwiYVwiKXx8IWMuZ2V0VGV4dCgpKSl0cnl7cD1jLiQuY3JlYXRlQ29udHJvbFJhbmdlKCk7cC5hZGRFbGVtZW50KGMuJCk7cC5zZWxlY3QoKTtyZXR1cm59Y2F0Y2gocSl7fWlmKGQuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLnN0YXJ0Q29udGFpbmVyLmdldE5hbWUoKWluIHJ8fGQuZW5kQ29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5lbmRDb250YWluZXIuZ2V0TmFtZSgpaW4gcilkLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApLGI9ZC5jb2xsYXBzZWQ7cD1kLmNyZWF0ZUJvb2ttYXJrKCk7XG5yPXAuc3RhcnROb2RlO2J8fChrPXAuZW5kTm9kZSk7cD1kLmRvY3VtZW50LiQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtwLm1vdmVUb0VsZW1lbnRUZXh0KHIuJCk7cC5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwxKTtrPyhtPWQuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpLG0ubW92ZVRvRWxlbWVudFRleHQoay4kKSxwLnNldEVuZFBvaW50KFwiRW5kVG9FbmRcIixtKSxwLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwtMSkpOihKPXIuZ2V0TmV4dChBKSx4PXIuaGFzQXNjZW5kYW50KFwicHJlXCIpLEo9IShKJiZKLmdldFRleHQmJkouZ2V0VGV4dCgpLm1hdGNoKG0pKSYmKHh8fCFyLmhhc1ByZXZpb3VzKCl8fHIuZ2V0UHJldmlvdXMoKS5pcyYmci5nZXRQcmV2aW91cygpLmlzKFwiYnJcIikpLHg9ZC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx4LnNldEh0bWwoXCJcXHgyNiM2NTI3OTtcIikseC5pbnNlcnRCZWZvcmUociksSiYmZC5kb2N1bWVudC5jcmVhdGVUZXh0KFwi77u/XCIpLmluc2VydEJlZm9yZShyKSk7XG5kLnNldFN0YXJ0QmVmb3JlKHIpO3IucmVtb3ZlKCk7Yj8oSj8ocC5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwtMSkscC5zZWxlY3QoKSxkLmRvY3VtZW50LiQuc2VsZWN0aW9uLmNsZWFyKCkpOnAuc2VsZWN0KCksZC5tb3ZlVG9Qb3NpdGlvbih4LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkseC5yZW1vdmUoKSk6KGQuc2V0RW5kQmVmb3JlKGspLGsucmVtb3ZlKCkscC5zZWxlY3QoKSl9ZWxzZXtrPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWspcmV0dXJuO3RoaXMucmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKHA9MDtwPGIubGVuZ3RoO3ArKyl7aWYocDxiLmxlbmd0aC0xJiYoSj1iW3BdLHg9YltwKzFdLG09Si5jbG9uZSgpLG0uc2V0U3RhcnQoSi5lbmRDb250YWluZXIsSi5lbmRPZmZzZXQpLG0uc2V0RW5kKHguc3RhcnRDb250YWluZXIseC5zdGFydE9mZnNldCksIW0uY29sbGFwc2VkJiYobS5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKSxkPW0uZ2V0Q29tbW9uQW5jZXN0b3IoKSxcbm09bS5nZXRFbmNsb3NlZE5vZGUoKSxkLmlzUmVhZE9ubHkoKXx8bSYmbS5pc1JlYWRPbmx5KCkpKSl7eC5zZXRTdGFydChKLnN0YXJ0Q29udGFpbmVyLEouc3RhcnRPZmZzZXQpO2Iuc3BsaWNlKHAtLSwxKTtjb250aW51ZX1kPWJbcF07eD10aGlzLmRvY3VtZW50LiQuY3JlYXRlUmFuZ2UoKTtkLmNvbGxhcHNlZCYmQ0tFRElUT1IuZW52LndlYmtpdCYmZihkKSYmKG09YSh0aGlzLnJvb3QpLGQuaW5zZXJ0Tm9kZShtKSwoSj1tLmdldE5leHQoKSkmJiFtLmdldFByZXZpb3VzKCkmJkoudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImJyXCI9PUouZ2V0TmFtZSgpPyhuKHRoaXMucm9vdCksZC5tb3ZlVG9Qb3NpdGlvbihKLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpOmQubW92ZVRvUG9zaXRpb24obSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTt4LnNldFN0YXJ0KGQuc3RhcnRDb250YWluZXIuJCxkLnN0YXJ0T2Zmc2V0KTt0cnl7eC5zZXRFbmQoZC5lbmRDb250YWluZXIuJCxcbmQuZW5kT2Zmc2V0KX1jYXRjaCh0KXtpZigwPD10LnRvU3RyaW5nKCkuaW5kZXhPZihcIk5TX0VSUk9SX0lMTEVHQUxfVkFMVUVcIikpZC5jb2xsYXBzZSgxKSx4LnNldEVuZChkLmVuZENvbnRhaW5lci4kLGQuZW5kT2Zmc2V0KTtlbHNlIHRocm93IHQ7fWsuYWRkUmFuZ2UoeCl9fXRoaXMucmVzZXQoKTt0aGlzLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKX19fSxmYWtlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5yb290LmVkaXRvcjt2b2lkIDA9PT1iJiZhLmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikmJihiPWEuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSk7dGhpcy5yZXNldCgpO3goZCxiKTt2YXIgYz10aGlzLl8uY2FjaGUsZj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Zi5zZXRTdGFydEJlZm9yZShhKTtmLnNldEVuZEFmdGVyKGEpO2MucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGYpO2Muc2VsZWN0ZWRFbGVtZW50PWMuc3RhcnRFbGVtZW50PVxuYTtjLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQ7Yy5zZWxlY3RlZFRleHQ9Yy5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzRmFrZT0xO3RoaXMucmV2PXorKztkLl8uZmFrZVNlbGVjdGlvbj10aGlzO3RoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfSxpc0hpZGRlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKTthJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGE9YS5nZXRQYXJlbnQoKSk7cmV0dXJuISghYXx8IWEuZGF0YShcImNrZS1oaWRkZW4tc2VsXCIpKX0saXNJblRhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiBnKHRoaXMuZ2V0UmFuZ2VzKCksYSl9LGlzQ29sbGFwc2VkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRSYW5nZXMoKTtyZXR1cm4gMT09PWEubGVuZ3RoJiZhWzBdLmNvbGxhcHNlZH0sY3JlYXRlQm9va21hcmtzOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRSYW5nZXMoKS5jcmVhdGVCb29rbWFya3MoYSk7dGhpcy5pc0Zha2UmJlxuKGEuaXNGYWtlPTEpO3JldHVybiBhfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRSYW5nZXMoKS5jcmVhdGVCb29rbWFya3MyKGEpO3RoaXMuaXNGYWtlJiYoYS5pc0Zha2U9MSk7cmV0dXJuIGF9LHNlbGVjdEJvb2ttYXJrczpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sZCxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBmPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtmLm1vdmVUb0Jvb2ttYXJrKGFbY10pO2IucHVzaChmKX1hLmlzRmFrZSYmKGQ9ZyhiKT9iWzBdLl9nZXRUYWJsZUVsZW1lbnQoKTpiWzBdLmdldEVuY2xvc2VkTm9kZSgpLGQmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwoQ0tFRElUT1Iud2FybihcInNlbGVjdGlvbi1ub3QtZmFrZVwiKSxhLmlzRmFrZT0wKSk7YS5pc0Zha2UmJiFnKGIpP3RoaXMuZmFrZShkKTp0aGlzLnNlbGVjdFJhbmdlcyhiKTtyZXR1cm4gdGhpc30sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuZ2V0UmFuZ2VzKCk7cmV0dXJuIGEubGVuZ3RoP2FbMF0uc3RhcnRDb250YWluZXIuZ2V0Q29tbW9uQW5jZXN0b3IoYVthLmxlbmd0aC0xXS5lbmRDb250YWluZXIpOm51bGx9LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKCl7dGhpcy50eXBlIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSYmdGhpcy5nZXRSYW5nZXMoKVswXS5zY3JvbGxJbnRvVmlldygpfSxyZW1vdmVBbGxSYW5nZXM6ZnVuY3Rpb24oKXtpZih0aGlzLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpe3ZhciBhPXRoaXMuZ2V0TmF0aXZlKCk7dHJ5e2EmJmFbdT9cImVtcHR5XCI6XCJyZW1vdmVBbGxSYW5nZXNcIl0oKX1jYXRjaChiKXt9dGhpcy5yZXNldCgpfX19fSkoKTtcInVzZSBzdHJpY3RcIjtDS0VESVRPUi5TVFlMRV9CTE9DSz0xO0NLRURJVE9SLlNUWUxFX0lOTElORT0yO0NLRURJVE9SLlNUWUxFX09CSkVDVD0zOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGQsYzsoYT1hLmdldFBhcmVudCgpKSYmXG4hYS5lcXVhbHMoYik7KWlmKGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub3N0eWxlXCIpKWQ9YTtlbHNlIGlmKCFjKXt2YXIgZj1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKTtcImZhbHNlXCI9PWY/ZD1hOlwidHJ1ZVwiPT1mJiYoYz0xKX1yZXR1cm4gZH1mdW5jdGlvbiBnKGEsYixkLGMpe3JldHVybihhLmdldFBvc2l0aW9uKGIpfGMpPT1jJiYoIWQuY2hpbGRSdWxlfHxkLmNoaWxkUnVsZShhKSl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmRvY3VtZW50O2lmKGEuY29sbGFwc2VkKWI9eih0aGlzLGIpLGEuaW5zZXJ0Tm9kZShiKSxhLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZWxzZXt2YXIgZD10aGlzLmVsZW1lbnQsZj10aGlzLl8uZGVmaW5pdGlvbixuLGs9Zi5pZ25vcmVSZWFkb25seSxsPWt8fGYuaW5jbHVkZVJlYWRvbmx5O251bGw9PWwmJihsPWEucm9vdC5nZXRDdXN0b21EYXRhKFwiY2tlX2luY2x1ZGVSZWFkb25seVwiKSk7dmFyIG09XG5DS0VESVRPUi5kdGRbZF07bXx8KG49ITAsbT1DS0VESVRPUi5kdGQuc3Bhbik7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO2EudHJpbSgpO3ZhciByPWEuY3JlYXRlQm9va21hcmsoKSx1PXIuc3RhcnROb2RlLHg9ci5lbmROb2RlLHE9dSx0O2lmKCFrKXt2YXIgdz1hLmdldENvbW1vbkFuY2VzdG9yKCksaz1jKHUsdyksdz1jKHgsdyk7ayYmKHE9ay5nZXROZXh0U291cmNlTm9kZSghMCkpO3cmJih4PXcpfWZvcihxLmdldFBvc2l0aW9uKHgpPT1DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkcmJihxPTApO3E7KXtrPSExO2lmKHEuZXF1YWxzKHgpKXE9bnVsbCxrPSEwO2Vsc2V7dmFyIHY9cS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/cS5nZXROYW1lKCk6bnVsbCx3PXYmJlwiZmFsc2VcIj09cS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiksQj12JiZxLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKTtpZih2JiZxLmRhdGEoXCJja2UtYm9va21hcmtcIil8fFxucS50eXBlPT09Q0tFRElUT1IuTk9ERV9DT01NRU5UKXtxPXEuZ2V0TmV4dFNvdXJjZU5vZGUoITApO2NvbnRpbnVlfWlmKHcmJmwmJkNLRURJVE9SLmR0ZC4kYmxvY2tbdl0pZm9yKHZhciBGPXEseT1oKEYpLEg9dm9pZCAwLFA9eS5sZW5ndGgsVj0wLEY9UCYmbmV3IENLRURJVE9SLmRvbS5yYW5nZShGLmdldERvY3VtZW50KCkpO1Y8UDsrK1Ype3ZhciBIPXlbVl0sVD1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW0guZGF0YShcImNrZS1maWx0ZXJcIildO2lmKFQ/VC5jaGVjayh0aGlzKToxKUYuc2VsZWN0Tm9kZUNvbnRlbnRzKEgpLGUuY2FsbCh0aGlzLEYpfXk9dj8hbVt2XXx8Qj8wOncmJiFsPzA6ZyhxLHgsZixPKToxO2lmKHkpaWYoSD1xLmdldFBhcmVudCgpLHk9ZixQPWQsVj1uLCFIfHwhKEguZ2V0RHRkKCl8fENLRURJVE9SLmR0ZC5zcGFuKVtQXSYmIVZ8fHkucGFyZW50UnVsZSYmIXkucGFyZW50UnVsZShIKSlrPSEwO2Vsc2V7aWYodHx8diYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt2XSYmXG4ocS5nZXRQb3NpdGlvbih4KXxPKSE9T3x8KHQ9YS5jbG9uZSgpLHQuc2V0U3RhcnRCZWZvcmUocSkpLHY9cS50eXBlLHY9PUNLRURJVE9SLk5PREVfVEVYVHx8d3x8dj09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhcS5nZXRDaGlsZENvdW50KCkpe2Zvcih2YXIgdj1xLGZhOyhrPSF2LmdldE5leHQoRSkpJiYoZmE9di5nZXRQYXJlbnQoKSxtW2ZhLmdldE5hbWUoKV0pJiZnKGZhLHUsZixLKTspdj1mYTt0LnNldEVuZEFmdGVyKHYpfX1lbHNlIGs9ITA7cT1xLmdldE5leHRTb3VyY2VOb2RlKEJ8fHcpfWlmKGsmJnQmJiF0LmNvbGxhcHNlZCl7Zm9yKHZhciBrPXoodGhpcyxiKSx3PWsuaGFzQXR0cmlidXRlcygpLEI9dC5nZXRDb21tb25BbmNlc3RvcigpLHY9e30seT17fSxIPXt9LFA9e30sY2EsYWEsQztrJiZCOyl7aWYoQi5nZXROYW1lKCk9PWQpe2ZvcihjYSBpbiBmLmF0dHJpYnV0ZXMpIVBbY2FdJiYoQz1CLmdldEF0dHJpYnV0ZShhYSkpJiYoay5nZXRBdHRyaWJ1dGUoY2EpPT1cbkM/eVtjYV09MTpQW2NhXT0xKTtmb3IoYWEgaW4gZi5zdHlsZXMpIUhbYWFdJiYoQz1CLmdldFN0eWxlKGFhKSkmJihrLmdldFN0eWxlKGFhKT09Qz92W2FhXT0xOkhbYWFdPTEpfUI9Qi5nZXRQYXJlbnQoKX1mb3IoY2EgaW4geSlrLnJlbW92ZUF0dHJpYnV0ZShjYSk7Zm9yKGFhIGluIHYpay5yZW1vdmVTdHlsZShhYSk7dyYmIWsuaGFzQXR0cmlidXRlcygpJiYoaz1udWxsKTtrPyh0LmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGspLHQuaW5zZXJ0Tm9kZShrKSxwLmNhbGwodGhpcyxrKSxrLm1lcmdlU2libGluZ3MoKSxDS0VESVRPUi5lbnYuaWV8fGsuJC5ub3JtYWxpemUoKSk6KGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKSx0LmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGspLHQuaW5zZXJ0Tm9kZShrKSxwLmNhbGwodGhpcyxrKSxrLnJlbW92ZSghMCkpO3Q9bnVsbH19YS5tb3ZlVG9Cb29rbWFyayhyKTthLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCk7XG5hLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfX1mdW5jdGlvbiBiKGEpe2Z1bmN0aW9uIGIoKXtmb3IodmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmdldFBhcmVudCgpKSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgobC5nZXRQYXJlbnQoKSksZj1udWxsLGU9bnVsbCxoPTA7aDxhLmVsZW1lbnRzLmxlbmd0aDtoKyspe3ZhciBnPWEuZWxlbWVudHNbaF07aWYoZz09YS5ibG9ja3x8Zz09YS5ibG9ja0xpbWl0KWJyZWFrO20uY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGcsITApJiYoZj1nKX1mb3IoaD0wO2g8ZC5lbGVtZW50cy5sZW5ndGg7aCsrKXtnPWQuZWxlbWVudHNbaF07aWYoZz09ZC5ibG9ja3x8Zz09ZC5ibG9ja0xpbWl0KWJyZWFrO20uY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGcsITApJiYoZT1nKX1lJiZsLmJyZWFrUGFyZW50KGUpO2YmJmMuYnJlYWtQYXJlbnQoZil9YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO3ZhciBkPVxuYS5jcmVhdGVCb29rbWFyaygpLGM9ZC5zdGFydE5vZGUsZj10aGlzLl8uZGVmaW5pdGlvbi5hbHdheXNSZW1vdmVFbGVtZW50O2lmKGEuY29sbGFwc2VkKXtmb3IodmFyIGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmdldFBhcmVudCgpLGEucm9vdCksaCxnPTAsbjtnPGUuZWxlbWVudHMubGVuZ3RoJiYobj1lLmVsZW1lbnRzW2ddKSYmbiE9ZS5ibG9jayYmbiE9ZS5ibG9ja0xpbWl0O2crKylpZih0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShuKSl7dmFyIGs7IWYmJmEuY29sbGFwc2VkJiYoYS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KG4sQ0tFRElUT1IuRU5EKXx8KGs9YS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KG4sQ0tFRElUT1IuU1RBUlQpKSk/KGg9bixoLm1hdGNoPWs/XCJzdGFydFwiOlwiZW5kXCIpOihuLm1lcmdlU2libGluZ3MoKSxuLmlzKHRoaXMuZWxlbWVudCk/eC5jYWxsKHRoaXMsbik6cShuLHcodGhpcylbbi5nZXROYW1lKCldKSl9aWYoaCl7Zj1jO2ZvcihnPVxuMDs7ZysrKXtuPWUuZWxlbWVudHNbZ107aWYobi5lcXVhbHMoaCkpYnJlYWs7ZWxzZSBpZihuLm1hdGNoKWNvbnRpbnVlO2Vsc2Ugbj1uLmNsb25lKCk7bi5hcHBlbmQoZik7Zj1ufWZbXCJzdGFydFwiPT1oLm1hdGNoP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShoKX19ZWxzZXt2YXIgbD1kLmVuZE5vZGUsbT10aGlzO2IoKTtmb3IoZT1jOyFlLmVxdWFscyhsKTspaD1lLmdldE5leHRTb3VyY2VOb2RlKCksZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGUpJiYoZS5nZXROYW1lKCk9PXRoaXMuZWxlbWVudD94LmNhbGwodGhpcyxlKTpxKGUsdyh0aGlzKVtlLmdldE5hbWUoKV0pLGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmNvbnRhaW5zKGMpJiYoYigpLGg9Yy5nZXROZXh0KCkpKSxlPWh9YS5tb3ZlVG9Cb29rbWFyayhkKTthLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfWZ1bmN0aW9uIGgoYSl7dmFyIGI9XG5bXTthLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiLnB1c2goYSksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7cmV0dXJuIGJ9ZnVuY3Rpb24gbShhKXt2YXIgYj1hLmdldEVuY2xvc2VkTm9kZSgpfHxhLmdldENvbW1vbkFuY2VzdG9yKCExLCEwKTsoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLGEucm9vdCkpLmNvbnRhaW5zKHRoaXMuZWxlbWVudCwxKSkmJiFhLmlzUmVhZE9ubHkoKSYmdChhLHRoaXMpfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5nZXRDb21tb25BbmNlc3RvcighMCwhMCk7aWYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLGEucm9vdCkpLmNvbnRhaW5zKHRoaXMuZWxlbWVudCwxKSl7dmFyIGI9dGhpcy5fLmRlZmluaXRpb24sZD1iLmF0dHJpYnV0ZXM7aWYoZClmb3IodmFyIGMgaW4gZClhLnJlbW92ZUF0dHJpYnV0ZShjLGRbY10pO2lmKGIuc3R5bGVzKWZvcih2YXIgZiBpbiBiLnN0eWxlcyliLnN0eWxlcy5oYXNPd25Qcm9wZXJ0eShmKSYmXG5hLnJlbW92ZVN0eWxlKGYpfX1mdW5jdGlvbiBrKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsoITApLGQ9YS5jcmVhdGVJdGVyYXRvcigpO2QuZW5mb3JjZVJlYWxCbG9ja3M9ITA7dGhpcy5fLmVudGVyTW9kZSYmKGQuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSKTtmb3IodmFyIGMsZT1hLmRvY3VtZW50LGg7Yz1kLmdldE5leHRQYXJhZ3JhcGgoKTspIWMuaXNSZWFkT25seSgpJiYoZC5hY3RpdmVGaWx0ZXI/ZC5hY3RpdmVGaWx0ZXIuY2hlY2sodGhpcyk6MSkmJihoPXoodGhpcyxlLGMpLGYoYyxoKSk7YS5tb3ZlVG9Cb29rbWFyayhiKX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsoMSksZD1hLmNyZWF0ZUl0ZXJhdG9yKCk7ZC5lbmZvcmNlUmVhbEJsb2Nrcz0hMDtkLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtmb3IodmFyIGMsZTtjPWQuZ2V0TmV4dFBhcmFncmFwaCgpOyl0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShjKSYmXG4oYy5pcyhcInByZVwiKT8oKGU9dGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/bnVsbDphLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSkmJmMuY29weUF0dHJpYnV0ZXMoZSksZihjLGUpKTp4LmNhbGwodGhpcyxjKSk7YS5tb3ZlVG9Cb29rbWFyayhiKX1mdW5jdGlvbiBmKGIsZCl7dmFyIGM9IWQ7YyYmKGQ9Yi5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYi5jb3B5QXR0cmlidXRlcyhkKSk7dmFyIGY9ZCYmZC5pcyhcInByZVwiKSxlPWIuaXMoXCJwcmVcIiksaD0hZiYmZTtpZihmJiYhZSl7ZT1kOyhoPWIuZ2V0Qm9ndXMoKSkmJmgucmVtb3ZlKCk7aD1iLmdldEh0bWwoKTtoPW4oaCwvKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nLFwiXCIpO2g9aC5yZXBsYWNlKC9bIFxcdFxcclxcbl0qKDxicltePl0qPilbIFxcdFxcclxcbl0qL2dpLFwiJDFcIik7aD1oLnJlcGxhY2UoLyhbIFxcdFxcblxccl0rfCZuYnNwOykvZyxcblwiIFwiKTtoPWgucmVwbGFjZSgvPGJyXFxiW14+XSo+L2dpLFwiXFxuXCIpO2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGc9Yi5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zy5hcHBlbmQoZSk7ZS4kLm91dGVySFRNTD1cIlxceDNjcHJlXFx4M2VcIitoK1wiXFx4M2MvcHJlXFx4M2VcIjtlLmNvcHlBdHRyaWJ1dGVzKGcuZ2V0Rmlyc3QoKSk7ZT1nLmdldEZpcnN0KCkucmVtb3ZlKCl9ZWxzZSBlLnNldEh0bWwoaCk7ZD1lfWVsc2UgaD9kPXIoYz9bYi5nZXRIdG1sKCldOmEoYiksZCk6Yi5tb3ZlQ2hpbGRyZW4oZCk7ZC5yZXBsYWNlKGIpO2lmKGYpe3ZhciBjPWQsazsoaz1jLmdldFByZXZpb3VzKEQpKSYmay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuaXMoXCJwcmVcIikmJihmPW4oay5nZXRIdG1sKCksL1xcbiQvLFwiXCIpK1wiXFxuXFxuXCIrbihjLmdldEh0bWwoKSwvXlxcbi8sXCJcIiksQ0tFRElUT1IuZW52LmllP2MuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIrZitcIlxceDNjL3ByZVxceDNlXCI6XG5jLnNldEh0bWwoZiksay5yZW1vdmUoKSl9ZWxzZSBjJiZ1KGQpfWZ1bmN0aW9uIGEoYSl7dmFyIGI9W107bihhLmdldE91dGVySHRtbCgpLC8oXFxTXFxzKilcXG4oPzpcXHN8KDxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+KSkqXFxuKD8hJCkvZ2ksZnVuY3Rpb24oYSxiLGQpe3JldHVybiBiK1wiXFx4M2MvcHJlXFx4M2VcIitkK1wiXFx4M2NwcmVcXHgzZVwifSkucmVwbGFjZSgvPHByZVxcYi4qPz4oW1xcc1xcU10qPyk8XFwvcHJlPi9naSxmdW5jdGlvbihhLGQpe2IucHVzaChkKX0pO3JldHVybiBifWZ1bmN0aW9uIG4oYSxiLGQpe3ZhciBjPVwiXCIsZj1cIlwiO2E9YS5yZXBsYWNlKC8oXjxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+KXwoPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrLio/XFwvc3Bhbj4kKS9naSxmdW5jdGlvbihhLGIsZCl7YiYmKGM9Yik7ZCYmKGY9ZCk7cmV0dXJuXCJcIn0pO3JldHVybiBjK2EucmVwbGFjZShiLGQpK2Z9ZnVuY3Rpb24gcihhLGIpe3ZhciBkO1xuMTxhLmxlbmd0aCYmKGQ9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGIuZ2V0RG9jdW1lbnQoKSkpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZj1hW2NdLGY9Zi5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKSxmPW4oZiwvXlsgXFx0XSpcXG4vLFwiXCIpLGY9bihmLC9cXG4kLyxcIlwiKSxmPW4oZiwvXlsgXFx0XSt8WyBcXHRdKyQvZyxmdW5jdGlvbihhLGIpe3JldHVybiAxPT1hLmxlbmd0aD9cIlxceDI2bmJzcDtcIjpiP1wiIFwiK0NLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixhLmxlbmd0aC0xKTpDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSkrXCIgXCJ9KSxmPWYucmVwbGFjZSgvXFxuL2csXCJcXHgzY2JyXFx4M2VcIiksZj1mLnJlcGxhY2UoL1sgXFx0XXsyLH0vZyxmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4MjZuYnNwO1wiLGEubGVuZ3RoLTEpK1wiIFwifSk7aWYoZCl7dmFyIGU9Yi5jbG9uZSgpO2Uuc2V0SHRtbChmKTtcbmQuYXBwZW5kKGUpfWVsc2UgYi5zZXRIdG1sKGYpfXJldHVybiBkfHxifWZ1bmN0aW9uIHgoYSxiKXt2YXIgZD10aGlzLl8uZGVmaW5pdGlvbixjPWQuYXR0cmlidXRlcyxkPWQuc3R5bGVzLGY9dyh0aGlzKVthLmdldE5hbWUoKV0sZT1DS0VESVRPUi50b29scy5pc0VtcHR5KGMpJiZDS0VESVRPUi50b29scy5pc0VtcHR5KGQpLGg7Zm9yKGggaW4gYylpZihcImNsYXNzXCIhPWgmJiF0aGlzLl8uZGVmaW5pdGlvbi5mdWxsTWF0Y2h8fGEuZ2V0QXR0cmlidXRlKGgpPT12KGgsY1toXSkpYiYmXCJkYXRhLVwiPT1oLnNsaWNlKDAsNSl8fChlPWEuaGFzQXR0cmlidXRlKGgpLGEucmVtb3ZlQXR0cmlidXRlKGgpKTtmb3IodmFyIGcgaW4gZCl0aGlzLl8uZGVmaW5pdGlvbi5mdWxsTWF0Y2gmJmEuZ2V0U3R5bGUoZykhPXYoZyxkW2ddLCEwKXx8KGU9ZXx8ISFhLmdldFN0eWxlKGcpLGEucmVtb3ZlU3R5bGUoZykpO3EoYSxmLENbYS5nZXROYW1lKCldKTtlJiYodGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudD9cbnUoYSwxKTohQ0tFRElUT1IuZHRkLiRibG9ja1thLmdldE5hbWUoKV18fHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSJiYhYS5oYXNBdHRyaWJ1dGVzKCk/dShhKTphLnJlbmFtZU5vZGUodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSl9ZnVuY3Rpb24gcChhKXtmb3IodmFyIGI9dyh0aGlzKSxkPWEuZ2V0RWxlbWVudHNCeVRhZyh0aGlzLmVsZW1lbnQpLGMsZj1kLmNvdW50KCk7MDw9LS1mOyljPWQuZ2V0SXRlbShmKSxjLmlzUmVhZE9ubHkoKXx8eC5jYWxsKHRoaXMsYywhMCk7Zm9yKHZhciBlIGluIGIpaWYoZSE9dGhpcy5lbGVtZW50KWZvcihkPWEuZ2V0RWxlbWVudHNCeVRhZyhlKSxmPWQuY291bnQoKS0xOzA8PWY7Zi0tKWM9ZC5nZXRJdGVtKGYpLGMuaXNSZWFkT25seSgpfHxxKGMsYltlXSl9ZnVuY3Rpb24gcShhLGIsZCl7aWYoYj1iJiZiLmF0dHJpYnV0ZXMpZm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBmPWJbY11bMF0sXG5lO2lmKGU9YS5nZXRBdHRyaWJ1dGUoZikpe3ZhciBoPWJbY11bMV07KG51bGw9PT1ofHxoLnRlc3QmJmgudGVzdChlKXx8XCJzdHJpbmdcIj09dHlwZW9mIGgmJmU9PWgpJiZhLnJlbW92ZUF0dHJpYnV0ZShmKX19ZHx8dShhKX1mdW5jdGlvbiB1KGEsYil7aWYoIWEuaGFzQXR0cmlidXRlcygpfHxiKWlmKENLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldKXt2YXIgZD1hLmdldFByZXZpb3VzKEQpLGM9YS5nZXROZXh0KEQpOyFkfHxkLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVCYmZC5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8YS5hcHBlbmQoXCJiclwiLDEpOyFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVCYmYy5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8YS5hcHBlbmQoXCJiclwiKTthLnJlbW92ZSghMCl9ZWxzZSBkPWEuZ2V0Rmlyc3QoKSxjPWEuZ2V0TGFzdCgpLGEucmVtb3ZlKCEwKSxkJiYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQubWVyZ2VTaWJsaW5ncygpLFxuYyYmIWQuZXF1YWxzKGMpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5tZXJnZVNpYmxpbmdzKCkpfWZ1bmN0aW9uIHooYSxiLGQpe3ZhciBjO2M9YS5lbGVtZW50O1wiKlwiPT1jJiYoYz1cInNwYW5cIik7Yz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyxiKTtkJiZkLmNvcHlBdHRyaWJ1dGVzKGMpO2M9dChjLGEpO2IuZ2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpJiZjLmhhc0F0dHJpYnV0ZShcImlkXCIpP2MucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik6Yi5zZXRDdXN0b21EYXRhKFwiZG9jX3Byb2Nlc3Npbmdfc3R5bGVcIiwxKTtyZXR1cm4gY31mdW5jdGlvbiB0KGEsYil7dmFyIGQ9Yi5fLmRlZmluaXRpb24sYz1kLmF0dHJpYnV0ZXMsZD1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoZCk7aWYoYylmb3IodmFyIGYgaW4gYylhLnNldEF0dHJpYnV0ZShmLGNbZl0pO2QmJmEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixkKTthLmdldERvY3VtZW50KCkucmVtb3ZlQ3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpO1xucmV0dXJuIGF9ZnVuY3Rpb24gQihhLGIpe2Zvcih2YXIgZCBpbiBhKWFbZF09YVtkXS5yZXBsYWNlKEwsZnVuY3Rpb24oYSxkKXtyZXR1cm4gYltkXX0pfWZ1bmN0aW9uIHcoYSl7aWYoYS5fLm92ZXJyaWRlcylyZXR1cm4gYS5fLm92ZXJyaWRlczt2YXIgYj1hLl8ub3ZlcnJpZGVzPXt9LGQ9YS5fLmRlZmluaXRpb24ub3ZlcnJpZGVzO2lmKGQpe0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoZCl8fChkPVtkXSk7Zm9yKHZhciBjPTA7YzxkLmxlbmd0aDtjKyspe3ZhciBmPWRbY10sZSxoO1wic3RyaW5nXCI9PXR5cGVvZiBmP2U9Zi50b0xvd2VyQ2FzZSgpOihlPWYuZWxlbWVudD9mLmVsZW1lbnQudG9Mb3dlckNhc2UoKTphLmVsZW1lbnQsaD1mLmF0dHJpYnV0ZXMpO2Y9YltlXXx8KGJbZV09e30pO2lmKGgpe3ZhciBmPWYuYXR0cmlidXRlcz1mLmF0dHJpYnV0ZXN8fFtdLGc7Zm9yKGcgaW4gaClmLnB1c2goW2cudG9Mb3dlckNhc2UoKSxoW2ddXSl9fX1yZXR1cm4gYn1mdW5jdGlvbiB2KGEsXG5iLGQpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIik7Y1tkP1wic2V0U3R5bGVcIjpcInNldEF0dHJpYnV0ZVwiXShhLGIpO3JldHVybiBjW2Q/XCJnZXRTdHlsZVwiOlwiZ2V0QXR0cmlidXRlXCJdKGEpfWZ1bmN0aW9uIEYoYSxiKXtmdW5jdGlvbiBkKGEsYil7cmV0dXJuXCJmb250LWZhbWlseVwiPT1iLnRvTG93ZXJDYXNlKCk/YS5yZXBsYWNlKC9bXCInXS9nLFwiXCIpOmF9XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhKSk7XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChiLCEwKSk7Zm9yKHZhciBjIGluIGEpaWYoIShjIGluIGIpfHxkKGJbY10sYykhPWQoYVtjXSxjKSYmXCJpbmhlcml0XCIhPWFbY10mJlwiaW5oZXJpdFwiIT1iW2NdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHkoYSxiLGQpe3ZhciBjPWEuZ2V0UmFuZ2VzKCk7Yj1iP3RoaXMucmVtb3ZlRnJvbVJhbmdlOnRoaXMuYXBwbHlUb1JhbmdlO1xuZm9yKHZhciBmLGU9Yy5jcmVhdGVJdGVyYXRvcigpO2Y9ZS5nZXROZXh0UmFuZ2UoKTspYi5jYWxsKHRoaXMsZixkKTthLnNlbGVjdFJhbmdlcyhjKX12YXIgQz17YWRkcmVzczoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsaGVhZGVyOjEsZm9vdGVyOjEsbmF2OjEsYXJ0aWNsZToxLGFzaWRlOjEsZmlndXJlOjEsZGlhbG9nOjEsaGdyb3VwOjEsdGltZToxLG1ldGVyOjEsbWVudToxLGNvbW1hbmQ6MSxrZXlnZW46MSxvdXRwdXQ6MSxwcm9ncmVzczoxLGRldGFpbHM6MSxkYXRhZ3JpZDoxLGRhdGFsaXN0OjF9LEg9e2E6MSxibG9ja3F1b3RlOjEsZW1iZWQ6MSxocjoxLGltZzoxLGxpOjEsb2JqZWN0OjEsb2w6MSx0YWJsZToxLHRkOjEsdHI6MSx0aDoxLHVsOjEsZGw6MSxkdDoxLGRkOjEsZm9ybToxLGF1ZGlvOjEsdmlkZW86MX0sRz0vXFxzKig/OjtcXHMqfCQpLyxMPS8jXFwoKC4rPylcXCkvZyxFPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMCxcbjEpLEQ9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygxKTtDS0VESVRPUi5zdHlsZT1mdW5jdGlvbihhLGIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnR5cGUpcmV0dXJuIG5ldyBDS0VESVRPUi5zdHlsZS5jdXN0b21IYW5kbGVyc1thLnR5cGVdKGEpO3ZhciBkPWEuYXR0cmlidXRlcztkJiZkLnN0eWxlJiYoYS5zdHlsZXM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEuc3R5bGVzLENLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChkLnN0eWxlKSksZGVsZXRlIGQuc3R5bGUpO2ImJihhPUNLRURJVE9SLnRvb2xzLmNsb25lKGEpLEIoYS5hdHRyaWJ1dGVzLGIpLEIoYS5zdHlsZXMsYikpO2Q9dGhpcy5lbGVtZW50PWEuZWxlbWVudD9cInN0cmluZ1wiPT10eXBlb2YgYS5lbGVtZW50P2EuZWxlbWVudC50b0xvd2VyQ2FzZSgpOmEuZWxlbWVudDpcIipcIjt0aGlzLnR5cGU9YS50eXBlfHwoQ1tkXT9DS0VESVRPUi5TVFlMRV9CTE9DSzpIW2RdP0NLRURJVE9SLlNUWUxFX09CSkVDVDpcbkNLRURJVE9SLlNUWUxFX0lOTElORSk7XCJvYmplY3RcIj09dHlwZW9mIHRoaXMuZWxlbWVudCYmKHRoaXMudHlwZT1DS0VESVRPUi5TVFlMRV9PQkpFQ1QpO3RoaXMuXz17ZGVmaW5pdGlvbjphfX07Q0tFRElUT1Iuc3R5bGUucHJvdG90eXBlPXthcHBseTpmdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50KXJldHVybiB5LmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpKTtpZih0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkpe3ZhciBiPXRoaXMuXy5lbnRlck1vZGU7Ynx8KHRoaXMuXy5lbnRlck1vZGU9YS5hY3RpdmVFbnRlck1vZGUpO3kuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMCxhKTt0aGlzLl8uZW50ZXJNb2RlPWJ9fSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudClyZXR1cm4geS5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxKTtpZih0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksXG5hKSl7dmFyIGI9dGhpcy5fLmVudGVyTW9kZTtifHwodGhpcy5fLmVudGVyTW9kZT1hLmFjdGl2ZUVudGVyTW9kZSk7eS5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxLGEpO3RoaXMuXy5lbnRlck1vZGU9Yn19LGFwcGx5VG9SYW5nZTpmdW5jdGlvbihhKXt0aGlzLmFwcGx5VG9SYW5nZT10aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0lOTElORT9lOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfQkxPQ0s/azp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9tOm51bGw7cmV0dXJuIHRoaXMuYXBwbHlUb1JhbmdlKGEpfSxyZW1vdmVGcm9tUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVGcm9tUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yjp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP2Q6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/bDpudWxsO3JldHVybiB0aGlzLnJlbW92ZUZyb21SYW5nZShhKX0sYXBwbHlUb09iamVjdDpmdW5jdGlvbihhKXt0KGEsXG50aGlzKX0sY2hlY2tBY3RpdmU6ZnVuY3Rpb24oYSxiKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiB0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShhLmJsb2NrfHxhLmJsb2NrTGltaXQsITAsYik7Y2FzZSBDS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Y2FzZSBDS0VESVRPUi5TVFlMRV9JTkxJTkU6Zm9yKHZhciBkPWEuZWxlbWVudHMsYz0wLGY7YzxkLmxlbmd0aDtjKyspaWYoZj1kW2NdLHRoaXMudHlwZSE9Q0tFRElUT1IuU1RZTEVfSU5MSU5FfHxmIT1hLmJsb2NrJiZmIT1hLmJsb2NrTGltaXQpe2lmKHRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUKXt2YXIgZT1mLmdldE5hbWUoKTtpZighKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/ZT09dGhpcy5lbGVtZW50OmUgaW4gdGhpcy5lbGVtZW50KSljb250aW51ZX1pZih0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShmLCEwLGIpKXJldHVybiEwfX1yZXR1cm4hMX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsXG5iLGQpe2ImJmIgaW5zdGFuY2VvZiBDS0VESVRPUi5maWx0ZXImJihkPWIpO2lmKGQmJiFkLmNoZWNrKHRoaXMpKXJldHVybiExO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgQ0tFRElUT1IuU1RZTEVfT0JKRUNUOnJldHVybiEhYS5jb250YWlucyh0aGlzLmVsZW1lbnQpO2Nhc2UgQ0tFRElUT1IuU1RZTEVfQkxPQ0s6cmV0dXJuISFhLmJsb2NrTGltaXQuZ2V0RHRkKClbdGhpcy5lbGVtZW50XX1yZXR1cm4hMH0sY2hlY2tFbGVtZW50TWF0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLl8uZGVmaW5pdGlvbjtpZighYXx8IWQuaWdub3JlUmVhZG9ubHkmJmEuaXNSZWFkT25seSgpKXJldHVybiExO3ZhciBjPWEuZ2V0TmFtZSgpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/Yz09dGhpcy5lbGVtZW50OmMgaW4gdGhpcy5lbGVtZW50KXtpZighYiYmIWEuaGFzQXR0cmlidXRlcygpKXJldHVybiEwO2lmKGM9ZC5fQUMpZD1jO2Vsc2V7dmFyIGM9e30sZj0wLGU9ZC5hdHRyaWJ1dGVzO1xuaWYoZSlmb3IodmFyIGggaW4gZSlmKyssY1toXT1lW2hdO2lmKGg9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGQpKWMuc3R5bGV8fGYrKyxjLnN0eWxlPWg7Yy5fbGVuZ3RoPWY7ZD1kLl9BQz1jfWlmKGQuX2xlbmd0aCl7Zm9yKHZhciBnIGluIGQpaWYoXCJfbGVuZ3RoXCIhPWcpaWYoYz1hLmdldEF0dHJpYnV0ZShnKXx8XCJcIixcInN0eWxlXCI9PWc/RihkW2ddLGMpOmRbZ109PWMpe2lmKCFiKXJldHVybiEwfWVsc2UgaWYoYilyZXR1cm4hMTtpZihiKXJldHVybiEwfWVsc2UgcmV0dXJuITB9cmV0dXJuITF9LGNoZWNrRWxlbWVudFJlbW92YWJsZTpmdW5jdGlvbihhLGIsZCl7aWYodGhpcy5jaGVja0VsZW1lbnRNYXRjaChhLGIsZCkpcmV0dXJuITA7aWYoYj13KHRoaXMpW2EuZ2V0TmFtZSgpXSl7dmFyIGM7aWYoIShiPWIuYXR0cmlidXRlcykpcmV0dXJuITA7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKylpZihjPWJbZF1bMF0sYz1hLmdldEF0dHJpYnV0ZShjKSl7dmFyIGY9YltkXVsxXTtcbmlmKG51bGw9PT1mKXJldHVybiEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBmKXtpZihjPT1mKXJldHVybiEwfWVsc2UgaWYoZi50ZXN0KGMpKXJldHVybiEwfX1yZXR1cm4hMX0sYnVpbGRQcmV2aWV3OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5kZWZpbml0aW9uLGQ9W10sYz1iLmVsZW1lbnQ7XCJiZG9cIj09YyYmKGM9XCJzcGFuXCIpO3ZhciBkPVtcIlxceDNjXCIsY10sZj1iLmF0dHJpYnV0ZXM7aWYoZilmb3IodmFyIGUgaW4gZilkLnB1c2goXCIgXCIsZSwnXFx4M2RcIicsZltlXSwnXCInKTsoZj1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYikpJiZkLnB1c2goJyBzdHlsZVxceDNkXCInLGYsJ1wiJyk7ZC5wdXNoKFwiXFx4M2VcIixhfHxiLm5hbWUsXCJcXHgzYy9cIixjLFwiXFx4M2VcIik7cmV0dXJuIGQuam9pbihcIlwiKX0sZ2V0RGVmaW5pdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGVmaW5pdGlvbn19O0NLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dD1mdW5jdGlvbihhKXt2YXIgYj1hLl9TVDtpZihiKXJldHVybiBiO1xudmFyIGI9YS5zdHlsZXMsZD1hLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy5zdHlsZXx8XCJcIixjPVwiXCI7ZC5sZW5ndGgmJihkPWQucmVwbGFjZShHLFwiO1wiKSk7Zm9yKHZhciBmIGluIGIpe3ZhciBlPWJbZl0saD0oZitcIjpcIitlKS5yZXBsYWNlKEcsXCI7XCIpO1wiaW5oZXJpdFwiPT1lP2MrPWg6ZCs9aH1kLmxlbmd0aCYmKGQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChkLCEwKSk7cmV0dXJuIGEuX1NUPWQrY307Q0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnM9e307Q0tFRElUT1Iuc3R5bGUuYWRkQ3VzdG9tSGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbihhKXt0aGlzLl89e2RlZmluaXRpb246YX07dGhpcy5zZXR1cCYmdGhpcy5zZXR1cChhKX07Yi5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLnN0eWxlLnByb3RvdHlwZSkse2Fzc2lnbmVkVG86Q0tFRElUT1IuU1RZTEVfT0JKRUNUfSxcbmEsITApO3JldHVybiB0aGlzLmN1c3RvbUhhbmRsZXJzW2EudHlwZV09Yn07dmFyIE89Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsSz1DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRH0pKCk7Q0tFRElUT1Iuc3R5bGVDb21tYW5kPWZ1bmN0aW9uKGMsZyl7dGhpcy5yZXF1aXJlZENvbnRlbnQ9dGhpcy5hbGxvd2VkQ29udGVudD10aGlzLnN0eWxlPWM7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZywhMCl9O0NLRURJVE9SLnN0eWxlQ29tbWFuZC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihjKXtjLmZvY3VzKCk7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP2MuYXBwbHlTdHlsZSh0aGlzLnN0eWxlKTp0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmXG5jLnJlbW92ZVN0eWxlKHRoaXMuc3R5bGUpfTtDS0VESVRPUi5zdHlsZXNTZXQ9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcIlwiLFwic3R5bGVzU2V0XCIpO0NLRURJVE9SLmFkZFN0eWxlc1NldD1DS0VESVRPUi50b29scy5iaW5kKENLRURJVE9SLnN0eWxlc1NldC5hZGQsQ0tFRElUT1Iuc3R5bGVzU2V0KTtDS0VESVRPUi5sb2FkU3R5bGVzU2V0PWZ1bmN0aW9uKGMsZyxlKXtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYyxnLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGMsZSl9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHthdHRhY2hTdHlsZVN0YXRlQ2hhbmdlOmZ1bmN0aW9uKGMsZyl7dmFyIGU9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M7ZXx8KGU9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M9W10sdGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wO2M8XG5lLmxlbmd0aDtjKyspe3ZhciBnPWVbY10sbD1nLnN0eWxlLmNoZWNrQWN0aXZlKGIuZGF0YS5wYXRoLHRoaXMpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRjtnLmZuLmNhbGwodGhpcyxsKX19KSk7ZS5wdXNoKHtzdHlsZTpjLGZuOmd9KX0sYXBwbHlTdHlsZTpmdW5jdGlvbihjKXtjLmFwcGx5KHRoaXMpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihjKXtjLnJlbW92ZSh0aGlzKX0sZ2V0U3R5bGVzU2V0OmZ1bmN0aW9uKGMpe2lmKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucyljKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucyk7ZWxzZXt2YXIgZz10aGlzLGU9Zy5jb25maWcuc3R5bGVzQ29tYm9fc3R5bGVzU2V0fHxnLmNvbmZpZy5zdHlsZXNTZXQ7aWYoITE9PT1lKWMobnVsbCk7ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXkpZy5fLnN0eWxlc0RlZmluaXRpb25zPWUsYyhlKTtlbHNle2V8fChlPVwiZGVmYXVsdFwiKTt2YXIgZT1lLnNwbGl0KFwiOlwiKSxiPWVbMF07XG5DS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYixlWzFdP2Uuc2xpY2UoMSkuam9pbihcIjpcIik6Q0tFRElUT1IuZ2V0VXJsKFwic3R5bGVzLmpzXCIpLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGIsZnVuY3Rpb24oZSl7Zy5fLnN0eWxlc0RlZmluaXRpb25zPWVbYl07YyhnLl8uc3R5bGVzRGVmaW5pdGlvbnMpfSl9fX19KTsoZnVuY3Rpb24oKXtpZih3aW5kb3cuUHJvbWlzZSlDS0VESVRPUi50b29scy5wcm9taXNlPVByb21pc2U7ZWxzZXt2YXIgYz1DS0VESVRPUi5nZXRVcmwoXCJ2ZW5kb3IvcHJvbWlzZS5qc1wiKTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2Ygd2luZG93LmRlZmluZSYmd2luZG93LmRlZmluZS5hbWQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiB3aW5kb3cucmVxdWlyZSlyZXR1cm4gd2luZG93LnJlcXVpcmUoW2NdLGZ1bmN0aW9uKGMpe0NLRURJVE9SLnRvb2xzLnByb21pc2U9Y30pO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGMsZnVuY3Rpb24oZyl7aWYoIWcpcmV0dXJuIENLRURJVE9SLmVycm9yKFwibm8tdmVuZG9yLWxpYlwiLFxue3BhdGg6Y30pO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93LkVTNlByb21pc2UpcmV0dXJuIENLRURJVE9SLnRvb2xzLnByb21pc2U9RVM2UHJvbWlzZX0pfX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhiLGMsbSl7Yi5vbmNlKFwic2VsZWN0aW9uQ2hlY2tcIixmdW5jdGlvbihiKXtpZighZyl7dmFyIGs9Yi5kYXRhLmdldFJhbmdlcygpWzBdO20uZXF1YWxzKGspP2IuY2FuY2VsKCk6Yy5lcXVhbHMoaykmJihlPSEwKX19LG51bGwsbnVsbCwtMSl9dmFyIGc9ITAsZT0hMTtDS0VESVRPUi5kb20uc2VsZWN0aW9uLnNldHVwRWRpdG9yT3B0aW1pemF0aW9uPWZ1bmN0aW9uKGIpe2Iub24oXCJzZWxlY3Rpb25DaGVja1wiLGZ1bmN0aW9uKGIpe2IuZGF0YSYmIWUmJmIuZGF0YS5vcHRpbWl6ZUluRWxlbWVudEVuZHMoKTtlPSExfSk7Yi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBjPWIuZWRpdGFibGUoKTtjJiYoYy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5ZG93blwiLGZ1bmN0aW9uKGIpe3RoaXMuXy5zaGlmdFByZXNzZWQ9XG5iLmRhdGEuJC5zaGlmdEtleX0sdGhpcyksYy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5dXBcIixmdW5jdGlvbihiKXt0aGlzLl8uc2hpZnRQcmVzc2VkPWIuZGF0YS4kLnNoaWZ0S2V5fSx0aGlzKSl9KX07Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5wcm90b3R5cGUub3B0aW1pemVJbkVsZW1lbnRFbmRzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRSYW5nZXMoKVswXSxlPXRoaXMucm9vdC5lZGl0b3IsbTtpZih0aGlzLnJvb3QuZWRpdG9yLl8uc2hpZnRQcmVzc2VkfHx0aGlzLmlzRmFrZXx8Yi5pc0NvbGxhcHNlZHx8Yi5zdGFydENvbnRhaW5lci5lcXVhbHMoYi5lbmRDb250YWluZXIpKW09ITE7ZWxzZSBpZigwPT09Yi5lbmRPZmZzZXQpbT0hMDtlbHNle209Yi5zdGFydENvbnRhaW5lci50eXBlPT09Q0tFRElUT1IuTk9ERV9URVhUO3ZhciBsPWIuZW5kQ29udGFpbmVyLnR5cGU9PT1DS0VESVRPUi5OT0RFX1RFWFQsaz1tP2Iuc3RhcnRDb250YWluZXIuZ2V0TGVuZ3RoKCk6Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZENvdW50KCk7XG5tPWIuc3RhcnRPZmZzZXQ9PT1rfHxtXmx9bSYmKG09Yi5jbG9uZSgpLGIuc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhULCExLHtza2lwQm9ndXM6IUNLRURJVE9SLmVudi53ZWJraXR9KSxnPSExLGMoZSxiLG0pLGIuc2VsZWN0KCksZz0hMCl9fSkoKTtDS0VESVRPUi5kb20uY29tbWVudD1mdW5jdGlvbihjLGcpe1wic3RyaW5nXCI9PXR5cGVvZiBjJiYoYz0oZz9nLiQ6ZG9jdW1lbnQpLmNyZWF0ZUNvbW1lbnQoYykpO0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGMpfTtDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9DT01NRU5ULGdldE91dGVySHRtbDpmdW5jdGlvbigpe3JldHVyblwiXFx4M2MhLS1cIit0aGlzLiQubm9kZVZhbHVlK1wiLS1cXHgzZVwifX0pO1widXNlIHN0cmljdFwiOyhmdW5jdGlvbigpe3ZhciBjPVxue30sZz17fSxlO2ZvcihlIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdCllIGluIENLRURJVE9SLmR0ZC4kbGlzdHx8KGNbZV09MSk7Zm9yKGUgaW4gQ0tFRElUT1IuZHRkLiRibG9jayllIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdHx8ZSBpbiBDS0VESVRPUi5kdGQuJGVtcHR5fHwoZ1tlXT0xKTtDS0VESVRPUi5kb20uZWxlbWVudFBhdGg9ZnVuY3Rpb24oYixlKXt2YXIgbT1udWxsLGw9bnVsbCxrPVtdLGQ9YixmO2U9ZXx8Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKTtkfHwoZD1lKTtkbyBpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7ay5wdXNoKGQpO2lmKCF0aGlzLmxhc3RFbGVtZW50JiYodGhpcy5sYXN0RWxlbWVudD1kLGQuaXMoQ0tFRElUT1IuZHRkLiRvYmplY3QpfHxcImZhbHNlXCI9PWQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSljb250aW51ZTtpZihkLmVxdWFscyhlKSlicmVhaztpZighbCYmKGY9ZC5nZXROYW1lKCksXCJ0cnVlXCI9PVxuZC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/bD1kOiFtJiZnW2ZdJiYobT1kKSxjW2ZdKSl7aWYoZj0hbSYmXCJkaXZcIj09Zil7YTp7Zj1kLmdldENoaWxkcmVuKCk7Zm9yKHZhciBhPTAsbj1mLmNvdW50KCk7YTxuO2ErKyl7dmFyIHI9Zi5nZXRJdGVtKGEpO2lmKHIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGJsb2NrW3IuZ2V0TmFtZSgpXSl7Zj0hMDticmVhayBhfX1mPSExfWY9IWZ9Zj9tPWQ6bD1kfX13aGlsZShkPWQuZ2V0UGFyZW50KCkpO2x8fChsPWUpO3RoaXMuYmxvY2s9bTt0aGlzLmJsb2NrTGltaXQ9bDt0aGlzLnJvb3Q9ZTt0aGlzLmVsZW1lbnRzPWt9fSkoKTtDS0VESVRPUi5kb20uZWxlbWVudFBhdGgucHJvdG90eXBlPXtjb21wYXJlOmZ1bmN0aW9uKGMpe3ZhciBnPXRoaXMuZWxlbWVudHM7Yz1jJiZjLmVsZW1lbnRzO2lmKCFjfHxnLmxlbmd0aCE9Yy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTxnLmxlbmd0aDtlKyspaWYoIWdbZV0uZXF1YWxzKGNbZV0pKXJldHVybiExO1xucmV0dXJuITB9LGNvbnRhaW5zOmZ1bmN0aW9uKGMsZyxlKXt2YXIgYj0wLGg7XCJzdHJpbmdcIj09dHlwZW9mIGMmJihoPWZ1bmN0aW9uKGIpe3JldHVybiBiLmdldE5hbWUoKT09Y30pO2MgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudD9oPWZ1bmN0aW9uKGIpe3JldHVybiBiLmVxdWFscyhjKX06Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKT9oPWZ1bmN0aW9uKGIpe3JldHVybi0xPENLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxiLmdldE5hbWUoKSl9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGM/aD1jOlwib2JqZWN0XCI9PXR5cGVvZiBjJiYoaD1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKClpbiBjfSk7dmFyIG09dGhpcy5lbGVtZW50cyxsPW0ubGVuZ3RoO2cmJihlP2IrPTE6LS1sKTtlJiYobT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChtLDApLG0ucmV2ZXJzZSgpKTtmb3IoO2I8bDtiKyspaWYoaChtW2JdKSlyZXR1cm4gbVtiXTtyZXR1cm4gbnVsbH0saXNDb250ZXh0Rm9yOmZ1bmN0aW9uKGMpe3ZhciBnO1xucmV0dXJuIGMgaW4gQ0tFRElUT1IuZHRkLiRibG9jaz8oZz10aGlzLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kaW50ZXJtZWRpYXRlKXx8dGhpcy5yb290LmVxdWFscyh0aGlzLmJsb2NrKSYmdGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0LCEhZy5nZXREdGQoKVtjXSk6ITB9LGRpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybih0aGlzLmJsb2NrfHx0aGlzLmJsb2NrTGltaXR8fHRoaXMucm9vdCkuZ2V0RGlyZWN0aW9uKDEpfX07Q0tFRElUT1IuZG9tLnRleHQ9ZnVuY3Rpb24oYyxnKXtcInN0cmluZ1wiPT10eXBlb2YgYyYmKGM9KGc/Zy4kOmRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShjKSk7dGhpcy4kPWN9O0NLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGU7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWUubGVuZ3RofSxcbmdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5vZGVWYWx1ZX0sc2V0VGV4dDpmdW5jdGlvbihjKXt0aGlzLiQubm9kZVZhbHVlPWN9LGlzRW1wdHk6ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcy5nZXRUZXh0KCk7YyYmKGc9Q0tFRElUT1IudG9vbHMudHJpbShnKSk7cmV0dXJuIWd8fGc9PT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRX0sc3BsaXQ6ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcy4kLnBhcmVudE5vZGUsZT1nLmNoaWxkTm9kZXMubGVuZ3RoLGI9dGhpcy5nZXRMZW5ndGgoKSxoPXRoaXMuZ2V0RG9jdW1lbnQoKSxtPW5ldyBDS0VESVRPUi5kb20udGV4dCh0aGlzLiQuc3BsaXRUZXh0KGMpLGgpO2cuY2hpbGROb2Rlcy5sZW5ndGg9PWUmJihjPj1iPyhtPWguY3JlYXRlVGV4dChcIlwiKSxtLmluc2VydEFmdGVyKHRoaXMpKTooYz1oLmNyZWF0ZVRleHQoXCJcIiksYy5pbnNlcnRBZnRlcihtKSxjLnJlbW92ZSgpKSk7cmV0dXJuIG19LHN1YnN0cmluZzpmdW5jdGlvbihjLFxuZyl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGc/dGhpcy4kLm5vZGVWYWx1ZS5zdWJzdHIoYyk6dGhpcy4kLm5vZGVWYWx1ZS5zdWJzdHJpbmcoYyxnKX19KTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGMsYixoKXt2YXIgZz1jLnNlcmlhbGl6YWJsZSxsPWJbaD9cImVuZENvbnRhaW5lclwiOlwic3RhcnRDb250YWluZXJcIl0saz1oP1wiZW5kT2Zmc2V0XCI6XCJzdGFydE9mZnNldFwiLGQ9Zz9iLmRvY3VtZW50LmdldEJ5SWQoYy5zdGFydE5vZGUpOmMuc3RhcnROb2RlO2M9Zz9iLmRvY3VtZW50LmdldEJ5SWQoYy5lbmROb2RlKTpjLmVuZE5vZGU7bC5lcXVhbHMoZC5nZXRQcmV2aW91cygpKT8oYi5zdGFydE9mZnNldD1iLnN0YXJ0T2Zmc2V0LWwuZ2V0TGVuZ3RoKCktYy5nZXRQcmV2aW91cygpLmdldExlbmd0aCgpLGw9Yy5nZXROZXh0KCkpOmwuZXF1YWxzKGMuZ2V0UHJldmlvdXMoKSkmJihiLnN0YXJ0T2Zmc2V0LT1sLmdldExlbmd0aCgpLGw9Yy5nZXROZXh0KCkpO2wuZXF1YWxzKGQuZ2V0UGFyZW50KCkpJiZcbmJba10rKztsLmVxdWFscyhjLmdldFBhcmVudCgpKSYmYltrXSsrO2JbaD9cImVuZENvbnRhaW5lclwiOlwic3RhcnRDb250YWluZXJcIl09bDtyZXR1cm4gYn1DS0VESVRPUi5kb20ucmFuZ2VMaXN0PWZ1bmN0aW9uKGMpe2lmKGMgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KXJldHVybiBjO2M/YyBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5yYW5nZSYmKGM9W2NdKTpjPVtdO3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoYyxnKX07dmFyIGc9e2NyZWF0ZUl0ZXJhdG9yOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxoPVtdLGc7cmV0dXJue2dldE5leHRSYW5nZTpmdW5jdGlvbihsKXtnPXZvaWQgMD09PWc/MDpnKzE7dmFyIGs9Y1tnXTtpZihrJiYxPGMubGVuZ3RoKXtpZighZylmb3IodmFyIGQ9Yy5sZW5ndGgtMTswPD1kO2QtLSloLnVuc2hpZnQoY1tkXS5jcmVhdGVCb29rbWFyayghMCkpO2lmKGwpZm9yKHZhciBmPVxuMDtjW2crZisxXTspe3ZhciBhPWsuZG9jdW1lbnQ7bD0wO2Q9YS5nZXRCeUlkKGhbZl0uZW5kTm9kZSk7Zm9yKGE9YS5nZXRCeUlkKGhbZisxXS5zdGFydE5vZGUpOzspe2Q9ZC5nZXROZXh0U291cmNlTm9kZSghMSk7aWYoYS5lcXVhbHMoZCkpbD0xO2Vsc2UgaWYoYihkKXx8ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNCbG9ja0JvdW5kYXJ5KCkpY29udGludWU7YnJlYWt9aWYoIWwpYnJlYWs7ZisrfWZvcihrLm1vdmVUb0Jvb2ttYXJrKGguc2hpZnQoKSk7Zi0tOylkPWNbKytnXSxkLm1vdmVUb0Jvb2ttYXJrKGguc2hpZnQoKSksay5zZXRFbmQoZC5lbmRDb250YWluZXIsZC5lbmRPZmZzZXQpfXJldHVybiBrfX19LGNyZWF0ZUJvb2ttYXJrczpmdW5jdGlvbihlKXtmb3IodmFyIGI9W10saCxnPTA7Zzx0aGlzLmxlbmd0aDtnKyspe2IucHVzaChoPXRoaXNbZ10uY3JlYXRlQm9va21hcmsoZSwhMCkpO2Zvcih2YXIgbD1nKzE7bDx0aGlzLmxlbmd0aDtsKyspdGhpc1tsXT1cbmMoaCx0aGlzW2xdKSx0aGlzW2xdPWMoaCx0aGlzW2xdLCEwKX1yZXR1cm4gYn0sY3JlYXRlQm9va21hcmtzMjpmdW5jdGlvbihjKXtmb3IodmFyIGI9W10saD0wO2g8dGhpcy5sZW5ndGg7aCsrKWIucHVzaCh0aGlzW2hdLmNyZWF0ZUJvb2ttYXJrMihjKSk7cmV0dXJuIGJ9LG1vdmVUb0Jvb2ttYXJrczpmdW5jdGlvbihjKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl0aGlzW2JdLm1vdmVUb0Jvb2ttYXJrKGNbYl0pfX19KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKENLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVsxXXx8XCJza2lucy9cIitDS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0rXCIvXCIpfWZ1bmN0aW9uIGcoYil7dmFyIGE9Q0tFRElUT1Iuc2tpbltcInVhX1wiK2JdLGQ9Q0tFRElUT1IuZW52O2lmKGEpZm9yKHZhciBhPWEuc3BsaXQoXCIsXCIpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5iPy0xOjF9KSxlPVxuMCxoO2U8YS5sZW5ndGg7ZSsrKWlmKGg9YVtlXSxkLmllJiYoaC5yZXBsYWNlKC9eaWUvLFwiXCIpPT1kLnZlcnNpb258fGQucXVpcmtzJiZcImllcXVpcmtzXCI9PWgpJiYoaD1cImllXCIpLGRbaF0pe2IrPVwiX1wiK2FbZV07YnJlYWt9cmV0dXJuIENLRURJVE9SLmdldFVybChjKCkrYitcIi5jc3NcIil9ZnVuY3Rpb24gZShiLGEpe21bYl18fChDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KGcoYikpLG1bYl09MSk7YSYmYSgpfWZ1bmN0aW9uIGIoYil7dmFyIGE9Yi5nZXRCeUlkKGwpO2F8fChhPWIuZ2V0SGVhZCgpLmFwcGVuZChcInN0eWxlXCIpLGEuc2V0QXR0cmlidXRlKFwiaWRcIixsKSxhLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHQvY3NzXCIpKTtyZXR1cm4gYX1mdW5jdGlvbiBoKGIsYSxkKXt2YXIgYyxlLGg7aWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoYT1hLnNwbGl0KFwifVwiKS5zbGljZSgwLC0xKSxlPTA7ZTxhLmxlbmd0aDtlKyspYVtlXT1hW2VdLnNwbGl0KFwie1wiKTtmb3IodmFyIGc9XG4wO2c8Yi5sZW5ndGg7ZysrKWlmKENLRURJVE9SLmVudi53ZWJraXQpZm9yKGU9MDtlPGEubGVuZ3RoO2UrKyl7aD1hW2VdWzFdO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspaD1oLnJlcGxhY2UoZFtjXVswXSxkW2NdWzFdKTtiW2ddLiQuc2hlZXQuYWRkUnVsZShhW2VdWzBdLGgpfWVsc2V7aD1hO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspaD1oLnJlcGxhY2UoZFtjXVswXSxkW2NdWzFdKTtDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uP2JbZ10uJC5zdHlsZVNoZWV0LmNzc1RleHQrPWg6YltnXS4kLmlubmVySFRNTCs9aH19dmFyIG09e307Q0tFRElUT1Iuc2tpbj17cGF0aDpjLGxvYWRQYXJ0OmZ1bmN0aW9uKGIsYSl7Q0tFRElUT1Iuc2tpbi5uYW1lIT1DS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0/Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGMoKStcInNraW4uanNcIiksZnVuY3Rpb24oKXtlKGIsYSl9KTplKGIsYSl9LFxuZ2V0UGF0aDpmdW5jdGlvbihiKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGcoYikpfSxpY29uczp7fSxhZGRJY29uOmZ1bmN0aW9uKGIsYSxkLGMpe2I9Yi50b0xvd2VyQ2FzZSgpO3RoaXMuaWNvbnNbYl18fCh0aGlzLmljb25zW2JdPXtwYXRoOmEsb2Zmc2V0OmR8fDAsYmdzaXplOmN8fFwiMTZweFwifSl9LGdldEljb25TdHlsZTpmdW5jdGlvbihiLGEsZCxjLGUpe3ZhciBoO2ImJihiPWIudG9Mb3dlckNhc2UoKSxhJiYoaD10aGlzLmljb25zW2IrXCItcnRsXCJdKSxofHwoaD10aGlzLmljb25zW2JdKSk7Yj1kfHxoJiZoLnBhdGh8fFwiXCI7Yz1jfHxoJiZoLm9mZnNldDtlPWV8fGgmJmguYmdzaXplfHxcIjE2cHhcIjtiJiYoYj1iLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpKTtyZXR1cm4gYiYmXCJiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIrQ0tFRElUT1IuZ2V0VXJsKGIpK1wiJyk7YmFja2dyb3VuZC1wb3NpdGlvbjowIFwiK2MrXCJweDtiYWNrZ3JvdW5kLXNpemU6XCIrZStcIjtcIn19O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLFxue2dldFVpQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aUNvbG9yfSxzZXRVaUNvbG9yOmZ1bmN0aW9uKGMpe3ZhciBhPWIoQ0tFRElUT1IuZG9jdW1lbnQpO3JldHVybih0aGlzLnNldFVpQ29sb3I9ZnVuY3Rpb24oYil7dGhpcy51aUNvbG9yPWI7dmFyIGM9Q0tFRElUT1Iuc2tpbi5jaGFtZWxlb24sZj1cIlwiLGU9XCJcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiYoZj1jKHRoaXMsXCJlZGl0b3JcIiksZT1jKHRoaXMsXCJwYW5lbFwiKSk7Yj1bW2QsYl1dO2goW2FdLGYsYik7aChrLGUsYil9KS5jYWxsKHRoaXMsYyl9fSk7dmFyIGw9XCJja2VfdWlfY29sb3JcIixrPVtdLGQ9L1xcJGNvbG9yL2c7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUxvYWRlZFwiLGZ1bmN0aW9uKGMpe2lmKCFDS0VESVRPUi5lbnYuaWV8fCFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgYT1jLmVkaXRvcjtjPWZ1bmN0aW9uKGMpe2M9KGMuZGF0YVswXXx8Yy5kYXRhKS5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJpZnJhbWVcIikuZ2V0SXRlbSgwKS5nZXRGcmFtZURvY3VtZW50KCk7XG5pZighYy5nZXRCeUlkKFwiY2tlX3VpX2NvbG9yXCIpKXt2YXIgZj1iKGMpO2sucHVzaChmKTthLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7az1DS0VESVRPUi50b29scy5hcnJheS5maWx0ZXIoayxmdW5jdGlvbihhKXtyZXR1cm4gZiE9PWF9KX0pOyhjPWEuZ2V0VWlDb2xvcigpKSYmaChbZl0sQ0tFRElUT1Iuc2tpbi5jaGFtZWxlb24oYSxcInBhbmVsXCIpLFtbZCxjXV0pfX07YS5vbihcInBhbmVsU2hvd1wiLGMpO2Eub24oXCJtZW51U2hvd1wiLGMpO2EuY29uZmlnLnVpQ29sb3ImJmEuc2V0VWlDb2xvcihhLmNvbmZpZy51aUNvbG9yKX19KX0pKCk7KGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5lbnYuaGM9ITE7ZWxzZXt2YXIgYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgc3R5bGVcXHgzZFwid2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMDAwMHB4O2JvcmRlcjoxcHggc29saWQ7Ym9yZGVyLWNvbG9yOnJlZCBibHVlXCJcXHgzZVxceDNjL2RpdlxceDNlJyxcbkNLRURJVE9SLmRvY3VtZW50KTtjLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSk7dHJ5e3ZhciBnPWMuZ2V0Q29tcHV0ZWRTdHlsZShcImJvcmRlci10b3AtY29sb3JcIiksZT1jLmdldENvbXB1dGVkU3R5bGUoXCJib3JkZXItcmlnaHQtY29sb3JcIik7Q0tFRElUT1IuZW52LmhjPSEoIWd8fGchPWUpfWNhdGNoKGIpe0NLRURJVE9SLmVudi5oYz0hMX1jLnJlbW92ZSgpfUNLRURJVE9SLmVudi5oYyYmKENLRURJVE9SLmVudi5jc3NDbGFzcys9XCIgY2tlX2hjXCIpO0NLRURJVE9SLmRvY3VtZW50LmFwcGVuZFN0eWxlVGV4dChcIi5ja2V7dmlzaWJpbGl0eTpoaWRkZW47fVwiKTtDS0VESVRPUi5zdGF0dXM9XCJsb2FkZWRcIjtDS0VESVRPUi5maXJlT25jZShcImxvYWRlZFwiKTtpZihjPUNLRURJVE9SLl8ucGVuZGluZylmb3IoZGVsZXRlIENLRURJVE9SLl8ucGVuZGluZyxnPTA7ZzxjLmxlbmd0aDtnKyspQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseShjW2ddWzBdLFxuY1tnXVsxXSksQ0tFRElUT1IuYWRkKGNbZ11bMF0pfSkoKTtDS0VESVRPUi5za2luLm5hbWU9XCJtb29ub1wiO0NLRURJVE9SLnNraW4udWFfZWRpdG9yPVwiaWUsaWVxdWlya3MsaWU3LGllOCxnZWNrb1wiO0NLRURJVE9SLnNraW4udWFfZGlhbG9nPVwiaWUsaWVxdWlya3MsaWU3LGllOFwiO0NLRURJVE9SLnNraW4uY2hhbWVsZW9uPWZ1bmN0aW9uKCl7dmFyIGM9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtmb3IodmFyIGU9Yi5tYXRjaCgvW14jXS4vZyksZz0wOzM+ZztnKyspe3ZhciBrPWcsZDtkPXBhcnNlSW50KGVbZ10sMTYpO2Q9KFwiMFwiKygwPmM/MHxkKigxK2MpOjB8ZCsoMjU1LWQpKmMpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO2Vba109ZH1yZXR1cm5cIiNcIitlLmpvaW4oXCJcIil9fSgpLGc9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgQ0tFRElUT1IudGVtcGxhdGUoXCJiYWNrZ3JvdW5kOiN7dG99O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSx7ZnJvbX0se3RvfSk7ZmlsdGVyOnByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChncmFkaWVudFR5cGVcXHgzZDAsc3RhcnRDb2xvcnN0clxceDNkJ3tmcm9tfScsZW5kQ29sb3JzdHJcXHgzZCd7dG99Jyk7XCIpO1xucmV0dXJuIGZ1bmN0aW9uKGMsZSl7cmV0dXJuIGIub3V0cHV0KHtmcm9tOmMsdG86ZX0pfX0oKSxlPXtlZGl0b3I6bmV3IENLRURJVE9SLnRlbXBsYXRlKFwie2lkfS5ja2VfY2hyb21lIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3RvcCBbIHtkZWZhdWx0R3JhZGllbnR9Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfYm90dG9tIFt7ZGVmYXVsdEdyYWRpZW50fWJvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3Jlc2l6ZXIgW2JvcmRlci1yaWdodC1jb2xvcjp7Y2tlUmVzaXplcn1dIHtpZH0gLmNrZV9kaWFsb2dfdGl0bGUgW3tkZWZhdWx0R3JhZGllbnR9Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2Zvb3RlciBbe2RlZmF1bHRHcmFkaWVudH1vdXRsaW5lLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiIFt7bGlnaHRHcmFkaWVudH1ib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWI6aG92ZXIgW3ttZWRpdW1HcmFkaWVudH1dIHtpZH0gLmNrZV9kaWFsb2dfY29udGVudHMgW2JvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQsIHtpZH0gLmNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkOmhvdmVyIFtiYWNrZ3JvdW5kOntkaWFsb2dUYWJTZWxlY3RlZH07Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ19ib2R5IFtiYWNrZ3JvdW5kOntkaWFsb2dCb2R5fTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3Rvb2xncm91cCBbe2xpZ2h0R3JhZGllbnR9Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gYS5ja2VfYnV0dG9uX29mZjpob3Zlciwge2lkfSBhLmNrZV9idXR0b25fb2ZmOmZvY3VzLCB7aWR9IGEuY2tlX2J1dHRvbl9vZmY6YWN0aXZlIFt7bWVkaXVtR3JhZGllbnR9XSB7aWR9IC5ja2VfYnV0dG9uX29uIFt7Y2tlQnV0dG9uT259XSB7aWR9IC5ja2VfdG9vbGJhcl9zZXBhcmF0b3IgW2JhY2tncm91bmQtY29sb3I6IHtja2VUb29sYmFyU2VwYXJhdG9yfTtdIHtpZH0gLmNrZV9jb21ib19idXR0b24gW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07e2xpZ2h0R3JhZGllbnR9XSB7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpob3Zlciwge2lkfSBhLmNrZV9jb21ib19idXR0b246Zm9jdXMsIHtpZH0gLmNrZV9jb21ib19vbiBhLmNrZV9jb21ib19idXR0b24gW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07e21lZGl1bUdyYWRpZW50fV0ge2lkfSAuY2tlX3BhdGhfaXRlbSBbY29sb3I6e2VsZW1lbnRzUGF0aENvbG9yfTtdIHtpZH0gYS5ja2VfcGF0aF9pdGVtOmhvdmVyLCB7aWR9IGEuY2tlX3BhdGhfaXRlbTpmb2N1cywge2lkfSBhLmNrZV9wYXRoX2l0ZW06YWN0aXZlIFtiYWNrZ3JvdW5kLWNvbG9yOntlbGVtZW50c1BhdGhCZ307XSB7aWR9LmNrZV9wYW5lbCBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIFwiKSxcbnBhbmVsOm5ldyBDS0VESVRPUi50ZW1wbGF0ZShcIi5ja2VfcGFuZWxfZ3JvdXB0aXRsZSBbe2xpZ2h0R3JhZGllbnR9Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSAuY2tlX21lbnVidXR0b246aG92ZXIgLmNrZV9tZW51YnV0dG9uX2ljb24sIC5ja2VfbWVudWJ1dHRvbjpmb2N1cyAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmFjdGl2ZSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb25Ib3Zlcn07XSAuY2tlX21lbnVzZXBhcmF0b3IgW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIGE6aG92ZXIuY2tlX2NvbG9yYm94LCBhOmZvY3VzLmNrZV9jb2xvcmJveCwgYTphY3RpdmUuY2tlX2NvbG9yYm94IFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gYTpob3Zlci5ja2VfY29sb3JhdXRvLCBhOmhvdmVyLmNrZV9jb2xvcm1vcmUsIGE6Zm9jdXMuY2tlX2NvbG9yYXV0bywgYTpmb2N1cy5ja2VfY29sb3Jtb3JlLCBhOmFjdGl2ZS5ja2VfY29sb3JhdXRvLCBhOmFjdGl2ZS5ja2VfY29sb3Jtb3JlIFtiYWNrZ3JvdW5kLWNvbG9yOntja2VDb2xvcmF1dG99O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBcIil9O1xucmV0dXJuIGZ1bmN0aW9uKGIsaCl7dmFyIG09Yi51aUNvbG9yLG09e2lkOlwiLlwiK2IuaWQsZGVmYXVsdEJvcmRlcjpjKG0sLS4xKSxkZWZhdWx0R3JhZGllbnQ6ZyhjKG0sLjkpLG0pLGxpZ2h0R3JhZGllbnQ6ZyhjKG0sMSksYyhtLC43KSksbWVkaXVtR3JhZGllbnQ6ZyhjKG0sLjgpLGMobSwuNSkpLGNrZUJ1dHRvbk9uOmcoYyhtLC42KSxjKG0sLjcpKSxja2VSZXNpemVyOmMobSwtLjQpLGNrZVRvb2xiYXJTZXBhcmF0b3I6YyhtLC41KSxja2VDb2xvcmF1dG86YyhtLC44KSxkaWFsb2dCb2R5OmMobSwuNyksZGlhbG9nVGFiU2VsZWN0ZWQ6ZyhcIiNGRkZGRkZcIixcIiNGRkZGRkZcIiksZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXI6XCIjRkZGXCIsZWxlbWVudHNQYXRoQ29sb3I6YyhtLC0uNiksZWxlbWVudHNQYXRoQmc6bSxtZW51YnV0dG9uSWNvbjpjKG0sLjUpLG1lbnVidXR0b25JY29uSG92ZXI6YyhtLC4zKX07cmV0dXJuIGVbaF0ub3V0cHV0KG0pLnJlcGxhY2UoL1xcWy9nLFwie1wiKS5yZXBsYWNlKC9cXF0vZyxcblwifVwiKX19KCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJiYXNpY3N0eWxlc1wiLHtpbml0OmZ1bmN0aW9uKGMpe3ZhciBnPTAsZT1mdW5jdGlvbihlLGgsZCxmKXtpZihmKXtmPW5ldyBDS0VESVRPUi5zdHlsZShmKTt2YXIgYT1iW2RdO2EudW5zaGlmdChmKTtjLmF0dGFjaFN0eWxlU3RhdGVDaGFuZ2UoZixmdW5jdGlvbihhKXshYy5yZWFkT25seSYmYy5nZXRDb21tYW5kKGQpLnNldFN0YXRlKGEpfSk7Yy5hZGRDb21tYW5kKGQsbmV3IENLRURJVE9SLnN0eWxlQ29tbWFuZChmLHtjb250ZW50Rm9ybXM6YX0pKTtjLnVpLmFkZEJ1dHRvbiYmYy51aS5hZGRCdXR0b24oZSx7bGFiZWw6aCxjb21tYW5kOmQsdG9vbGJhcjpcImJhc2ljc3R5bGVzLFwiKyhnKz0xMCl9KX19LGI9e2JvbGQ6W1wic3Ryb25nXCIsXCJiXCIsW1wic3BhblwiLGZ1bmN0aW9uKGIpe2I9Yi5zdHlsZXNbXCJmb250LXdlaWdodFwiXTtyZXR1cm5cImJvbGRcIj09Ynx8NzAwPD0rYn1dXSxpdGFsaWM6W1wiZW1cIixcImlcIixbXCJzcGFuXCIsZnVuY3Rpb24oYil7cmV0dXJuXCJpdGFsaWNcIj09XG5iLnN0eWxlc1tcImZvbnQtc3R5bGVcIl19XV0sdW5kZXJsaW5lOltcInVcIixbXCJzcGFuXCIsZnVuY3Rpb24oYil7cmV0dXJuXCJ1bmRlcmxpbmVcIj09Yi5zdHlsZXNbXCJ0ZXh0LWRlY29yYXRpb25cIl19XV0sc3RyaWtlOltcInNcIixcInN0cmlrZVwiLFtcInNwYW5cIixmdW5jdGlvbihiKXtyZXR1cm5cImxpbmUtdGhyb3VnaFwiPT1iLnN0eWxlc1tcInRleHQtZGVjb3JhdGlvblwiXX1dXSxzdWJzY3JpcHQ6W1wic3ViXCJdLHN1cGVyc2NyaXB0OltcInN1cFwiXX0saD1jLmNvbmZpZyxtPWMubGFuZy5iYXNpY3N0eWxlcztlKFwiQm9sZFwiLG0uYm9sZCxcImJvbGRcIixoLmNvcmVTdHlsZXNfYm9sZCk7ZShcIkl0YWxpY1wiLG0uaXRhbGljLFwiaXRhbGljXCIsaC5jb3JlU3R5bGVzX2l0YWxpYyk7ZShcIlVuZGVybGluZVwiLG0udW5kZXJsaW5lLFwidW5kZXJsaW5lXCIsaC5jb3JlU3R5bGVzX3VuZGVybGluZSk7ZShcIlN0cmlrZVwiLG0uc3RyaWtlLFwic3RyaWtlXCIsaC5jb3JlU3R5bGVzX3N0cmlrZSk7ZShcIlN1YnNjcmlwdFwiLG0uc3Vic2NyaXB0LFxuXCJzdWJzY3JpcHRcIixoLmNvcmVTdHlsZXNfc3Vic2NyaXB0KTtlKFwiU3VwZXJzY3JpcHRcIixtLnN1cGVyc2NyaXB0LFwic3VwZXJzY3JpcHRcIixoLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQpO2Muc2V0S2V5c3Ryb2tlKFtbQ0tFRElUT1IuQ1RSTCs2NixcImJvbGRcIl0sW0NLRURJVE9SLkNUUkwrNzMsXCJpdGFsaWNcIl0sW0NLRURJVE9SLkNUUkwrODUsXCJ1bmRlcmxpbmVcIl1dKX19KTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19ib2xkPXtlbGVtZW50Olwic3Ryb25nXCIsb3ZlcnJpZGVzOlwiYlwifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19pdGFsaWM9e2VsZW1lbnQ6XCJlbVwiLG92ZXJyaWRlczpcImlcIn07Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfdW5kZXJsaW5lPXtlbGVtZW50OlwidVwifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdHJpa2U9e2VsZW1lbnQ6XCJzXCIsb3ZlcnJpZGVzOlwic3RyaWtlXCJ9O0NLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N1YnNjcmlwdD17ZWxlbWVudDpcInN1YlwifTtcbkNLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N1cGVyc2NyaXB0PXtlbGVtZW50Olwic3VwXCJ9OyhmdW5jdGlvbigpe3ZhciBjPXtleGVjOmZ1bmN0aW9uKGMpe3ZhciBlPWMuZ2V0Q29tbWFuZChcImJsb2NrcXVvdGVcIikuc3RhdGUsYj1jLmdldFNlbGVjdGlvbigpLGg9YiYmYi5nZXRSYW5nZXMoKVswXTtpZihoKXt2YXIgbT1iLmNyZWF0ZUJvb2ttYXJrcygpO2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGw9bVswXS5zdGFydE5vZGUsaz1tWzBdLmVuZE5vZGUsZDtpZihsJiZcImJsb2NrcXVvdGVcIj09bC5nZXRQYXJlbnQoKS5nZXROYW1lKCkpZm9yKGQ9bDtkPWQuZ2V0TmV4dCgpOylpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc0Jsb2NrQm91bmRhcnkoKSl7bC5tb3ZlKGQsITApO2JyZWFrfWlmKGsmJlwiYmxvY2txdW90ZVwiPT1rLmdldFBhcmVudCgpLmdldE5hbWUoKSlmb3IoZD1rO2Q9ZC5nZXRQcmV2aW91cygpOylpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG5kLmlzQmxvY2tCb3VuZGFyeSgpKXtrLm1vdmUoZCk7YnJlYWt9fXZhciBmPWguY3JlYXRlSXRlcmF0b3IoKTtmLmVubGFyZ2VCcj1jLmNvbmZpZy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2lmKGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7Zm9yKGw9W107ZT1mLmdldE5leHRQYXJhZ3JhcGgoKTspbC5wdXNoKGUpOzE+bC5sZW5ndGgmJihlPWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIiksaz1tLnNoaWZ0KCksaC5pbnNlcnROb2RlKGUpLGUuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChcIu+7v1wiLGMuZG9jdW1lbnQpKSxoLm1vdmVUb0Jvb2ttYXJrKGspLGguc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLGguY29sbGFwc2UoITApLGs9aC5jcmVhdGVCb29rbWFyaygpLGwucHVzaChlKSxtLnVuc2hpZnQoaykpO2Q9bFswXS5nZXRQYXJlbnQoKTtoPVtdO2ZvcihrPTA7azxsLmxlbmd0aDtrKyspZT1cbmxba10sZD1kLmdldENvbW1vbkFuY2VzdG9yKGUuZ2V0UGFyZW50KCkpO2ZvcihlPXt0YWJsZToxLHRib2R5OjEsdHI6MSxvbDoxLHVsOjF9O2VbZC5nZXROYW1lKCldOylkPWQuZ2V0UGFyZW50KCk7Zm9yKGs9bnVsbDswPGwubGVuZ3RoOyl7Zm9yKGU9bC5zaGlmdCgpOyFlLmdldFBhcmVudCgpLmVxdWFscyhkKTspZT1lLmdldFBhcmVudCgpO2UuZXF1YWxzKGspfHxoLnB1c2goZSk7az1lfWZvcig7MDxoLmxlbmd0aDspaWYoZT1oLnNoaWZ0KCksXCJibG9ja3F1b3RlXCI9PWUuZ2V0TmFtZSgpKXtmb3Ioaz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYy5kb2N1bWVudCk7ZS5nZXRGaXJzdCgpOylrLmFwcGVuZChlLmdldEZpcnN0KCkucmVtb3ZlKCkpLGwucHVzaChrLmdldExhc3QoKSk7ay5yZXBsYWNlKGUpfWVsc2UgbC5wdXNoKGUpO2g9Yy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYmxvY2txdW90ZVwiKTtmb3IoaC5pbnNlcnRCZWZvcmUobFswXSk7MDxsLmxlbmd0aDspZT1cbmwuc2hpZnQoKSxoLmFwcGVuZChlKX1lbHNlIGlmKGU9PUNLRURJVE9SLlRSSVNUQVRFX09OKXtrPVtdO2ZvcihkPXt9O2U9Zi5nZXROZXh0UGFyYWdyYXBoKCk7KXtmb3IobD1oPW51bGw7ZS5nZXRQYXJlbnQoKTspe2lmKFwiYmxvY2txdW90ZVwiPT1lLmdldFBhcmVudCgpLmdldE5hbWUoKSl7aD1lLmdldFBhcmVudCgpO2w9ZTticmVha31lPWUuZ2V0UGFyZW50KCl9aCYmbCYmIWwuZ2V0Q3VzdG9tRGF0YShcImJsb2NrcXVvdGVfbW92ZW91dFwiKSYmKGsucHVzaChsKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZCxsLFwiYmxvY2txdW90ZV9tb3Zlb3V0XCIsITApKX1DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoZCk7ZT1bXTtsPVtdO2ZvcihkPXt9OzA8ay5sZW5ndGg7KWY9ay5zaGlmdCgpLGg9Zi5nZXRQYXJlbnQoKSxmLmdldFByZXZpb3VzKCk/Zi5nZXROZXh0KCk/KGYuYnJlYWtQYXJlbnQoZi5nZXRQYXJlbnQoKSksbC5wdXNoKGYuZ2V0TmV4dCgpKSk6XG5mLnJlbW92ZSgpLmluc2VydEFmdGVyKGgpOmYucmVtb3ZlKCkuaW5zZXJ0QmVmb3JlKGgpLGguZ2V0Q3VzdG9tRGF0YShcImJsb2NrcXVvdGVfcHJvY2Vzc2VkXCIpfHwobC5wdXNoKGgpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihkLGgsXCJibG9ja3F1b3RlX3Byb2Nlc3NlZFwiLCEwKSksZS5wdXNoKGYpO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhkKTtmb3Ioaz1sLmxlbmd0aC0xOzA8PWs7ay0tKXtoPWxba107YTp7ZD1oO2Zvcih2YXIgZj0wLGE9ZC5nZXRDaGlsZENvdW50KCksbj12b2lkIDA7ZjxhJiYobj1kLmdldENoaWxkKGYpKTtmKyspaWYobi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJm4uaXNCbG9ja0JvdW5kYXJ5KCkpe2Q9ITE7YnJlYWsgYX1kPSEwfWQmJmgucmVtb3ZlKCl9aWYoYy5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUilmb3IoaD0hMDtlLmxlbmd0aDspaWYoZj1lLnNoaWZ0KCksXCJkaXZcIj09Zi5nZXROYW1lKCkpe2s9XG5uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYy5kb2N1bWVudCk7IWh8fCFmLmdldFByZXZpb3VzKCl8fGYuZ2V0UHJldmlvdXMoKS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuZ2V0UHJldmlvdXMoKS5pc0Jsb2NrQm91bmRhcnkoKXx8ay5hcHBlbmQoYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO2ZvcihoPWYuZ2V0TmV4dCgpJiYhKGYuZ2V0TmV4dCgpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5nZXROZXh0KCkuaXNCbG9ja0JvdW5kYXJ5KCkpO2YuZ2V0Rmlyc3QoKTspZi5nZXRGaXJzdCgpLnJlbW92ZSgpLmFwcGVuZFRvKGspO2gmJmsuYXBwZW5kKGMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtrLnJlcGxhY2UoZik7aD0hMX19Yi5zZWxlY3RCb29rbWFya3MobSk7Yy5mb2N1cygpfX0scmVmcmVzaDpmdW5jdGlvbihjLGUpe3RoaXMuc2V0U3RhdGUoYy5lbGVtZW50UGF0aChlLmJsb2NrfHxlLmJsb2NrTGltaXQpLmNvbnRhaW5zKFwiYmxvY2txdW90ZVwiLFxuMSk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sY29udGV4dDpcImJsb2NrcXVvdGVcIixhbGxvd2VkQ29udGVudDpcImJsb2NrcXVvdGVcIixyZXF1aXJlZENvbnRlbnQ6XCJibG9ja3F1b3RlXCJ9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYmxvY2txdW90ZVwiLHtpbml0OmZ1bmN0aW9uKGcpe2cuYmxvY2tsZXNzfHwoZy5hZGRDb21tYW5kKFwiYmxvY2txdW90ZVwiLGMpLGcudWkuYWRkQnV0dG9uJiZnLnVpLmFkZEJ1dHRvbihcIkJsb2NrcXVvdGVcIix7bGFiZWw6Zy5sYW5nLmJsb2NrcXVvdGUudG9vbGJhcixjb21tYW5kOlwiYmxvY2txdW90ZVwiLHRvb2xiYXI6XCJibG9ja3MsMTBcIn0pKX19KX0pKCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJkaWFsb2d1aVwiLHtvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihiKXt0aGlzLl98fCh0aGlzLl89e30pO3RoaXMuX1tcImRlZmF1bHRcIl09dGhpcy5fLmluaXRWYWx1ZT1iW1wiZGVmYXVsdFwiXXx8XCJcIjt0aGlzLl8ucmVxdWlyZWQ9XG5iLnJlcXVpcmVkfHwhMTtmb3IodmFyIGM9W3RoaXMuX10sYT0xO2E8YXJndW1lbnRzLmxlbmd0aDthKyspYy5wdXNoKGFyZ3VtZW50c1thXSk7Yy5wdXNoKCEwKTtDS0VESVRPUi50b29scy5leHRlbmQuYXBwbHkoQ0tFRElUT1IudG9vbHMsYyk7cmV0dXJuIHRoaXMuX30sZz17YnVpbGQ6ZnVuY3Rpb24oYixjLGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dChiLGMsYSl9fSxlPXtidWlsZDpmdW5jdGlvbihiLGMsYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYy50eXBlXShiLGMsYSl9fSxiPXtpc0NoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpIT10aGlzLmdldEluaXRWYWx1ZSgpfSxyZXNldDpmdW5jdGlvbihiKXt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0SW5pdFZhbHVlKCksYil9LHNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9dGhpcy5nZXRWYWx1ZSgpfSxyZXNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9XG50aGlzLl9bXCJkZWZhdWx0XCJdfSxnZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmluaXRWYWx1ZX19LGg9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmV2ZW50UHJvY2Vzc29ycyx7b25DaGFuZ2U6ZnVuY3Rpb24oYixjKXt0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkfHwoYi5vbihcImxvYWRcIixmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2IucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRWYWx1ZSgpfSl9LHRoaXMpfSx0aGlzKSx0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkPSEwKTt0aGlzLm9uKFwiY2hhbmdlXCIsYyl9fSwhMCksbT0vXm9uKFtBLVpdXFx3KykvLGw9ZnVuY3Rpb24oYil7Zm9yKHZhciBjIGluIGIpKG0udGVzdChjKXx8XCJ0aXRsZVwiPT1jfHxcInR5cGVcIj09YykmJlxuZGVsZXRlIGJbY107cmV0dXJuIGJ9LGs9ZnVuY3Rpb24oYil7Yj1iLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7Yj09Q0tFRElUT1IuU0hJRlQrQ0tFRElUT1IuQUxUKzM2P3RoaXMuc2V0RGlyZWN0aW9uTWFya2VyKFwibHRyXCIpOmI9PUNLRURJVE9SLlNISUZUK0NLRURJVE9SLkFMVCszNSYmdGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoXCJydGxcIil9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi51aS5kaWFsb2cse2xhYmVsZWRFbGVtZW50OmZ1bmN0aW9uKGIsZixhLGUpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGg9Yy5jYWxsKHRoaXMsZik7aC5sYWJlbElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2xhYmVsXCI7dGhpcy5fLmNoaWxkcmVuPVtdO3ZhciBnPXtyb2xlOmYucm9sZXx8XCJwcmVzZW50YXRpb25cIn07Zi5pbmNsdWRlTGFiZWwmJihnW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPWgubGFiZWxJZCk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsXG5iLGYsYSxcImRpdlwiLG51bGwsZyxmdW5jdGlvbigpe3ZhciBhPVtdLGM9Zi5yZXF1aXJlZD9cIiBja2VfcmVxdWlyZWRcIjpcIlwiO1wiaG9yaXpvbnRhbFwiIT1mLmxhYmVsTGF5b3V0P2EucHVzaCgnXFx4M2NsYWJlbCBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2MrJ1wiICcsJyBpZFxceDNkXCInK2gubGFiZWxJZCsnXCInLGguaW5wdXRJZD8nIGZvclxceDNkXCInK2guaW5wdXRJZCsnXCInOlwiXCIsKGYubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrZi5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiLGYubGFiZWwsXCJcXHgzYy9sYWJlbFxceDNlXCIsJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9jb250ZW50XCInLGYuY29udHJvbFN0eWxlPycgc3R5bGVcXHgzZFwiJytmLmNvbnRyb2xTdHlsZSsnXCInOlwiXCIsJyByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnLGUuY2FsbCh0aGlzLGIsZiksXCJcXHgzYy9kaXZcXHgzZVwiKTooYz17dHlwZTpcImhib3hcIix3aWR0aHM6Zi53aWR0aHMsXG5wYWRkaW5nOjAsY2hpbGRyZW46W3t0eXBlOlwiaHRtbFwiLGh0bWw6J1xceDNjbGFiZWwgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2xhYmVsJytjKydcIiBpZFxceDNkXCInK2gubGFiZWxJZCsnXCIgZm9yXFx4M2RcIicraC5pbnB1dElkKydcIicrKGYubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrZi5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZi5sYWJlbCkrXCJcXHgzYy9sYWJlbFxceDNlXCJ9LHt0eXBlOlwiaHRtbFwiLGh0bWw6J1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfY29udGVudFwiJysoZi5jb250cm9sU3R5bGU/JyBzdHlsZVxceDNkXCInK2YuY29udHJvbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiK2UuY2FsbCh0aGlzLGIsZikrXCJcXHgzYy9zcGFuXFx4M2VcIn1dfSxDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKGIsYyxhKSk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sdGV4dElucHV0OmZ1bmN0aW9uKGIsXG5mLGEpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7Yy5jYWxsKHRoaXMsZik7dmFyIGU9dGhpcy5fLmlucHV0SWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfdGV4dElucHV0XCIsaD17XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9pbnB1dF9cIitmLnR5cGUsaWQ6ZSx0eXBlOmYudHlwZX07Zi52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Zi52YWxpZGF0ZSk7Zi5tYXhMZW5ndGgmJihoLm1heGxlbmd0aD1mLm1heExlbmd0aCk7Zi5zaXplJiYoaC5zaXplPWYuc2l6ZSk7Zi5pbnB1dFN0eWxlJiYoaC5zdHlsZT1mLmlucHV0U3R5bGUpO3ZhciBnPXRoaXMsbD0hMTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Zy5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXsxMz09YS5kYXRhLmdldEtleXN0cm9rZSgpJiYobD0hMCl9KTtnLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5dXBcIixmdW5jdGlvbihhKXsxMz09YS5kYXRhLmdldEtleXN0cm9rZSgpJiZsJiYoYi5nZXRCdXR0b24oXCJva1wiKSYmXG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5nZXRCdXR0b24oXCJva1wiKS5jbGljaygpfSwwKSxsPSExKTtnLmJpZGkmJmsuY2FsbChnLGEpfSxudWxsLG51bGwsMUUzKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixmLGEsZnVuY3Rpb24oKXt2YXIgYT1bJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfJyxmLnR5cGUsJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCInXTtmLndpZHRoJiZhLnB1c2goJ3N0eWxlXFx4M2RcIndpZHRoOicrZi53aWR0aCsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcXHgzY2lucHV0IFwiKTtoW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPXRoaXMuXy5sYWJlbElkO3RoaXMuXy5yZXF1aXJlZCYmKGhbXCJhcmlhLXJlcXVpcmVkXCJdPXRoaXMuXy5yZXF1aXJlZCk7Zm9yKHZhciBiIGluIGgpYS5wdXNoKGIrJ1xceDNkXCInK2hbYl0rJ1wiICcpO2EucHVzaChcIiAvXFx4M2VcXHgzYy9kaXZcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSx0ZXh0YXJlYTpmdW5jdGlvbihiLFxuZixhKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2MuY2FsbCh0aGlzLGYpO3ZhciBlPXRoaXMsaD10aGlzLl8uaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl90ZXh0YXJlYVwiLGc9e307Zi52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Zi52YWxpZGF0ZSk7Zy5yb3dzPWYucm93c3x8NTtnLmNvbHM9Zi5jb2xzfHwyMDtnW1wiY2xhc3NcIl09XCJja2VfZGlhbG9nX3VpX2lucHV0X3RleHRhcmVhIFwiKyhmW1wiY2xhc3NcIl18fFwiXCIpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBmLmlucHV0U3R5bGUmJihnLnN0eWxlPWYuaW5wdXRTdHlsZSk7Zi5kaXImJihnLmRpcj1mLmRpcik7aWYoZS5iaWRpKWIub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtlLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5dXBcIixrKX0sZSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGYsYSxmdW5jdGlvbigpe2dbXCJhcmlhLWxhYmVsbGVkYnlcIl09dGhpcy5fLmxhYmVsSWQ7dGhpcy5fLnJlcXVpcmVkJiZcbihnW1wiYXJpYS1yZXF1aXJlZFwiXT10aGlzLl8ucmVxdWlyZWQpO3ZhciBhPVsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF90ZXh0YXJlYVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjdGV4dGFyZWEgaWRcXHgzZFwiJyxoLCdcIiAnXSxiO2ZvcihiIGluIGcpYS5wdXNoKGIrJ1xceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZ1tiXSkrJ1wiICcpO2EucHVzaChcIlxceDNlXCIsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlLl9bXCJkZWZhdWx0XCJdKSxcIlxceDNjL3RleHRhcmVhXFx4M2VcXHgzYy9kaXZcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSxjaGVja2JveDpmdW5jdGlvbihiLGYsYSl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZT1jLmNhbGwodGhpcyxmLHtcImRlZmF1bHRcIjohIWZbXCJkZWZhdWx0XCJdfSk7Zi52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Zi52YWxpZGF0ZSk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsXG5iLGYsYSxcInNwYW5cIixudWxsLG51bGwsZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQoe30sZix7aWQ6Zi5pZD9mLmlkK1wiX2NoZWNrYm94XCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfY2hlY2tib3hcIn0sITApLGM9W10saD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9sYWJlbFwiLGc9e1wiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfY2hlY2tib3hfaW5wdXRcIix0eXBlOlwiY2hlY2tib3hcIixcImFyaWEtbGFiZWxsZWRieVwiOmh9O2woYSk7ZltcImRlZmF1bHRcIl0mJihnLmNoZWNrZWQ9XCJjaGVja2VkXCIpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBhLmlucHV0U3R5bGUmJihhLnN0eWxlPWEuaW5wdXRTdHlsZSk7ZS5jaGVja2JveD1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGEsYyxcImlucHV0XCIsbnVsbCxnKTtjLnB1c2goJyBcXHgzY2xhYmVsIGlkXFx4M2RcIicsaCwnXCIgZm9yXFx4M2RcIicsZy5pZCwnXCInKyhmLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK1xuZi5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZi5sYWJlbCksXCJcXHgzYy9sYWJlbFxceDNlXCIpO3JldHVybiBjLmpvaW4oXCJcIil9KX19LHJhZGlvOmZ1bmN0aW9uKGIsZixhKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2MuY2FsbCh0aGlzLGYpO3RoaXMuX1tcImRlZmF1bHRcIl18fCh0aGlzLl9bXCJkZWZhdWx0XCJdPXRoaXMuXy5pbml0VmFsdWU9Zi5pdGVtc1swXVsxXSk7Zi52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Zi52YWxpZGF0ZSk7dmFyIGU9W10saD10aGlzO2Yucm9sZT1cInJhZGlvZ3JvdXBcIjtmLmluY2x1ZGVMYWJlbD0hMDtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsZixhLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGM9W10sZz0oZi5pZD9mLmlkOkNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpKStcIl9yYWRpb1wiLGs9MDtrPGYuaXRlbXMubGVuZ3RoO2srKyl7dmFyIG09Zi5pdGVtc1trXSxcbnQ9dm9pZCAwIT09bVsyXT9tWzJdOm1bMF0sQj12b2lkIDAhPT1tWzFdP21bMV06bVswXSx3PUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3JhZGlvX2lucHV0XCIsdj13K1wiX2xhYmVsXCIsdz1DS0VESVRPUi50b29scy5leHRlbmQoe30sZix7aWQ6dyx0aXRsZTpudWxsLHR5cGU6bnVsbH0sITApLHQ9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHcse3RpdGxlOnR9LCEwKSxGPXt0eXBlOlwicmFkaW9cIixcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX3JhZGlvX2lucHV0XCIsbmFtZTpnLHZhbHVlOkIsXCJhcmlhLWxhYmVsbGVkYnlcIjp2fSx5PVtdO2guX1tcImRlZmF1bHRcIl09PUImJihGLmNoZWNrZWQ9XCJjaGVja2VkXCIpO2wodyk7bCh0KTtcInVuZGVmaW5lZFwiIT10eXBlb2Ygdy5pbnB1dFN0eWxlJiYody5zdHlsZT13LmlucHV0U3R5bGUpO3cua2V5Ym9hcmRGb2N1c2FibGU9ITA7ZS5wdXNoKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIsdyx5LFwiaW5wdXRcIixudWxsLEYpKTt5LnB1c2goXCIgXCIpO1xubmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYix0LHksXCJsYWJlbFwiLG51bGwse2lkOnYsXCJmb3JcIjpGLmlkfSxtWzBdKTthLnB1c2goeS5qb2luKFwiXCIpKX1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLmhib3goYixlLGEsYyk7cmV0dXJuIGMuam9pbihcIlwiKX0pO3RoaXMuXy5jaGlsZHJlbj1lfX0sYnV0dG9uOmZ1bmN0aW9uKGIsZixhKXtpZihhcmd1bWVudHMubGVuZ3RoKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBmJiYoZj1mKGIuZ2V0UGFyZW50RWRpdG9yKCkpKTtjLmNhbGwodGhpcyxmLHtkaXNhYmxlZDpmLmRpc2FibGVkfHwhMX0pO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKHRoaXMpO3ZhciBlPXRoaXM7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpOyhmdW5jdGlvbigpe2Eub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2UuY2xpY2soKTthLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpaW5cbnszMjoxfSYmKGUuY2xpY2soKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9KX0pKCk7YS51bnNlbGVjdGFibGUoKX0sdGhpcyk7dmFyIGg9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGYpO2RlbGV0ZSBoLnN0eWxlO3ZhciBnPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2xhYmVsXCI7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixoLGEsXCJhXCIsbnVsbCx7c3R5bGU6Zi5zdHlsZSxocmVmOlwiamF2YXNjcmlwdDp2b2lkKDApXCIsdGl0bGU6Zi5sYWJlbCxoaWRlZm9jdXM6XCJ0cnVlXCIsXCJjbGFzc1wiOmZbXCJjbGFzc1wiXSxyb2xlOlwiYnV0dG9uXCIsXCJhcmlhLWxhYmVsbGVkYnlcIjpnfSwnXFx4M2NzcGFuIGlkXFx4M2RcIicrZysnXCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9idXR0b25cIlxceDNlJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGYubGFiZWwpK1wiXFx4M2Mvc3BhblxceDNlXCIpfX0sc2VsZWN0OmZ1bmN0aW9uKGIsZixhKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBlPVxuYy5jYWxsKHRoaXMsZik7Zi52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Zi52YWxpZGF0ZSk7ZS5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3NlbGVjdFwiO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixmLGEsZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQoe30sZix7aWQ6Zi5pZD9mLmlkK1wiX3NlbGVjdFwiOkNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3NlbGVjdFwifSwhMCksYz1bXSxoPVtdLGc9e2lkOmUuaW5wdXRJZCxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2lucHV0X3NlbGVjdFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6dGhpcy5fLmxhYmVsSWR9O2MucHVzaCgnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF8nLGYudHlwZSwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIicpO2Yud2lkdGgmJmMucHVzaCgnc3R5bGVcXHgzZFwid2lkdGg6JytmLndpZHRoKydcIiAnKTtjLnB1c2goXCJcXHgzZVwiKTtcbnZvaWQgMCE9PWYuc2l6ZSYmKGcuc2l6ZT1mLnNpemUpO3ZvaWQgMCE9PWYubXVsdGlwbGUmJihnLm11bHRpcGxlPWYubXVsdGlwbGUpO2woYSk7Zm9yKHZhciBrPTAsbTtrPGYuaXRlbXMubGVuZ3RoJiYobT1mLml0ZW1zW2tdKTtrKyspaC5wdXNoKCdcXHgzY29wdGlvbiB2YWx1ZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUodm9pZCAwIT09bVsxXT9tWzFdOm1bMF0pLnJlcGxhY2UoL1wiL2csXCJcXHgyNnF1b3Q7XCIpLCdcIiAvXFx4M2UgJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKG1bMF0pKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5pbnB1dFN0eWxlJiYoYS5zdHlsZT1hLmlucHV0U3R5bGUpO2Uuc2VsZWN0PW5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIsYSxjLFwic2VsZWN0XCIsbnVsbCxnLGguam9pbihcIlwiKSk7Yy5wdXNoKFwiXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGMuam9pbihcIlwiKX0pfX0sZmlsZTpmdW5jdGlvbihiLGYsYSl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2b2lkIDA9PT1cbmZbXCJkZWZhdWx0XCJdJiYoZltcImRlZmF1bHRcIl09XCJcIik7dmFyIGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGMuY2FsbCh0aGlzLGYpLHtkZWZpbml0aW9uOmYsYnV0dG9uczpbXX0pO2YudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWYudmFsaWRhdGUpO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGUuZnJhbWVJZCkuZ2V0UGFyZW50KCkuYWRkQ2xhc3MoXCJja2VfZGlhbG9nX3VpX2lucHV0X2ZpbGVcIil9KTtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsZixhLGZ1bmN0aW9uKCl7ZS5mcmFtZUlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2ZpbGVJbnB1dFwiO3ZhciBhPVsnXFx4M2NpZnJhbWUgZnJhbWVib3JkZXJcXHgzZFwiMFwiIGFsbG93dHJhbnNwYXJlbmN5XFx4M2RcIjBcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0X2ZpbGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGlkXFx4M2RcIicsZS5mcmFtZUlkLFxuJ1wiIHRpdGxlXFx4M2RcIicsZi5sYWJlbCwnXCIgc3JjXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgnXTthLnB1c2goQ0tFRElUT1IuZW52LmllP1wiKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KSgpXCI6XCIwXCIpO2EucHVzaCgnKVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LGZpbGVCdXR0b246ZnVuY3Rpb24oYixmLGEpe3ZhciBlPXRoaXM7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXtjLmNhbGwodGhpcyxmKTtmLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1mLnZhbGlkYXRlKTt2YXIgaD1DS0VESVRPUi50b29scy5leHRlbmQoe30sZiksZz1oLm9uQ2xpY2s7aC5jbGFzc05hbWU9KGguY2xhc3NOYW1lP2guY2xhc3NOYW1lK1wiIFwiOlwiXCIpK1wiY2tlX2RpYWxvZ191aV9idXR0b25cIjtoLm9uQ2xpY2s9ZnVuY3Rpb24oYSl7dmFyIGM9XG5mW1wiZm9yXCJdO2E9Zz9nLmNhbGwodGhpcyxhKTohMTshMSE9PWEmJihcInhoclwiIT09YSYmYi5nZXRDb250ZW50RWxlbWVudChjWzBdLGNbMV0pLnN1Ym1pdCgpLHRoaXMuZGlzYWJsZSgpKX07Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe2IuZ2V0Q29udGVudEVsZW1lbnQoZltcImZvclwiXVswXSxmW1wiZm9yXCJdWzFdKS5fLmJ1dHRvbnMucHVzaChlKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24uY2FsbCh0aGlzLGIsaCxhKX19LGh0bWw6ZnVuY3Rpb24oKXt2YXIgYj0vXlxccyo8W1xcdzpdK1xccysoW14+XSopPz4vLGM9L14oXFxzKjxbXFx3Ol0rKD86XFxzK1tePl0qKT8pKCg/Oi58XFxyfFxcbikrKSQvLGE9L1xcLyQvO3JldHVybiBmdW5jdGlvbihlLGgsZyl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgaz1bXSxsPWguaHRtbDtcIlxceDNjXCIhPWwuY2hhckF0KDApJiYobD1cIlxceDNjc3BhblxceDNlXCIrbCtcIlxceDNjL3NwYW5cXHgzZVwiKTt2YXIgbT1oLmZvY3VzO2lmKG0pe3ZhciB6PXRoaXMuZm9jdXM7XG50aGlzLmZvY3VzPWZ1bmN0aW9uKCl7KFwiZnVuY3Rpb25cIj09dHlwZW9mIG0/bTp6KS5jYWxsKHRoaXMpO3RoaXMuZmlyZShcImZvY3VzXCIpfTtoLmlzRm9jdXNhYmxlJiYodGhpcy5pc0ZvY3VzYWJsZT10aGlzLmlzRm9jdXNhYmxlKTt0aGlzLmtleWJvYXJkRm9jdXNhYmxlPSEwfUNLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGUsaCxrLFwic3BhblwiLG51bGwsbnVsbCxcIlwiKTtrPWsuam9pbihcIlwiKS5tYXRjaChiKTtsPWwubWF0Y2goYyl8fFtcIlwiLFwiXCIsXCJcIl07YS50ZXN0KGxbMV0pJiYobFsxXT1sWzFdLnNsaWNlKDAsLTEpLGxbMl09XCIvXCIrbFsyXSk7Zy5wdXNoKFtsWzFdLFwiIFwiLGtbMV18fFwiXCIsbFsyXV0uam9pbihcIlwiKSl9fX0oKSxmaWVsZHNldDpmdW5jdGlvbihiLGMsYSxlLGgpe3ZhciBnPWgubGFiZWw7dGhpcy5fPXtjaGlsZHJlbjpjfTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGgsZSxcImZpZWxkc2V0XCIsbnVsbCxudWxsLGZ1bmN0aW9uKCl7dmFyIGI9XG5bXTtnJiZiLnB1c2goXCJcXHgzY2xlZ2VuZFwiKyhoLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2gubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIitnK1wiXFx4M2MvbGVnZW5kXFx4M2VcIik7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspYi5wdXNoKGFbZF0pO3JldHVybiBiLmpvaW4oXCJcIil9KX19LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuaHRtbC5wcm90b3R5cGU9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQ7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse3NldExhYmVsOmZ1bmN0aW9uKGIpe3ZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmxhYmVsSWQpOzE+Yy5nZXRDaGlsZENvdW50KCk/KG5ldyBDS0VESVRPUi5kb20udGV4dChiLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8oYyk6Yy5nZXRDaGlsZCgwKS4kLm5vZGVWYWx1ZT1cbmI7cmV0dXJuIHRoaXN9LGdldExhYmVsOmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7cmV0dXJuIWJ8fDE+Yi5nZXRDaGlsZENvdW50KCk/XCJcIjpiLmdldENoaWxkKDApLmdldFRleHQoKX0sZXZlbnRQcm9jZXNzb3JzOmh9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2NsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5kaXNhYmxlZD8hMTp0aGlzLmZpcmUoXCJjbGlja1wiLHtkaWFsb2c6dGhpcy5fLmRpYWxvZ30pfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl8uZGlzYWJsZWQ9ITE7dmFyIGI9dGhpcy5nZXRFbGVtZW50KCk7YiYmYi5yZW1vdmVDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMDt0aGlzLmdldEVsZW1lbnQoKS5hZGRDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0sXG5pc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKS5pc1Zpc2libGUoKX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuXy5kaXNhYmxlZH0sZXZlbnRQcm9jZXNzb3JzOkNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5ldmVudFByb2Nlc3NvcnMse29uQ2xpY2s6ZnVuY3Rpb24oYixjKXt0aGlzLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9fSwhMCksYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLmNsaWNrKCl9LGFjY2Vzc0tleURvd246ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCl9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pbnB1dElkKX0sXG5mb2N1czpmdW5jdGlvbigpe3ZhciBiPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBjPWIuZ2V0SW5wdXRFbGVtZW50KCk7YyYmYy4kLmZvY3VzKCl9LDApfSxzZWxlY3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnNlbGVjdFBhcmVudFRhYigpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYz1iLmdldElucHV0RWxlbWVudCgpO2MmJihjLiQuZm9jdXMoKSxjLiQuc2VsZWN0KCkpfSwwKX0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdCgpfSxzZXRWYWx1ZTpmdW5jdGlvbihiKXtpZih0aGlzLmJpZGkpe3ZhciBjPWImJmIuY2hhckF0KDApOyhjPVwi4oCqXCI9PWM/XCJsdHJcIjpcIuKAq1wiPT1jP1wicnRsXCI6bnVsbCkmJihiPWIuc2xpY2UoMSkpO3RoaXMuc2V0RGlyZWN0aW9uTWFya2VyKGMpfWJ8fChiPVwiXCIpO3JldHVybiBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5zZXRWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LFxuZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYj1DS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5nZXRWYWx1ZS5jYWxsKHRoaXMpO2lmKHRoaXMuYmlkaSYmYil7dmFyIGM9dGhpcy5nZXREaXJlY3Rpb25NYXJrZXIoKTtjJiYoYj0oXCJsdHJcIj09Yz9cIuKAqlwiOlwi4oCrXCIpK2IpfXJldHVybiBifSxzZXREaXJlY3Rpb25NYXJrZXI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTtiP2Muc2V0QXR0cmlidXRlcyh7ZGlyOmIsXCJkYXRhLWNrZS1kaXItbWFya2VyXCI6Yn0pOnRoaXMuZ2V0RGlyZWN0aW9uTWFya2VyKCkmJmMucmVtb3ZlQXR0cmlidXRlcyhbXCJkaXJcIixcImRhdGEtY2tlLWRpci1tYXJrZXJcIl0pfSxnZXREaXJlY3Rpb25NYXJrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5kYXRhKFwiY2tlLWRpci1tYXJrZXJcIil9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxiLCEwKTtDS0VESVRPUi51aS5kaWFsb2cudGV4dGFyZWEucHJvdG90eXBlPVxubmV3IENLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQ7Q0tFRElUT1IudWkuZGlhbG9nLnNlbGVjdC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc2VsZWN0LmdldEVsZW1lbnQoKX0sYWRkOmZ1bmN0aW9uKGIsYyxhKXt2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJvcHRpb25cIix0aGlzLmdldERpYWxvZygpLmdldFBhcmVudEVkaXRvcigpLmRvY3VtZW50KSxoPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJDtlLiQudGV4dD1iO2UuJC52YWx1ZT12b2lkIDA9PT1jfHxudWxsPT09Yz9iOmM7dm9pZCAwPT09YXx8bnVsbD09PWE/Q0tFRElUT1IuZW52LmllP2guYWRkKGUuJCk6aC5hZGQoZS4kLG51bGwpOmguYWRkKGUuJCxhKTtyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGIpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5yZW1vdmUoYik7XG5yZXR1cm4gdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kOzA8Yi5sZW5ndGg7KWIucmVtb3ZlKDApO3JldHVybiB0aGlzfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sYiwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmNoZWNrYm94LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uY2hlY2tib3guZ2V0RWxlbWVudCgpfSxzZXRWYWx1ZTpmdW5jdGlvbihiLGMpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5jaGVja2VkPWI7IWMmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTpifSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5jaGVja2VkfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2V0VmFsdWUoIXRoaXMuZ2V0VmFsdWUoKSl9LGV2ZW50UHJvY2Vzc29yczp7b25DaGFuZ2U6ZnVuY3Rpb24oYixcbmMpe2lmKCFDS0VESVRPUi5lbnYuaWV8fDg8Q0tFRElUT1IuZW52LnZlcnNpb24pcmV0dXJuIGgub25DaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2hlY2tib3guZ2V0RWxlbWVudCgpO2Eub24oXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhLiQ7XCJjaGVja2VkXCI9PWIucHJvcGVydHlOYW1lJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6YS4kLmNoZWNrZWR9KX0sdGhpcyl9LHRoaXMpO3RoaXMub24oXCJjaGFuZ2VcIixjKTtyZXR1cm4gbnVsbH19LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxiLCEwKTtDS0VESVRPUi51aS5kaWFsb2cucmFkaW8ucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7c2V0VmFsdWU6ZnVuY3Rpb24oYixjKXtmb3IodmFyIGE9dGhpcy5fLmNoaWxkcmVuLGUsaD0wO2g8YS5sZW5ndGgmJihlPWFbaF0pO2grKyllLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQ9XG5lLmdldFZhbHVlKCk9PWI7IWMmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTpifSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPXRoaXMuXy5jaGlsZHJlbixjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXS5nZXRFbGVtZW50KCkuJC5jaGVja2VkKXJldHVybiBiW2NdLmdldFZhbHVlKCk7cmV0dXJuIG51bGx9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fLmNoaWxkcmVuLGM7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQpe2JbY10uZ2V0RWxlbWVudCgpLmZvY3VzKCk7cmV0dXJufWJbMF0uZ2V0RWxlbWVudCgpLmZvY3VzKCl9LGV2ZW50UHJvY2Vzc29yczp7b25DaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZighQ0tFRElUT1IuZW52LmllfHw4PENLRURJVE9SLmVudi52ZXJzaW9uKXJldHVybiBoLm9uQ2hhbmdlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxudGhpcy5fLmNoaWxkcmVuLGI9dGhpcyxkPTA7ZDxhLmxlbmd0aDtkKyspYVtkXS5nZXRFbGVtZW50KCkub24oXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhLiQ7XCJjaGVja2VkXCI9PWEucHJvcGVydHlOYW1lJiZ0aGlzLiQuY2hlY2tlZCYmYi5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOnRoaXMuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KX0pfSx0aGlzKTt0aGlzLm9uKFwiY2hhbmdlXCIsYyk7cmV0dXJuIG51bGx9fX0sYiwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmZpbGUucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LGIse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmZyYW1lSWQpLmdldEZyYW1lRG9jdW1lbnQoKTtyZXR1cm4gMDxiLiQuZm9ybXMubGVuZ3RoP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChiLiQuZm9ybXNbMF0uZWxlbWVudHNbMF0pOlxudGhpcy5nZXRFbGVtZW50KCl9LHN1Ym1pdDpmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0UGFyZW50KCkuJC5zdWJtaXQoKTtyZXR1cm4gdGhpc30sZ2V0QWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0UGFyZW50KCkuJC5hY3Rpb259LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKGIpe3ZhciBjPS9eb24oW0EtWl1cXHcrKS8sYSxlPWZ1bmN0aW9uKGEsYixkLGMpe2Eub24oXCJmb3JtTG9hZGVkXCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGQsYyxhKX0pfSxoO2ZvcihoIGluIGIpaWYoYT1oLm1hdGNoKGMpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2hdP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2hdLmNhbGwodGhpcyx0aGlzLl8uZGlhbG9nLGJbaF0pOmUodGhpcyx0aGlzLl8uZGlhbG9nLGFbMV0udG9Mb3dlckNhc2UoKSxiW2hdKTtyZXR1cm4gdGhpc30scmVzZXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7YS4kLm9wZW4oKTtcbnZhciBkPVwiXCI7ZS5zaXplJiYoZD1lLnNpemUtKENLRURJVE9SLmVudi5pZT83OjApKTt2YXIgdD1jLmZyYW1lSWQrXCJfaW5wdXRcIjthLiQud3JpdGUoWydcXHgzY2h0bWwgZGlyXFx4M2RcIicrbCsnXCIgbGFuZ1xceDNkXCInK20rJ1wiXFx4M2VcXHgzY2hlYWRcXHgzZVxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcXHgzYy9oZWFkXFx4M2VcXHgzY2JvZHkgc3R5bGVcXHgzZFwibWFyZ2luOiAwOyBvdmVyZmxvdzogaGlkZGVuOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcIlxceDNlJywnXFx4M2Nmb3JtIGVuY3R5cGVcXHgzZFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIG1ldGhvZFxceDNkXCJQT1NUXCIgZGlyXFx4M2RcIicrbCsnXCIgbGFuZ1xceDNkXCInK20rJ1wiIGFjdGlvblxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZS5hY3Rpb24pLCdcIlxceDNlXFx4M2NsYWJlbCBpZFxceDNkXCInLGMubGFiZWxJZCwnXCIgZm9yXFx4M2RcIicsdCwnXCIgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZScsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlLmxhYmVsKSxcbidcXHgzYy9sYWJlbFxceDNlXFx4M2NpbnB1dCBzdHlsZVxceDNkXCJ3aWR0aDoxMDAlXCIgaWRcXHgzZFwiJyx0LCdcIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiJyxjLmxhYmVsSWQsJ1wiIHR5cGVcXHgzZFwiZmlsZVwiIG5hbWVcXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGUuaWR8fFwiY2tlX3VwbG9hZFwiKSwnXCIgc2l6ZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoMDxkP2Q6XCJcIiksJ1wiIC9cXHgzZVxceDNjL2Zvcm1cXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVxceDNjc2NyaXB0XFx4M2UnLENLRURJVE9SLmVudi5pZT9cIihcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XCI6XCJcIixcIndpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK2crXCIpO1wiLFwid2luZG93Lm9uYmVmb3JldW5sb2FkIFxceDNkIGZ1bmN0aW9uKCkge3dpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK2srXCIpfVwiLFwiXFx4M2Mvc2NyaXB0XFx4M2VcIl0uam9pbihcIlwiKSk7XG5hLiQuY2xvc2UoKTtmb3IoZD0wO2Q8aC5sZW5ndGg7ZCsrKWhbZF0uZW5hYmxlKCl9dmFyIGM9dGhpcy5fLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChjLmZyYW1lSWQpLmdldEZyYW1lRG9jdW1lbnQoKSxlPWMuZGVmaW5pdGlvbixoPWMuYnV0dG9ucyxnPXRoaXMuZm9ybUxvYWRlZE51bWJlcixrPXRoaXMuZm9ybVVubG9hZE51bWJlcixsPWMuZGlhbG9nLl8uZWRpdG9yLmxhbmcuZGlyLG09Yy5kaWFsb2cuXy5lZGl0b3IubGFuZ0NvZGU7Z3x8KGc9dGhpcy5mb3JtTG9hZGVkTnVtYmVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiZm9ybUxvYWRlZFwiKX0sdGhpcyksaz10aGlzLmZvcm1VbmxvYWROdW1iZXI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLmNsZWFyQ3VzdG9tRGF0YSgpfSx0aGlzKSx0aGlzLmdldERpYWxvZygpLl8uZWRpdG9yLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZyk7XG5DS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihrKX0pKTtDS0VESVRPUi5lbnYuZ2Vja28/c2V0VGltZW91dChiLDUwMCk6YigpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLiQudmFsdWV8fFwiXCJ9LHNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9XCJcIn0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihiLGMpe3RoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWR8fCh0aGlzLm9uKFwiZm9ybUxvYWRlZFwiLGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOnRoaXMuZ2V0VmFsdWUoKX0pfSx0aGlzKX0sdGhpcyksdGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZD0hMCk7dGhpcy5vbihcImNoYW5nZVwiLGMpfX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuZmlsZUJ1dHRvbi5wcm90b3R5cGU9XG5uZXcgQ0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbjtDS0VESVRPUi51aS5kaWFsb2cuZmllbGRzZXQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmNsb25lKENLRURJVE9SLnVpLmRpYWxvZy5oYm94LnByb3RvdHlwZSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInRleHRcIixnKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwicGFzc3dvcmRcIixnKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGVsXCIsZyk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInRleHRhcmVhXCIsZSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImNoZWNrYm94XCIsZSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInJhZGlvXCIsZSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImJ1dHRvblwiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJzZWxlY3RcIixlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmlsZVwiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJmaWxlQnV0dG9uXCIsXG5lKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiaHRtbFwiLGUpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJmaWVsZHNldFwiLHtidWlsZDpmdW5jdGlvbihiLGMsYSl7Zm9yKHZhciBlPWMuY2hpbGRyZW4saCxnPVtdLGs9W10sbD0wO2w8ZS5sZW5ndGgmJihoPWVbbF0pO2wrKyl7dmFyIG09W107Zy5wdXNoKG0pO2sucHVzaChDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVyc1toLnR5cGVdLmJ1aWxkKGIsaCxtKSl9cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYy50eXBlXShiLGssZyxhLGMpfX0pfX0pO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfTk9ORT0wO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg9MTtDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVD0yO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USD0zO0NLRURJVE9SLkRJQUxPR19TVEFURV9JRExFPTE7Q0tFRElUT1IuRElBTE9HX1NUQVRFX0JVU1k9MjsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEpe2EuXy50YWJCYXJNb2RlPVxuITA7YS5fLnRhYnNbYS5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKTthLl8uY3VycmVudEZvY3VzSW5kZXg9LTF9ZnVuY3Rpb24gZygpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSthLGQ9Yi0xO2Q+Yi1hO2QtLSlpZih0aGlzLl8udGFic1t0aGlzLl8udGFiSWRMaXN0W2QlYV1dWzBdLiQub2Zmc2V0SGVpZ2h0KXJldHVybiB0aGlzLl8udGFiSWRMaXN0W2QlYV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gZSgpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSxkPWIrMTtkPGIrYTtkKyspaWYodGhpcy5fLnRhYnNbdGhpcy5fLnRhYklkTGlzdFtkJWFdXVswXS4kLm9mZnNldEhlaWdodClyZXR1cm4gdGhpcy5fLnRhYklkTGlzdFtkJWFdO1xucmV0dXJuIG51bGx9ZnVuY3Rpb24gYihhLGIpe2Zvcih2YXIgZD1hLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSxjPTAsZj1kLmxlbmd0aDtjPGY7YysrKXt2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZFtjXSk7XCJ0ZXh0XCI9PWUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKS50b0xvd2VyQ2FzZSgpJiYoYj8oZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGUuZ2V0Q3VzdG9tRGF0YShcImZha2VfdmFsdWVcIil8fFwiXCIpLGUucmVtb3ZlQ3VzdG9tRGF0YShcImZha2VfdmFsdWVcIikpOihlLnNldEN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIsZS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSksZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpKSl9fWZ1bmN0aW9uIGgoYSxiKXt2YXIgZD10aGlzLmdldElucHV0RWxlbWVudCgpO2QmJihhP2QucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIpOmQuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsITApKTthfHwodGhpcy5zZWxlY3Q/dGhpcy5zZWxlY3QoKTpcbnRoaXMuZm9jdXMoKSk7YiYmYWxlcnQoYik7dGhpcy5maXJlKFwidmFsaWRhdGVkXCIse3ZhbGlkOmEsbXNnOmJ9KX1mdW5jdGlvbiBtKCl7dmFyIGE9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTthJiZhLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiKX1mdW5jdGlvbiBsKGEpe3ZhciBiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKENLRURJVE9SLmFkZFRlbXBsYXRlKFwiZGlhbG9nXCIsTCkub3V0cHV0KHtpZDpDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksZWRpdG9ySWQ6YS5pZCxsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSxlZGl0b3JEaWFsb2dDbGFzczpcImNrZV9lZGl0b3JfXCIrYS5uYW1lLnJlcGxhY2UoL1xcLi9nLFwiXFxcXC5cIikrXCJfZGlhbG9nXCIsY2xvc2VUaXRsZTphLmxhbmcuY29tbW9uLmNsb3NlLGhpZHBpOkNLRURJVE9SLmVudi5oaWRwaT9cImNrZV9oaWRwaVwiOlwiXCJ9KSksZD1iLmdldENoaWxkKFswLDAsMCwwLDBdKSxjPWQuZ2V0Q2hpbGQoMCksXG5mPWQuZ2V0Q2hpbGQoMSk7YS5wbHVnaW5zLmNsaXBib2FyZCYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KGQpOyFDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5xdWlya3N8fENLRURJVE9SLmVudi5lZGdlfHwoYT1cImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSgpKVwiLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2lmcmFtZSBmcmFtZUJvcmRlclxceDNkXCIwXCIgY2xhc3NcXHgzZFwiY2tlX2lmcmFtZV9zaGltXCIgc3JjXFx4M2RcIicrYSsnXCIgdGFiSW5kZXhcXHgzZFwiLTFcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKS5hcHBlbmRUbyhkLmdldFBhcmVudCgpKSk7Yy51bnNlbGVjdGFibGUoKTtmLnVuc2VsZWN0YWJsZSgpO3JldHVybntlbGVtZW50OmIsXG5wYXJ0czp7ZGlhbG9nOmIuZ2V0Q2hpbGQoMCksdGl0bGU6YyxjbG9zZTpmLHRhYnM6ZC5nZXRDaGlsZCgyKSxjb250ZW50czpkLmdldENoaWxkKFszLDAsMCwwXSksZm9vdGVyOmQuZ2V0Q2hpbGQoWzMsMCwxLDBdKX19fWZ1bmN0aW9uIGsoYSxiLGQpe3RoaXMuZWxlbWVudD1iO3RoaXMuZm9jdXNJbmRleD1kO3RoaXMudGFiSW5kZXg9MDt0aGlzLmlzRm9jdXNhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIWIuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikmJmIuaXNWaXNpYmxlKCl9O3RoaXMuZm9jdXM9ZnVuY3Rpb24oKXthLl8uY3VycmVudEZvY3VzSW5kZXg9dGhpcy5mb2N1c0luZGV4O3RoaXMuZWxlbWVudC5mb2N1cygpfTtiLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjEsMTM6MX0mJnRoaXMuZmlyZShcImNsaWNrXCIpfSk7Yi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJtb3VzZW92ZXJcIil9KTtiLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwibW91c2VvdXRcIil9KX1cbmZ1bmN0aW9uIGQoYSl7ZnVuY3Rpb24gYigpe2EubGF5b3V0KCl9dmFyIGQ9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCk7ZC5vbihcInJlc2l6ZVwiLGIpO2Eub24oXCJoaWRlXCIsZnVuY3Rpb24oKXtkLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsYil9KX1mdW5jdGlvbiBmKGIsZCl7dGhpcy5kaWFsb2c9Yjtmb3IodmFyIGM9ZC5jb250ZW50cyxmPTAsZTtlPWNbZl07ZisrKWNbZl09ZSYmbmV3IGEoYixlKTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxkKX1mdW5jdGlvbiBhKGEsYil7dGhpcy5fPXtkaWFsb2c6YX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9ZnVuY3Rpb24gbihhKXtmdW5jdGlvbiBiKGQpe3ZhciBuPWEuZ2V0U2l6ZSgpLGs9YS5wYXJ0cy5kaWFsb2cuZ2V0UGFyZW50KCkuZ2V0Q2xpZW50U2l6ZSgpLGw9ZC5kYXRhLiQuc2NyZWVuWCxtPWQuZGF0YS4kLnNjcmVlblkscj1sLWMueCx1PW0tYy55O2M9e3g6bCx5Om19O2YueCs9cjtmLnkrPXU7bD1mLngrXG5nWzNdPGg/LWdbM106Zi54LWdbMV0+ay53aWR0aC1uLndpZHRoLWg/ay53aWR0aC1uLndpZHRoKyhcInJ0bFwiPT1lLmxhbmcuZGlyPzA6Z1sxXSk6Zi54O249Zi55K2dbMF08aD8tZ1swXTpmLnktZ1syXT5rLmhlaWdodC1uLmhlaWdodC1oP2suaGVpZ2h0LW4uaGVpZ2h0K2dbMl06Zi55O2w9TWF0aC5mbG9vcihsKTtuPU1hdGguZmxvb3Iobik7YS5tb3ZlKGwsbiwxKTtkLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBkKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixkKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgYT1ILmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixkKX19dmFyIGM9bnVsbCxmPW51bGwsZT1hLmdldFBhcmVudEVkaXRvcigpLFxuaD1lLmNvbmZpZy5kaWFsb2dfbWFnbmV0RGlzdGFuY2UsZz1DS0VESVRPUi5za2luLm1hcmdpbnN8fFswLDAsMCwwXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgaCYmKGg9MjApO2EucGFydHMudGl0bGUub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihlKXtpZighYS5fLm1vdmVkKXt2YXIgaD1hLl8uZWxlbWVudDtoLmdldEZpcnN0KCkuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIik7aC5yZW1vdmVTdHlsZShcImRpc3BsYXlcIik7YS5fLm1vdmVkPSEwO2EubGF5b3V0KCl9Yz17eDplLmRhdGEuJC5zY3JlZW5YLHk6ZS5kYXRhLiQuc2NyZWVuWX07Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixkKTtmPWEuZ2V0UG9zaXRpb24oKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYoaD1ILmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKSxoLm9uKFwibW91c2Vtb3ZlXCIsYiksaC5vbihcIm1vdXNldXBcIixkKSk7ZS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LFxuYSl9ZnVuY3Rpb24gcihhKXtmdW5jdGlvbiBiKGQpe3ZhciBtPVwicnRsXCI9PWUubGFuZy5kaXIscj1sLndpZHRoLHU9bC5oZWlnaHQsdD1yKyhkLmRhdGEuJC5zY3JlZW5YLWsueCkqKG0/LTE6MSkqKGEuXy5tb3ZlZD8xOjIpLFA9dSsoZC5kYXRhLiQuc2NyZWVuWS1rLnkpKihhLl8ubW92ZWQ/MToyKSxWPWEuXy5lbGVtZW50LmdldEZpcnN0KCksVj1tJiZwYXJzZUludChWLmdldENvbXB1dGVkU3R5bGUoXCJyaWdodFwiKSwxMCksVD1hLmdldFBvc2l0aW9uKCk7VC54PVQueHx8MDtULnk9VC55fHwwO1QueStQPm4uaGVpZ2h0JiYoUD1uLmhlaWdodC1ULnkpOyhtP1Y6VC54KSt0Pm4ud2lkdGgmJih0PW4ud2lkdGgtKG0/VjpULngpKTtQPU1hdGguZmxvb3IoUCk7dD1NYXRoLmZsb29yKHQpO2lmKGY9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEh8fGY9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USClyPU1hdGgubWF4KGMubWluV2lkdGh8fDAsdC1oKTtpZihmPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVHx8XG5mPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgpdT1NYXRoLm1heChjLm1pbkhlaWdodHx8MCxQLWcpO2EucmVzaXplKHIsdSk7YS5fLm1vdmVkJiZ4KGEsYS5fLnBvc2l0aW9uLngsYS5fLnBvc2l0aW9uLnkpO2EuXy5tb3ZlZHx8YS5sYXlvdXQoKTtkLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBkKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsZCk7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTttJiYobS5yZW1vdmUoKSxtPW51bGwpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBhPUguZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsZCk7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpfX12YXIgYz1hLmRlZmluaXRpb24sZj1jLnJlc2l6YWJsZTtpZihmIT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkUpe3ZhciBlPVxuYS5nZXRQYXJlbnRFZGl0b3IoKSxoLGcsbixrLGwsbSxyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIGEuaXNWaXNpYmxlKCl9bD1hLmdldFNpemUoKTt2YXIgZT1hLnBhcnRzLmNvbnRlbnRzLHI9ZS4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaWZyYW1lXCIpLmxlbmd0aCx1PSEoQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MpO3ImJihtPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3Jlc2l6ZV9jb3ZlclwiIHN0eWxlXFx4M2RcImhlaWdodDogMTAwJTsgcG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTsgbGVmdDowOyB0b3A6MDtcIlxceDNlXFx4M2MvZGl2XFx4M2UnKSxlLmFwcGVuZChtKSk7Zz1sLmhlaWdodC1hLnBhcnRzLmNvbnRlbnRzLmdldEZpcnN0KGYpLmdldFNpemUoXCJoZWlnaHRcIix1KTtcbmg9bC53aWR0aC1hLnBhcnRzLmNvbnRlbnRzLmdldEZpcnN0KGYpLmdldFNpemUoXCJ3aWR0aFwiLDEpO2s9e3g6Yy5zY3JlZW5YLHk6Yy5zY3JlZW5ZfTtuPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsYik7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsZCk7Q0tFRElUT1IuZW52LmllNkNvbXBhdCYmKGU9SC5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCksZS5vbihcIm1vdXNlbW92ZVwiLGIpLGUub24oXCJtb3VzZXVwXCIsZCkpO2MucHJldmVudERlZmF1bHQmJmMucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYj1cIlwiO2Y9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg/Yj1cIiBja2VfcmVzaXplcl9ob3Jpem9udGFsXCI6Zj09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFQmJihiPVwiIGNrZV9yZXNpemVyX3ZlcnRpY2FsXCIpO2I9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9yZXNpemVyJytcbmIrXCIgY2tlX3Jlc2l6ZXJfXCIrZS5sYW5nLmRpcisnXCIgdGl0bGVcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGUubGFuZy5jb21tb24ucmVzaXplKSsnXCIgb25tb3VzZWRvd25cXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrcisnLCBldmVudCApXCJcXHgzZScrKFwibHRyXCI9PWUubGFuZy5kaXI/XCLil6JcIjpcIuKXo1wiKStcIlxceDNjL2RpdlxceDNlXCIpO2EucGFydHMuZm9vdGVyLmFwcGVuZChiLDEpfSk7ZS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHIpfSl9fWZ1bmN0aW9uIHgoYSxiLGQpe3ZhciBjPWEucGFydHMuZGlhbG9nLmdldFBhcmVudCgpLmdldENsaWVudFNpemUoKSxmPWEuZ2V0U2l6ZSgpLGU9YS5fLnZpZXdwb3J0UmF0aW8saD1NYXRoLm1heChjLndpZHRoLWYud2lkdGgsMCksYz1NYXRoLm1heChjLmhlaWdodC1mLmhlaWdodCwwKTtlLndpZHRoPWg/Yi9oOmUud2lkdGg7ZS5oZWlnaHQ9Yz9kL2M6ZS5oZWlnaHQ7XG5hLl8udmlld3BvcnRSYXRpbz1lfWZ1bmN0aW9uIHAoYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KDEpfWZ1bmN0aW9uIHEoYSl7dmFyIGI9YS5jb25maWcsZD1DS0VESVRPUi5za2luTmFtZXx8YS5jb25maWcuc2tpbixjPWIuZGlhbG9nX2JhY2tncm91bmRDb3ZlckNvbG9yfHwoXCJtb29uby1saXNhXCI9PWQ/XCJibGFja1wiOlwid2hpdGVcIiksZD1iLmRpYWxvZ19iYWNrZ3JvdW5kQ292ZXJPcGFjaXR5LGY9Yi5iYXNlRmxvYXRaSW5kZXgsYj1DS0VESVRPUi50b29scy5nZW5LZXkoYyxkLGYpLGU9S1tiXTtDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYWRkQ2xhc3MoXCJja2VfZGlhbG9nX29wZW5cIik7ZT9lLnNob3coKTooZj1bJ1xceDNjZGl2IHRhYkluZGV4XFx4M2RcIi0xXCIgc3R5bGVcXHgzZFwicG9zaXRpb246ICcsQ0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLFwiOyB6LWluZGV4OiBcIixmLFwiOyB0b3A6IDBweDsgbGVmdDogMHB4OyBcIixcIjsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTtcIixcbkNLRURJVE9SLmVudi5pZTZDb21wYXQ/XCJcIjpcImJhY2tncm91bmQtY29sb3I6IFwiK2MsJ1wiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfYmFja2dyb3VuZF9jb3ZlclwiXFx4M2UnXSxDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYoYz1cIlxceDNjaHRtbFxceDNlXFx4M2Nib2R5IHN0eWxlXFx4M2RcXFxcJ2JhY2tncm91bmQtY29sb3I6XCIrYytcIjtcXFxcJ1xceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXCIsZi5wdXNoKCdcXHgzY2lmcmFtZSBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIGZyYW1lYm9yZGVyXFx4M2RcIjBcIiBpZFxceDNkXCJja2VfZGlhbG9nX2JhY2tncm91bmRfaWZyYW1lXCIgc3JjXFx4M2RcImphdmFzY3JpcHQ6JyksZi5wdXNoKFwidm9pZCgoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC53cml0ZSggJ1wiK2MrXCInICk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KSgpKVwiKSxmLnB1c2goJ1wiIHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDogMTAwJTtmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2QwKVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpKSxcbmYucHVzaChcIlxceDNjL2RpdlxceDNlXCIpLGU9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZi5qb2luKFwiXCIpKSxlLnNldE9wYWNpdHkodm9pZCAwIT09ZD9kOi41KSxlLm9uKFwia2V5ZG93blwiLHApLGUub24oXCJrZXlwcmVzc1wiLHApLGUub24oXCJrZXl1cFwiLHApLGUuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKSxLW2JdPWUpO2EuZm9jdXNNYW5hZ2VyLmFkZChlKTtIPWU7Q0tFRElUT1IuZW52Lm1hYyYmQ0tFRElUT1IuZW52LndlYmtpdHx8ZS5mb2N1cygpfWZ1bmN0aW9uIHUoYSl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLnJlbW92ZUNsYXNzKFwiY2tlX2RpYWxvZ19vcGVuXCIpO0gmJihhLmZvY3VzTWFuYWdlci5yZW1vdmUoSCksSC5oaWRlKCkpfWZ1bmN0aW9uIHooYSl7dmFyIGI9YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQubWV0YUtleSxkPWEuZGF0YS4kLmFsdEtleSxjPWEuZGF0YS4kLnNoaWZ0S2V5LGY9U3RyaW5nLmZyb21DaGFyQ29kZShhLmRhdGEuJC5rZXlDb2RlKTtcbihiPU1bKGI/XCJDVFJMK1wiOlwiXCIpKyhkP1wiQUxUK1wiOlwiXCIpKyhjP1wiU0hJRlQrXCI6XCJcIikrZl0pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleWRvd24mJmIua2V5ZG93bi5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9ZnVuY3Rpb24gdChhKXt2YXIgYj1hLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5tZXRhS2V5LGQ9YS5kYXRhLiQuYWx0S2V5LGM9YS5kYXRhLiQuc2hpZnRLZXksZj1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuZGF0YS4kLmtleUNvZGUpOyhiPU1bKGI/XCJDVFJMK1wiOlwiXCIpKyhkP1wiQUxUK1wiOlwiXCIpKyhjP1wiU0hJRlQrXCI6XCJcIikrZl0pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleXVwJiYoYi5rZXl1cC5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxhLmRhdGEucHJldmVudERlZmF1bHQoKSkpfWZ1bmN0aW9uIEIoYSxiLGQsYyxmKXsoTVtkXXx8KE1bZF09W10pKS5wdXNoKHt1aUVsZW1lbnQ6YSxcbmRpYWxvZzpiLGtleTpkLGtleXVwOmZ8fGEuYWNjZXNzS2V5VXAsa2V5ZG93bjpjfHxhLmFjY2Vzc0tleURvd259KX1mdW5jdGlvbiB3KGEpe2Zvcih2YXIgYiBpbiBNKXtmb3IodmFyIGQ9TVtiXSxjPWQubGVuZ3RoLTE7MDw9YztjLS0pZFtjXS5kaWFsb2chPWEmJmRbY10udWlFbGVtZW50IT1hfHxkLnNwbGljZShjLDEpOzA9PT1kLmxlbmd0aCYmZGVsZXRlIE1bYl19fWZ1bmN0aW9uIHYoYSxiKXthLl8uYWNjZXNzS2V5TWFwW2JdJiZhLnNlbGVjdFBhZ2UoYS5fLmFjY2Vzc0tleU1hcFtiXSl9ZnVuY3Rpb24gRigpe312YXIgeT1DS0VESVRPUi50b29scy5jc3NMZW5ndGgsQyxILEc9IUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmVkZ2UsTD0nXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX3Jlc2V0X2FsbCBja2VfZGlhbG9nX2NvbnRhaW5lciB7ZWRpdG9ySWR9IHtlZGl0b3JEaWFsb2dDbGFzc30ge2hpZHBpfVwiIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiBzdHlsZVxceDNkXCInKyhHP1wiZGlzcGxheTpmbGV4XCI6XG5cIlwiKSsnXCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCIgcm9sZVxceDNkXCJkaWFsb2dcIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX2RpYWxvZ190aXRsZV97aWR9XCJcXHgzZVxceDNjdGFibGUgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZyAnK0NLRURJVE9SLmVudi5jc3NDbGFzcysnIGNrZV97bGFuZ0Rpcn1cIiBzdHlsZVxceDNkXCInKyhHP1wibWFyZ2luOmF1dG9cIjpcInBvc2l0aW9uOmFic29sdXRlXCIpKydcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RyXFx4M2VcXHgzY3RkIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfYm9keVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjZGl2IGlkXFx4M2RcImNrZV9kaWFsb2dfdGl0bGVfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdGl0bGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjYSBpZFxceDNkXCJja2VfZGlhbG9nX2Nsb3NlX2J1dHRvbl97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19jbG9zZV9idXR0b25cIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiIHRpdGxlXFx4M2RcIntjbG9zZVRpdGxlfVwiIHJvbGVcXHgzZFwiYnV0dG9uXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbGFiZWxcIlxceDNlWFxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZVxceDNjZGl2IGlkXFx4M2RcImNrZV9kaWFsb2dfdGFic197aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190YWJzXCIgcm9sZVxceDNkXCJ0YWJsaXN0XCJcXHgzZVxceDNjL2RpdlxceDNlXFx4M2N0YWJsZSBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBpZFxceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzX2JvZHlcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgaWRcXHgzZFwiY2tlX2RpYWxvZ19mb290ZXJfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfZm9vdGVyXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2MvdGRcXHgzZVxceDNjL3RyXFx4M2VcXHgzYy90YWJsZVxceDNlXFx4M2MvZGl2XFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcXHgzYy9kaXZcXHgzZSc7XG5DS0VESVRPUi5kaWFsb2c9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKCl7dmFyIGE9eS5fLmZvY3VzTGlzdDthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50YWJJbmRleCE9Yi50YWJJbmRleD9iLnRhYkluZGV4LWEudGFiSW5kZXg6YS5mb2N1c0luZGV4LWIuZm9jdXNJbmRleH0pO2Zvcih2YXIgYj1hLmxlbmd0aCxjPTA7YzxiO2MrKylhW2NdLmZvY3VzSW5kZXg9Y31mdW5jdGlvbiBrKGEpe3ZhciBiPXkuXy5mb2N1c0xpc3Q7YT1hfHwwO2lmKCEoMT5iLmxlbmd0aCkpe3ZhciBkPXkuXy5jdXJyZW50Rm9jdXNJbmRleDt5Ll8udGFiQmFyTW9kZSYmMD5hJiYoZD0wKTt0cnl7YltkXS5nZXRJbnB1dEVsZW1lbnQoKS4kLmJsdXIoKX1jYXRjaChjKXt9dmFyIGY9ZCxlPTE8eS5fLnBhZ2VDb3VudDtkb3tmKz1hO2lmKGUmJiF5Ll8udGFiQmFyTW9kZSYmKGY9PWIubGVuZ3RofHwtMT09Zikpe3kuXy50YWJCYXJNb2RlPSEwO3kuXy50YWJzW3kuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCk7XG55Ll8uY3VycmVudEZvY3VzSW5kZXg9LTE7cmV0dXJufWY9KGYrYi5sZW5ndGgpJWIubGVuZ3RoO2lmKGY9PWQpYnJlYWt9d2hpbGUoYSYmIWJbZl0uaXNGb2N1c2FibGUoKSk7YltmXS5mb2N1cygpO1widGV4dFwiPT1iW2ZdLnR5cGUmJmJbZl0uc2VsZWN0KCl9fWZ1bmN0aW9uIHUoYil7aWYoeT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCl7dmFyIGQ9Yi5kYXRhLmdldEtleXN0cm9rZSgpLGY9XCJydGxcIj09YS5sYW5nLmRpcixoPVszNywzOCwzOSw0MF07ej1CPTA7aWYoOT09ZHx8ZD09Q0tFRElUT1IuU0hJRlQrOSlrKGQ9PUNLRURJVE9SLlNISUZUKzk/LTE6MSksej0xO2Vsc2UgaWYoZD09Q0tFRElUT1IuQUxUKzEyMSYmIXkuXy50YWJCYXJNb2RlJiYxPHkuZ2V0UGFnZUNvdW50KCkpYyh5KSx6PTE7ZWxzZSBpZigtMSE9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihoLGQpJiZ5Ll8udGFiQmFyTW9kZSlkPS0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKFtmPzM5OjM3LDM4XSxkKT9cbmcuY2FsbCh5KTplLmNhbGwoeSkseS5zZWxlY3RQYWdlKGQpLHkuXy50YWJzW2RdWzBdLmZvY3VzKCksej0xO2Vsc2UgaWYoMTMhPWQmJjMyIT1kfHwheS5fLnRhYkJhck1vZGUpaWYoMTM9PWQpZD1iLmRhdGEuZ2V0VGFyZ2V0KCksZC5pcyhcImFcIixcImJ1dHRvblwiLFwic2VsZWN0XCIsXCJ0ZXh0YXJlYVwiKXx8ZC5pcyhcImlucHV0XCIpJiZcImJ1dHRvblwiPT1kLiQudHlwZXx8KChkPXRoaXMuZ2V0QnV0dG9uKFwib2tcIikpJiZDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGQuY2xpY2ssMCxkKSx6PTEpLEI9MTtlbHNlIGlmKDI3PT1kKShkPXRoaXMuZ2V0QnV0dG9uKFwiY2FuY2VsXCIpKT9DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGQuY2xpY2ssMCxkKTohMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCksQj0xO2Vsc2UgcmV0dXJuO2Vsc2UgdGhpcy5zZWxlY3RQYWdlKHRoaXMuXy5jdXJyZW50VGFiSWQpLHRoaXMuXy50YWJCYXJNb2RlPSExLHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD1cbi0xLGsoMSksej0xO3QoYil9fWZ1bmN0aW9uIHQoYSl7ej9hLmRhdGEucHJldmVudERlZmF1bHQoMSk6QiYmYS5kYXRhLnN0b3BQcm9wYWdhdGlvbigpfXZhciBwPUNLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2JdLHc9Q0tFRElUT1IudG9vbHMuY2xvbmUoQykseD1hLmNvbmZpZy5kaWFsb2dfYnV0dG9uc09yZGVyfHxcIk9TXCIscT1hLmxhbmcuZGlyLHY9e30seixCOyhcIk9TXCI9PXgmJkNLRURJVE9SLmVudi5tYWN8fFwicnRsXCI9PXgmJlwibHRyXCI9PXF8fFwibHRyXCI9PXgmJlwicnRsXCI9PXEpJiZ3LmJ1dHRvbnMucmV2ZXJzZSgpO3A9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHAoYSksdyk7cD1DS0VESVRPUi50b29scy5jbG9uZShwKTtwPW5ldyBmKHRoaXMscCk7dz1sKGEpO3RoaXMuXz17ZWRpdG9yOmEsZWxlbWVudDp3LmVsZW1lbnQsbmFtZTpiLG1vZGVsOm51bGwsY29udGVudFNpemU6e3dpZHRoOjAsaGVpZ2h0OjB9LHNpemU6e3dpZHRoOjAsaGVpZ2h0OjB9LGNvbnRlbnRzOnt9LFxuYnV0dG9uczp7fSxhY2Nlc3NLZXlNYXA6e30sdmlld3BvcnRSYXRpbzp7d2lkdGg6LjUsaGVpZ2h0Oi41fSx0YWJzOnt9LHRhYklkTGlzdDpbXSxjdXJyZW50VGFiSWQ6bnVsbCxjdXJyZW50VGFiSW5kZXg6bnVsbCxwYWdlQ291bnQ6MCxsYXN0VGFiOm51bGwsdGFiQmFyTW9kZTohMSxmb2N1c0xpc3Q6W10sY3VycmVudEZvY3VzSW5kZXg6MCxoYXNGb2N1czohMX07dGhpcy5wYXJ0cz13LnBhcnRzO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJhcmlhV2lkZ2V0XCIsdGhpcy5wYXJ0cy5jb250ZW50cyl9LDAsdGhpcyk7dz17dG9wOjAsdmlzaWJpbGl0eTpcImhpZGRlblwifTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYody5wb3NpdGlvbj1cImFic29sdXRlXCIpO3dbXCJydGxcIj09cT9cInJpZ2h0XCI6XCJsZWZ0XCJdPTA7dGhpcy5wYXJ0cy5kaWFsb2cuc2V0U3R5bGVzKHcpO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyk7dGhpcy5kZWZpbml0aW9uPXA9Q0tFRElUT1IuZmlyZShcImRpYWxvZ0RlZmluaXRpb25cIixcbntuYW1lOmIsZGVmaW5pdGlvbjpwLGRpYWxvZzp0aGlzfSxhKS5kZWZpbml0aW9uO2lmKCEoXCJyZW1vdmVEaWFsb2dUYWJzXCJpbiBhLl8pJiZhLmNvbmZpZy5yZW1vdmVEaWFsb2dUYWJzKXt3PWEuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnMuc3BsaXQoXCI7XCIpO2ZvcihxPTA7cTx3Lmxlbmd0aDtxKyspaWYoeD13W3FdLnNwbGl0KFwiOlwiKSwyPT14Lmxlbmd0aCl7dmFyIEY9eFswXTt2W0ZdfHwodltGXT1bXSk7dltGXS5wdXNoKHhbMV0pfWEuXy5yZW1vdmVEaWFsb2dUYWJzPXZ9aWYoYS5fLnJlbW92ZURpYWxvZ1RhYnMmJih2PWEuXy5yZW1vdmVEaWFsb2dUYWJzW2JdKSlmb3IocT0wO3E8di5sZW5ndGg7cSsrKXAucmVtb3ZlQ29udGVudHModltxXSk7aWYocC5vbkxvYWQpdGhpcy5vbihcImxvYWRcIixwLm9uTG9hZCk7aWYocC5vblNob3cpdGhpcy5vbihcInNob3dcIixwLm9uU2hvdyk7aWYocC5vbkhpZGUpdGhpcy5vbihcImhpZGVcIixwLm9uSGlkZSk7aWYocC5vbk9rKXRoaXMub24oXCJva1wiLFxuZnVuY3Rpb24oYil7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDApOyExPT09cC5vbk9rLmNhbGwodGhpcyxiKSYmKGIuZGF0YS5oaWRlPSExKX0pO3RoaXMuc3RhdGU9Q0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEU7aWYocC5vbkNhbmNlbCl0aGlzLm9uKFwiY2FuY2VsXCIsZnVuY3Rpb24oYSl7ITE9PT1wLm9uQ2FuY2VsLmNhbGwodGhpcyxhKSYmKGEuZGF0YS5oaWRlPSExKX0pO3ZhciB5PXRoaXMsSD1mdW5jdGlvbihhKXt2YXIgYj15Ll8uY29udGVudHMsZD0hMSxjO2ZvcihjIGluIGIpZm9yKHZhciBmIGluIGJbY10paWYoZD1hLmNhbGwodGhpcyxiW2NdW2ZdKSlyZXR1cm59O3RoaXMub24oXCJva1wiLGZ1bmN0aW9uKGEpe0goZnVuY3Rpb24oYil7aWYoYi52YWxpZGF0ZSl7dmFyIGQ9Yi52YWxpZGF0ZSh0aGlzKSxjPVwic3RyaW5nXCI9PXR5cGVvZiBkfHwhMT09PWQ7YyYmKGEuZGF0YS5oaWRlPSExLGEuc3RvcCgpKTtcbmguY2FsbChiLCFjLFwic3RyaW5nXCI9PXR5cGVvZiBkP2Q6dm9pZCAwKTtyZXR1cm4gY319KX0sdGhpcyxudWxsLDApO3RoaXMub24oXCJjYW5jZWxcIixmdW5jdGlvbihiKXtIKGZ1bmN0aW9uKGQpe2lmKGQuaXNDaGFuZ2VkKCkpcmV0dXJuIGEuY29uZmlnLmRpYWxvZ19ub0NvbmZpcm1DYW5jZWx8fGNvbmZpcm0oYS5sYW5nLmNvbW1vbi5jb25maXJtQ2FuY2VsKXx8KGIuZGF0YS5oaWRlPSExKSwhMH0pfSx0aGlzLG51bGwsMCk7dGhpcy5wYXJ0cy5jbG9zZS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7ITEhPT10aGlzLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJnRoaXMuaGlkZSgpO2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKTt0aGlzLmNoYW5nZUZvY3VzPWs7dmFyIEU9dGhpcy5fLmVsZW1lbnQ7YS5mb2N1c01hbmFnZXIuYWRkKEUsMSk7dGhpcy5vbihcInNob3dcIixmdW5jdGlvbigpe0Uub24oXCJrZXlkb3duXCIsdSx0aGlzKTtpZihDS0VESVRPUi5lbnYuZ2Vja28pRS5vbihcImtleXByZXNzXCIsXG50LHRoaXMpfSk7dGhpcy5vbihcImhpZGVcIixmdW5jdGlvbigpe0UucmVtb3ZlTGlzdGVuZXIoXCJrZXlkb3duXCIsdSk7Q0tFRElUT1IuZW52LmdlY2tvJiZFLnJlbW92ZUxpc3RlbmVyKFwia2V5cHJlc3NcIix0KTtIKGZ1bmN0aW9uKGEpe20uYXBwbHkoYSl9KX0pO3RoaXMub24oXCJpZnJhbWVBZGRlZFwiLGZ1bmN0aW9uKGEpeyhuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGEuZGF0YS5pZnJhbWUuJC5jb250ZW50V2luZG93LmRvY3VtZW50KSkub24oXCJrZXlkb3duXCIsdSx0aGlzLG51bGwsMCl9KTt0aGlzLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7ZCgpO3ZhciBiPTE8eS5fLnBhZ2VDb3VudDthLmNvbmZpZy5kaWFsb2dfc3RhcnR1cEZvY3VzVGFiJiZiPyh5Ll8udGFiQmFyTW9kZT0hMCx5Ll8udGFic1t5Ll8uY3VycmVudFRhYklkXVswXS5mb2N1cygpLHkuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSk6dGhpcy5fLmhhc0ZvY3VzfHwodGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PWI/LTE6dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGgtXG4xLHAub25Gb2N1cz8oYj1wLm9uRm9jdXMuY2FsbCh0aGlzKSkmJmIuZm9jdXMoKTprKDEpKX0sdGhpcyxudWxsLDQyOTQ5NjcyOTUpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpdGhpcy5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpLGI9YS5nZXRGaXJzdCgpO2IucmVtb3ZlKCk7Yi5hcHBlbmRUbyhhKX0sdGhpcyk7bih0aGlzKTtyKHRoaXMpOyhuZXcgQ0tFRElUT1IuZG9tLnRleHQocC50aXRsZSxDS0VESVRPUi5kb2N1bWVudCkpLmFwcGVuZFRvKHRoaXMucGFydHMudGl0bGUpO2ZvcihxPTA7cTxwLmNvbnRlbnRzLmxlbmd0aDtxKyspKHY9cC5jb250ZW50c1txXSkmJnRoaXMuYWRkUGFnZSh2KTt0aGlzLnBhcnRzLnRhYnMub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiLmhhc0NsYXNzKFwiY2tlX2RpYWxvZ190YWJcIikmJihiPWIuJC5pZCx0aGlzLnNlbGVjdFBhZ2UoYi5zdWJzdHJpbmcoNCxiLmxhc3RJbmRleE9mKFwiX1wiKSkpLFxuYyh0aGlzKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9LHRoaXMpO3E9W107dj1DS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKHRoaXMse3R5cGU6XCJoYm94XCIsY2xhc3NOYW1lOlwiY2tlX2RpYWxvZ19mb290ZXJfYnV0dG9uc1wiLHdpZHRoczpbXSxjaGlsZHJlbjpwLmJ1dHRvbnN9LHEpLmdldENoaWxkKCk7dGhpcy5wYXJ0cy5mb290ZXIuc2V0SHRtbChxLmpvaW4oXCJcIikpO2ZvcihxPTA7cTx2Lmxlbmd0aDtxKyspdGhpcy5fLmJ1dHRvbnNbdltxXS5pZF09dltxXX07Q0tFRElUT1IuZGlhbG9nLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGlkZSgpO3RoaXMuXy5lbGVtZW50LnJlbW92ZSgpfSxyZXNpemU6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5fLmNvbnRlbnRTaXplfHx0aGlzLl8uY29udGVudFNpemUud2lkdGghPWF8fHRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHQhPWIpe0NLRURJVE9SLmRpYWxvZy5maXJlKFwicmVzaXplXCIsXG57ZGlhbG9nOnRoaXMsd2lkdGg6YSxoZWlnaHQ6Yn0sdGhpcy5fLmVkaXRvcik7dGhpcy5maXJlKFwicmVzaXplXCIse3dpZHRoOmEsaGVpZ2h0OmJ9LHRoaXMuXy5lZGl0b3IpO3RoaXMucGFydHMuY29udGVudHMuc2V0U3R5bGVzKHt3aWR0aDphK1wicHhcIixoZWlnaHQ6YitcInB4XCJ9KTtpZihcInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyJiZ0aGlzLl8ucG9zaXRpb24pe3ZhciBkPXRoaXMucGFydHMuZGlhbG9nLmdldFBhcmVudCgpLmdldENsaWVudFNpemUoKS53aWR0aDt0aGlzLl8ucG9zaXRpb24ueD1kLXRoaXMuXy5jb250ZW50U2l6ZS53aWR0aC1wYXJzZUludCh0aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpLmdldFN0eWxlKFwicmlnaHRcIiksMTApfXRoaXMuXy5jb250ZW50U2l6ZT17d2lkdGg6YSxoZWlnaHQ6Yn19fSxnZXRTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKTtyZXR1cm57d2lkdGg6YS4kLm9mZnNldFdpZHRofHwwLGhlaWdodDphLiQub2Zmc2V0SGVpZ2h0fHxcbjB9fSxtb3ZlOmZ1bmN0aW9uKGEsYixkKXt2YXIgYz10aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpLGY9XCJydGxcIj09dGhpcy5fLmVkaXRvci5sYW5nLmRpcjtDS0VESVRPUi5lbnYuaWUmJmMuc2V0U3R5bGUoXCJ6b29tXCIsXCIxMDAlXCIpO3ZhciBlPXRoaXMucGFydHMuZGlhbG9nLmdldFBhcmVudCgpLmdldENsaWVudFNpemUoKSxoPXRoaXMuZ2V0U2l6ZSgpLGc9dGhpcy5fLnZpZXdwb3J0UmF0aW8sbj1NYXRoLm1heChlLndpZHRoLWgud2lkdGgsMCksZT1NYXRoLm1heChlLmhlaWdodC1oLmhlaWdodCwwKTt0aGlzLl8ucG9zaXRpb24mJnRoaXMuXy5wb3NpdGlvbi54PT1hJiZ0aGlzLl8ucG9zaXRpb24ueT09Yj8oYT1NYXRoLmZsb29yKG4qZy53aWR0aCksYj1NYXRoLmZsb29yKGUqZy5oZWlnaHQpKTp4KHRoaXMsYSxiKTt0aGlzLl8ucG9zaXRpb249e3g6YSx5OmJ9O2YmJihhPW4tYSk7Yj17dG9wOigwPGI/YjowKStcInB4XCJ9O2JbZj9cInJpZ2h0XCI6XCJsZWZ0XCJdPSgwPGE/YTowKStcInB4XCI7XG5jLnNldFN0eWxlcyhiKTtkJiYodGhpcy5fLm1vdmVkPTEpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe30sdGhpcy5fLnBvc2l0aW9uKX0sc2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5lbGVtZW50LGI9dGhpcy5kZWZpbml0aW9uLGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLGY9dGhpcy5fLmVkaXRvci5jb25maWcuYmFzZUZsb2F0WkluZGV4O2EuZ2V0UGFyZW50KCkmJmEuZ2V0UGFyZW50KCkuZXF1YWxzKGMpP2Euc2V0U3R5bGUoXCJkaXNwbGF5XCIsRz9cImZsZXhcIjpcImJsb2NrXCIpOmEuYXBwZW5kVG8oYyk7dGhpcy5yZXNpemUodGhpcy5fLmNvbnRlbnRTaXplJiZ0aGlzLl8uY29udGVudFNpemUud2lkdGh8fGIud2lkdGh8fGIubWluV2lkdGgsdGhpcy5fLmNvbnRlbnRTaXplJiZ0aGlzLl8uY29udGVudFNpemUuaGVpZ2h0fHxiLmhlaWdodHx8Yi5taW5IZWlnaHQpO3RoaXMucmVzZXQoKTtudWxsPT09dGhpcy5fLmN1cnJlbnRUYWJJZCYmXG50aGlzLnNlbGVjdFBhZ2UodGhpcy5kZWZpbml0aW9uLmNvbnRlbnRzWzBdLmlkKTtudWxsPT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleCYmKENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXg9Zik7dGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5zZXRTdHlsZShcInotaW5kZXhcIixDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4Kz0xMCk7dGhpcy5nZXRFbGVtZW50KCkuc2V0U3R5bGUoXCJ6LWluZGV4XCIsQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleCk7bnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A/KENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A9dGhpcyx0aGlzLl8ucGFyZW50RGlhbG9nPW51bGwscSh0aGlzLl8uZWRpdG9yKSk6KHRoaXMuXy5wYXJlbnREaWFsb2c9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCxjPXRoaXMuXy5wYXJlbnREaWFsb2cuZ2V0RWxlbWVudCgpLmdldEZpcnN0KCksYy4kLnN0eWxlLnpJbmRleC09XG5NYXRoLmZsb29yKGYvMiksdGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuc2V0U3R5bGUoXCJ6LWluZGV4XCIsYy4kLnN0eWxlLnpJbmRleCksQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzKTthLm9uKFwia2V5ZG93blwiLHopO2Eub24oXCJrZXl1cFwiLHQpO3RoaXMuXy5oYXNGb2N1cz0hMTtmb3IodmFyIGUgaW4gYi5jb250ZW50cylpZihiLmNvbnRlbnRzW2VdKXt2YXIgYT1iLmNvbnRlbnRzW2VdLGY9dGhpcy5fLnRhYnNbYS5pZF0sYz1hLnJlcXVpcmVkQ29udGVudCxoPTA7aWYoZil7Zm9yKHZhciBnIGluIHRoaXMuXy5jb250ZW50c1thLmlkXSl7dmFyIG49dGhpcy5fLmNvbnRlbnRzW2EuaWRdW2ddO1wiaGJveFwiIT1uLnR5cGUmJlwidmJveFwiIT1uLnR5cGUmJm4uZ2V0SW5wdXRFbGVtZW50KCkmJihuLnJlcXVpcmVkQ29udGVudCYmIXRoaXMuXy5lZGl0b3IuYWN0aXZlRmlsdGVyLmNoZWNrKG4ucmVxdWlyZWRDb250ZW50KT9uLmRpc2FibGUoKToobi5lbmFibGUoKSxcbmgrKykpfSFofHxjJiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soYyk/ZlswXS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpOmZbMF0ucmVtb3ZlQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9kaXNhYmxlZFwiKX19Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMubGF5b3V0KCk7ZCh0aGlzKTt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcIlwiKTt0aGlzLmZpcmVPbmNlKFwibG9hZFwiLHt9KTtDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIix0aGlzKTt0aGlzLmZpcmUoXCJzaG93XCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ1Nob3dcIix0aGlzKTt0aGlzLl8ucGFyZW50RGlhbG9nfHx0aGlzLl8uZWRpdG9yLmZvY3VzTWFuYWdlci5sb2NrKCk7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGEpe2Euc2V0SW5pdFZhbHVlJiZhLnNldEluaXRWYWx1ZSgpfSl9LDEwMCx0aGlzKX0sbGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLnBhcnRzLmRpYWxvZztpZih0aGlzLl8ubW92ZWR8fCFHKXt2YXIgYj10aGlzLmdldFNpemUoKSxkPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLGM7dGhpcy5fLm1vdmVkJiZ0aGlzLl8ucG9zaXRpb24/KGM9dGhpcy5fLnBvc2l0aW9uLngsYj10aGlzLl8ucG9zaXRpb24ueSk6KGM9KGQud2lkdGgtYi53aWR0aCkvMixiPShkLmhlaWdodC1iLmhlaWdodCkvMik7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8KGEuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIiksYS5yZW1vdmVTdHlsZShcIm1hcmdpblwiKSk7Yz1NYXRoLmZsb29yKGMpO2I9TWF0aC5mbG9vcihiKTt0aGlzLm1vdmUoYyxiKX19LGZvcmVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMuXy5jb250ZW50cylmb3IodmFyIGQgaW4gdGhpcy5fLmNvbnRlbnRzW2JdKWEuY2FsbCh0aGlzLHRoaXMuXy5jb250ZW50c1tiXVtkXSk7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9XG5mdW5jdGlvbihhKXthLnJlc2V0JiZhLnJlc2V0KDEpfTtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmZvcmVhY2goYSk7cmV0dXJuIHRoaXN9fSgpLHNldHVwQ29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Yi5zZXR1cCYmYi5zZXR1cC5hcHBseShiLGEpfSl9LGNvbW1pdENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe0NLRURJVE9SLmVudi5pZSYmdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PT1iLmZvY3VzSW5kZXgmJmIuZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCk7Yi5jb21taXQmJmIuY29tbWl0LmFwcGx5KGIsYSl9KX0saGlkZTpmdW5jdGlvbigpe2lmKHRoaXMucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpKXt0aGlzLmZpcmUoXCJoaWRlXCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ0hpZGVcIix0aGlzKTt0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLnRhYklkTGlzdFswXSk7XG52YXIgYT10aGlzLl8uZWxlbWVudDthLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTtmb3Iodyh0aGlzKTtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wIT10aGlzOylDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wLmhpZGUoKTtpZih0aGlzLl8ucGFyZW50RGlhbG9nKXt2YXIgYj10aGlzLl8ucGFyZW50RGlhbG9nLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpO3RoaXMuXy5wYXJlbnREaWFsb2cuZ2V0RWxlbWVudCgpLnJlbW92ZVN0eWxlKFwiei1pbmRleFwiKTtiLnNldFN0eWxlKFwiei1pbmRleFwiLHBhcnNlSW50KGIuJC5zdHlsZS56SW5kZXgsMTApK01hdGguZmxvb3IodGhpcy5fLmVkaXRvci5jb25maWcuYmFzZUZsb2F0WkluZGV4LzIpKX1lbHNlIHUodGhpcy5fLmVkaXRvcik7aWYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzLl8ucGFyZW50RGlhbG9nKUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgtPVxuMTA7ZWxzZXtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PW51bGw7YS5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIix6KTthLnJlbW92ZUxpc3RlbmVyKFwia2V5dXBcIix0KTt2YXIgZD10aGlzLl8uZWRpdG9yO2QuZm9jdXMoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5mb2N1c01hbmFnZXIudW5sb2NrKCk7Q0tFRElUT1IuZW52LmlPUyYmZC53aW5kb3cuZm9jdXMoKX0sMCl9ZGVsZXRlIHRoaXMuXy5wYXJlbnREaWFsb2c7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGEpe2EucmVzZXRJbml0VmFsdWUmJmEucmVzZXRJbml0VmFsdWUoKX0pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUpfX0sYWRkUGFnZTpmdW5jdGlvbihhKXtpZighYS5yZXF1aXJlZENvbnRlbnR8fHRoaXMuXy5lZGl0b3IuZmlsdGVyLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KSl7Zm9yKHZhciBiPVtdLGQ9YS5sYWJlbD8nIHRpdGxlXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKStcbidcIic6XCJcIixjPUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLnZib3guYnVpbGQodGhpcyx7dHlwZTpcInZib3hcIixjbGFzc05hbWU6XCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIixjaGlsZHJlbjphLmVsZW1lbnRzLGV4cGFuZDohIWEuZXhwYW5kLHBhZGRpbmc6YS5wYWRkaW5nLHN0eWxlOmEuc3R5bGV8fFwid2lkdGg6IDEwMCU7XCJ9LGIpLGY9dGhpcy5fLmNvbnRlbnRzW2EuaWRdPXt9LGU9Yy5nZXRDaGlsZCgpLGg9MDtjPWUuc2hpZnQoKTspYy5ub3RBbGxvd2VkfHxcImhib3hcIj09Yy50eXBlfHxcInZib3hcIj09Yy50eXBlfHxoKyssZltjLmlkXT1jLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMuZ2V0Q2hpbGQmJmUucHVzaC5hcHBseShlLGMuZ2V0Q2hpbGQoKSk7aHx8KGEuaGlkZGVuPSEwKTtiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGIuam9pbihcIlwiKSk7Yi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKTtiLnNldFN0eWxlKFwibWluLWhlaWdodFwiLFxuXCIxMDAlXCIpO2M9Q0tFRElUT1IuZW52O2Y9XCJja2VfXCIrYS5pZCtcIl9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7ZD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChbJ1xceDNjYSBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3RhYlwiJywwPHRoaXMuXy5wYWdlQ291bnQ/XCIgY2tlX2xhc3RcIjpcImNrZV9maXJzdFwiLGQsYS5oaWRkZW4/JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIic6XCJcIiwnIGlkXFx4M2RcIicsZiwnXCInLGMuZ2Vja28mJiFjLmhjP1wiXCI6JyBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiJywnIHRhYkluZGV4XFx4M2RcIi0xXCIgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcInRhYlwiXFx4M2UnLGEubGFiZWwsXCJcXHgzYy9hXFx4M2VcIl0uam9pbihcIlwiKSk7Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIixmKTt0aGlzLl8udGFic1thLmlkXT1bZCxiXTt0aGlzLl8udGFiSWRMaXN0LnB1c2goYS5pZCk7IWEuaGlkZGVuJiZ0aGlzLl8ucGFnZUNvdW50Kys7XG50aGlzLl8ubGFzdFRhYj1kO3RoaXMudXBkYXRlU3R5bGUoKTtiLnNldEF0dHJpYnV0ZShcIm5hbWVcIixhLmlkKTtiLmFwcGVuZFRvKHRoaXMucGFydHMuY29udGVudHMpO2QudW5zZWxlY3RhYmxlKCk7dGhpcy5wYXJ0cy50YWJzLmFwcGVuZChkKTthLmFjY2Vzc0tleSYmKEIodGhpcyx0aGlzLFwiQ1RSTCtcIithLmFjY2Vzc0tleSxGLHYpLHRoaXMuXy5hY2Nlc3NLZXlNYXBbXCJDVFJMK1wiK2EuYWNjZXNzS2V5XT1hLmlkKX19LHNlbGVjdFBhZ2U6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLmN1cnJlbnRUYWJJZCE9YSYmIXRoaXMuXy50YWJzW2FdWzBdLmhhc0NsYXNzKFwiY2tlX2RpYWxvZ190YWJfZGlzYWJsZWRcIikmJiExIT09dGhpcy5maXJlKFwic2VsZWN0UGFnZVwiLHtwYWdlOmEsY3VycmVudFBhZ2U6dGhpcy5fLmN1cnJlbnRUYWJJZH0pKXtmb3IodmFyIGQgaW4gdGhpcy5fLnRhYnMpe3ZhciBjPXRoaXMuXy50YWJzW2RdWzBdLGY9dGhpcy5fLnRhYnNbZF1bMV07ZCE9YSYmKGMucmVtb3ZlQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9zZWxlY3RlZFwiKSxcbmMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKSxmLmhpZGUoKSk7Zi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLGQhPWEpfXZhciBlPXRoaXMuXy50YWJzW2FdO2VbMF0uYWRkQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9zZWxlY3RlZFwiKTtlWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwhMCk7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8Q0tFRElUT1IuZW52LmllN0NvbXBhdD8oYihlWzFdKSxlWzFdLnNob3coKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlWzFdLDEpfSwwKSk6ZVsxXS5zaG93KCk7dGhpcy5fLmN1cnJlbnRUYWJJZD1hO3RoaXMuXy5jdXJyZW50VGFiSW5kZXg9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LGEpfX0sdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt0aGlzLnBhcnRzLmRpYWxvZ1soMT09PXRoaXMuXy5wYWdlQ291bnQ/XCJhZGRcIjpcInJlbW92ZVwiKStcIkNsYXNzXCJdKFwiY2tlX3NpbmdsZV9wYWdlXCIpfSxoaWRlUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1cbnRoaXMuXy50YWJzW2FdJiZ0aGlzLl8udGFic1thXVswXTtiJiYxIT10aGlzLl8ucGFnZUNvdW50JiZiLmlzVmlzaWJsZSgpJiYoYT09dGhpcy5fLmN1cnJlbnRUYWJJZCYmdGhpcy5zZWxlY3RQYWdlKGcuY2FsbCh0aGlzKSksYi5oaWRlKCksdGhpcy5fLnBhZ2VDb3VudC0tLHRoaXMudXBkYXRlU3R5bGUoKSl9LHNob3dQYWdlOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5fLnRhYnNbYV0mJnRoaXMuXy50YWJzW2FdWzBdKWEuc2hvdygpLHRoaXMuXy5wYWdlQ291bnQrKyx0aGlzLnVwZGF0ZVN0eWxlKCl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVsZW1lbnR9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLm5hbWV9LGdldENvbnRlbnRFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5fLmNvbnRlbnRzW2FdO3JldHVybiBkJiZkW2JdfSxnZXRWYWx1ZU9mOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0Q29udGVudEVsZW1lbnQoYSxiKS5nZXRWYWx1ZSgpfSxcbnNldFZhbHVlT2Y6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiB0aGlzLmdldENvbnRlbnRFbGVtZW50KGEsYikuc2V0VmFsdWUoZCl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV19LGNsaWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5jbGljaygpfSxkaXNhYmxlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5kaXNhYmxlKCl9LGVuYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZW5hYmxlKCl9LGdldFBhZ2VDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8ucGFnZUNvdW50fSxnZXRQYXJlbnRFZGl0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVkaXRvcn0sZ2V0U2VsZWN0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50RWRpdG9yKCkuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCl9LGFkZEZvY3VzYWJsZTpmdW5jdGlvbihhLFxuYil7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGIpYj10aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aCx0aGlzLl8uZm9jdXNMaXN0LnB1c2gobmV3IGsodGhpcyxhLGIpKTtlbHNle3RoaXMuXy5mb2N1c0xpc3Quc3BsaWNlKGIsMCxuZXcgayh0aGlzLGEsYikpO2Zvcih2YXIgZD1iKzE7ZDx0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aDtkKyspdGhpcy5fLmZvY3VzTGlzdFtkXS5mb2N1c0luZGV4Kyt9fSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlIT1hKXt0aGlzLnN0YXRlPWE7aWYoYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0JVU1kpe2lmKCF0aGlzLnBhcnRzLnNwaW5uZXIpe3ZhciBiPXRoaXMuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXIsZD17YXR0cmlidXRlczp7XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ19zcGlubmVyXCJ9LHN0eWxlczp7XCJmbG9hdFwiOlwicnRsXCI9PWI/XCJyaWdodFwiOlwibGVmdFwifX07ZC5zdHlsZXNbXCJtYXJnaW4tXCIrKFwicnRsXCI9PWI/XCJsZWZ0XCI6XCJyaWdodFwiKV09XG5cIjhweFwiO3RoaXMucGFydHMuc3Bpbm5lcj1DS0VESVRPUi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsZCk7dGhpcy5wYXJ0cy5zcGlubmVyLnNldEh0bWwoXCJcXHgyNiM4OTg3O1wiKTt0aGlzLnBhcnRzLnNwaW5uZXIuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSwxKX10aGlzLnBhcnRzLnNwaW5uZXIuc2hvdygpO3RoaXMuZ2V0QnV0dG9uKFwib2tcIikuZGlzYWJsZSgpfWVsc2UgYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUmJih0aGlzLnBhcnRzLnNwaW5uZXImJnRoaXMucGFydHMuc3Bpbm5lci5oaWRlKCksdGhpcy5nZXRCdXR0b24oXCJva1wiKS5lbmFibGUoKSk7dGhpcy5maXJlKFwic3RhdGVcIixhKX19LGdldE1vZGVsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8ubW9kZWw/dGhpcy5fLm1vZGVsOnRoaXMuZGVmaW5pdGlvbi5nZXRNb2RlbD90aGlzLmRlZmluaXRpb24uZ2V0TW9kZWwoYSk6bnVsbH0sc2V0TW9kZWw6ZnVuY3Rpb24oYSl7dGhpcy5fLm1vZGVsPWF9LGdldE1vZGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5kZWZpbml0aW9uLmdldE1vZGUpcmV0dXJuIHRoaXMuZGVmaW5pdGlvbi5nZXRNb2RlKGEpO1xuYT10aGlzLmdldE1vZGVsKGEpO3JldHVybiFhfHxhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJiFhLmdldFBhcmVudCgpP0NLRURJVE9SLmRpYWxvZy5DUkVBVElPTl9NT0RFOkNLRURJVE9SLmRpYWxvZy5FRElUSU5HX01PREV9fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZGlhbG9nLHtDUkVBVElPTl9NT0RFOjAsRURJVElOR19NT0RFOjEsYWRkOmZ1bmN0aW9uKGEsYil7dGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwodGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdPWIpfSxleGlzdHM6ZnVuY3Rpb24oYSl7cmV0dXJuISF0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV19LGdldEN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcH0saXNUYWJFbmFibGVkOmZ1bmN0aW9uKGEsYixkKXthPWEuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnM7cmV0dXJuIShhJiZhLm1hdGNoKG5ldyBSZWdFeHAoXCIoPzpefDspXCIrXG5iK1wiOlwiK2QrXCIoPzokfDspXCIsXCJpXCIpKSl9LG9rQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe2lkOlwib2tcIix0eXBlOlwiYnV0dG9uXCIsbGFiZWw6YS5sYW5nLmNvbW1vbi5vayxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2J1dHRvbl9va1wiLG9uQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZGlhbG9nOyExIT09YS5maXJlKFwib2tcIix7aGlkZTohMH0pLmhpZGUmJmEuaGlkZSgpfX0sYiwhMCl9O2EudHlwZT1cImJ1dHRvblwiO2Eub3ZlcnJpZGU9ZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihkKXtyZXR1cm4gYShkLGIpfSx7dHlwZTpcImJ1dHRvblwifSwhMCl9O3JldHVybiBhfSgpLGNhbmNlbEJ1dHRvbjpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtpZDpcImNhbmNlbFwiLHR5cGU6XCJidXR0b25cIixcbmxhYmVsOmEubGFuZy5jb21tb24uY2FuY2VsLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfYnV0dG9uX2NhbmNlbFwiLG9uQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZGlhbG9nOyExIT09YS5maXJlKFwiY2FuY2VsXCIse2hpZGU6ITB9KS5oaWRlJiZhLmhpZGUoKX19LGIsITApfTthLnR5cGU9XCJidXR0b25cIjthLm92ZXJyaWRlPWZ1bmN0aW9uKGIpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoZnVuY3Rpb24oZCl7cmV0dXJuIGEoZCxiKX0se3R5cGU6XCJidXR0b25cIn0sITApfTtyZXR1cm4gYX0oKSxhZGRVSUVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8udWlFbGVtZW50QnVpbGRlcnNbYV09Yn19KTtDS0VESVRPUi5kaWFsb2cuXz17dWlFbGVtZW50QnVpbGRlcnM6e30sZGlhbG9nRGVmaW5pdGlvbnM6e30sY3VycmVudFRvcDpudWxsLGN1cnJlbnRaSW5kZXg6bnVsbH07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuZGlhbG9nKTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5kaWFsb2cucHJvdG90eXBlKTtcbkM9e3Jlc2l6YWJsZTpDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgsbWluV2lkdGg6NjAwLG1pbkhlaWdodDo0MDAsYnV0dG9uczpbQ0tFRElUT1IuZGlhbG9nLm9rQnV0dG9uLENLRURJVE9SLmRpYWxvZy5jYW5jZWxCdXR0b25dfTt2YXIgRT1mdW5jdGlvbihhLGIsZCl7Zm9yKHZhciBjPTAsZjtmPWFbY107YysrKWlmKGYuaWQ9PWJ8fGQmJmZbZF0mJihmPUUoZltkXSxiLGQpKSlyZXR1cm4gZjtyZXR1cm4gbnVsbH0sRD1mdW5jdGlvbihhLGIsZCxjLGYpe2lmKGQpe2Zvcih2YXIgZT0wLGg7aD1hW2VdO2UrKyl7aWYoaC5pZD09ZClyZXR1cm4gYS5zcGxpY2UoZSwwLGIpLGI7aWYoYyYmaFtjXSYmKGg9RChoW2NdLGIsZCxjLCEwKSkpcmV0dXJuIGh9aWYoZilyZXR1cm4gbnVsbH1hLnB1c2goYik7cmV0dXJuIGJ9LE89ZnVuY3Rpb24oYSxiLGQpe2Zvcih2YXIgYz0wLGY7Zj1hW2NdO2MrKyl7aWYoZi5pZD09YilyZXR1cm4gYS5zcGxpY2UoYywxKTtpZihkJiZmW2RdJiYoZj1PKGZbZF0sXG5iLGQpKSlyZXR1cm4gZn1yZXR1cm4gbnVsbH07Zi5wcm90b3R5cGU9e2dldENvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBFKHRoaXMuY29udGVudHMsYSl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gRSh0aGlzLmJ1dHRvbnMsYSl9LGFkZENvbnRlbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEQodGhpcy5jb250ZW50cyxhLGIpfSxhZGRCdXR0b246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRCh0aGlzLmJ1dHRvbnMsYSxiKX0scmVtb3ZlQ29udGVudHM6ZnVuY3Rpb24oYSl7Tyh0aGlzLmNvbnRlbnRzLGEpfSxyZW1vdmVCdXR0b246ZnVuY3Rpb24oYSl7Tyh0aGlzLmJ1dHRvbnMsYSl9fTthLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBFKHRoaXMuZWxlbWVudHMsYSxcImNoaWxkcmVuXCIpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRCh0aGlzLmVsZW1lbnRzLGEsYixcImNoaWxkcmVuXCIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Tyh0aGlzLmVsZW1lbnRzLGEsXG5cImNoaWxkcmVuXCIpfX07dmFyIEs9e30sTT17fTsoZnVuY3Rpb24oKXtDS0VESVRPUi51aS5kaWFsb2c9e3VpRWxlbWVudDpmdW5jdGlvbihhLGIsZCxjLGYsZSxoKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBnPShjLmNhbGw/YyhiKTpjKXx8XCJkaXZcIixuPVtcIlxceDNjXCIsZyxcIiBcIl0saz0oZiYmZi5jYWxsP2YoYik6Zil8fHt9LGw9KGUmJmUuY2FsbD9lKGIpOmUpfHx7fSxtPShoJiZoLmNhbGw/aC5jYWxsKHRoaXMsYSxiKTpoKXx8XCJcIixyPXRoaXMuZG9tSWQ9bC5pZHx8Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfdWlFbGVtZW50XCI7Yi5yZXF1aXJlZENvbnRlbnQmJiFhLmdldFBhcmVudEVkaXRvcigpLmZpbHRlci5jaGVjayhiLnJlcXVpcmVkQ29udGVudCkmJihrLmRpc3BsYXk9XCJub25lXCIsdGhpcy5ub3RBbGxvd2VkPSEwKTtsLmlkPXI7dmFyIHU9e307Yi50eXBlJiYodVtcImNrZV9kaWFsb2dfdWlfXCIrYi50eXBlXT0xKTtiLmNsYXNzTmFtZSYmKHVbYi5jbGFzc05hbWVdPVxuMSk7Yi5kaXNhYmxlZCYmKHUuY2tlX2Rpc2FibGVkPTEpO2Zvcih2YXIgdD1sW1wiY2xhc3NcIl0mJmxbXCJjbGFzc1wiXS5zcGxpdD9sW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpOltdLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdJiYodVt0W3JdXT0xKTt0PVtdO2ZvcihyIGluIHUpdC5wdXNoKHIpO2xbXCJjbGFzc1wiXT10LmpvaW4oXCIgXCIpO2IudGl0bGUmJihsLnRpdGxlPWIudGl0bGUpO3U9KGIuc3R5bGV8fFwiXCIpLnNwbGl0KFwiO1wiKTtiLmFsaWduJiYodD1iLmFsaWduLGtbXCJtYXJnaW4tbGVmdFwiXT1cImxlZnRcIj09dD8wOlwiYXV0b1wiLGtbXCJtYXJnaW4tcmlnaHRcIl09XCJyaWdodFwiPT10PzA6XCJhdXRvXCIpO2ZvcihyIGluIGspdS5wdXNoKHIrXCI6XCIra1tyXSk7Yi5oaWRkZW4mJnUucHVzaChcImRpc3BsYXk6bm9uZVwiKTtmb3Iocj11Lmxlbmd0aC0xOzA8PXI7ci0tKVwiXCI9PT11W3JdJiZ1LnNwbGljZShyLDEpOzA8dS5sZW5ndGgmJihsLnN0eWxlPShsLnN0eWxlP2wuc3R5bGUrXCI7IFwiOlwiXCIpK3Uuam9pbihcIjsgXCIpKTtcbmZvcihyIGluIGwpbi5wdXNoKHIrJ1xceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUobFtyXSkrJ1wiICcpO24ucHVzaChcIlxceDNlXCIsbSxcIlxceDNjL1wiLGcsXCJcXHgzZVwiKTtkLnB1c2gobi5qb2luKFwiXCIpKTsodGhpcy5ffHwodGhpcy5fPXt9KSkuZGlhbG9nPWE7XCJib29sZWFuXCI9PXR5cGVvZiBiLmlzQ2hhbmdlZCYmKHRoaXMuaXNDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuIGIuaXNDaGFuZ2VkfSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5pc0NoYW5nZWQmJih0aGlzLmlzQ2hhbmdlZD1iLmlzQ2hhbmdlZCk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5zZXRWYWx1ZSYmKHRoaXMuc2V0VmFsdWU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUodGhpcy5zZXRWYWx1ZSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oZCl7YS5jYWxsKHRoaXMsYi5zZXRWYWx1ZS5jYWxsKHRoaXMsZCkpfX0pKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmdldFZhbHVlJiYodGhpcy5nZXRWYWx1ZT1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLmdldFZhbHVlLFxuZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0VmFsdWUuY2FsbCh0aGlzLGEuY2FsbCh0aGlzKSl9fSkpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKHRoaXMpO3RoaXMucmVnaXN0ZXJFdmVudHMoYik7dGhpcy5hY2Nlc3NLZXlVcCYmdGhpcy5hY2Nlc3NLZXlEb3duJiZiLmFjY2Vzc0tleSYmQih0aGlzLGEsXCJDVFJMK1wiK2IuYWNjZXNzS2V5KTt2YXIgcD10aGlzO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYj1wLmdldElucHV0RWxlbWVudCgpO2lmKGIpe3ZhciBkPXAudHlwZSBpbntjaGVja2JveDoxLHJhdGlvOjF9JiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/XCJja2VfZGlhbG9nX3VpX2ZvY3VzZWRcIjpcIlwiO2Iub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5fLnRhYkJhck1vZGU9ITE7YS5fLmhhc0ZvY3VzPSEwO3AuZmlyZShcImZvY3VzXCIpO2QmJnRoaXMuYWRkQ2xhc3MoZCl9KTtiLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7cC5maXJlKFwiYmx1clwiKTtcbmQmJnRoaXMucmVtb3ZlQ2xhc3MoZCl9KX19KTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTt0aGlzLmtleWJvYXJkRm9jdXNhYmxlJiYodGhpcy50YWJJbmRleD1iLnRhYkluZGV4fHwwLHRoaXMuZm9jdXNJbmRleD1hLl8uZm9jdXNMaXN0LnB1c2godGhpcyktMSx0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD1wLmZvY3VzSW5kZXh9KSl9fSxoYm94OmZ1bmN0aW9uKGEsYixkLGMsZil7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBlPXRoaXMuXy5jaGlsZHJlbj1iLGg9ZiYmZi53aWR0aHN8fG51bGwsZz1mJiZmLmhlaWdodHx8bnVsbCxuLGs9e3JvbGU6XCJwcmVzZW50YXRpb25cIn07ZiYmZi5hbGlnbiYmKGsuYWxpZ249Zi5hbGlnbik7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYSxmfHx7dHlwZTpcImhib3hcIn0sYyxcInRhYmxlXCIse30sayxmdW5jdGlvbigpe3ZhciBhPVxuWydcXHgzY3Rib2R5XFx4M2VcXHgzY3RyIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaGJveFwiXFx4M2UnXTtmb3Iobj0wO248ZC5sZW5ndGg7bisrKXt2YXIgYj1cImNrZV9kaWFsb2dfdWlfaGJveF9jaGlsZFwiLGM9W107MD09PW4mJihiPVwiY2tlX2RpYWxvZ191aV9oYm94X2ZpcnN0XCIpO249PWQubGVuZ3RoLTEmJihiPVwiY2tlX2RpYWxvZ191aV9oYm94X2xhc3RcIik7YS5wdXNoKCdcXHgzY3RkIGNsYXNzXFx4M2RcIicsYiwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiAnKTtoP2hbbl0mJmMucHVzaChcIndpZHRoOlwiK3koaFtuXSkpOmMucHVzaChcIndpZHRoOlwiK01hdGguZmxvb3IoMTAwL2QubGVuZ3RoKStcIiVcIik7ZyYmYy5wdXNoKFwiaGVpZ2h0OlwiK3koZykpO2YmJnZvaWQgMCE9PWYucGFkZGluZyYmYy5wdXNoKFwicGFkZGluZzpcIit5KGYucGFkZGluZykpO0NLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmZVtuXS5hbGlnbiYmYy5wdXNoKFwidGV4dC1hbGlnbjpcIitlW25dLmFsaWduKTtcbjA8Yy5sZW5ndGgmJmEucHVzaCgnc3R5bGVcXHgzZFwiJytjLmpvaW4oXCI7IFwiKSsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcIixkW25dLFwiXFx4M2MvdGRcXHgzZVwiKX1hLnB1c2goXCJcXHgzYy90clxceDNlXFx4M2MvdGJvZHlcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSx2Ym94OmZ1bmN0aW9uKGEsYixkLGMsZil7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBlPXRoaXMuXy5jaGlsZHJlbj1iLGg9ZiYmZi53aWR0aHx8bnVsbCxnPWYmJmYuaGVpZ2h0c3x8bnVsbDtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGZ8fHt0eXBlOlwidmJveFwifSxjLFwiZGl2XCIsbnVsbCx7cm9sZTpcInByZXNlbnRhdGlvblwifSxmdW5jdGlvbigpe3ZhciBiPVsnXFx4M2N0YWJsZSByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGNlbGxzcGFjaW5nXFx4M2RcIjBcIiBib3JkZXJcXHgzZFwiMFwiICddO2IucHVzaCgnc3R5bGVcXHgzZFwiJyk7ZiYmZi5leHBhbmQmJmIucHVzaChcImhlaWdodDoxMDAlO1wiKTtcbmIucHVzaChcIndpZHRoOlwiK3koaHx8XCIxMDAlXCIpLFwiO1wiKTtDS0VESVRPUi5lbnYud2Via2l0JiZiLnB1c2goXCJmbG9hdDpub25lO1wiKTtiLnB1c2goJ1wiJyk7Yi5wdXNoKCdhbGlnblxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZiYmZi5hbGlnbnx8KFwibHRyXCI9PWEuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXI/XCJsZWZ0XCI6XCJyaWdodFwiKSksJ1wiICcpO2IucHVzaChcIlxceDNlXFx4M2N0Ym9keVxceDNlXCIpO2Zvcih2YXIgYz0wO2M8ZC5sZW5ndGg7YysrKXt2YXIgbj1bXTtiLnB1c2goJ1xceDNjdHJcXHgzZVxceDNjdGQgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiAnKTtoJiZuLnB1c2goXCJ3aWR0aDpcIit5KGh8fFwiMTAwJVwiKSk7Zz9uLnB1c2goXCJoZWlnaHQ6XCIreShnW2NdKSk6ZiYmZi5leHBhbmQmJm4ucHVzaChcImhlaWdodDpcIitNYXRoLmZsb29yKDEwMC9kLmxlbmd0aCkrXCIlXCIpO2YmJnZvaWQgMCE9PWYucGFkZGluZyYmbi5wdXNoKFwicGFkZGluZzpcIit5KGYucGFkZGluZykpO0NLRURJVE9SLmVudi5pZSYmXG5DS0VESVRPUi5lbnYucXVpcmtzJiZlW2NdLmFsaWduJiZuLnB1c2goXCJ0ZXh0LWFsaWduOlwiK2VbY10uYWxpZ24pOzA8bi5sZW5ndGgmJmIucHVzaCgnc3R5bGVcXHgzZFwiJyxuLmpvaW4oXCI7IFwiKSwnXCIgJyk7Yi5wdXNoKCcgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV92Ym94X2NoaWxkXCJcXHgzZScsZFtjXSxcIlxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXCIpfWIucHVzaChcIlxceDNjL3Rib2R5XFx4M2VcXHgzYy90YWJsZVxceDNlXCIpO3JldHVybiBiLmpvaW4oXCJcIil9KX19fX0pKCk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGU9e2dldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmRvbUlkKX0sZ2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpfSxnZXREaWFsb2c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRpYWxvZ30sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLmdldElucHV0RWxlbWVudCgpLnNldFZhbHVlKGEpO1xuIWImJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphfSk7cmV0dXJuIHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0VmFsdWUoKX0saXNDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHNlbGVjdFBhcmVudFRhYjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpOyhhPWEuZ2V0UGFyZW50KCkpJiYtMT09YS4kLmNsYXNzTmFtZS5zZWFyY2goXCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIik7KTtpZighYSlyZXR1cm4gdGhpczthPWEuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTt0aGlzLl8uZGlhbG9nLl8uY3VycmVudFRhYklkIT1hJiZ0aGlzLl8uZGlhbG9nLnNlbGVjdFBhZ2UoYSk7cmV0dXJuIHRoaXN9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RQYXJlbnRUYWIoKS5nZXRJbnB1dEVsZW1lbnQoKS5mb2N1cygpO3JldHVybiB0aGlzfSxyZWdpc3RlckV2ZW50czpmdW5jdGlvbihhKXt2YXIgYj1cbi9eb24oW0EtWl1cXHcrKS8sZCxjPWZ1bmN0aW9uKGEsYixkLGMpe2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGQsYyxhKX0pfSxmO2ZvcihmIGluIGEpaWYoZD1mLm1hdGNoKGIpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2ZdP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2ZdLmNhbGwodGhpcyx0aGlzLl8uZGlhbG9nLGFbZl0pOmModGhpcyx0aGlzLl8uZGlhbG9nLGRbMV0udG9Mb3dlckNhc2UoKSxhW2ZdKTtyZXR1cm4gdGhpc30sZXZlbnRQcm9jZXNzb3JzOntvbkxvYWQ6ZnVuY3Rpb24oYSxiKXthLm9uKFwibG9hZFwiLGIsdGhpcyl9LG9uU2hvdzpmdW5jdGlvbihhLGIpe2Eub24oXCJzaG93XCIsYix0aGlzKX0sb25IaWRlOmZ1bmN0aW9uKGEsYil7YS5vbihcImhpZGVcIixiLHRoaXMpfX0sYWNjZXNzS2V5RG93bjpmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt9LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTtcbnRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcInRydWVcIik7YS5hZGRDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTthLnJlbW92ZUNsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRFbGVtZW50KCkuaGFzQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmlzVmlzaWJsZSgpfSxpc0ZvY3VzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzVmlzaWJsZSgpPyEwOiExfX07Q0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCxcbntnZXRDaGlsZDpmdW5jdGlvbihhKXtpZigxPmFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuXy5jaGlsZHJlbi5jb25jYXQoKTthLnNwbGljZXx8KGE9W2FdKTtyZXR1cm4gMj5hLmxlbmd0aD90aGlzLl8uY2hpbGRyZW5bYVswXV06dGhpcy5fLmNoaWxkcmVuW2FbMF1dJiZ0aGlzLl8uY2hpbGRyZW5bYVswXV0uZ2V0Q2hpbGQ/dGhpcy5fLmNoaWxkcmVuW2FbMF1dLmdldENoaWxkKGEuc2xpY2UoMSxhLmxlbmd0aCkpOm51bGx9fSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnZib3gucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveDsoZnVuY3Rpb24oKXt2YXIgYT17YnVpbGQ6ZnVuY3Rpb24oYSxiLGQpe2Zvcih2YXIgYz1iLmNoaWxkcmVuLGYsZT1bXSxoPVtdLGc9MDtnPGMubGVuZ3RoJiYoZj1jW2ddKTtnKyspe3ZhciBuPVtdO2UucHVzaChuKTtoLnB1c2goQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnNbZi50eXBlXS5idWlsZChhLGYsbikpfXJldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2IudHlwZV0oYSxcbmgsZSxkLGIpfX07Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImhib3hcIixhKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidmJveFwiLGEpfSkoKTtDS0VESVRPUi5kaWFsb2dDb21tYW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2dOYW1lPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYiwhMCl9O0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGFiSWQ7YS5vcGVuRGlhbG9nKHRoaXMuZGlhbG9nTmFtZSxmdW5jdGlvbihhKXtiJiZhLnNlbGVjdFBhZ2UoYil9KX0sY2FuVW5kbzohMSxlZGl0b3JGb2N1czoxfTsoZnVuY3Rpb24oKXt2YXIgYT0vXihbYV18W15hXSkrJC8sYj0vXlxcZCokLyxkPS9eXFxkKig/OlxcLlxcZCspPyQvLGM9L14oKChcXGQqKFxcLlxcZCspKXwoXFxkKikpKHB4fFxcJSk/KT8kLyxmPS9eKCgoXFxkKihcXC5cXGQrKSl8KFxcZCopKShweHxlbXxleHxpbnxjbXxtbXxwdHxwY3xcXCUpPyk/JC9pLFxuZT0vXihcXHMqW1xcdy1dK1xccyo6XFxzKlteOjtdKyg/Ojt8JCkpKiQvO0NLRURJVE9SLlZBTElEQVRFX09SPTE7Q0tFRElUT1IuVkFMSURBVEVfQU5EPTI7Q0tFRElUT1IuZGlhbG9nLnZhbGlkYXRlPXtmdW5jdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6YVswXSxkLGM9Q0tFRElUT1IuVkFMSURBVEVfQU5ELGY9W10sZTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFbZV0pZi5wdXNoKGFbZV0pO2Vsc2UgYnJlYWs7ZTxhLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGFbZV0mJihkPWFbZV0sZSsrKTtlPGEubGVuZ3RoJiZcIm51bWJlclwiPT10eXBlb2YgYVtlXSYmKGM9YVtlXSk7dmFyIGg9Yz09Q0tFRElUT1IuVkFMSURBVEVfQU5EPyEwOiExO2ZvcihlPTA7ZTxmLmxlbmd0aDtlKyspaD1jPT1DS0VESVRPUi5WQUxJREFURV9BTkQ/aCYmXG5mW2VdKGIpOmh8fGZbZV0oYik7cmV0dXJuIGg/ITA6ZH19LHJlZ2V4OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQpe2Q9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6ZDtyZXR1cm4gYS50ZXN0KGQpPyEwOmJ9fSxub3RFbXB0eTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZWdleChhLGIpfSxpbnRlZ2VyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2V4KGIsYSl9LG51bWJlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdleChkLGEpfSxjc3NMZW5ndGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBmLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxodG1sTGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gYy50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0saW5saW5lU3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBlLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LFxuYSl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihiKXtyZXR1cm4gYj09YX0sYil9LG5vdEVxdWFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGIpe3JldHVybiBiIT1hfSxiKX19O0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbihhKXtpZihDS0VESVRPUi50b29scy5pc0VtcHR5KENLRURJVE9SLmluc3RhbmNlcykpe2Zvcih2YXIgYjtiPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A7KWIuaGlkZSgpO2Zvcih2YXIgZCBpbiBLKUtbZF0ucmVtb3ZlKCk7Sz17fX1hPWEuZWRpdG9yLl8uc3RvcmVkRGlhbG9ncztmb3IodmFyIGMgaW4gYSlhW2NdLmRlc3Ryb3koKX0pfSkoKTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7b3BlbkRpYWxvZzpmdW5jdGlvbihhLGIsZCl7dmFyIGM9bnVsbCxmPUNLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdO1xubnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AmJnEodGhpcyk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZilmPXRoaXMuXy5zdG9yZWREaWFsb2dzfHwodGhpcy5fLnN0b3JlZERpYWxvZ3M9e30pLGM9ZlthXXx8KGZbYV09bmV3IENLRURJVE9SLmRpYWxvZyh0aGlzLGEpKSxjLnNldE1vZGVsKGQpLGImJmIuY2FsbChjLGMpLGMuc2hvdygpO2Vsc2V7aWYoXCJmYWlsZWRcIj09Zil0aHJvdyB1KHRoaXMpLEVycm9yKCdbQ0tFRElUT1IuZGlhbG9nLm9wZW5EaWFsb2ddIERpYWxvZyBcIicrYSsnXCIgZmFpbGVkIHdoZW4gbG9hZGluZyBkZWZpbml0aW9uLicpO1wic3RyaW5nXCI9PXR5cGVvZiBmJiZDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoZiksZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBDS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXSYmKENLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdPVwiZmFpbGVkXCIpO1xudGhpcy5vcGVuRGlhbG9nKGEsYixkKX0sdGhpcywwLDEpfUNLRURJVE9SLnNraW4ubG9hZFBhcnQoXCJkaWFsb2dcIik7aWYoYyljLm9uY2UoXCJoaWRlXCIsZnVuY3Rpb24oKXtjLnNldE1vZGVsKG51bGwpfSxudWxsLG51bGwsOTk5KTtyZXR1cm4gY319KX0pKCk7dmFyIGlhPSExO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9nXCIse3JlcXVpcmVzOlwiZGlhbG9ndWlcIixpbml0OmZ1bmN0aW9uKGMpe2lhfHwoQ0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldCh0aGlzLnBhdGgrXCJzdHlsZXMvZGlhbG9nLmNzc1wiKSxpYT0hMCk7Yy5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oZyl7Zy5kYXRhLmRpYWxvZyYmYy5vcGVuRGlhbG9nKGcuZGF0YS5kaWFsb2cpfSxudWxsLG51bGwsOTk5KX19KTtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGMsYil7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYix7ZWRpdG9yOmMsaWQ6XCJja2UtXCIrQ0tFRElUT1IudG9vbHMuZ2V0VW5pcXVlSWQoKSxcbmFyZWE6Yy5fLm5vdGlmaWNhdGlvbkFyZWF9KTtiLnR5cGV8fCh0aGlzLnR5cGU9XCJpbmZvXCIpO3RoaXMuZWxlbWVudD10aGlzLl9jcmVhdGVFbGVtZW50KCk7Yy5wbHVnaW5zLmNsaXBib2FyZCYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KHRoaXMuZWxlbWVudCl9ZnVuY3Rpb24gZyhjKXt2YXIgYj10aGlzO3RoaXMuZWRpdG9yPWM7dGhpcy5ub3RpZmljYXRpb25zPVtdO3RoaXMuZWxlbWVudD10aGlzLl9jcmVhdGVFbGVtZW50KCk7dGhpcy5fdWlCdWZmZXI9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDEwLHRoaXMuX2xheW91dCx0aGlzKTt0aGlzLl9jaGFuZ2VCdWZmZXI9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwMCx0aGlzLl9sYXlvdXQsdGhpcyk7Yy5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2IuX3JlbW92ZUxpc3RlbmVycygpO2IuZWxlbWVudC5yZW1vdmUoKX0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibm90aWZpY2F0aW9uXCIsXG57aW5pdDpmdW5jdGlvbihjKXtmdW5jdGlvbiBiKGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtjLnNldFN0eWxlcyh7cG9zaXRpb246XCJmaXhlZFwiLFwibWFyZ2luLWxlZnRcIjpcIi05OTk5cHhcIn0pO2Muc2V0QXR0cmlidXRlcyh7XCJhcmlhLWxpdmVcIjpcImFzc2VydGl2ZVwiLFwiYXJpYS1hdG9taWNcIjpcInRydWVcIn0pO2Muc2V0VGV4dChiKTtDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKGMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnJlbW92ZSgpfSwxMDApfWMuXy5ub3RpZmljYXRpb25BcmVhPW5ldyBnKGMpO2Muc2hvd05vdGlmaWNhdGlvbj1mdW5jdGlvbihiLGcsbCl7dmFyIGssZDtcInByb2dyZXNzXCI9PWc/az1sOmQ9bDtiPW5ldyBDS0VESVRPUi5wbHVnaW5zLm5vdGlmaWNhdGlvbihjLHttZXNzYWdlOmIsdHlwZTpnLHByb2dyZXNzOmssZHVyYXRpb246ZH0pO2Iuc2hvdygpO3JldHVybiBifTtjLm9uKFwia2V5XCIsZnVuY3Rpb24oaCl7aWYoMjc9PVxuaC5kYXRhLmtleUNvZGUpe3ZhciBnPWMuXy5ub3RpZmljYXRpb25BcmVhLm5vdGlmaWNhdGlvbnM7Zy5sZW5ndGgmJihiKGMubGFuZy5ub3RpZmljYXRpb24uY2xvc2VkKSxnW2cubGVuZ3RoLTFdLmhpZGUoKSxoLmNhbmNlbCgpKX19KX19KTtjLnByb3RvdHlwZT17c2hvdzpmdW5jdGlvbigpeyExIT09dGhpcy5lZGl0b3IuZmlyZShcIm5vdGlmaWNhdGlvblNob3dcIix7bm90aWZpY2F0aW9uOnRoaXN9KSYmKHRoaXMuYXJlYS5hZGQodGhpcyksdGhpcy5faGlkZUFmdGVyVGltZW91dCgpKX0sdXBkYXRlOmZ1bmN0aW9uKGMpe3ZhciBiPSEwOyExPT09dGhpcy5lZGl0b3IuZmlyZShcIm5vdGlmaWNhdGlvblVwZGF0ZVwiLHtub3RpZmljYXRpb246dGhpcyxvcHRpb25zOmN9KSYmKGI9ITEpO3ZhciBoPXRoaXMuZWxlbWVudCxnPWguZmluZE9uZShcIi5ja2Vfbm90aWZpY2F0aW9uX21lc3NhZ2VcIiksbD1oLmZpbmRPbmUoXCIuY2tlX25vdGlmaWNhdGlvbl9wcm9ncmVzc1wiKSxrPWMudHlwZTtoLnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIik7XG5jLnByb2dyZXNzJiZcInByb2dyZXNzXCIhPXRoaXMudHlwZSYmKGs9XCJwcm9ncmVzc1wiKTtrJiYoaC5yZW1vdmVDbGFzcyh0aGlzLl9nZXRDbGFzcygpKSxoLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiksdGhpcy50eXBlPWssaC5hZGRDbGFzcyh0aGlzLl9nZXRDbGFzcygpKSxoLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLnR5cGUpLFwicHJvZ3Jlc3NcIiE9dGhpcy50eXBlfHxsP1wicHJvZ3Jlc3NcIiE9dGhpcy50eXBlJiZsJiZsLnJlbW92ZSgpOihsPXRoaXMuX2NyZWF0ZVByb2dyZXNzRWxlbWVudCgpLGwuaW5zZXJ0QmVmb3JlKGcpKSk7dm9pZCAwIT09Yy5tZXNzYWdlJiYodGhpcy5tZXNzYWdlPWMubWVzc2FnZSxnLnNldEh0bWwodGhpcy5tZXNzYWdlKSk7dm9pZCAwIT09Yy5wcm9ncmVzcyYmKHRoaXMucHJvZ3Jlc3M9Yy5wcm9ncmVzcyxsJiZsLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLl9nZXRQZXJjZW50YWdlUHJvZ3Jlc3MoKSkpO2ImJmMuaW1wb3J0YW50JiYoaC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXG5cImFsZXJ0XCIpLHRoaXMuaXNWaXNpYmxlKCl8fHRoaXMuYXJlYS5hZGQodGhpcykpO3RoaXMuZHVyYXRpb249Yy5kdXJhdGlvbjt0aGlzLl9oaWRlQWZ0ZXJUaW1lb3V0KCl9LGhpZGU6ZnVuY3Rpb24oKXshMSE9PXRoaXMuZWRpdG9yLmZpcmUoXCJub3RpZmljYXRpb25IaWRlXCIse25vdGlmaWNhdGlvbjp0aGlzfSkmJnRoaXMuYXJlYS5yZW1vdmUodGhpcyl9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiAwPD1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuYXJlYS5ub3RpZmljYXRpb25zLHRoaXMpfSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYixoLGc9dGhpcy5lZGl0b3IubGFuZy5jb21tb24uY2xvc2U7Yj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7Yi5hZGRDbGFzcyhcImNrZV9ub3RpZmljYXRpb25cIik7Yi5hZGRDbGFzcyh0aGlzLl9nZXRDbGFzcygpKTtiLnNldEF0dHJpYnV0ZXMoe2lkOnRoaXMuaWQscm9sZTpcImFsZXJ0XCIsXCJhcmlhLWxhYmVsXCI6dGhpcy50eXBlfSk7XG5cInByb2dyZXNzXCI9PXRoaXMudHlwZSYmYi5hcHBlbmQodGhpcy5fY3JlYXRlUHJvZ3Jlc3NFbGVtZW50KCkpO2g9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwicFwiKTtoLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvbl9tZXNzYWdlXCIpO2guc2V0SHRtbCh0aGlzLm1lc3NhZ2UpO2IuYXBwZW5kKGgpO2g9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjYSBjbGFzc1xceDNkXCJja2Vfbm90aWZpY2F0aW9uX2Nsb3NlXCIgaHJlZlxceDNkXCJqYXZhc2NyaXB0OnZvaWQoMClcIiB0aXRsZVxceDNkXCInK2crJ1wiIHJvbGVcXHgzZFwiYnV0dG9uXCIgdGFiaW5kZXhcXHgzZFwiLTFcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9sYWJlbFwiXFx4M2VYXFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlJyk7Yi5hcHBlbmQoaCk7aC5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtjLmVkaXRvci5mb2N1cygpO2MuaGlkZSgpfSk7cmV0dXJuIGJ9LF9nZXRDbGFzczpmdW5jdGlvbigpe3JldHVyblwicHJvZ3Jlc3NcIj09XG50aGlzLnR5cGU/XCJja2Vfbm90aWZpY2F0aW9uX2luZm9cIjpcImNrZV9ub3RpZmljYXRpb25fXCIrdGhpcy50eXBlfSxfY3JlYXRlUHJvZ3Jlc3NFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKTtjLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvbl9wcm9ncmVzc1wiKTtjLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLl9nZXRQZXJjZW50YWdlUHJvZ3Jlc3MoKSk7cmV0dXJuIGN9LF9nZXRQZXJjZW50YWdlUHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgxMDAqKHRoaXMucHJvZ3Jlc3N8fDApKStcIiVcIn0sX2hpZGVBZnRlclRpbWVvdXQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI7dGhpcy5faGlkZVRpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0SWQpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmR1cmF0aW9uKWI9dGhpcy5kdXJhdGlvbjtlbHNlIGlmKFwiaW5mb1wiPT10aGlzLnR5cGV8fFwic3VjY2Vzc1wiPT1cbnRoaXMudHlwZSliPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmVkaXRvci5jb25maWcubm90aWZpY2F0aW9uX2R1cmF0aW9uP3RoaXMuZWRpdG9yLmNvbmZpZy5ub3RpZmljYXRpb25fZHVyYXRpb246NUUzO2ImJihjLl9oaWRlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmhpZGUoKX0sYikpfX07Zy5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihjKXt0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChjKTt0aGlzLmVsZW1lbnQuYXBwZW5kKGMuZWxlbWVudCk7MT09dGhpcy5lbGVtZW50LmdldENoaWxkQ291bnQoKSYmKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQodGhpcy5lbGVtZW50KSx0aGlzLl9hdHRhY2hMaXN0ZW5lcnMoKSk7dGhpcy5fbGF5b3V0KCl9LHJlbW92ZTpmdW5jdGlvbihjKXt2YXIgYj1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMubm90aWZpY2F0aW9ucyxjKTswPmJ8fCh0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGIsMSksYy5lbGVtZW50LnJlbW92ZSgpLFxudGhpcy5lbGVtZW50LmdldENoaWxkQ291bnQoKXx8KHRoaXMuX3JlbW92ZUxpc3RlbmVycygpLHRoaXMuZWxlbWVudC5yZW1vdmUoKSkpfSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWRpdG9yLGI9Yy5jb25maWcsaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7aC5hZGRDbGFzcyhcImNrZV9ub3RpZmljYXRpb25zX2FyZWFcIik7aC5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwiY2tlX25vdGlmaWNhdGlvbnNfYXJlYV9cIitjLm5hbWUpO2guc2V0U3R5bGUoXCJ6LWluZGV4XCIsYi5iYXNlRmxvYXRaSW5kZXgtMik7cmV0dXJuIGh9LF9hdHRhY2hMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxiPXRoaXMuZWRpdG9yO2Mub24oXCJzY3JvbGxcIix0aGlzLl91aUJ1ZmZlci5pbnB1dCk7Yy5vbihcInJlc2l6ZVwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTtiLm9uKFwiY2hhbmdlXCIsdGhpcy5fY2hhbmdlQnVmZmVyLmlucHV0KTtcbmIub24oXCJmbG9hdGluZ1NwYWNlTGF5b3V0XCIsdGhpcy5fbGF5b3V0LHRoaXMsbnVsbCwyMCk7Yi5vbihcImJsdXJcIix0aGlzLl9sYXlvdXQsdGhpcyxudWxsLDIwKX0sX3JlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLGI9dGhpcy5lZGl0b3I7Yy5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTtjLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fdWlCdWZmZXIuaW5wdXQpO2IucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLl9jaGFuZ2VCdWZmZXIuaW5wdXQpO2IucmVtb3ZlTGlzdGVuZXIoXCJmbG9hdGluZ1NwYWNlTGF5b3V0XCIsdGhpcy5fbGF5b3V0KTtiLnJlbW92ZUxpc3RlbmVyKFwiYmx1clwiLHRoaXMuX2xheW91dCl9LF9sYXlvdXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7Yi5zZXRTdHlsZShcImxlZnRcIix6KHQrZy53aWR0aC1uLXIpKX12YXIgYj10aGlzLmVsZW1lbnQsaD1cbnRoaXMuZWRpdG9yLGc9aC51aS5jb250ZW50c0VsZW1lbnQuZ2V0Q2xpZW50UmVjdCgpLGw9aC51aS5jb250ZW50c0VsZW1lbnQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGssZCxmPWIuZ2V0Q2xpZW50UmVjdCgpLGEsbj10aGlzLl9ub3RpZmljYXRpb25XaWR0aCxyPXRoaXMuX25vdGlmaWNhdGlvbk1hcmdpbjthPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpO3ZhciB4PWEuZ2V0U2Nyb2xsUG9zaXRpb24oKSxwPWEuZ2V0Vmlld1BhbmVTaXplKCkscT1DS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksdT1xLmdldERvY3VtZW50UG9zaXRpb24oKSx6PUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aDtuJiZyfHwoYT10aGlzLmVsZW1lbnQuZ2V0Q2hpbGQoMCksbj10aGlzLl9ub3RpZmljYXRpb25XaWR0aD1hLmdldENsaWVudFJlY3QoKS53aWR0aCxyPXRoaXMuX25vdGlmaWNhdGlvbk1hcmdpbj1wYXJzZUludChhLmdldENvbXB1dGVkU3R5bGUoXCJtYXJnaW4tbGVmdFwiKSwxMCkrcGFyc2VJbnQoYS5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpLFxuMTApKTtoLnRvb2xiYXImJihrPWgudWkuc3BhY2UoaC5jb25maWcudG9vbGJhckxvY2F0aW9uKSxkPWsuZ2V0Q2xpZW50UmVjdCgpKTtrJiZrLmlzVmlzaWJsZSgpJiZkLmJvdHRvbT5nLnRvcCYmZC5ib3R0b208Zy5ib3R0b20tZi5oZWlnaHQ/Yi5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6eihkLmJvdHRvbSl9KTowPGcudG9wP2Iuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOnoobC55KX0pOmwueStnLmhlaWdodC1mLmhlaWdodD54Lnk/Yi5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6MH0pOmIuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOnoobC55K2cuaGVpZ2h0LWYuaGVpZ2h0KX0pO3ZhciB0PVwiZml4ZWRcIj09Yi5nZXRTdHlsZShcInBvc2l0aW9uXCIpP2cubGVmdDpcInN0YXRpY1wiIT1xLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKT9sLngtdS54OmwueDtnLndpZHRoPG4rcj9sLngrbityPngueCtwLndpZHRoP2MoKTpcbmIuc2V0U3R5bGUoXCJsZWZ0XCIseih0KSk6bC54K24rcj54LngrcC53aWR0aD9iLnNldFN0eWxlKFwibGVmdFwiLHoodCkpOmwueCtnLndpZHRoLzIrbi8yK3I+eC54K3Aud2lkdGg/Yi5zZXRTdHlsZShcImxlZnRcIix6KHQtbC54K3gueCtwLndpZHRoLW4tcikpOjA+Zy5sZWZ0K2cud2lkdGgtbi1yP2MoKTowPmcubGVmdCtnLndpZHRoLzItbi8yP2Iuc2V0U3R5bGUoXCJsZWZ0XCIseih0LWwueCt4LngpKTpiLnNldFN0eWxlKFwibGVmdFwiLHoodCtnLndpZHRoLzItbi8yLXIvMikpfX07Q0tFRElUT1IucGx1Z2lucy5ub3RpZmljYXRpb249Y30pKCk7KGZ1bmN0aW9uKCl7dmFyIGM9J1xceDNjYSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbiBja2VfYnV0dG9uX197bmFtZX0gY2tlX2J1dHRvbl97c3RhdGV9IHtjbHN9XCInKyhDS0VESVRPUi5lbnYuZ2Vja28mJiFDS0VESVRPUi5lbnYuaGM/XCJcIjpcIiBocmVmXFx4M2RcXFwiamF2YXNjcmlwdDp2b2lkKCd7dGl0bGVKc30nKVxcXCJcIikrJyB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIiBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwiYnV0dG9uXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIntpZH1fbGFiZWxcIiBhcmlhLWRlc2NyaWJlZGJ5XFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBhcmlhLWhhc3BvcHVwXFx4M2RcIntoYXNBcnJvd31cIiBhcmlhLWRpc2FibGVkXFx4M2RcInthcmlhRGlzYWJsZWR9XCInO1xuQ0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoYys9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGMrPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgZz1cIlwiO0NLRURJVE9SLmVudi5pZSYmKGc9J3JldHVybiBmYWxzZTtcIiBvbm1vdXNldXBcXHgzZFwiQ0tFRElUT1IudG9vbHMuZ2V0TW91c2VCdXR0b24oZXZlbnQpXFx4M2RcXHgzZENLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZUXFx4MjZcXHgyNicpO3ZhciBjPWMrKCcgb25rZXlkb3duXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2tleWRvd25Gbn0sZXZlbnQpO1wiIG9uZm9jdXNcXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Zm9jdXNGbn0sZXZlbnQpO1wiIG9uY2xpY2tcXHgzZFwiJytnKydDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTtcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb25cIiBzdHlsZVxceDNkXCJ7c3R5bGV9XCInKStcbidcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV9idXR0b25fbGFiZWwgY2tlX2J1dHRvbl9fe25hbWV9X2xhYmVsXCIgYXJpYS1oaWRkZW5cXHgzZFwiZmFsc2VcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXthcmlhU2hvcnRjdXR9XFx4M2Mvc3BhblxceDNle2Fycm93SHRtbH1cXHgzYy9hXFx4M2UnLGU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJidXR0b25BcnJvd1wiLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9hcnJvd1wiXFx4M2UnKyhDS0VESVRPUi5lbnYuaGM/XCJcXHgyNiM5NjYwO1wiOlwiXCIpK1wiXFx4M2Mvc3BhblxceDNlXCIpLGI9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJidXR0b25cIixjKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImJ1dHRvblwiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGIpe2IudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9CVVRUT04sXG5DS0VESVRPUi51aS5idXR0b24uaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfQlVUVE9OPVwiYnV0dG9uXCI7Q0tFRElUT1IudWkuYnV0dG9uPWZ1bmN0aW9uKGIpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIse3RpdGxlOmIubGFiZWwsY2xpY2s6Yi5jbGlja3x8ZnVuY3Rpb24oYyl7Yy5leGVjQ29tbWFuZChiLmNvbW1hbmQpfX0pO3RoaXMuXz17fX07Q0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihiKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmJ1dHRvbihiKX19O0NLRURJVE9SLnVpLmJ1dHRvbi5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihjLGcpe2Z1bmN0aW9uIGwoKXt2YXIgYT1jLm1vZGU7YSYmKGE9dGhpcy5tb2Rlc1thXT92b2lkIDAhPT1rW2FdP2tbYV06Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGE9Yy5yZWFkT25seSYmIXRoaXMucmVhZE9ubHk/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6XG5hLHRoaXMuc2V0U3RhdGUoYSksdGhpcy5yZWZyZXNoJiZ0aGlzLnJlZnJlc2goKSl9dmFyIGs9bnVsbCxkPUNLRURJVE9SLmVudixmPXRoaXMuXy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSxhPVwiXCIsbj10aGlzLmNvbW1hbmQscix4LHA7dGhpcy5fLmVkaXRvcj1jO3ZhciBxPXtpZDpmLGJ1dHRvbjp0aGlzLGVkaXRvcjpjLGZvY3VzOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChmKS5mb2N1cygpfSxleGVjdXRlOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soYyl9LGF0dGFjaDpmdW5jdGlvbihhKXt0aGlzLmJ1dHRvbi5hdHRhY2goYSl9fSx1PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe2lmKHEub25rZXkpcmV0dXJuIGE9bmV3IENLRURJVE9SLmRvbS5ldmVudChhKSwhMSE9PXEub25rZXkocSxhLmdldEtleXN0cm9rZSgpKX0pLHo9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI7cS5vbmZvY3VzJiZcbihiPSExIT09cS5vbmZvY3VzKHEsbmV3IENLRURJVE9SLmRvbS5ldmVudChhKSkpO3JldHVybiBifSksdD0wO3EuY2xpY2tGbj1yPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dCYmKGMudW5sb2NrU2VsZWN0aW9uKDEpLHQ9MCk7cS5leGVjdXRlKCk7ZC5pT1MmJmMuZm9jdXMoKX0pO3RoaXMubW9kZXM/KGs9e30sYy5vbihcImJlZm9yZU1vZGVVbmxvYWRcIixmdW5jdGlvbigpe2MubW9kZSYmdGhpcy5fLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKGtbYy5tb2RlXT10aGlzLl8uc3RhdGUpfSx0aGlzKSxjLm9uKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIsbCx0aGlzKSxjLm9uKFwibW9kZVwiLGwsdGhpcyksIXRoaXMucmVhZE9ubHkmJmMub24oXCJyZWFkT25seVwiLGwsdGhpcykpOm4mJihuPWMuZ2V0Q29tbWFuZChuKSkmJihuLm9uKFwic3RhdGVcIixmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUobi5zdGF0ZSl9LHRoaXMpLGErPW4uc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OP1xuXCJvblwiOm4uc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP1wiZGlzYWJsZWRcIjpcIm9mZlwiKTt2YXIgQjtpZih0aGlzLmRpcmVjdGlvbmFsKWMub24oXCJjb250ZW50RGlyQ2hhbmdlZFwiLGZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKSxkPWIuZ2V0Rmlyc3QoKTthPWEuZGF0YTthIT1jLmxhbmcuZGlyP2IuYWRkQ2xhc3MoXCJja2VfXCIrYSk6Yi5yZW1vdmVDbGFzcyhcImNrZV9sdHJcIikucmVtb3ZlQ2xhc3MoXCJja2VfcnRsXCIpO2Quc2V0QXR0cmlidXRlKFwic3R5bGVcIixDS0VESVRPUi5za2luLmdldEljb25TdHlsZShCLFwicnRsXCI9PWEsdGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCkpfSx0aGlzKTtuPyh4PWMuZ2V0Q29tbWFuZEtleXN0cm9rZShuKSkmJihwPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGMubGFuZy5jb21tb24ua2V5Ym9hcmQseCkpOmErPVwib2ZmXCI7eD10aGlzLm5hbWV8fHRoaXMuY29tbWFuZDt2YXIgdz1cbm51bGwsdj10aGlzLmljb247Qj14O3RoaXMuaWNvbiYmIS9cXC4vLnRlc3QodGhpcy5pY29uKT8oQj10aGlzLmljb24sdj1udWxsKToodGhpcy5pY29uJiYodz10aGlzLmljb24pLENLRURJVE9SLmVudi5oaWRwaSYmdGhpcy5pY29uSGlEcGkmJih3PXRoaXMuaWNvbkhpRHBpKSk7dz8oQ0tFRElUT1Iuc2tpbi5hZGRJY29uKHcsdyksdj1udWxsKTp3PUI7YT17aWQ6ZixuYW1lOngsaWNvbk5hbWU6QixsYWJlbDp0aGlzLmxhYmVsLGNsczoodGhpcy5oYXNBcnJvdz9cImNrZV9idXR0b25fZXhwYW5kYWJsZSBcIjpcIlwiKSsodGhpcy5jbGFzc05hbWV8fFwiXCIpLHN0YXRlOmEsYXJpYURpc2FibGVkOlwiZGlzYWJsZWRcIj09YT9cInRydWVcIjpcImZhbHNlXCIsdGl0bGU6dGhpcy50aXRsZSsocD9cIiAoXCIrcC5kaXNwbGF5K1wiKVwiOlwiXCIpLGFyaWFTaG9ydGN1dDpwP2MubGFuZy5jb21tb24ua2V5Ym9hcmRTaG9ydGN1dCtcIiBcIitwLmFyaWE6XCJcIix0aXRsZUpzOmQuZ2Vja28mJiFkLmhjP1wiXCI6KHRoaXMudGl0bGV8fFxuXCJcIikucmVwbGFjZShcIidcIixcIlwiKSxoYXNBcnJvdzpcInN0cmluZ1wiPT09dHlwZW9mIHRoaXMuaGFzQXJyb3cmJnRoaXMuaGFzQXJyb3d8fCh0aGlzLmhhc0Fycm93P1widHJ1ZVwiOlwiZmFsc2VcIiksa2V5ZG93bkZuOnUsZm9jdXNGbjp6LGNsaWNrRm46cixzdHlsZTpDS0VESVRPUi5za2luLmdldEljb25TdHlsZSh3LFwicnRsXCI9PWMubGFuZy5kaXIsdix0aGlzLmljb25PZmZzZXQpLGFycm93SHRtbDp0aGlzLmhhc0Fycm93P2Uub3V0cHV0KCk6XCJcIn07Yi5vdXRwdXQoYSxnKTtpZih0aGlzLm9uUmVuZGVyKXRoaXMub25SZW5kZXIoKTtyZXR1cm4gcX0sc2V0U3RhdGU6ZnVuY3Rpb24oYil7aWYodGhpcy5fLnN0YXRlPT1iKXJldHVybiExO3RoaXMuXy5zdGF0ZT1iO3ZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKTtyZXR1cm4gYz8oYy5zZXRTdGF0ZShiLFwiY2tlX2J1dHRvblwiKSxjLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIixiPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCksXG50aGlzLmhhc0Fycm93P2Muc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLGI9PUNLRURJVE9SLlRSSVNUQVRFX09OKTpiPT09Q0tFRElUT1IuVFJJU1RBVEVfT04/Yy5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwhMCk6Yy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiksITApOiExfSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc3RhdGV9LHRvRmVhdHVyZTpmdW5jdGlvbihiKXtpZih0aGlzLl8uZmVhdHVyZSlyZXR1cm4gdGhpcy5fLmZlYXR1cmU7dmFyIGM9dGhpczt0aGlzLmFsbG93ZWRDb250ZW50fHx0aGlzLnJlcXVpcmVkQ29udGVudHx8IXRoaXMuY29tbWFuZHx8KGM9Yi5nZXRDb21tYW5kKHRoaXMuY29tbWFuZCl8fGMpO3JldHVybiB0aGlzLl8uZmVhdHVyZT1jfX07Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZEJ1dHRvbj1mdW5jdGlvbihiLGMpe3RoaXMuYWRkKGIsQ0tFRElUT1IuVUlfQlVUVE9OLGMpfX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhiKXtmdW5jdGlvbiBjKCl7Zm9yKHZhciBhPVxuZSgpLGQ9Q0tFRElUT1IudG9vbHMuY2xvbmUoYi5jb25maWcudG9vbGJhckdyb3Vwcyl8fGcoYiksZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgbT1kW2ZdO2lmKFwiL1wiIT1tKXtcInN0cmluZ1wiPT10eXBlb2YgbSYmKG09ZFtmXT17bmFtZTptfSk7dmFyIHEsdT1tLmdyb3VwcztpZih1KWZvcih2YXIgej0wO3o8dS5sZW5ndGg7eisrKXE9dVt6XSwocT1hW3FdKSYmayhtLHEpOyhxPWFbbS5uYW1lXSkmJmsobSxxKX19cmV0dXJuIGR9ZnVuY3Rpb24gZSgpe3ZhciBhPXt9LGQsYyxmO2ZvcihkIGluIGIudWkuaXRlbXMpYz1iLnVpLml0ZW1zW2RdLGY9Yy50b29sYmFyfHxcIm90aGVyc1wiLGY9Zi5zcGxpdChcIixcIiksYz1mWzBdLGY9cGFyc2VJbnQoZlsxXXx8LTEsMTApLGFbY118fChhW2NdPVtdKSxhW2NdLnB1c2goe25hbWU6ZCxvcmRlcjpmfSk7Zm9yKGMgaW4gYSlhW2NdPWFbY10uc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLm9yZGVyPT1iLm9yZGVyPzA6MD5iLm9yZGVyPy0xOjA+YS5vcmRlcj9cbjE6YS5vcmRlcjxiLm9yZGVyPy0xOjF9KTtyZXR1cm4gYX1mdW5jdGlvbiBrKGEsZCl7aWYoZC5sZW5ndGgpe2EuaXRlbXM/YS5pdGVtcy5wdXNoKGIudWkuY3JlYXRlKFwiLVwiKSk6YS5pdGVtcz1bXTtmb3IodmFyIGM7Yz1kLnNoaWZ0KCk7KWM9XCJzdHJpbmdcIj09dHlwZW9mIGM/YzpjLm5hbWUsZiYmLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZixjKXx8KGM9Yi51aS5jcmVhdGUoYykpJiZiLmFkZEZlYXR1cmUoYykmJmEuaXRlbXMucHVzaChjKX19ZnVuY3Rpb24gZChhKXt2YXIgYj1bXSxkLGMsZjtmb3IoZD0wO2Q8YS5sZW5ndGg7KytkKWM9YVtkXSxmPXt9LFwiL1wiPT1jP2IucHVzaChjKTpDS0VESVRPUi50b29scy5pc0FycmF5KGMpPyhrKGYsQ0tFRElUT1IudG9vbHMuY2xvbmUoYykpLGIucHVzaChmKSk6Yy5pdGVtcyYmKGsoZixDS0VESVRPUi50b29scy5jbG9uZShjLml0ZW1zKSksZi5uYW1lPWMubmFtZSxiLnB1c2goZikpO3JldHVybiBifXZhciBmPWIuY29uZmlnLnJlbW92ZUJ1dHRvbnMsXG5mPWYmJmYuc3BsaXQoXCIsXCIpLGE9Yi5jb25maWcudG9vbGJhcjtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9Yi5jb25maWdbXCJ0b29sYmFyX1wiK2FdKTtyZXR1cm4gYi50b29sYmFyPWE/ZChhKTpjKCl9ZnVuY3Rpb24gZyhiKXtyZXR1cm4gYi5fLnRvb2xiYXJHcm91cHN8fChiLl8udG9vbGJhckdyb3Vwcz1be25hbWU6XCJkb2N1bWVudFwiLGdyb3VwczpbXCJtb2RlXCIsXCJkb2N1bWVudFwiLFwiZG9jdG9vbHNcIl19LHtuYW1lOlwiY2xpcGJvYXJkXCIsZ3JvdXBzOltcImNsaXBib2FyZFwiLFwidW5kb1wiXX0se25hbWU6XCJlZGl0aW5nXCIsZ3JvdXBzOltcImZpbmRcIixcInNlbGVjdGlvblwiLFwic3BlbGxjaGVja2VyXCJdfSx7bmFtZTpcImZvcm1zXCJ9LFwiL1wiLHtuYW1lOlwiYmFzaWNzdHlsZXNcIixncm91cHM6W1wiYmFzaWNzdHlsZXNcIixcImNsZWFudXBcIl19LHtuYW1lOlwicGFyYWdyYXBoXCIsZ3JvdXBzOltcImxpc3RcIixcImluZGVudFwiLFwiYmxvY2tzXCIsXCJhbGlnblwiLFwiYmlkaVwiXX0se25hbWU6XCJsaW5rc1wifSx7bmFtZTpcImluc2VydFwifSxcblwiL1wiLHtuYW1lOlwic3R5bGVzXCJ9LHtuYW1lOlwiY29sb3JzXCJ9LHtuYW1lOlwidG9vbHNcIn0se25hbWU6XCJvdGhlcnNcIn0se25hbWU6XCJhYm91dFwifV0pfXZhciBlPWZ1bmN0aW9uKCl7dGhpcy50b29sYmFycz1bXTt0aGlzLmZvY3VzQ29tbWFuZEV4ZWN1dGVkPSExfTtlLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2Zvcih2YXIgYj0wLGM7Yz10aGlzLnRvb2xiYXJzW2IrK107KWZvcih2YXIgZT0wLGc7Zz1jLml0ZW1zW2UrK107KWlmKGcuZm9jdXMpe2cuZm9jdXMoKTtyZXR1cm59fTt2YXIgYj17bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0scmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGIpe2IudG9vbGJveCYmKGIudG9vbGJveC5mb2N1c0NvbW1hbmRFeGVjdXRlZD0hMCxDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXI/c2V0VGltZW91dChmdW5jdGlvbigpe2IudG9vbGJveC5mb2N1cygpfSwxMDApOmIudG9vbGJveC5mb2N1cygpKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidG9vbGJhclwiLFxue3JlcXVpcmVzOlwiYnV0dG9uXCIsaW5pdDpmdW5jdGlvbihoKXt2YXIgZyxsPWZ1bmN0aW9uKGIsZCl7dmFyIGMsYT1cInJ0bFwiPT1oLmxhbmcuZGlyLGU9aC5jb25maWcudG9vbGJhckdyb3VwQ3ljbGluZyxyPWE/Mzc6MzksYT1hPzM5OjM3LGU9dm9pZCAwPT09ZXx8ZTtzd2l0Y2goZCl7Y2FzZSA5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpmb3IoOyFjfHwhYy5pdGVtcy5sZW5ndGg7KWlmKGM9OT09ZD8oYz9jLm5leHQ6Yi50b29sYmFyLm5leHQpfHxoLnRvb2xib3gudG9vbGJhcnNbMF06KGM/Yy5wcmV2aW91czpiLnRvb2xiYXIucHJldmlvdXMpfHxoLnRvb2xib3gudG9vbGJhcnNbaC50b29sYm94LnRvb2xiYXJzLmxlbmd0aC0xXSxjLml0ZW1zLmxlbmd0aClmb3IoYj1jLml0ZW1zW2c/Yy5pdGVtcy5sZW5ndGgtMTowXTtiJiYhYi5mb2N1czspKGI9Zz9iLnByZXZpb3VzOmIubmV4dCl8fChjPTApO2ImJmIuZm9jdXMoKTtyZXR1cm4hMTtjYXNlIHI6Yz1iO2RvIGM9Yy5uZXh0LCFjJiZcbmUmJihjPWIudG9vbGJhci5pdGVtc1swXSk7d2hpbGUoYyYmIWMuZm9jdXMpO2M/Yy5mb2N1cygpOmwoYiw5KTtyZXR1cm4hMTtjYXNlIDQwOnJldHVybiBiLmJ1dHRvbiYmYi5idXR0b24uaGFzQXJyb3c/Yi5leGVjdXRlKCk6bChiLDQwPT1kP3I6YSksITE7Y2FzZSBhOmNhc2UgMzg6Yz1iO2RvIGM9Yy5wcmV2aW91cywhYyYmZSYmKGM9Yi50b29sYmFyLml0ZW1zW2IudG9vbGJhci5pdGVtcy5sZW5ndGgtMV0pO3doaWxlKGMmJiFjLmZvY3VzKTtjP2MuZm9jdXMoKTooZz0xLGwoYixDS0VESVRPUi5TSElGVCs5KSxnPTApO3JldHVybiExO2Nhc2UgMjc6cmV0dXJuIGguZm9jdXMoKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGIuZXhlY3V0ZSgpLCExfXJldHVybiEwfTtoLm9uKFwidWlTcGFjZVwiLGZ1bmN0aW9uKGIpe2lmKGIuZGF0YS5zcGFjZT09aC5jb25maWcudG9vbGJhckxvY2F0aW9uKXtiLnJlbW92ZUxpc3RlbmVyKCk7aC50b29sYm94PW5ldyBlO3ZhciBkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLFxuZj1bJ1xceDNjc3BhbiBpZFxceDNkXCInLGQsJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnLGgubGFuZy50b29sYmFyLnRvb2xiYXJzLFwiXFx4M2Mvc3BhblxceDNlXCIsJ1xceDNjc3BhbiBpZFxceDNkXCInK2gudWkuc3BhY2VJZChcInRvb2xib3hcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b29sYm94XCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGQsJ1wiIG9ubW91c2Vkb3duXFx4M2RcInJldHVybiBmYWxzZTtcIlxceDNlJ10sZD0hMSE9PWguY29uZmlnLnRvb2xiYXJTdGFydHVwRXhwYW5kZWQsYSxnO2guY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmaC5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmZi5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfbWFpblwiJysoZD9cIlxceDNlXCI6JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlJykpO2Zvcih2YXIgbT1oLnRvb2xib3gudG9vbGJhcnMseD1jKGgpLHA9eC5sZW5ndGgsXG5xPTA7cTxwO3ErKyl7dmFyIHUsej0wLHQsQj14W3FdLHc9XCIvXCIhPT1CJiYoXCIvXCI9PT14W3ErMV18fHE9PXAtMSksdjtpZihCKWlmKGEmJihmLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksZz1hPTApLFwiL1wiPT09QilmLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9icmVha1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtlbHNle3Y9Qi5pdGVtc3x8Qjtmb3IodmFyIEY9MDtGPHYubGVuZ3RoO0YrKyl7dmFyIHk9dltGXSxDO2lmKHkpe3ZhciBIPWZ1bmN0aW9uKGEpe2E9YS5yZW5kZXIoaCxmKTtHPXouaXRlbXMucHVzaChhKS0xOzA8RyYmKGEucHJldmlvdXM9ei5pdGVtc1tHLTFdLGEucHJldmlvdXMubmV4dD1hKTthLnRvb2xiYXI9ejthLm9ua2V5PWw7YS5vbmZvY3VzPWZ1bmN0aW9uKCl7aC50b29sYm94LmZvY3VzQ29tbWFuZEV4ZWN1dGVkfHxoLmZvY3VzKCl9fTtpZih5LnR5cGU9PUNLRURJVE9SLlVJX1NFUEFSQVRPUilnPWEmJnk7ZWxzZXtDPSExIT09eS5jYW5Hcm91cDtcbmlmKCF6KXt1PUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3o9e2lkOnUsaXRlbXM6W119O3Q9Qi5uYW1lJiYoaC5sYW5nLnRvb2xiYXIudG9vbGJhckdyb3Vwc1tCLm5hbWVdfHxCLm5hbWUpO2YucHVzaCgnXFx4M2NzcGFuIGlkXFx4M2RcIicsdSwnXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXInKyh3PycgY2tlX3Rvb2xiYXJfbGFzdFwiJzonXCInKSx0PycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIicrdSsnX2xhYmVsXCInOlwiXCIsJyByb2xlXFx4M2RcInRvb2xiYXJcIlxceDNlJyk7dCYmZi5wdXNoKCdcXHgzY3NwYW4gaWRcXHgzZFwiJyx1LCdfbGFiZWxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJyx0LFwiXFx4M2Mvc3BhblxceDNlXCIpO2YucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX3N0YXJ0XCJcXHgzZVxceDNjL3NwYW5cXHgzZScpO3ZhciBHPW0ucHVzaCh6KS0xOzA8RyYmKHoucHJldmlvdXM9bVtHLTFdLHoucHJldmlvdXMubmV4dD16KX1DP2F8fChmLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGdyb3VwXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJyksXG5hPTEpOmEmJihmLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksYT0wKTtnJiYoSChnKSxnPTApO0goeSl9fX1hJiYoZi5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLGc9YT0wKTt6JiZmLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9lbmRcIlxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyl9fWguY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmZi5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpO2lmKGguY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmaC5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIEw9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtoLmV4ZWNDb21tYW5kKFwidG9vbGJhckNvbGxhcHNlXCIpfSk7aC5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKEwpfSk7aC5hZGRDb21tYW5kKFwidG9vbGJhckNvbGxhcHNlXCIse3JlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1cbmEudWkuc3BhY2UoXCJ0b29sYmFyX2NvbGxhcHNlclwiKSxkPWIuZ2V0UHJldmlvdXMoKSxjPWEudWkuc3BhY2UoXCJjb250ZW50c1wiKSxmPWQuZ2V0UGFyZW50KCksZT1wYXJzZUludChjLiQuc3R5bGUuaGVpZ2h0LDEwKSxoPWYuJC5vZmZzZXRIZWlnaHQsZz1iLmhhc0NsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtnPyhkLnNob3coKSxiLnJlbW92ZUNsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxiLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYS5sYW5nLnRvb2xiYXIudG9vbGJhckNvbGxhcHNlKSk6KGQuaGlkZSgpLGIuYWRkQ2xhc3MoXCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpLGIuc2V0QXR0cmlidXRlKFwidGl0bGVcIixhLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSk7Yi5nZXRGaXJzdCgpLnNldFRleHQoZz9cIuKWslwiOlwi4peAXCIpO2Muc2V0U3R5bGUoXCJoZWlnaHRcIixlLShmLiQub2Zmc2V0SGVpZ2h0LWgpK1wicHhcIik7YS5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmEuY29udGFpbmVyLiQub2Zmc2V0SGVpZ2h0LFxuY29udGVudHNIZWlnaHQ6Yy4kLm9mZnNldEhlaWdodCxvdXRlcldpZHRoOmEuY29udGFpbmVyLiQub2Zmc2V0V2lkdGh9KX0sbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19KTtoLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrKENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LndlYmtpdD8xODk6MTA5KSxcInRvb2xiYXJDb2xsYXBzZVwiKTtmLnB1c2goJ1xceDNjYSB0aXRsZVxceDNkXCInKyhkP2gubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZTpoLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSsnXCIgaWRcXHgzZFwiJytoLnVpLnNwYWNlSWQoXCJ0b29sYmFyX2NvbGxhcHNlclwiKSsnXCIgdGFiSW5kZXhcXHgzZFwiLTFcIiBjbGFzc1xceDNkXCJja2VfdG9vbGJveF9jb2xsYXBzZXInKTtkfHxmLnB1c2goXCIgY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtmLnB1c2goJ1wiIG9uY2xpY2tcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrTCsnKVwiXFx4M2UnLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2Fycm93XCJcXHgzZVxceDI2Izk2NTA7XFx4M2Mvc3BhblxceDNlJyxcblwiXFx4M2MvYVxceDNlXCIpfWYucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKTtiLmRhdGEuaHRtbCs9Zi5qb2luKFwiXCIpfX0pO2gub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtpZih0aGlzLnRvb2xib3gpe3ZhciBiLGQ9MCxjLGEsZTtmb3IoYj10aGlzLnRvb2xib3gudG9vbGJhcnM7ZDxiLmxlbmd0aDtkKyspZm9yKGE9YltkXS5pdGVtcyxjPTA7YzxhLmxlbmd0aDtjKyspZT1hW2NdLGUuY2xpY2tGbiYmQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZS5jbGlja0ZuKSxlLmtleURvd25GbiYmQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZS5rZXlEb3duRm4pfX0pO2gub24oXCJ1aVJlYWR5XCIsZnVuY3Rpb24oKXt2YXIgYj1oLnVpLnNwYWNlKFwidG9vbGJveFwiKTtiJiZoLmZvY3VzTWFuYWdlci5hZGQoYiwxKX0pO2guYWRkQ29tbWFuZChcInRvb2xiYXJGb2N1c1wiLGIpO2guc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsxMjEsXCJ0b29sYmFyRm9jdXNcIik7aC51aS5hZGQoXCItXCIsQ0tFRElUT1IuVUlfU0VQQVJBVE9SLFxue30pO2gudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9TRVBBUkFUT1Ise2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybntyZW5kZXI6ZnVuY3Rpb24oYixkKXtkLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9zZXBhcmF0b3JcIiByb2xlXFx4M2RcInNlcGFyYXRvclwiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtyZXR1cm57fX19fX0pfX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRUb29sYmFyR3JvdXA9ZnVuY3Rpb24oYixjLGUpe3ZhciBrPWcodGhpcy5lZGl0b3IpLGQ9MD09PWMsZj17bmFtZTpifTtpZihlKXtpZihlPUNLRURJVE9SLnRvb2xzLnNlYXJjaChrLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PWV9KSl7IWUuZ3JvdXBzJiYoZS5ncm91cHM9W10pO2lmKGMmJihjPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZS5ncm91cHMsYyksMDw9Yykpe2UuZ3JvdXBzLnNwbGljZShjKzEsMCxiKTtyZXR1cm59ZD9lLmdyb3Vwcy5zcGxpY2UoMCwwLGIpOmUuZ3JvdXBzLnB1c2goYik7XG5yZXR1cm59Yz1udWxsfWMmJihjPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoayxmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1jfSkpO2Q/ay5zcGxpY2UoMCwwLGIpOlwibnVtYmVyXCI9PXR5cGVvZiBjP2suc3BsaWNlKGMrMSwwLGYpOmsucHVzaChiKX19KSgpO0NLRURJVE9SLlVJX1NFUEFSQVRPUj1cInNlcGFyYXRvclwiO0NLRURJVE9SLmNvbmZpZy50b29sYmFyTG9jYXRpb249XCJ0b3BcIjtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsYixkKXtiLnR5cGV8fChiLnR5cGU9XCJhdXRvXCIpO2lmKGQmJiExPT09YS5maXJlKFwiYmVmb3JlUGFzdGVcIixiKXx8IWIuZGF0YVZhbHVlJiZiLmRhdGFUcmFuc2Zlci5pc0VtcHR5KCkpcmV0dXJuITE7Yi5kYXRhVmFsdWV8fChiLmRhdGFWYWx1ZT1cIlwiKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJlwiZHJvcFwiPT1iLm1ldGhvZCYmYS50b29sYm94KWEub25jZShcImFmdGVyUGFzdGVcIixmdW5jdGlvbigpe2EudG9vbGJveC5mb2N1cygpfSk7XG5yZXR1cm4gYS5maXJlKFwicGFzdGVcIixiKX1mdW5jdGlvbiBnKGEpe2Z1bmN0aW9uIGIoKXt2YXIgZD1hLmVkaXRhYmxlKCk7aWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkKXt2YXIgYz1mdW5jdGlvbihiKXthLmdldFNlbGVjdGlvbigpLmlzQ29sbGFwc2VkKCl8fChhLnJlYWRPbmx5JiZcImN1dFwiPT1iLm5hbWV8fEMuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKGIsYSksYi5kYXRhLnByZXZlbnREZWZhdWx0KCkpfTtkLm9uKFwiY29weVwiLGMpO2Qub24oXCJjdXRcIixjKTtkLm9uKFwiY3V0XCIsZnVuY3Rpb24oKXthLnJlYWRPbmx5fHxhLmV4dHJhY3RTZWxlY3RlZEh0bWwoKX0sbnVsbCxudWxsLDk5OSl9ZC5vbihDLm1haW5QYXN0ZUV2ZW50LGZ1bmN0aW9uKGEpe1wiYmVmb3JlcGFzdGVcIj09Qy5tYWluUGFzdGVFdmVudCYmSHx8dihhKX0pO1wiYmVmb3JlcGFzdGVcIj09Qy5tYWluUGFzdGVFdmVudCYmKGQub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGEpe0d8fFxuKGUoKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSx2KGEpLGcoXCJwYXN0ZVwiKSl9KSxkLm9uKFwiY29udGV4dG1lbnVcIixoLG51bGwsbnVsbCwwKSxkLm9uKFwiYmVmb3JlcGFzdGVcIixmdW5jdGlvbihhKXshYS5kYXRhfHxhLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5zaGlmdEtleXx8aCgpfSxudWxsLG51bGwsMCkpO2Qub24oXCJiZWZvcmVjdXRcIixmdW5jdGlvbigpeyFIJiZrKGEpfSk7dmFyIGY7ZC5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5lbnYuaWU/ZDphLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7Zj1zZXRUaW1lb3V0KEYsMCl9KTthLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGYpfSk7ZC5vbihcImtleXVwXCIsRil9ZnVuY3Rpb24gZChiKXtyZXR1cm57dHlwZTpiLGNhblVuZG86XCJjdXRcIj09YixzdGFydERpc2FibGVkOiEwLGZha2VLZXlzdHJva2U6XCJjdXRcIj09Yj9DS0VESVRPUi5DVFJMKzg4OkNLRURJVE9SLkNUUkwrXG42NyxleGVjOmZ1bmN0aW9uKCl7XCJjdXRcIj09dGhpcy50eXBlJiZrKCk7dmFyIGI7dmFyIGQ9dGhpcy50eXBlO2lmKENLRURJVE9SLmVudi5pZSliPWcoZCk7ZWxzZSB0cnl7Yj1hLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoZCwhMSxudWxsKX1jYXRjaChjKXtiPSExfWJ8fGEuc2hvd05vdGlmaWNhdGlvbihhLmxhbmcuY2xpcGJvYXJkW3RoaXMudHlwZStcIkVycm9yXCJdKTtyZXR1cm4gYn19fWZ1bmN0aW9uIGYoKXtyZXR1cm57Y2FuVW5kbzohMSxhc3luYzohMCxmYWtlS2V5c3Ryb2tlOkNLRURJVE9SLkNUUkwrODYsZXhlYzpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYixoKXtoPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgaD9oOiEwO2I/KGIubWV0aG9kPVwicGFzdGVcIixiLmRhdGFUcmFuc2Zlcnx8KGIuZGF0YVRyYW5zZmVyPUMuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKCkpLGMoYSxiLGgpKTplJiYhYS5fLmZvcmNlUGFzdGVEaWFsb2cmJmEuc2hvd05vdGlmaWNhdGlvbihuLFwiaW5mb1wiLGEuY29uZmlnLmNsaXBib2FyZF9ub3RpZmljYXRpb25EdXJhdGlvbik7XG5hLl8uZm9yY2VQYXN0ZURpYWxvZz0hMTthLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIse25hbWU6XCJwYXN0ZVwiLGNvbW1hbmQ6ZixyZXR1cm5WYWx1ZTohIWJ9KX1iPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYiYmbnVsbCE9PWI/Yjp7fTt2YXIgZj10aGlzLGU9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBiLm5vdGlmaWNhdGlvbj9iLm5vdGlmaWNhdGlvbjohMCxoPWIudHlwZSxnPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGEubGFuZy5jb21tb24ua2V5Ym9hcmQsYS5nZXRDb21tYW5kS2V5c3Ryb2tlKHRoaXMpKSxuPVwic3RyaW5nXCI9PT10eXBlb2YgZT9lOmEubGFuZy5jbGlwYm9hcmQucGFzdGVOb3RpZmljYXRpb24ucmVwbGFjZSgvJTEvLCdcXHgzY2tiZCBhcmlhLWxhYmVsXFx4M2RcIicrZy5hcmlhKydcIlxceDNlJytnLmRpc3BsYXkrXCJcXHgzYy9rYmRcXHgzZVwiKSxnPVwic3RyaW5nXCI9PT10eXBlb2YgYj9iOmIuZGF0YVZhbHVlO2gmJiEwIT09YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0JiZcblwiYWxsb3ctd29yZFwiIT09YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P2EuXy5uZXh0UGFzdGVUeXBlPWg6ZGVsZXRlIGEuXy5uZXh0UGFzdGVUeXBlO1wic3RyaW5nXCI9PT10eXBlb2YgZz9kKHtkYXRhVmFsdWU6Z30pOmEuZ2V0Q2xpcGJvYXJkRGF0YShkKX19fWZ1bmN0aW9uIGUoKXtHPTE7c2V0VGltZW91dChmdW5jdGlvbigpe0c9MH0sMTAwKX1mdW5jdGlvbiBoKCl7SD0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtIPTB9LDEwKX1mdW5jdGlvbiBnKGIpe3ZhciBkPWEuZG9jdW1lbnQsYz1kLmdldEJvZHkoKSxmPSExLGU9ZnVuY3Rpb24oKXtmPSEwfTtjLm9uKGIsZSk7NzxDS0VESVRPUi5lbnYudmVyc2lvbj9kLiQuZXhlY0NvbW1hbmQoYik6ZC4kLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmV4ZWNDb21tYW5kKGIpO2MucmVtb3ZlTGlzdGVuZXIoYixlKTtyZXR1cm4gZn1mdW5jdGlvbiBrKCl7aWYoQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LnF1aXJrcyl7dmFyIGI9XG5hLmdldFNlbGVjdGlvbigpLGQsYyxmO2IuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCYmKGQ9Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSkmJihjPWIuZ2V0UmFuZ2VzKClbMF0sZj1hLmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksZi5pbnNlcnRCZWZvcmUoZCksYy5zZXRTdGFydEJlZm9yZShmKSxjLnNldEVuZEFmdGVyKGQpLGIuc2VsZWN0UmFuZ2VzKFtjXSksc2V0VGltZW91dChmdW5jdGlvbigpe2QuZ2V0UGFyZW50KCkmJihmLnJlbW92ZSgpLGIuc2VsZWN0RWxlbWVudChkKSl9LDApKX19ZnVuY3Rpb24gbChiLGQpe3ZhciBjPWEuZG9jdW1lbnQsZj1hLmVkaXRhYmxlKCksZT1mdW5jdGlvbihhKXthLmNhbmNlbCgpfSxoO2lmKCFjLmdldEJ5SWQoXCJja2VfcGFzdGViaW5cIikpe3ZhciBnPWEuZ2V0U2VsZWN0aW9uKCksbj1nLmNyZWF0ZUJvb2ttYXJrcygpO0NLRURJVE9SLmVudi5pZSYmZy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIik7dmFyIGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCFDS0VESVRPUi5lbnYud2Via2l0JiZcbiFmLmlzKFwiYm9keVwiKXx8Q0tFRElUT1IuZW52LmllP1wiZGl2XCI6XCJib2R5XCIsYyk7ay5zZXRBdHRyaWJ1dGVzKHtpZDpcImNrZV9wYXN0ZWJpblwiLFwiZGF0YS1ja2UtdGVtcFwiOlwiMVwifSk7dmFyIG09MCxjPWMuZ2V0V2luZG93KCk7Q0tFRElUT1IuZW52LndlYmtpdD8oZi5hcHBlbmQoayksay5hZGRDbGFzcyhcImNrZV9lZGl0YWJsZVwiKSxmLmlzKFwiYm9keVwiKXx8KG09XCJzdGF0aWNcIiE9Zi5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik/ZjpDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZi4kLm9mZnNldFBhcmVudCksbT1tLmdldERvY3VtZW50UG9zaXRpb24oKS55KSk6Zi5nZXRBc2NlbmRhbnQoQ0tFRElUT1IuZW52LmllP1wiYm9keVwiOlwiaHRtbFwiLDEpLmFwcGVuZChrKTtrLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpjLmdldFNjcm9sbFBvc2l0aW9uKCkueS1tKzEwK1wicHhcIix3aWR0aDpcIjFweFwiLGhlaWdodDpNYXRoLm1heCgxLGMuZ2V0Vmlld1BhbmVTaXplKCkuaGVpZ2h0LVxuMjApK1wicHhcIixvdmVyZmxvdzpcImhpZGRlblwiLG1hcmdpbjowLHBhZGRpbmc6MH0pO0NLRURJVE9SLmVudi5zYWZhcmkmJmsuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXCJ0ZXh0XCIpKTsobT1rLmdldFBhcmVudCgpLmlzUmVhZE9ubHkoKSk/KGsuc2V0T3BhY2l0eSgwKSxrLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCEwKSk6ay5zZXRTdHlsZShcImx0clwiPT1hLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJsZWZ0XCI6XCJyaWdodFwiLFwiLTEwMDAwcHhcIik7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGUsbnVsbCxudWxsLDApO2lmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbyloPWYub25jZShcImJsdXJcIixlLG51bGwsbnVsbCwtMTAwKTttJiZrLmZvY3VzKCk7bT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGspO20uc2VsZWN0Tm9kZUNvbnRlbnRzKGspO3ZhciByPW0uc2VsZWN0KCk7Q0tFRElUT1IuZW52LmllJiZcbihoPWYub25jZShcImJsdXJcIixmdW5jdGlvbigpe2EubG9ja1NlbGVjdGlvbihyKX0pKTt2YXIgdT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLnk7c2V0VGltZW91dChmdW5jdGlvbigpe0NLRURJVE9SLmVudi53ZWJraXQmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9dSk7aCYmaC5yZW1vdmVMaXN0ZW5lcigpO0NLRURJVE9SLmVudi5pZSYmZi5mb2N1cygpO2cuc2VsZWN0Qm9va21hcmtzKG4pO2sucmVtb3ZlKCk7dmFyIGI7Q0tFRElUT1IuZW52LndlYmtpdCYmKGI9ay5nZXRGaXJzdCgpKSYmYi5pcyYmYi5oYXNDbGFzcyhcIkFwcGxlLXN0eWxlLXNwYW5cIikmJihrPWIpO2EucmVtb3ZlTGlzdGVuZXIoXCJzZWxlY3Rpb25DaGFuZ2VcIixlKTtkKGsuZ2V0SHRtbCgpKX0sMCl9fWZ1bmN0aW9uIG0oKXtpZihcInBhc3RlXCI9PUMubWFpblBhc3RlRXZlbnQpcmV0dXJuIGEuZmlyZShcImJlZm9yZVBhc3RlXCIse3R5cGU6XCJhdXRvXCIsXG5tZXRob2Q6XCJwYXN0ZVwifSksITE7YS5mb2N1cygpO2UoKTt2YXIgYj1hLmZvY3VzTWFuYWdlcjtiLmxvY2soKTtpZihhLmVkaXRhYmxlKCkuZmlyZShDLm1haW5QYXN0ZUV2ZW50KSYmIWcoXCJwYXN0ZVwiKSlyZXR1cm4gYi51bmxvY2soKSwhMTtiLnVubG9jaygpO3JldHVybiEwfWZ1bmN0aW9uIHcoYil7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSlzd2l0Y2goYi5kYXRhLmtleUNvZGUpe2Nhc2UgQ0tFRElUT1IuQ1RSTCs4NjpjYXNlIENLRURJVE9SLlNISUZUKzQ1OmI9YS5lZGl0YWJsZSgpO2UoKTtcInBhc3RlXCI9PUMubWFpblBhc3RlRXZlbnQmJmIuZmlyZShcImJlZm9yZXBhc3RlXCIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuQ1RSTCs4ODpjYXNlIENLRURJVE9SLlNISUZUKzQ2OmEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSw1MCl9fWZ1bmN0aW9uIHYoYil7dmFyIGQ9e3R5cGU6XCJhdXRvXCIsbWV0aG9kOlwicGFzdGVcIixcbmRhdGFUcmFuc2ZlcjpDLmluaXRQYXN0ZURhdGFUcmFuc2ZlcihiKX07ZC5kYXRhVHJhbnNmZXIuY2FjaGVEYXRhKCk7dmFyIGY9ITEhPT1hLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGQpO2YmJkMuY2FuQ2xpcGJvYXJkQXBpQmVUcnVzdGVkKGQuZGF0YVRyYW5zZmVyLGEpPyhiLmRhdGEucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyhhLGQpfSwwKSk6bChiLGZ1bmN0aW9uKGIpe2QuZGF0YVZhbHVlPWIucmVwbGFjZSgvPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrW148XSo/PFxcL3NwYW4+L2lnLFwiXCIpO2YmJmMoYSxkKX0pfWZ1bmN0aW9uIEYoKXtpZihcInd5c2l3eWdcIj09YS5tb2RlKXt2YXIgYj15KFwicGFzdGVcIik7YS5nZXRDb21tYW5kKFwiY3V0XCIpLnNldFN0YXRlKHkoXCJjdXRcIikpO2EuZ2V0Q29tbWFuZChcImNvcHlcIikuc2V0U3RhdGUoeShcImNvcHlcIikpO2EuZ2V0Q29tbWFuZChcInBhc3RlXCIpLnNldFN0YXRlKGIpO2EuZmlyZShcInBhc3RlU3RhdGVcIixiKX19ZnVuY3Rpb24geShiKXt2YXIgZD1cbmEuZ2V0U2VsZWN0aW9uKCksZD1kJiZkLmdldFJhbmdlcygpWzBdO2lmKChhLnJlYWRPbmx5fHxkJiZkLmNoZWNrUmVhZE9ubHkoKSkmJmIgaW57cGFzdGU6MSxjdXQ6MX0pcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2lmKFwicGFzdGVcIj09YilyZXR1cm4gQ0tFRElUT1IuVFJJU1RBVEVfT0ZGO2I9YS5nZXRTZWxlY3Rpb24oKTtkPWIuZ2V0UmFuZ2VzKCk7cmV0dXJuIGIuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORXx8MT09ZC5sZW5ndGgmJmRbMF0uY29sbGFwc2VkP0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOkNLRURJVE9SLlRSSVNUQVRFX09GRn12YXIgQz1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxIPTAsRz0wOyhmdW5jdGlvbigpe2Eub24oXCJrZXlcIix3KTthLm9uKFwiY29udGVudERvbVwiLGIpO2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixGKTtpZihhLmNvbnRleHRNZW51KXthLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKCl7cmV0dXJue2N1dDp5KFwiY3V0XCIpLFxuY29weTp5KFwiY29weVwiKSxwYXN0ZTp5KFwicGFzdGVcIil9fSk7dmFyIGQ9bnVsbDthLm9uKFwibWVudVNob3dcIixmdW5jdGlvbigpe2QmJihkLnJlbW92ZUxpc3RlbmVyKCksZD1udWxsKTt2YXIgYj1hLmNvbnRleHRNZW51LmZpbmRJdGVtQnlDb21tYW5kTmFtZShcInBhc3RlXCIpO2ImJmIuZWxlbWVudCYmKGQ9Yi5lbGVtZW50Lm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe2EuXy5mb3JjZVBhc3RlRGlhbG9nPSEwfSkpfSl9aWYoYS51aS5hZGRCdXR0b24pYS5vbmNlKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKCl7YS5fLnBhc3RlQnV0dG9ucyYmQ0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChhLl8ucGFzdGVCdXR0b25zLGZ1bmN0aW9uKGIpe2lmKGI9YS51aS5nZXQoYikpaWYoYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGIuXy5pZCkpYi5vbihcInRvdWNoZW5kXCIsZnVuY3Rpb24oKXthLl8uZm9yY2VQYXN0ZURpYWxvZz0hMH0pfSl9KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihkLFxuYyxmLGUsaCl7dmFyIGc9YS5sYW5nLmNsaXBib2FyZFtjXTthLmFkZENvbW1hbmQoYyxmKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oZCx7bGFiZWw6Zyxjb21tYW5kOmMsdG9vbGJhcjpcImNsaXBib2FyZCxcIitlfSk7YS5hZGRNZW51SXRlbXMmJmEuYWRkTWVudUl0ZW0oYyx7bGFiZWw6Zyxjb21tYW5kOmMsZ3JvdXA6XCJjbGlwYm9hcmRcIixvcmRlcjpofSl9YihcIkN1dFwiLFwiY3V0XCIsZChcImN1dFwiKSwxMCwxKTtiKFwiQ29weVwiLFwiY29weVwiLGQoXCJjb3B5XCIpLDIwLDQpO2IoXCJQYXN0ZVwiLFwicGFzdGVcIixmKCksMzAsOCk7YS5fLnBhc3RlQnV0dG9uc3x8KGEuXy5wYXN0ZUJ1dHRvbnM9W10pO2EuXy5wYXN0ZUJ1dHRvbnMucHVzaChcIlBhc3RlXCIpfSkoKTthLmdldENsaXBib2FyZERhdGE9ZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBjKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO2QoYS5kYXRhKX1mdW5jdGlvbiBmKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO1xuZCh7dHlwZTpoLGRhdGFWYWx1ZTphLmRhdGEuZGF0YVZhbHVlLGRhdGFUcmFuc2ZlcjphLmRhdGEuZGF0YVRyYW5zZmVyLG1ldGhvZDpcInBhc3RlXCJ9KX12YXIgZT0hMSxoPVwiYXV0b1wiO2R8fChkPWIsYj1udWxsKTthLm9uKFwiYmVmb3JlUGFzdGVcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7ZT0hMDtoPWEuZGF0YS50eXBlfSxudWxsLG51bGwsMUUzKTthLm9uKFwicGFzdGVcIixjLG51bGwsbnVsbCwwKTshMT09PW0oKSYmKGEucmVtb3ZlTGlzdGVuZXIoXCJwYXN0ZVwiLGMpLGEuXy5mb3JjZVBhc3RlRGlhbG9nJiZlJiZhLmZpcmUoXCJwYXN0ZURpYWxvZ1wiKT8oYS5vbihcInBhc3RlRGlhbG9nQ29tbWl0XCIsZiksYS5vbihcImRpYWxvZ0hpZGVcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7YS5kYXRhLnJlbW92ZUxpc3RlbmVyKFwicGFzdGVEaWFsb2dDb21taXRcIixmKTthLmRhdGEuXy5jb21taXR0ZWR8fGQobnVsbCl9KSk6ZChudWxsKSl9fWZ1bmN0aW9uIGUoYSl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7aWYoIWEubWF0Y2goL15bXjxdKiQvZykmJlxuIWEubWF0Y2goL14oPGRpdj48YnIoID9cXC8pPz48XFwvZGl2Pnw8ZGl2PltePF0qPFxcL2Rpdj4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmllKXtpZighYS5tYXRjaCgvXihbXjxdfDxiciggP1xcLyk/PikqJC9naSkmJiFhLm1hdGNoKC9eKDxwPihbXjxdfDxiciggP1xcLyk/PikqPFxcL3A+fChcXHJcXG4pKSokL2dpKSlyZXR1cm5cImh0bWxcIn1lbHNlIGlmKENLRURJVE9SLmVudi5nZWNrbyl7aWYoIWEubWF0Y2goL14oW148XXw8YnIoID9cXC8pPz4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgcmV0dXJuXCJodG1sXCI7cmV0dXJuXCJodG1saWZpZWR0ZXh0XCJ9ZnVuY3Rpb24gYihhLGIpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDNjL3BcXHgzZVxceDNjcFxceDNlXCIsfn4oYS8yKSkrKDE9PWElMj9cIlxceDNjYnJcXHgzZVwiOlwiXCIpfWI9Yi5yZXBsYWNlKC8oPyFcXHUzMDAwKVxccysvZyxcIiBcIikucmVwbGFjZSgvPiArPC9nLFwiXFx4M2VcXHgzY1wiKS5yZXBsYWNlKC88YnIgP1xcLz4vZ2ksXG5cIlxceDNjYnJcXHgzZVwiKTtiPWIucmVwbGFjZSgvPFxcLz9bQS1aXSs+L2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pO2lmKGIubWF0Y2goL15bXjxdJC8pKXJldHVybiBiO0NLRURJVE9SLmVudi53ZWJraXQmJi0xPGIuaW5kZXhPZihcIlxceDNjZGl2XFx4M2VcIikmJihiPWIucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2PikoPyEkfCg8ZGl2Pig8YnI+fCk8XFwvZGl2PikpL2csXCJcXHgzY2JyXFx4M2VcIikucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2Pil7Mn0oPyEkKS9nLFwiXFx4M2NkaXZcXHgzZVxceDNjL2RpdlxceDNlXCIpLGIubWF0Y2goLzxkaXY+KDxicj58KTxcXC9kaXY+LykmJihiPVwiXFx4M2NwXFx4M2VcIitiLnJlcGxhY2UoLyg8ZGl2Pig8YnI+fCk8XFwvZGl2PikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIGQoYS5zcGxpdChcIlxceDNjL2RpdlxceDNlXFx4M2NkaXZcXHgzZVwiKS5sZW5ndGgrMSl9KStcIlxceDNjL3BcXHgzZVwiKSxiPWIucmVwbGFjZSgvPFxcL2Rpdj48ZGl2Pi9nLFwiXFx4M2NiclxceDNlXCIpLFxuYj1iLnJlcGxhY2UoLzxcXC8/ZGl2Pi9nLFwiXCIpKTtDS0VESVRPUi5lbnYuZ2Vja28mJmEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKENLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC9ePGJyPjxicj4kLyxcIlxceDNjYnJcXHgzZVwiKSksLTE8Yi5pbmRleE9mKFwiXFx4M2NiclxceDNlXFx4M2NiclxceDNlXCIpJiYoYj1cIlxceDNjcFxceDNlXCIrYi5yZXBsYWNlKC8oPGJyPil7Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIGQoYS5sZW5ndGgvNCl9KStcIlxceDNjL3BcXHgzZVwiKSk7cmV0dXJuIGwoYSxiKX1mdW5jdGlvbiBoKGEpe2Z1bmN0aW9uIGIoKXt2YXIgYT17fSxkO2ZvcihkIGluIENLRURJVE9SLmR0ZClcIiRcIiE9ZC5jaGFyQXQoMCkmJlwiZGl2XCIhPWQmJlwic3BhblwiIT1kJiYoYVtkXT0xKTtyZXR1cm4gYX12YXIgZD17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGMpe3JldHVyblwicGxhaW4tdGV4dFwiPT1jP2QucGxhaW5UZXh0fHwoZC5wbGFpblRleHQ9bmV3IENLRURJVE9SLmZpbHRlcihhLFxuXCJiclwiKSk6XCJzZW1hbnRpYy1jb250ZW50XCI9PWM/KChjPWQuc2VtYW50aWNDb250ZW50KXx8KGM9bmV3IENLRURJVE9SLmZpbHRlcihhLHt9KSxjLmFsbG93KHskMTp7ZWxlbWVudHM6YigpLGF0dHJpYnV0ZXM6ITAsc3R5bGVzOiExLGNsYXNzZXM6ITF9fSksYz1kLnNlbWFudGljQ29udGVudD1jKSxjKTpjP25ldyBDS0VESVRPUi5maWx0ZXIoYSxjKTpudWxsfX19ZnVuY3Rpb24gbShhLGIsZCl7Yj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGIpO3ZhciBjPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2QuYXBwbHlUbyhiLCEwLCExLGEuYWN0aXZlRW50ZXJNb2RlKTtiLndyaXRlSHRtbChjKTtyZXR1cm4gYy5nZXRIdG1sKCl9ZnVuY3Rpb24gbChhLGIpe2EuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9iPWIucmVwbGFjZSgvKDxcXC9wPjxwPikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDNjYnJcXHgzZVwiLFxuYS5sZW5ndGgvNyoyKX0pLnJlcGxhY2UoLzxcXC8/cD4vZyxcIlwiKTphLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWJiYoYj1iLnJlcGxhY2UoLzwoXFwvKT9wPi9nLFwiXFx4M2MkMWRpdlxceDNlXCIpKTtyZXR1cm4gYn1mdW5jdGlvbiBrKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO2EuZGF0YS4kLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PVwibm9uZVwifWZ1bmN0aW9uIGQoYSl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQ7YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2Z1bmN0aW9uIGQoYixmLGUpe2Yuc2VsZWN0KCk7YyhhLHtkYXRhVHJhbnNmZXI6ZSxtZXRob2Q6XCJkcm9wXCJ9LDEpO2Uuc291cmNlRWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZS5zb3VyY2VFZGl0b3IuZWRpdGFibGUoKS5leHRyYWN0SHRtbEZyb21SYW5nZShiKTtlLnNvdXJjZUVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2JdKTtlLnNvdXJjZUVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpfVxuZnVuY3Rpb24gZihkLGUpe2Quc2VsZWN0KCk7YyhhLHtkYXRhVHJhbnNmZXI6ZSxtZXRob2Q6XCJkcm9wXCJ9LDEpO2IucmVzZXREcmFnRGF0YVRyYW5zZmVyKCl9ZnVuY3Rpb24gZShiLGQsYyl7dmFyIGY9eyQ6Yi5kYXRhLiQsdGFyZ2V0OmIuZGF0YS5nZXRUYXJnZXQoKX07ZCYmKGYuZHJhZ1JhbmdlPWQpO2MmJihmLmRyb3BSYW5nZT1jKTshMT09PWEuZmlyZShiLm5hbWUsZikmJmIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGgoYSl7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhPWEuZ2V0UGFyZW50KCkpO3JldHVybiBhLmdldENoaWxkQ291bnQoKX12YXIgZz1hLmVkaXRhYmxlKCksaz1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5nZXREcm9wVGFyZ2V0KGEpLGw9YS51aS5zcGFjZShcInRvcFwiKSxtPWEudWkuc3BhY2UoXCJib3R0b21cIik7Yi5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQobCk7Yi5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQobSk7XG5nLmF0dGFjaExpc3RlbmVyKGssXCJkcmFnc3RhcnRcIixlKTtnLmF0dGFjaExpc3RlbmVyKGEsXCJkcmFnc3RhcnRcIixiLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcixiLG51bGwsMSk7Zy5hdHRhY2hMaXN0ZW5lcihhLFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oZCl7Yi5pbml0RHJhZ0RhdGFUcmFuc2ZlcihkLGEpfSxudWxsLG51bGwsMik7Zy5hdHRhY2hMaXN0ZW5lcihhLFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oKXt2YXIgZD1iLmRyYWdSYW5nZT1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO0NLRURJVE9SLmVudi5pZSYmMTA+Q0tFRElUT1IuZW52LnZlcnNpb24mJihiLmRyYWdTdGFydENvbnRhaW5lckNoaWxkQ291bnQ9ZD9oKGQuc3RhcnRDb250YWluZXIpOm51bGwsYi5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudD1kP2goZC5lbmRDb250YWluZXIpOm51bGwpfSxudWxsLG51bGwsMTAwKTtnLmF0dGFjaExpc3RlbmVyKGssXCJkcmFnZW5kXCIsZSk7Zy5hdHRhY2hMaXN0ZW5lcihhLFwiZHJhZ2VuZFwiLFxuYi5pbml0RHJhZ0RhdGFUcmFuc2ZlcixiLG51bGwsMSk7Zy5hdHRhY2hMaXN0ZW5lcihhLFwiZHJhZ2VuZFwiLGIucmVzZXREcmFnRGF0YVRyYW5zZmVyLGIsbnVsbCwxMDApO2cuYXR0YWNoTGlzdGVuZXIoayxcImRyYWdvdmVyXCIsZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IuZW52LmVkZ2UpYS5kYXRhLnByZXZlbnREZWZhdWx0KCk7ZWxzZXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7YiYmYi5pcyYmYi5pcyhcImh0bWxcIik/YS5kYXRhLnByZXZlbnREZWZhdWx0KCk6Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0ZpbGVBcGlTdXBwb3J0ZWQmJmEuZGF0YS4kLmRhdGFUcmFuc2Zlci50eXBlcy5jb250YWlucyhcIkZpbGVzXCIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX19KTtnLmF0dGFjaExpc3RlbmVyKGssXCJkcm9wXCIsZnVuY3Rpb24oZCl7aWYoIWQuZGF0YS4kLmRlZmF1bHRQcmV2ZW50ZWQmJihkLmRhdGEucHJldmVudERlZmF1bHQoKSwhYS5yZWFkT25seSkpe3ZhciBjPVxuZC5kYXRhLmdldFRhcmdldCgpO2lmKCFjLmlzUmVhZE9ubHkoKXx8Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXMoXCJodG1sXCIpKXt2YXIgYz1iLmdldFJhbmdlQXREcm9wUG9zaXRpb24oZCxhKSxmPWIuZHJhZ1JhbmdlO2MmJmUoZCxmLGMpfX19LG51bGwsbnVsbCw5OTk5KTtnLmF0dGFjaExpc3RlbmVyKGEsXCJkcm9wXCIsYi5pbml0RHJhZ0RhdGFUcmFuc2ZlcixiLG51bGwsMSk7Zy5hdHRhY2hMaXN0ZW5lcihhLFwiZHJvcFwiLGZ1bmN0aW9uKGMpe2lmKGM9Yy5kYXRhKXt2YXIgZT1jLmRyb3BSYW5nZSxoPWMuZHJhZ1JhbmdlLGc9Yy5kYXRhVHJhbnNmZXI7Zy5nZXRUcmFuc2ZlclR5cGUoYSk9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw/c2V0VGltZW91dChmdW5jdGlvbigpe2IuaW50ZXJuYWxEcm9wKGgsZSxnLGEpfSwwKTpnLmdldFRyYW5zZmVyVHlwZShhKT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTP2QoaCxlLGcpOmYoZSxnKX19LFxubnVsbCxudWxsLDk5OTkpfSl9dmFyIGY7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJjbGlwYm9hcmRcIix7cmVxdWlyZXM6XCJkaWFsb2csbm90aWZpY2F0aW9uLHRvb2xiYXJcIixpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7aWYoIWF8fHE9PT1hLmlkKXJldHVybiExO3ZhciBiPWEuZ2V0VHlwZXMoKSxiPTE9PT1iLmxlbmd0aCYmXCJGaWxlc1wiPT09YlswXTthPTE9PT1hLmdldEZpbGVzQ291bnQoKTtyZXR1cm4gYiYmYX12YXIgZixrPWgoYSk7YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P2Y9XCJwbGFpbi10ZXh0XCI6YS5jb25maWcucGFzdGVGaWx0ZXI/Zj1hLmNvbmZpZy5wYXN0ZUZpbHRlcjohQ0tFRElUT1IuZW52LndlYmtpdHx8XCJwYXN0ZUZpbHRlclwiaW4gYS5jb25maWd8fChmPVwic2VtYW50aWMtY29udGVudFwiKTthLnBhc3RlRmlsdGVyPWsuZ2V0KGYpO2coYSk7ZChhKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwicGFzdGVcIixDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1wiZGlhbG9ncy9wYXN0ZS5qc1wiKSk7XG5pZihDS0VESVRPUi5lbnYuZ2Vja28pe3ZhciBsPVtcImltYWdlL3BuZ1wiLFwiaW1hZ2UvanBlZ1wiLFwiaW1hZ2UvZ2lmXCJdLHE7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7dmFyIGQ9Yi5kYXRhLGY9ZC5kYXRhVHJhbnNmZXI7aWYoIWQuZGF0YVZhbHVlJiZcInBhc3RlXCI9PWQubWV0aG9kJiZjKGYpJiYoZj1mLmdldEZpbGUoMCksLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YobCxmLnR5cGUpKSl7dmFyIGU9bmV3IEZpbGVSZWFkZXI7ZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKCl7Yi5kYXRhLmRhdGFWYWx1ZT0nXFx4M2NpbWcgc3JjXFx4M2RcIicrZS5yZXN1bHQrJ1wiIC9cXHgzZSc7YS5maXJlKFwicGFzdGVcIixiLmRhdGEpfSwhMSk7ZS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixmdW5jdGlvbigpe2EuZmlyZShcInBhc3RlXCIsYi5kYXRhKX0sITEpO2UuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJwYXN0ZVwiLGIuZGF0YSl9LCExKTtlLnJlYWRBc0RhdGFVUkwoZik7XG5xPWQuZGF0YVRyYW5zZmVyLmlkO2Iuc3RvcCgpfX0sbnVsbCxudWxsLDEpfWEub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5kYXRhVHJhbnNmZXJ8fChiLmRhdGEuZGF0YVRyYW5zZmVyPW5ldyBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIpO2lmKCFiLmRhdGEuZGF0YVZhbHVlKXt2YXIgZD1iLmRhdGEuZGF0YVRyYW5zZmVyLGM9ZC5nZXREYXRhKFwidGV4dC9odG1sXCIpO2lmKGMpYi5kYXRhLmRhdGFWYWx1ZT1jLGIuZGF0YS50eXBlPVwiaHRtbFwiO2Vsc2UgaWYoYz1kLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKWIuZGF0YS5kYXRhVmFsdWU9YS5lZGl0YWJsZSgpLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChjKSxiLmRhdGEudHlwZT1cInRleHRcIn19LG51bGwsbnVsbCwxKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZGF0YVZhbHVlLGQ9Q0tFRElUT1IuZHRkLiRibG9jazstMTxiLmluZGV4T2YoXCJBcHBsZS1cIikmJihiPWIucmVwbGFjZSgvPHNwYW4gY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcIj4mbmJzcDs8XFwvc3Bhbj4vZ2ksXG5cIiBcIiksXCJodG1sXCIhPWEuZGF0YS50eXBlJiYoYj1iLnJlcGxhY2UoLzxzcGFuIGNsYXNzPVwiQXBwbGUtdGFiLXNwYW5cIltePl0qPihbXjxdKik8XFwvc3Bhbj4vZ2ksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIil9KSksLTE8Yi5pbmRleE9mKCdcXHgzY2JyIGNsYXNzXFx4M2RcIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIlxceDNlJykmJihhLmRhdGEuc3RhcnRzV2l0aEVPTD0xLGEuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixiPWIucmVwbGFjZSgvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPi8sXCJcIikpLGI9Yi5yZXBsYWNlKC8oPFtePl0rKSBjbGFzcz1cIkFwcGxlLVteXCJdKlwiL2dpLFwiJDFcIikpO2lmKGIubWF0Y2goL148W148XStja2VfKGVkaXRhYmxlfGNvbnRlbnRzKS9pKSl7dmFyIGMsZixlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtmb3IoZS5zZXRIdG1sKGIpOzE9PWUuZ2V0Q2hpbGRDb3VudCgpJiZcbihjPWUuZ2V0Rmlyc3QoKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYy5oYXNDbGFzcyhcImNrZV9lZGl0YWJsZVwiKXx8Yy5oYXNDbGFzcyhcImNrZV9jb250ZW50c1wiKSk7KWU9Zj1jO2YmJihiPWYuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksXCJcIikpfUNLRURJVE9SLmVudi5pZT9iPWIucmVwbGFjZSgvXiZuYnNwOyg/OiB8XFxyXFxuKT88KFxcdyspL2csZnVuY3Rpb24oYixjKXtyZXR1cm4gYy50b0xvd2VyQ2FzZSgpaW4gZD8oYS5kYXRhLnByZVNuaWZmaW5nPVwiaHRtbFwiLFwiXFx4M2NcIitjKTpifSk6Q0tFRElUT1IuZW52LndlYmtpdD9iPWIucmVwbGFjZSgvPFxcLyhcXHcrKT48ZGl2Pjxicj48XFwvZGl2PiQvLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGMgaW4gZD8oYS5kYXRhLmVuZHNXaXRoRU9MPTEsXCJcXHgzYy9cIitjK1wiXFx4M2VcIik6Yn0pOkNLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC8oXFxzKTxicj4kLyxcIiQxXCIpKTthLmRhdGEuZGF0YVZhbHVlPWJ9LG51bGwsXG5udWxsLDMpO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGQpe2Q9ZC5kYXRhO3ZhciBjPWEuXy5uZXh0UGFzdGVUeXBlfHxkLnR5cGUsZj1kLmRhdGFWYWx1ZSxoLGc9YS5jb25maWcuY2xpcGJvYXJkX2RlZmF1bHRDb250ZW50VHlwZXx8XCJodG1sXCIsbD1kLmRhdGFUcmFuc2Zlci5nZXRUcmFuc2ZlclR5cGUoYSk9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUwsbj0hMD09PWEuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dDtoPVwiaHRtbFwiPT1jfHxcImh0bWxcIj09ZC5wcmVTbmlmZmluZz9cImh0bWxcIjplKGYpO2RlbGV0ZSBhLl8ubmV4dFBhc3RlVHlwZTtcImh0bWxpZmllZHRleHRcIj09aCYmKGY9YihhLmNvbmZpZyxmKSk7aWYoXCJ0ZXh0XCI9PWMmJlwiaHRtbFwiPT1oKWY9bShhLGYsay5nZXQoXCJwbGFpbi10ZXh0XCIpKTtlbHNlIGlmKGwmJmEucGFzdGVGaWx0ZXImJiFkLmRvbnRGaWx0ZXJ8fG4pZj1tKGEsZixhLnBhc3RlRmlsdGVyKTtkLnN0YXJ0c1dpdGhFT0wmJihmPSdcXHgzY2JyIGRhdGEtY2tlLWVvbFxceDNkXCIxXCJcXHgzZScrXG5mKTtkLmVuZHNXaXRoRU9MJiYoZis9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJyk7XCJhdXRvXCI9PWMmJihjPVwiaHRtbFwiPT1ofHxcImh0bWxcIj09Zz9cImh0bWxcIjpcInRleHRcIik7ZC50eXBlPWM7ZC5kYXRhVmFsdWU9ZjtkZWxldGUgZC5wcmVTbmlmZmluZztkZWxldGUgZC5zdGFydHNXaXRoRU9MO2RlbGV0ZSBkLmVuZHNXaXRoRU9MfSxudWxsLG51bGwsNik7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGE7Yi5kYXRhVmFsdWUmJihhLmluc2VydEh0bWwoYi5kYXRhVmFsdWUsYi50eXBlLGIucmFuZ2UpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJhZnRlclBhc3RlXCIpfSwwKSl9LG51bGwsbnVsbCwxRTMpO2Eub24oXCJwYXN0ZURpYWxvZ1wiLGZ1bmN0aW9uKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9wZW5EaWFsb2coXCJwYXN0ZVwiLGIuZGF0YSl9LDApfSl9fSk7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQ9e2lzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZDpDS0VESVRPUi5lbnYuaWUmJlxuMTY+Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5pT1MmJjYwNT5DS0VESVRPUi5lbnYudmVyc2lvbj8hMTohMCxpc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllfHwxNjw9Q0tFRElUT1IuZW52LnZlcnNpb24saXNGaWxlQXBpU3VwcG9ydGVkOiFDS0VESVRPUi5lbnYuaWV8fDk8Q0tFRElUT1IuZW52LnZlcnNpb24sbWFpblBhc3RlRXZlbnQ6Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/XCJiZWZvcmVwYXN0ZVwiOlwicGFzdGVcIixhZGRQYXN0ZUJ1dHRvbjpmdW5jdGlvbihhLGIsZCl7YS51aS5hZGRCdXR0b24mJihhLnVpLmFkZEJ1dHRvbihiLGQpLGEuXy5wYXN0ZUJ1dHRvbnN8fChhLl8ucGFzdGVCdXR0b25zPVtdKSxhLl8ucGFzdGVCdXR0b25zLnB1c2goYikpfSxjYW5DbGlwYm9hcmRBcGlCZVRydXN0ZWQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRUcmFuc2ZlclR5cGUoYikhPUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUx8fFxuQ0tFRElUT1IuZW52LmNocm9tZSYmIWEuaXNFbXB0eSgpfHxDS0VESVRPUi5lbnYuZ2Vja28mJihhLmdldERhdGEoXCJ0ZXh0L2h0bWxcIil8fGEuZ2V0RmlsZXNDb3VudCgpKXx8Q0tFRElUT1IuZW52LnNhZmFyaSYmNjAzPD1DS0VESVRPUi5lbnYudmVyc2lvbiYmIUNLRURJVE9SLmVudi5pT1N8fENLRURJVE9SLmVudi5pT1MmJjYwNTw9Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5lZGdlJiYxNjw9Q0tFRElUT1IuZW52LnZlcnNpb24/ITA6ITF9LGdldERyb3BUYXJnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5lZGl0YWJsZSgpO3JldHVybiBDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb258fGIuaXNJbmxpbmUoKT9iOmEuZG9jdW1lbnR9LGZpeFNwbGl0Tm9kZXNBZnRlckRyb3A6ZnVuY3Rpb24oYSxiLGQsYyl7ZnVuY3Rpb24gZihhLGQsYyl7dmFyIGU9YTtlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGU9YS5nZXRQYXJlbnQoKSk7aWYoZS5lcXVhbHMoZCkmJlxuYyE9ZC5nZXRDaGlsZENvdW50KCkpcmV0dXJuIGE9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0LTEpLGQ9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0KSxhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWEuZ2V0TGVuZ3RoKCksYS5zZXRUZXh0KGEuZ2V0VGV4dCgpK2QuZ2V0VGV4dCgpKSxkLnJlbW92ZSgpLGIuc2V0U3RhcnQoYSxjKSxiLmNvbGxhcHNlKCEwKSksITB9dmFyIGU9Yi5zdGFydENvbnRhaW5lcjtcIm51bWJlclwiPT10eXBlb2YgYyYmXCJudW1iZXJcIj09dHlwZW9mIGQmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZihhLnN0YXJ0Q29udGFpbmVyLGUsZCl8fGYoYS5lbmRDb250YWluZXIsZSxjKSl9LGlzRHJvcFJhbmdlQWZmZWN0ZWRCeURyYWdSYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBkPWIuc3RhcnRDb250YWluZXIsYz1iLmVuZE9mZnNldDtcbnJldHVybiBhLmVuZENvbnRhaW5lci5lcXVhbHMoZCkmJmEuZW5kT2Zmc2V0PD1jfHxhLnN0YXJ0Q29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhkKSYmYS5zdGFydENvbnRhaW5lci5nZXRJbmRleCgpPGN8fGEuZW5kQ29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhkKSYmYS5lbmRDb250YWluZXIuZ2V0SW5kZXgoKTxjPyEwOiExfSxpbnRlcm5hbERyb3A6ZnVuY3Rpb24oYSxiLGQsZil7dmFyIGU9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQsaD1mLmVkaXRhYmxlKCksZyxrO2YuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtmLmZpcmUoXCJsb2NrU25hcHNob3RcIix7ZG9udFVwZGF0ZToxfSk7Q0tFRElUT1IuZW52LmllJiYxMD5DS0VESVRPUi5lbnYudmVyc2lvbiYmdGhpcy5maXhTcGxpdE5vZGVzQWZ0ZXJEcm9wKGEsYixlLmRyYWdTdGFydENvbnRhaW5lckNoaWxkQ291bnQsZS5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudCk7KGs9dGhpcy5pc0Ryb3BSYW5nZUFmZmVjdGVkQnlEcmFnUmFuZ2UoYSxcbmIpKXx8KGc9YS5jcmVhdGVCb29rbWFyayghMSkpO2U9Yi5jbG9uZSgpLmNyZWF0ZUJvb2ttYXJrKCExKTtrJiYoZz1hLmNyZWF0ZUJvb2ttYXJrKCExKSk7YT1nLnN0YXJ0Tm9kZTtiPWcuZW5kTm9kZTtrPWUuc3RhcnROb2RlO2ImJmEuZ2V0UG9zaXRpb24oaykmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HJiZiLmdldFBvc2l0aW9uKGspJkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmay5pbnNlcnRCZWZvcmUoYSk7YT1mLmNyZWF0ZVJhbmdlKCk7YS5tb3ZlVG9Cb29rbWFyayhnKTtoLmV4dHJhY3RIdG1sRnJvbVJhbmdlKGEsMSk7Yj1mLmNyZWF0ZVJhbmdlKCk7ZS5zdGFydE5vZGUuZ2V0Q29tbW9uQW5jZXN0b3IoaCl8fChlPWYuZ2V0U2VsZWN0aW9uKCkuY3JlYXRlQm9va21hcmtzKClbMF0pO2IubW92ZVRvQm9va21hcmsoZSk7YyhmLHtkYXRhVHJhbnNmZXI6ZCxtZXRob2Q6XCJkcm9wXCIscmFuZ2U6Yn0sMSk7Zi5maXJlKFwidW5sb2NrU25hcHNob3RcIil9LGdldFJhbmdlQXREcm9wUG9zaXRpb246ZnVuY3Rpb24oYSxcbmIpe3ZhciBkPWEuZGF0YS4kLGM9ZC5jbGllbnRYLGY9ZC5jbGllbnRZLGU9Yi5nZXRTZWxlY3Rpb24oITApLmdldFJhbmdlcygpWzBdLGg9Yi5jcmVhdGVSYW5nZSgpO2lmKGEuZGF0YS50ZXN0UmFuZ2UpcmV0dXJuIGEuZGF0YS50ZXN0UmFuZ2U7aWYoZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCYmYi5kb2N1bWVudC4kLmNhcmV0UmFuZ2VGcm9tUG9pbnQoYyxmKSlkPWIuZG9jdW1lbnQuJC5jYXJldFJhbmdlRnJvbVBvaW50KGMsZiksaC5zZXRTdGFydChDS0VESVRPUi5kb20ubm9kZShkLnN0YXJ0Q29udGFpbmVyKSxkLnN0YXJ0T2Zmc2V0KSxoLmNvbGxhcHNlKCEwKTtlbHNlIGlmKGQucmFuZ2VQYXJlbnQpaC5zZXRTdGFydChDS0VESVRPUi5kb20ubm9kZShkLnJhbmdlUGFyZW50KSxkLnJhbmdlT2Zmc2V0KSxoLmNvbGxhcHNlKCEwKTtlbHNle2lmKENLRURJVE9SLmVudi5pZSYmODxDS0VESVRPUi5lbnYudmVyc2lvbiYmZSYmYi5lZGl0YWJsZSgpLmhhc0ZvY3VzKXJldHVybiBlO1xuaWYoZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2Upe2IuZm9jdXMoKTtkPWIuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e2Zvcih2YXIgZz0hMSxrPTA7MjA+ayYmIWc7aysrKXtpZighZyl0cnl7ZC5tb3ZlVG9Qb2ludChjLGYtayksZz0hMH1jYXRjaChsKXt9aWYoIWcpdHJ5e2QubW92ZVRvUG9pbnQoYyxmK2spLGc9ITB9Y2F0Y2gobSl7fX1pZihnKXt2YXIgdj1cImNrZS10ZW1wLVwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpO2QucGFzdGVIVE1MKCdcXHgzY3NwYW4gaWRcXHgzZFwiJyt2KydcIlxceDNl4oCLXFx4M2Mvc3BhblxceDNlJyk7dmFyIEY9Yi5kb2N1bWVudC5nZXRCeUlkKHYpO2gubW92ZVRvUG9zaXRpb24oRixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO0YucmVtb3ZlKCl9ZWxzZXt2YXIgeT1iLmRvY3VtZW50LiQuZWxlbWVudEZyb21Qb2ludChjLGYpLEM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHkpLEg7aWYoQy5lcXVhbHMoYi5lZGl0YWJsZSgpKXx8XG5cImh0bWxcIj09Qy5nZXROYW1lKCkpcmV0dXJuIGUmJmUuc3RhcnRDb250YWluZXImJiFlLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhiLmVkaXRhYmxlKCkpP2U6bnVsbDtIPUMuZ2V0Q2xpZW50UmVjdCgpO2M8SC5sZWZ0P2guc2V0U3RhcnRBdChDLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTpoLnNldFN0YXJ0QXQoQyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtoLmNvbGxhcHNlKCEwKX19Y2F0Y2goRyl7cmV0dXJuIG51bGx9fWVsc2UgcmV0dXJuIG51bGx9cmV0dXJuIGh9LGluaXREcmFnRGF0YVRyYW5zZmVyOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YS5kYXRhLiQ/YS5kYXRhLiQuZGF0YVRyYW5zZmVyOm51bGwsYz1uZXcgdGhpcy5kYXRhVHJhbnNmZXIoZCxiKTtcImRyYWdzdGFydFwiPT09YS5uYW1lJiZjLnN0b3JlSWQoKTtkP3RoaXMuZHJhZ0RhdGEmJmMuaWQ9PXRoaXMuZHJhZ0RhdGEuaWQ/Yz10aGlzLmRyYWdEYXRhOnRoaXMuZHJhZ0RhdGE9Yzp0aGlzLmRyYWdEYXRhP1xuYz10aGlzLmRyYWdEYXRhOnRoaXMuZHJhZ0RhdGE9YzthLmRhdGEuZGF0YVRyYW5zZmVyPWN9LHJlc2V0RHJhZ0RhdGFUcmFuc2ZlcjpmdW5jdGlvbigpe3RoaXMuZHJhZ0RhdGE9bnVsbH0saW5pdFBhc3RlRGF0YVRyYW5zZmVyOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5pc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQpe2lmKGEmJmEuZGF0YSYmYS5kYXRhLiQpe3ZhciBkPWEuZGF0YS4kLmNsaXBib2FyZERhdGEsYz1uZXcgdGhpcy5kYXRhVHJhbnNmZXIoZCxiKTtcImNvcHlcIiE9PWEubmFtZSYmXCJjdXRcIiE9PWEubmFtZXx8Yy5zdG9yZUlkKCk7dGhpcy5jb3B5Q3V0RGF0YSYmYy5pZD09dGhpcy5jb3B5Q3V0RGF0YS5pZD8oYz10aGlzLmNvcHlDdXREYXRhLGMuJD1kKTp0aGlzLmNvcHlDdXREYXRhPWM7cmV0dXJuIGN9cmV0dXJuIG5ldyB0aGlzLmRhdGFUcmFuc2ZlcihudWxsLGIpfXJldHVybiBuZXcgdGhpcy5kYXRhVHJhbnNmZXIoQ0tFRElUT1IuZW52LmVkZ2UmJmEmJmEuZGF0YS4kJiZcbmEuZGF0YS4kLmNsaXBib2FyZERhdGF8fG51bGwsYil9LHByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudDpmdW5jdGlvbihhKXthJiZhLm9uKFwiZHJhZ292ZXJcIixrKX19O2Y9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQ/XCJja2UvaWRcIjpcIlRleHRcIjtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXI9ZnVuY3Rpb24oYSxiKXthJiYodGhpcy4kPWEpO3RoaXMuXz17bWV0YVJlZ0V4cDovXjxtZXRhLio/Pi9pLGJvZHlSZWdFeHA6Lzxib2R5KD86W1xcc1xcU10qPyk+KFtcXHNcXFNdKik8XFwvYm9keT4vaSxmcmFnbWVudFJlZ0V4cDovXFxzKlxceDNjIS0tU3RhcnRGcmFnbWVudC0tXFx4M2V8XFx4M2MhLS1FbmRGcmFnbWVudC0tXFx4M2VcXHMqL2csZGF0YTp7fSxmaWxlczpbXSxuYXRpdmVIdG1sQ2FjaGU6XCJcIixub3JtYWxpemVUeXBlOmZ1bmN0aW9uKGEpe2E9YS50b0xvd2VyQ2FzZSgpO3JldHVyblwidGV4dFwiPT1hfHxcInRleHQvcGxhaW5cIj09XG5hP1wiVGV4dFwiOlwidXJsXCI9PWE/XCJVUkxcIjphfX07dGhpcy5fLmZhbGxiYWNrRGF0YVRyYW5zZmVyPW5ldyBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2Zlcih0aGlzKTt0aGlzLmlkPXRoaXMuZ2V0RGF0YShmKTt0aGlzLmlkfHwodGhpcy5pZD1cIlRleHRcIj09Zj9cIlwiOlwiY2tlLVwiK0NLRURJVE9SLnRvb2xzLmdldFVuaXF1ZUlkKCkpO2ImJih0aGlzLnNvdXJjZUVkaXRvcj1iLHRoaXMuc2V0RGF0YShcInRleHQvaHRtbFwiLGIuZ2V0U2VsZWN0ZWRIdG1sKDEpKSxcIlRleHRcIj09Znx8dGhpcy5nZXREYXRhKFwidGV4dC9wbGFpblwiKXx8dGhpcy5zZXREYXRhKFwidGV4dC9wbGFpblwiLGIuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRUZXh0KCkpKX07Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTD0xO0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUz0yO0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUw9MztDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIucHJvdG90eXBlPVxue2dldERhdGE6ZnVuY3Rpb24oYSxiKXthPXRoaXMuXy5ub3JtYWxpemVUeXBlKGEpO3ZhciBkPVwidGV4dC9odG1sXCI9PWEmJmI/dGhpcy5fLm5hdGl2ZUh0bWxDYWNoZTp0aGlzLl8uZGF0YVthXTtpZih2b2lkIDA9PT1kfHxudWxsPT09ZHx8XCJcIj09PWQpe2lmKHRoaXMuXy5mYWxsYmFja0RhdGFUcmFuc2Zlci5pc1JlcXVpcmVkKCkpZD10aGlzLl8uZmFsbGJhY2tEYXRhVHJhbnNmZXIuZ2V0RGF0YShhLGIpO2Vsc2UgdHJ5e2Q9dGhpcy4kLmdldERhdGEoYSl8fFwiXCJ9Y2F0Y2goYyl7ZD1cIlwifVwidGV4dC9odG1sXCIhPWF8fGJ8fChkPXRoaXMuX3N0cmlwSHRtbChkKSl9XCJUZXh0XCI9PWEmJkNLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5nZXRGaWxlc0NvdW50KCkmJlwiZmlsZTovL1wiPT1kLnN1YnN0cmluZygwLDcpJiYoZD1cIlwiKTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGQpdmFyIGY9ZC5pbmRleE9mKFwiXFx4M2MvaHRtbFxceDNlXCIpLGQ9LTEhPT1mP2Quc3Vic3RyaW5nKDAsZis3KTpkO3JldHVybiBkfSxcbnNldERhdGE6ZnVuY3Rpb24oYSxiKXthPXRoaXMuXy5ub3JtYWxpemVUeXBlKGEpO1widGV4dC9odG1sXCI9PWE/KHRoaXMuXy5kYXRhW2FdPXRoaXMuX3N0cmlwSHRtbChiKSx0aGlzLl8ubmF0aXZlSHRtbENhY2hlPWIpOnRoaXMuXy5kYXRhW2FdPWI7aWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWR8fFwiVVJMXCI9PWF8fFwiVGV4dFwiPT1hKWlmKFwiVGV4dFwiPT1mJiZcIlRleHRcIj09YSYmKHRoaXMuaWQ9YiksdGhpcy5fLmZhbGxiYWNrRGF0YVRyYW5zZmVyLmlzUmVxdWlyZWQoKSl0aGlzLl8uZmFsbGJhY2tEYXRhVHJhbnNmZXIuc2V0RGF0YShhLGIpO2Vsc2UgdHJ5e3RoaXMuJC5zZXREYXRhKGEsYil9Y2F0Y2goZCl7fX0sc3RvcmVJZDpmdW5jdGlvbigpe1wiVGV4dFwiIT09ZiYmdGhpcy5zZXREYXRhKGYsdGhpcy5pZCl9LGdldFRyYW5zZmVyVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zb3VyY2VFZGl0b3I/dGhpcy5zb3VyY2VFZGl0b3I9PVxuYT9DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMOkNLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUzpDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0VYVEVSTkFMfSxjYWNoZURhdGE6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2E9Yi5fLm5vcm1hbGl6ZVR5cGUoYSk7dmFyIGQ9Yi5nZXREYXRhKGEpO1widGV4dC9odG1sXCI9PWEmJihiLl8ubmF0aXZlSHRtbENhY2hlPWIuZ2V0RGF0YShhLCEwKSxkPWIuX3N0cmlwSHRtbChkKSk7ZCYmKGIuXy5kYXRhW2FdPWQpfWlmKHRoaXMuJCl7dmFyIGI9dGhpcyxkLGM7aWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQpe2lmKHRoaXMuJC50eXBlcylmb3IoZD0wO2Q8dGhpcy4kLnR5cGVzLmxlbmd0aDtkKyspYSh0aGlzLiQudHlwZXNbZF0pfWVsc2UgYShcIlRleHRcIiksYShcIlVSTFwiKTtjPXRoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpO2lmKHRoaXMuJCYmdGhpcy4kLmZpbGVzfHxcbmMpe3RoaXMuXy5maWxlcz1bXTtpZih0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGgpZm9yKGQ9MDtkPHRoaXMuJC5maWxlcy5sZW5ndGg7ZCsrKXRoaXMuXy5maWxlcy5wdXNoKHRoaXMuJC5maWxlc1tkXSk7MD09PXRoaXMuXy5maWxlcy5sZW5ndGgmJmMmJnRoaXMuXy5maWxlcy5wdXNoKGMpfX19LGdldEZpbGVzQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmZpbGVzLmxlbmd0aD90aGlzLl8uZmlsZXMubGVuZ3RoOnRoaXMuJCYmdGhpcy4kLmZpbGVzJiZ0aGlzLiQuZmlsZXMubGVuZ3RoP3RoaXMuJC5maWxlcy5sZW5ndGg6dGhpcy5fZ2V0SW1hZ2VGcm9tQ2xpcGJvYXJkKCk/MTowfSxnZXRGaWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uZmlsZXMubGVuZ3RoP3RoaXMuXy5maWxlc1thXTp0aGlzLiQmJnRoaXMuJC5maWxlcyYmdGhpcy4kLmZpbGVzLmxlbmd0aD90aGlzLiQuZmlsZXNbYV06MD09PWE/dGhpcy5fZ2V0SW1hZ2VGcm9tQ2xpcGJvYXJkKCk6XG52b2lkIDB9LGlzRW1wdHk6ZnVuY3Rpb24oKXt2YXIgYT17fSxiO2lmKHRoaXMuZ2V0RmlsZXNDb3VudCgpKXJldHVybiExO0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goQ0tFRElUT1IudG9vbHMub2JqZWN0LmtleXModGhpcy5fLmRhdGEpLGZ1bmN0aW9uKGIpe2FbYl09MX0pO2lmKHRoaXMuJClpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZCl7aWYodGhpcy4kLnR5cGVzKWZvcih2YXIgZD0wO2Q8dGhpcy4kLnR5cGVzLmxlbmd0aDtkKyspYVt0aGlzLiQudHlwZXNbZF1dPTF9ZWxzZSBhLlRleHQ9MSxhLlVSTD0xO1wiVGV4dFwiIT1mJiYoYVtmXT0wKTtmb3IoYiBpbiBhKWlmKGFbYl0mJlwiXCIhPT10aGlzLmdldERhdGEoYikpcmV0dXJuITE7cmV0dXJuITB9LGdldFR5cGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCYmdGhpcy4kLnR5cGVzP1tdLnNsaWNlLmNhbGwodGhpcy4kLnR5cGVzKTpbXX0sX2dldEltYWdlRnJvbUNsaXBib2FyZDpmdW5jdGlvbigpe3ZhciBhO1xudHJ5e2lmKHRoaXMuJCYmdGhpcy4kLml0ZW1zJiZ0aGlzLiQuaXRlbXNbMF0mJihhPXRoaXMuJC5pdGVtc1swXS5nZXRBc0ZpbGUoKSkmJmEudHlwZSlyZXR1cm4gYX1jYXRjaChiKXt9fSxfc3RyaXBIdG1sOmZ1bmN0aW9uKGEpe2lmKGEmJmEubGVuZ3RoKXthPWEucmVwbGFjZSh0aGlzLl8ubWV0YVJlZ0V4cCxcIlwiKTt2YXIgYj10aGlzLl8uYm9keVJlZ0V4cC5leGVjKGEpO2ImJmIubGVuZ3RoJiYoYT1iWzFdLGE9YS5yZXBsYWNlKHRoaXMuXy5mcmFnbWVudFJlZ0V4cCxcIlwiKSl9cmV0dXJuIGF9fTtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2Zlcj1mdW5jdGlvbihhKXt0aGlzLl9kYXRhVHJhbnNmZXI9YTt0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlPVwidGV4dC9odG1sXCJ9O0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyLl9pc0N1c3RvbU1pbWVUeXBlU3VwcG9ydGVkPW51bGw7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIuX2N1c3RvbVR5cGVzPVxuW107Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIucHJvdG90eXBlPXtpc1JlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIsYj10aGlzLl9kYXRhVHJhbnNmZXIuJDtpZihudWxsPT09YS5faXNDdXN0b21NaW1lVHlwZVN1cHBvcnRlZClpZihiKXthLl9pc0N1c3RvbU1pbWVUeXBlU3VwcG9ydGVkPSExO2lmKENLRURJVE9SLmVudi5lZGdlJiYxNzw9Q0tFRElUT1IuZW52LnZlcnNpb24pcmV0dXJuITA7dHJ5e2Iuc2V0RGF0YShcImNrZS9taW1ldHlwZXRlc3RcIixcImNrZSB0ZXN0IHZhbHVlXCIpLGEuX2lzQ3VzdG9tTWltZVR5cGVTdXBwb3J0ZWQ9XCJja2UgdGVzdCB2YWx1ZVwiPT09Yi5nZXREYXRhKFwiY2tlL21pbWV0eXBldGVzdFwiKSxiLmNsZWFyRGF0YShcImNrZS9taW1ldHlwZXRlc3RcIil9Y2F0Y2goZCl7fX1lbHNlIHJldHVybiExO3JldHVybiFhLl9pc0N1c3RvbU1pbWVUeXBlU3VwcG9ydGVkfSxcbmdldERhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLl9nZXREYXRhKHRoaXMuX2N1c3RvbURhdGFGYWxsYmFja1R5cGUsITApO2lmKGIpcmV0dXJuIGQ7dmFyIGQ9dGhpcy5fZXh0cmFjdERhdGFDb21tZW50KGQpLGM9bnVsbCxjPWE9PT10aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlP2QuY29udGVudDpkLmRhdGEmJmQuZGF0YVthXT9kLmRhdGFbYV06dGhpcy5fZ2V0RGF0YShhLCEwKTtyZXR1cm4gbnVsbCE9PWM/YzpcIlwifSxzZXREYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YT09PXRoaXMuX2N1c3RvbURhdGFGYWxsYmFja1R5cGU7ZCYmKGI9dGhpcy5fYXBwbHlEYXRhQ29tbWVudChiLHRoaXMuX2dldEZhbGxiYWNrVHlwZURhdGEoKSkpO3ZhciBjPWIsZj10aGlzLl9kYXRhVHJhbnNmZXIuJDt0cnl7Zi5zZXREYXRhKGEsYyksZCYmKHRoaXMuX2RhdGFUcmFuc2Zlci5fLm5hdGl2ZUh0bWxDYWNoZT1jKX1jYXRjaChlKXtpZih0aGlzLl9pc1Vuc3VwcG9ydGVkTWltZVR5cGVFcnJvcihlKSl7ZD1cbkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyOy0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihkLl9jdXN0b21UeXBlcyxhKSYmZC5fY3VzdG9tVHlwZXMucHVzaChhKTt2YXIgZD10aGlzLl9nZXRGYWxsYmFja1R5cGVDb250ZW50KCksaD10aGlzLl9nZXRGYWxsYmFja1R5cGVEYXRhKCk7aFthXT1jO3RyeXtjPXRoaXMuX2FwcGx5RGF0YUNvbW1lbnQoZCxoKSxmLnNldERhdGEodGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZSxjKSx0aGlzLl9kYXRhVHJhbnNmZXIuXy5uYXRpdmVIdG1sQ2FjaGU9Y31jYXRjaChnKXtjPVwiXCJ9fX1yZXR1cm4gY30sX2dldERhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLl9kYXRhVHJhbnNmZXIuXy5kYXRhO2lmKCFiJiZkW2FdKXJldHVybiBkW2FdO3RyeXtyZXR1cm4gdGhpcy5fZGF0YVRyYW5zZmVyLiQuZ2V0RGF0YShhKX1jYXRjaChjKXtyZXR1cm4gbnVsbH19LF9nZXRGYWxsYmFja1R5cGVDb250ZW50OmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLl9kYXRhVHJhbnNmZXIuXy5kYXRhW3RoaXMuX2N1c3RvbURhdGFGYWxsYmFja1R5cGVdO2F8fChhPXRoaXMuX2V4dHJhY3REYXRhQ29tbWVudCh0aGlzLl9nZXREYXRhKHRoaXMuX2N1c3RvbURhdGFGYWxsYmFja1R5cGUsITApKS5jb250ZW50KTtyZXR1cm4gYX0sX2dldEZhbGxiYWNrVHlwZURhdGE6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2Zlci5fY3VzdG9tVHlwZXMsYj10aGlzLl9leHRyYWN0RGF0YUNvbW1lbnQodGhpcy5fZ2V0RGF0YSh0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlLCEwKSkuZGF0YXx8e30sZD10aGlzLl9kYXRhVHJhbnNmZXIuXy5kYXRhO0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goYSxmdW5jdGlvbihhKXt2b2lkIDAhPT1kW2FdP2JbYV09ZFthXTp2b2lkIDAhPT1iW2FdJiYoYlthXT1iW2FdKX0sdGhpcyk7cmV0dXJuIGJ9LF9pc1Vuc3VwcG9ydGVkTWltZVR5cGVFcnJvcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5tZXNzYWdlJiZcbi0xIT09YS5tZXNzYWdlLnNlYXJjaCgvZWxlbWVudCBub3QgZm91bmQvZ2kpfSxfZXh0cmFjdERhdGFDb21tZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXtkYXRhOm51bGwsY29udGVudDphfHxcIlwifTtpZihhJiYxNjxhLmxlbmd0aCl7dmFyIGQ7KGQ9L1xceDNjIS0tY2tlLWRhdGE6KC4qPyktLVxceDNlL2cuZXhlYyhhKSkmJmRbMV0mJihiLmRhdGE9SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZFsxXSkpLGIuY29udGVudD1hLnJlcGxhY2UoZFswXSxcIlwiKSl9cmV0dXJuIGJ9LF9hcHBseURhdGFDb21tZW50OmZ1bmN0aW9uKGEsYil7dmFyIGQ9XCJcIjtiJiZDS0VESVRPUi50b29scy5vYmplY3Qua2V5cyhiKS5sZW5ndGgmJihkPVwiXFx4M2MhLS1ja2UtZGF0YTpcIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYikpK1wiLS1cXHgzZVwiKTtyZXR1cm4gZCsoYSYmYS5sZW5ndGg/YTpcIlwiKX19fSkoKTtDS0VESVRPUi5jb25maWcuY2xpcGJvYXJkX25vdGlmaWNhdGlvbkR1cmF0aW9uPVxuMUU0O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFuZWxidXR0b25cIix7cmVxdWlyZXM6XCJidXR0b25cIixvbkxvYWQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGMpe3ZhciBlPXRoaXMuXztlLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKHRoaXMuY3JlYXRlUGFuZWwoYyksZS5vbj9lLnBhbmVsLmhpZGUoKTplLnBhbmVsLnNob3dCbG9jayh0aGlzLl8uaWQsdGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCksNCkpfUNLRURJVE9SLnVpLnBhbmVsQnV0dG9uPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLmJ1dHRvbiwkOmZ1bmN0aW9uKGcpe3ZhciBlPWcucGFuZWx8fHt9O2RlbGV0ZSBnLnBhbmVsO3RoaXMuYmFzZShnKTt0aGlzLmRvY3VtZW50PWUucGFyZW50JiZlLnBhcmVudC5nZXREb2N1bWVudCgpfHxDS0VESVRPUi5kb2N1bWVudDtlLmJsb2NrPXthdHRyaWJ1dGVzOmUuYXR0cmlidXRlc307ZS50b29sYmFyUmVsYXRlZD0hMDtcbnRoaXMuaGFzQXJyb3c9XCJsaXN0Ym94XCI7dGhpcy5jbGljaz1jO3RoaXMuXz17cGFuZWxEZWZpbml0aW9uOmV9fSxzdGF0aWNzOntoYW5kbGVyOntjcmVhdGU6ZnVuY3Rpb24oYyl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5wYW5lbEJ1dHRvbihjKX19fSxwcm90bzp7Y3JlYXRlUGFuZWw6ZnVuY3Rpb24oYyl7dmFyIGU9dGhpcy5fO2lmKCFlLnBhbmVsKXt2YXIgYj10aGlzLl8ucGFuZWxEZWZpbml0aW9uLGg9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayxtPWIucGFyZW50fHxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksbD10aGlzLl8ucGFuZWw9bmV3IENLRURJVE9SLnVpLmZsb2F0UGFuZWwoYyxtLGIpLGI9bC5hZGRCbG9jayhlLmlkLGgpLGs9dGhpcyxkPWMuZ2V0Q29tbWFuZCh0aGlzLmNvbW1hbmQpO2wub25TaG93PWZ1bmN0aW9uKCl7ay5jbGFzc05hbWUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhrLmNsYXNzTmFtZStcIl9wYW5lbFwiKTtrLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTtcbmUub249MTtrLmVkaXRvckZvY3VzJiZjLmZvY3VzKCk7aWYoay5vbk9wZW4pay5vbk9wZW4oKX07bC5vbkhpZGU9ZnVuY3Rpb24oYil7ay5jbGFzc05hbWUmJnRoaXMuZWxlbWVudC5nZXRGaXJzdCgpLnJlbW92ZUNsYXNzKGsuY2xhc3NOYW1lK1wiX3BhbmVsXCIpOyFrLm1vZGVzJiZkP2suc2V0U3RhdGVGcm9tQ29tbWFuZChkKTprLnNldFN0YXRlKGsubW9kZXMmJmsubW9kZXNbYy5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Uub249MDtpZighYiYmay5vbkNsb3NlKWsub25DbG9zZSgpfTtsLm9uRXNjYXBlPWZ1bmN0aW9uKCl7bC5oaWRlKDEpO2suZG9jdW1lbnQuZ2V0QnlJZChlLmlkKS5mb2N1cygpfTtpZih0aGlzLm9uQmxvY2spdGhpcy5vbkJsb2NrKGwsYik7Yi5vbkhpZGU9ZnVuY3Rpb24oKXtlLm9uPTA7IWsubW9kZXMmJmsuY29tbWFuZD9rLnNldFN0YXRlRnJvbUNvbW1hbmQoZCk6ay5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX19LFxuc2V0U3RhdGVGcm9tQ29tbWFuZDpmdW5jdGlvbihjKXt0aGlzLnNldFN0YXRlKGMuc3RhdGUpfX19KX0sYmVmb3JlSW5pdDpmdW5jdGlvbihjKXtjLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUEFORUxCVVRUT04sQ0tFRElUT1IudWkucGFuZWxCdXR0b24uaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfUEFORUxCVVRUT049XCJwYW5lbGJ1dHRvblwiOyhmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFuZWxcIix7YmVmb3JlSW5pdDpmdW5jdGlvbihiKXtiLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUEFORUwsQ0tFRElUT1IudWkucGFuZWwuaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfUEFORUw9XCJwYW5lbFwiO0NLRURJVE9SLnVpLnBhbmVsPWZ1bmN0aW9uKGIsYyl7YyYmQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYyk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMse2NsYXNzTmFtZTpcIlwiLGNzczpbXX0pO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7XG50aGlzLmRvY3VtZW50PWI7dGhpcy5pc0ZyYW1lZD10aGlzLmZvcmNlSUZyYW1lfHx0aGlzLmNzcy5sZW5ndGg7dGhpcy5fPXtibG9ja3M6e319fTtDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyPXtjcmVhdGU6ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5wYW5lbChiKX19O3ZhciBjPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWxcIiwnXFx4M2NkaXYgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCIgaWRcXHgzZFwie2lkfVwiIGRpclxceDNke2Rpcn0gY2xhc3NcXHgzZFwiY2tlIGNrZV9yZXNldF9hbGwge2VkaXRvcklkfSBja2VfcGFuZWwgY2tlX3BhbmVsIHtjbHN9IGNrZV97ZGlyfVwiIHN0eWxlXFx4M2RcInotaW5kZXg6e3otaW5kZXh9XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle2ZyYW1lfVxceDNjL2RpdlxceDNlJyksZz1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWZyYW1lXCIsJ1xceDNjaWZyYW1lIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfZnJhbWVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGZyYW1lYm9yZGVyXFx4M2RcIjBcIiBzcmNcXHgzZFwie3NyY31cIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKSxcbmU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1mcmFtZS1pbm5lclwiLCdcXHgzYyFET0NUWVBFIGh0bWxcXHgzZVxceDNjaHRtbCBjbGFzc1xceDNkXCJja2VfcGFuZWxfY29udGFpbmVyIHtlbnZ9XCIgZGlyXFx4M2RcIntkaXJ9XCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCJcXHgzZVxceDNjaGVhZFxceDNle2Nzc31cXHgzYy9oZWFkXFx4M2VcXHgzY2JvZHkgY2xhc3NcXHgzZFwiY2tlX3tkaXJ9XCIgc3R5bGVcXHgzZFwibWFyZ2luOjA7cGFkZGluZzowXCIgb25sb2FkXFx4M2RcIntvbmxvYWR9XCJcXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZScpO0NLRURJVE9SLnVpLnBhbmVsLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGIsaCl7dmFyIG09e2VkaXRvcklkOmIuaWQsaWQ6dGhpcy5pZCxsYW5nQ29kZTpiLmxhbmdDb2RlLGRpcjpiLmxhbmcuZGlyLGNsczp0aGlzLmNsYXNzTmFtZSxmcmFtZTpcIlwiLGVudjpDS0VESVRPUi5lbnYuY3NzQ2xhc3MsXCJ6LWluZGV4XCI6Yi5jb25maWcuYmFzZUZsb2F0WkluZGV4KzF9O1xudGhpcy5nZXRIb2xkZXJFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fLmhvbGRlcjtpZighYil7aWYodGhpcy5pc0ZyYW1lZCl7dmFyIGI9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQrXCJfZnJhbWVcIiksZD1iLmdldFBhcmVudCgpLGI9Yi5nZXRGcmFtZURvY3VtZW50KCk7Q0tFRElUT1IuZW52LmlPUyYmZC5zZXRTdHlsZXMoe292ZXJmbG93Olwic2Nyb2xsXCIsXCItd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZ1wiOlwidG91Y2hcIn0pO2Q9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oQ0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3RoaXMuaXNMb2FkZWQ9ITA7aWYodGhpcy5vbkxvYWQpdGhpcy5vbkxvYWQoKX0sdGhpcykpO2Iud3JpdGUoZS5vdXRwdXQoQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtjc3M6Q0tFRElUT1IudG9vbHMuYnVpbGRTdHlsZUh0bWwodGhpcy5jc3MpLG9ubG9hZDpcIndpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK1xuZCtcIik7XCJ9LG0pKSk7Yi5nZXRXaW5kb3coKS4kLkNLRURJVE9SPUNLRURJVE9SO2Iub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYil7dmFyIGE9Yi5kYXRhLmdldEtleXN0cm9rZSgpLGQ9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpLmdldEF0dHJpYnV0ZShcImRpclwiKTtpZihcImlucHV0XCIhPT1iLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0TmFtZSgpfHwzNyE9PWEmJjM5IT09YSl0aGlzLl8ub25LZXlEb3duJiYhMT09PXRoaXMuXy5vbktleURvd24oYSk/XCJpbnB1dFwiPT09Yi5kYXRhLmdldFRhcmdldCgpLmdldE5hbWUoKSYmMzI9PT1hfHxiLmRhdGEucHJldmVudERlZmF1bHQoKTooMjc9PWF8fGE9PShcInJ0bFwiPT1kPzM5OjM3KSkmJnRoaXMub25Fc2NhcGUmJiExPT09dGhpcy5vbkVzY2FwZShhKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO2I9Yi5nZXRCb2R5KCk7Yi51bnNlbGVjdGFibGUoKTtDS0VESVRPUi5lbnYuYWlyJiZDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oZCl9ZWxzZSBiPVxudGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpO3RoaXMuXy5ob2xkZXI9Yn1yZXR1cm4gYn07aWYodGhpcy5pc0ZyYW1lZCl7dmFyIGw9Q0tFRElUT1IuZW52LmFpcj9cImphdmFzY3JpcHQ6dm9pZCgwKVwiOkNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlP1wiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KCkpXCI6XCJcIjttLmZyYW1lPWcub3V0cHV0KHtpZDp0aGlzLmlkK1wiX2ZyYW1lXCIsc3JjOmx9KX1sPWMub3V0cHV0KG0pO2gmJmgucHVzaChsKTtyZXR1cm4gbH0sYWRkQmxvY2s6ZnVuY3Rpb24oYixjKXtjPXRoaXMuXy5ibG9ja3NbYl09YyBpbnN0YW5jZW9mIENLRURJVE9SLnVpLnBhbmVsLmJsb2NrP2M6bmV3IENLRURJVE9SLnVpLnBhbmVsLmJsb2NrKHRoaXMuZ2V0SG9sZGVyRWxlbWVudCgpLGMpO1xudGhpcy5fLmN1cnJlbnRCbG9ja3x8dGhpcy5zaG93QmxvY2soYik7cmV0dXJuIGN9LGdldEJsb2NrOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl8uYmxvY2tzW2JdfSxzaG93QmxvY2s6ZnVuY3Rpb24oYil7Yj10aGlzLl8uYmxvY2tzW2JdO3ZhciBjPXRoaXMuXy5jdXJyZW50QmxvY2ssZT0hdGhpcy5mb3JjZUlGcmFtZXx8Q0tFRElUT1IuZW52LmllP3RoaXMuXy5ob2xkZXI6dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQrXCJfZnJhbWVcIik7YyYmYy5oaWRlKCk7dGhpcy5fLmN1cnJlbnRCbG9jaz1iO0NLRURJVE9SLmZpcmUoXCJhcmlhV2lkZ2V0XCIsZSk7Yi5fLmZvY3VzSW5kZXg9LTE7dGhpcy5fLm9uS2V5RG93bj1iLm9uS2V5RG93biYmQ0tFRElUT1IudG9vbHMuYmluZChiLm9uS2V5RG93bixiKTtiLnNob3coKTtyZXR1cm4gYn0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudCYmdGhpcy5lbGVtZW50LnJlbW92ZSgpfX07Q0tFRElUT1IudWkucGFuZWwuYmxvY2s9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYixcbmMpe3RoaXMuZWxlbWVudD1iLmFwcGVuZChiLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHthdHRyaWJ1dGVzOnt0YWJpbmRleDotMSxcImNsYXNzXCI6XCJja2VfcGFuZWxfYmxvY2tcIn0sc3R5bGVzOntkaXNwbGF5Olwibm9uZVwifX0pKTtjJiZDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxjKTt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlcyh7cm9sZTp0aGlzLmF0dHJpYnV0ZXMucm9sZXx8XCJwcmVzZW50YXRpb25cIixcImFyaWEtbGFiZWxcIjp0aGlzLmF0dHJpYnV0ZXNbXCJhcmlhLWxhYmVsXCJdLHRpdGxlOnRoaXMuYXR0cmlidXRlcy50aXRsZXx8dGhpcy5hdHRyaWJ1dGVzW1wiYXJpYS1sYWJlbFwiXX0pO3RoaXMua2V5cz17fTt0aGlzLl8uZm9jdXNJbmRleD0tMTt0aGlzLmVsZW1lbnQuZGlzYWJsZUNvbnRleHRNZW51KCl9LF86e21hcmtJdGVtOmZ1bmN0aW9uKGIpey0xIT1iJiYoYj10aGlzLl8uZ2V0SXRlbXMoKS5nZXRJdGVtKHRoaXMuXy5mb2N1c0luZGV4PWIpLENLRURJVE9SLmVudi53ZWJraXQmJlxuYi5nZXREb2N1bWVudCgpLmdldFdpbmRvdygpLmZvY3VzKCksYi5mb2N1cygpLHRoaXMub25NYXJrJiZ0aGlzLm9uTWFyayhiKSl9LG1hcmtGaXJzdERpc3BsYXllZDpmdW5jdGlvbihiKXtmb3IodmFyIGM9ZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcIm5vbmVcIj09Yi5nZXRTdHlsZShcImRpc3BsYXlcIil9LGU9dGhpcy5fLmdldEl0ZW1zKCksZyxrLGQ9ZS5jb3VudCgpLTE7MDw9ZDtkLS0paWYoZz1lLmdldEl0ZW0oZCksZy5nZXRBc2NlbmRhbnQoYyl8fChrPWcsdGhpcy5fLmZvY3VzSW5kZXg9ZCksXCJ0cnVlXCI9PWcuZ2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKSl7az1nO3RoaXMuXy5mb2N1c0luZGV4PWQ7YnJlYWt9ayYmKGImJmIoKSxDS0VESVRPUi5lbnYud2Via2l0JiZrLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCkuZm9jdXMoKSxrLmZvY3VzKCksdGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGspKX0sZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoXCJhLGlucHV0XCIpfX0sXG5wcm90bzp7c2hvdzpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKX0saGlkZTpmdW5jdGlvbigpe3RoaXMub25IaWRlJiYhMD09PXRoaXMub25IaWRlLmNhbGwodGhpcyl8fHRoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LG9uS2V5RG93bjpmdW5jdGlvbihiLGMpe3ZhciBlPXRoaXMua2V5c1tiXTtzd2l0Y2goZSl7Y2FzZSBcIm5leHRcIjpmb3IodmFyIGc9dGhpcy5fLmZvY3VzSW5kZXgsZT10aGlzLl8uZ2V0SXRlbXMoKSxrO2s9ZS5nZXRJdGVtKCsrZyk7KWlmKGsuZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmay4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1nO2suZm9jdXMoITApO2JyZWFrfXJldHVybiBrfHxjPyExOih0aGlzLl8uZm9jdXNJbmRleD0tMSx0aGlzLm9uS2V5RG93bihiLDEpKTtjYXNlIFwicHJldlwiOmc9dGhpcy5fLmZvY3VzSW5kZXg7Zm9yKGU9dGhpcy5fLmdldEl0ZW1zKCk7MDxnJiYoaz1cbmUuZ2V0SXRlbSgtLWcpKTspe2lmKGsuZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmay4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1nO2suZm9jdXMoITApO2JyZWFrfWs9bnVsbH1yZXR1cm4ga3x8Yz8hMToodGhpcy5fLmZvY3VzSW5kZXg9ZS5jb3VudCgpLHRoaXMub25LZXlEb3duKGIsMSkpO2Nhc2UgXCJjbGlja1wiOmNhc2UgXCJtb3VzZXVwXCI6cmV0dXJuIGc9dGhpcy5fLmZvY3VzSW5kZXgsKGs9MDw9ZyYmdGhpcy5fLmdldEl0ZW1zKCkuZ2V0SXRlbShnKSkmJmsuZmlyZUV2ZW50SGFuZGxlcihlLHtidXR0b246Q0tFRElUT1IudG9vbHMubm9ybWFsaXplTW91c2VCdXR0b24oQ0tFRElUT1IuTU9VU0VfQlVUVE9OX0xFRlQsITApfSksITF9cmV0dXJuITB9fX0pfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImZsb2F0cGFuZWxcIix7cmVxdWlyZXM6XCJwYW5lbFwifSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhjLGIsaCxtLGwpe2w9Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGIuZ2V0VW5pcXVlSWQoKSxcbmguZ2V0VW5pcXVlSWQoKSxjLmxhbmcuZGlyLGMudWlDb2xvcnx8XCJcIixtLmNzc3x8XCJcIixsfHxcIlwiKTt2YXIgaz1nW2xdO2t8fChrPWdbbF09bmV3IENLRURJVE9SLnVpLnBhbmVsKGIsbSksay5lbGVtZW50PWguYXBwZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGsucmVuZGVyKGMpLGIpKSxrLmVsZW1lbnQuc2V0U3R5bGVzKHtkaXNwbGF5Olwibm9uZVwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0pKTtyZXR1cm4ga312YXIgZz17fTtDS0VESVRPUi51aS5mbG9hdFBhbmVsPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGUsYixoLGcpe2Z1bmN0aW9uIGwoKXthLmhpZGUoKX1oLmZvcmNlSUZyYW1lPTE7aC50b29sYmFyUmVsYXRlZCYmZS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmKGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIitlLm5hbWUpKTt2YXIgaz1iLmdldERvY3VtZW50KCk7Zz1jKGUsayxcbmIsaCxnfHwwKTt2YXIgZD1nLmVsZW1lbnQsZj1kLmdldEZpcnN0KCksYT10aGlzO2QuZGlzYWJsZUNvbnRleHRNZW51KCk7dGhpcy5lbGVtZW50PWQ7dGhpcy5fPXtlZGl0b3I6ZSxwYW5lbDpnLHBhcmVudEVsZW1lbnQ6YixkZWZpbml0aW9uOmgsZG9jdW1lbnQ6ayxpZnJhbWU6ZixjaGlsZHJlbjpbXSxkaXI6ZS5sYW5nLmRpcixzaG93QmxvY2tQYXJhbXM6bnVsbCxtYXJrRmlyc3Q6dm9pZCAwIT09aC5tYXJrRmlyc3Q/aC5tYXJrRmlyc3Q6ITB9O2Uub24oXCJtb2RlXCIsbCk7ZS5vbihcInJlc2l6ZVwiLGwpO2suZ2V0V2luZG93KCkub24oXCJyZXNpemVcIixmdW5jdGlvbigpe3RoaXMucmVwb3NpdGlvbigpfSx0aGlzKX0scHJvdG86e2FkZEJsb2NrOmZ1bmN0aW9uKGMsYil7cmV0dXJuIHRoaXMuXy5wYW5lbC5hZGRCbG9jayhjLGIpfSxhZGRMaXN0QmxvY2s6ZnVuY3Rpb24oYyxiKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmFkZExpc3RCbG9jayhjLGIpfSxnZXRCbG9jazpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmdldEJsb2NrKGMpfSxcbnNob3dCbG9jazpmdW5jdGlvbihjLGIsaCxnLGwsayl7dmFyIGQ9dGhpcy5fLnBhbmVsLGY9ZC5zaG93QmxvY2soYyk7dGhpcy5fLnNob3dCbG9ja1BhcmFtcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dGhpcy5hbGxvd0JsdXIoITEpO3ZhciBhPXRoaXMuXy5lZGl0b3IuZWRpdGFibGUoKTt0aGlzLl8ucmV0dXJuRm9jdXM9YS5oYXNGb2N1cz9hOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChDS0VESVRPUi5kb2N1bWVudC4kLmFjdGl2ZUVsZW1lbnQpO3RoaXMuXy5oaWRlVGltZW91dD0wO3ZhciBuPXRoaXMuZWxlbWVudCxhPXRoaXMuXy5pZnJhbWUsYT1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9hOm5ldyBDS0VESVRPUi5kb20ud2luZG93KGEuJC5jb250ZW50V2luZG93KSxyPW4uZ2V0RG9jdW1lbnQoKSx4PXRoaXMuXy5wYXJlbnRFbGVtZW50LmdldFBvc2l0aW9uZWRBbmNlc3RvcigpLHA9Yi5nZXREb2N1bWVudFBvc2l0aW9uKHIpLHI9eD94LmdldERvY3VtZW50UG9zaXRpb24ocik6XG57eDowLHk6MH0scT1cInJ0bFwiPT10aGlzLl8uZGlyLHU9cC54KyhnfHwwKS1yLngsej1wLnkrKGx8fDApLXIueTshcXx8MSE9aCYmNCE9aD9xfHwyIT1oJiYzIT1ofHwodSs9Yi4kLm9mZnNldFdpZHRoLTEpOnUrPWIuJC5vZmZzZXRXaWR0aDtpZigzPT1ofHw0PT1oKXorPWIuJC5vZmZzZXRIZWlnaHQtMTt0aGlzLl8ucGFuZWwuXy5vZmZzZXRQYXJlbnRJZD1iLmdldElkKCk7bi5zZXRTdHlsZXMoe3RvcDp6K1wicHhcIixsZWZ0OjAsZGlzcGxheTpcIlwifSk7bi5zZXRPcGFjaXR5KDApO24uZ2V0Rmlyc3QoKS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO3RoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChhKTt0aGlzLl8uYmx1clNldHx8KENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITAsYS5vbihcImJsdXJcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZGVsZXRlIHRoaXMuXy5yZXR1cm5Gb2N1czt0aGlzLmhpZGUoKX10aGlzLmFsbG93Qmx1cigpJiZhLmRhdGEuZ2V0UGhhc2UoKT09Q0tFRElUT1IuRVZFTlRfUEhBU0VfQVRfVEFSR0VUJiZcbnRoaXMudmlzaWJsZSYmIXRoaXMuXy5hY3RpdmVDaGlsZCYmKENLRURJVE9SLmVudi5pT1M/dGhpcy5fLmhpZGVUaW1lb3V0fHwodGhpcy5fLmhpZGVUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYiwwLHRoaXMpKTpiLmNhbGwodGhpcykpfSx0aGlzKSxhLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkPSEwO3RoaXMuaGlkZUNoaWxkKCk7dGhpcy5hbGxvd0JsdXIoITApfSx0aGlzKSxDS0VESVRPUi5lbnYuaU9TJiYoYS5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uaGlkZVRpbWVvdXQpfSx0aGlzKSxhLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe3RoaXMuXy5oaWRlVGltZW91dD0wO3RoaXMuZm9jdXMoKX0sdGhpcykpLENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITEsdGhpcy5fLmJsdXJTZXQ9MSk7ZC5vbkVzY2FwZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKGEpe2lmKHRoaXMub25Fc2NhcGUmJlxuITE9PT10aGlzLm9uRXNjYXBlKGEpKXJldHVybiExfSx0aGlzKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3ZhciBhPW47YS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO2lmKGYuYXV0b1NpemUpe3ZhciBiPWYuZWxlbWVudC5nZXREb2N1bWVudCgpLGI9KENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5lZGdlP2YuZWxlbWVudDpiLmdldEJvZHkoKSkuJC5zY3JvbGxXaWR0aDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0V2lkdGh8fDApLShhLiQuY2xpZW50V2lkdGh8fDApKzMpO2Euc2V0U3R5bGUoXCJ3aWR0aFwiLGIrMTArXCJweFwiKTtiPWYuZWxlbWVudC4kLnNjcm9sbEhlaWdodDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0SGVpZ2h0fHwwKS0oYS4kLmNsaWVudEhlaWdodHx8XG4wKSszKTthLnNldFN0eWxlKFwiaGVpZ2h0XCIsYitcInB4XCIpO2QuXy5jdXJyZW50QmxvY2suZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIikucmVtb3ZlU3R5bGUoXCJkaXNwbGF5XCIpfWVsc2UgYS5yZW1vdmVTdHlsZShcImhlaWdodFwiKTtxJiYodS09bi4kLm9mZnNldFdpZHRoKTtuLnNldFN0eWxlKFwibGVmdFwiLHUrXCJweFwiKTt2YXIgYj1kLmVsZW1lbnQuZ2V0V2luZG93KCksYT1uLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1iLmdldFZpZXdQYW5lU2l6ZSgpLGM9YS53aWR0aHx8YS5yaWdodC1hLmxlZnQsZT1hLmhlaWdodHx8YS5ib3R0b20tYS50b3AsaD1xP2EucmlnaHQ6Yi53aWR0aC1hLmxlZnQsZz1xP2Iud2lkdGgtYS5yaWdodDphLmxlZnQ7cT9oPGMmJih1PWc+Yz91K2M6Yi53aWR0aD5jP3UtYS5sZWZ0OnUtYS5yaWdodCtiLndpZHRoKTpoPGMmJih1PWc+Yz91LWM6Yi53aWR0aD5jP3UtYS5yaWdodCtiLndpZHRoOnUtYS5sZWZ0KTtjPWEudG9wO2IuaGVpZ2h0LVxuYS50b3A8ZSYmKHo9Yz5lP3otZTpiLmhlaWdodD5lP3otYS5ib3R0b20rYi5oZWlnaHQ6ei1hLnRvcCk7Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2UmJigoYj1hPW4uJC5vZmZzZXRQYXJlbnQmJm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuLiQub2Zmc2V0UGFyZW50KSkmJlwiaHRtbFwiPT1iLmdldE5hbWUoKSYmKGI9Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKSksYiYmXCJydGxcIj09Yi5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpJiYodT1DS0VESVRPUi5lbnYuaWU4Q29tcGF0P3UtMipuLmdldERvY3VtZW50KCkuZ2V0RG9jdW1lbnRFbGVtZW50KCkuJC5zY3JvbGxMZWZ0OnUtKGEuJC5zY3JvbGxXaWR0aC1hLiQuY2xpZW50V2lkdGgpKSk7dmFyIGE9bi5nZXRGaXJzdCgpLGw7KGw9YS5nZXRDdXN0b21EYXRhKFwiYWN0aXZlUGFuZWxcIikpJiZsLm9uSGlkZSYmbC5vbkhpZGUuY2FsbCh0aGlzLDEpO2Euc2V0Q3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIsdGhpcyk7XG5uLnNldFN0eWxlcyh7dG9wOnorXCJweFwiLGxlZnQ6dStcInB4XCJ9KTtuLnNldE9wYWNpdHkoMSk7ayYmaygpfSx0aGlzKTtkLmlzTG9hZGVkP2EoKTpkLm9uTG9hZD1hO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5lbnYud2Via2l0JiZDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLnk7dGhpcy5mb2N1cygpO2YuZWxlbWVudC5mb2N1cygpO0NLRURJVE9SLmVudi53ZWJraXQmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9YSk7dGhpcy5hbGxvd0JsdXIoITApO3RoaXMuXy5tYXJrRmlyc3QmJihDS0VESVRPUi5lbnYuaWU/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2YubWFya0ZpcnN0RGlzcGxheWVkP2YubWFya0ZpcnN0RGlzcGxheWVkKCk6Zi5fLm1hcmtGaXJzdERpc3BsYXllZCgpfSwwKTpmLm1hcmtGaXJzdERpc3BsYXllZD9mLm1hcmtGaXJzdERpc3BsYXllZCgpOlxuZi5fLm1hcmtGaXJzdERpc3BsYXllZCgpKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJwYW5lbFNob3dcIix0aGlzKX0sMCx0aGlzKX0sQ0tFRElUT1IuZW52LmFpcj8yMDA6MCx0aGlzKTt0aGlzLnZpc2libGU9MTt0aGlzLm9uU2hvdyYmdGhpcy5vblNob3cuY2FsbCh0aGlzKX0scmVwb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBjPXRoaXMuXy5zaG93QmxvY2tQYXJhbXM7dGhpcy52aXNpYmxlJiZ0aGlzLl8uc2hvd0Jsb2NrUGFyYW1zJiYodGhpcy5oaWRlKCksdGhpcy5zaG93QmxvY2suYXBwbHkodGhpcyxjKSl9LGZvY3VzOmZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCk7YyYmIWMuZXF1YWxzKHRoaXMuXy5pZnJhbWUpJiZjLiQuYmx1cigpfSh0aGlzLl8ubGFzdEZvY3VzZWR8fHRoaXMuXy5pZnJhbWUuZ2V0RnJhbWVEb2N1bWVudCgpLmdldFdpbmRvdygpKS5mb2N1cygpfSxibHVyOmZ1bmN0aW9uKCl7dmFyIGM9XG50aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRBY3RpdmUoKTtjJiZjLmlzKFwiYVwiKSYmKHRoaXMuXy5sYXN0Rm9jdXNlZD1jKX0saGlkZTpmdW5jdGlvbihjKXtpZih0aGlzLnZpc2libGUmJighdGhpcy5vbkhpZGV8fCEwIT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKSkpe3RoaXMuaGlkZUNoaWxkKCk7Q0tFRElUT1IuZW52LmdlY2tvJiZ0aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS4kLmFjdGl2ZUVsZW1lbnQuYmx1cigpO3RoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7dGhpcy52aXNpYmxlPTA7dGhpcy5lbGVtZW50LmdldEZpcnN0KCkucmVtb3ZlQ3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIpO2lmKGM9YyYmdGhpcy5fLnJldHVybkZvY3VzKUNLRURJVE9SLmVudi53ZWJraXQmJmMudHlwZSYmYy5nZXRXaW5kb3coKS4kLmZvY3VzKCksYy5mb2N1cygpO2RlbGV0ZSB0aGlzLl8ubGFzdEZvY3VzZWQ7dGhpcy5fLnNob3dCbG9ja1BhcmFtcz1cbm51bGw7dGhpcy5fLmVkaXRvci5maXJlKFwicGFuZWxIaWRlXCIsdGhpcyl9fSxhbGxvd0JsdXI6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcy5fLnBhbmVsO3ZvaWQgMCE9PWMmJihiLmFsbG93Qmx1cj1jKTtyZXR1cm4gYi5hbGxvd0JsdXJ9LHNob3dBc0NoaWxkOmZ1bmN0aW9uKGMsYixoLGcsbCxrKXtpZih0aGlzLl8uYWN0aXZlQ2hpbGQhPWN8fGMuXy5wYW5lbC5fLm9mZnNldFBhcmVudElkIT1oLmdldElkKCkpdGhpcy5oaWRlQ2hpbGQoKSxjLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkfHx0aGlzLmhpZGUoKX0sMCx0aGlzKX0sdGhpcyksdGhpcy5fLmFjdGl2ZUNoaWxkPWMsdGhpcy5fLmZvY3VzZWQ9ITEsYy5zaG93QmxvY2soYixoLGcsbCxrKSx0aGlzLmJsdXIoKSwoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdCkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmVsZW1lbnQuZ2V0Q2hpbGQoMCkuJC5zdHlsZS5jc3NUZXh0Kz1cblwiXCJ9LDEwMCl9LGhpZGVDaGlsZDpmdW5jdGlvbihjKXt2YXIgYj10aGlzLl8uYWN0aXZlQ2hpbGQ7YiYmKGRlbGV0ZSBiLm9uSGlkZSxkZWxldGUgdGhpcy5fLmFjdGl2ZUNoaWxkLGIuaGlkZSgpLGMmJnRoaXMuZm9jdXMoKSl9fX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe3ZhciBjPUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoQ0tFRElUT1IuaW5zdGFuY2VzKSxiO2ZvcihiIGluIGcpe3ZhciBoPWdbYl07Yz9oLmRlc3Ryb3koKTpoLmVsZW1lbnQuaGlkZSgpfWMmJihnPXt9KX0pfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImNvbG9yYnV0dG9uXCIse3JlcXVpcmVzOlwicGFuZWxidXR0b24sZmxvYXRwYW5lbFwiLGluaXQ6ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZyhhKXt2YXIgYj1hLm5hbWUsZD1hLnR5cGUsZj1hLnRpdGxlLGc9YS5vcmRlcixxPWEuY29tbWFuZE5hbWU7YT1hLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnN8fHt9O3ZhciB1PW5ldyBDS0VESVRPUi5zdHlsZShsW1wiY29sb3JCdXR0b25fXCIrXG5kK1wiU3R5bGVcIl0pLHo9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfY29sb3JCb3hcIix0PXt0eXBlOmR9LEI9bmV3IENLRURJVE9SLnN0eWxlKGxbXCJjb2xvckJ1dHRvbl9cIitkK1wiU3R5bGVcIl0se2NvbG9yOlwiaW5oZXJpdFwifSksdztjLmFkZENvbW1hbmQocSx7Y29udGV4dFNlbnNpdGl2ZTohMCxleGVjOmZ1bmN0aW9uKGEsYil7aWYoIWEucmVhZE9ubHkpe3ZhciBkPWIubmV3U3R5bGU7YS5yZW1vdmVTdHlsZShCKTthLmZvY3VzKCk7ZCYmYS5hcHBseVN0eWxlKGQpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX19LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXtCLmNoZWNrQXBwbGljYWJsZShiLGEsYS5hY3RpdmVGaWx0ZXIpP0IuY2hlY2tBY3RpdmUoYixhKT90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRik6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9fSk7Yy51aS5hZGQoYixcbkNLRURJVE9SLlVJX1BBTkVMQlVUVE9OLHtsYWJlbDpmLHRpdGxlOmYsY29tbWFuZDpxLGVkaXRvckZvY3VzOjAsdG9vbGJhcjpcImNvbG9ycyxcIitnLGFsbG93ZWRDb250ZW50OnUscmVxdWlyZWRDb250ZW50OnUsY29udGVudFRyYW5zZm9ybWF0aW9uczphLHBhbmVsOntjc3M6Q0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpLGF0dHJpYnV0ZXM6e3JvbGU6XCJsaXN0Ym94XCIsXCJhcmlhLWxhYmVsXCI6ay5wYW5lbFRpdGxlfX0sc2VsZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPWwuY29sb3JCdXR0b25fY29sb3JzLnNwbGl0KFwiLFwiKTthPUNLRURJVE9SLnRvb2xzLmFycmF5LmZpbmQoYixhKTthPW0oYSk7aCh3LGEpO3cuXy5tYXJrRmlyc3REaXNwbGF5ZWQoKX0sb25CbG9jazpmdW5jdGlvbihhLGIpe3c9YjtiLmF1dG9TaXplPSEwO2IuZWxlbWVudC5hZGRDbGFzcyhcImNrZV9jb2xvcmJsb2NrXCIpO2IuZWxlbWVudC5zZXRIdG1sKGUoe3R5cGU6ZCxjb2xvckJveElkOnosY29sb3JEYXRhOnQsXG5jb21tYW5kTmFtZTpxfSkpO2IuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJvZHkoKS5zZXRTdHlsZShcIm92ZXJmbG93XCIsXCJoaWRkZW5cIik7Q0tFRElUT1IudWkuZmlyZShcInJlYWR5XCIsdGhpcyk7dmFyIGY9Yi5rZXlzLGg9XCJydGxcIj09Yy5sYW5nLmRpcjtmW2g/Mzc6MzldPVwibmV4dFwiO2ZbNDBdPVwibmV4dFwiO2ZbOV09XCJuZXh0XCI7ZltoPzM5OjM3XT1cInByZXZcIjtmWzM4XT1cInByZXZcIjtmW0NLRURJVE9SLlNISUZUKzldPVwicHJldlwiO2ZbMzJdPVwiY2xpY2tcIn0sb25PcGVuOmZ1bmN0aW9uKCl7dmFyIGE9Yy5nZXRTZWxlY3Rpb24oKSxiPWEmJmEuZ2V0U3RhcnRFbGVtZW50KCksZj1jLmVsZW1lbnRQYXRoKGIpO2lmKCFmKXJldHVybiBudWxsO2I9Zi5ibG9ja3x8Zi5ibG9ja0xpbWl0fHxjLmRvY3VtZW50LmdldEJvZHkoKTtkbyBmPWImJmIuZ2V0Q29tcHV0ZWRTdHlsZShcImJhY2tcIj09ZD9cImJhY2tncm91bmQtY29sb3JcIjpcImNvbG9yXCIpfHxcInRyYW5zcGFyZW50XCI7d2hpbGUoXCJiYWNrXCI9PVxuZCYmXCJ0cmFuc3BhcmVudFwiPT1mJiZiJiYoYj1iLmdldFBhcmVudCgpKSk7ZiYmXCJ0cmFuc3BhcmVudFwiIT1mfHwoZj1cIiNmZmZmZmZcIik7ITEhPT1sLmNvbG9yQnV0dG9uX2VuYWJsZUF1dG9tYXRpYyYmdGhpcy5fLnBhbmVsLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRCeUlkKHopLnNldFN0eWxlKFwiYmFja2dyb3VuZC1jb2xvclwiLGYpO2lmKGI9YSYmYS5nZXRSYW5nZXMoKVswXSl7Zm9yKHZhciBhPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpLGU9Yi5jb2xsYXBzZWQ/Yi5zdGFydENvbnRhaW5lcjphLm5leHQoKSxiPVwiXCI7ZTspe2UudHlwZSE9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGU9ZS5nZXRQYXJlbnQoKSk7ZT1tKGUuZ2V0Q29tcHV0ZWRTdHlsZShcImJhY2tcIj09ZD9cImJhY2tncm91bmQtY29sb3JcIjpcImNvbG9yXCIpKTtiPWJ8fGU7aWYoYiE9PWUpe2I9XCJcIjticmVha31lPWEubmV4dCgpfVwidHJhbnNwYXJlbnRcIj09YiYmKGI9XCJcIik7XCJmb3JlXCI9PWQmJih0LmF1dG9tYXRpY1RleHRDb2xvcj1cblwiI1wiK20oZikpO3Quc2VsZWN0aW9uQ29sb3I9Yj9cIiNcIitiOlwiXCI7aCh3LGIpfXJldHVybiBmfX0pfWZ1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gZChhKXthPWEmJm5ldyBDS0VESVRPUi5zdHlsZSh3LHtjb2xvcjphfSk7Yy5leGVjQ29tbWFuZChnLHtuZXdTdHlsZTphfSl9dmFyIGY9YS50eXBlLGU9YS5jb2xvckJveElkLGg9YS5jb2xvckRhdGEsZz1hLmNvbW1hbmROYW1lO2E9W107dmFyIG09bC5jb2xvckJ1dHRvbl9jb2xvcnMuc3BsaXQoXCIsXCIpLHo9bC5jb2xvckJ1dHRvbl9jb2xvcnNQZXJSb3d8fDYsdD1jLnBsdWdpbnMuY29sb3JkaWFsb2cmJiExIT09bC5jb2xvckJ1dHRvbl9lbmFibGVNb3JlLEI9bS5sZW5ndGgrKHQ/MjoxKSx3PWMuY29uZmlnW1wiY29sb3JCdXR0b25fXCIrZitcIlN0eWxlXCJdO3cuY2hpbGRSdWxlPVwiYmFja1wiPT1mP2Z1bmN0aW9uKGEpe3JldHVybiBiKGEpfTpmdW5jdGlvbihhKXtyZXR1cm4hKGEuaXMoXCJhXCIpfHxhLmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmNvdW50KCkpfHxcbmIoYSl9O3ZhciB2PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe2MuZm9jdXMoKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIik7XCI/XCI9PWE/Yy5nZXRDb2xvckZyb21EaWFsb2coZnVuY3Rpb24oYSl7YSYmZChhKX0sbnVsbCxoKTpkKGEmJlwiI1wiK2EpfSk7ITEhPT1sLmNvbG9yQnV0dG9uX2VuYWJsZUF1dG9tYXRpYyYmYS5wdXNoKCdcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbG9yYXV0b1wiIF9ja2VfZm9jdXNcXHgzZDEgaGlkZWZvY3VzXFx4M2R0cnVlIHRpdGxlXFx4M2RcIicsay5hdXRvLCdcIiBkcmFnZ2FibGVcXHgzZFwiZmFsc2VcIiBvbmRyYWdzdGFydFxceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25jbGlja1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJyx2LFwiLG51bGwsJ1wiLGYsXCInKTtyZXR1cm4gZmFsc2U7XFxcIiBocmVmXFx4M2RcXFwiamF2YXNjcmlwdDp2b2lkKCdcIixrLmF1dG8sJ1xcJylcIiByb2xlXFx4M2RcIm9wdGlvblwiIGFyaWEtcG9zaW5zZXRcXHgzZFwiMVwiIGFyaWEtc2V0c2l6ZVxceDNkXCInLFxuQiwnXCJcXHgzZVxceDNjdGFibGUgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBjZWxsc3BhY2luZ1xceDNkMCBjZWxscGFkZGluZ1xceDNkMCB3aWR0aFxceDNkXCIxMDAlXCJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgY29sc3BhblxceDNkXCInK3orJ1wiIGFsaWduXFx4M2RcImNlbnRlclwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2NvbG9yYm94XCIgaWRcXHgzZFwiJyxlLCdcIlxceDNlXFx4M2Mvc3BhblxceDNlJyxrLmF1dG8sXCJcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcXHgzYy9hXFx4M2VcIik7YS5wdXNoKCdcXHgzY3RhYmxlIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgY2VsbHNwYWNpbmdcXHgzZDAgY2VsbHBhZGRpbmdcXHgzZDAgd2lkdGhcXHgzZFwiMTAwJVwiXFx4M2UnKTtmb3IoZT0wO2U8bS5sZW5ndGg7ZSsrKXswPT09ZSV6JiZhLnB1c2goXCJcXHgzYy90clxceDNlXFx4M2N0clxceDNlXCIpO3ZhciBGPW1bZV0uc3BsaXQoXCIvXCIpLHk9RlswXSxDPUZbMV18fHk7YS5wdXNoKCdcXHgzY3RkXFx4M2VcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbG9yYm94XCIgX2NrZV9mb2N1c1xceDNkMSBoaWRlZm9jdXNcXHgzZHRydWUgdGl0bGVcXHgzZFwiJyxcbkZbMV0/eTpjLmxhbmcuY29sb3JidXR0b24uY29sb3JzW0NdfHxDLCdcIiBkcmFnZ2FibGVcXHgzZFwiZmFsc2VcIiBvbmRyYWdzdGFydFxceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25jbGlja1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJyx2LFwiLCdcIixDLFwiJywnXCIsZixcIicpOyByZXR1cm4gZmFsc2U7XFxcIiBocmVmXFx4M2RcXFwiamF2YXNjcmlwdDp2b2lkKCdcIixDLCdcXCcpXCIgZGF0YS12YWx1ZVxceDNkXCInK0MrJ1wiIHJvbGVcXHgzZFwib3B0aW9uXCIgYXJpYS1wb3NpbnNldFxceDNkXCInLGUrMiwnXCIgYXJpYS1zZXRzaXplXFx4M2RcIicsQiwnXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29sb3Jib3hcIiBzdHlsZVxceDNkXCJiYWNrZ3JvdW5kLWNvbG9yOiMnLEMsJ1wiXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzYy90ZFxceDNlJyl9dCYmYS5wdXNoKCdcXHgzYy90clxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBjb2xzcGFuXFx4M2RcIicreisnXCIgYWxpZ25cXHgzZFwiY2VudGVyXCJcXHgzZVxceDNjYSBjbGFzc1xceDNkXCJja2VfY29sb3Jtb3JlXCIgX2NrZV9mb2N1c1xceDNkMSBoaWRlZm9jdXNcXHgzZHRydWUgdGl0bGVcXHgzZFwiJyxcbmsubW9yZSwnXCIgZHJhZ2dhYmxlXFx4M2RcImZhbHNlXCIgb25kcmFnc3RhcnRcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9uY2xpY2tcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcsdixcIiwnPycsJ1wiLGYsXCInKTtyZXR1cm4gZmFsc2U7XFxcIiBocmVmXFx4M2RcXFwiamF2YXNjcmlwdDp2b2lkKCdcIixrLm1vcmUsXCInKVxcXCJcIiwnIHJvbGVcXHgzZFwib3B0aW9uXCIgYXJpYS1wb3NpbnNldFxceDNkXCInLEIsJ1wiIGFyaWEtc2V0c2l6ZVxceDNkXCInLEIsJ1wiXFx4M2UnLGsubW9yZSxcIlxceDNjL2FcXHgzZVxceDNjL3RkXFx4M2VcIik7YS5wdXNoKFwiXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcIik7cmV0dXJuIGEuam9pbihcIlwiKX1mdW5jdGlvbiBiKGEpe3JldHVyblwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIil8fGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub3N0eWxlXCIpfWZ1bmN0aW9uIGgoYSxiKXtmb3IodmFyIGQ9YS5fLmdldEl0ZW1zKCksYz0wO2M8ZC5jb3VudCgpO2MrKyl7dmFyIGY9XG5kLmdldEl0ZW0oYyk7Zi5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpO2ImJmI9PW0oZi5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlXCIpKSYmZi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsITApfX1mdW5jdGlvbiBtKGEpe3JldHVybiBDS0VESVRPUi50b29scy5ub3JtYWxpemVIZXgoXCIjXCIrQ0tFRElUT1IudG9vbHMuY29udmVydFJnYlRvSGV4KGF8fFwiXCIpKS5yZXBsYWNlKC8jL2csXCJcIil9dmFyIGw9Yy5jb25maWcsaz1jLmxhbmcuY29sb3JidXR0b247aWYoIUNLRURJVE9SLmVudi5oYyl7Zyh7bmFtZTpcIlRleHRDb2xvclwiLHR5cGU6XCJmb3JlXCIsY29tbWFuZE5hbWU6XCJ0ZXh0Q29sb3JcIix0aXRsZTprLnRleHRDb2xvclRpdGxlLG9yZGVyOjEwLGNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM6W1t7ZWxlbWVudDpcImZvbnRcIixjaGVjazpcInNwYW57Y29sb3J9XCIsbGVmdDpmdW5jdGlvbihhKXtyZXR1cm4hIWEuYXR0cmlidXRlcy5jb2xvcn0scmlnaHQ6ZnVuY3Rpb24oYSl7YS5uYW1lPVxuXCJzcGFuXCI7YS5hdHRyaWJ1dGVzLmNvbG9yJiYoYS5zdHlsZXMuY29sb3I9YS5hdHRyaWJ1dGVzLmNvbG9yKTtkZWxldGUgYS5hdHRyaWJ1dGVzLmNvbG9yfX1dXX0pO3ZhciBkLGY9Yy5jb25maWcuY29sb3JCdXR0b25fbm9ybWFsaXplQmFja2dyb3VuZDtpZih2b2lkIDA9PT1mfHxmKWQ9W1t7ZWxlbWVudDpcInNwYW5cIixsZWZ0OmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLnRvb2xzO2lmKFwic3BhblwiIT1hLm5hbWV8fCFhLnN0eWxlc3x8IWEuc3R5bGVzLmJhY2tncm91bmQpcmV0dXJuITE7YT1iLnN0eWxlLnBhcnNlLmJhY2tncm91bmQoYS5zdHlsZXMuYmFja2dyb3VuZCk7cmV0dXJuIGEuY29sb3ImJjE9PT1iLm9iamVjdC5rZXlzKGEpLmxlbmd0aH0scmlnaHQ6ZnVuY3Rpb24oYSl7dmFyIGI9KG5ldyBDS0VESVRPUi5zdHlsZShjLmNvbmZpZy5jb2xvckJ1dHRvbl9iYWNrU3R5bGUse2NvbG9yOmEuc3R5bGVzLmJhY2tncm91bmR9KSkuZ2V0RGVmaW5pdGlvbigpO2EubmFtZT1iLmVsZW1lbnQ7XG5hLnN0eWxlcz1iLnN0eWxlczthLmF0dHJpYnV0ZXM9Yi5hdHRyaWJ1dGVzfHx7fTtyZXR1cm4gYX19XV07Zyh7bmFtZTpcIkJHQ29sb3JcIix0eXBlOlwiYmFja1wiLGNvbW1hbmROYW1lOlwiYmdDb2xvclwiLHRpdGxlOmsuYmdDb2xvclRpdGxlLG9yZGVyOjIwLGNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM6ZH0pfX19KTtDS0VESVRPUi5jb25maWcuY29sb3JCdXR0b25fY29sb3JzPVwiMUFCQzlDLDJFQ0M3MSwzNDk4REIsOUI1OUI2LDRFNUY3MCxGMUM0MEYsMTZBMDg1LDI3QUU2MCwyOTgwQjksOEU0NEFELDJDM0U1MCxGMzlDMTIsRTY3RTIyLEU3NEMzQyxFQ0YwRjEsOTVBNUE2LERERCxGRkYsRDM1NDAwLEMwMzkyQixCREMzQzcsN0Y4QzhELDk5OSwwMDBcIjtDS0VESVRPUi5jb25maWcuY29sb3JCdXR0b25fZm9yZVN0eWxlPXtlbGVtZW50Olwic3BhblwiLHN0eWxlczp7Y29sb3I6XCIjKGNvbG9yKVwifSxvdmVycmlkZXM6W3tlbGVtZW50OlwiZm9udFwiLGF0dHJpYnV0ZXM6e2NvbG9yOm51bGx9fV19O1xuQ0tFRElUT1IuY29uZmlnLmNvbG9yQnV0dG9uX2JhY2tTdHlsZT17ZWxlbWVudDpcInNwYW5cIixzdHlsZXM6e1wiYmFja2dyb3VuZC1jb2xvclwiOlwiIyhjb2xvcilcIn19OyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYixhLGQpe2Q9Yi5jb25maWcuZm9yY2VFbnRlck1vZGV8fGQ7aWYoXCJ3eXNpd3lnXCI9PWIubW9kZSl7YXx8KGE9Yi5hY3RpdmVFbnRlck1vZGUpO3ZhciBjPWIuZWxlbWVudFBhdGgoKTtjJiYhYy5pc0NvbnRleHRGb3IoXCJwXCIpJiYoYT1DS0VESVRPUi5FTlRFUl9CUixkPTEpO2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKTthPT1DS0VESVRPUi5FTlRFUl9CUj9sKGIsYSxudWxsLGQpOmsoYixhLG51bGwsZCk7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfX1mdW5jdGlvbiBnKGIpe2I9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoITApO2Zvcih2YXIgYT1iLmxlbmd0aC0xOzA8YTthLS0pYlthXS5kZWxldGVDb250ZW50cygpO3JldHVybiBiWzBdfWZ1bmN0aW9uIGUoYil7dmFyIGE9Yi5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0sITApO2lmKGIucm9vdC5lcXVhbHMoYSkpcmV0dXJuIGI7YT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEpO2EubW92ZVRvUmFuZ2UoYik7cmV0dXJuIGF9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbnRlcmtleVwiLHtpbml0OmZ1bmN0aW9uKGIpe2IuYWRkQ29tbWFuZChcImVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYSl7YyhhKX19KTtiLmFkZENvbW1hbmQoXCJzaGlmdEVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYSl7YyhhLGEuYWN0aXZlU2hpZnRFbnRlck1vZGUsMSl9fSk7Yi5zZXRLZXlzdHJva2UoW1sxMyxcImVudGVyXCJdLFtDS0VESVRPUi5TSElGVCsxMyxcInNoaWZ0RW50ZXJcIl1dKX19KTt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksaD1cbkNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxtLGwsayxkO0NLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXk9e2VudGVyQmxvY2s6ZnVuY3Rpb24oYyxhLGssbSl7ZnVuY3Rpb24geChhKXt2YXIgYjtpZihhPT09Q0tFRElUT1IuRU5URVJfQlJ8fC0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihbXCJ0ZFwiLFwidGhcIl0sei5sYXN0RWxlbWVudC5nZXROYW1lKCkpfHwxIT09ei5sYXN0RWxlbWVudC5nZXRDaGlsZENvdW50KCkpcmV0dXJuITE7YT16Lmxhc3RFbGVtZW50LmdldENoaWxkKDApLmNsb25lKCEwKTsoYj1hLmdldEJvZ3VzKCkpJiZiLnJlbW92ZSgpO3JldHVybiBhLmdldFRleHQoKS5sZW5ndGg/ITE6ITB9aWYoaz1rfHxnKGMpKXtrPWUoayk7dmFyIHA9ay5kb2N1bWVudCxxPWsuY2hlY2tTdGFydE9mQmxvY2soKSx1PWsuY2hlY2tFbmRPZkJsb2NrKCksej1jLmVsZW1lbnRQYXRoKGsuc3RhcnRDb250YWluZXIpLHQ9ei5ibG9jayxCPWE9PUNLRURJVE9SLkVOVEVSX0RJVj9cblwiZGl2XCI6XCJwXCIsdztpZih0JiZxJiZ1KXtxPXQuZ2V0UGFyZW50KCk7aWYocS5pcyhcImxpXCIpJiYxPHEuZ2V0Q2hpbGRDb3VudCgpKXtwPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImxpXCIpO3c9Yy5jcmVhdGVSYW5nZSgpO3AuaW5zZXJ0QWZ0ZXIocSk7dC5yZW1vdmUoKTt3LnNldFN0YXJ0KHAsMCk7Yy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW3ddKTtyZXR1cm59aWYodC5pcyhcImxpXCIpfHx0LmdldFBhcmVudCgpLmlzKFwibGlcIikpe3QuaXMoXCJsaVwiKXx8KHQ9dC5nZXRQYXJlbnQoKSxxPXQuZ2V0UGFyZW50KCkpO3c9cS5nZXRQYXJlbnQoKTtrPSF0Lmhhc1ByZXZpb3VzKCk7dmFyIHY9IXQuaGFzTmV4dCgpO209Yy5nZXRTZWxlY3Rpb24oKTt2YXIgQj1tLmNyZWF0ZUJvb2ttYXJrcygpLEY9dC5nZXREaXJlY3Rpb24oMSksdT10LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLHk9dC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSxDPXcuZ2V0RGlyZWN0aW9uKDEpIT1GO2M9Yy5lbnRlck1vZGUhPVxuQ0tFRElUT1IuRU5URVJfQlJ8fEN8fHl8fHU7aWYody5pcyhcImxpXCIpKWt8fHY/KGsmJnYmJnEucmVtb3ZlKCksdFt2P1wiaW5zZXJ0QWZ0ZXJcIjpcImluc2VydEJlZm9yZVwiXSh3KSk6dC5icmVha1BhcmVudCh3KTtlbHNle2lmKGMpaWYoei5ibG9jay5pcyhcImxpXCIpPyh3PXAuY3JlYXRlRWxlbWVudChhPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLEMmJncuc2V0QXR0cmlidXRlKFwiZGlyXCIsRikseSYmdy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLHkpLHUmJncuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix1KSx0Lm1vdmVDaGlsZHJlbih3KSk6dz16LmJsb2NrLGt8fHYpd1trP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShxKTtlbHNlIHQuYnJlYWtQYXJlbnQocSksdy5pbnNlcnRBZnRlcihxKTtlbHNlIGlmKHQuYXBwZW5kQm9ndXMoITApLGt8fHYpZm9yKDtwPXRbaz9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCk7KXBbaz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0ocSk7ZWxzZSBmb3IodC5icmVha1BhcmVudChxKTtwPVxudC5nZXRMYXN0KCk7KXAuaW5zZXJ0QWZ0ZXIocSk7dC5yZW1vdmUoKX1tLnNlbGVjdEJvb2ttYXJrcyhCKTtyZXR1cm59aWYodCYmdC5nZXRQYXJlbnQoKS5pcyhcImJsb2NrcXVvdGVcIikpe3QuYnJlYWtQYXJlbnQodC5nZXRQYXJlbnQoKSk7dC5nZXRQcmV2aW91cygpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8dC5nZXRQcmV2aW91cygpLnJlbW92ZSgpO3QuZ2V0TmV4dCgpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8dC5nZXROZXh0KCkucmVtb3ZlKCk7ay5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHQpO2suc2VsZWN0KCk7cmV0dXJufX1lbHNlIGlmKHQmJnQuaXMoXCJwcmVcIikmJiF1KXtsKGMsYSxrLG0pO3JldHVybn1pZih5PWsuc3BsaXRCbG9jayhCKSl7Yz15LnByZXZpb3VzQmxvY2s7dD15Lm5leHRCbG9jaztxPXkud2FzU3RhcnRPZkJsb2NrO3U9eS53YXNFbmRPZkJsb2NrO3Q/KHY9dC5nZXRQYXJlbnQoKSxcbnYuaXMoXCJsaVwiKSYmKHQuYnJlYWtQYXJlbnQodiksdC5tb3ZlKHQuZ2V0TmV4dCgpLDEpKSk6YyYmKHY9Yy5nZXRQYXJlbnQoKSkmJnYuaXMoXCJsaVwiKSYmKGMuYnJlYWtQYXJlbnQodiksdj1jLmdldE5leHQoKSxrLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQodiksYy5tb3ZlKGMuZ2V0UHJldmlvdXMoKSkpO2lmKHF8fHUpaWYoeChhKSlrLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoay5nZXRUb3VjaGVkU3RhcnROb2RlKCkpO2Vsc2V7aWYoYyl7aWYoYy5pcyhcImxpXCIpfHwhZC50ZXN0KGMuZ2V0TmFtZSgpKSYmIWMuaXMoXCJwcmVcIikpdz1jLmNsb25lKCl9ZWxzZSB0JiYodz10LmNsb25lKCkpO3c/bSYmIXcuaXMoXCJsaVwiKSYmdy5yZW5hbWVOb2RlKEIpOnYmJnYuaXMoXCJsaVwiKT93PXY6KHc9cC5jcmVhdGVFbGVtZW50KEIpLGMmJihGPWMuZ2V0RGlyZWN0aW9uKCkpJiZ3LnNldEF0dHJpYnV0ZShcImRpclwiLEYpKTtpZihwPXkuZWxlbWVudFBhdGgpZm9yKGE9MCxtPXAuZWxlbWVudHMubGVuZ3RoO2E8XG5tO2ErKyl7Qj1wLmVsZW1lbnRzW2FdO2lmKEIuZXF1YWxzKHAuYmxvY2spfHxCLmVxdWFscyhwLmJsb2NrTGltaXQpKWJyZWFrO0NLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbQi5nZXROYW1lKCldJiYoQj1CLmNsb25lKCksdy5tb3ZlQ2hpbGRyZW4oQiksdy5hcHBlbmQoQikpfXcuYXBwZW5kQm9ndXMoKTt3LmdldFBhcmVudCgpfHxrLmluc2VydE5vZGUodyk7dy5pcyhcImxpXCIpJiZ3LnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpOyFDS0VESVRPUi5lbnYuaWV8fCFxfHx1JiZjLmdldENoaWxkQ291bnQoKXx8KGsubW92ZVRvRWxlbWVudEVkaXRTdGFydCh1P2M6dyksay5zZWxlY3QoKSk7ay5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHEmJiF1P3Q6dyl9ZWxzZSB0LmlzKFwibGlcIikmJih3PWsuY2xvbmUoKSx3LnNlbGVjdE5vZGVDb250ZW50cyh0KSx3PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHcpLHcuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiEoaChhKXx8YihhKXx8YS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kZW1wdHkpKX0sKHY9dy5uZXh0KCkpJiZ2LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdi5pcyhcInVsXCIsXCJvbFwiKSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP3AuY3JlYXRlRWxlbWVudChcImJyXCIpOnAuY3JlYXRlVGV4dChcIsKgXCIpKS5pbnNlcnRCZWZvcmUodikpLHQmJmsubW92ZVRvRWxlbWVudEVkaXRTdGFydCh0KTtrLnNlbGVjdCgpO2suc2Nyb2xsSW50b1ZpZXcoKX19fSxlbnRlckJyOmZ1bmN0aW9uKGIsYSxjLGUpe2lmKGM9Y3x8ZyhiKSl7dmFyIGg9Yy5kb2N1bWVudCxsPWMuY2hlY2tFbmRPZkJsb2NrKCksbT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGIuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkpLHU9bS5ibG9jayx6PXUmJm0uYmxvY2suZ2V0TmFtZSgpO2V8fFwibGlcIiE9ej8oIWUmJlxubCYmZC50ZXN0KHopPyhsPXUuZ2V0RGlyZWN0aW9uKCkpPyhoPWguY3JlYXRlRWxlbWVudChcImRpdlwiKSxoLnNldEF0dHJpYnV0ZShcImRpclwiLGwpLGguaW5zZXJ0QWZ0ZXIodSksYy5zZXRTdGFydChoLDApKTooaC5jcmVhdGVFbGVtZW50KFwiYnJcIikuaW5zZXJ0QWZ0ZXIodSksQ0tFRElUT1IuZW52LmdlY2tvJiZoLmNyZWF0ZVRleHQoXCJcIikuaW5zZXJ0QWZ0ZXIodSksYy5zZXRTdGFydEF0KHUuZ2V0TmV4dCgpLENLRURJVE9SLmVudi5pZT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTooYj1cInByZVwiPT16JiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/aC5jcmVhdGVUZXh0KFwiXFxyXCIpOmguY3JlYXRlRWxlbWVudChcImJyXCIpLGMuZGVsZXRlQ29udGVudHMoKSxjLmluc2VydE5vZGUoYiksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/KGguY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRBZnRlcihiKSxcbmwmJih1fHxtLmJsb2NrTGltaXQpLmFwcGVuZEJvZ3VzKCksYi5nZXROZXh0KCkuJC5ub2RlVmFsdWU9XCJcIixjLnNldFN0YXJ0QXQoYi5nZXROZXh0KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTpjLnNldFN0YXJ0QXQoYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKSxjLmNvbGxhcHNlKCEwKSxjLnNlbGVjdCgpLGMuc2Nyb2xsSW50b1ZpZXcoKSk6ayhiLGEsYyxlKX19fTttPUNLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXk7bD1tLmVudGVyQnI7az1tLmVudGVyQmxvY2s7ZD0vXmhbMS02XSQvfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImxpc3RibG9ja1wiLHtyZXF1aXJlczpcInBhbmVsXCIsb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGM9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0XCIsJ1xceDNjdWwgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfbGlzdFwiXFx4M2V7aXRlbXN9XFx4M2MvdWxcXHgzZScpLGc9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0LWl0ZW1cIixcbidcXHgzY2xpIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfbGlzdEl0ZW1cIiByb2xlXFx4M2RwcmVzZW50YXRpb25cXHgzZVxceDNjYSBpZFxceDNkXCJ7aWR9X29wdGlvblwiIF9ja2VfZm9jdXNcXHgzZDEgaGlkZWZvY3VzXFx4M2R0cnVlIHRpdGxlXFx4M2RcInt0aXRsZX1cIiBkcmFnZ2FibGVcXHgzZFwiZmFsc2VcIiBvbmRyYWdzdGFydFxceDNkXCJyZXR1cm4gZmFsc2U7XCIgaHJlZlxceDNkXCJqYXZhc2NyaXB0OnZvaWQoXFwne3ZhbH1cXCcpXCIgIG9uY2xpY2tcXHgzZFwie29uY2xpY2t9Q0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSxcXCd7dmFsfVxcJyk7IHJldHVybiBmYWxzZTtcIiByb2xlXFx4M2RcIm9wdGlvblwiXFx4M2V7dGV4dH1cXHgzYy9hXFx4M2VcXHgzYy9saVxceDNlJyksZT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3QtZ3JvdXBcIiwnXFx4M2NoMSBpZFxceDNkXCJ7aWR9XCIgZHJhZ2dhYmxlXFx4M2RcImZhbHNlXCIgb25kcmFnc3RhcnRcXHgzZFwicmV0dXJuIGZhbHNlO1wiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9ncm91cHRpdGxlXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBcXHgzZXtsYWJlbH1cXHgzYy9oMVxceDNlJyksXG5iPS9cXCcvZztDS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGUuYWRkTGlzdEJsb2NrPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMuYWRkQmxvY2soYixuZXcgQ0tFRElUT1IudWkubGlzdEJsb2NrKHRoaXMuZ2V0SG9sZGVyRWxlbWVudCgpLGMpKX07Q0tFRElUT1IudWkubGlzdEJsb2NrPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLnBhbmVsLmJsb2NrLCQ6ZnVuY3Rpb24oYixjKXtjPWN8fHt9O3ZhciBlPWMuYXR0cmlidXRlc3x8KGMuYXR0cmlidXRlcz17fSk7KHRoaXMubXVsdGlTZWxlY3Q9ISFjLm11bHRpU2VsZWN0KSYmKGVbXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiXT0hMCk7IWUucm9sZSYmKGUucm9sZT1cImxpc3Rib3hcIik7dGhpcy5iYXNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLGUucm9sZSk7ZT10aGlzLmtleXM7ZVs0MF09XCJuZXh0XCI7ZVs5XT1cIm5leHRcIjtlWzM4XT1cInByZXZcIjtlW0NLRURJVE9SLlNISUZUK1xuOV09XCJwcmV2XCI7ZVszMl09Q0tFRElUT1IuZW52LmllP1wibW91c2V1cFwiOlwiY2xpY2tcIjtDS0VESVRPUi5lbnYuaWUmJihlWzEzXT1cIm1vdXNldXBcIik7dGhpcy5fLnBlbmRpbmdIdG1sPVtdO3RoaXMuXy5wZW5kaW5nTGlzdD1bXTt0aGlzLl8uaXRlbXM9e307dGhpcy5fLmdyb3Vwcz17fX0sXzp7Y2xvc2U6ZnVuY3Rpb24oKXtpZih0aGlzLl8uc3RhcnRlZCl7dmFyIGI9Yy5vdXRwdXQoe2l0ZW1zOnRoaXMuXy5wZW5kaW5nTGlzdC5qb2luKFwiXCIpfSk7dGhpcy5fLnBlbmRpbmdMaXN0PVtdO3RoaXMuXy5wZW5kaW5nSHRtbC5wdXNoKGIpO2RlbGV0ZSB0aGlzLl8uc3RhcnRlZH19LGdldENsaWNrOmZ1bmN0aW9uKCl7dGhpcy5fLmNsaWNrfHwodGhpcy5fLmNsaWNrPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMudG9nZ2xlKGIpO2lmKHRoaXMub25DbGljayl0aGlzLm9uQ2xpY2soYixjKX0sdGhpcykpO3JldHVybiB0aGlzLl8uY2xpY2t9fSxwcm90bzp7YWRkOmZ1bmN0aW9uKGMsXG5lLGwpe3ZhciBrPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuXy5zdGFydGVkfHwodGhpcy5fLnN0YXJ0ZWQ9MSx0aGlzLl8uc2l6ZT10aGlzLl8uc2l6ZXx8MCk7dGhpcy5fLml0ZW1zW2NdPWs7dmFyIGQ7ZD1DS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihjKS5yZXBsYWNlKGIsXCJcXFxcJ1wiKTtjPXtpZDprLHZhbDpkLG9uY2xpY2s6Q0tFRElUT1IuZW52LmllPydyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwXFx4M2RcIkNLRURJVE9SLnRvb2xzLmdldE1vdXNlQnV0dG9uKGV2ZW50KVxceDNkXFx4M2RcXHgzZENLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZUXFx4MjZcXHgyNic6XCJcIixjbGlja0ZuOnRoaXMuXy5nZXRDbGljaygpLHRpdGxlOkNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGx8fGMpLHRleHQ6ZXx8Y307dGhpcy5fLnBlbmRpbmdMaXN0LnB1c2goZy5vdXRwdXQoYykpfSxzdGFydEdyb3VwOmZ1bmN0aW9uKGIpe3RoaXMuXy5jbG9zZSgpO3ZhciBjPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO1xudGhpcy5fLmdyb3Vwc1tiXT1jO3RoaXMuXy5wZW5kaW5nSHRtbC5wdXNoKGUub3V0cHV0KHtpZDpjLGxhYmVsOmJ9KSl9LGNvbW1pdDpmdW5jdGlvbigpe3RoaXMuXy5jbG9zZSgpO3RoaXMuZWxlbWVudC5hcHBlbmRIdG1sKHRoaXMuXy5wZW5kaW5nSHRtbC5qb2luKFwiXCIpKTtkZWxldGUgdGhpcy5fLnNpemU7dGhpcy5fLnBlbmRpbmdIdG1sPVtdfSx0b2dnbGU6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5pc01hcmtlZChiKTtjP3RoaXMudW5tYXJrKGIpOnRoaXMubWFyayhiKTtyZXR1cm4hY30saGlkZUdyb3VwOmZ1bmN0aW9uKGIpe3ZhciBjPShiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLmdyb3Vwc1tiXSkpJiZiLmdldE5leHQoKTtiJiYoYi5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIiksYyYmXCJ1bFwiPT1jLmdldE5hbWUoKSYmYy5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIikpfSxoaWRlSXRlbTpmdW5jdGlvbihiKXt0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1tiXSkuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXG5cIm5vbmVcIil9LHNob3dBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl8uaXRlbXMsYz10aGlzLl8uZ3JvdXBzLGU9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCksZztmb3IoZyBpbiBiKWUuZ2V0QnlJZChiW2ddKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKTtmb3IodmFyIGQgaW4gYyliPWUuZ2V0QnlJZChjW2RdKSxnPWIuZ2V0TmV4dCgpLGIuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIiksZyYmXCJ1bFwiPT1nLmdldE5hbWUoKSYmZy5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKX0sbWFyazpmdW5jdGlvbihiKXt0aGlzLm11bHRpU2VsZWN0fHx0aGlzLnVubWFya0FsbCgpO2I9dGhpcy5fLml0ZW1zW2JdO3ZhciBjPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQoYik7Yy5hZGRDbGFzcyhcImNrZV9zZWxlY3RlZFwiKTt0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKGIrXCJfb3B0aW9uXCIpLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwhMCk7dGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGMpfSxcbm1hcmtGaXJzdERpc3BsYXllZDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fLm1hcmtGaXJzdERpc3BsYXllZChmdW5jdGlvbigpe2IubXVsdGlTZWxlY3R8fGIudW5tYXJrQWxsKCl9KX0sdW5tYXJrOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpO2I9dGhpcy5fLml0ZW1zW2JdO3ZhciBlPWMuZ2V0QnlJZChiKTtlLnJlbW92ZUNsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO2MuZ2V0QnlJZChiK1wiX29wdGlvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpO3RoaXMub25Vbm1hcmsmJnRoaXMub25Vbm1hcmsoZSl9LHVubWFya0FsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuXy5pdGVtcyxjPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLGU7Zm9yKGUgaW4gYil7dmFyIGc9YltlXTtjLmdldEJ5SWQoZykucmVtb3ZlQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7Yy5nZXRCeUlkKGcrXCJfb3B0aW9uXCIpLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIil9dGhpcy5vblVubWFyayYmXG50aGlzLm9uVW5tYXJrKCl9LGlzTWFya2VkOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1tiXSkuaGFzQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIil9LGZvY3VzOmZ1bmN0aW9uKGIpe3RoaXMuXy5mb2N1c0luZGV4PS0xO3ZhciBjPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxlLGc9LTE7aWYoYilmb3IoZT10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1tiXSkuZ2V0Rmlyc3QoKTtiPWMuZ2V0SXRlbSgrK2cpOyl7aWYoYi5lcXVhbHMoZSkpe3RoaXMuXy5mb2N1c0luZGV4PWc7YnJlYWt9fWVsc2UgdGhpcy5lbGVtZW50LmZvY3VzKCk7ZSYmc2V0VGltZW91dChmdW5jdGlvbigpe2UuZm9jdXMoKX0sMCl9fX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicmljaGNvbWJvXCIse3JlcXVpcmVzOlwiZmxvYXRwYW5lbCxsaXN0YmxvY2ssYnV0dG9uXCIsYmVmb3JlSW5pdDpmdW5jdGlvbihjKXtjLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUklDSENPTUJPLFxuQ0tFRElUT1IudWkucmljaENvbWJvLmhhbmRsZXIpfX0pOyhmdW5jdGlvbigpe3ZhciBjPSdcXHgzY3NwYW4gaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9jb21ibyBja2VfY29tYm9fX3tuYW1lfSB7Y2xzfVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2xhYmVsXCJcXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2VcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2J1dHRvblwiIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiJysoQ0tFRElUT1IuZW52LmdlY2tvJiYhQ0tFRElUT1IuZW52LmhjP1wiXCI6XCIgaHJlZlxceDNkXFxcImphdmFzY3JpcHQ6dm9pZCgne3RpdGxlSnN9JylcXFwiXCIpKycgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCJ7aWR9X2xhYmVsXCIgYXJpYS1oYXNwb3B1cFxceDNkXCJsaXN0Ym94XCInLGc9XCJcIjtDS0VESVRPUi5lbnYuZ2Vja28mJlxuQ0tFRElUT1IuZW52Lm1hYyYmKGMrPScgb25rZXlwcmVzc1xceDNkXCJyZXR1cm4gZmFsc2U7XCInKTtDS0VESVRPUi5lbnYuZ2Vja28mJihjKz0nIG9uYmx1clxceDNkXCJ0aGlzLnN0eWxlLmNzc1RleHQgXFx4M2QgdGhpcy5zdHlsZS5jc3NUZXh0O1wiJyk7Q0tFRElUT1IuZW52LmllJiYoZz0ncmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cFxceDNkXCJDS0VESVRPUi50b29scy5nZXRNb3VzZUJ1dHRvbihldmVudClcXHgzZFxceDNkQ0tFRElUT1IuTU9VU0VfQlVUVE9OX0xFRlRcXHgyNlxceDI2Jyk7dmFyIGM9YysoJyBvbmtleWRvd25cXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5ZG93bkZufSxldmVudCx0aGlzKTtcIiBvbmZvY3VzXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2ZvY3VzRm59LGV2ZW50KTtcIiBvbmNsaWNrXFx4M2RcIicrZysnQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx0aGlzKTtyZXR1cm4gZmFsc2U7XCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X3RleHRcIiBjbGFzc1xceDNkXCJja2VfY29tYm9fdGV4dCBja2VfY29tYm9faW5saW5lbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29tYm9fb3BlblwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2Fycm93XCJcXHgzZScrXG4oQ0tFRElUT1IuZW52LmhjP1wiXFx4MjYjOTY2MDtcIjpDS0VESVRPUi5lbnYuYWlyP1wiXFx4MjZuYnNwO1wiOlwiXCIpK1wiXFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlXFx4M2Mvc3BhblxceDNlXCIpLGU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJjb21ib1wiLGMpO0NLRURJVE9SLlVJX1JJQ0hDT01CTz1cInJpY2hjb21ib1wiO0NLRURJVE9SLnVpLnJpY2hDb21ibz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiLHtjYW5Hcm91cDohMSx0aXRsZTpiLmxhYmVsLG1vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjF9KTtiPXRoaXMucGFuZWx8fHt9O2RlbGV0ZSB0aGlzLnBhbmVsO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZG9jdW1lbnQ9Yi5wYXJlbnQmJmIucGFyZW50LmdldERvY3VtZW50KCl8fENLRURJVE9SLmRvY3VtZW50O2IuY2xhc3NOYW1lPVwiY2tlX2NvbWJvcGFuZWxcIjtcbmIuYmxvY2s9e211bHRpU2VsZWN0OmIubXVsdGlTZWxlY3QsYXR0cmlidXRlczpiLmF0dHJpYnV0ZXN9O2IudG9vbGJhclJlbGF0ZWQ9ITA7dGhpcy5fPXtwYW5lbERlZmluaXRpb246YixpdGVtczp7fSxsaXN0ZW5lcnM6W119fSxwcm90bzp7cmVuZGVySHRtbDpmdW5jdGlvbihiKXt2YXIgYz1bXTt0aGlzLnJlbmRlcihiLGMpO3JldHVybiBjLmpvaW4oXCJcIil9LHJlbmRlcjpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGcoKXtpZih0aGlzLmdldFN0YXRlKCkhPUNLRURJVE9SLlRSSVNUQVRFX09OKXt2YXIgYT10aGlzLm1vZGVzW2IubW9kZV0/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2IucmVhZE9ubHkmJiF0aGlzLnJlYWRPbmx5JiYoYT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7dGhpcy5zZXRTdGF0ZShhKTt0aGlzLnNldFZhbHVlKFwiXCIpO2EhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLnJlZnJlc2gmJnRoaXMucmVmcmVzaCgpfX1cbnZhciBsPUNLRURJVE9SLmVudixrLGQsZj1cImNrZV9cIit0aGlzLmlkLGE9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7ZCYmKGIudW5sb2NrU2VsZWN0aW9uKDEpLGQ9MCk7ay5leGVjdXRlKGEpfSx0aGlzKSxuPXRoaXM7az17aWQ6Zixjb21ibzp0aGlzLGZvY3VzOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChmKS5nZXRDaGlsZCgxKS5mb2N1cygpfSxleGVjdXRlOmZ1bmN0aW9uKGEpe3ZhciBkPW4uXztpZihkLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRClpZihuLmNyZWF0ZVBhbmVsKGIpLGQub24pZC5wYW5lbC5oaWRlKCk7ZWxzZXtuLmNvbW1pdCgpO3ZhciBjPW4uZ2V0VmFsdWUoKTtjP2QubGlzdC5tYXJrKGMpOmQubGlzdC51bm1hcmtBbGwoKTtkLnBhbmVsLnNob3dCbG9jayhuLmlkLG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKSw0KX19LGNsaWNrRm46YX07dGhpcy5fLmxpc3RlbmVycy5wdXNoKGIub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixcbmcsdGhpcykpO3RoaXMuXy5saXN0ZW5lcnMucHVzaChiLm9uKFwibW9kZVwiLGcsdGhpcykpO3RoaXMuXy5saXN0ZW5lcnMucHVzaChiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZyx0aGlzKSk7IXRoaXMucmVhZE9ubHkmJnRoaXMuXy5saXN0ZW5lcnMucHVzaChiLm9uKFwicmVhZE9ubHlcIixnLHRoaXMpKTt2YXIgcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihiLGQpe2I9bmV3IENLRURJVE9SLmRvbS5ldmVudChiKTt2YXIgYz1iLmdldEtleXN0cm9rZSgpO3N3aXRjaChjKXtjYXNlIDEzOmNhc2UgMzI6Y2FzZSA0MDpDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oYSxkKTticmVhaztkZWZhdWx0Omsub25rZXkoayxjKX1iLnByZXZlbnREZWZhdWx0KCl9KSx4PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7ay5vbmZvY3VzJiZrLm9uZm9jdXMoKX0pO2Q9MDtrLmtleURvd25Gbj1yO2w9e2lkOmYsbmFtZTp0aGlzLm5hbWV8fHRoaXMuY29tbWFuZCxcbmxhYmVsOnRoaXMubGFiZWwsdGl0bGU6dGhpcy50aXRsZSxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsdGl0bGVKczpsLmdlY2tvJiYhbC5oYz9cIlwiOih0aGlzLnRpdGxlfHxcIlwiKS5yZXBsYWNlKFwiJ1wiLFwiXCIpLGtleWRvd25GbjpyLGZvY3VzRm46eCxjbGlja0ZuOmF9O2Uub3V0cHV0KGwsYyk7aWYodGhpcy5vblJlbmRlcil0aGlzLm9uUmVuZGVyKCk7cmV0dXJuIGt9LGNyZWF0ZVBhbmVsOmZ1bmN0aW9uKGIpe2lmKCF0aGlzLl8ucGFuZWwpe3ZhciBjPXRoaXMuXy5wYW5lbERlZmluaXRpb24sZT10aGlzLl8ucGFuZWxEZWZpbml0aW9uLmJsb2NrLGc9Yy5wYXJlbnR8fENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSxrPVwiY2tlX2NvbWJvcGFuZWxfX1wiK3RoaXMubmFtZSxkPW5ldyBDS0VESVRPUi51aS5mbG9hdFBhbmVsKGIsZyxjKSxjPWQuYWRkTGlzdEJsb2NrKHRoaXMuaWQsZSksZj10aGlzO2Qub25TaG93PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKGspO2Yuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pO1xuZi5fLm9uPTE7Zi5lZGl0b3JGb2N1cyYmIWIuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZiLmZvY3VzKCk7aWYoZi5vbk9wZW4pZi5vbk9wZW4oKX07ZC5vbkhpZGU9ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKGspO2Yuc2V0U3RhdGUoZi5tb2RlcyYmZi5tb2Rlc1tiLm1vZGVdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7Zi5fLm9uPTA7aWYoIWEmJmYub25DbG9zZSlmLm9uQ2xvc2UoKX07ZC5vbkVzY2FwZT1mdW5jdGlvbigpe2QuaGlkZSgxKX07Yy5vbkNsaWNrPWZ1bmN0aW9uKGEsYil7Zi5vbkNsaWNrJiZmLm9uQ2xpY2suY2FsbChmLGEsYik7ZC5oaWRlKCl9O3RoaXMuXy5wYW5lbD1kO3RoaXMuXy5saXN0PWM7ZC5nZXRCbG9jayh0aGlzLmlkKS5vbkhpZGU9ZnVuY3Rpb24oKXtmLl8ub249MDtmLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9O3RoaXMuaW5pdCYmdGhpcy5pbml0KCl9fSxzZXRWYWx1ZTpmdW5jdGlvbihiLFxuYyl7dGhpcy5fLnZhbHVlPWI7dmFyIGU9dGhpcy5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK3RoaXMuaWQrXCJfdGV4dFwiKTtlJiYoYnx8Yz9lLnJlbW92ZUNsYXNzKFwiY2tlX2NvbWJvX2lubGluZWxhYmVsXCIpOihjPXRoaXMubGFiZWwsZS5hZGRDbGFzcyhcImNrZV9jb21ib19pbmxpbmVsYWJlbFwiKSksZS5zZXRUZXh0KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjP2M6YikpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8udmFsdWV8fFwiXCJ9LHVubWFya0FsbDpmdW5jdGlvbigpe3RoaXMuXy5saXN0LnVubWFya0FsbCgpfSxtYXJrOmZ1bmN0aW9uKGIpe3RoaXMuXy5saXN0Lm1hcmsoYil9LGhpZGVJdGVtOmZ1bmN0aW9uKGIpe3RoaXMuXy5saXN0LmhpZGVJdGVtKGIpfSxoaWRlR3JvdXA6ZnVuY3Rpb24oYil7dGhpcy5fLmxpc3QuaGlkZUdyb3VwKGIpfSxzaG93QWxsOmZ1bmN0aW9uKCl7dGhpcy5fLmxpc3Quc2hvd0FsbCgpfSxhZGQ6ZnVuY3Rpb24oYixjLGUpe3RoaXMuXy5pdGVtc1tiXT1cbmV8fGI7dGhpcy5fLmxpc3QuYWRkKGIsYyxlKX0sc3RhcnRHcm91cDpmdW5jdGlvbihiKXt0aGlzLl8ubGlzdC5zdGFydEdyb3VwKGIpfSxjb21taXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY29tbWl0dGVkfHwodGhpcy5fLmxpc3QuY29tbWl0KCksdGhpcy5fLmNvbW1pdHRlZD0xLENLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpKTt0aGlzLl8uY29tbWl0dGVkPTF9LHNldFN0YXRlOmZ1bmN0aW9uKGIpe2lmKHRoaXMuXy5zdGF0ZSE9Yil7dmFyIGM9dGhpcy5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK3RoaXMuaWQpO2Muc2V0U3RhdGUoYixcImNrZV9jb21ib1wiKTtiPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9jLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk6Yy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO3RoaXMuXy5zdGF0ZT1ifX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnN0YXRlfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl8uc3RhdGU9PVxuQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMuc2V0U3RhdGUodGhpcy5fLmxhc3RTdGF0ZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl8uc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYodGhpcy5fLmxhc3RTdGF0ZT10aGlzLl8uc3RhdGUsdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaCh0aGlzLl8ubGlzdGVuZXJzLGZ1bmN0aW9uKGIpe2IucmVtb3ZlTGlzdGVuZXIoKX0pO3RoaXMuXy5saXN0ZW5lcnM9W119LHNlbGVjdDpmdW5jdGlvbihiKXtpZighQ0tFRElUT1IudG9vbHMuaXNFbXB0eSh0aGlzLl8uaXRlbXMpKWZvcih2YXIgYyBpbiB0aGlzLl8uaXRlbXMpaWYoYih7dmFsdWU6Yyx0ZXh0OnRoaXMuXy5pdGVtc1tjXX0pKXt0aGlzLnNldFZhbHVlKGMpO2JyZWFrfX19LHN0YXRpY3M6e2hhbmRsZXI6e2NyZWF0ZTpmdW5jdGlvbihiKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnJpY2hDb21ibyhiKX19fX0pO1xuQ0tFRElUT1IudWkucHJvdG90eXBlLmFkZFJpY2hDb21ibz1mdW5jdGlvbihiLGMpe3RoaXMuYWRkKGIsQ0tFRElUT1IuVUlfUklDSENPTUJPLGMpfX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhjLGUpe3ZhciBsPWMuY29uZmlnLGs9ZS5sYW5nLGQ9bmV3IENLRURJVE9SLnN0eWxlKGUuc3R5bGVEZWZpbml0aW9uKSxmPW5ldyBiKHtlbnRyaWVzOmUuZW50cmllcyxzdHlsZVZhcmlhYmxlOmUuc3R5bGVWYXJpYWJsZSxzdHlsZURlZmluaXRpb246ZS5zdHlsZURlZmluaXRpb259KSxhO2MuYWRkQ29tbWFuZChlLmNvbW1hbmROYW1lLHtleGVjOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5uZXdTdHlsZSxkPWIub2xkU3R5bGUsZj1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdLGU9dm9pZCAwPT09YztpZihkfHxjKWlmKGQmJmYuY29sbGFwc2VkJiZnKHtlZGl0b3I6YSxyYW5nZTpmLHN0eWxlOmR9KSxlKWEucmVtb3ZlU3R5bGUoZCk7ZWxzZXtpZihmPWQpZj1kIGluc3RhbmNlb2ZcbkNLRURJVE9SLnN0eWxlJiZjIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGU/Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGQuZ2V0RGVmaW5pdGlvbigpKT09PUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChjLmdldERlZmluaXRpb24oKSk6ITEsZj0hZjtmJiZhLnJlbW92ZVN0eWxlKGQpO2EuYXBwbHlTdHlsZShjKX19LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXtkLmNoZWNrQXBwbGljYWJsZShiLGEsYS5hY3RpdmVGaWx0ZXIpfHx0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19KTthPWMuZ2V0Q29tbWFuZChlLmNvbW1hbmROYW1lKTtjLnVpLmFkZFJpY2hDb21ibyhlLmNvbWJvTmFtZSx7bGFiZWw6ay5sYWJlbCx0aXRsZTprLnBhbmVsVGl0bGUsY29tbWFuZDplLmNvbW1hbmROYW1lLHRvb2xiYXI6XCJzdHlsZXMsXCIrZS5vcmRlcixkZWZhdWx0VmFsdWU6XCJja2UtZGVmYXVsdFwiLGFsbG93ZWRDb250ZW50OmQscmVxdWlyZWRDb250ZW50OmQsY29udGVudFRyYW5zZm9ybWF0aW9uczpcInNwYW5cIj09PVxuZS5zdHlsZURlZmluaXRpb24uZWxlbWVudD9bW3tlbGVtZW50OlwiZm9udFwiLGNoZWNrOlwic3BhblwiLGxlZnQ6ZnVuY3Rpb24oYSl7cmV0dXJuISFhLmF0dHJpYnV0ZXMuc2l6ZXx8ISFhLmF0dHJpYnV0ZXMuYWxpZ258fCEhYS5hdHRyaWJ1dGVzLmZhY2V9LHJpZ2h0OmZ1bmN0aW9uKGEpe3ZhciBiPVwiIHgtc21hbGwgc21hbGwgbWVkaXVtIGxhcmdlIHgtbGFyZ2UgeHgtbGFyZ2UgNDhweFwiLnNwbGl0KFwiIFwiKTthLm5hbWU9XCJzcGFuXCI7YS5hdHRyaWJ1dGVzLnNpemUmJihhLnN0eWxlc1tcImZvbnQtc2l6ZVwiXT1iW2EuYXR0cmlidXRlcy5zaXplXSxkZWxldGUgYS5hdHRyaWJ1dGVzLnNpemUpO2EuYXR0cmlidXRlcy5hbGlnbiYmKGEuc3R5bGVzW1widGV4dC1hbGlnblwiXT1hLmF0dHJpYnV0ZXMuYWxpZ24sZGVsZXRlIGEuYXR0cmlidXRlcy5hbGlnbik7YS5hdHRyaWJ1dGVzLmZhY2UmJihhLnN0eWxlc1tcImZvbnQtZmFtaWx5XCJdPWEuYXR0cmlidXRlcy5mYWNlLGRlbGV0ZSBhLmF0dHJpYnV0ZXMuZmFjZSl9fV1dOlxubnVsbCxwYW5lbDp7Y3NzOltDS0VESVRPUi5za2luLmdldFBhdGgoXCJlZGl0b3JcIildLmNvbmNhdChsLmNvbnRlbnRzQ3NzKSxtdWx0aVNlbGVjdDohMSxhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjprLnBhbmVsVGl0bGV9fSxpbml0OmZ1bmN0aW9uKCl7dmFyIGE9XCIoXCIrYy5sYW5nLmNvbW1vbi5vcHRpb25EZWZhdWx0K1wiKVwiO3RoaXMuc3RhcnRHcm91cChrLnBhbmVsVGl0bGUpO3RoaXMuYWRkKHRoaXMuZGVmYXVsdFZhbHVlLGEsYSk7Zi5hZGRUb0NvbWJvKHRoaXMpfSxvbkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VmFsdWUoKTtjLmZvY3VzKCk7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2MuZXhlY0NvbW1hbmQoZS5jb21tYW5kTmFtZSx7bmV3U3R5bGU6Zi5nZXRTdHlsZShhKSxvbGRTdHlsZTpmLmdldFN0eWxlKGIpfSk7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSxvblJlbmRlcjpmdW5jdGlvbigpe2Mub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihhKXt2YXIgYj1cbnRoaXMuZ2V0VmFsdWUoKTsoYT1mLmdldE1hdGNoaW5nVmFsdWUoYyxhLmRhdGEucGF0aCkpP2EhPWImJnRoaXMuc2V0VmFsdWUoYSk6dGhpcy5zZXRWYWx1ZShcIlwiLGUuZGVmYXVsdExhYmVsKX0sdGhpcyk7YS5vbihcInN0YXRlXCIsZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKGEuc3RhdGUpfSx0aGlzKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUoYS5zdGF0ZSl9fSl9ZnVuY3Rpb24gZyhiKXt2YXIgYz1iLmVkaXRvcixnPWIucmFuZ2Usaz1iLnN0eWxlLGQsZixhO2Q9Yy5lbGVtZW50UGF0aCgpO2lmKGI9ZC5jb250YWlucyhmdW5jdGlvbihhKXtyZXR1cm4gay5jaGVja0VsZW1lbnRSZW1vdmFibGUoYSl9KSl7Zj1nLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixDS0VESVRPUi5TVEFSVCk7YT1nLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixDS0VESVRPUi5FTkQpO2lmKGYmJmEpe2ZvcihmPWcuY3JlYXRlQm9va21hcmsoKTtkPWIuZ2V0Rmlyc3QoKTspZC5pbnNlcnRCZWZvcmUoYik7XG5iLnJlbW92ZSgpO2cubW92ZVRvQm9va21hcmsoZil9ZWxzZSBmfHxhP2cubW92ZVRvUG9zaXRpb24oYixmP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpOihnLnNwbGl0RWxlbWVudChiKSxnLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSksZShnLGQuZWxlbWVudHMuc2xpY2UoKSxiKTtjLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZ10pfX1mdW5jdGlvbiBlKGIsYyxnKXt2YXIgaz1jLnBvcCgpO2lmKGspe2lmKGcpcmV0dXJuIGUoYixjLGsuZXF1YWxzKGcpP251bGw6Zyk7Zz1rLmNsb25lKCk7Yi5pbnNlcnROb2RlKGcpO2IubW92ZVRvUG9zaXRpb24oZyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7ZShiLGMpfX12YXIgYj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiKXt2YXIgYz1iLmVudHJpZXMuc3BsaXQoXCI7XCIpO3RoaXMuXy5kYXRhPVxue307dGhpcy5fLm5hbWVzPVtdO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZz1jW2VdLGQsZjtnPyhnPWcuc3BsaXQoXCIvXCIpLGQ9Z1swXSxnPWdbMV0sZj17fSxmW2Iuc3R5bGVWYXJpYWJsZV09Z3x8ZCx0aGlzLl8uZGF0YVtkXT1uZXcgQ0tFRElUT1Iuc3R5bGUoYi5zdHlsZURlZmluaXRpb24sZiksdGhpcy5fLmRhdGFbZF0uXy5kZWZpbml0aW9uLm5hbWU9ZCx0aGlzLl8ubmFtZXMucHVzaChkKSk6KGMuc3BsaWNlKGUsMSksZS0tKX19LHByb3RvOntnZXRTdHlsZTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5fLmRhdGFbYl19LGFkZFRvQ29tYm86ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTA7Yzx0aGlzLl8ubmFtZXMubGVuZ3RoO2MrKyl7dmFyIGU9dGhpcy5fLm5hbWVzW2NdO2IuYWRkKGUsdGhpcy5nZXRTdHlsZShlKS5idWlsZFByZXZpZXcoKSxlKX19LGdldE1hdGNoaW5nVmFsdWU6ZnVuY3Rpb24oYixjKXtmb3IodmFyIGU9Yy5lbGVtZW50cyxnPTAsZDtnPGUubGVuZ3RoO2crKylpZihkPVxuZVtnXSxkPXRoaXMuXy5maW5kTWF0Y2hpbmdTdHlsZU5hbWUoYixkKSlyZXR1cm4gZDtyZXR1cm4gbnVsbH19LF86e2ZpbmRNYXRjaGluZ1N0eWxlTmFtZTpmdW5jdGlvbihiLGMpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5maW5kKHRoaXMuXy5uYW1lcyxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRTdHlsZShlKS5jaGVja0VsZW1lbnRNYXRjaChjLCEwLGIpfSx0aGlzKX19fSk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJmb250XCIse3JlcXVpcmVzOlwicmljaGNvbWJvXCIsaW5pdDpmdW5jdGlvbihiKXt2YXIgZT1iLmNvbmZpZztjKGIse2NvbWJvTmFtZTpcIkZvbnRcIixjb21tYW5kTmFtZTpcImZvbnRcIixzdHlsZVZhcmlhYmxlOlwiZmFtaWx5XCIsbGFuZzpiLmxhbmcuZm9udCxlbnRyaWVzOmUuZm9udF9uYW1lcyxkZWZhdWx0TGFiZWw6ZS5mb250X2RlZmF1bHRMYWJlbCxzdHlsZURlZmluaXRpb246ZS5mb250X3N0eWxlLG9yZGVyOjMwfSk7YyhiLHtjb21ib05hbWU6XCJGb250U2l6ZVwiLFxuY29tbWFuZE5hbWU6XCJmb250U2l6ZVwiLHN0eWxlVmFyaWFibGU6XCJzaXplXCIsbGFuZzpiLmxhbmcuZm9udC5mb250U2l6ZSxlbnRyaWVzOmUuZm9udFNpemVfc2l6ZXMsZGVmYXVsdExhYmVsOmUuZm9udFNpemVfZGVmYXVsdExhYmVsLHN0eWxlRGVmaW5pdGlvbjplLmZvbnRTaXplX3N0eWxlLG9yZGVyOjQwfSl9fSl9KSgpO0NLRURJVE9SLmNvbmZpZy5mb250X25hbWVzPVwiQXJpYWwvQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtDb21pYyBTYW5zIE1TL0NvbWljIFNhbnMgTVMsIGN1cnNpdmU7Q291cmllciBOZXcvQ291cmllciBOZXcsIENvdXJpZXIsIG1vbm9zcGFjZTtHZW9yZ2lhL0dlb3JnaWEsIHNlcmlmO0x1Y2lkYSBTYW5zIFVuaWNvZGUvTHVjaWRhIFNhbnMgVW5pY29kZSwgTHVjaWRhIEdyYW5kZSwgc2Fucy1zZXJpZjtUYWhvbWEvVGFob21hLCBHZW5ldmEsIHNhbnMtc2VyaWY7VGltZXMgTmV3IFJvbWFuL1RpbWVzIE5ldyBSb21hbiwgVGltZXMsIHNlcmlmO1RyZWJ1Y2hldCBNUy9UcmVidWNoZXQgTVMsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtWZXJkYW5hL1ZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZlwiO1xuQ0tFRElUT1IuY29uZmlnLmZvbnRfZGVmYXVsdExhYmVsPVwiXCI7Q0tFRElUT1IuY29uZmlnLmZvbnRfc3R5bGU9e2VsZW1lbnQ6XCJzcGFuXCIsc3R5bGVzOntcImZvbnQtZmFtaWx5XCI6XCIjKGZhbWlseSlcIn0sb3ZlcnJpZGVzOlt7ZWxlbWVudDpcImZvbnRcIixhdHRyaWJ1dGVzOntmYWNlOm51bGx9fV19O0NLRURJVE9SLmNvbmZpZy5mb250U2l6ZV9zaXplcz1cIjgvOHB4OzkvOXB4OzEwLzEwcHg7MTEvMTFweDsxMi8xMnB4OzE0LzE0cHg7MTYvMTZweDsxOC8xOHB4OzIwLzIwcHg7MjIvMjJweDsyNC8yNHB4OzI2LzI2cHg7MjgvMjhweDszNi8zNnB4OzQ4LzQ4cHg7NzIvNzJweFwiO0NLRURJVE9SLmNvbmZpZy5mb250U2l6ZV9kZWZhdWx0TGFiZWw9XCJcIjtDS0VESVRPUi5jb25maWcuZm9udFNpemVfc3R5bGU9e2VsZW1lbnQ6XCJzcGFuXCIsc3R5bGVzOntcImZvbnQtc2l6ZVwiOlwiIyhzaXplKVwifSxvdmVycmlkZXM6W3tlbGVtZW50OlwiZm9udFwiLGF0dHJpYnV0ZXM6e3NpemU6bnVsbH19XX07KGZ1bmN0aW9uKCl7dmFyIGM9XG57Y2FuVW5kbzohMSxleGVjOmZ1bmN0aW9uKGMpe3ZhciBlPWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhyXCIpO2MuaW5zZXJ0RWxlbWVudChlKX0sYWxsb3dlZENvbnRlbnQ6XCJoclwiLHJlcXVpcmVkQ29udGVudDpcImhyXCJ9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiaG9yaXpvbnRhbHJ1bGVcIix7aW5pdDpmdW5jdGlvbihnKXtnLmJsb2NrbGVzc3x8KGcuYWRkQ29tbWFuZChcImhvcml6b250YWxydWxlXCIsYyksZy51aS5hZGRCdXR0b24mJmcudWkuYWRkQnV0dG9uKFwiSG9yaXpvbnRhbFJ1bGVcIix7bGFiZWw6Zy5sYW5nLmhvcml6b250YWxydWxlLnRvb2xiYXIsY29tbWFuZDpcImhvcml6b250YWxydWxlXCIsdG9vbGJhcjpcImluc2VydCw0MFwifSkpfX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGIsYyl7dmFyIG0sbDtjLm9uKFwicmVmcmVzaFwiLGZ1bmN0aW9uKGIpe3ZhciBjPVtnXSxmO2ZvcihmIGluIGIuZGF0YS5zdGF0ZXMpYy5wdXNoKGIuZGF0YS5zdGF0ZXNbZl0pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IudG9vbHMuc2VhcmNoKGMsXG5lKT9lOmcpfSxjLG51bGwsMTAwKTtjLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGMpe209Yi5nZXRTZWxlY3Rpb24oKTtsPW0uY3JlYXRlQm9va21hcmtzKDEpO2MuZGF0YXx8KGMuZGF0YT17fSk7Yy5kYXRhLmRvbmU9ITF9LGMsbnVsbCwwKTtjLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKCl7Yi5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO20uc2VsZWN0Qm9va21hcmtzKGwpfSxjLG51bGwsMTAwKX12YXIgZz1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxlPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudFwiLHtpbml0OmZ1bmN0aW9uKGIpe3ZhciBlPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uO2MoYixiLmFkZENvbW1hbmQoXCJpbmRlbnRcIixuZXcgZSghMCkpKTtjKGIsYi5hZGRDb21tYW5kKFwib3V0ZGVudFwiLG5ldyBlKSk7Yi51aS5hZGRCdXR0b24mJihiLnVpLmFkZEJ1dHRvbihcIkluZGVudFwiLHtsYWJlbDpiLmxhbmcuaW5kZW50LmluZGVudCxcbmNvbW1hbmQ6XCJpbmRlbnRcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwiaW5kZW50LDIwXCJ9KSxiLnVpLmFkZEJ1dHRvbihcIk91dGRlbnRcIix7bGFiZWw6Yi5sYW5nLmluZGVudC5vdXRkZW50LGNvbW1hbmQ6XCJvdXRkZW50XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImluZGVudCwxMFwifSkpO2Iub24oXCJkaXJDaGFuZ2VkXCIsZnVuY3Rpb24oYyl7dmFyIGU9Yi5jcmVhdGVSYW5nZSgpLGc9Yy5kYXRhLm5vZGU7ZS5zZXRTdGFydEJlZm9yZShnKTtlLnNldEVuZEFmdGVyKGcpO2Zvcih2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihlKSxmO2Y9ZC5uZXh0KCk7KWlmKGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKCFmLmVxdWFscyhnKSYmZi5nZXREaXJlY3Rpb24oKSllLnNldFN0YXJ0QWZ0ZXIoZiksZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihlKTtlbHNle3ZhciBhPWIuY29uZmlnLmluZGVudENsYXNzZXM7aWYoYSlmb3IodmFyIGg9XCJsdHJcIj09Yy5kYXRhLmRpcj9bXCJfcnRsXCIsXG5cIlwiXTpbXCJcIixcIl9ydGxcIl0scj0wO3I8YS5sZW5ndGg7cisrKWYuaGFzQ2xhc3MoYVtyXStoWzBdKSYmKGYucmVtb3ZlQ2xhc3MoYVtyXStoWzBdKSxmLmFkZENsYXNzKGFbcl0raFsxXSkpO2E9Zi5nZXRTdHlsZShcIm1hcmdpbi1yaWdodFwiKTtoPWYuZ2V0U3R5bGUoXCJtYXJnaW4tbGVmdFwiKTthP2Yuc2V0U3R5bGUoXCJtYXJnaW4tbGVmdFwiLGEpOmYucmVtb3ZlU3R5bGUoXCJtYXJnaW4tbGVmdFwiKTtoP2Yuc2V0U3R5bGUoXCJtYXJnaW4tcmlnaHRcIixoKTpmLnJlbW92ZVN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50PXtnZW5lcmljRGVmaW5pdGlvbjpmdW5jdGlvbihiKXt0aGlzLmlzSW5kZW50PSEhYjt0aGlzLnN0YXJ0RGlzYWJsZWQ9IXRoaXMuaXNJbmRlbnR9LHNwZWNpZmljRGVmaW5pdGlvbjpmdW5jdGlvbihiLGMsZSl7dGhpcy5uYW1lPWM7dGhpcy5lZGl0b3I9Yjt0aGlzLmpvYnM9e307dGhpcy5lbnRlckJyPWIuY29uZmlnLmVudGVyTW9kZT09XG5DS0VESVRPUi5FTlRFUl9CUjt0aGlzLmlzSW5kZW50PSEhZTt0aGlzLnJlbGF0ZWRHbG9iYWw9ZT9cImluZGVudFwiOlwib3V0ZGVudFwiO3RoaXMuaW5kZW50S2V5PWU/OTpDS0VESVRPUi5TSElGVCs5O3RoaXMuZGF0YWJhc2U9e319LHJlZ2lzdGVyQ29tbWFuZHM6ZnVuY3Rpb24oYixjKXtiLm9uKFwicGx1Z2luc0xvYWRlZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBiIGluIGMpKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5nZXRDb21tYW5kKGMucmVsYXRlZEdsb2JhbCksZjtmb3IoZiBpbiBjLmpvYnMpZC5vbihcImV4ZWNcIixmdW5jdGlvbihhKXthLmRhdGEuZG9uZXx8KGIuZmlyZShcImxvY2tTbmFwc2hvdFwiKSxjLmV4ZWNKb2IoYixmKSYmKGEuZGF0YS5kb25lPSEwKSxiLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSxDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoYy5kYXRhYmFzZSkpfSx0aGlzLG51bGwsZiksZC5vbihcInJlZnJlc2hcIixmdW5jdGlvbihhKXthLmRhdGEuc3RhdGVzfHxcbihhLmRhdGEuc3RhdGVzPXt9KTthLmRhdGEuc3RhdGVzW2MubmFtZStcIkBcIitmXT1jLnJlZnJlc2hKb2IoYixmLGEuZGF0YS5wYXRoKX0sdGhpcyxudWxsLGYpO2IuYWRkRmVhdHVyZShjKX0pKHRoaXMsY1tiXSl9KX19O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uLnByb3RvdHlwZT17Y29udGV4dDpcInBcIixleGVjOmZ1bmN0aW9uKCl7fX07Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZT17ZXhlY0pvYjpmdW5jdGlvbihiLGMpe3ZhciBlPXRoaXMuam9ic1tjXTtpZihlLnN0YXRlIT1nKXJldHVybiBlLmV4ZWMuY2FsbCh0aGlzLGIpfSxyZWZyZXNoSm9iOmZ1bmN0aW9uKGIsYyxlKXtjPXRoaXMuam9ic1tjXTtiLmFjdGl2ZUZpbHRlci5jaGVja0ZlYXR1cmUodGhpcyk/Yy5zdGF0ZT1jLnJlZnJlc2guY2FsbCh0aGlzLGIsZSk6Yy5zdGF0ZT1nO3JldHVybiBjLnN0YXRlfSxnZXRDb250ZXh0OmZ1bmN0aW9uKGIpe3JldHVybiBiLmNvbnRhaW5zKHRoaXMuY29udGV4dCl9fX0pKCk7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGIsYyxkKXtpZighYi5nZXRDdXN0b21EYXRhKFwiaW5kZW50X3Byb2Nlc3NlZFwiKSl7dmFyIGY9dGhpcy5lZGl0b3IsYT10aGlzLmlzSW5kZW50O2lmKGMpe2Y9Yi4kLmNsYXNzTmFtZS5tYXRjaCh0aGlzLmNsYXNzTmFtZVJlZ2V4KTtkPTA7ZiYmKGY9ZlsxXSxkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxmKSsxKTtpZigwPihkKz1hPzE6LTEpKXJldHVybjtkPU1hdGgubWluKGQsYy5sZW5ndGgpO2Q9TWF0aC5tYXgoZCwwKTtiLiQuY2xhc3NOYW1lPUNLRURJVE9SLnRvb2xzLmx0cmltKGIuJC5jbGFzc05hbWUucmVwbGFjZSh0aGlzLmNsYXNzTmFtZVJlZ2V4LFwiXCIpKTswPGQmJmIuYWRkQ2xhc3MoY1tkLTFdKX1lbHNle2M9ZyhiLGQpO2Q9cGFyc2VJbnQoYi5nZXRTdHlsZShjKSwxMCk7dmFyIGU9Zi5jb25maWcuaW5kZW50T2Zmc2V0fHw0MDtpc05hTihkKSYmKGQ9MCk7ZCs9KGE/MTotMSkqZTtpZigwPmQpcmV0dXJuO2Q9TWF0aC5tYXgoZCxcbjApO2Q9TWF0aC5jZWlsKGQvZSkqZTtiLnNldFN0eWxlKGMsZD9kKyhmLmNvbmZpZy5pbmRlbnRVbml0fHxcInB4XCIpOlwiXCIpO1wiXCI9PT1iLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpJiZiLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpfUNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcih0aGlzLmRhdGFiYXNlLGIsXCJpbmRlbnRfcHJvY2Vzc2VkXCIsMSl9fWZ1bmN0aW9uIGcoYixjKXtyZXR1cm5cImx0clwiPT0oY3x8Yi5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpKT9cIm1hcmdpbi1sZWZ0XCI6XCJtYXJnaW4tcmlnaHRcIn12YXIgZT1DS0VESVRPUi5kdGQuJGxpc3RJdGVtLGI9Q0tFRElUT1IuZHRkLiRsaXN0LGg9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsbT1DS0VESVRPUi5UUklTVEFURV9PRkY7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbmRlbnRibG9ja1wiLHtyZXF1aXJlczpcImluZGVudFwiLGluaXQ6ZnVuY3Rpb24obCl7ZnVuY3Rpb24gaygpe2Quc3BlY2lmaWNEZWZpbml0aW9uLmFwcGx5KHRoaXMsXG5hcmd1bWVudHMpO3RoaXMuYWxsb3dlZENvbnRlbnQ9e1wiZGl2IGgxIGgyIGgzIGg0IGg1IGg2IG9sIHAgcHJlIHVsXCI6e3Byb3BlcnRpZXNPbmx5OiEwLHN0eWxlczpmP251bGw6XCJtYXJnaW4tbGVmdCxtYXJnaW4tcmlnaHRcIixjbGFzc2VzOmZ8fG51bGx9fTt0aGlzLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM9W1tcImRpdjogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wiaDE6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcImgyOiBzcGxpdE1hcmdpblNob3J0aGFuZFwiXSxbXCJoMzogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wiaDQ6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcImg1OiBzcGxpdE1hcmdpblNob3J0aGFuZFwiXSxbXCJoNjogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wib2w6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcInA6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcInByZTogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1widWw6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdXTt0aGlzLmVudGVyQnImJlxuKHRoaXMuYWxsb3dlZENvbnRlbnQuZGl2PSEwKTt0aGlzLnJlcXVpcmVkQ29udGVudD0odGhpcy5lbnRlckJyP1wiZGl2XCI6XCJwXCIpKyhmP1wiKFwiK2Yuam9pbihcIixcIikrXCIpXCI6XCJ7bWFyZ2luLWxlZnR9XCIpO3RoaXMuam9icz17MjA6e3JlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmJsb2NrfHxiLmJsb2NrTGltaXQ7aWYoIWMuaXMoZSkpdmFyIGQ9Yy5nZXRBc2NlbmRhbnQoZSksYz1kJiZiLmNvbnRhaW5zKGQpfHxjO2MuaXMoZSkmJihjPWMuZ2V0UGFyZW50KCkpO2lmKHRoaXMuZW50ZXJCcnx8dGhpcy5nZXRDb250ZXh0KGIpKXtpZihmKXt2YXIgZD1mLGM9Yy4kLmNsYXNzTmFtZS5tYXRjaCh0aGlzLmNsYXNzTmFtZVJlZ2V4KSxrPXRoaXMuaXNJbmRlbnQsZD1jP2s/Y1sxXSE9ZC5zbGljZSgtMSk6ITA6aztyZXR1cm4gZD9tOmh9cmV0dXJuIHRoaXMuaXNJbmRlbnQ/bTpjP0NLRURJVE9SWzA+PShwYXJzZUludChjLmdldFN0eWxlKGcoYykpLDEwKXx8MCk/XCJUUklTVEFURV9ESVNBQkxFRFwiOlxuXCJUUklTVEFURV9PRkZcIl06aH1yZXR1cm4gaH0sZXhlYzpmdW5jdGlvbihhKXt2YXIgZD1hLmdldFNlbGVjdGlvbigpLGQ9ZCYmZC5nZXRSYW5nZXMoKVswXSxlO2lmKGU9YS5lbGVtZW50UGF0aCgpLmNvbnRhaW5zKGIpKWMuY2FsbCh0aGlzLGUsZik7ZWxzZSBmb3IoZD1kLmNyZWF0ZUl0ZXJhdG9yKCksYT1hLmNvbmZpZy5lbnRlck1vZGUsZC5lbmZvcmNlUmVhbEJsb2Nrcz0hMCxkLmVubGFyZ2VCcj1hIT1DS0VESVRPUi5FTlRFUl9CUjtlPWQuZ2V0TmV4dFBhcmFncmFwaChhPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpOyllLmlzUmVhZE9ubHkoKXx8Yy5jYWxsKHRoaXMsZSxmKTtyZXR1cm4hMH19fX12YXIgZD1DS0VESVRPUi5wbHVnaW5zLmluZGVudCxmPWwuY29uZmlnLmluZGVudENsYXNzZXM7ZC5yZWdpc3RlckNvbW1hbmRzKGwse2luZGVudGJsb2NrOm5ldyBrKGwsXCJpbmRlbnRibG9ja1wiLCEwKSxvdXRkZW50YmxvY2s6bmV3IGsobCxcIm91dGRlbnRibG9ja1wiKX0pO1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGsucHJvdG90eXBlLGQuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZSx7Y29udGV4dDp7ZGl2OjEsZGw6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSx1bDoxLG9sOjEscDoxLHByZToxLHRhYmxlOjF9LGNsYXNzTmFtZVJlZ2V4OmY/bmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKShcIitmLmpvaW4oXCJ8XCIpK1wiKSg/XFx4M2QkfFxcXFxzKVwiKTpudWxsfSl9fSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYil7ZnVuY3Rpb24gYyhkKXtmb3IodmFyIGc9bC5zdGFydENvbnRhaW5lcixtPWwuZW5kQ29udGFpbmVyO2cmJiFnLmdldFBhcmVudCgpLmVxdWFscyhkKTspZz1nLmdldFBhcmVudCgpO2Zvcig7bSYmIW0uZ2V0UGFyZW50KCkuZXF1YWxzKGQpOyltPW0uZ2V0UGFyZW50KCk7aWYoIWd8fCFtKXJldHVybiExO2Zvcih2YXIgcT1bXSx3PSExOyF3OylnLmVxdWFscyhtKSYmKHc9ITApLHEucHVzaChnKSxnPWcuZ2V0TmV4dCgpO2lmKDE+cS5sZW5ndGgpcmV0dXJuITE7XG5nPWQuZ2V0UGFyZW50cyghMCk7Zm9yKG09MDttPGcubGVuZ3RoO20rKylpZihnW21dLmdldE5hbWUmJmhbZ1ttXS5nZXROYW1lKCldKXtkPWdbbV07YnJlYWt9Zm9yKHZhciBnPWYuaXNJbmRlbnQ/MTotMSxtPXFbMF0scT1xW3EubGVuZ3RoLTFdLHc9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGQsYSksdj13W3EuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKV0uaW5kZW50LG09bS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO208PXEuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKTttKyspaWYod1ttXS5pbmRlbnQrPWcsMDxnKXtmb3IodmFyIHA9d1ttXS5wYXJlbnQseT1tLTE7MDw9eTt5LS0paWYod1t5XS5pbmRlbnQ9PT1nKXtwPXdbeV0ucGFyZW50O2JyZWFrfXdbbV0ucGFyZW50PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChwLmdldE5hbWUoKSxwLmdldERvY3VtZW50KCkpfWZvcihtPXEuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKStcbjE7bTx3Lmxlbmd0aCYmd1ttXS5pbmRlbnQ+djttKyspd1ttXS5pbmRlbnQrPWc7Zz1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QodyxhLG51bGwsYi5jb25maWcuZW50ZXJNb2RlLGQuZ2V0RGlyZWN0aW9uKCkpO2lmKCFmLmlzSW5kZW50KXt2YXIgQztpZigoQz1kLmdldFBhcmVudCgpKSYmQy5pcyhcImxpXCIpKWZvcih2YXIgcT1nLmxpc3ROb2RlLmdldENoaWxkcmVuKCksSD1bXSx4LG09cS5jb3VudCgpLTE7MDw9bTttLS0pKHg9cS5nZXRJdGVtKG0pKSYmeC5pcyYmeC5pcyhcImxpXCIpJiZILnB1c2goeCl9ZyYmZy5saXN0Tm9kZS5yZXBsYWNlKGQpO2lmKEgmJkgubGVuZ3RoKWZvcihtPTA7bTxILmxlbmd0aDttKyspe2Zvcih4PWQ9SFttXTsoeD14LmdldE5leHQoKSkmJnguaXMmJnguZ2V0TmFtZSgpaW4gaDspQ0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlciYmIWQuZ2V0Rmlyc3QoZSkmJmQuYXBwZW5kKGwuZG9jdW1lbnQuY3JlYXRlVGV4dChcIsKgXCIpKSxkLmFwcGVuZCh4KTtcbmQuaW5zZXJ0QWZ0ZXIoQyl9ZyYmYi5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpO3JldHVybiEwfWZvcih2YXIgZj10aGlzLGE9dGhpcy5kYXRhYmFzZSxoPXRoaXMuY29udGV4dCxsLG09Yi5nZXRTZWxlY3Rpb24oKSxtPShtJiZtLmdldFJhbmdlcygpKS5jcmVhdGVJdGVyYXRvcigpO2w9bS5nZXROZXh0UmFuZ2UoKTspe2Zvcih2YXIgcD1sLmdldENvbW1vbkFuY2VzdG9yKCk7cCYmKHAudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhaFtwLmdldE5hbWUoKV0pOyl7aWYoYi5lZGl0YWJsZSgpLmVxdWFscyhwKSl7cD0hMTticmVha31wPXAuZ2V0UGFyZW50KCl9cHx8KHA9bC5zdGFydFBhdGgoKS5jb250YWlucyhoKSkmJmwuc2V0RW5kQXQocCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtpZighcCl7dmFyIHE9bC5nZXRFbmNsb3NlZE5vZGUoKTtxJiZxLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmcS5nZXROYW1lKClpbiBoJiYobC5zZXRTdGFydEF0KHEsXG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksbC5zZXRFbmRBdChxLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLHA9cSl9cCYmbC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gaCYmKHE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIobCkscS5ldmFsdWF0b3I9ZyxsLnN0YXJ0Q29udGFpbmVyPXEubmV4dCgpKTtwJiZsLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIGgmJihxPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpLHEuZXZhbHVhdG9yPWcsbC5lbmRDb250YWluZXI9cS5wcmV2aW91cygpKTtpZihwKXJldHVybiBjKHApfXJldHVybiAwfWZ1bmN0aW9uIGcoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzKFwibGlcIil9ZnVuY3Rpb24gZShjKXtyZXR1cm4gYihjKSYmaChjKX1cbnZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLGg9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksbT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxsPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudGxpc3RcIix7cmVxdWlyZXM6XCJpbmRlbnRcIixpbml0OmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoYSl7Zi5zcGVjaWZpY0RlZmluaXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucmVxdWlyZWRDb250ZW50PVtcInVsXCIsXCJvbFwiXTthLm9uKFwia2V5XCIsZnVuY3Rpb24oYil7dmFyIGM9YS5lbGVtZW50UGF0aCgpO2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUmJmIuZGF0YS5rZXlDb2RlPT10aGlzLmluZGVudEtleSYmYyl7dmFyIGQ9dGhpcy5nZXRDb250ZXh0KGMpOyFkfHx0aGlzLmlzSW5kZW50JiZDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoKHRoaXMuY29udGV4dCxjLGQpfHxcbihhLmV4ZWNDb21tYW5kKHRoaXMucmVsYXRlZEdsb2JhbCksYi5jYW5jZWwoKSl9fSx0aGlzKTt0aGlzLmpvYnNbdGhpcy5pc0luZGVudD8xMDozMF09e3JlZnJlc2g6dGhpcy5pc0luZGVudD9mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29udGV4dChiKSxkPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGgodGhpcy5jb250ZXh0LGIsYyk7cmV0dXJuIGMmJnRoaXMuaXNJbmRlbnQmJiFkP2w6bX06ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5nZXRDb250ZXh0KGIpfHx0aGlzLmlzSW5kZW50P206bH0sZXhlYzpDS0VESVRPUi50b29scy5iaW5kKGMsdGhpcyl9fXZhciBmPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50O2YucmVnaXN0ZXJDb21tYW5kcyhiLHtpbmRlbnRsaXN0Om5ldyBkKGIsXCJpbmRlbnRsaXN0XCIsITApLG91dGRlbnRsaXN0Om5ldyBkKGIsXCJvdXRkZW50bGlzdFwiKX0pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChkLnByb3RvdHlwZSxmLnNwZWNpZmljRGVmaW5pdGlvbi5wcm90b3R5cGUsXG57Y29udGV4dDp7b2w6MSx1bDoxfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdD17fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoPWZ1bmN0aW9uKGIsYyxmKXt2YXIgYT1jLmNvbnRhaW5zKGcpO2Z8fChmPWMuY29udGFpbnMoYikpO3JldHVybiBmJiZhJiZhLmVxdWFscyhmLmdldEZpcnN0KGcpKX19KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYixjKXtjPXZvaWQgMD09PWN8fGM7dmFyIGU7aWYoYyllPWIuZ2V0Q29tcHV0ZWRTdHlsZShcInRleHQtYWxpZ25cIik7ZWxzZXtmb3IoOyFiLmhhc0F0dHJpYnV0ZXx8IWIuaGFzQXR0cmlidXRlKFwiYWxpZ25cIikmJiFiLmdldFN0eWxlKFwidGV4dC1hbGlnblwiKTspe2U9Yi5nZXRQYXJlbnQoKTtpZighZSlicmVhaztiPWV9ZT1iLmdldFN0eWxlKFwidGV4dC1hbGlnblwiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKXx8XCJcIn1lJiYoZT1lLnJlcGxhY2UoLyg/Oi0oPzptb3p8d2Via2l0KS0pPyg/OnN0YXJ0fGF1dG8pL2ksXG5cIlwiKSk7IWUmJmMmJihlPVwicnRsXCI9PWIuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKT9cInJpZ2h0XCI6XCJsZWZ0XCIpO3JldHVybiBlfWZ1bmN0aW9uIGcoYixjLGUpe3RoaXMuZWRpdG9yPWI7dGhpcy5uYW1lPWM7dGhpcy52YWx1ZT1lO3RoaXMuY29udGV4dD1cInBcIjtjPWIuY29uZmlnLmp1c3RpZnlDbGFzc2VzO3ZhciBnPWIuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiO2lmKGMpe3N3aXRjaChlKXtjYXNlIFwibGVmdFwiOnRoaXMuY3NzQ2xhc3NOYW1lPWNbMF07YnJlYWs7Y2FzZSBcImNlbnRlclwiOnRoaXMuY3NzQ2xhc3NOYW1lPWNbMV07YnJlYWs7Y2FzZSBcInJpZ2h0XCI6dGhpcy5jc3NDbGFzc05hbWU9Y1syXTticmVhaztjYXNlIFwianVzdGlmeVwiOnRoaXMuY3NzQ2xhc3NOYW1lPWNbM119dGhpcy5jc3NDbGFzc1JlZ2V4PW5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKykoPzpcIitjLmpvaW4oXCJ8XCIpK1wiKSg/XFx4M2QkfFxcXFxzKVwiKTt0aGlzLnJlcXVpcmVkQ29udGVudD1cbmcrXCIoXCIrdGhpcy5jc3NDbGFzc05hbWUrXCIpXCJ9ZWxzZSB0aGlzLnJlcXVpcmVkQ29udGVudD1nK1wie3RleHQtYWxpZ259XCI7dGhpcy5hbGxvd2VkQ29udGVudD17XCJjYXB0aW9uIGRpdiBoMSBoMiBoMyBoNCBoNSBoNiBwIHByZSB0ZCB0aCBsaVwiOntwcm9wZXJ0aWVzT25seTohMCxzdHlsZXM6dGhpcy5jc3NDbGFzc05hbWU/bnVsbDpcInRleHQtYWxpZ25cIixjbGFzc2VzOnRoaXMuY3NzQ2xhc3NOYW1lfHxudWxsfX07Yi5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUiYmKHRoaXMuYWxsb3dlZENvbnRlbnQuZGl2PSEwKX1mdW5jdGlvbiBlKGIpe3ZhciBjPWIuZWRpdG9yLGU9Yy5jcmVhdGVSYW5nZSgpO2Uuc2V0U3RhcnRCZWZvcmUoYi5kYXRhLm5vZGUpO2Uuc2V0RW5kQWZ0ZXIoYi5kYXRhLm5vZGUpO2Zvcih2YXIgZz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihlKSxrO2s9Zy5uZXh0KCk7KWlmKGsudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKCFrLmVxdWFscyhiLmRhdGEubm9kZSkmJlxuay5nZXREaXJlY3Rpb24oKSllLnNldFN0YXJ0QWZ0ZXIoayksZz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihlKTtlbHNle3ZhciBkPWMuY29uZmlnLmp1c3RpZnlDbGFzc2VzO2QmJihrLmhhc0NsYXNzKGRbMF0pPyhrLnJlbW92ZUNsYXNzKGRbMF0pLGsuYWRkQ2xhc3MoZFsyXSkpOmsuaGFzQ2xhc3MoZFsyXSkmJihrLnJlbW92ZUNsYXNzKGRbMl0pLGsuYWRkQ2xhc3MoZFswXSkpKTtkPWsuZ2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIpO1wibGVmdFwiPT1kP2suc2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIsXCJyaWdodFwiKTpcInJpZ2h0XCI9PWQmJmsuc2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIsXCJsZWZ0XCIpfX1nLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihiKXt2YXIgZT1iLmdldFNlbGVjdGlvbigpLGc9Yi5jb25maWcuZW50ZXJNb2RlO2lmKGUpe2Zvcih2YXIgbD1lLmNyZWF0ZUJvb2ttYXJrcygpLGs9ZS5nZXRSYW5nZXMoKSxkPXRoaXMuY3NzQ2xhc3NOYW1lLGYsYSxuPWIuY29uZmlnLnVzZUNvbXB1dGVkU3RhdGUsXG5uPXZvaWQgMD09PW58fG4scj1rLmxlbmd0aC0xOzA8PXI7ci0tKWZvcihmPWtbcl0uY3JlYXRlSXRlcmF0b3IoKSxmLmVubGFyZ2VCcj1nIT1DS0VESVRPUi5FTlRFUl9CUjthPWYuZ2V0TmV4dFBhcmFncmFwaChnPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpOylpZighYS5pc1JlYWRPbmx5KCkpe3ZhciB4PWEuZ2V0TmFtZSgpLHA7cD1iLmFjdGl2ZUZpbHRlci5jaGVjayh4K1wie3RleHQtYWxpZ259XCIpO2lmKCh4PWIuYWN0aXZlRmlsdGVyLmNoZWNrKHgrXCIoXCIrZCtcIilcIikpfHxwKXthLnJlbW92ZUF0dHJpYnV0ZShcImFsaWduXCIpO2EucmVtb3ZlU3R5bGUoXCJ0ZXh0LWFsaWduXCIpO3ZhciBxPWQmJihhLiQuY2xhc3NOYW1lPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuJC5jbGFzc05hbWUucmVwbGFjZSh0aGlzLmNzc0NsYXNzUmVnZXgsXCJcIikpKSx1PXRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRiYmKCFufHxjKGEsITApIT10aGlzLnZhbHVlKTtkJiZ4P3U/YS5hZGRDbGFzcyhkKTpcbnF8fGEucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik6dSYmcCYmYS5zZXRTdHlsZShcInRleHQtYWxpZ25cIix0aGlzLnZhbHVlKX19Yi5mb2N1cygpO2IuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTtlLnNlbGVjdEJvb2ttYXJrcyhsKX19LHJlZnJlc2g6ZnVuY3Rpb24oYixlKXt2YXIgZz1lLmJsb2NrfHxlLmJsb2NrTGltaXQsbD1nLmdldE5hbWUoKSxrPWcuZXF1YWxzKGIuZWRpdGFibGUoKSksbD10aGlzLmNzc0NsYXNzTmFtZT9iLmFjdGl2ZUZpbHRlci5jaGVjayhsK1wiKFwiK3RoaXMuY3NzQ2xhc3NOYW1lK1wiKVwiKTpiLmFjdGl2ZUZpbHRlci5jaGVjayhsK1wie3RleHQtYWxpZ259XCIpO2smJiFDS0VESVRPUi5kdGQuJGxpc3RbZS5sYXN0RWxlbWVudC5nZXROYW1lKCldP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKTohayYmbD90aGlzLnNldFN0YXRlKGMoZyx0aGlzLmVkaXRvci5jb25maWcudXNlQ29tcHV0ZWRTdGF0ZSk9PXRoaXMudmFsdWU/Q0tFRElUT1IuVFJJU1RBVEVfT046XG5DS0VESVRPUi5UUklTVEFURV9PRkYpOnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJqdXN0aWZ5XCIse2luaXQ6ZnVuY3Rpb24oYil7aWYoIWIuYmxvY2tsZXNzKXt2YXIgYz1uZXcgZyhiLFwianVzdGlmeWxlZnRcIixcImxlZnRcIiksbT1uZXcgZyhiLFwianVzdGlmeWNlbnRlclwiLFwiY2VudGVyXCIpLGw9bmV3IGcoYixcImp1c3RpZnlyaWdodFwiLFwicmlnaHRcIiksaz1uZXcgZyhiLFwianVzdGlmeWJsb2NrXCIsXCJqdXN0aWZ5XCIpO2IuYWRkQ29tbWFuZChcImp1c3RpZnlsZWZ0XCIsYyk7Yi5hZGRDb21tYW5kKFwianVzdGlmeWNlbnRlclwiLG0pO2IuYWRkQ29tbWFuZChcImp1c3RpZnlyaWdodFwiLGwpO2IuYWRkQ29tbWFuZChcImp1c3RpZnlibG9ja1wiLGspO2IudWkuYWRkQnV0dG9uJiYoYi51aS5hZGRCdXR0b24oXCJKdXN0aWZ5TGVmdFwiLHtsYWJlbDpiLmxhbmcuY29tbW9uLmFsaWduTGVmdCxjb21tYW5kOlwianVzdGlmeWxlZnRcIix0b29sYmFyOlwiYWxpZ24sMTBcIn0pLFxuYi51aS5hZGRCdXR0b24oXCJKdXN0aWZ5Q2VudGVyXCIse2xhYmVsOmIubGFuZy5jb21tb24uY2VudGVyLGNvbW1hbmQ6XCJqdXN0aWZ5Y2VudGVyXCIsdG9vbGJhcjpcImFsaWduLDIwXCJ9KSxiLnVpLmFkZEJ1dHRvbihcIkp1c3RpZnlSaWdodFwiLHtsYWJlbDpiLmxhbmcuY29tbW9uLmFsaWduUmlnaHQsY29tbWFuZDpcImp1c3RpZnlyaWdodFwiLHRvb2xiYXI6XCJhbGlnbiwzMFwifSksYi51aS5hZGRCdXR0b24oXCJKdXN0aWZ5QmxvY2tcIix7bGFiZWw6Yi5sYW5nLmNvbW1vbi5qdXN0aWZ5LGNvbW1hbmQ6XCJqdXN0aWZ5YmxvY2tcIix0b29sYmFyOlwiYWxpZ24sNDBcIn0pKTtiLm9uKFwiZGlyQ2hhbmdlZFwiLGUpfX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhLGIsYyxkKXtmb3IodmFyIGY9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGIucm9vdCxjKSxlPVtdLGc9MDtnPGIuY29udGVudHMubGVuZ3RoO2crKyl7dmFyIGg9Yi5jb250ZW50c1tnXTsoaD1oLmdldEFzY2VuZGFudChcImxpXCIsXG4hMCkpJiYhaC5nZXRDdXN0b21EYXRhKFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiKSYmKGUucHVzaChoKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoYyxoLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLCEwKSl9Zm9yKHZhciBoPWIucm9vdC5nZXREb2N1bWVudCgpLGssbCxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBuPWVbZ10uZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKTtrPWZbbl0ucGFyZW50O2suaXModGhpcy50eXBlKXx8KGw9aC5jcmVhdGVFbGVtZW50KHRoaXMudHlwZSksay5jb3B5QXR0cmlidXRlcyhsLHtzdGFydDoxLHR5cGU6MX0pLGwucmVtb3ZlU3R5bGUoXCJsaXN0LXN0eWxlLXR5cGVcIiksZltuXS5wYXJlbnQ9bCl9Yz1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoZixjLG51bGwsYS5jb25maWcuZW50ZXJNb2RlKTtmb3IodmFyIG0sZj1jLmxpc3ROb2RlLmdldENoaWxkQ291bnQoKSxnPTA7ZzxmJiYobT1jLmxpc3ROb2RlLmdldENoaWxkKGcpKTtnKyspbS5nZXROYW1lKCk9PVxudGhpcy50eXBlJiZkLnB1c2gobSk7Yy5saXN0Tm9kZS5yZXBsYWNlKGIucm9vdCk7YS5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpfWZ1bmN0aW9uIGcoYSxiLGMpe3ZhciBkPWIuY29udGVudHMsZj1iLnJvb3QuZ2V0RG9jdW1lbnQoKSxlPVtdO2lmKDE9PWQubGVuZ3RoJiZkWzBdLmVxdWFscyhiLnJvb3QpKXt2YXIgZz1mLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZFswXS5tb3ZlQ2hpbGRyZW4mJmRbMF0ubW92ZUNoaWxkcmVuKGcpO2RbMF0uYXBwZW5kKGcpO2RbMF09Z31iPWIuY29udGVudHNbMF0uZ2V0UGFyZW50KCk7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKyliPWIuZ2V0Q29tbW9uQW5jZXN0b3IoZFtnXS5nZXRQYXJlbnQoKSk7YT1hLmNvbmZpZy51c2VDb21wdXRlZFN0YXRlO3ZhciBoLGs7YT12b2lkIDA9PT1hfHxhO2ZvcihnPTA7ZzxkLmxlbmd0aDtnKyspZm9yKHZhciBsPWRbZ10sbjtuPWwuZ2V0UGFyZW50KCk7KXtpZihuLmVxdWFscyhiKSl7ZS5wdXNoKGwpOyFrJiZcbmwuZ2V0RGlyZWN0aW9uKCkmJihrPTEpO2w9bC5nZXREaXJlY3Rpb24oYSk7bnVsbCE9PWgmJihoPWgmJmghPWw/bnVsbDpsKTticmVha31sPW59aWYoISgxPmUubGVuZ3RoKSl7ZD1lW2UubGVuZ3RoLTFdLmdldE5leHQoKTtnPWYuY3JlYXRlRWxlbWVudCh0aGlzLnR5cGUpO2ZvcihjLnB1c2goZyk7ZS5sZW5ndGg7KWM9ZS5zaGlmdCgpLGE9Zi5jcmVhdGVFbGVtZW50KFwibGlcIiksbD1jLGwuaXMoXCJwcmVcIil8fHAudGVzdChsLmdldE5hbWUoKSl8fFwiZmFsc2VcIj09bC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/Yy5hcHBlbmRUbyhhKTooYy5jb3B5QXR0cmlidXRlcyhhKSxoJiZjLmdldERpcmVjdGlvbigpJiYoYS5yZW1vdmVTdHlsZShcImRpcmVjdGlvblwiKSxhLnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKSksYy5tb3ZlQ2hpbGRyZW4oYSksYy5yZW1vdmUoKSksYS5hcHBlbmRUbyhnKTtoJiZrJiZnLnNldEF0dHJpYnV0ZShcImRpclwiLGgpO2Q/Zy5pbnNlcnRCZWZvcmUoZCk6XG5nLmFwcGVuZFRvKGIpfX1mdW5jdGlvbiBlKGEsYixjKXtmdW5jdGlvbiBkKGMpe2lmKCEoIShsPWtbYz9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCkpfHxsLmlzJiZsLmlzQmxvY2tCb3VuZGFyeSgpfHwhKG49Yi5yb290W2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSghMCkpKXx8bi5pcyYmbi5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KSkpYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIilbYz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0obCl9Zm9yKHZhciBmPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShiLnJvb3QsYyksZT1bXSxnPTA7ZzxiLmNvbnRlbnRzLmxlbmd0aDtnKyspe3ZhciBoPWIuY29udGVudHNbZ107KGg9aC5nZXRBc2NlbmRhbnQoXCJsaVwiLCEwKSkmJiFoLmdldEN1c3RvbURhdGEoXCJsaXN0X2l0ZW1fcHJvY2Vzc2VkXCIpJiYoZS5wdXNoKGgpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihjLFxuaCxcImxpc3RfaXRlbV9wcm9jZXNzZWRcIiwhMCkpfWg9bnVsbDtmb3IoZz0wO2c8ZS5sZW5ndGg7ZysrKWg9ZVtnXS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpLGZbaF0uaW5kZW50PS0xO2ZvcihnPWgrMTtnPGYubGVuZ3RoO2crKylpZihmW2ddLmluZGVudD5mW2ctMV0uaW5kZW50KzEpe2U9ZltnLTFdLmluZGVudCsxLWZbZ10uaW5kZW50O2ZvcihoPWZbZ10uaW5kZW50O2ZbZ10mJmZbZ10uaW5kZW50Pj1oOylmW2ddLmluZGVudCs9ZSxnKys7Zy0tfXZhciBrPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChmLGMsbnVsbCxhLmNvbmZpZy5lbnRlck1vZGUsYi5yb290LmdldEF0dHJpYnV0ZShcImRpclwiKSkubGlzdE5vZGUsbCxuO2QoITApO2QoKTtrLnJlcGxhY2UoYi5yb290KTthLmZpcmUoXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIil9ZnVuY3Rpb24gYihhLGIpe3RoaXMubmFtZT1hO3RoaXMuY29udGV4dD10aGlzLnR5cGU9Yjt0aGlzLmFsbG93ZWRDb250ZW50PVxuYitcIiBsaVwiO3RoaXMucmVxdWlyZWRDb250ZW50PWJ9ZnVuY3Rpb24gaChhLGIsYyxkKXtmb3IodmFyIGYsZTtmPWFbZD9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKHEpOykoZT1mLmdldERpcmVjdGlvbigxKSkhPT1iLmdldERpcmVjdGlvbigxKSYmZi5zZXRBdHRyaWJ1dGUoXCJkaXJcIixlKSxmLnJlbW92ZSgpLGM/ZltkP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShjKTpiLmFwcGVuZChmLGQpLGM9Zn1mdW5jdGlvbiBtKGEpe2Z1bmN0aW9uIGIoYyl7dmFyIGQ9YVtjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0ocik7ZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXMoYS5nZXROYW1lKCkpJiYoaChhLGQsbnVsbCwhYyksYS5yZW1vdmUoKSxhPWQpfWIoKTtiKDEpfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGJsb2NrfHxhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiZcbkNLRURJVE9SLmR0ZFthLmdldE5hbWUoKV1bXCIjXCJdfWZ1bmN0aW9uIGsoYSxiLGMpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFMpO3ZhciBmPWMuZXh0cmFjdENvbnRlbnRzKCk7Yi50cmltKCExLCEwKTt2YXIgZT1iLmNyZWF0ZUJvb2ttYXJrKCksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGIuc3RhcnRDb250YWluZXIpLGs9Zy5ibG9jayxnPWcubGFzdEVsZW1lbnQuZ2V0QXNjZW5kYW50KFwibGlcIiwxKXx8ayxsPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5zdGFydENvbnRhaW5lciksbj1sLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pLGw9bC5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2s/KGs9ay5nZXRCb2d1cygpKSYmay5yZW1vdmUoKTpsJiYoaz1sLmdldFByZXZpb3VzKHIpKSYmeChrKSYmay5yZW1vdmUoKTsoaz1mLmdldExhc3QoKSkmJmsudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmsuaXMoXCJiclwiKSYmay5yZW1vdmUoKTsoaz1iLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQpKT9mLmluc2VydEJlZm9yZShrKTpiLnN0YXJ0Q29udGFpbmVyLmFwcGVuZChmKTtuJiYoZj1kKG4pKSYmKGcuY29udGFpbnMobik/KGgoZixuLmdldFBhcmVudCgpLG4pLGYucmVtb3ZlKCkpOmcuYXBwZW5kKGYpKTtmb3IoO2MuY2hlY2tTdGFydE9mQmxvY2soKSYmYy5jaGVja0VuZE9mQmxvY2soKTspe2w9Yy5zdGFydFBhdGgoKTtmPWwuYmxvY2s7aWYoIWYpYnJlYWs7Zi5pcyhcImxpXCIpJiYoZz1mLmdldFBhcmVudCgpLGYuZXF1YWxzKGcuZ2V0TGFzdChyKSkmJmYuZXF1YWxzKGcuZ2V0Rmlyc3QocikpJiYoZj1nKSk7Yy5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7Zi5yZW1vdmUoKX1jPWMuY2xvbmUoKTtmPWEuZWRpdGFibGUoKTtjLnNldEVuZEF0KGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Yz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTtcbmMuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiByKGEpJiYheChhKX07KGM9Yy5uZXh0KCkpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3QmJm0oYyk7Yi5tb3ZlVG9Cb29rbWFyayhlKTtiLnNlbGVjdCgpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1mdW5jdGlvbiBkKGEpe3JldHVybihhPWEuZ2V0TGFzdChyKSkmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmdldE5hbWUoKWluIGY/YTpudWxsfXZhciBmPXtvbDoxLHVsOjF9LGE9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLG49Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpLHI9ZnVuY3Rpb24oYil7cmV0dXJuIShhKGIpfHxuKGIpKX0seD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7Q0tFRElUT1IucGx1Z2lucy5saXN0PXtsaXN0VG9BcnJheTpmdW5jdGlvbihhLGIsYyxkLGUpe2lmKCFmW2EuZ2V0TmFtZSgpXSlyZXR1cm5bXTtcbmR8fChkPTApO2N8fChjPVtdKTtmb3IodmFyIGc9MCxoPWEuZ2V0Q2hpbGRDb3VudCgpO2c8aDtnKyspe3ZhciBrPWEuZ2V0Q2hpbGQoZyk7ay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0JiZDS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoayxiLGMsZCsxKTtpZihcImxpXCI9PWsuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgbD17cGFyZW50OmEsaW5kZW50OmQsZWxlbWVudDprLGNvbnRlbnRzOltdfTtlP2wuZ3JhbmRwYXJlbnQ9ZToobC5ncmFuZHBhcmVudD1hLmdldFBhcmVudCgpLGwuZ3JhbmRwYXJlbnQmJlwibGlcIj09bC5ncmFuZHBhcmVudC4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihsLmdyYW5kcGFyZW50PWwuZ3JhbmRwYXJlbnQuZ2V0UGFyZW50KCkpKTtiJiZDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoYixrLFwibGlzdGFycmF5X2luZGV4XCIsYy5sZW5ndGgpO2MucHVzaChsKTtcbmZvcih2YXIgbj0wLG09ay5nZXRDaGlsZENvdW50KCkscjtuPG07bisrKXI9ay5nZXRDaGlsZChuKSxyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZltyLmdldE5hbWUoKV0/Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KHIsYixjLGQrMSxsLmdyYW5kcGFyZW50KTpsLmNvbnRlbnRzLnB1c2gocil9fXJldHVybiBjfSxhcnJheVRvTGlzdDpmdW5jdGlvbihhLGIsYyxkLGUpe2N8fChjPTApO2lmKCFhfHxhLmxlbmd0aDxjKzEpcmV0dXJuIG51bGw7Zm9yKHZhciBnLGg9YVtjXS5wYXJlbnQuZ2V0RG9jdW1lbnQoKSxrPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChoKSxsPW51bGwsbT1jLHE9TWF0aC5tYXgoYVtjXS5pbmRlbnQsMCkscD1udWxsLHgsRCxPPWQ9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIjs7KXt2YXIgSz1hW21dO2c9Sy5ncmFuZHBhcmVudDt4PUsuZWxlbWVudC5nZXREaXJlY3Rpb24oMSk7aWYoSy5pbmRlbnQ9PXEpe2wmJmFbbV0ucGFyZW50LmdldE5hbWUoKT09XG5sLmdldE5hbWUoKXx8KGw9YVttXS5wYXJlbnQuY2xvbmUoITEsMSksZSYmbC5zZXRBdHRyaWJ1dGUoXCJkaXJcIixlKSxrLmFwcGVuZChsKSk7cD1sLmFwcGVuZChLLmVsZW1lbnQuY2xvbmUoMCwxKSk7eCE9bC5nZXREaXJlY3Rpb24oMSkmJnAuc2V0QXR0cmlidXRlKFwiZGlyXCIseCk7Zm9yKGc9MDtnPEsuY29udGVudHMubGVuZ3RoO2crKylwLmFwcGVuZChLLmNvbnRlbnRzW2ddLmNsb25lKDEsMSkpO20rK31lbHNlIGlmKEsuaW5kZW50PT1NYXRoLm1heChxLDApKzEpSz1hW20tMV0uZWxlbWVudC5nZXREaXJlY3Rpb24oMSksbT1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoYSxudWxsLG0sZCxLIT14P3g6bnVsbCksIXAuZ2V0Q2hpbGRDb3VudCgpJiZDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyJiY3Pj1oLiQuZG9jdW1lbnRNb2RlJiZwLmFwcGVuZChoLmNyZWF0ZVRleHQoXCLCoFwiKSkscC5hcHBlbmQobS5saXN0Tm9kZSksbT1tLm5leHRJbmRleDtlbHNlIGlmKC0xPT1cbksuaW5kZW50JiYhYyYmZyl7ZltnLmdldE5hbWUoKV0/KHA9Sy5lbGVtZW50LmNsb25lKCExLCEwKSx4IT1nLmdldERpcmVjdGlvbigxKSYmcC5zZXRBdHRyaWJ1dGUoXCJkaXJcIix4KSk6cD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoaCk7dmFyIGw9Zy5nZXREaXJlY3Rpb24oMSkhPXgsTT1LLmVsZW1lbnQsQT1NLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLE49TS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSxKPXAudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmKGQhPUNLRURJVE9SLkVOVEVSX0JSfHxsfHxOfHxBKSxJLGVhPUsuY29udGVudHMubGVuZ3RoLFU7Zm9yKGc9MDtnPGVhO2crKylpZihJPUsuY29udGVudHNbZ10sbihJKSYmMTxlYSlKP1U9SS5jbG9uZSgxLDEpOnAuYXBwZW5kKEkuY2xvbmUoMSwxKSk7ZWxzZSBpZihJLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmSS5pc0Jsb2NrQm91bmRhcnkoKSl7bCYmIUkuZ2V0RGlyZWN0aW9uKCkmJlxuSS5zZXRBdHRyaWJ1dGUoXCJkaXJcIix4KTtEPUk7dmFyIFk9TS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtZJiZELnNldEF0dHJpYnV0ZShcInN0eWxlXCIsWS5yZXBsYWNlKC8oW147XSkkLyxcIiQxO1wiKSsoRC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIikpO0EmJkkuYWRkQ2xhc3MoQSk7RD1udWxsO1UmJihwLmFwcGVuZChVKSxVPW51bGwpO3AuYXBwZW5kKEkuY2xvbmUoMSwxKSl9ZWxzZSBKPyhEfHwoRD1oLmNyZWF0ZUVsZW1lbnQoTykscC5hcHBlbmQoRCksbCYmRC5zZXRBdHRyaWJ1dGUoXCJkaXJcIix4KSksTiYmRC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLE4pLEEmJkQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixBKSxVJiYoRC5hcHBlbmQoVSksVT1udWxsKSxELmFwcGVuZChJLmNsb25lKDEsMSkpKTpwLmFwcGVuZChJLmNsb25lKDEsMSkpO1UmJigoRHx8cCkuYXBwZW5kKFUpLFU9bnVsbCk7cC50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiZtIT1hLmxlbmd0aC0xJiYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJlxuKHg9cC5nZXRMYXN0KCkpJiZ4LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmeC5pcyhcImJyXCIpJiZ4LnJlbW92ZSgpLCh4PXAuZ2V0TGFzdChyKSkmJngudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ4LmlzKENLRURJVE9SLmR0ZC4kYmxvY2spfHxwLmFwcGVuZChoLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSkpO3g9cC4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJkaXZcIiE9eCYmXCJwXCIhPXh8fHAuYXBwZW5kQm9ndXMoKTtrLmFwcGVuZChwKTtsPW51bGw7bSsrfWVsc2UgcmV0dXJuIG51bGw7RD1udWxsO2lmKGEubGVuZ3RoPD1tfHxNYXRoLm1heChhW21dLmluZGVudCwwKTxxKWJyZWFrfWlmKGIpZm9yKGE9ay5nZXRGaXJzdCgpO2E7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2VycyhiLGEpLGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSYmKGM9YSxoPWU9ZD12b2lkIDAsZD1jLmdldERpcmVjdGlvbigpKSkpe2ZvcihlPVxuYy5nZXRQYXJlbnQoKTtlJiYhKGg9ZS5nZXREaXJlY3Rpb24oKSk7KWU9ZS5nZXRQYXJlbnQoKTtkPT1oJiZjLnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKX1hPWEuZ2V0TmV4dFNvdXJjZU5vZGUoKX1yZXR1cm57bGlzdE5vZGU6ayxuZXh0SW5kZXg6bX19fTt2YXIgcD0vXmhbMS02XSQvLHE9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2IucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGZbYS5yb290LmdldE5hbWUoKV0mJiFkKGEucm9vdCxbQ0tFRElUT1IuTk9ERV9DT01NRU5UXSl9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5maWx0ZXIoYS5nZXRDaGlsZHJlbigpLnRvQXJyYXkoKSxmdW5jdGlvbihhKXtyZXR1cm4tMT09PUNLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2YoYixhLnR5cGUpfSkubGVuZ3RofWZ1bmN0aW9uIGgoYSl7dmFyIGI9ITA7aWYoMD09PWEuZ2V0Q2hpbGRDb3VudCgpKXJldHVybiExO1xuYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGEudHlwZSE9PUNLRURJVE9SLk5PREVfQ09NTUVOVClyZXR1cm4gYj0hMX0sbnVsbCwhMCk7cmV0dXJuIGJ9dGhpcy5yZWZyZXNoKGEsYS5lbGVtZW50UGF0aCgpKTt2YXIgaz1hLmNvbmZpZyxsPWEuZ2V0U2VsZWN0aW9uKCksbj1sJiZsLmdldFJhbmdlcygpO2lmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7dmFyIHE9YS5lZGl0YWJsZSgpO2lmKHEuZ2V0Rmlyc3Qocikpe3ZhciBwPTE9PW4ubGVuZ3RoJiZuWzBdOyhrPXAmJnAuZ2V0RW5jbG9zZWROb2RlKCkpJiZrLmlzJiZ0aGlzLnR5cGU9PWsuZ2V0TmFtZSgpJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKX1lbHNlIGsuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9xLmFwcGVuZEJvZ3VzKCk6blswXS5maXhCbG9jaygxLGsuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLGwuc2VsZWN0UmFuZ2VzKG4pfWZvcih2YXIgaz1cbmwuY3JlYXRlQm9va21hcmtzKCEwKSxxPVtdLHg9e30sbj1uLmNyZWF0ZUl0ZXJhdG9yKCksRz0wOyhwPW4uZ2V0TmV4dFJhbmdlKCkpJiYrK0c7KXt2YXIgTD1wLmdldEJvdW5kYXJ5Tm9kZXMoKSxFPUwuc3RhcnROb2RlLEQ9TC5lbmROb2RlO0UudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PUUuZ2V0TmFtZSgpJiZwLnNldFN0YXJ0QXQoTC5zdGFydE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO0QudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PUQuZ2V0TmFtZSgpJiZwLnNldEVuZEF0KEwuZW5kTm9kZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtwPXAuY3JlYXRlSXRlcmF0b3IoKTtmb3IocC5mb3JjZUJyQnJlYWs9dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO0w9cC5nZXROZXh0UGFyYWdyYXBoKCk7KWlmKCFMLmdldEN1c3RvbURhdGEoXCJsaXN0X2Jsb2NrXCIpJiYhaChMKSl7Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKHgsXG5MLFwibGlzdF9ibG9ja1wiLDEpO2Zvcih2YXIgTz1hLmVsZW1lbnRQYXRoKEwpLEU9Ty5lbGVtZW50cyxEPTAsTz1PLmJsb2NrTGltaXQsSyxNPUUubGVuZ3RoLTE7MDw9TSYmKEs9RVtNXSk7TS0tKWlmKGZbSy5nZXROYW1lKCldJiZPLmNvbnRhaW5zKEspKXtPLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIitHKTsoRT1LLmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdFwiKSk/RS5jb250ZW50cy5wdXNoKEwpOihFPXtyb290OkssY29udGVudHM6W0xdfSxxLnB1c2goRSksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKHgsSyxcImxpc3RfZ3JvdXBfb2JqZWN0XCIsRSkpO0Q9MTticmVha31EfHwoRD1PLEQuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK0cpP0QuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK0cpLmNvbnRlbnRzLnB1c2goTCk6KEU9e3Jvb3Q6RCxjb250ZW50czpbTF19LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcih4LFxuRCxcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK0csRSkscS5wdXNoKEUpKSl9fWZvcihLPVtdOzA8cS5sZW5ndGg7KUU9cS5zaGlmdCgpLHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj9iKEUpfHwoZltFLnJvb3QuZ2V0TmFtZSgpXT9jLmNhbGwodGhpcyxhLEUseCxLKTpnLmNhbGwodGhpcyxhLEUsSykpOnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZmW0Uucm9vdC5nZXROYW1lKCldJiYhYihFKSYmZS5jYWxsKHRoaXMsYSxFLHgpO2ZvcihNPTA7TTxLLmxlbmd0aDtNKyspbShLW01dKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoeCk7bC5zZWxlY3RCb29rbWFya3Moayk7YS5mb2N1cygpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jb250YWlucyhmLDEpLGQ9Yi5ibG9ja0xpbWl0fHxiLnJvb3Q7YyYmZC5jb250YWlucyhjKT90aGlzLnNldFN0YXRlKGMuaXModGhpcy50eXBlKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpOlxudGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaXN0XCIse3JlcXVpcmVzOlwiaW5kZW50bGlzdFwiLGluaXQ6ZnVuY3Rpb24oYSl7YS5ibG9ja2xlc3N8fChhLmFkZENvbW1hbmQoXCJudW1iZXJlZGxpc3RcIixuZXcgYihcIm51bWJlcmVkbGlzdFwiLFwib2xcIikpLGEuYWRkQ29tbWFuZChcImJ1bGxldGVkbGlzdFwiLG5ldyBiKFwiYnVsbGV0ZWRsaXN0XCIsXCJ1bFwiKSksYS51aS5hZGRCdXR0b24mJihhLnVpLmFkZEJ1dHRvbihcIk51bWJlcmVkTGlzdFwiLHtsYWJlbDphLmxhbmcubGlzdC5udW1iZXJlZGxpc3QsY29tbWFuZDpcIm51bWJlcmVkbGlzdFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJsaXN0LDEwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIkJ1bGxldGVkTGlzdFwiLHtsYWJlbDphLmxhbmcubGlzdC5idWxsZXRlZGxpc3QsY29tbWFuZDpcImJ1bGxldGVkbGlzdFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJsaXN0LDIwXCJ9KSksYS5vbihcImtleVwiLFxuZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpLGU7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSYmYyBpbns4OjEsNDY6MX0pe3ZhciBnPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0saD1nJiZnLnN0YXJ0UGF0aCgpO2lmKGcmJmcuY29sbGFwc2VkKXt2YXIgbj04PT1jLG09YS5lZGl0YWJsZSgpLHE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZy5jbG9uZSgpKTtxLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gcihhKSYmIXgoYSl9O3EuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hKGImJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKFwidGFibGVcIikpfTtjPWcuY2xvbmUoKTtpZihuKXt2YXIgcDsocD1oLmNvbnRhaW5zKGYpKSYmZy5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KHAsQ0tFRElUT1IuU1RBUlQpJiYocD1wLmdldFBhcmVudCgpKSYmcC5pcyhcImxpXCIpJiYocD1kKHApKT8oZT1wLHA9cC5nZXRQcmV2aW91cyhyKSxjLm1vdmVUb1Bvc2l0aW9uKHAmJlxueChwKT9wOmUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk6KHEucmFuZ2Uuc2V0U3RhcnRBdChtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxxLnJhbmdlLnNldEVuZChnLnN0YXJ0Q29udGFpbmVyLGcuc3RhcnRPZmZzZXQpLChwPXEucHJldmlvdXMoKSkmJnAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYocC5nZXROYW1lKClpbiBmfHxwLmlzKFwibGlcIikpJiYocC5pcyhcImxpXCIpfHwocS5yYW5nZS5zZWxlY3ROb2RlQ29udGVudHMocCkscS5yZXNldCgpLHEuZXZhbHVhdG9yPWwscD1xLnByZXZpb3VzKCkpLGU9cCxjLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGUpLGMubW92ZVRvUG9zaXRpb24oYy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpKTtpZihlKWsoYSxjLGcpLGIuY2FuY2VsKCk7ZWxzZXt2YXIgRz1oLmNvbnRhaW5zKGYpO0cmJmcuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChHLENLRURJVE9SLlNUQVJUKSYmKGU9XG5HLmdldEZpcnN0KHIpLGcuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChlLENLRURJVE9SLlNUQVJUKSYmKHA9Ry5nZXRQcmV2aW91cyhyKSxkKGUpP3AmJihnLm1vdmVUb0VsZW1lbnRFZGl0RW5kKHApLGcuc2VsZWN0KCkpOmEuZXhlY0NvbW1hbmQoXCJvdXRkZW50XCIpLGIuY2FuY2VsKCkpKX19ZWxzZSBpZihlPWguY29udGFpbnMoXCJsaVwiKSl7aWYocS5yYW5nZS5zZXRFbmRBdChtLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLG49KG09ZS5nZXRMYXN0KHIpKSYmbChtKT9tOmUsaD0wLChwPXEubmV4dCgpKSYmcC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnAuZ2V0TmFtZSgpaW4gZiYmcC5lcXVhbHMobSk/KGg9MSxwPXEubmV4dCgpKTpnLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQobixDS0VESVRPUi5FTkQpJiYoaD0yKSxoJiZwKXtnPWcuY2xvbmUoKTtnLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQocCk7aWYoMT09aCYmKGMub3B0aW1pemUoKSwhYy5zdGFydENvbnRhaW5lci5lcXVhbHMoZSkpKXtmb3IoZT1cbmMuc3RhcnRDb250YWluZXI7ZS5pcyhDS0VESVRPUi5kdGQuJGlubGluZSk7KUc9ZSxlPWUuZ2V0UGFyZW50KCk7RyYmYy5tb3ZlVG9Qb3NpdGlvbihHLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9Mj09aCYmKGMubW92ZVRvUG9zaXRpb24oYy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksZy5lbmRQYXRoKCkuYmxvY2smJmcubW92ZVRvUG9zaXRpb24oZy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTtrKGEsYyxnKTtiLmNhbmNlbCgpfX1lbHNlIHEucmFuZ2Uuc2V0RW5kQXQobSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSwocD1xLm5leHQoKSkmJnAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZwLmlzKGYpJiYocD1wLmdldEZpcnN0KHIpLGguYmxvY2smJmcuY2hlY2tTdGFydE9mQmxvY2soKSYmZy5jaGVja0VuZE9mQmxvY2soKT8oaC5ibG9jay5yZW1vdmUoKSxnLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQocCksXG5nLnNlbGVjdCgpKTpkKHApPyhnLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQocCksZy5zZWxlY3QoKSk6KGc9Zy5jbG9uZSgpLGcubW92ZVRvRWxlbWVudEVkaXRTdGFydChwKSxrKGEsYyxnKSksYi5jYW5jZWwoKSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Euc2VsZWN0aW9uQ2hhbmdlKDEpfSl9fX0pKX19KX0pKCk7KGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZWZyb213b3JkXCIse3JlcXVpcmVzOlwicGFzdGV0b29sc1wiLGluaXQ6ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZyhiKXt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLnBhc3RlZnJvbXdvcmQmJkNLRURJVE9SLnBsdWdpbnMucGFzdGVmcm9td29yZC5pbWFnZXMsZCxmPVtdO2lmKGMmJmIuZWRpdG9yLmZpbHRlci5jaGVjayhcImltZ1tzcmNdXCIpJiYoZD1jLmV4dHJhY3RUYWdzRnJvbUh0bWwoYi5kYXRhLmRhdGFWYWx1ZSksMCE9PWQubGVuZ3RoJiYoYz1jLmV4dHJhY3RGcm9tUnRmKGIuZGF0YS5kYXRhVHJhbnNmZXJbXCJ0ZXh0L3J0ZlwiXSksXG4wIT09Yy5sZW5ndGgmJihDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGMsZnVuY3Rpb24oYSl7Zi5wdXNoKGEudHlwZT9cImRhdGE6XCIrYS50eXBlK1wiO2Jhc2U2NCxcIitDS0VESVRPUi50b29scy5jb252ZXJ0Qnl0ZXNUb0Jhc2U2NChDS0VESVRPUi50b29scy5jb252ZXJ0SGV4U3RyaW5nVG9CeXRlcyhhLmhleCkpOm51bGwpfSx0aGlzKSxkLmxlbmd0aD09PWYubGVuZ3RoKSkpKWZvcihjPTA7YzxkLmxlbmd0aDtjKyspMD09PWRbY10uaW5kZXhPZihcImZpbGU6Ly9cIikmJmZbY10mJihiLmRhdGEuZGF0YVZhbHVlPWIuZGF0YS5kYXRhVmFsdWUucmVwbGFjZShkW2NdLGZbY10pKX12YXIgZT0wLGI9Q0tFRElUT1IucGx1Z2lucy5nZXRQYXRoKFwicGFzdGV0b29sc1wiKSxoPXRoaXMucGF0aCxtPXZvaWQgMD09PWMuY29uZmlnLnBhc3RlRnJvbVdvcmRfaW5saW5lSW1hZ2VzPyEwOmMuY29uZmlnLnBhc3RlRnJvbVdvcmRfaW5saW5lSW1hZ2VzLGI9W0NLRURJVE9SLmdldFVybChiK1wiZmlsdGVyL2NvbW1vbi5qc1wiKSxcbkNLRURJVE9SLmdldFVybChoK1wiZmlsdGVyL2RlZmF1bHQuanNcIildO2MuYWRkQ29tbWFuZChcInBhc3RlZnJvbXdvcmRcIix7Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGIsYyl7ZT0xO2IuZXhlY0NvbW1hbmQoXCJwYXN0ZVwiLHt0eXBlOlwiaHRtbFwiLG5vdGlmaWNhdGlvbjpjJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGMubm90aWZpY2F0aW9uP2Mubm90aWZpY2F0aW9uOiEwfSl9fSk7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuYWRkUGFzdGVCdXR0b24oYyxcIlBhc3RlRnJvbVdvcmRcIix7bGFiZWw6Yy5sYW5nLnBhc3RlZnJvbXdvcmQudG9vbGJhcixjb21tYW5kOlwicGFzdGVmcm9td29yZFwiLHRvb2xiYXI6XCJjbGlwYm9hcmQsNTBcIn0pO2MucGFzdGVUb29scy5yZWdpc3Rlcih7ZmlsdGVyczpjLmNvbmZpZy5wYXN0ZUZyb21Xb3JkQ2xlYW51cEZpbGU/W2MuY29uZmlnLnBhc3RlRnJvbVdvcmRDbGVhbnVwRmlsZV06YixjYW5IYW5kbGU6ZnVuY3Rpb24oYil7Yj1DS0VESVRPUi5wbHVnaW5zLnBhc3RldG9vbHMuZ2V0Q2xpcGJvYXJkRGF0YShiLmRhdGEsXG5cInRleHQvaHRtbFwiKTt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLnBhc3RldG9vbHMuZ2V0Q29udGVudEdlbmVyYXRvck5hbWUoYiksZD0vKGNsYXNzPVwiP01zb3xzdHlsZT1bXCInXVteXCJdKj9cXGJtc29cXC18dzpXb3JkRG9jdW1lbnR8PG86XFx3Kz58PFxcL2ZvbnQ+KS8sYz1jP1wibWljcm9zb2Z0XCI9PT1jOmQudGVzdChiKTtyZXR1cm4gYiYmKGV8fGMpfSxoYW5kbGU6ZnVuY3Rpb24oYixnKXt2YXIgZD1iLmRhdGEsZj1DS0VESVRPUi5wbHVnaW5zLnBhc3RldG9vbHMuZ2V0Q2xpcGJvYXJkRGF0YShkLFwidGV4dC9odG1sXCIpLGE9Q0tFRElUT1IucGx1Z2lucy5wYXN0ZXRvb2xzLmdldENsaXBib2FyZERhdGEoZCxcInRleHQvcnRmXCIpLGY9e2RhdGFWYWx1ZTpmLGRhdGFUcmFuc2Zlcjp7XCJ0ZXh0L3J0ZlwiOmF9fTtpZighMSE9PWMuZmlyZShcInBhc3RlRnJvbVdvcmRcIixmKXx8ZSl7ZC5kb250RmlsdGVyPSEwO2lmKGV8fCFjLmNvbmZpZy5wYXN0ZUZyb21Xb3JkUHJvbXB0Q2xlYW51cHx8Y29uZmlybShjLmxhbmcucGFzdGVmcm9td29yZC5jb25maXJtQ2xlYW51cCkpZi5kYXRhVmFsdWU9XG5DS0VESVRPUi5jbGVhbldvcmQoZi5kYXRhVmFsdWUsYyksYy5maXJlKFwiYWZ0ZXJQYXN0ZUZyb21Xb3JkXCIsZiksZC5kYXRhVmFsdWU9Zi5kYXRhVmFsdWUsITA9PT1jLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHQ/ZC50eXBlPVwidGV4dFwiOkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZHx8XCJhbGxvdy13b3JkXCIhPT1jLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHR8fChkLnR5cGU9XCJodG1sXCIpO2U9MDtnKCl9fX0pO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkJiZtKWMub24oXCJhZnRlclBhc3RlRnJvbVdvcmRcIixnKX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhiLGMpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5maWx0ZXIoYixmdW5jdGlvbihiKXtyZXR1cm4gYi5jYW5IYW5kbGUoYyl9KS5zb3J0KGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGIucHJpb3JpdHk9PT1cbmMucHJpb3JpdHk/MDpiLnByaW9yaXR5LWMucHJpb3JpdHl9KX1mdW5jdGlvbiBnKGIsYyl7dmFyIGQ9Yi5zaGlmdCgpO2QmJmQuaGFuZGxlKGMsZnVuY3Rpb24oKXtnKGIsYyl9KX1mdW5jdGlvbiBlKGIpe3ZhciBjPUNLRURJVE9SLnRvb2xzLmFycmF5LnJlZHVjZShiLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LmlzQXJyYXkoYy5maWx0ZXJzKT9iLmNvbmNhdChjLmZpbHRlcnMpOmJ9LFtdKTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkuZmlsdGVyKGMsZnVuY3Rpb24oYixmKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkuaW5kZXhPZihjLGIpPT09Zn0pfWZ1bmN0aW9uIGIoYixjKXt2YXIgZD0wLGYsYTtpZighQ0tFRElUT1IudG9vbHMuYXJyYXkuaXNBcnJheShiKXx8MD09PWIubGVuZ3RoKXJldHVybiEwO2Y9Q0tFRElUT1IudG9vbHMuYXJyYXkuZmlsdGVyKGIsZnVuY3Rpb24oYSl7cmV0dXJuLTE9PT1DS0VESVRPUi50b29scy5hcnJheS5pbmRleE9mKGgsXG5hKX0pO2lmKDA8Zi5sZW5ndGgpZm9yKGE9MDthPGYubGVuZ3RoO2ErKykoZnVuY3Rpb24oYSl7Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLnF1ZXVlKGEsZnVuY3Rpb24oYil7YiYmaC5wdXNoKGEpOysrZD09PWYubGVuZ3RoJiZjKCl9KX0pKGZbYV0pO3JldHVybiAwPT09Zi5sZW5ndGh9dmFyIGg9W10sbT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcnM9W119LHByb3RvOntyZWdpc3RlcjpmdW5jdGlvbihiKXtcIm51bWJlclwiIT09dHlwZW9mIGIucHJpb3JpdHkmJihiLnByaW9yaXR5PTEwKTt0aGlzLmhhbmRsZXJzLnB1c2goYil9LGFkZFBhc3RlTGlzdGVuZXI6ZnVuY3Rpb24oaCl7aC5vbihcInBhc3RlXCIsZnVuY3Rpb24oayl7dmFyIGQ9Yyh0aGlzLmhhbmRsZXJzLGspLGY7aWYoMCE9PWQubGVuZ3RoKXtmPWUoZCk7Zj1iKGYsZnVuY3Rpb24oKXtyZXR1cm4gaC5maXJlKFwicGFzdGVcIixrLmRhdGEpfSk7aWYoIWYpcmV0dXJuIGsuY2FuY2VsKCk7XG5nKGQsayl9fSx0aGlzLG51bGwsMyl9fX0pO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFzdGV0b29sc1wiLHtyZXF1aXJlczpcImNsaXBib2FyZFwiLGJlZm9yZUluaXQ6ZnVuY3Rpb24oYil7Yi5wYXN0ZVRvb2xzPW5ldyBtO2IucGFzdGVUb29scy5hZGRQYXN0ZUxpc3RlbmVyKGIpfX0pO0NLRURJVE9SLnBsdWdpbnMucGFzdGV0b29scz17ZmlsdGVyczp7fSxsb2FkRmlsdGVyczpiLGNyZWF0ZUZpbHRlcjpmdW5jdGlvbihiKXt2YXIgYz1DS0VESVRPUi50b29scy5hcnJheS5pc0FycmF5KGIucnVsZXMpP2IucnVsZXM6W2IucnVsZXNdLGQ9Yi5hZGRpdGlvbmFsVHJhbnNmb3JtcztyZXR1cm4gZnVuY3Rpb24oYixhKXt2YXIgZT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcixnPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcixoO2QmJihiPWQoYixhKSk7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChjLGZ1bmN0aW9uKGMpe2cuYWRkUnVsZXMoYyhiLGEsZykpfSk7XG5oPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYik7Zy5hcHBseVRvKGgpO2gud3JpdGVIdG1sKGUpO3JldHVybiBlLmdldEh0bWwoKX19LGdldENsaXBib2FyZERhdGE6ZnVuY3Rpb24oYixjKXt2YXIgZDtyZXR1cm4gQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWR8fFwidGV4dC9odG1sXCI9PT1jPyhkPWIuZGF0YVRyYW5zZmVyLmdldERhdGEoYywhMCkpfHxcInRleHQvaHRtbFwiIT09Yz9kOmIuZGF0YVZhbHVlOm51bGx9LGdldENvbmZpZ1ZhbHVlOmZ1bmN0aW9uKGIsYyl7aWYoYiYmYi5jb25maWcpe3ZhciBkPUNLRURJVE9SLnRvb2xzLGY9Yi5jb25maWcsYT1kLm9iamVjdC5rZXlzKGYpLGU9W1wicGFzdGVUb29sc19cIitjLFwicGFzdGVGcm9tV29yZF9cIitjLFwicGFzdGVGcm9tV29yZFwiK2QuY2FwaXRhbGl6ZShjLCEwKV0sZT1kLmFycmF5LmZpbmQoZSxmdW5jdGlvbihiKXtyZXR1cm4tMSE9PWQuYXJyYXkuaW5kZXhPZihhLFxuYil9KTtyZXR1cm4gZltlXX19LGdldENvbnRlbnRHZW5lcmF0b3JOYW1lOmZ1bmN0aW9uKGIpe2lmKChiPS88bWV0YVxccytuYW1lPVtcIiddP2dlbmVyYXRvcltcIiddP1xccytjb250ZW50PVtcIiddPyhcXHcrKS9naS5leGVjKGIpKSYmYi5sZW5ndGgpcmV0dXJuIGI9YlsxXS50b0xvd2VyQ2FzZSgpLDA9PT1iLmluZGV4T2YoXCJtaWNyb3NvZnRcIik/XCJtaWNyb3NvZnRcIjowPT09Yi5pbmRleE9mKFwibGlicmVvZmZpY2VcIik/XCJsaWJyZW9mZmljZVwiOlwidW5rbm93blwifX07Q0tFRElUT1IucGFzdGVGaWx0ZXJzPXt9fSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInJlbW92ZWZvcm1hdFwiLHtpbml0OmZ1bmN0aW9uKGMpe2MuYWRkQ29tbWFuZChcInJlbW92ZUZvcm1hdFwiLENLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmNvbW1hbmRzLnJlbW92ZWZvcm1hdCk7Yy51aS5hZGRCdXR0b24mJmMudWkuYWRkQnV0dG9uKFwiUmVtb3ZlRm9ybWF0XCIse2xhYmVsOmMubGFuZy5yZW1vdmVmb3JtYXQudG9vbGJhcixcbmNvbW1hbmQ6XCJyZW1vdmVGb3JtYXRcIix0b29sYmFyOlwiY2xlYW51cCwxMFwifSl9fSk7Q0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQ9e2NvbW1hbmRzOntyZW1vdmVmb3JtYXQ6e2V4ZWM6ZnVuY3Rpb24oYyl7Zm9yKHZhciBnPWMuXy5yZW1vdmVGb3JtYXRSZWdleHx8KGMuXy5yZW1vdmVGb3JtYXRSZWdleD1uZXcgUmVnRXhwKFwiXig/OlwiK2MuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3MucmVwbGFjZSgvLC9nLFwifFwiKStcIikkXCIsXCJpXCIpKSxlPWMuXy5yZW1vdmVBdHRyaWJ1dGVzfHwoYy5fLnJlbW92ZUF0dHJpYnV0ZXM9Yy5jb25maWcucmVtb3ZlRm9ybWF0QXR0cmlidXRlcy5zcGxpdChcIixcIikpLGI9Q0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQuZmlsdGVyLGg9Yy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxtPWguY3JlYXRlSXRlcmF0b3IoKSxsPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH0saztrPW0uZ2V0TmV4dFJhbmdlKCk7KXtrLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUpO1xudmFyIGQ9ay5jcmVhdGVCb29rbWFyaygpLGY9ZC5zdGFydE5vZGUsYT1kLmVuZE5vZGUsbj1mdW5jdGlvbihhKXtmb3IodmFyIGQ9Yy5lbGVtZW50UGF0aChhKSxmPWQuZWxlbWVudHMsZT0xLGg7KGg9ZltlXSkmJiFoLmVxdWFscyhkLmJsb2NrKSYmIWguZXF1YWxzKGQuYmxvY2tMaW1pdCk7ZSsrKWcudGVzdChoLmdldE5hbWUoKSkmJmIoYyxoKSYmYS5icmVha1BhcmVudChoKX07bihmKTtpZihhKWZvcihuKGEpLGY9Zi5nZXROZXh0U291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2YmJiFmLmVxdWFscyhhKTspaWYoZi5pc1JlYWRPbmx5KCkpe2lmKGYuZ2V0UG9zaXRpb24oYSkmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMpYnJlYWs7Zj1mLmdldE5leHQobCl9ZWxzZSBuPWYuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSxcImltZ1wiPT1mLmdldE5hbWUoKSYmZi5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpfHwhYihjLGYpfHwoZy50ZXN0KGYuZ2V0TmFtZSgpKT9cbmYucmVtb3ZlKDEpOihmLnJlbW92ZUF0dHJpYnV0ZXMoZSksYy5maXJlKFwicmVtb3ZlRm9ybWF0Q2xlYW51cFwiLGYpKSksZj1uO2subW92ZVRvQm9va21hcmsoZCl9Yy5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2MuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKGgpfX19LGZpbHRlcjpmdW5jdGlvbihjLGcpe2Zvcih2YXIgZT1jLl8ucmVtb3ZlRm9ybWF0RmlsdGVyc3x8W10sYj0wO2I8ZS5sZW5ndGg7YisrKWlmKCExPT09ZVtiXShnKSlyZXR1cm4hMTtyZXR1cm4hMH19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyPWZ1bmN0aW9uKGMpe3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHwodGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnM9W10pO3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzLnB1c2goYyl9O0NLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzPVwiYixiaWcsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGlucyxrYmQscSxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdHQsdSx2YXJcIjtcbkNLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzPVwiY2xhc3Msc3R5bGUsbGFuZyx3aWR0aCxoZWlnaHQsYWxpZ24saHNwYWNlLHZhbGlnblwiOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYil7cmV0dXJue2VkaXRvckZvY3VzOiExLGNhblVuZG86ITEsbW9kZXM6e3d5c2l3eWc6MX0sZXhlYzpmdW5jdGlvbihjKXtpZihjLmVkaXRhYmxlKCkuaGFzRm9jdXMpe3ZhciBlPWMuZ2V0U2VsZWN0aW9uKCksZztpZihnPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGUuZ2V0Q29tbW9uQW5jZXN0b3IoKSxlLnJvb3QpKS5jb250YWlucyh7dGQ6MSx0aDoxfSwxKSl7dmFyIGU9Yy5jcmVhdGVSYW5nZSgpLGQ9Q0tFRElUT1IudG9vbHMudHJ5VGhlc2UoZnVuY3Rpb24oKXt2YXIgYT1nLmdldFBhcmVudCgpLiQuY2VsbHNbZy4kLmNlbGxJbmRleCsoYj8tMToxKV07YS5wYXJlbnROb2RlLnBhcmVudE5vZGU7cmV0dXJuIGF9LGZ1bmN0aW9uKCl7dmFyIGE9Zy5nZXRQYXJlbnQoKSxcbmE9YS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKS4kLnJvd3NbYS4kLnJvd0luZGV4KyhiPy0xOjEpXTtyZXR1cm4gYS5jZWxsc1tiP2EuY2VsbHMubGVuZ3RoLTE6MF19KTtpZihkfHxiKWlmKGQpZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCksZS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGQpLGUuY2hlY2tTdGFydE9mQmxvY2soKSYmZS5jaGVja0VuZE9mQmxvY2soKXx8ZS5zZWxlY3ROb2RlQ29udGVudHMoZCk7ZWxzZSByZXR1cm4hMDtlbHNle2Zvcih2YXIgZj1nLmdldEFzY2VuZGFudChcInRhYmxlXCIpLiQsZD1nLmdldFBhcmVudCgpLiQuY2VsbHMsZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZi5pbnNlcnRSb3coLTEpLGMuZG9jdW1lbnQpLGE9MCxuPWQubGVuZ3RoO2E8bjthKyspZi5hcHBlbmQoKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkW2FdLGMuZG9jdW1lbnQpKS5jbG9uZSghMSwhMSkpLmFwcGVuZEJvZ3VzKCk7ZS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGYpfWUuc2VsZWN0KCEwKTtcbnJldHVybiEwfX1yZXR1cm4hMX19fXZhciBnPXtlZGl0b3JGb2N1czohMSxtb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfX0sZT17ZXhlYzpmdW5jdGlvbihiKXtiLmNvbnRhaW5lci5mb2N1c05leHQoITAsYi50YWJJbmRleCl9fSxiPXtleGVjOmZ1bmN0aW9uKGIpe2IuY29udGFpbmVyLmZvY3VzUHJldmlvdXMoITAsYi50YWJJbmRleCl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInRhYlwiLHtpbml0OmZ1bmN0aW9uKGgpe2Zvcih2YXIgbT0hMSE9PWguY29uZmlnLmVuYWJsZVRhYktleVRvb2xzLGw9aC5jb25maWcudGFiU3BhY2VzfHwwLGs9XCJcIjtsLS07KWsrPVwiwqBcIjtpZihrKWgub24oXCJrZXlcIixmdW5jdGlvbihiKXs5PT1iLmRhdGEua2V5Q29kZSYmKGguaW5zZXJ0VGV4dChrKSxiLmNhbmNlbCgpKX0pO2lmKG0paC5vbihcImtleVwiLGZ1bmN0aW9uKGIpeyg5PT1iLmRhdGEua2V5Q29kZSYmaC5leGVjQ29tbWFuZChcInNlbGVjdE5leHRDZWxsXCIpfHxiLmRhdGEua2V5Q29kZT09Q0tFRElUT1IuU0hJRlQrXG45JiZoLmV4ZWNDb21tYW5kKFwic2VsZWN0UHJldmlvdXNDZWxsXCIpKSYmYi5jYW5jZWwoKX0pO2guYWRkQ29tbWFuZChcImJsdXJcIixDS0VESVRPUi50b29scy5leHRlbmQoZSxnKSk7aC5hZGRDb21tYW5kKFwiYmx1ckJhY2tcIixDS0VESVRPUi50b29scy5leHRlbmQoYixnKSk7aC5hZGRDb21tYW5kKFwic2VsZWN0TmV4dENlbGxcIixjKCkpO2guYWRkQ29tbWFuZChcInNlbGVjdFByZXZpb3VzQ2VsbFwiLGMoITApKX19KX0pKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzTmV4dD1mdW5jdGlvbihjLGcpe3ZhciBlPXZvaWQgMD09PWc/dGhpcy5nZXRUYWJJbmRleCgpOmcsYixoLG0sbCxrLGQ7aWYoMD49ZSlmb3Ioaz10aGlzLmdldE5leHRTb3VyY2VOb2RlKGMsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtrOyl7aWYoay5pc1Zpc2libGUoKSYmMD09PWsuZ2V0VGFiSW5kZXgoKSl7bT1rO2JyZWFrfWs9ay5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpfWVsc2UgZm9yKGs9XG50aGlzLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpLmdldEZpcnN0KCk7az1rLmdldE5leHRTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCk7KXtpZighYilpZighaCYmay5lcXVhbHModGhpcykpe2lmKGg9ITAsYyl7aWYoIShrPWsuZ2V0TmV4dFNvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkpYnJlYWs7Yj0xfX1lbHNlIGgmJiF0aGlzLmNvbnRhaW5zKGspJiYoYj0xKTtpZihrLmlzVmlzaWJsZSgpJiYhKDA+KGQ9ay5nZXRUYWJJbmRleCgpKSkpe2lmKGImJmQ9PWUpe209azticmVha31kPmUmJighbXx8IWx8fGQ8bCk/KG09ayxsPWQpOm18fDAhPT1kfHwobT1rLGw9ZCl9fW0mJm0uZm9jdXMoKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzUHJldmlvdXM9ZnVuY3Rpb24oYyxnKXtmb3IodmFyIGU9dm9pZCAwPT09Zz90aGlzLmdldFRhYkluZGV4KCk6ZyxiLGgsbSxsPTAsayxkPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkuZ2V0TGFzdCgpO2Q9XG5kLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpOyl7aWYoIWIpaWYoIWgmJmQuZXF1YWxzKHRoaXMpKXtpZihoPSEwLGMpe2lmKCEoZD1kLmdldFByZXZpb3VzU291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpKSlicmVhaztiPTF9fWVsc2UgaCYmIXRoaXMuY29udGFpbnMoZCkmJihiPTEpO2lmKGQuaXNWaXNpYmxlKCkmJiEoMD4oaz1kLmdldFRhYkluZGV4KCkpKSlpZigwPj1lKXtpZihiJiYwPT09ayl7bT1kO2JyZWFrfWs+bCYmKG09ZCxsPWspfWVsc2V7aWYoYiYmaz09ZSl7bT1kO2JyZWFrfWs8ZSYmKCFtfHxrPmwpJiYobT1kLGw9ayl9fW0mJm0uZm9jdXMoKX07XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhiLGMpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5yZWR1Y2UoYyxmdW5jdGlvbihhLGIpe3JldHVybiBiKGEpfSxiKX12YXIgZz1bQ0tFRElUT1IuQ1RSTCs5MCxDS0VESVRPUi5DVFJMKzg5LFxuQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MF0sZT17ODoxLDQ2OjF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidW5kb1wiLHtpbml0OmZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGYoYSl7ZS5lbmFibGVkJiYhMSE9PWEuZGF0YS5jb21tYW5kLmNhblVuZG8mJmUuc2F2ZSgpfWZ1bmN0aW9uIGEoKXtlLmVuYWJsZWQ9Yy5yZWFkT25seT8hMTpcInd5c2l3eWdcIj09Yy5tb2RlO2Uub25DaGFuZ2UoKX12YXIgZT1jLnVuZG9NYW5hZ2VyPW5ldyBiKGMpLGg9ZS5lZGl0aW5nSGFuZGxlcj1uZXcgbChlKSxrPWMuYWRkQ29tbWFuZChcInVuZG9cIix7ZXhlYzpmdW5jdGlvbigpe2UudW5kbygpJiYoYy5zZWxlY3Rpb25DaGFuZ2UoKSx0aGlzLmZpcmUoXCJhZnRlclVuZG9cIikpfSxzdGFydERpc2FibGVkOiEwLGNhblVuZG86ITF9KSxtPWMuYWRkQ29tbWFuZChcInJlZG9cIix7ZXhlYzpmdW5jdGlvbigpe2UucmVkbygpJiYoYy5zZWxlY3Rpb25DaGFuZ2UoKSx0aGlzLmZpcmUoXCJhZnRlclJlZG9cIikpfSxzdGFydERpc2FibGVkOiEwLFxuY2FuVW5kbzohMX0pO2Muc2V0S2V5c3Ryb2tlKFtbZ1swXSxcInVuZG9cIl0sW2dbMV0sXCJyZWRvXCJdLFtnWzJdLFwicmVkb1wiXV0pO2Uub25DaGFuZ2U9ZnVuY3Rpb24oKXtrLnNldFN0YXRlKGUudW5kb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO20uc2V0U3RhdGUoZS5yZWRvYWJsZSgpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9O2Mub24oXCJiZWZvcmVDb21tYW5kRXhlY1wiLGYpO2Mub24oXCJhZnRlckNvbW1hbmRFeGVjXCIsZik7Yy5vbihcInNhdmVTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2Uuc2F2ZShhLmRhdGEmJmEuZGF0YS5jb250ZW50T25seSl9KTtjLm9uKFwiY29udGVudERvbVwiLGguYXR0YWNoTGlzdGVuZXJzLGgpO2Mub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXtjLmZpcmUoXCJzYXZlU25hcHNob3RcIil9KTtjLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PVxuYy5tb2RlJiZlLnNhdmUoITApfSk7Yy5vbihcIm1vZGVcIixhKTtjLm9uKFwicmVhZE9ubHlcIixhKTtjLnVpLmFkZEJ1dHRvbiYmKGMudWkuYWRkQnV0dG9uKFwiVW5kb1wiLHtsYWJlbDpjLmxhbmcudW5kby51bmRvLGNvbW1hbmQ6XCJ1bmRvXCIsdG9vbGJhcjpcInVuZG8sMTBcIn0pLGMudWkuYWRkQnV0dG9uKFwiUmVkb1wiLHtsYWJlbDpjLmxhbmcudW5kby5yZWRvLGNvbW1hbmQ6XCJyZWRvXCIsdG9vbGJhcjpcInVuZG8sMjBcIn0pKTtjLnJlc2V0VW5kbz1mdW5jdGlvbigpe2UucmVzZXQoKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIil9O2Mub24oXCJ1cGRhdGVTbmFwc2hvdFwiLGZ1bmN0aW9uKCl7ZS5jdXJyZW50SW1hZ2UmJmUudXBkYXRlKCl9KTtjLm9uKFwibG9ja1NuYXBzaG90XCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7ZS5sb2NrKGEmJmEuZG9udFVwZGF0ZSxhJiZhLmZvcmNlVXBkYXRlKX0pO2Mub24oXCJ1bmxvY2tTbmFwc2hvdFwiLGUudW5sb2NrLGUpfX0pO0NLRURJVE9SLnBsdWdpbnMudW5kbz17fTt2YXIgYj1cbkNLRURJVE9SLnBsdWdpbnMudW5kby5VbmRvTWFuYWdlcj1mdW5jdGlvbihiKXt0aGlzLnN0cm9rZXNSZWNvcmRlZD1bMCwwXTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMTt0aGlzLmxpbWl0PWIuY29uZmlnLnVuZG9TdGFja1NpemV8fDIwO3RoaXMuc3Ryb2tlc0xpbWl0PTI1O3RoaXMuX2ZpbHRlclJ1bGVzPVtdO3RoaXMuZWRpdG9yPWI7dGhpcy5yZXNldCgpO0NLRURJVE9SLmVudi5pZSYmdGhpcy5hZGRGaWx0ZXJSdWxlKGZ1bmN0aW9uKGIpe3JldHVybiBiLnJlcGxhY2UoL1xccytkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKX0pfTtiLnByb3RvdHlwZT17dHlwZTpmdW5jdGlvbihjLGYpe3ZhciBhPWIuZ2V0S2V5R3JvdXAoYyksZT10aGlzLnN0cm9rZXNSZWNvcmRlZFthXSsxO2Y9Znx8ZT49dGhpcy5zdHJva2VzTGltaXQ7dGhpcy50eXBpbmd8fCh0aGlzLmhhc1VuZG89dGhpcy50eXBpbmc9ITAsdGhpcy5oYXNSZWRvPSExLHRoaXMub25DaGFuZ2UoKSk7XG5mPyhlPTAsdGhpcy5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKSk6dGhpcy5lZGl0b3IuZmlyZShcImNoYW5nZVwiKTt0aGlzLnN0cm9rZXNSZWNvcmRlZFthXT1lO3RoaXMucHJldmlvdXNLZXlHcm91cD1hfSxrZXlHcm91cENoYW5nZWQ6ZnVuY3Rpb24oYyl7cmV0dXJuIGIuZ2V0S2V5R3JvdXAoYykhPXRoaXMucHJldmlvdXNLZXlHcm91cH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnNuYXBzaG90cz1bXTt0aGlzLmluZGV4PS0xO3RoaXMuY3VycmVudEltYWdlPW51bGw7dGhpcy5oYXNSZWRvPXRoaXMuaGFzVW5kbz0hMTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucmVzZXRUeXBlKCl9LHJlc2V0VHlwZTpmdW5jdGlvbigpe3RoaXMuc3Ryb2tlc1JlY29yZGVkPVswLDBdO3RoaXMudHlwaW5nPSExO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMX0scmVmcmVzaFN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5oYXNVbmRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITApO3RoaXMuaGFzUmVkbz0hIXRoaXMuZ2V0TmV4dEltYWdlKCExKTtcbnRoaXMucmVzZXRUeXBlKCk7dGhpcy5vbkNoYW5nZSgpfSxzYXZlOmZ1bmN0aW9uKGIsYyxhKXt2YXIgZT10aGlzLmVkaXRvcjtpZih0aGlzLmxvY2tlZHx8XCJyZWFkeVwiIT1lLnN0YXR1c3x8XCJ3eXNpd3lnXCIhPWUubW9kZSlyZXR1cm4hMTt2YXIgZz1lLmVkaXRhYmxlKCk7aWYoIWd8fFwicmVhZHlcIiE9Zy5zdGF0dXMpcmV0dXJuITE7Zz10aGlzLnNuYXBzaG90cztjfHwoYz1uZXcgaChlKSk7aWYoITE9PT1jLmNvbnRlbnRzKXJldHVybiExO2lmKHRoaXMuY3VycmVudEltYWdlKWlmKGMuZXF1YWxzQ29udGVudCh0aGlzLmN1cnJlbnRJbWFnZSkpe2lmKGJ8fGMuZXF1YWxzU2VsZWN0aW9uKHRoaXMuY3VycmVudEltYWdlKSlyZXR1cm4hMX1lbHNlITEhPT1hJiZlLmZpcmUoXCJjaGFuZ2VcIik7Zy5zcGxpY2UodGhpcy5pbmRleCsxLGcubGVuZ3RoLXRoaXMuaW5kZXgtMSk7Zy5sZW5ndGg9PXRoaXMubGltaXQmJmcuc2hpZnQoKTt0aGlzLmluZGV4PWcucHVzaChjKS0xO3RoaXMuY3VycmVudEltYWdlPVxuYzshMSE9PWEmJnRoaXMucmVmcmVzaFN0YXRlKCk7cmV0dXJuITB9LHJlc3RvcmVJbWFnZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVkaXRvcixhO2IuYm9va21hcmtzJiYoYy5mb2N1cygpLGE9Yy5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9e2xldmVsOjk5OX07dGhpcy5lZGl0b3IubG9hZFNuYXBzaG90KGIuY29udGVudHMpO2IuYm9va21hcmtzP2Euc2VsZWN0Qm9va21hcmtzKGIuYm9va21hcmtzKTpDS0VESVRPUi5lbnYuaWUmJihhPXRoaXMuZWRpdG9yLmRvY3VtZW50LmdldEJvZHkoKS4kLmNyZWF0ZVRleHRSYW5nZSgpLGEuY29sbGFwc2UoITApLGEuc2VsZWN0KCkpO3RoaXMubG9ja2VkPW51bGw7dGhpcy5pbmRleD1iLmluZGV4O3RoaXMuY3VycmVudEltYWdlPXRoaXMuc25hcHNob3RzW3RoaXMuaW5kZXhdO3RoaXMudXBkYXRlKCk7dGhpcy5yZWZyZXNoU3RhdGUoKTtjLmZpcmUoXCJjaGFuZ2VcIil9LGdldE5leHRJbWFnZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLnNuYXBzaG90cyxcbmE9dGhpcy5jdXJyZW50SW1hZ2UsZTtpZihhKWlmKGIpZm9yKGU9dGhpcy5pbmRleC0xOzA8PWU7ZS0tKXtpZihiPWNbZV0sIWEuZXF1YWxzQ29udGVudChiKSlyZXR1cm4gYi5pbmRleD1lLGJ9ZWxzZSBmb3IoZT10aGlzLmluZGV4KzE7ZTxjLmxlbmd0aDtlKyspaWYoYj1jW2VdLCFhLmVxdWFsc0NvbnRlbnQoYikpcmV0dXJuIGIuaW5kZXg9ZSxiO3JldHVybiBudWxsfSxyZWRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzUmVkb30sdW5kb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1VuZG99LHVuZG86ZnVuY3Rpb24oKXtpZih0aGlzLnVuZG9hYmxlKCkpe3RoaXMuc2F2ZSghMCk7dmFyIGI9dGhpcy5nZXROZXh0SW1hZ2UoITApO2lmKGIpcmV0dXJuIHRoaXMucmVzdG9yZUltYWdlKGIpLCEwfXJldHVybiExfSxyZWRvOmZ1bmN0aW9uKCl7aWYodGhpcy5yZWRvYWJsZSgpJiYodGhpcy5zYXZlKCEwKSx0aGlzLnJlZG9hYmxlKCkpKXt2YXIgYj1cbnRoaXMuZ2V0TmV4dEltYWdlKCExKTtpZihiKXJldHVybiB0aGlzLnJlc3RvcmVJbWFnZShiKSwhMH1yZXR1cm4hMX0sdXBkYXRlOmZ1bmN0aW9uKGIpe2lmKCF0aGlzLmxvY2tlZCl7Ynx8KGI9bmV3IGgodGhpcy5lZGl0b3IpKTtmb3IodmFyIGM9dGhpcy5pbmRleCxhPXRoaXMuc25hcHNob3RzOzA8YyYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChhW2MtMV0pOyktLWM7YS5zcGxpY2UoYyx0aGlzLmluZGV4LWMrMSxiKTt0aGlzLmluZGV4PWM7dGhpcy5jdXJyZW50SW1hZ2U9Yn19LHVwZGF0ZVNlbGVjdGlvbjpmdW5jdGlvbihiKXtpZighdGhpcy5zbmFwc2hvdHMubGVuZ3RoKXJldHVybiExO3ZhciBjPXRoaXMuc25hcHNob3RzLGE9Y1tjLmxlbmd0aC0xXTtyZXR1cm4gYS5lcXVhbHNDb250ZW50KGIpJiYhYS5lcXVhbHNTZWxlY3Rpb24oYik/KHRoaXMuY3VycmVudEltYWdlPWNbYy5sZW5ndGgtMV09YiwhMCk6ITF9LGxvY2s6ZnVuY3Rpb24oYixjKXtpZih0aGlzLmxvY2tlZCl0aGlzLmxvY2tlZC5sZXZlbCsrO1xuZWxzZSBpZihiKXRoaXMubG9ja2VkPXtsZXZlbDoxfTtlbHNle3ZhciBhPW51bGw7aWYoYylhPSEwO2Vsc2V7dmFyIGU9bmV3IGgodGhpcy5lZGl0b3IsITApO3RoaXMuY3VycmVudEltYWdlJiZ0aGlzLmN1cnJlbnRJbWFnZS5lcXVhbHNDb250ZW50KGUpJiYoYT1lKX10aGlzLmxvY2tlZD17dXBkYXRlOmEsbGV2ZWw6MX19fSx1bmxvY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmxvY2tlZCYmIS0tdGhpcy5sb2NrZWQubGV2ZWwpe3ZhciBiPXRoaXMubG9ja2VkLnVwZGF0ZTt0aGlzLmxvY2tlZD1udWxsO2lmKCEwPT09Yil0aGlzLnVwZGF0ZSgpO2Vsc2UgaWYoYil7dmFyIGM9bmV3IGgodGhpcy5lZGl0b3IsITApO2IuZXF1YWxzQ29udGVudChjKXx8dGhpcy51cGRhdGUoKX19fSxhZGRGaWx0ZXJSdWxlOmZ1bmN0aW9uKGIpe3RoaXMuX2ZpbHRlclJ1bGVzLnB1c2goYil9fTtiLm5hdmlnYXRpb25LZXlDb2Rlcz17Mzc6MSwzODoxLDM5OjEsNDA6MSwzNjoxLDM1OjEsMzM6MSwzNDoxfTtiLmtleUdyb3Vwcz1cbntQUklOVEFCTEU6MCxGVU5DVElPTkFMOjF9O2IuaXNOYXZpZ2F0aW9uS2V5PWZ1bmN0aW9uKGMpe3JldHVybiEhYi5uYXZpZ2F0aW9uS2V5Q29kZXNbY119O2IuZ2V0S2V5R3JvdXA9ZnVuY3Rpb24oYyl7dmFyIGY9Yi5rZXlHcm91cHM7cmV0dXJuIGVbY10/Zi5GVU5DVElPTkFMOmYuUFJJTlRBQkxFfTtiLmdldE9wcG9zaXRlS2V5R3JvdXA9ZnVuY3Rpb24oYyl7dmFyIGY9Yi5rZXlHcm91cHM7cmV0dXJuIGM9PWYuRlVOQ1RJT05BTD9mLlBSSU5UQUJMRTpmLkZVTkNUSU9OQUx9O2IuaWVGdW5jdGlvbmFsS2V5c0J1Zz1mdW5jdGlvbihjKXtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiZiLmdldEtleUdyb3VwKGMpPT1iLmtleUdyb3Vwcy5GVU5DVElPTkFMfTt2YXIgaD1DS0VESVRPUi5wbHVnaW5zLnVuZG8uSW1hZ2U9ZnVuY3Rpb24oYixmKXt0aGlzLmVkaXRvcj1iO2IuZmlyZShcImJlZm9yZVVuZG9JbWFnZVwiKTt2YXIgYT1iLmdldFNuYXBzaG90KCk7YSYmKHRoaXMuY29udGVudHM9XG5jKGEsYi51bmRvTWFuYWdlci5fZmlsdGVyUnVsZXMpKTtmfHwodGhpcy5ib29rbWFya3M9KGE9YSYmYi5nZXRTZWxlY3Rpb24oKSkmJmEuY3JlYXRlQm9va21hcmtzMighMCkpO2IuZmlyZShcImFmdGVyVW5kb0ltYWdlXCIpfSxtPS9cXGIoPzpocmVmfHNyY3xuYW1lKT1cIlteXCJdKj9cIi9naTtoLnByb3RvdHlwZT17ZXF1YWxzQ29udGVudDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmNvbnRlbnRzO2I9Yi5jb250ZW50cztDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKSYmKGM9Yy5yZXBsYWNlKG0sXCJcIiksYj1iLnJlcGxhY2UobSxcIlwiKSk7cmV0dXJuIGMhPWI/ITE6ITB9LGVxdWFsc1NlbGVjdGlvbjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmJvb2ttYXJrcztiPWIuYm9va21hcmtzO2lmKGN8fGIpe2lmKCFjfHwhYnx8Yy5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8Yy5sZW5ndGg7YSsrKXt2YXIgZT1jW2FdLFxuZz1iW2FdO2lmKGUuc3RhcnRPZmZzZXQhPWcuc3RhcnRPZmZzZXR8fGUuZW5kT2Zmc2V0IT1nLmVuZE9mZnNldHx8IUNLRURJVE9SLnRvb2xzLmFycmF5Q29tcGFyZShlLnN0YXJ0LGcuc3RhcnQpfHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGUuZW5kLGcuZW5kKSlyZXR1cm4hMX19cmV0dXJuITB9fTt2YXIgbD1DS0VESVRPUi5wbHVnaW5zLnVuZG8uTmF0aXZlRWRpdGluZ0hhbmRsZXI9ZnVuY3Rpb24oYil7dGhpcy51bmRvTWFuYWdlcj1iO3RoaXMuaWdub3JlSW5wdXRFdmVudD0hMTt0aGlzLmtleUV2ZW50c1N0YWNrPW5ldyBrO3RoaXMubGFzdEtleWRvd25JbWFnZT1udWxsfTtsLnByb3RvdHlwZT17b25LZXlkb3duOmZ1bmN0aW9uKGMpe3ZhciBmPWMuZGF0YS5nZXRLZXkoKTtpZigyMjkhPT1mKWlmKC0xPENLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxjLmRhdGEuZ2V0S2V5c3Ryb2tlKCkpKWMuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYodGhpcy5rZXlFdmVudHNTdGFjay5jbGVhblVwKGMpLFxuYz10aGlzLnVuZG9NYW5hZ2VyLHRoaXMua2V5RXZlbnRzU3RhY2suZ2V0TGFzdChmKXx8dGhpcy5rZXlFdmVudHNTdGFjay5wdXNoKGYpLHRoaXMubGFzdEtleWRvd25JbWFnZT1uZXcgaChjLmVkaXRvciksYi5pc05hdmlnYXRpb25LZXkoZil8fHRoaXMudW5kb01hbmFnZXIua2V5R3JvdXBDaGFuZ2VkKGYpKWlmKGMuc3Ryb2tlc1JlY29yZGVkWzBdfHxjLnN0cm9rZXNSZWNvcmRlZFsxXSljLnNhdmUoITEsdGhpcy5sYXN0S2V5ZG93bkltYWdlLCExKSxjLnJlc2V0VHlwZSgpfSxvbklucHV0OmZ1bmN0aW9uKCl7aWYodGhpcy5pZ25vcmVJbnB1dEV2ZW50KXRoaXMuaWdub3JlSW5wdXRFdmVudD0hMTtlbHNle3ZhciBiPXRoaXMua2V5RXZlbnRzU3RhY2suZ2V0TGFzdCgpO2J8fChiPXRoaXMua2V5RXZlbnRzU3RhY2sucHVzaCgwKSk7dGhpcy5rZXlFdmVudHNTdGFjay5pbmNyZW1lbnQoYi5rZXlDb2RlKTt0aGlzLmtleUV2ZW50c1N0YWNrLmdldFRvdGFsSW5wdXRzKCk+PXRoaXMudW5kb01hbmFnZXIuc3Ryb2tlc0xpbWl0JiZcbih0aGlzLnVuZG9NYW5hZ2VyLnR5cGUoYi5rZXlDb2RlLCEwKSx0aGlzLmtleUV2ZW50c1N0YWNrLnJlc2V0SW5wdXRzKCkpfX0sb25LZXl1cDpmdW5jdGlvbihjKXt2YXIgZj10aGlzLnVuZG9NYW5hZ2VyO2M9Yy5kYXRhLmdldEtleSgpO3ZhciBhPXRoaXMua2V5RXZlbnRzU3RhY2suZ2V0VG90YWxJbnB1dHMoKTt0aGlzLmtleUV2ZW50c1N0YWNrLnJlbW92ZShjKTtpZighKGIuaWVGdW5jdGlvbmFsS2V5c0J1ZyhjKSYmdGhpcy5sYXN0S2V5ZG93bkltYWdlJiZ0aGlzLmxhc3RLZXlkb3duSW1hZ2UuZXF1YWxzQ29udGVudChuZXcgaChmLmVkaXRvciwhMCkpKSlpZigwPGEpZi50eXBlKGMpO2Vsc2UgaWYoYi5pc05hdmlnYXRpb25LZXkoYykpdGhpcy5vbk5hdmlnYXRpb25LZXkoITApfSxvbk5hdmlnYXRpb25LZXk6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy51bmRvTWFuYWdlcjshYiYmYy5zYXZlKCEwLG51bGwsITEpfHxjLnVwZGF0ZVNlbGVjdGlvbihuZXcgaChjLmVkaXRvcikpO1xuYy5yZXNldFR5cGUoKX0saWdub3JlSW5wdXRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSEwfSxhY3RpdmF0ZUlucHV0RXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuaWdub3JlSW5wdXRFdmVudD0hMX0sYXR0YWNoTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy51bmRvTWFuYWdlci5lZGl0b3IsZj1jLmVkaXRhYmxlKCksYT10aGlzO2YuYXR0YWNoTGlzdGVuZXIoZixcImtleWRvd25cIixmdW5jdGlvbihjKXthLm9uS2V5ZG93bihjKTtpZihiLmllRnVuY3Rpb25hbEtleXNCdWcoYy5kYXRhLmdldEtleSgpKSlhLm9uSW5wdXQoKX0sbnVsbCxudWxsLDk5OSk7Zi5hdHRhY2hMaXN0ZW5lcihmLENLRURJVE9SLmVudi5pZT9cImtleXByZXNzXCI6XCJpbnB1dFwiLGEub25JbnB1dCxhLG51bGwsOTk5KTtmLmF0dGFjaExpc3RlbmVyKGYsXCJrZXl1cFwiLGEub25LZXl1cCxhLG51bGwsOTk5KTtmLmF0dGFjaExpc3RlbmVyKGYsXCJwYXN0ZVwiLGEuaWdub3JlSW5wdXRFdmVudExpc3RlbmVyLFxuYSxudWxsLDk5OSk7Zi5hdHRhY2hMaXN0ZW5lcihmLFwiZHJvcFwiLGEuaWdub3JlSW5wdXRFdmVudExpc3RlbmVyLGEsbnVsbCw5OTkpO2Mub24oXCJhZnRlclBhc3RlXCIsYS5hY3RpdmF0ZUlucHV0RXZlbnRMaXN0ZW5lcixhLG51bGwsOTk5KTtmLmF0dGFjaExpc3RlbmVyKGYuaXNJbmxpbmUoKT9mOmMuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJjbGlja1wiLGZ1bmN0aW9uKCl7YS5vbk5hdmlnYXRpb25LZXkoKX0sbnVsbCxudWxsLDk5OSk7Zi5hdHRhY2hMaXN0ZW5lcih0aGlzLnVuZG9NYW5hZ2VyLmVkaXRvcixcImJsdXJcIixmdW5jdGlvbigpe2Eua2V5RXZlbnRzU3RhY2sucmVtb3ZlKDkpfSxudWxsLG51bGwsOTk5KX19O3ZhciBrPUNLRURJVE9SLnBsdWdpbnMudW5kby5LZXlFdmVudHNTdGFjaz1mdW5jdGlvbigpe3RoaXMuc3RhY2s9W119O2sucHJvdG90eXBlPXtwdXNoOmZ1bmN0aW9uKGIpe2I9dGhpcy5zdGFjay5wdXNoKHtrZXlDb2RlOmIsaW5wdXRzOjB9KTtyZXR1cm4gdGhpcy5zdGFja1tiLVxuMV19LGdldExhc3RJbmRleDpmdW5jdGlvbihiKXtpZihcIm51bWJlclwiIT10eXBlb2YgYilyZXR1cm4gdGhpcy5zdGFjay5sZW5ndGgtMTtmb3IodmFyIGM9dGhpcy5zdGFjay5sZW5ndGg7Yy0tOylpZih0aGlzLnN0YWNrW2NdLmtleUNvZGU9PWIpcmV0dXJuIGM7cmV0dXJuLTF9LGdldExhc3Q6ZnVuY3Rpb24oYil7Yj10aGlzLmdldExhc3RJbmRleChiKTtyZXR1cm4tMSE9Yj90aGlzLnN0YWNrW2JdOm51bGx9LGluY3JlbWVudDpmdW5jdGlvbihiKXt0aGlzLmdldExhc3QoYikuaW5wdXRzKyt9LHJlbW92ZTpmdW5jdGlvbihiKXtiPXRoaXMuZ2V0TGFzdEluZGV4KGIpOy0xIT1iJiZ0aGlzLnN0YWNrLnNwbGljZShiLDEpfSxyZXNldElucHV0czpmdW5jdGlvbihiKXtpZihcIm51bWJlclwiPT10eXBlb2YgYil0aGlzLmdldExhc3QoYikuaW5wdXRzPTA7ZWxzZSBmb3IoYj10aGlzLnN0YWNrLmxlbmd0aDtiLS07KXRoaXMuc3RhY2tbYl0uaW5wdXRzPTB9LGdldFRvdGFsSW5wdXRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPVxudGhpcy5zdGFjay5sZW5ndGgsYz0wO2ItLTspYys9dGhpcy5zdGFja1tiXS5pbnB1dHM7cmV0dXJuIGN9LGNsZWFuVXA6ZnVuY3Rpb24oYil7Yj1iLmRhdGEuJDtiLmN0cmxLZXl8fGIubWV0YUtleXx8dGhpcy5yZW1vdmUoMTcpO2Iuc2hpZnRLZXl8fHRoaXMucmVtb3ZlKDE2KTtiLmFsdEtleXx8dGhpcy5yZW1vdmUoMTgpfX19KSgpO1widXNlIHN0cmljdFwiOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYixjKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyx7ZWRpdG9yOmIsZWRpdGFibGU6Yi5lZGl0YWJsZSgpLGRvYzpiLmRvY3VtZW50LHdpbjpiLndpbmRvd30sYywhMCk7dGhpcy5pbmxpbmU9dGhpcy5lZGl0YWJsZS5pc0lubGluZSgpO3RoaXMuaW5saW5lfHwodGhpcy5mcmFtZT10aGlzLndpbi5nZXRGcmFtZSgpKTt0aGlzLnRhcmdldD10aGlzW3RoaXMuaW5saW5lP1wiZWRpdGFibGVcIjpcImRvY1wiXX1mdW5jdGlvbiBnKGIsYyl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYyx7ZWRpdG9yOmJ9LFxuITApfWZ1bmN0aW9uIGUoYixjKXt2YXIgYT1iLmVkaXRhYmxlKCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMse2VkaXRvcjpiLGVkaXRhYmxlOmEsaW5saW5lOmEuaXNJbmxpbmUoKSxkb2M6Yi5kb2N1bWVudCx3aW46Yi53aW5kb3csY29udGFpbmVyOkNLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSx3aW5Ub3A6Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCl9LGMsITApO3RoaXMuaGlkZGVuPXt9O3RoaXMudmlzaWJsZT17fTt0aGlzLmlubGluZXx8KHRoaXMuZnJhbWU9dGhpcy53aW4uZ2V0RnJhbWUoKSk7dGhpcy5xdWVyeVZpZXdwb3J0KCk7dmFyIGU9Q0tFRElUT1IudG9vbHMuYmluZCh0aGlzLnF1ZXJ5Vmlld3BvcnQsdGhpcyksZz1DS0VESVRPUi50b29scy5iaW5kKHRoaXMuaGlkZVZpc2libGUsdGhpcyksaz1DS0VESVRPUi50b29scy5iaW5kKHRoaXMucmVtb3ZlQWxsLHRoaXMpO2EuYXR0YWNoTGlzdGVuZXIodGhpcy53aW5Ub3AsXCJyZXNpemVcIixlKTthLmF0dGFjaExpc3RlbmVyKHRoaXMud2luVG9wLFxuXCJzY3JvbGxcIixlKTthLmF0dGFjaExpc3RlbmVyKHRoaXMud2luVG9wLFwicmVzaXplXCIsZyk7YS5hdHRhY2hMaXN0ZW5lcih0aGlzLndpbixcInNjcm9sbFwiLGcpO2EuYXR0YWNoTGlzdGVuZXIodGhpcy5pbmxpbmU/YTp0aGlzLmZyYW1lLFwibW91c2VvdXRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jbGllbnRYO2E9YS5kYXRhLiQuY2xpZW50WTt0aGlzLnF1ZXJ5Vmlld3BvcnQoKTsoYjw9dGhpcy5yZWN0LmxlZnR8fGI+PXRoaXMucmVjdC5yaWdodHx8YTw9dGhpcy5yZWN0LnRvcHx8YT49dGhpcy5yZWN0LmJvdHRvbSkmJnRoaXMuaGlkZVZpc2libGUoKTsoMD49Ynx8Yj49dGhpcy53aW5Ub3BQYW5lLndpZHRofHwwPj1hfHxhPj10aGlzLndpblRvcFBhbmUuaGVpZ2h0KSYmdGhpcy5oaWRlVmlzaWJsZSgpfSx0aGlzKTthLmF0dGFjaExpc3RlbmVyKGIsXCJyZXNpemVcIixlKTthLmF0dGFjaExpc3RlbmVyKGIsXCJtb2RlXCIsayk7Yi5vbihcImRlc3Ryb3lcIixrKTt0aGlzLmxpbmVUcGw9XG4obmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY2RpdiBkYXRhLWNrZS1saW5ldXRpbHMtbGluZVxceDNkXCIxXCIgY2xhc3NcXHgzZFwiY2tlX3Jlc2V0X2FsbFwiIHN0eWxlXFx4M2RcIntsaW5lU3R5bGV9XCJcXHgzZVxceDNjc3BhbiBzdHlsZVxceDNkXCJ7dGlwTGVmdFN0eWxlfVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIHN0eWxlXFx4M2RcInt0aXBSaWdodFN0eWxlfVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2MvZGl2XFx4M2UnKSkub3V0cHV0KHtsaW5lU3R5bGU6Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxtLHRoaXMubGluZVN0eWxlLCEwKSksdGlwTGVmdFN0eWxlOkNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChDS0VESVRPUi50b29scy5leHRlbmQoe30saCx7bGVmdDpcIjBweFwiLFwiYm9yZGVyLWxlZnQtY29sb3JcIjpcInJlZFwiLFwiYm9yZGVyLXdpZHRoXCI6XCI2cHggMCA2cHggNnB4XCJ9LHRoaXMudGlwQ3NzLHRoaXMudGlwTGVmdFN0eWxlLFxuITApKSx0aXBSaWdodFN0eWxlOkNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChDS0VESVRPUi50b29scy5leHRlbmQoe30saCx7cmlnaHQ6XCIwcHhcIixcImJvcmRlci1yaWdodC1jb2xvclwiOlwicmVkXCIsXCJib3JkZXItd2lkdGhcIjpcIjZweCA2cHggNnB4IDBcIn0sdGhpcy50aXBDc3MsdGhpcy50aXBSaWdodFN0eWxlLCEwKSl9KX1mdW5jdGlvbiBiKGIpe3ZhciBjO2lmKGM9YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpYz0hKGxbYi5nZXRDb21wdXRlZFN0eWxlKFwiZmxvYXRcIildfHxsW2IuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIildKTtyZXR1cm4gYyYmIWtbYi5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIildfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibGluZXV0aWxzXCIpO0NLRURJVE9SLkxJTkVVVElMU19CRUZPUkU9MTtDS0VESVRPUi5MSU5FVVRJTFNfQUZURVI9MjtDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFPTQ7Yy5wcm90b3R5cGU9e3N0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPVxudGhpcyxhPXRoaXMuZWRpdG9yLGU9dGhpcy5kb2MsZyxoLGssbCxtPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcig1MCxmdW5jdGlvbigpe2EucmVhZE9ubHl8fFwid3lzaXd5Z1wiIT1hLm1vZGV8fChjLnJlbGF0aW9ucz17fSwoaD1lLiQuZWxlbWVudEZyb21Qb2ludChrLGwpKSYmaC5ub2RlVHlwZSYmKGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGgpLGMudHJhdmVyc2VTZWFyY2goZyksaXNOYU4oaytsKXx8Yy5waXhlbFNlYXJjaChnLGssbCksYiYmYihjLnJlbGF0aW9ucyxrLGwpKSl9KTt0aGlzLmxpc3RlbmVyPXRoaXMuZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIodGhpcy50YXJnZXQsXCJtb3VzZW1vdmVcIixmdW5jdGlvbihhKXtrPWEuZGF0YS4kLmNsaWVudFg7bD1hLmRhdGEuJC5jbGllbnRZO20uaW5wdXQoKX0pO3RoaXMuZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIodGhpcy5pbmxpbmU/dGhpcy5lZGl0YWJsZTp0aGlzLmZyYW1lLFwibW91c2VvdXRcIixmdW5jdGlvbigpe20ucmVzZXQoKX0pfSxcbnN0b3A6ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVyJiZ0aGlzLmxpc3RlbmVyLnJlbW92ZUxpc3RlbmVyKCl9LGdldFJhbmdlOmZ1bmN0aW9uKCl7dmFyIGI9e307YltDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFXT1DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ7YltDS0VESVRPUi5MSU5FVVRJTFNfQUZURVJdPUNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDtiW0NLRURJVE9SLkxJTkVVVElMU19JTlNJREVdPUNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUO3JldHVybiBmdW5jdGlvbihjKXt2YXIgYT10aGlzLmVkaXRvci5jcmVhdGVSYW5nZSgpO2EubW92ZVRvUG9zaXRpb24odGhpcy5yZWxhdGlvbnNbYy51aWRdLmVsZW1lbnQsYltjLnR5cGVdKTtyZXR1cm4gYX19KCksc3RvcmU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGIsYSxkKXt2YXIgZT1iLmdldFVuaXF1ZUlkKCk7ZSBpbiBkP2RbZV0udHlwZXw9YTpkW2VdPXtlbGVtZW50OmIsdHlwZTphfX1yZXR1cm4gZnVuY3Rpb24oZixcbmEpe3ZhciBlO2EmQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSJiZiKGU9Zi5nZXROZXh0KCkpJiZlLmlzVmlzaWJsZSgpJiYoYyhlLENLRURJVE9SLkxJTkVVVElMU19CRUZPUkUsdGhpcy5yZWxhdGlvbnMpLGFePUNLRURJVE9SLkxJTkVVVElMU19BRlRFUik7YSZDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFJiZiKGU9Zi5nZXRGaXJzdCgpKSYmZS5pc1Zpc2libGUoKSYmKGMoZSxDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFLHRoaXMucmVsYXRpb25zKSxhXj1DS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFKTtjKGYsYSx0aGlzLnJlbGF0aW9ucyl9fSgpLHRyYXZlcnNlU2VhcmNoOmZ1bmN0aW9uKGMpe3ZhciBmLGEsZTtkbyBpZihlPWMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl0sIShlJiZlIGluIHRoaXMucmVsYXRpb25zKSl7aWYoYy5lcXVhbHModGhpcy5lZGl0YWJsZSkpYnJlYWs7aWYoYihjKSlmb3IoZiBpbiB0aGlzLmxvb2t1cHMpKGE9dGhpcy5sb29rdXBzW2ZdKGMpKSYmdGhpcy5zdG9yZShjLFxuYSl9d2hpbGUoKCFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XCJ0cnVlXCIhPWMuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSYmKGM9Yy5nZXRQYXJlbnQoKSkpfSxwaXhlbFNlYXJjaDpmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYSxkLGUsZyxoKXtmb3IodmFyIGs9MCxsO2goZSk7KXtlKz1nO2lmKDI1PT0rK2spYnJlYWs7aWYobD10aGlzLmRvYy4kLmVsZW1lbnRGcm9tUG9pbnQoZCxlKSlpZihsPT1hKWs9MDtlbHNlIGlmKGYoYSxsKSYmKGs9MCxiKGw9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGwpKSkpcmV0dXJuIGx9fXZhciBmPUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LndlYmtpdD9mdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbnRhaW5zKGIpfTpmdW5jdGlvbihhLGIpe3JldHVybiEhKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmMTYpfTtyZXR1cm4gZnVuY3Rpb24oYSxmLGUpe3ZhciBnPXRoaXMud2luLmdldFZpZXdQYW5lU2l6ZSgpLmhlaWdodCxcbmg9Yy5jYWxsKHRoaXMsYS4kLGYsZSwtMSxmdW5jdGlvbihhKXtyZXR1cm4gMDxhfSk7Zj1jLmNhbGwodGhpcyxhLiQsZixlLDEsZnVuY3Rpb24oYSl7cmV0dXJuIGE8Z30pO2lmKGgpZm9yKHRoaXMudHJhdmVyc2VTZWFyY2goaCk7IWguZ2V0UGFyZW50KCkuZXF1YWxzKGEpOyloPWguZ2V0UGFyZW50KCk7aWYoZilmb3IodGhpcy50cmF2ZXJzZVNlYXJjaChmKTshZi5nZXRQYXJlbnQoKS5lcXVhbHMoYSk7KWY9Zi5nZXRQYXJlbnQoKTtmb3IoO2h8fGY7KXtoJiYoaD1oLmdldE5leHQoYikpO2lmKCFofHxoLmVxdWFscyhmKSlicmVhazt0aGlzLnRyYXZlcnNlU2VhcmNoKGgpO2YmJihmPWYuZ2V0UHJldmlvdXMoYikpO2lmKCFmfHxmLmVxdWFscyhoKSlicmVhazt0aGlzLnRyYXZlcnNlU2VhcmNoKGYpfX19KCksZ3JlZWR5U2VhcmNoOmZ1bmN0aW9uKCl7dGhpcy5yZWxhdGlvbnM9e307Zm9yKHZhciBjPXRoaXMuZWRpdGFibGUuZ2V0RWxlbWVudHNCeVRhZyhcIipcIiksZj0wLGEsZSxnO2E9XG5jLmdldEl0ZW0oZisrKTspaWYoIWEuZXF1YWxzKHRoaXMuZWRpdGFibGUpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwhYS5pc1JlYWRPbmx5KCkpJiZiKGEpJiZhLmlzVmlzaWJsZSgpKWZvcihnIGluIHRoaXMubG9va3VwcykoZT10aGlzLmxvb2t1cHNbZ10oYSkpJiZ0aGlzLnN0b3JlKGEsZSk7cmV0dXJuIHRoaXMucmVsYXRpb25zfX07Zy5wcm90b3R5cGU9e2xvY2F0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGMoZCxhKXt2YXIgZT1kLmVsZW1lbnRbYT09PUNLRURJVE9SLkxJTkVVVElMU19CRUZPUkU/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXSgpO3JldHVybiBlJiZiKGUpPyhkLnNpYmxpbmdSZWN0PWUuZ2V0Q2xpZW50UmVjdCgpLGE9PUNLRURJVE9SLkxJTkVVVElMU19CRUZPUkU/KGQuc2libGluZ1JlY3QuYm90dG9tK2QuZWxlbWVudFJlY3QudG9wKS8yOihkLmVsZW1lbnRSZWN0LmJvdHRvbStkLnNpYmxpbmdSZWN0LnRvcCkvXG4yKTphPT1DS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFP2QuZWxlbWVudFJlY3QudG9wOmQuZWxlbWVudFJlY3QuYm90dG9tfXJldHVybiBmdW5jdGlvbihiKXt2YXIgYTt0aGlzLmxvY2F0aW9ucz17fTtmb3IodmFyIGUgaW4gYilhPWJbZV0sYS5lbGVtZW50UmVjdD1hLmVsZW1lbnQuZ2V0Q2xpZW50UmVjdCgpLGEudHlwZSZDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFJiZ0aGlzLnN0b3JlKGUsQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSxjKGEsQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSkpLGEudHlwZSZDS0VESVRPUi5MSU5FVVRJTFNfQUZURVImJnRoaXMuc3RvcmUoZSxDS0VESVRPUi5MSU5FVVRJTFNfQUZURVIsYyhhLENLRURJVE9SLkxJTkVVVElMU19BRlRFUikpLGEudHlwZSZDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFJiZ0aGlzLnN0b3JlKGUsQ0tFRElUT1IuTElORVVUSUxTX0lOU0lERSwoYS5lbGVtZW50UmVjdC50b3ArYS5lbGVtZW50UmVjdC5ib3R0b20pLzIpO3JldHVybiB0aGlzLmxvY2F0aW9uc319KCksXG5zb3J0OmZ1bmN0aW9uKCl7dmFyIGIsYyxhLGU7cmV0dXJuIGZ1bmN0aW9uKGcsaCl7Yj10aGlzLmxvY2F0aW9ucztjPVtdO2Zvcih2YXIgayBpbiBiKWZvcih2YXIgbCBpbiBiW2tdKWlmKGE9TWF0aC5hYnMoZy1iW2tdW2xdKSxjLmxlbmd0aCl7Zm9yKGU9MDtlPGMubGVuZ3RoO2UrKylpZihhPGNbZV0uZGlzdCl7Yy5zcGxpY2UoZSwwLHt1aWQ6K2ssdHlwZTpsLGRpc3Q6YX0pO2JyZWFrfWU9PWMubGVuZ3RoJiZjLnB1c2goe3VpZDorayx0eXBlOmwsZGlzdDphfSl9ZWxzZSBjLnB1c2goe3VpZDorayx0eXBlOmwsZGlzdDphfSk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGg/Yy5zbGljZSgwLGgpOmN9fSgpLHN0b3JlOmZ1bmN0aW9uKGIsYyxhKXt0aGlzLmxvY2F0aW9uc1tiXXx8KHRoaXMubG9jYXRpb25zW2JdPXt9KTt0aGlzLmxvY2F0aW9uc1tiXVtjXT1hfX07dmFyIGg9e2Rpc3BsYXk6XCJibG9ja1wiLHdpZHRoOlwiMHB4XCIsaGVpZ2h0OlwiMHB4XCIsXCJib3JkZXItY29sb3JcIjpcInRyYW5zcGFyZW50XCIsXG5cImJvcmRlci1zdHlsZVwiOlwic29saWRcIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLTZweFwifSxtPXtoZWlnaHQ6XCIwcHhcIixcImJvcmRlci10b3BcIjpcIjFweCBkYXNoZWQgcmVkXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLFwiei1pbmRleFwiOjk5OTl9O2UucHJvdG90eXBlPXtyZW1vdmVBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIGIgaW4gdGhpcy5oaWRkZW4pdGhpcy5oaWRkZW5bYl0ucmVtb3ZlKCksZGVsZXRlIHRoaXMuaGlkZGVuW2JdO2ZvcihiIGluIHRoaXMudmlzaWJsZSl0aGlzLnZpc2libGVbYl0ucmVtb3ZlKCksZGVsZXRlIHRoaXMudmlzaWJsZVtiXX0saGlkZUxpbmU6ZnVuY3Rpb24oYil7dmFyIGM9Yi5nZXRVbmlxdWVJZCgpO2IuaGlkZSgpO3RoaXMuaGlkZGVuW2NdPWI7ZGVsZXRlIHRoaXMudmlzaWJsZVtjXX0sc2hvd0xpbmU6ZnVuY3Rpb24oYil7dmFyIGM9Yi5nZXRVbmlxdWVJZCgpO2Iuc2hvdygpO3RoaXMudmlzaWJsZVtjXT1iO2RlbGV0ZSB0aGlzLmhpZGRlbltjXX0saGlkZVZpc2libGU6ZnVuY3Rpb24oKXtmb3IodmFyIGIgaW4gdGhpcy52aXNpYmxlKXRoaXMuaGlkZUxpbmUodGhpcy52aXNpYmxlW2JdKX0sXG5wbGFjZUxpbmU6ZnVuY3Rpb24oYixjKXt2YXIgYSxlLGc7aWYoYT10aGlzLmdldFN0eWxlKGIudWlkLGIudHlwZSkpe2ZvcihnIGluIHRoaXMudmlzaWJsZSlpZih0aGlzLnZpc2libGVbZ10uZ2V0Q3VzdG9tRGF0YShcImhhc2hcIikhPT10aGlzLmhhc2gpe2U9dGhpcy52aXNpYmxlW2ddO2JyZWFrfWlmKCFlKWZvcihnIGluIHRoaXMuaGlkZGVuKWlmKHRoaXMuaGlkZGVuW2ddLmdldEN1c3RvbURhdGEoXCJoYXNoXCIpIT09dGhpcy5oYXNoKXt0aGlzLnNob3dMaW5lKGU9dGhpcy5oaWRkZW5bZ10pO2JyZWFrfWV8fHRoaXMuc2hvd0xpbmUoZT10aGlzLmFkZExpbmUoKSk7ZS5zZXRDdXN0b21EYXRhKFwiaGFzaFwiLHRoaXMuaGFzaCk7dGhpcy52aXNpYmxlW2UuZ2V0VW5pcXVlSWQoKV09ZTtlLnNldFN0eWxlcyhhKTtjJiZjKGUpfX0sZ2V0U3R5bGU6ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzLnJlbGF0aW9uc1tiXSxlPXRoaXMubG9jYXRpb25zW2JdW2NdLGc9e307Zy53aWR0aD1hLnNpYmxpbmdSZWN0P1xuTWF0aC5tYXgoYS5zaWJsaW5nUmVjdC53aWR0aCxhLmVsZW1lbnRSZWN0LndpZHRoKTphLmVsZW1lbnRSZWN0LndpZHRoO2cudG9wPXRoaXMuaW5saW5lP2UrdGhpcy53aW5Ub3BTY3JvbGwueS10aGlzLnJlY3QucmVsYXRpdmVZOnRoaXMucmVjdC50b3ArdGhpcy53aW5Ub3BTY3JvbGwueStlO2lmKGcudG9wLXRoaXMud2luVG9wU2Nyb2xsLnk8dGhpcy5yZWN0LnRvcHx8Zy50b3AtdGhpcy53aW5Ub3BTY3JvbGwueT50aGlzLnJlY3QuYm90dG9tKXJldHVybiExO3RoaXMuaW5saW5lP2cubGVmdD1hLmVsZW1lbnRSZWN0LmxlZnQtdGhpcy5yZWN0LnJlbGF0aXZlWDooMDxhLmVsZW1lbnRSZWN0LmxlZnQ/Zy5sZWZ0PXRoaXMucmVjdC5sZWZ0K2EuZWxlbWVudFJlY3QubGVmdDooZy53aWR0aCs9YS5lbGVtZW50UmVjdC5sZWZ0LGcubGVmdD10aGlzLnJlY3QubGVmdCksMDwoYT1nLmxlZnQrZy53aWR0aC0odGhpcy5yZWN0LmxlZnQrdGhpcy53aW5QYW5lLndpZHRoKSkmJihnLndpZHRoLT1cbmEpKTtnLmxlZnQrPXRoaXMud2luVG9wU2Nyb2xsLng7Zm9yKHZhciBoIGluIGcpZ1toXT1DS0VESVRPUi50b29scy5jc3NMZW5ndGgoZ1toXSk7cmV0dXJuIGd9LGFkZExpbmU6ZnVuY3Rpb24oKXt2YXIgYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCh0aGlzLmxpbmVUcGwpO2IuYXBwZW5kVG8odGhpcy5jb250YWluZXIpO3JldHVybiBifSxwcmVwYXJlOmZ1bmN0aW9uKGIsYyl7dGhpcy5yZWxhdGlvbnM9Yjt0aGlzLmxvY2F0aW9ucz1jO3RoaXMuaGFzaD1NYXRoLnJhbmRvbSgpfSxjbGVhbnVwOmZ1bmN0aW9uKCl7dmFyIGIsYztmb3IoYyBpbiB0aGlzLnZpc2libGUpYj10aGlzLnZpc2libGVbY10sYi5nZXRDdXN0b21EYXRhKFwiaGFzaFwiKSE9PXRoaXMuaGFzaCYmdGhpcy5oaWRlTGluZShiKX0scXVlcnlWaWV3cG9ydDpmdW5jdGlvbigpe3RoaXMud2luUGFuZT10aGlzLndpbi5nZXRWaWV3UGFuZVNpemUoKTt0aGlzLndpblRvcFNjcm9sbD10aGlzLndpblRvcC5nZXRTY3JvbGxQb3NpdGlvbigpO1xudGhpcy53aW5Ub3BQYW5lPXRoaXMud2luVG9wLmdldFZpZXdQYW5lU2l6ZSgpO3RoaXMucmVjdD10aGlzLmdldENsaWVudFJlY3QodGhpcy5pbmxpbmU/dGhpcy5lZGl0YWJsZTp0aGlzLmZyYW1lKX0sZ2V0Q2xpZW50UmVjdDpmdW5jdGlvbihiKXtiPWIuZ2V0Q2xpZW50UmVjdCgpO3ZhciBjPXRoaXMuY29udGFpbmVyLmdldERvY3VtZW50UG9zaXRpb24oKSxhPXRoaXMuY29udGFpbmVyLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKTtiLnJlbGF0aXZlWD1iLnJlbGF0aXZlWT0wO1wic3RhdGljXCIhPWEmJihiLnJlbGF0aXZlWT1jLnksYi5yZWxhdGl2ZVg9Yy54LGIudG9wLT1iLnJlbGF0aXZlWSxiLmJvdHRvbS09Yi5yZWxhdGl2ZVksYi5sZWZ0LT1iLnJlbGF0aXZlWCxiLnJpZ2h0LT1iLnJlbGF0aXZlWCk7cmV0dXJuIGJ9fTt2YXIgbD17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LGs9e2Fic29sdXRlOjEsZml4ZWQ6MX07Q0tFRElUT1IucGx1Z2lucy5saW5ldXRpbHM9e2ZpbmRlcjpjLFxubG9jYXRvcjpnLGxpbmVyOmV9fSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGMpe3JldHVybiBjLmdldE5hbWUmJiFjLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIil9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3aWRnZXRzZWxlY3Rpb25cIix7aW5pdDpmdW5jdGlvbihjKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgZT1DS0VESVRPUi5wbHVnaW5zLndpZGdldHNlbGVjdGlvbjtjLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKGIpe2I9Yi5lZGl0b3I7dmFyIGM9Yi5lZGl0YWJsZSgpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImtleWRvd25cIixmdW5jdGlvbihiKXtiLmRhdGEuZ2V0S2V5c3Ryb2tlKCk9PUNLRURJVE9SLkNUUkwrNjUmJkNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmFkZEZpbGxlcnMoYyl8fGUucmVtb3ZlRmlsbGVycyhjKX0sMCl9LG51bGwsbnVsbCwtMSk7Yi5vbihcInNlbGVjdGlvbkNoZWNrXCIsZnVuY3Rpb24oYil7ZS5yZW1vdmVGaWxsZXJzKGIuZWRpdG9yLmVkaXRhYmxlKCkpfSk7XG5iLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtiLmRhdGEuZGF0YVZhbHVlPWUuY2xlYW5QYXN0ZURhdGEoYi5kYXRhLmRhdGFWYWx1ZSl9KTtcInNlbGVjdGFsbFwiaW4gYi5wbHVnaW5zJiZlLmFkZFNlbGVjdEFsbEludGVncmF0aW9uKGIpfSl9fX0pO0NLRURJVE9SLnBsdWdpbnMud2lkZ2V0c2VsZWN0aW9uPXtzdGFydEZpbGxlcjpudWxsLGVuZEZpbGxlcjpudWxsLGZpbGxlckF0dHJpYnV0ZTpcImRhdGEtY2tlLWZpbGxlci13ZWJraXRcIixmaWxsZXJDb250ZW50OlwiXFx4MjZuYnNwO1wiLGZpbGxlclRhZ05hbWU6XCJkaXZcIixhZGRGaWxsZXJzOmZ1bmN0aW9uKGcpe3ZhciBlPWcuZWRpdG9yO2lmKCF0aGlzLmlzV2hvbGVDb250ZW50U2VsZWN0ZWQoZykmJjA8Zy5nZXRDaGlsZENvdW50KCkpe3ZhciBiPWcuZ2V0Rmlyc3QoYyksaD1nLmdldExhc3QoYyk7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFiLmlzRWRpdGFibGUoKSYmKHRoaXMuc3RhcnRGaWxsZXI9dGhpcy5jcmVhdGVGaWxsZXIoKSxcbmcuYXBwZW5kKHRoaXMuc3RhcnRGaWxsZXIsMSkpO2gmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhaC5pc0VkaXRhYmxlKCkmJih0aGlzLmVuZEZpbGxlcj10aGlzLmNyZWF0ZUZpbGxlcighMCksZy5hcHBlbmQodGhpcy5lbmRGaWxsZXIsMCkpO2lmKHRoaXMuaGFzRmlsbGVyKGcpKXJldHVybiBlPWUuY3JlYXRlUmFuZ2UoKSxlLnNlbGVjdE5vZGVDb250ZW50cyhnKSxlLnNlbGVjdCgpLCEwfXJldHVybiExfSxyZW1vdmVGaWxsZXJzOmZ1bmN0aW9uKGMpe2lmKHRoaXMuaGFzRmlsbGVyKGMpJiYhdGhpcy5pc1dob2xlQ29udGVudFNlbGVjdGVkKGMpKXt2YXIgZT1jLmZpbmRPbmUodGhpcy5maWxsZXJUYWdOYW1lK1wiW1wiK3RoaXMuZmlsbGVyQXR0cmlidXRlK1wiXFx4M2RzdGFydF1cIiksYj1jLmZpbmRPbmUodGhpcy5maWxsZXJUYWdOYW1lK1wiW1wiK3RoaXMuZmlsbGVyQXR0cmlidXRlK1wiXFx4M2RlbmRdXCIpO3RoaXMuc3RhcnRGaWxsZXImJmUmJnRoaXMuc3RhcnRGaWxsZXIuZXF1YWxzKGUpP1xudGhpcy5yZW1vdmVGaWxsZXIodGhpcy5zdGFydEZpbGxlcixjKTp0aGlzLnN0YXJ0RmlsbGVyPWU7dGhpcy5lbmRGaWxsZXImJmImJnRoaXMuZW5kRmlsbGVyLmVxdWFscyhiKT90aGlzLnJlbW92ZUZpbGxlcih0aGlzLmVuZEZpbGxlcixjKTp0aGlzLmVuZEZpbGxlcj1ifX0sY2xlYW5QYXN0ZURhdGE6ZnVuY3Rpb24oYyl7YyYmYy5sZW5ndGgmJihjPWMucmVwbGFjZSh0aGlzLmNyZWF0ZUZpbGxlclJlZ2V4KCksXCJcIikucmVwbGFjZSh0aGlzLmNyZWF0ZUZpbGxlclJlZ2V4KCEwKSxcIlwiKSk7cmV0dXJuIGN9LGlzV2hvbGVDb250ZW50U2VsZWN0ZWQ6ZnVuY3Rpb24oYyl7dmFyIGU9Yy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07cmV0dXJuIWV8fGUmJmUuY29sbGFwc2VkPyExOihlPWUuY2xvbmUoKSxlLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKSwhIShlJiZjJiZlLnN0YXJ0Q29udGFpbmVyJiZlLmVuZENvbnRhaW5lciYmMD09PWUuc3RhcnRPZmZzZXQmJlxuZS5lbmRPZmZzZXQ9PT1jLmdldENoaWxkQ291bnQoKSYmZS5zdGFydENvbnRhaW5lci5lcXVhbHMoYykmJmUuZW5kQ29udGFpbmVyLmVxdWFscyhjKSkpfSxoYXNGaWxsZXI6ZnVuY3Rpb24oYyl7cmV0dXJuIDA8Yy5maW5kKHRoaXMuZmlsbGVyVGFnTmFtZStcIltcIit0aGlzLmZpbGxlckF0dHJpYnV0ZStcIl1cIikuY291bnQoKX0sY3JlYXRlRmlsbGVyOmZ1bmN0aW9uKGMpe3ZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0aGlzLmZpbGxlclRhZ05hbWUpO2Uuc2V0SHRtbCh0aGlzLmZpbGxlckNvbnRlbnQpO2Uuc2V0QXR0cmlidXRlKHRoaXMuZmlsbGVyQXR0cmlidXRlLGM/XCJlbmRcIjpcInN0YXJ0XCIpO2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1ja2UtdGVtcFwiLDEpO2Uuc2V0U3R5bGVzKHtkaXNwbGF5OlwiYmxvY2tcIix3aWR0aDowLGhlaWdodDowLHBhZGRpbmc6MCxib3JkZXI6MCxtYXJnaW46MCxwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDpcIi05OTk5cHhcIixvcGFjaXR5OjAsXG5vdmVyZmxvdzpcImhpZGRlblwifSk7cmV0dXJuIGV9LHJlbW92ZUZpbGxlcjpmdW5jdGlvbihjLGUpe2lmKGMpe3ZhciBiPWUuZWRpdG9yLGg9ZS5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0uc3RhcnRQYXRoKCksbT1iLmNyZWF0ZVJhbmdlKCksbCxrO2guY29udGFpbnMoYykmJihsPWMuZ2V0SHRtbCgpLGs9ITApO2g9XCJzdGFydFwiPT1jLmdldEF0dHJpYnV0ZSh0aGlzLmZpbGxlckF0dHJpYnV0ZSk7Yy5yZW1vdmUoKTtsJiYwPGwubGVuZ3RoJiZsIT10aGlzLmZpbGxlckNvbnRlbnQ/KGUuaW5zZXJ0SHRtbEludG9SYW5nZShsLGIuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0pLG0uc2V0U3RhcnRBdChlLmdldENoaWxkKGUuZ2V0Q2hpbGRDb3VudCgpLTEpLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGIuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFttXSkpOmsmJihoP20uc2V0U3RhcnRBdChlLmdldEZpcnN0KCkuZ2V0TmV4dCgpLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTpcbm0uc2V0RW5kQXQoZS5nZXRMYXN0KCkuZ2V0UHJldmlvdXMoKSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxlLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW21dKSl9fSxjcmVhdGVGaWxsZXJSZWdleDpmdW5jdGlvbihjKXt2YXIgZT10aGlzLmNyZWF0ZUZpbGxlcihjKS5nZXRPdXRlckh0bWwoKS5yZXBsYWNlKC9zdHlsZT1cIlteXCJdKlwiL2dpLCdzdHlsZVxceDNkXCJbXlwiXSpcIicpLnJlcGxhY2UoLz5bXjxdKjwvZ2ksXCJcXHgzZVteXFx4M2NdKlxceDNjXCIpO3JldHVybiBuZXcgUmVnRXhwKChjP1wiXCI6XCJeXCIpK2UrKGM/XCIkXCI6XCJcIikpfSxhZGRTZWxlY3RBbGxJbnRlZ3JhdGlvbjpmdW5jdGlvbihjKXt2YXIgZT10aGlzO2MuZWRpdGFibGUoKS5hdHRhY2hMaXN0ZW5lcihjLFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXt2YXIgaD1jLmVkaXRhYmxlKCk7XCJzZWxlY3RBbGxcIj09Yi5kYXRhLm5hbWUmJmgmJmUuYWRkRmlsbGVycyhoKX0sbnVsbCxudWxsLDk5OTkpfX19KSgpO1xuXCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhKXt0aGlzLmVkaXRvcj1hO3RoaXMucmVnaXN0ZXJlZD17fTt0aGlzLmluc3RhbmNlcz17fTt0aGlzLnNlbGVjdGVkPVtdO3RoaXMud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT10aGlzLmZvY3VzZWQ9bnVsbDt0aGlzLl89e25leHRJZDowLHVwY2FzdHM6W10sdXBjYXN0Q2FsbGJhY2tzOltdLGZpbHRlcnM6e319O0godGhpcyk7Qyh0aGlzKTt0aGlzLm9uKFwiY2hlY2tXaWRnZXRzXCIsbCk7dGhpcy5lZGl0b3Iub24oXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIix0aGlzLmNoZWNrV2lkZ2V0cyx0aGlzKTt5KHRoaXMpO3codGhpcyk7dih0aGlzKTtCKHRoaXMpO0YodGhpcyl9ZnVuY3Rpb24gZyhhLGIsYyxkLGUpe3ZhciBmPWEuZWRpdG9yO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGQse2VkaXRvcjpmLGlkOmIsaW5saW5lOlwic3BhblwiPT1jLmdldFBhcmVudCgpLmdldE5hbWUoKSxlbGVtZW50OmMsZGF0YTpDS0VESVRPUi50b29scy5leHRlbmQoe30sXG5cImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmRlZmF1bHRzP2QuZGVmYXVsdHMoKTpkLmRlZmF1bHRzKSxkYXRhUmVhZHk6ITEsaW5pdGVkOiExLHJlYWR5OiExLGVkaXQ6Zy5wcm90b3R5cGUuZWRpdCxmb2N1c2VkRWRpdGFibGU6bnVsbCxkZWZpbml0aW9uOmQscmVwb3NpdG9yeTphLGRyYWdnYWJsZTohMSE9PWQuZHJhZ2dhYmxlLF86e2Rvd25jYXN0Rm46ZC5kb3duY2FzdCYmXCJzdHJpbmdcIj09dHlwZW9mIGQuZG93bmNhc3Q/ZC5kb3duY2FzdHNbZC5kb3duY2FzdF06ZC5kb3duY2FzdH19LCEwKTthLmZpcmUoXCJpbnN0YW5jZUNyZWF0ZWRcIix0aGlzKTtKKHRoaXMsZCk7dGhpcy5pbml0JiZ0aGlzLmluaXQoKTt0aGlzLmluaXRlZD0hMDsoYT10aGlzLmVsZW1lbnQuZGF0YShcImNrZS13aWRnZXQtZGF0YVwiKSkmJnRoaXMuc2V0RGF0YShKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChhKSkpO2UmJnRoaXMuc2V0RGF0YShlKTt0aGlzLmRhdGEuY2xhc3Nlc3x8dGhpcy5zZXREYXRhKFwiY2xhc3Nlc1wiLFxudGhpcy5nZXRDbGFzc2VzKCkpO3RoaXMuZGF0YVJlYWR5PSEwO2RhKHRoaXMpO3RoaXMuZmlyZShcImRhdGFcIix0aGlzLmRhdGEpO3RoaXMuaXNJbml0ZWQoKSYmZi5lZGl0YWJsZSgpLmNvbnRhaW5zKHRoaXMud3JhcHBlcikmJih0aGlzLnJlYWR5PSEwLHRoaXMuZmlyZShcInJlYWR5XCIpKX1mdW5jdGlvbiBlKGEsYixjKXtDS0VESVRPUi5kb20uZWxlbWVudC5jYWxsKHRoaXMsYi4kKTt0aGlzLmVkaXRvcj1hO3RoaXMuXz17fTtiPXRoaXMuZmlsdGVyPWMuZmlsdGVyO0NLRURJVE9SLmR0ZFt0aGlzLmdldE5hbWUoKV0ucD8odGhpcy5lbnRlck1vZGU9Yj9iLmdldEFsbG93ZWRFbnRlck1vZGUoYS5lbnRlck1vZGUpOmEuZW50ZXJNb2RlLHRoaXMuc2hpZnRFbnRlck1vZGU9Yj9iLmdldEFsbG93ZWRFbnRlck1vZGUoYS5zaGlmdEVudGVyTW9kZSwhMCk6YS5zaGlmdEVudGVyTW9kZSk6dGhpcy5lbnRlck1vZGU9dGhpcy5zaGlmdEVudGVyTW9kZT1DS0VESVRPUi5FTlRFUl9CUn1mdW5jdGlvbiBiKGEsXG5iKXthLmFkZENvbW1hbmQoYi5uYW1lLHtleGVjOmZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZCgpe2Eud2lkZ2V0cy5maW5hbGl6ZUNyZWF0aW9uKGgpfXZhciBlPWEud2lkZ2V0cy5mb2N1c2VkO2lmKGUmJmUubmFtZT09Yi5uYW1lKWUuZWRpdCgpO2Vsc2UgaWYoYi5pbnNlcnQpYi5pbnNlcnQoe2VkaXRvcjphLGNvbW1hbmREYXRhOmN9KTtlbHNlIGlmKGIudGVtcGxhdGUpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGIuZGVmYXVsdHM/Yi5kZWZhdWx0cygpOmIuZGVmYXVsdHMsZT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChiLnRlbXBsYXRlLm91dHB1dChlKSxhLmRvY3VtZW50KSxmLGc9YS53aWRnZXRzLndyYXBFbGVtZW50KGUsYi5uYW1lKSxoPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChnLmdldERvY3VtZW50KCkpO2guYXBwZW5kKGcpOyhmPWEud2lkZ2V0cy5pbml0T24oZSxiLGMmJmMuc3RhcnR1cERhdGEpKT8oZT1mLm9uY2UoXCJlZGl0XCIsXG5mdW5jdGlvbihiKXtpZihiLmRhdGEuZGlhbG9nKWYub25jZShcImRpYWxvZ1wiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhO3ZhciBjLGU7Yz1iLm9uY2UoXCJva1wiLGQsbnVsbCxudWxsLDIwKTtlPWIub25jZShcImNhbmNlbFwiLGZ1bmN0aW9uKGIpe2IuZGF0YSYmITE9PT1iLmRhdGEuaGlkZXx8YS53aWRnZXRzLmRlc3Ryb3koZiwhMCl9KTtiLm9uY2UoXCJoaWRlXCIsZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKCk7ZS5yZW1vdmVMaXN0ZW5lcigpfSl9KTtlbHNlIGQoKX0sbnVsbCxudWxsLDk5OSksZi5lZGl0KCksZS5yZW1vdmVMaXN0ZW5lcigpKTpkKCl9fSxhbGxvd2VkQ29udGVudDpiLmFsbG93ZWRDb250ZW50LHJlcXVpcmVkQ29udGVudDpiLnJlcXVpcmVkQ29udGVudCxjb250ZW50Rm9ybXM6Yi5jb250ZW50Rm9ybXMsY29udGVudFRyYW5zZm9ybWF0aW9uczpiLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnN9KX1mdW5jdGlvbiBoKGEsYil7ZnVuY3Rpb24gYyhhLGQpe3ZhciBlPWIudXBjYXN0LnNwbGl0KFwiLFwiKSxcbmYsZztmb3IoZz0wO2c8ZS5sZW5ndGg7ZysrKWlmKGY9ZVtnXSxmPT09YS5uYW1lKXJldHVybiBiLnVwY2FzdHNbZl0uY2FsbCh0aGlzLGEsZCk7cmV0dXJuITF9ZnVuY3Rpb24gZChiLGMsZSl7dmFyIGY9Q0tFRElUT1IudG9vbHMuZ2V0SW5kZXgoYS5fLnVwY2FzdHMsZnVuY3Rpb24oYSl7cmV0dXJuIGFbMl0+ZX0pOzA+ZiYmKGY9YS5fLnVwY2FzdHMubGVuZ3RoKTthLl8udXBjYXN0cy5zcGxpY2UoZiwwLFtDS0VESVRPUi50b29scy5iaW5kKGIsYyksYy5uYW1lLGVdKX12YXIgZT1iLnVwY2FzdCxmPWIudXBjYXN0UHJpb3JpdHl8fDEwO2UmJihcInN0cmluZ1wiPT10eXBlb2YgZT9kKGMsYixmKTpkKGUsYixmKSl9ZnVuY3Rpb24gbShhLGIpe2EuZm9jdXNlZD1udWxsO2lmKGIuaXNJbml0ZWQoKSl7dmFyIGM9Yi5lZGl0b3IuY2hlY2tEaXJ0eSgpO2EuZmlyZShcIndpZGdldEJsdXJyZWRcIix7d2lkZ2V0OmJ9KTtiLnNldEZvY3VzZWQoITEpOyFjJiZiLmVkaXRvci5yZXNldERpcnR5KCl9fVxuZnVuY3Rpb24gbChhKXthPWEuZGF0YTtpZihcInd5c2l3eWdcIj09dGhpcy5lZGl0b3IubW9kZSl7dmFyIGI9dGhpcy5lZGl0b3IuZWRpdGFibGUoKSxjPXRoaXMuaW5zdGFuY2VzLGQsZSxmLGg7aWYoYil7Zm9yKGQgaW4gYyljW2RdLmlzUmVhZHkoKSYmIWIuY29udGFpbnMoY1tkXS53cmFwcGVyKSYmdGhpcy5kZXN0cm95KGNbZF0sITApO2lmKGEmJmEuaW5pdE9ubHlOZXcpYz10aGlzLmluaXRPbkFsbCgpO2Vsc2V7dmFyIGs9Yi5maW5kKFwiLmNrZV93aWRnZXRfd3JhcHBlclwiKSxjPVtdO2Q9MDtmb3IoZT1rLmNvdW50KCk7ZDxlO2QrKyl7Zj1rLmdldEl0ZW0oZCk7aWYoaD0hdGhpcy5nZXRCeUVsZW1lbnQoZiwhMCkpe2E6e2g9cTtmb3IodmFyIGw9ZjtsPWwuZ2V0UGFyZW50KCk7KWlmKGgobCkpe2g9ITA7YnJlYWsgYX1oPSExfWg9IWh9aCYmYi5jb250YWlucyhmKSYmKGYuYWRkQ2xhc3MoXCJja2Vfd2lkZ2V0X25ld1wiKSxjLnB1c2godGhpcy5pbml0T24oZi5nZXRGaXJzdChnLmlzRG9tV2lkZ2V0RWxlbWVudCkpKSl9fWEmJlxuYS5mb2N1c0luaXRlZCYmMT09Yy5sZW5ndGgmJmNbMF0uZm9jdXMoKX19fWZ1bmN0aW9uIGsoYSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzW1wiZGF0YS13aWRnZXRcIl0pe3ZhciBiPWQoYSksYz1mKGEpLGU9ITE7YiYmYi52YWx1ZSYmYi52YWx1ZS5tYXRjaCgvXlxccy9nKSYmKGIucGFyZW50LmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aGl0ZS1zcGFjZS1maXJzdFwiXT0xLGIudmFsdWU9Yi52YWx1ZS5yZXBsYWNlKC9eXFxzL2csXCJcXHgyNm5ic3A7XCIpLGU9ITApO2MmJmMudmFsdWUmJmMudmFsdWUubWF0Y2goL1xccyQvZykmJihjLnBhcmVudC5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2hpdGUtc3BhY2UtbGFzdFwiXT0xLGMudmFsdWU9Yy52YWx1ZS5yZXBsYWNlKC9cXHMkL2csXCJcXHgyNm5ic3A7XCIpLGU9ITApO2UmJihhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtd2hpdGUtc3BhY2VcIl09MSl9fWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEuZmluZChmdW5jdGlvbihhKXtyZXR1cm4gMz09PVxuYS50eXBlfSwhMCkuc2hpZnQoKX1mdW5jdGlvbiBmKGEpe3JldHVybiBhLmZpbmQoZnVuY3Rpb24oYSl7cmV0dXJuIDM9PT1hLnR5cGV9LCEwKS5wb3AoKX1mdW5jdGlvbiBhKGEsYixjKXtpZighYy5hbGxvd2VkQ29udGVudCYmIWMuZGlzYWxsb3dlZENvbnRlbnQpcmV0dXJuIG51bGw7dmFyIGQ9dGhpcy5fLmZpbHRlcnNbYV07ZHx8KHRoaXMuXy5maWx0ZXJzW2FdPWQ9e30pO2E9ZFtiXTthfHwoYT1jLmFsbG93ZWRDb250ZW50P25ldyBDS0VESVRPUi5maWx0ZXIoYy5hbGxvd2VkQ29udGVudCk6dGhpcy5lZGl0b3IuZmlsdGVyLmNsb25lKCksZFtiXT1hLGMuZGlzYWxsb3dlZENvbnRlbnQmJmEuZGlzYWxsb3coYy5kaXNhbGxvd2VkQ29udGVudCkpO3JldHVybiBhfWZ1bmN0aW9uIG4oYSl7dmFyIGI9W10sYz1hLl8udXBjYXN0cyxkPWEuXy51cGNhc3RDYWxsYmFja3M7cmV0dXJue3RvQmVXcmFwcGVkOmIsaXRlcmF0b3I6ZnVuY3Rpb24oYSl7dmFyIGUsZixoLGssbDtpZihcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJpblxuYS5hdHRyaWJ1dGVzKXJldHVybihhPWEuZ2V0Rmlyc3QoZy5pc1BhcnNlcldpZGdldEVsZW1lbnQpKSYmYi5wdXNoKFthXSksITE7aWYoXCJkYXRhLXdpZGdldFwiaW4gYS5hdHRyaWJ1dGVzKXJldHVybiBiLnB1c2goW2FdKSwhMTtpZihsPWMubGVuZ3RoKXtpZihhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtdXBjYXN0ZWRcIl0pcmV0dXJuITE7az0wO2ZvcihlPWQubGVuZ3RoO2s8ZTsrK2spaWYoITE9PT1kW2tdKGEpKXJldHVybjtmb3Ioaz0wO2s8bDsrK2spaWYoZT1jW2tdLGg9e30sZj1lWzBdKGEsaCkpcmV0dXJuIGYgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQmJihhPWYpLGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC1kYXRhXCJdPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShoKSksYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LXVwY2FzdGVkXCJdPTEsYi5wdXNoKFthLGVbMV1dKSwhMX19fX1mdW5jdGlvbiByKGEsYil7cmV0dXJue3RhYmluZGV4Oi0xLFxuY29udGVudGVkaXRhYmxlOlwiZmFsc2VcIixcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCI6MSxcImRhdGEtY2tlLWZpbHRlclwiOlwib2ZmXCIsXCJjbGFzc1wiOlwiY2tlX3dpZGdldF93cmFwcGVyIGNrZV93aWRnZXRfbmV3IGNrZV93aWRnZXRfXCIrKGE/XCJpbmxpbmVcIjpcImJsb2NrXCIpKyhiP1wiIGNrZV93aWRnZXRfXCIrYjpcIlwiKX19ZnVuY3Rpb24geChhLGIsYyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe3ZhciBkPUNLRURJVE9SLmR0ZFthLm5hbWVdO2lmKGQmJiFkW2MubmFtZV0pe3ZhciBkPWEuc3BsaXQoYiksZT1hLnBhcmVudDtiPWQuZ2V0SW5kZXgoKTthLmNoaWxkcmVuLmxlbmd0aHx8KC0tYixhLnJlbW92ZSgpKTtkLmNoaWxkcmVuLmxlbmd0aHx8ZC5yZW1vdmUoKTtyZXR1cm4geChlLGIsYyl9fWEuYWRkKGMsYil9ZnVuY3Rpb24gcChhLGIpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYS5pbmxpbmU/YS5pbmxpbmU6ISFDS0VESVRPUi5kdGQuJGlubGluZVtiXX1mdW5jdGlvbiBxKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIil9XG5mdW5jdGlvbiB1KGEsYixjLGQpe3ZhciBlPWEuZWRpdG9yO2UuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtjPyhkPWMuZGF0YShcImNrZS13aWRnZXQtZWRpdGFibGVcIiksZD1iLmVkaXRhYmxlc1tkXSxhLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU9YixiLmZvY3VzZWRFZGl0YWJsZT1kLGMuYWRkQ2xhc3MoXCJja2Vfd2lkZ2V0X2VkaXRhYmxlX2ZvY3VzZWRcIiksZC5maWx0ZXImJmUuc2V0QWN0aXZlRmlsdGVyKGQuZmlsdGVyKSxlLnNldEFjdGl2ZUVudGVyTW9kZShkLmVudGVyTW9kZSxkLnNoaWZ0RW50ZXJNb2RlKSk6KGR8fGIuZm9jdXNlZEVkaXRhYmxlLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZV9mb2N1c2VkXCIpLGIuZm9jdXNlZEVkaXRhYmxlPW51bGwsYS53aWRnZXRIb2xkaW5nRm9jdXNlZEVkaXRhYmxlPW51bGwsZS5zZXRBY3RpdmVGaWx0ZXIobnVsbCksZS5zZXRBY3RpdmVFbnRlck1vZGUobnVsbCxudWxsKSk7ZS5maXJlKFwidW5sb2NrU25hcHNob3RcIil9XG5mdW5jdGlvbiB6KGEpe2EuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYil7aWYoYj1hLndpZGdldHMuZ2V0QnlFbGVtZW50KGIsITApKXJldHVybiBiLmZpcmUoXCJjb250ZXh0TWVudVwiLHt9KX0pfWZ1bmN0aW9uIHQoYSxiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMudHJpbShiKX1mdW5jdGlvbiBCKGEpe3ZhciBiPWEuZWRpdG9yLGM9Q0tFRElUT1IucGx1Z2lucy5saW5ldXRpbHM7Yi5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGMpe3ZhciBkPWMuZGF0YS50YXJnZXQ7Zy5pc0RvbURyYWdIYW5kbGVyKGQpJiYoZD1hLmdldEJ5RWxlbWVudChkKSxjLmRhdGEuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJja2Uvd2lkZ2V0LWlkXCIsZC5pZCksYi5mb2N1cygpLGQuZm9jdXMoKSl9KTtiLm9uKFwiZHJvcFwiLGZ1bmN0aW9uKGMpe3ZhciBkPWMuZGF0YS5kYXRhVHJhbnNmZXIsZT1kLmdldERhdGEoXCJja2Uvd2lkZ2V0LWlkXCIpLGY9ZC5nZXRUcmFuc2ZlclR5cGUoYiksXG5kPWIuY3JlYXRlUmFuZ2UoKTtpZihcIlwiIT09ZSYmZj09PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUyljLmNhbmNlbCgpO2Vsc2UgaWYoZj09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTClpZihcIlwiPT09ZSYmMDxiLndpZGdldHMuc2VsZWN0ZWQubGVuZ3RoKWMuZGF0YS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvaHRtbFwiLE4oYikpO2Vsc2UgaWYoZT1hLmluc3RhbmNlc1tlXSlkLnNldFN0YXJ0QmVmb3JlKGUud3JhcHBlciksZC5zZXRFbmRBZnRlcihlLndyYXBwZXIpLGMuZGF0YS5kcmFnUmFuZ2U9ZCxkZWxldGUgQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZHJhZ1N0YXJ0Q29udGFpbmVyQ2hpbGRDb3VudCxkZWxldGUgQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZHJhZ0VuZENvbnRhaW5lckNoaWxkQ291bnQsYy5kYXRhLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9odG1sXCIsZS5nZXRDbGlwYm9hcmRIdG1sKCkpLGIud2lkZ2V0cy5kZXN0cm95KGUsXG4hMCl9KTtiLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7dmFyIGQ9Yi5lZGl0YWJsZSgpO0NLRURJVE9SLnRvb2xzLmV4dGVuZChhLHtmaW5kZXI6bmV3IGMuZmluZGVyKGIse2xvb2t1cHM6e1wiZGVmYXVsdFwiOmZ1bmN0aW9uKGIpe2lmKCFiLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiZiLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spJiYhZy5pc0RvbU5lc3RlZEVkaXRhYmxlKGIpJiYhYS5fLmRyYWdnZWRXaWRnZXQud3JhcHBlci5jb250YWlucyhiKSl7dmFyIGM9Zy5nZXROZXN0ZWRFZGl0YWJsZShkLGIpO2lmKGMpe2I9YS5fLmRyYWdnZWRXaWRnZXQ7aWYoYS5nZXRCeUVsZW1lbnQoYyk9PWIpcmV0dXJuO2M9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1tjLmRhdGEoXCJja2UtZmlsdGVyXCIpXTtiPWIucmVxdWlyZWRDb250ZW50O2lmKGMmJmImJiFjLmNoZWNrKGIpKXJldHVybn1yZXR1cm4gQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRXxDS0VESVRPUi5MSU5FVVRJTFNfQUZURVJ9fX19KSxcbmxvY2F0b3I6bmV3IGMubG9jYXRvcihiKSxsaW5lcjpuZXcgYy5saW5lcihiLHtsaW5lU3R5bGU6e2N1cnNvcjpcIm1vdmUgIWltcG9ydGFudFwiLFwiYm9yZGVyLXRvcC1jb2xvclwiOlwiIzY2NlwifSx0aXBMZWZ0U3R5bGU6e1wiYm9yZGVyLWxlZnQtY29sb3JcIjpcIiM2NjZcIn0sdGlwUmlnaHRTdHlsZTp7XCJib3JkZXItcmlnaHQtY29sb3JcIjpcIiM2NjZcIn19KX0sITApfSl9ZnVuY3Rpb24gdyhhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7dmFyIGM9Yi5lZGl0YWJsZSgpLGQ9Yy5pc0lubGluZSgpP2M6Yi5kb2N1bWVudCxlLGY7Yy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYyl7dmFyIGQ9Yy5kYXRhLmdldFRhcmdldCgpO2U9ZCBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2EuZ2V0QnlFbGVtZW50KGQpOm51bGw7Zj0wO2UmJihlLmlubGluZSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWRyYWctaGFuZGxlclwiKT9cbihmPTEsYS5mb2N1c2VkIT1lJiZiLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpKTpnLmdldE5lc3RlZEVkaXRhYmxlKGUud3JhcHBlcixkKT9lPW51bGw6KGMuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLENLRURJVE9SLmVudi5pZXx8ZS5mb2N1cygpKSl9KTtjLmF0dGFjaExpc3RlbmVyKGQsXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtmJiZlJiZlLndyYXBwZXImJihmPTAsZS5mb2N1cygpKX0pO0NLRURJVE9SLmVudi5pZSYmYy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2UmJmUud3JhcHBlciYmYy5jb250YWlucyhlLndyYXBwZXIpJiYoZS5mb2N1cygpLGU9bnVsbCl9KX0pfSk7Yi5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGM9YS5nZXRCeUVsZW1lbnQoYi5kYXRhLmVsZW1lbnQpO2lmKGMmJiFnLmdldE5lc3RlZEVkaXRhYmxlKGMud3JhcHBlcixiLmRhdGEuZWxlbWVudCkpcmV0dXJuIGMuZmlyZShcImRvdWJsZWNsaWNrXCIsXG57ZWxlbWVudDpiLmRhdGEuZWxlbWVudH0pfSxudWxsLG51bGwsMSl9ZnVuY3Rpb24gdihhKXthLmVkaXRvci5vbihcImtleVwiLGZ1bmN0aW9uKGIpe3ZhciBjPWEuZm9jdXNlZCxkPWEud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZSxlO2M/ZT1jLmZpcmUoXCJrZXlcIix7a2V5Q29kZTpiLmRhdGEua2V5Q29kZX0pOmQmJihjPWIuZGF0YS5rZXlDb2RlLGI9ZC5mb2N1c2VkRWRpdGFibGUsYz09Q0tFRElUT1IuQ1RSTCs2NT8oYz1iLmdldEJvZ3VzKCksZD1kLmVkaXRvci5jcmVhdGVSYW5nZSgpLGQuc2VsZWN0Tm9kZUNvbnRlbnRzKGIpLGMmJmQuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGQuc2VsZWN0KCksZT0hMSk6OD09Y3x8NDY9PWM/KGU9ZC5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksZD1lWzBdLGU9ISgxPT1lLmxlbmd0aCYmZC5jb2xsYXBzZWQmJmQuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLENLRURJVE9SWzg9PWM/XCJTVEFSVFwiOlxuXCJFTkRcIl0pKSk6ZT12b2lkIDApO3JldHVybiBlfSxudWxsLG51bGwsMSl9ZnVuY3Rpb24gRihhKXtmdW5jdGlvbiBiKGQpezE+YS5zZWxlY3RlZC5sZW5ndGh8fE8oYyxcImN1dFwiPT09ZC5uYW1lKX12YXIgYz1hLmVkaXRvcjtjLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5lZGl0YWJsZSgpO2EuYXR0YWNoTGlzdGVuZXIoYSxcImNvcHlcIixiKTthLmF0dGFjaExpc3RlbmVyKGEsXCJjdXRcIixiKX0pfWZ1bmN0aW9uIHkoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPWUuZ2V0U2VsZWN0aW9uKCk7aWYoYSYmKGE9YS5nZXRSYW5nZXMoKVswXSkmJiFhLmNvbGxhcHNlZCl7dmFyIGQ9YyhhLnN0YXJ0Q29udGFpbmVyKSxmPWMoYS5lbmRDb250YWluZXIpOyFkJiZmPyhhLnNldEVuZEJlZm9yZShmLndyYXBwZXIpLGEuc2VsZWN0KCkpOmQmJiFmJiYoYS5zZXRTdGFydEFmdGVyKGQud3JhcHBlciksYS5zZWxlY3QoKSl9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE/YS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/XG5jKGEuZ2V0UGFyZW50KCkpOmUud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYSk6bnVsbH1mdW5jdGlvbiBkKCl7YS5maXJlKFwiY2hlY2tTZWxlY3Rpb25cIil9dmFyIGU9YS5lZGl0b3I7ZS5vbihcInNlbGVjdGlvbkNoZWNrXCIsZCk7ZS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2UuZWRpdGFibGUoKS5hdHRhY2hMaXN0ZW5lcihlLFwia2V5XCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGQsMTApfSl9KTtpZighQ0tFRElUT1IuZW52LmllKWEub24oXCJjaGVja1NlbGVjdGlvblwiLGIpO2Eub24oXCJjaGVja1NlbGVjdGlvblwiLGEuY2hlY2tTZWxlY3Rpb24sYSk7ZS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe3ZhciBjPShiPWcuZ2V0TmVzdGVkRWRpdGFibGUoZS5lZGl0YWJsZSgpLGIuZGF0YS5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50KCkpKSYmYS5nZXRCeUVsZW1lbnQoYiksZD1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU7ZD9kPT09YyYmZC5mb2N1c2VkRWRpdGFibGUuZXF1YWxzKGIpfHxcbih1KGEsZCxudWxsKSxjJiZiJiZ1KGEsYyxiKSk6YyYmYiYmdShhLGMsYil9KTtlLm9uKFwiZGF0YVJlYWR5XCIsZnVuY3Rpb24oKXtHKGEpLmNvbW1pdCgpfSk7ZS5vbihcImJsdXJcIixmdW5jdGlvbigpe3ZhciBiOyhiPWEuZm9jdXNlZCkmJm0oYSxiKTsoYj1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGUpJiZ1KGEsYixudWxsKX0pfWZ1bmN0aW9uIEMoYSl7dmFyIGI9YS5lZGl0b3IsYz17fTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYil7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGg9W107Yi5kYXRhLmRvd25jYXN0aW5nU2Vzc2lvbklkPWU7Y1tlXT1oO2IuZGF0YS5kYXRhVmFsdWUuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1iLmF0dHJpYnV0ZXMsZTtpZihcImRhdGEtY2tlLXdpZGdldC13aGl0ZS1zcGFjZVwiaW4gYyl7ZT1kKGIpO3ZhciBrPWYoYik7ZS5wYXJlbnQuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdoaXRlLXNwYWNlLWZpcnN0XCJdJiZcbihlLnZhbHVlPWUudmFsdWUucmVwbGFjZSgvXiZuYnNwOy9nLFwiIFwiKSk7ay5wYXJlbnQuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdoaXRlLXNwYWNlLWxhc3RcIl0mJihrLnZhbHVlPWsudmFsdWUucmVwbGFjZSgvJm5ic3A7JC9nLFwiIFwiKSl9aWYoXCJkYXRhLWNrZS13aWRnZXQtaWRcImluIGMpe2lmKGM9YS5pbnN0YW5jZXNbY1tcImRhdGEtY2tlLXdpZGdldC1pZFwiXV0pZT1iLmdldEZpcnN0KGcuaXNQYXJzZXJXaWRnZXRFbGVtZW50KSxoLnB1c2goe3dyYXBwZXI6YixlbGVtZW50OmUsd2lkZ2V0OmMsZWRpdGFibGVzOnt9fSksXCIxXCIhPWUuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcIl0mJmRlbGV0ZSBlLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXX1lbHNlIGlmKFwiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCJpbiBjKXJldHVybiAwPGgubGVuZ3RoJiYoaFtoLmxlbmd0aC0xXS5lZGl0YWJsZXNbY1tcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiXV09YiksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCxcbiEwKX0sbnVsbCxudWxsLDgpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXtpZihhLmRhdGEuZG93bmNhc3RpbmdTZXNzaW9uSWQpZm9yKHZhciBiPWNbYS5kYXRhLmRvd25jYXN0aW5nU2Vzc2lvbklkXSxkLGUsZixnLGgsaztkPWIuc2hpZnQoKTspe2U9ZC53aWRnZXQ7Zj1kLmVsZW1lbnQ7Zz1lLl8uZG93bmNhc3RGbiYmZS5fLmRvd25jYXN0Rm4uY2FsbChlLGYpO2EuZGF0YS53aWRnZXRzQ29weSYmZS5nZXRDbGlwYm9hcmRIdG1sJiYoZz1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGUuZ2V0Q2xpcGJvYXJkSHRtbCgpKSxnPWcuY2hpbGRyZW5bMF0pO2ZvcihrIGluIGQuZWRpdGFibGVzKWg9ZC5lZGl0YWJsZXNba10sZGVsZXRlIGguYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGUsaC5zZXRIdG1sKGUuZWRpdGFibGVzW2tdLmdldERhdGEoKSk7Z3x8KGc9Zik7ZC53cmFwcGVyLnJlcGxhY2VXaXRoKGcpfX0sbnVsbCxudWxsLDEzKTtiLm9uKFwiY29udGVudERvbVVubG9hZFwiLFxuZnVuY3Rpb24oKXthLmRlc3Ryb3lBbGwoITApfSl9ZnVuY3Rpb24gSChhKXt2YXIgYj1hLmVkaXRvcixjLGQ7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGIpe3ZhciBkPW4oYSksZTtmb3IoYi5kYXRhLmRhdGFWYWx1ZS5mb3JFYWNoKGQuaXRlcmF0b3IsQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKTtlPWQudG9CZVdyYXBwZWQucG9wKCk7KXt2YXIgZj1lWzBdLGg9Zi5wYXJlbnQ7aC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJdJiZoLnJlcGxhY2VXaXRoKGYpO2Eud3JhcEVsZW1lbnQoZVswXSxlWzFdKX1jPWIuZGF0YS5wcm90ZWN0ZWRXaGl0ZXNwYWNlcz8zPT1iLmRhdGEuZGF0YVZhbHVlLmNoaWxkcmVuLmxlbmd0aCYmZy5pc1BhcnNlcldpZGdldFdyYXBwZXIoYi5kYXRhLmRhdGFWYWx1ZS5jaGlsZHJlblsxXSk6MT09Yi5kYXRhLmRhdGFWYWx1ZS5jaGlsZHJlbi5sZW5ndGgmJmcuaXNQYXJzZXJXaWRnZXRXcmFwcGVyKGIuZGF0YS5kYXRhVmFsdWUuY2hpbGRyZW5bMF0pfSxcbm51bGwsbnVsbCw4KTtiLm9uKFwiZGF0YVJlYWR5XCIsZnVuY3Rpb24oKXtpZihkKWZvcih2YXIgYz1iLmVkaXRhYmxlKCkuZmluZChcIi5ja2Vfd2lkZ2V0X3dyYXBwZXJcIiksZSxmLGg9MCxrPWMuY291bnQoKTtoPGs7KytoKWU9Yy5nZXRJdGVtKGgpLGY9ZS5nZXRGaXJzdChnLmlzRG9tV2lkZ2V0RWxlbWVudCksZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuZGF0YShcIndpZGdldFwiKT8oZi5yZXBsYWNlKGUpLGEud3JhcEVsZW1lbnQoZikpOmUucmVtb3ZlKCk7ZD0wO2EuZGVzdHJveUFsbCghMCk7YS5pbml0T25BbGwoKX0pO2Iub24oXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbihiKXsvZGF0YS1ja2Utd2lkZ2V0Ly50ZXN0KGIuZGF0YSkmJihkPTEpO2EuZGVzdHJveUFsbCghMCl9LG51bGwsbnVsbCw5KTtiLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXthPWEuZGF0YTthLmRhdGFWYWx1ZT1hLmRhdGFWYWx1ZS5yZXBsYWNlKFEsdCk7YS5yYW5nZSYmKGE9Zy5nZXROZXN0ZWRFZGl0YWJsZShiLmVkaXRhYmxlKCksXG5hLnJhbmdlLnN0YXJ0Q29udGFpbmVyKSkmJihhPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbYS5kYXRhKFwiY2tlLWZpbHRlclwiKV0pJiZiLnNldEFjdGl2ZUZpbHRlcihhKX0pO2Iub24oXCJhZnRlckluc2VydEh0bWxcIixmdW5jdGlvbihkKXtkLmRhdGEuaW50b1JhbmdlP2EuY2hlY2tXaWRnZXRzKHtpbml0T25seU5ldzohMH0pOihiLmZpcmUoXCJsb2NrU25hcHNob3RcIiksYS5jaGVja1dpZGdldHMoe2luaXRPbmx5TmV3OiEwLGZvY3VzSW5pdGVkOmN9KSxiLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSl9KX1mdW5jdGlvbiBHKGEpe3ZhciBiPWEuc2VsZWN0ZWQsYz1bXSxkPWIuc2xpY2UoMCksZT1udWxsO3JldHVybntzZWxlY3Q6ZnVuY3Rpb24oYSl7MD5DS0VESVRPUi50b29scy5pbmRleE9mKGIsYSkmJmMucHVzaChhKTthPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZCxhKTswPD1hJiZkLnNwbGljZShhLDEpO3JldHVybiB0aGlzfSxmb2N1czpmdW5jdGlvbihhKXtlPWE7cmV0dXJuIHRoaXN9LFxuY29tbWl0OmZ1bmN0aW9uKCl7dmFyIGY9YS5mb2N1c2VkIT09ZSxnLGg7YS5lZGl0b3IuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtmb3IoZiYmKGc9YS5mb2N1c2VkKSYmbShhLGcpO2c9ZC5wb3AoKTspYi5zcGxpY2UoQ0tFRElUT1IudG9vbHMuaW5kZXhPZihiLGcpLDEpLGcuaXNJbml0ZWQoKSYmKGg9Zy5lZGl0b3IuY2hlY2tEaXJ0eSgpLGcuc2V0U2VsZWN0ZWQoITEpLCFoJiZnLmVkaXRvci5yZXNldERpcnR5KCkpO2YmJmUmJihoPWEuZWRpdG9yLmNoZWNrRGlydHkoKSxhLmZvY3VzZWQ9ZSxhLmZpcmUoXCJ3aWRnZXRGb2N1c2VkXCIse3dpZGdldDplfSksZS5zZXRGb2N1c2VkKCEwKSwhaCYmYS5lZGl0b3IucmVzZXREaXJ0eSgpKTtmb3IoO2c9Yy5wb3AoKTspYi5wdXNoKGcpLGcuc2V0U2VsZWN0ZWQoITApO2EuZWRpdG9yLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKX19fWZ1bmN0aW9uIEwoYSl7YSYmYS5hZGRGaWx0ZXJSdWxlKGZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xccypja2Vfd2lkZ2V0X3NlbGVjdGVkL2csXG5cIlwiKS5yZXBsYWNlKC9cXHMqY2tlX3dpZGdldF9mb2N1c2VkL2csXCJcIikucmVwbGFjZSgvPHNwYW5bXj5dKmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcltePl0qLio/PFxcL3NwYW4+L2dtaSxcIlwiKX0pfWZ1bmN0aW9uIEUoYSxiLGMpe3ZhciBkPTA7Yj1LKGIpO3ZhciBlPWEuZGF0YS5jbGFzc2VzfHx7fSxmO2lmKGIpe2ZvcihlPUNLRURJVE9SLnRvb2xzLmNsb25lKGUpO2Y9Yi5wb3AoKTspYz9lW2ZdfHwoZD1lW2ZdPTEpOmVbZl0mJihkZWxldGUgZVtmXSxkPTEpO2QmJmEuc2V0RGF0YShcImNsYXNzZXNcIixlKX19ZnVuY3Rpb24gRChhKXthLmNhbmNlbCgpfWZ1bmN0aW9uIE8oYSxiKXt2YXIgYz1hLndpZGdldHMuZm9jdXNlZCxkLGUsZjtSLmhhc0NvcHlCaW4oYSl8fChlPW5ldyBSKGEse2JlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXshYiYmYyYmYy5mb2N1cygpO2YmJmEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0Qm9va21hcmtzKGYpO2QmJkNLRURJVE9SLnBsdWdpbnMud2lkZ2V0c2VsZWN0aW9uLmFkZEZpbGxlcnMoYS5lZGl0YWJsZSgpKX0sXG5hZnRlckRlc3Ryb3k6ZnVuY3Rpb24oKXtiJiYhYS5yZWFkT25seSYmKGM/YS53aWRnZXRzLmRlbChjKTphLmV4dHJhY3RTZWxlY3RlZEh0bWwoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIikpfX0pLGN8fChkPUNLRURJVE9SLmVudi53ZWJraXQmJkNLRURJVE9SLnBsdWdpbnMud2lkZ2V0c2VsZWN0aW9uLmlzV2hvbGVDb250ZW50U2VsZWN0ZWQoYS5lZGl0YWJsZSgpKSxmPWEuZ2V0U2VsZWN0aW9uKCkuY3JlYXRlQm9va21hcmtzKCEwKSksZS5oYW5kbGUoTihhKSkpfWZ1bmN0aW9uIEsoYSl7cmV0dXJuKGE9KGE9YS5nZXREZWZpbml0aW9uKCkuYXR0cmlidXRlcykmJmFbXCJjbGFzc1wiXSk/YS5zcGxpdCgvXFxzKy8pOm51bGx9ZnVuY3Rpb24gTSgpe3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpLGI9dGhpcy5lZGl0b3IsYz1iLmVkaXRhYmxlKCk7KGMuaXNJbmxpbmUoKT9jOmIuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSkuZXF1YWxzKGEpJiZiLmZvY3VzTWFuYWdlci5mb2N1cyhjKX1cbmZ1bmN0aW9uIEEoKXtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuZWRpdG9yLnVubG9ja1NlbGVjdGlvbigpO0NLRURJVE9SLmVudi53ZWJraXR8fCh0aGlzLmVkaXRvci5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKSl9ZnVuY3Rpb24gTihhKXt2YXIgYj1hLmdldFNlbGVjdGVkSHRtbCghMCk7aWYoYS53aWRnZXRzLmZvY3VzZWQpcmV0dXJuIGEud2lkZ2V0cy5mb2N1c2VkLmdldENsaXBib2FyZEh0bWwoKTthLm9uY2UoXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEud2lkZ2V0c0NvcHk9ITB9LG51bGwsbnVsbCwtMSk7cmV0dXJuIGEuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQoYil9ZnVuY3Rpb24gSihhLGIpe0koYSk7ZWEoYSk7VShhKTtZKGEpO2lhKGEpO2JhKGEpO1goYSk7aWYoQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uKWEud3JhcHBlci5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGIpe3ZhciBjPVxuYi5kYXRhLmdldFRhcmdldCgpO2cuZ2V0TmVzdGVkRWRpdGFibGUoYSxjKXx8YS5pbmxpbmUmJmcuaXNEb21EcmFnSGFuZGxlcihjKXx8Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9KTthLndyYXBwZXIucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X25ld1wiKTthLmVsZW1lbnQuYWRkQ2xhc3MoXCJja2Vfd2lkZ2V0X2VsZW1lbnRcIik7YS5vbihcImtleVwiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhLmtleUNvZGU7aWYoMTM9PWIpYS5lZGl0KCk7ZWxzZXtpZihiPT1DS0VESVRPUi5DVFJMKzY3fHxiPT1DS0VESVRPUi5DVFJMKzg4KXtPKGEuZWRpdG9yLGI9PUNLRURJVE9SLkNUUkwrODgpO3JldHVybn1pZihiIGluIFN8fENLRURJVE9SLkNUUkwmYnx8Q0tFRElUT1IuQUxUJmIpcmV0dXJufXJldHVybiExfSxudWxsLG51bGwsOTk5KTthLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihiKXthLmVkaXQoKSYmYi5jYW5jZWwoKX0pO2lmKGIuZGF0YSlhLm9uKFwiZGF0YVwiLGIuZGF0YSk7aWYoYi5lZGl0KWEub24oXCJlZGl0XCIsXG5iLmVkaXQpfWZ1bmN0aW9uIEkoYSl7KGEud3JhcHBlcj1hLmVsZW1lbnQuZ2V0UGFyZW50KCkpLnNldEF0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1pZFwiLGEuaWQpfWZ1bmN0aW9uIGVhKGEsYil7YS5wYXJ0U2VsZWN0b3JzfHwoYS5wYXJ0U2VsZWN0b3JzPWEucGFydHMpO2lmKGEucGFydHMpe3ZhciBjPXt9LGQsZTtmb3IoZSBpbiBhLnBhcnRTZWxlY3RvcnMpYnx8IWEucGFydHNbZV18fFwic3RyaW5nXCI9PXR5cGVvZiBhLnBhcnRzW2VdPyhkPWEud3JhcHBlci5maW5kT25lKGEucGFydFNlbGVjdG9yc1tlXSksY1tlXT1kKTpjW2VdPWEucGFydHNbZV07YS5wYXJ0cz1jfX1mdW5jdGlvbiBVKGEpe3ZhciBiPWEuZWRpdGFibGVzLGMsZDthLmVkaXRhYmxlcz17fTtpZihhLmVkaXRhYmxlcylmb3IoYyBpbiBiKWQ9YltjXSxhLmluaXRFZGl0YWJsZShjLFwic3RyaW5nXCI9PXR5cGVvZiBkP3tzZWxlY3RvcjpkfTpkKX1mdW5jdGlvbiBZKGEpe2lmKCEwPT09YS5tYXNrKWhhKGEpO2Vsc2UgaWYoYS5tYXNrKXt2YXIgYj1cbm5ldyBDS0VESVRPUi50b29scy5idWZmZXJzLnRocm90dGxlKDI1MCxXLGEpLGM9Q0tFRElUT1IuZW52LmdlY2tvPzMwMDowLGQsZTthLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2IuaW5wdXQoKTtkPWEuZWRpdG9yLm9uKFwiY2hhbmdlXCIsYi5pbnB1dCk7ZT1hLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVMaXN0ZW5lcigpO2UucmVtb3ZlTGlzdGVuZXIoKX0pfSk7YS5lZGl0b3Iub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5pbnB1dCgpfSxjKX0pO2EuZWRpdG9yLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2IuaW5wdXQoKX0sYyl9KTtpZihDS0VESVRPUi5lbnYuZ2Vja28pe3ZhciBmPWEuZWxlbWVudC5maW5kKFwiaW1nXCIpO0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goZi50b0FycmF5KCksZnVuY3Rpb24oYSl7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe2IuaW5wdXQoKX0pfSl9Zm9yKHZhciBnIGluIGEuZWRpdGFibGVzKWEuZWRpdGFibGVzW2ddLm9uKFwiZm9jdXNcIixcbmZ1bmN0aW9uKCl7YS5lZGl0b3Iub24oXCJjaGFuZ2VcIixiLmlucHV0KTtlJiZlLnJlbW92ZUxpc3RlbmVyKCl9KSxhLmVkaXRhYmxlc1tnXS5vbihcImJsdXJcIixmdW5jdGlvbigpe2EuZWRpdG9yLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsYi5pbnB1dCl9KTtiLmlucHV0KCl9fWZ1bmN0aW9uIGhhKGEpe3ZhciBiPWEud3JhcHBlci5maW5kT25lKFwiLmNrZV93aWRnZXRfbWFza1wiKTtifHwoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJpbWdcIixhLmVkaXRvci5kb2N1bWVudCksYi5zZXRBdHRyaWJ1dGVzKHtzcmM6Q0tFRElUT1IudG9vbHMudHJhbnNwYXJlbnRJbWFnZURhdGEsXCJjbGFzc1wiOlwiY2tlX3Jlc2V0IGNrZV93aWRnZXRfbWFza1wifSksYS53cmFwcGVyLmFwcGVuZChiKSk7YS5tYXNrPWJ9ZnVuY3Rpb24gVygpe2lmKHRoaXMud3JhcHBlcil7dGhpcy5tYXNrUGFydD10aGlzLm1hc2tQYXJ0fHx0aGlzLm1hc2s7dmFyIGE9dGhpcy5wYXJ0c1t0aGlzLm1hc2tQYXJ0XSxiO2lmKGEmJlxuXCJzdHJpbmdcIiE9dHlwZW9mIGEpe2I9dGhpcy53cmFwcGVyLmZpbmRPbmUoXCIuY2tlX3dpZGdldF9wYXJ0aWFsX21hc2tcIik7Ynx8KGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiaW1nXCIsdGhpcy5lZGl0b3IuZG9jdW1lbnQpLGIuc2V0QXR0cmlidXRlcyh7c3JjOkNLRURJVE9SLnRvb2xzLnRyYW5zcGFyZW50SW1hZ2VEYXRhLFwiY2xhc3NcIjpcImNrZV9yZXNldCBja2Vfd2lkZ2V0X3BhcnRpYWxfbWFza1wifSksdGhpcy53cmFwcGVyLmFwcGVuZChiKSk7dGhpcy5tYXNrPWI7dmFyIGM9Yi4kLGQ9YS4kLGU9IShjLm9mZnNldFRvcD09ZC5vZmZzZXRUb3AmJmMub2Zmc2V0TGVmdD09ZC5vZmZzZXRMZWZ0KTtpZihjLm9mZnNldFdpZHRoIT1kLm9mZnNldFdpZHRofHxjLm9mZnNldEhlaWdodCE9ZC5vZmZzZXRIZWlnaHR8fGUpYz1hLmdldFBhcmVudCgpLGQ9Q0tFRElUT1IucGx1Z2lucy53aWRnZXQuaXNEb21XaWRnZXQoYyksYi5zZXRTdHlsZXMoe3RvcDphLiQub2Zmc2V0VG9wKyhkP1xuMDpjLiQub2Zmc2V0VG9wKStcInB4XCIsbGVmdDphLiQub2Zmc2V0TGVmdCsoZD8wOmMuJC5vZmZzZXRMZWZ0KStcInB4XCIsd2lkdGg6YS4kLm9mZnNldFdpZHRoK1wicHhcIixoZWlnaHQ6YS4kLm9mZnNldEhlaWdodCtcInB4XCJ9KX19fWZ1bmN0aW9uIGlhKGEpe2lmKGEuZHJhZ2dhYmxlKXt2YXIgYj1hLmVkaXRvcixjPWEud3JhcHBlci5nZXRMYXN0KGcuaXNEb21EcmFnSGFuZGxlckNvbnRhaW5lciksZDtjP2Q9Yy5maW5kT25lKFwiaW1nXCIpOihjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIixiLmRvY3VtZW50KSxjLnNldEF0dHJpYnV0ZXMoe1wiY2xhc3NcIjpcImNrZV9yZXNldCBja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcl9jb250YWluZXJcIixzdHlsZTpcImJhY2tncm91bmQ6cmdiYSgyMjAsMjIwLDIyMCwwLjUpO2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiK2IucGx1Z2lucy53aWRnZXQucGF0aCtcImltYWdlcy9oYW5kbGUucG5nKTtkaXNwbGF5Om5vbmU7XCJ9KSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImltZ1wiLFxuYi5kb2N1bWVudCksZC5zZXRBdHRyaWJ1dGVzKHtcImNsYXNzXCI6XCJja2VfcmVzZXQgY2tlX3dpZGdldF9kcmFnX2hhbmRsZXJcIixcImRhdGEtY2tlLXdpZGdldC1kcmFnLWhhbmRsZXJcIjpcIjFcIixzcmM6Q0tFRElUT1IudG9vbHMudHJhbnNwYXJlbnRJbWFnZURhdGEsd2lkdGg6MTUsdGl0bGU6Yi5sYW5nLndpZGdldC5tb3ZlLGhlaWdodDoxNSxyb2xlOlwicHJlc2VudGF0aW9uXCJ9KSxhLmlubGluZSYmZC5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIixcInRydWVcIiksYy5hcHBlbmQoZCksYS53cmFwcGVyLmFwcGVuZChjKSk7YS53cmFwcGVyLm9uKFwiZHJhZ292ZXJcIixmdW5jdGlvbihhKXthLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2Eud3JhcHBlci5vbihcIm1vdXNlZW50ZXJcIixhLnVwZGF0ZURyYWdIYW5kbGVyUG9zaXRpb24sYSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Eub24oXCJkYXRhXCIsYS51cGRhdGVEcmFnSGFuZGxlclBvc2l0aW9uLGEpfSw1MCk7aWYoIWEuaW5saW5lJiYoZC5vbihcIm1vdXNlZG93blwiLFxuamEsYSksQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uKSlkLm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCEwKX0pO2EuZHJhZ0hhbmRsZXJDb250YWluZXI9Y319ZnVuY3Rpb24gamEoYSl7ZnVuY3Rpb24gYigpe3ZhciBjO2ZvcihwLnJlc2V0KCk7Yz1oLnBvcCgpOyljLnJlbW92ZUxpc3RlbmVyKCk7dmFyIGQ9aztjPWEuc2VuZGVyO3ZhciBlPXRoaXMucmVwb3NpdG9yeS5maW5kZXIsZj10aGlzLnJlcG9zaXRvcnkubGluZXIsZz10aGlzLmVkaXRvcixsPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCk7Q0tFRElUT1IudG9vbHMuaXNFbXB0eShmLnZpc2libGUpfHwoZD1lLmdldFJhbmdlKGRbMF0pLHRoaXMuZm9jdXMoKSxnLmZpcmUoXCJkcm9wXCIse2Ryb3BSYW5nZTpkLHRhcmdldDpkLnN0YXJ0Q29udGFpbmVyfSkpO2wucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X2RyYWdnaW5nXCIpO2YuaGlkZVZpc2libGUoKTtnLmZpcmUoXCJkcmFnZW5kXCIsXG57dGFyZ2V0OmN9KX1pZihDS0VESVRPUi50b29scy5nZXRNb3VzZUJ1dHRvbihhKT09PUNLRURJVE9SLk1PVVNFX0JVVFRPTl9MRUZUKXt2YXIgYz10aGlzLnJlcG9zaXRvcnkuZmluZGVyLGQ9dGhpcy5yZXBvc2l0b3J5LmxvY2F0b3IsZT10aGlzLnJlcG9zaXRvcnkubGluZXIsZj10aGlzLmVkaXRvcixnPWYuZWRpdGFibGUoKSxoPVtdLGs9W10sbCxtO3RoaXMucmVwb3NpdG9yeS5fLmRyYWdnZWRXaWRnZXQ9dGhpczt2YXIgbj1jLmdyZWVkeVNlYXJjaCgpLHA9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwLGZ1bmN0aW9uKCl7bD1kLmxvY2F0ZShuKTtrPWQuc29ydChtLDEpO2subGVuZ3RoJiYoZS5wcmVwYXJlKG4sbCksZS5wbGFjZUxpbmUoa1swXSksZS5jbGVhbnVwKCkpfSk7Zy5hZGRDbGFzcyhcImNrZV93aWRnZXRfZHJhZ2dpbmdcIik7aC5wdXNoKGcub24oXCJtb3VzZW1vdmVcIixmdW5jdGlvbihhKXttPWEuZGF0YS4kLmNsaWVudFk7cC5pbnB1dCgpfSkpO2YuZmlyZShcImRyYWdzdGFydFwiLFxue3RhcmdldDphLnNlbmRlcn0pO2gucHVzaChmLmRvY3VtZW50Lm9uY2UoXCJtb3VzZXVwXCIsYix0aGlzKSk7Zy5pc0lubGluZSgpfHxoLnB1c2goQ0tFRElUT1IuZG9jdW1lbnQub25jZShcIm1vdXNldXBcIixiLHRoaXMpKX19ZnVuY3Rpb24gYmEoYSl7dmFyIGI9bnVsbDthLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kYXRhLmNsYXNzZXMsYztpZihiIT1hKXtmb3IoYyBpbiBiKWEmJmFbY118fHRoaXMucmVtb3ZlQ2xhc3MoYyk7Zm9yKGMgaW4gYSl0aGlzLmFkZENsYXNzKGMpO2I9YX19KX1mdW5jdGlvbiBYKGEpe2Eub24oXCJkYXRhXCIsZnVuY3Rpb24oKXtpZihhLndyYXBwZXIpe3ZhciBiPXRoaXMuZ2V0TGFiZWw/dGhpcy5nZXRMYWJlbCgpOnRoaXMuZWRpdG9yLmxhbmcud2lkZ2V0LmxhYmVsLnJlcGxhY2UoLyUxLyx0aGlzLnBhdGhOYW1lfHx0aGlzLmVsZW1lbnQuZ2V0TmFtZSgpKTthLndyYXBwZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpO2Eud3JhcHBlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXG5iKX19LG51bGwsbnVsbCw5OTk5KX1mdW5jdGlvbiBkYShhKXthLmVsZW1lbnQuZGF0YShcImNrZS13aWRnZXQtZGF0YVwiLGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShhLmRhdGEpKSl9ZnVuY3Rpb24gWigpe2Z1bmN0aW9uIGEoKXt9ZnVuY3Rpb24gYihhLGMsZCl7cmV0dXJuIGQmJnRoaXMuY2hlY2tFbGVtZW50KGEpPyhhPWQud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYSwhMCkpJiZhLmNoZWNrU3R5bGVBY3RpdmUodGhpcyk6ITF9ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBiKGEsYyxkKXtmb3IodmFyIGU9YS5sZW5ndGgsZj0wO2Y8ZTspe2lmKGMuY2FsbChkLGFbZl0sZixhKSlyZXR1cm4gYVtmXTtmKyt9fWZ1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gYihhLGMpe3ZhciBkPUNLRURJVE9SLnRvb2xzLm9iamVjdC5rZXlzKGEpLGU9Q0tFRElUT1IudG9vbHMub2JqZWN0LmtleXMoYyk7aWYoZC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGYgaW4gYSlpZigoXCJvYmplY3RcIiE9PVxudHlwZW9mIGFbZl18fFwib2JqZWN0XCIhPT10eXBlb2YgY1tmXXx8IWIoYVtmXSxjW2ZdKSkmJmFbZl0hPT1jW2ZdKXJldHVybiExO3JldHVybiEwfXJldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYihhLmdldERlZmluaXRpb24oKSxjLmdldERlZmluaXRpb24oKSl9fXZhciBmPWEud2lkZ2V0LGc7ZFtmXXx8KGRbZl09e30pO2Zvcih2YXIgaD0wLGs9YS5ncm91cC5sZW5ndGg7aDxrO2grKylnPWEuZ3JvdXBbaF0sZFtmXVtnXXx8KGRbZl1bZ109W10pLGc9ZFtmXVtnXSxiKGcsZShhKSl8fGcucHVzaChhKX12YXIgZD17fTtDS0VESVRPUi5zdHlsZS5hZGRDdXN0b21IYW5kbGVyKHt0eXBlOlwid2lkZ2V0XCIsc2V0dXA6ZnVuY3Rpb24oYSl7dGhpcy53aWRnZXQ9YS53aWRnZXQ7KHRoaXMuZ3JvdXA9XCJzdHJpbmdcIj09dHlwZW9mIGEuZ3JvdXA/W2EuZ3JvdXBdOmEuZ3JvdXApJiZjKHRoaXMpfSxhcHBseTpmdW5jdGlvbihhKXt2YXIgYjthIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yJiZ0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksXG5hKSYmKGI9YS53aWRnZXRzLmZvY3VzZWQsdGhpcy5ncm91cCYmdGhpcy5yZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwKGEpLGIuYXBwbHlTdHlsZSh0aGlzKSl9LHJlbW92ZTpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yJiZ0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkmJmEud2lkZ2V0cy5mb2N1c2VkLnJlbW92ZVN0eWxlKHRoaXMpfSxyZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwOmZ1bmN0aW9uKGEpe3ZhciBiPSExLGMsZTtpZighKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3IpKXJldHVybiExO2U9YS5lbGVtZW50UGF0aCgpO2lmKHRoaXMuY2hlY2tBcHBsaWNhYmxlKGUsYSkpZm9yKHZhciBmPTAsZz10aGlzLmdyb3VwLmxlbmd0aDtmPGc7ZisrKXtjPWRbdGhpcy53aWRnZXRdW3RoaXMuZ3JvdXBbZl1dO2Zvcih2YXIgaD0wO2g8Yy5sZW5ndGg7aCsrKWNbaF0hPT10aGlzJiZjW2hdLmNoZWNrQWN0aXZlKGUsYSkmJihhLndpZGdldHMuZm9jdXNlZC5yZW1vdmVTdHlsZShjW2hdKSxcbmI9ITApfXJldHVybiBifSxjaGVja0FjdGl2ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNoZWNrRWxlbWVudE1hdGNoKGEubGFzdEVsZW1lbnQsMCxiKX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3I/dGhpcy5jaGVja0VsZW1lbnQoYS5sYXN0RWxlbWVudCk6ITF9LGNoZWNrRWxlbWVudE1hdGNoOmIsY2hlY2tFbGVtZW50UmVtb3ZhYmxlOmIsY2hlY2tFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiBnLmlzRG9tV2lkZ2V0V3JhcHBlcihhKT8oYT1hLmdldEZpcnN0KGcuaXNEb21XaWRnZXRFbGVtZW50KSkmJmEuZGF0YShcIndpZGdldFwiKT09dGhpcy53aWRnZXQ6ITF9LGJ1aWxkUHJldmlldzpmdW5jdGlvbihhKXtyZXR1cm4gYXx8dGhpcy5fLmRlZmluaXRpb24ubmFtZX0sdG9BbGxvd2VkQ29udGVudFJ1bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBudWxsO2E9YS53aWRnZXRzLnJlZ2lzdGVyZWRbdGhpcy53aWRnZXRdO1xudmFyIGIsYz17fTtpZighYSlyZXR1cm4gbnVsbDtpZihhLnN0eWxlYWJsZUVsZW1lbnRzKXtiPXRoaXMuZ2V0Q2xhc3Nlc0FycmF5KCk7aWYoIWIpcmV0dXJuIG51bGw7Y1thLnN0eWxlYWJsZUVsZW1lbnRzXT17Y2xhc3NlczpiLHByb3BlcnRpZXNPbmx5OiEwfTtyZXR1cm4gY31yZXR1cm4gYS5zdHlsZVRvQWxsb3dlZENvbnRlbnRSdWxlcz9hLnN0eWxlVG9BbGxvd2VkQ29udGVudFJ1bGVzKHRoaXMpOm51bGx9LGdldENsYXNzZXNBcnJheTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5kZWZpbml0aW9uLmF0dHJpYnV0ZXMmJnRoaXMuXy5kZWZpbml0aW9uLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXTtyZXR1cm4gYT9DS0VESVRPUi50b29scy50cmltKGEpLnNwbGl0KC9cXHMrLyk6bnVsbH0sYXBwbHlUb1JhbmdlOmEscmVtb3ZlRnJvbVJhbmdlOmEsYXBwbHlUb09iamVjdDphfSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3aWRnZXRcIix7cmVxdWlyZXM6XCJsaW5ldXRpbHMsY2xpcGJvYXJkLHdpZGdldHNlbGVjdGlvblwiLFxub25Mb2FkOmZ1bmN0aW9uKCl7dm9pZCAwIT09Q0tFRElUT1IuZG9jdW1lbnQuJC5xdWVyeVNlbGVjdG9yQWxsJiYoQ0tFRElUT1IuYWRkQ3NzKCcuY2tlX3dpZGdldF93cmFwcGVye3Bvc2l0aW9uOnJlbGF0aXZlO291dGxpbmU6bm9uZX0uY2tlX3dpZGdldF9pbmxpbmV7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlclxceDNlLmNrZV93aWRnZXRfZWxlbWVudHtvdXRsaW5lOjJweCBzb2xpZCAjZmZkMjVjO2N1cnNvcjpkZWZhdWx0fS5ja2Vfd2lkZ2V0X3dyYXBwZXI6aG92ZXIgLmNrZV93aWRnZXRfZWRpdGFibGV7b3V0bGluZToycHggc29saWQgI2ZmZDI1Y30uY2tlX3dpZGdldF93cmFwcGVyLmNrZV93aWRnZXRfZm9jdXNlZFxceDNlLmNrZV93aWRnZXRfZWxlbWVudCwuY2tlX3dpZGdldF93cmFwcGVyIC5ja2Vfd2lkZ2V0X2VkaXRhYmxlLmNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZHtvdXRsaW5lOjJweCBzb2xpZCAjNDdhNGY1fS5ja2Vfd2lkZ2V0X2VkaXRhYmxle2N1cnNvcjp0ZXh0fS5ja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcl9jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTVweDtoZWlnaHQ6MDtkaXNwbGF5OmJsb2NrO29wYWNpdHk6MC43NTt0cmFuc2l0aW9uOmhlaWdodCAwcyAwLjJzO2xpbmUtaGVpZ2h0OjB9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlclxceDNlLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcntoZWlnaHQ6MTVweDt0cmFuc2l0aW9uOm5vbmV9LmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcjpob3ZlcntvcGFjaXR5OjF9LmNrZV9lZGl0YWJsZVtjb250ZW50ZWRpdGFibGVcXHgzZFwiZmFsc2VcIl0gLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcntkaXNwbGF5Om5vbmU7fWltZy5ja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcntjdXJzb3I6bW92ZTt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5ja2Vfd2lkZ2V0X21hc2t7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpibG9ja30uY2tlX3dpZGdldF9wYXJ0aWFsX21hc2t7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9ja30uY2tlX2VkaXRhYmxlLmNrZV93aWRnZXRfZHJhZ2dpbmcsIC5ja2VfZWRpdGFibGUuY2tlX3dpZGdldF9kcmFnZ2luZyAqe2N1cnNvcjptb3ZlICFpbXBvcnRhbnR9JyksXG5aKCkpfSxiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PUNLRURJVE9SLmRvY3VtZW50LiQucXVlcnlTZWxlY3RvckFsbCYmKGEud2lkZ2V0cz1uZXcgYyhhKSl9LGFmdGVySW5pdDpmdW5jdGlvbihhKXtpZih2b2lkIDAhPT1DS0VESVRPUi5kb2N1bWVudC4kLnF1ZXJ5U2VsZWN0b3JBbGwpe3ZhciBiPWEud2lkZ2V0cy5yZWdpc3RlcmVkLGMsZCxlO2ZvcihkIGluIGIpYz1iW2RdLChlPWMuYnV0dG9uKSYmYS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKENLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUoYy5uYW1lLCEwKSx7bGFiZWw6ZSxjb21tYW5kOmMubmFtZSx0b29sYmFyOlwiaW5zZXJ0LDEwXCJ9KTt6KGEpO0woYS51bmRvTWFuYWdlcil9fX0pO2MucHJvdG90eXBlPXtNSU5fU0VMRUNUSU9OX0NIRUNLX0lOVEVSVkFMOjUwMCxhZGQ6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmVkaXRvcjtjPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KGMpO2MubmFtZT1hO1xuYy5fPWMuX3x8e307ZC5maXJlKFwid2lkZ2V0RGVmaW5pdGlvblwiLGMpO2MudGVtcGxhdGUmJihjLnRlbXBsYXRlPW5ldyBDS0VESVRPUi50ZW1wbGF0ZShjLnRlbXBsYXRlKSk7YihkLGMpO2godGhpcyxjKTt0aGlzLnJlZ2lzdGVyZWRbYV09YztpZihjLmRpYWxvZyYmZC5wbHVnaW5zLmRpYWxvZyl2YXIgZT1DS0VESVRPUi5vbihcImRpYWxvZ0RlZmluaXRpb25cIixmdW5jdGlvbihhKXthPWEuZGF0YS5kZWZpbml0aW9uO3ZhciBiPWEuZGlhbG9nO2EuZ2V0TW9kZXx8Yi5nZXROYW1lKCkhPT1jLmRpYWxvZ3x8KGEuZ2V0TW9kZT1mdW5jdGlvbigpe3ZhciBhPWIuZ2V0TW9kZWwoZCk7cmV0dXJuIGEmJmEgaW5zdGFuY2VvZiBDS0VESVRPUi5wbHVnaW5zLndpZGdldCYmYS5yZWFkeT9DS0VESVRPUi5kaWFsb2cuRURJVElOR19NT0RFOkNLRURJVE9SLmRpYWxvZy5DUkVBVElPTl9NT0RFfSk7ZS5yZW1vdmVMaXN0ZW5lcigpfSk7cmV0dXJuIGN9LGFkZFVwY2FzdENhbGxiYWNrOmZ1bmN0aW9uKGEpe3RoaXMuXy51cGNhc3RDYWxsYmFja3MucHVzaChhKX0sXG5jaGVja1NlbGVjdGlvbjpmdW5jdGlvbigpe2lmKHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpKXt2YXIgYT10aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKSxiPWEuZ2V0U2VsZWN0ZWRFbGVtZW50KCksYz1HKHRoaXMpLGQ7aWYoYiYmKGQ9dGhpcy5nZXRCeUVsZW1lbnQoYiwhMCkpKXJldHVybiBjLmZvY3VzKGQpLnNlbGVjdChkKS5jb21taXQoKTthPWEuZ2V0UmFuZ2VzKClbMF07aWYoIWF8fGEuY29sbGFwc2VkKXJldHVybiBjLmNvbW1pdCgpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSk7Zm9yKGEuZXZhbHVhdG9yPWcuaXNEb21XaWRnZXRXcmFwcGVyO2I9YS5uZXh0KCk7KWMuc2VsZWN0KHRoaXMuZ2V0QnlFbGVtZW50KGIpKTtjLmNvbW1pdCgpfX0sY2hlY2tXaWRnZXRzOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImNoZWNrV2lkZ2V0c1wiLENLRURJVE9SLnRvb2xzLmNvcHkoYXx8e30pKX0sZGVsOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZm9jdXNlZD09PWEpe3ZhciBiPWEuZWRpdG9yLFxuYz1iLmNyZWF0ZVJhbmdlKCksZDsoZD1jLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGEud3JhcHBlciwhMCkpfHwoZD1jLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGEud3JhcHBlciwhMSkpO2QmJmIuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSl9YS53cmFwcGVyLnJlbW92ZSgpO3RoaXMuZGVzdHJveShhLCEwKX0sZGVzdHJveTpmdW5jdGlvbihhLGIpe3RoaXMud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT09PWEmJnUodGhpcyxhLG51bGwsYik7YS5kZXN0cm95KGIpO2RlbGV0ZSB0aGlzLmluc3RhbmNlc1thLmlkXTt0aGlzLmZpcmUoXCJpbnN0YW5jZURlc3Ryb3llZFwiLGEpfSxkZXN0cm95QWxsOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPXRoaXMuaW5zdGFuY2VzO2lmKGImJiFhKXtkPWIuZmluZChcIi5ja2Vfd2lkZ2V0X3dyYXBwZXJcIik7Zm9yKHZhciBlPWQuY291bnQoKSxmPTA7ZjxlOysrZikoYz10aGlzLmdldEJ5RWxlbWVudChkLmdldEl0ZW0oZiksXG4hMCkpJiZ0aGlzLmRlc3Ryb3koYyl9ZWxzZSBmb3IoZCBpbiBlKWM9ZVtkXSx0aGlzLmRlc3Ryb3koYyxhKX0sZmluYWxpemVDcmVhdGlvbjpmdW5jdGlvbihhKXsoYT1hLmdldEZpcnN0KCkpJiZnLmlzRG9tV2lkZ2V0V3JhcHBlcihhKSYmKHRoaXMuZWRpdG9yLmluc2VydEVsZW1lbnQoYSksYT10aGlzLmdldEJ5RWxlbWVudChhKSxhLnJlYWR5PSEwLGEuZmlyZShcInJlYWR5XCIpLGEuZm9jdXMoKSl9LGdldEJ5RWxlbWVudDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGMuaXMoYikmJmMuZGF0YShcImNrZS13aWRnZXQtaWRcIil9dmFyIGI9e2RpdjoxLHNwYW46MX07cmV0dXJuIGZ1bmN0aW9uKGIsYyl7aWYoIWIpcmV0dXJuIG51bGw7dmFyIGQ9YShiKTtpZighYyYmIWQpe3ZhciBlPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCk7ZG8gYj1iLmdldFBhcmVudCgpO3doaWxlKGImJiFiLmVxdWFscyhlKSYmIShkPWEoYikpKX1yZXR1cm4gdGhpcy5pbnN0YW5jZXNbZF18fG51bGx9fSgpLFxuaW5pdE9uOmZ1bmN0aW9uKGEsYixjKXtiP1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj10aGlzLnJlZ2lzdGVyZWRbYl0pOmI9dGhpcy5yZWdpc3RlcmVkW2EuZGF0YShcIndpZGdldFwiKV07aWYoIWIpcmV0dXJuIG51bGw7dmFyIGQ9dGhpcy53cmFwRWxlbWVudChhLGIubmFtZSk7cmV0dXJuIGQ/ZC5oYXNDbGFzcyhcImNrZV93aWRnZXRfbmV3XCIpPyhhPW5ldyBnKHRoaXMsdGhpcy5fLm5leHRJZCsrLGEsYixjKSxhLmlzSW5pdGVkKCk/dGhpcy5pbnN0YW5jZXNbYS5pZF09YTpudWxsKTp0aGlzLmdldEJ5RWxlbWVudChhKTpudWxsfSxpbml0T25BbGw6ZnVuY3Rpb24oYSl7YT0oYXx8dGhpcy5lZGl0b3IuZWRpdGFibGUoKSkuZmluZChcIi5ja2Vfd2lkZ2V0X25ld1wiKTtmb3IodmFyIGI9W10sYyxkPWEuY291bnQoKTtkLS07KShjPXRoaXMuaW5pdE9uKGEuZ2V0SXRlbShkKS5nZXRGaXJzdChnLmlzRG9tV2lkZ2V0RWxlbWVudCkpKSYmYi5wdXNoKGMpO3JldHVybiBifSxvbldpZGdldDpmdW5jdGlvbihhKXt2YXIgYj1cbkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7Yi5zaGlmdCgpO2Zvcih2YXIgYyBpbiB0aGlzLmluc3RhbmNlcyl7dmFyIGQ9dGhpcy5pbnN0YW5jZXNbY107ZC5uYW1lPT1hJiZkLm9uLmFwcGx5KGQsYil9dGhpcy5vbihcImluc3RhbmNlQ3JlYXRlZFwiLGZ1bmN0aW9uKGMpe2M9Yy5kYXRhO2MubmFtZT09YSYmYy5vbi5hcHBseShjLGIpfSl9LHBhcnNlRWxlbWVudENsYXNzZXM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1DS0VESVRPUi50b29scy50cmltKGEpLnNwbGl0KC9cXHMrLyk7Zm9yKHZhciBiLGM9e30sZD0wO2I9YS5wb3AoKTspLTE9PWIuaW5kZXhPZihcImNrZV9cIikmJihjW2JdPWQ9MSk7cmV0dXJuIGQ/YzpudWxsfSx3cmFwRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGwsZCxlO2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCl7Yj1ifHxhLmRhdGEoXCJ3aWRnZXRcIik7ZD10aGlzLnJlZ2lzdGVyZWRbYl07aWYoIWQpcmV0dXJuIG51bGw7XG5pZigoYz1hLmdldFBhcmVudCgpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuZGF0YShcImNrZS13aWRnZXQtd3JhcHBlclwiKSlyZXR1cm4gYzthLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcIil8fGEuZGF0YShcImNrZS13aWRnZXQta2VlcC1hdHRyXCIsYS5kYXRhKFwid2lkZ2V0XCIpPzE6MCk7YS5kYXRhKFwid2lkZ2V0XCIsYik7KGU9cChkLGEuZ2V0TmFtZSgpKSkmJmsoYSk7Yz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZT9cInNwYW5cIjpcImRpdlwiLGEuZ2V0RG9jdW1lbnQoKSk7Yy5zZXRBdHRyaWJ1dGVzKHIoZSxiKSk7Yy5kYXRhKFwiY2tlLWRpc3BsYXktbmFtZVwiLGQucGF0aE5hbWU/ZC5wYXRoTmFtZTphLmdldE5hbWUoKSk7YS5nZXRQYXJlbnQoITApJiZjLnJlcGxhY2UoYSk7YS5hcHBlbmRUbyhjKX1lbHNlIGlmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQpe2I9Ynx8YS5hdHRyaWJ1dGVzW1wiZGF0YS13aWRnZXRcIl07XG5kPXRoaXMucmVnaXN0ZXJlZFtiXTtpZighZClyZXR1cm4gbnVsbDtpZigoYz1hLnBhcmVudCkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtd3JhcHBlclwiXSlyZXR1cm4gYztcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcImluIGEuYXR0cmlidXRlc3x8KGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcIl09YS5hdHRyaWJ1dGVzW1wiZGF0YS13aWRnZXRcIl0/MTowKTtiJiYoYS5hdHRyaWJ1dGVzW1wiZGF0YS13aWRnZXRcIl09Yik7KGU9cChkLGEubmFtZSkpJiZrKGEpO2M9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChlP1wic3BhblwiOlwiZGl2XCIscihlLGIpKTtjLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1kaXNwbGF5LW5hbWVcIl09ZC5wYXRoTmFtZT9kLnBhdGhOYW1lOmEubmFtZTtkPWEucGFyZW50O3ZhciBmO2QmJihmPWEuZ2V0SW5kZXgoKSxhLnJlbW92ZSgpKTtjLmFkZChhKTtkJiZ4KGQsXG5mLGMpfXJldHVybiBjfSxfdGVzdHNfY3JlYXRlRWRpdGFibGVGaWx0ZXI6YX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oYy5wcm90b3R5cGUpO2cucHJvdG90eXBlPXthZGRDbGFzczpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSk7dGhpcy53cmFwcGVyLmFkZENsYXNzKGcuV1JBUFBFUl9DTEFTU19QUkVGSVgrYSl9LGFwcGx5U3R5bGU6ZnVuY3Rpb24oYSl7RSh0aGlzLGEsMSl9LGNoZWNrU3R5bGVBY3RpdmU6ZnVuY3Rpb24oYSl7YT1LKGEpO3ZhciBiO2lmKCFhKXJldHVybiExO2Zvcig7Yj1hLnBvcCgpOylpZighdGhpcy5oYXNDbGFzcyhiKSlyZXR1cm4hMTtyZXR1cm4hMH0sZGVzdHJveTpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJkZXN0cm95XCIpO2lmKHRoaXMuZWRpdGFibGVzKWZvcih2YXIgYiBpbiB0aGlzLmVkaXRhYmxlcyl0aGlzLmRlc3Ryb3lFZGl0YWJsZShiLGEpO2F8fChcIjBcIj09dGhpcy5lbGVtZW50LmRhdGEoXCJja2Utd2lkZ2V0LWtlZXAtYXR0clwiKSYmXG50aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS13aWRnZXRcIiksdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZXMoW1wiZGF0YS1ja2Utd2lkZ2V0LWRhdGFcIixcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcIl0pLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWxlbWVudFwiKSx0aGlzLmVsZW1lbnQucmVwbGFjZSh0aGlzLndyYXBwZXIpKTt0aGlzLndyYXBwZXI9bnVsbH0sZGVzdHJveUVkaXRhYmxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGl0YWJsZXNbYV0sZD0hMDtjLnJlbW92ZUxpc3RlbmVyKFwiZm9jdXNcIixBKTtjLnJlbW92ZUxpc3RlbmVyKFwiYmx1clwiLE0pO3RoaXMuZWRpdG9yLmZvY3VzTWFuYWdlci5yZW1vdmUoYyk7aWYoYy5maWx0ZXIpe2Zvcih2YXIgZSBpbiB0aGlzLnJlcG9zaXRvcnkuaW5zdGFuY2VzKXt2YXIgZj10aGlzLnJlcG9zaXRvcnkuaW5zdGFuY2VzW2VdO2YuZWRpdGFibGVzJiYoZj1mLmVkaXRhYmxlc1thXSkmJmYhPT1cbmMmJmMuZmlsdGVyPT09Zi5maWx0ZXImJihkPSExKX1kJiYoYy5maWx0ZXIuZGVzdHJveSgpLChkPXRoaXMucmVwb3NpdG9yeS5fLmZpbHRlcnNbdGhpcy5uYW1lXSkmJmRlbGV0ZSBkW2FdKX1ifHwodGhpcy5yZXBvc2l0b3J5LmRlc3Ryb3lBbGwoITEsYyksYy5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVcIiksYy5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZFwiKSxjLnJlbW92ZUF0dHJpYnV0ZXMoW1wiY29udGVudGVkaXRhYmxlXCIsXCJkYXRhLWNrZS13aWRnZXQtZWRpdGFibGVcIixcImRhdGEtY2tlLWVudGVyLW1vZGVcIl0pKTtkZWxldGUgdGhpcy5lZGl0YWJsZXNbYV19LGVkaXQ6ZnVuY3Rpb24oKXt2YXIgYT17ZGlhbG9nOnRoaXMuZGlhbG9nfSxiPXRoaXM7aWYoITE9PT10aGlzLmZpcmUoXCJlZGl0XCIsYSl8fCFhLmRpYWxvZylyZXR1cm4hMTt0aGlzLmVkaXRvci5vcGVuRGlhbG9nKGEuZGlhbG9nLGZ1bmN0aW9uKGEpe3ZhciBjLGQ7ITEhPT1iLmZpcmUoXCJkaWFsb2dcIixcbmEpJiYoYz1hLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7YS5zZXR1cENvbnRlbnQoYil9KSxkPWEub24oXCJva1wiLGZ1bmN0aW9uKCl7dmFyIGMsZD1iLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGEpe2M9MTthLmNhbmNlbCgpfSxudWxsLG51bGwsMCk7Yi5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKTthLmNvbW1pdENvbnRlbnQoYik7ZC5yZW1vdmVMaXN0ZW5lcigpO2MmJihiLmZpcmUoXCJkYXRhXCIsYi5kYXRhKSxiLmVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpKX0pLGEub25jZShcImhpZGVcIixmdW5jdGlvbigpe2MucmVtb3ZlTGlzdGVuZXIoKTtkLnJlbW92ZUxpc3RlbmVyKCl9KSl9LGIpO3JldHVybiEwfSxnZXRDbGFzc2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwb3NpdG9yeS5wYXJzZUVsZW1lbnRDbGFzc2VzKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSl9LGdldENsaXBib2FyZEh0bWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvci5jcmVhdGVSYW5nZSgpO1xuYS5zZXRTdGFydEJlZm9yZSh0aGlzLndyYXBwZXIpO2Euc2V0RW5kQWZ0ZXIodGhpcy53cmFwcGVyKTtyZXR1cm4gdGhpcy5lZGl0b3IuZWRpdGFibGUoKS5nZXRIdG1sRnJvbVJhbmdlKGEpLmdldEh0bWwoKX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5oYXNDbGFzcyhhKX0saW5pdEVkaXRhYmxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5fZmluZE9uZU5vdE5lc3RlZChjLnNlbGVjdG9yKTtyZXR1cm4gZCYmZC5pcyhDS0VESVRPUi5kdGQuJGVkaXRhYmxlKT8oZD1uZXcgZSh0aGlzLmVkaXRvcixkLHtmaWx0ZXI6YS5jYWxsKHRoaXMucmVwb3NpdG9yeSx0aGlzLm5hbWUsYixjKX0pLHRoaXMuZWRpdGFibGVzW2JdPWQsZC5zZXRBdHRyaWJ1dGVzKHtjb250ZW50ZWRpdGFibGU6XCJ0cnVlXCIsXCJkYXRhLWNrZS13aWRnZXQtZWRpdGFibGVcIjpiLFwiZGF0YS1ja2UtZW50ZXItbW9kZVwiOmQuZW50ZXJNb2RlfSksZC5maWx0ZXImJmQuZGF0YShcImNrZS1maWx0ZXJcIixcbmQuZmlsdGVyLmlkKSxkLmFkZENsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZVwiKSxkLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZV9mb2N1c2VkXCIpLGMucGF0aE5hbWUmJmQuZGF0YShcImNrZS1kaXNwbGF5LW5hbWVcIixjLnBhdGhOYW1lKSx0aGlzLmVkaXRvci5mb2N1c01hbmFnZXIuYWRkKGQpLGQub24oXCJmb2N1c1wiLEEsdGhpcyksQ0tFRElUT1IuZW52LmllJiZkLm9uKFwiYmx1clwiLE0sdGhpcyksZC5fLmluaXRpYWxTZXREYXRhPSEwLGQuc2V0RGF0YShkLmdldEh0bWwoKSksITApOiExfSxfZmluZE9uZU5vdE5lc3RlZDpmdW5jdGlvbihhKXthPXRoaXMud3JhcHBlci5maW5kKGEpO2Zvcih2YXIgYixjLGQ9MDtkPGEuY291bnQoKTtkKyspaWYoYj1hLmdldEl0ZW0oZCksYz1iLmdldEFzY2VuZGFudChnLmlzRG9tV2lkZ2V0V3JhcHBlciksdGhpcy53cmFwcGVyLmVxdWFscyhjKSlyZXR1cm4gYjtyZXR1cm4gbnVsbH0saXNJbml0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLndyYXBwZXJ8fFxuIXRoaXMuaW5pdGVkKX0saXNSZWFkeTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzSW5pdGVkKCkmJnRoaXMucmVhZHl9LGZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCk7aWYoYSl7dmFyIGI9dGhpcy5lZGl0b3IuY2hlY2tEaXJ0eSgpO2EuZmFrZSh0aGlzLndyYXBwZXIpOyFiJiZ0aGlzLmVkaXRvci5yZXNldERpcnR5KCl9dGhpcy5lZGl0b3IuZm9jdXMoKX0scmVmcmVzaE1hc2s6ZnVuY3Rpb24oKXtZKHRoaXMpfSxyZWZyZXNoUGFydHM6ZnVuY3Rpb24oYSl7ZWEodGhpcyxcInVuZGVmaW5lZFwiIT09dHlwZW9mIGE/YTohMCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhhKTt0aGlzLndyYXBwZXIucmVtb3ZlQ2xhc3MoZy5XUkFQUEVSX0NMQVNTX1BSRUZJWCthKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7RSh0aGlzLGEsMCl9LHNldERhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmRhdGEsXG5kPTA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpY1thXSE9PWImJihjW2FdPWIsZD0xKTtlbHNle3ZhciBlPWE7Zm9yKGEgaW4gZSljW2FdIT09ZVthXSYmKGQ9MSxjW2FdPWVbYV0pfWQmJnRoaXMuZGF0YVJlYWR5JiYoZGEodGhpcyksdGhpcy5maXJlKFwiZGF0YVwiLGMpKTtyZXR1cm4gdGhpc30sc2V0Rm9jdXNlZDpmdW5jdGlvbihhKXt0aGlzLndyYXBwZXJbYT9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImNrZV93aWRnZXRfZm9jdXNlZFwiKTt0aGlzLmZpcmUoYT9cImZvY3VzXCI6XCJibHVyXCIpO3JldHVybiB0aGlzfSxzZXRTZWxlY3RlZDpmdW5jdGlvbihhKXt0aGlzLndyYXBwZXJbYT9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImNrZV93aWRnZXRfc2VsZWN0ZWRcIik7dGhpcy5maXJlKGE/XCJzZWxlY3RcIjpcImRlc2VsZWN0XCIpO3JldHVybiB0aGlzfSx1cGRhdGVEcmFnSGFuZGxlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IsYj10aGlzLmVsZW1lbnQuJCxjPXRoaXMuXy5kcmFnSGFuZGxlck9mZnNldCxcbmI9e3g6Yi5vZmZzZXRMZWZ0LHk6Yi5vZmZzZXRUb3AtMTV9O2MmJmIueD09Yy54JiZiLnk9PWMueXx8KGM9YS5jaGVja0RpcnR5KCksYS5maXJlKFwibG9ja1NuYXBzaG90XCIpLHRoaXMuZHJhZ0hhbmRsZXJDb250YWluZXIuc2V0U3R5bGVzKHt0b3A6Yi55K1wicHhcIixsZWZ0OmIueCtcInB4XCJ9KSx0aGlzLmRyYWdIYW5kbGVyQ29udGFpbmVyLnJlbW92ZVN0eWxlKFwiZGlzcGxheVwiKSxhLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSwhYyYmYS5yZXNldERpcnR5KCksdGhpcy5fLmRyYWdIYW5kbGVyT2Zmc2V0PWIpfX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oZy5wcm90b3R5cGUpO2cuZ2V0TmVzdGVkRWRpdGFibGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hYnx8Yi5lcXVhbHMoYSk/bnVsbDpnLmlzRG9tTmVzdGVkRWRpdGFibGUoYik/YjpnLmdldE5lc3RlZEVkaXRhYmxlKGEsYi5nZXRQYXJlbnQoKSl9O2cuaXNEb21EcmFnSGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQtZHJhZy1oYW5kbGVyXCIpfTtnLmlzRG9tRHJhZ0hhbmRsZXJDb250YWluZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0NsYXNzKFwiY2tlX3dpZGdldF9kcmFnX2hhbmRsZXJfY29udGFpbmVyXCIpfTtnLmlzRG9tTmVzdGVkRWRpdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiKX07Zy5pc0RvbVdpZGdldEVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtd2lkZ2V0XCIpfTtnLmlzRG9tV2lkZ2V0V3JhcHBlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIil9O1xuZy5pc0RvbVdpZGdldD1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmlzRG9tV2lkZ2V0V3JhcHBlcihhKXx8dGhpcy5pc0RvbVdpZGdldEVsZW1lbnQoYSk6ITF9O2cuaXNQYXJzZXJXaWRnZXRFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmISFhLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXX07Zy5pc1BhcnNlcldpZGdldFdyYXBwZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhIWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJdfTtnLldSQVBQRVJfQ0xBU1NfUFJFRklYPVwiY2tlX3dpZGdldF93cmFwcGVyX1wiO2UucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUpLHtzZXREYXRhOmZ1bmN0aW9uKGEpe3RoaXMuXy5pbml0aWFsU2V0RGF0YXx8XG50aGlzLmVkaXRvci53aWRnZXRzLmRlc3Ryb3lBbGwoITEsdGhpcyk7dGhpcy5fLmluaXRpYWxTZXREYXRhPSExO2E9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwoYSx7Y29udGV4dDp0aGlzLmdldE5hbWUoKSxmaWx0ZXI6dGhpcy5maWx0ZXIsZW50ZXJNb2RlOnRoaXMuZW50ZXJNb2RlfSk7dGhpcy5zZXRIdG1sKGEpO3RoaXMuZWRpdG9yLndpZGdldHMuaW5pdE9uQWxsKHRoaXMpfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9EYXRhRm9ybWF0KHRoaXMuZ2V0SHRtbCgpLHtjb250ZXh0OnRoaXMuZ2V0TmFtZSgpLGZpbHRlcjp0aGlzLmZpbHRlcixlbnRlck1vZGU6dGhpcy5lbnRlck1vZGV9KX19KTt2YXIgUT0vXig/OjwoPzpkaXZ8c3BhbikoPzogZGF0YS1ja2UtdGVtcD1cIjFcIik/KD86IGlkPVwiY2tlX2NvcHliaW5cIik/KD86IGRhdGEtY2tlLXRlbXA9XCIxXCIpPz4pPyg/OjwoPzpkaXZ8c3BhbikoPzogc3R5bGU9XCJbXlwiXStcIik/Pik/PHNwYW4gW14+XSpkYXRhLWNrZS1jb3B5YmluLXN0YXJ0PVwiMVwiW14+XSo+Lj88XFwvc3Bhbj4oW1xcc1xcU10rKTxzcGFuIFtePl0qZGF0YS1ja2UtY29weWJpbi1lbmQ9XCIxXCJbXj5dKj4uPzxcXC9zcGFuPig/OjxcXC8oPzpkaXZ8c3Bhbik+KT8oPzo8XFwvKD86ZGl2fHNwYW4pPik/JC9pLFxuUz17Mzc6MSwzODoxLDM5OjEsNDA6MSw4OjEsNDY6MX07U1tDS0VESVRPUi5TSElGVCsxMjFdPTE7dmFyIFI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8uY3JlYXRlQ29weUJpbihhLGIpO3RoaXMuXy5jcmVhdGVMaXN0ZW5lcnMoYil9LF86e2NyZWF0ZUNvcHlCaW46ZnVuY3Rpb24oYSl7dmFyIGI9YS5kb2N1bWVudCxjPUNLRURJVE9SLmVudi5lZGdlJiYxNjw9Q0tFRElUT1IuZW52LnZlcnNpb24sZD0hYS5ibG9ja2xlc3MmJiFDS0VESVRPUi5lbnYuaWV8fGM/XCJkaXZcIjpcInNwYW5cIixjPWIuY3JlYXRlRWxlbWVudChkKSxiPWIuY3JlYXRlRWxlbWVudChkKTtiLnNldEF0dHJpYnV0ZXMoe2lkOlwiY2tlX2NvcHliaW5cIixcImRhdGEtY2tlLXRlbXBcIjpcIjFcIn0pO2Muc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCIxcHhcIixoZWlnaHQ6XCIxcHhcIixvdmVyZmxvdzpcImhpZGRlblwifSk7Yy5zZXRTdHlsZShcImx0clwiPT1hLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XG5cImxlZnRcIjpcInJpZ2h0XCIsXCItNTAwMHB4XCIpO3RoaXMuZWRpdG9yPWE7dGhpcy5jb3B5QmluPWM7dGhpcy5jb250YWluZXI9Yn0sY3JlYXRlTGlzdGVuZXJzOmZ1bmN0aW9uKGEpe2EmJihhLmJlZm9yZURlc3Ryb3kmJih0aGlzLmJlZm9yZURlc3Ryb3k9YS5iZWZvcmVEZXN0cm95KSxhLmFmdGVyRGVzdHJveSYmKHRoaXMuYWZ0ZXJEZXN0cm95PWEuYWZ0ZXJEZXN0cm95KSl9fSxwcm90bzp7aGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29weUJpbixjPXRoaXMuZWRpdG9yLGQ9dGhpcy5jb250YWluZXIsZT1DS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24sZj1jLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLiQsZz1jLmNyZWF0ZVJhbmdlKCksaD10aGlzLGs9Q0tFRElUT1IuZW52Lm1hYyYmQ0tFRElUT1IuZW52LndlYmtpdCxsPWs/MTAwOjAsbT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiYhaz9yZXF1ZXN0QW5pbWF0aW9uRnJhbWU6c2V0VGltZW91dCxcbm4scCxxO2Iuc2V0SHRtbCgnXFx4M2NzcGFuIGRhdGEtY2tlLWNvcHliaW4tc3RhcnRcXHgzZFwiMVwiXFx4M2XigItcXHgzYy9zcGFuXFx4M2UnK2ErJ1xceDNjc3BhbiBkYXRhLWNrZS1jb3B5YmluLWVuZFxceDNkXCIxXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScpO2MuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtkLmFwcGVuZChiKTtjLmVkaXRhYmxlKCkuYXBwZW5kKGQpO249Yy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLEQsbnVsbCxudWxsLDApO3A9Yy53aWRnZXRzLm9uKFwiY2hlY2tTZWxlY3Rpb25cIixELG51bGwsbnVsbCwwKTtlJiYocT1mLnNjcm9sbFRvcCk7Zy5zZWxlY3ROb2RlQ29udGVudHMoYik7Zy5zZWxlY3QoKTtlJiYoZi5zY3JvbGxUb3A9cSk7cmV0dXJuIG5ldyBDS0VESVRPUi50b29scy5wcm9taXNlKGZ1bmN0aW9uKGEpe20oZnVuY3Rpb24oKXtoLmJlZm9yZURlc3Ryb3kmJmguYmVmb3JlRGVzdHJveSgpO2QucmVtb3ZlKCk7bi5yZW1vdmVMaXN0ZW5lcigpO3AucmVtb3ZlTGlzdGVuZXIoKTtjLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTtcbmguYWZ0ZXJEZXN0cm95JiZoLmFmdGVyRGVzdHJveSgpO2EoKX0sbCl9KX19LHN0YXRpY3M6e2hhc0NvcHlCaW46ZnVuY3Rpb24oYSl7cmV0dXJuISFSLmdldENvcHlCaW4oYSl9LGdldENvcHlCaW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9jb3B5YmluXCIpfX19KTtDS0VESVRPUi5wbHVnaW5zLndpZGdldD1nO2cucmVwb3NpdG9yeT1jO2cubmVzdGVkRWRpdGFibGU9ZX0pKCk7Q0tFRElUT1IuY29uZmlnLnBsdWdpbnM9XCJiYXNpY3N0eWxlcyxibG9ja3F1b3RlLGRpYWxvZ3VpLGRpYWxvZyxub3RpZmljYXRpb24sYnV0dG9uLHRvb2xiYXIsY2xpcGJvYXJkLHBhbmVsYnV0dG9uLHBhbmVsLGZsb2F0cGFuZWwsY29sb3JidXR0b24sZW50ZXJrZXksbGlzdGJsb2NrLHJpY2hjb21ibyxmb250LGhvcml6b250YWxydWxlLGluZGVudCxpbmRlbnRibG9jayxpbmRlbnRsaXN0LGp1c3RpZnksbGlzdCxwYXN0ZWZyb213b3JkLHBhc3RldG9vbHMscmVtb3ZlZm9ybWF0LHRhYix1bmRvLGxpbmV1dGlscyx3aWRnZXRzZWxlY3Rpb24sd2lkZ2V0XCI7XG5DS0VESVRPUi5jb25maWcuc2tpbj1cIm1vb25vXCI7KGZ1bmN0aW9uKCl7dmFyIGM9ZnVuY3Rpb24oYyxlKXt2YXIgYj1DS0VESVRPUi5nZXRVcmwoXCJwbHVnaW5zL1wiK2UpO2M9Yy5zcGxpdChcIixcIik7Zm9yKHZhciBoPTA7aDxjLmxlbmd0aDtoKyspQ0tFRElUT1Iuc2tpbi5pY29uc1tjW2hdXT17cGF0aDpiLG9mZnNldDotY1srK2hdLGJnc2l6ZTpjWysraF19fTtDS0VESVRPUi5lbnYuaGlkcGk/YyhcImJvbGQsMCwsaXRhbGljLDI0LCxzdHJpa2UsNDgsLHN1YnNjcmlwdCw3Miwsc3VwZXJzY3JpcHQsOTYsLHVuZGVybGluZSwxMjAsLGJsb2NrcXVvdGUsMTQ0LCxjb3B5LXJ0bCwxNjgsLGNvcHksMTkyLCxjdXQtcnRsLDIxNiwsY3V0LDI0MCwscGFzdGUtcnRsLDI2NCwscGFzdGUsMjg4LCxiZ2NvbG9yLDMxMiwsdGV4dGNvbG9yLDMzNiwsaG9yaXpvbnRhbHJ1bGUsMzYwLCxpbmRlbnQtcnRsLDM4NCwsaW5kZW50LDQwOCwsb3V0ZGVudC1ydGwsNDMyLCxvdXRkZW50LDQ1NiwsanVzdGlmeWJsb2NrLDQ4MCwsanVzdGlmeWNlbnRlciw1MDQsLGp1c3RpZnlsZWZ0LDUyOCwsanVzdGlmeXJpZ2h0LDU1MiwsYnVsbGV0ZWRsaXN0LXJ0bCw1NzYsLGJ1bGxldGVkbGlzdCw2MDAsLG51bWJlcmVkbGlzdC1ydGwsNjI0LCxudW1iZXJlZGxpc3QsNjQ4LCxwYXN0ZWZyb213b3JkLXJ0bCw2NzIsLHBhc3RlZnJvbXdvcmQsNjk2LCxyZW1vdmVmb3JtYXQsNzIwLCxyZWRvLXJ0bCw3NDQsLHJlZG8sNzY4LCx1bmRvLXJ0bCw3OTIsLHVuZG8sODE2LCxzaW1wbGVib3gsMTY4MCxhdXRvXCIsXG5cImljb25zX2hpZHBpLnBuZ1wiKTpjKFwiYm9sZCwwLGF1dG8saXRhbGljLDI0LGF1dG8sc3RyaWtlLDQ4LGF1dG8sc3Vic2NyaXB0LDcyLGF1dG8sc3VwZXJzY3JpcHQsOTYsYXV0byx1bmRlcmxpbmUsMTIwLGF1dG8sYmxvY2txdW90ZSwxNDQsYXV0byxjb3B5LXJ0bCwxNjgsYXV0byxjb3B5LDE5MixhdXRvLGN1dC1ydGwsMjE2LGF1dG8sY3V0LDI0MCxhdXRvLHBhc3RlLXJ0bCwyNjQsYXV0byxwYXN0ZSwyODgsYXV0byxiZ2NvbG9yLDMxMixhdXRvLHRleHRjb2xvciwzMzYsYXV0byxob3Jpem9udGFscnVsZSwzNjAsYXV0byxpbmRlbnQtcnRsLDM4NCxhdXRvLGluZGVudCw0MDgsYXV0byxvdXRkZW50LXJ0bCw0MzIsYXV0byxvdXRkZW50LDQ1NixhdXRvLGp1c3RpZnlibG9jayw0ODAsYXV0byxqdXN0aWZ5Y2VudGVyLDUwNCxhdXRvLGp1c3RpZnlsZWZ0LDUyOCxhdXRvLGp1c3RpZnlyaWdodCw1NTIsYXV0byxidWxsZXRlZGxpc3QtcnRsLDU3NixhdXRvLGJ1bGxldGVkbGlzdCw2MDAsYXV0byxudW1iZXJlZGxpc3QtcnRsLDYyNCxhdXRvLG51bWJlcmVkbGlzdCw2NDgsYXV0byxwYXN0ZWZyb213b3JkLXJ0bCw2NzIsYXV0byxwYXN0ZWZyb213b3JkLDY5NixhdXRvLHJlbW92ZWZvcm1hdCw3MjAsYXV0byxyZWRvLXJ0bCw3NDQsYXV0byxyZWRvLDc2OCxhdXRvLHVuZG8tcnRsLDc5MixhdXRvLHVuZG8sODE2LGF1dG8sc2ltcGxlYm94LDg0MCxhdXRvXCIsXG5cImljb25zLnBuZ1wiKX0pKCk7Q0tFRElUT1IubGFuZy5sYW5ndWFnZXM9e2FmOjEsYXI6MSxhejoxLGJnOjEsYm46MSxiczoxLGNhOjEsY3M6MSxjeToxLGRhOjEsZGU6MSxcImRlLWNoXCI6MSxlbDoxLGVuOjEsXCJlbi1hdVwiOjEsXCJlbi1jYVwiOjEsXCJlbi1nYlwiOjEsZW86MSxlczoxLGV0OjEsZXU6MSxmYToxLGZpOjEsZm86MSxmcjoxLFwiZnItY2FcIjoxLGdsOjEsZ3U6MSxoZToxLGhpOjEsaHI6MSxodToxLGlkOjEsaXM6MSxpdDoxLGphOjEsa2E6MSxrbToxLGtvOjEsa3U6MSxsdDoxLGx2OjEsbWs6MSxtbjoxLG1zOjEsbmI6MSxubDoxLG5vOjEsb2M6MSxwbDoxLHB0OjEsXCJwdC1iclwiOjEscm86MSxydToxLHNpOjEsc2s6MSxzbDoxLHNxOjEsc3I6MSxcInNyLWxhdG5cIjoxLHN2OjEsdGg6MSx0cjoxLHR0OjEsdWc6MSx1azoxLHZpOjEsemg6MSxcInpoLWNuXCI6MX19fSkoKTsiLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIHZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKGhhcyh0eXBlU3BlY3MsIHR5cGVTcGVjTmFtZSkpIHtcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKFxuICAgICAgICAgICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7ICcgK1xuICAgICAgICAgICAgICAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gKyAnYC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVycm9yID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgJiYgIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICcgK1xuICAgICAgICAgICAgbG9jYXRpb24gKyAnIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICtcbiAgICAgICAgICAgICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAnICsgdHlwZW9mIGVycm9yICsgJy4gJyArXG4gICAgICAgICAgICAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArXG4gICAgICAgICAgICAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICtcbiAgICAgICAgICAgICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblxuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdGYWlsZWQgJyArIGxvY2F0aW9uICsgJyB0eXBlOiAnICsgZXJyb3IubWVzc2FnZSArIChzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG52YXIgYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xudmFyIGNoZWNrUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9jaGVja1Byb3BUeXBlcycpO1xuXG52YXIgaGFzID0gRnVuY3Rpb24uY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xudmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xufVxuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAvKiBnbG9iYWwgU3ltYm9sICovXG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InOyAvLyBCZWZvcmUgU3ltYm9sIHNwZWMuXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZXJhdG9yIG1ldGhvZCBmdW5jdGlvbiBjb250YWluZWQgb24gdGhlIGl0ZXJhYmxlIG9iamVjdC5cbiAgICpcbiAgICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG4gICAqXG4gICAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XG4gICAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgKiAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobXlJdGVyYWJsZSk7XG4gICAqICAgICAgIC4uLlxuICAgKiAgICAgfVxuICAgKlxuICAgKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcbiAgICogQHJldHVybiB7P2Z1bmN0aW9ufVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgdGhhdCBhbGxvdyBkZWNsYXJhdGlvbiBhbmQgdmFsaWRhdGlvbiBvZiBwcm9wcyB0aGF0IGFyZVxuICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgIHZhciBQcm9wcyA9IHJlcXVpcmUoJ1JlYWN0UHJvcFR5cGVzJyk7XG4gICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICogICAgIHByb3BUeXBlczoge1xuICAgKiAgICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgcHJvcCBuYW1lZCBcImRlc2NyaXB0aW9uXCIuXG4gICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG4gICAqXG4gICAqICAgICAgIC8vIEEgcmVxdWlyZWQgZW51bSBwcm9wIG5hbWVkIFwiY2F0ZWdvcnlcIi5cbiAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHByb3AgbmFtZWQgXCJkaWFsb2dcIiB0aGF0IHJlcXVpcmVzIGFuIGluc3RhbmNlIG9mIERpYWxvZy5cbiAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuICAgKiAgICAgfSxcbiAgICogICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7IC4uLiB9XG4gICAqICAgfSk7XG4gICAqXG4gICAqIEEgbW9yZSBmb3JtYWwgc3BlY2lmaWNhdGlvbiBvZiBob3cgdGhlc2UgbWV0aG9kcyBhcmUgdXNlZDpcbiAgICpcbiAgICogICB0eXBlIDo9IGFycmF5fGJvb2x8ZnVuY3xvYmplY3R8bnVtYmVyfHN0cmluZ3xvbmVPZihbLi4uXSl8aW5zdGFuY2VPZiguLi4pXG4gICAqICAgZGVjbCA6PSBSZWFjdFByb3BUeXBlcy57dHlwZX0oLmlzUmVxdWlyZWQpP1xuICAgKlxuICAgKiBFYWNoIGFuZCBldmVyeSBkZWNsYXJhdGlvbiBwcm9kdWNlcyBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlLiBUaGlzXG4gICAqIGFsbG93cyB0aGUgY3JlYXRpb24gb2YgY3VzdG9tIHZhbGlkYXRpb24gZnVuY3Rpb25zLiBGb3IgZXhhbXBsZTpcbiAgICpcbiAgICogIHZhciBNeUxpbmsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgIHByb3BUeXBlczoge1xuICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cbiAgICogICAgICBocmVmOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICogICAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcbiAgICogICAgICAgICAgICAhKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFVSSSkpIHtcbiAgICogICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuICAgKiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICogICAgICAgICAgKTtcbiAgICogICAgICAgIH1cbiAgICogICAgICB9XG4gICAqICAgIH0sXG4gICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuICAgKiAgfSk7XG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cblxuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuXG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgc3ltYm9sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3ltYm9sJyksXG5cbiAgICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG4gICAgYXJyYXlPZjogY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyLFxuICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuICAgIGVsZW1lbnRUeXBlOiBjcmVhdGVFbGVtZW50VHlwZVR5cGVDaGVja2VyKCksXG4gICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcbiAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuICAgIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG4gICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICAgIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyLFxuICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuICB9O1xuXG4gIC8qKlxuICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgKi9cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICAgIH1cbiAgfVxuICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblxuICAvKipcbiAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuICAgKiBQcm9wVHlwZXMgZGlyZWN0bHkgYW5kIGluc3BlY3QgdGhlaXIgb3V0cHV0LiBIb3dldmVyLCB3ZSBkb24ndCB1c2UgcmVhbFxuICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG4gICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcbiAgICogaGFwcGVucyBpbiBvbmVPZlR5cGUoKSBmb3IgYW55IHR5cGUgYmVmb3JlIHRoZSBvbmUgdGhhdCBtYXRjaGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gJyc7XG4gIH1cbiAgLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXG4gICAgICBpZiAoc2VjcmV0ICE9PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG4gICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcbiAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcbiAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGZvciB0aGUgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBwcm9wIG9uIGAnICsgY29tcG9uZW50TmFtZSAgKyAnYC4gVGhpcyBpcyBkZXByZWNhdGVkICcgK1xuICAgICAgICAgICAgICAnYW5kIHdpbGwgdGhyb3cgaW4gdGhlIHN0YW5kYWxvbmUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgICAgICAgICAnWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byBhIHRoaXJkLXBhcnR5IFByb3BUeXBlcyAnICtcbiAgICAgICAgICAgICAgJ2xpYnJhcnkuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctZG9udC1jYWxsLXByb3B0eXBlcyAnICsgJ2ZvciBkZXRhaWxzLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gPSB0cnVlO1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignVGhlICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgJyArICgnaW4gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYG51bGxgLicpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcbiAgICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcblxuICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgLy8gYHByb3BWYWx1ZWAgYmVpbmcgaW5zdGFuY2Ugb2YsIHNheSwgZGF0ZS9yZWdleHAsIHBhc3MgdGhlICdvYmplY3QnXG4gICAgICAgIC8vIGNoZWNrLCBidXQgd2UgY2FuIG9mZmVyIGEgbW9yZSBwcmVjaXNlIGVycm9yIG1lc3NhZ2UgaGVyZSByYXRoZXIgdGhhblxuICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG4gICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgYXJyYXlPZi4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBhcnJheS4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnWycgKyBpICsgJ10nLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVUeXBlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIVJlYWN0SXMuaXNWYWxpZEVsZW1lbnRUeXBlKHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50IHR5cGUuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudHMgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LCBnb3QgJyArIGFyZ3VtZW50cy5sZW5ndGggKyAnIGFyZ3VtZW50cy4gJyArXG4gICAgICAgICAgICAnQSBjb21tb24gbWlzdGFrZSBpcyB0byB3cml0ZSBvbmVPZih4LCB5LCB6KSBpbnN0ZWFkIG9mIG9uZU9mKFt4LCB5LCB6XSkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJpbnRXYXJuaW5nKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mLCBleHBlY3RlZCBhbiBhcnJheS4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uIHJlcGxhY2VyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlID09PSAnc3ltYm9sJykge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIFN0cmluZyhwcm9wVmFsdWUpICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG4gICAgICAgIGlmIChoYXMocHJvcFZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgK1xuICAgICAgICAgICdyZWNlaXZlZCAnICsgZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKGNoZWNrZXIpICsgJyBhdCBpbmRleCAnICsgaSArICcuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICAgIGlmIChjaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgICBpZiAoIWNoZWNrZXIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG4gICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFsbCBrZXlzIGluIGNhc2Ugc29tZSBhcmUgcmVxdWlyZWQgYnV0IG1pc3NpbmcgZnJvbVxuICAgICAgLy8gcHJvcHMuXG4gICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgICBpZiAoIWNoZWNrZXIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG4gICAgICAgICAgICAnSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Aga2V5IGAnICsga2V5ICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJyArXG4gICAgICAgICAgICAnXFxuQmFkIG9iamVjdDogJyArIEpTT04uc3RyaW5naWZ5KHByb3BzW3Byb3BOYW1lXSwgbnVsbCwgJyAgJykgK1xuICAgICAgICAgICAgJ1xcblZhbGlkIGtleXM6ICcgKyAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc2hhcGVUeXBlcyksIG51bGwsICcgICcpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTm9kZShwcm9wVmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG4gICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG4gICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IHByb3BWYWx1ZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkge1xuICAgIC8vIE5hdGl2ZSBTeW1ib2wuXG4gICAgaWYgKHByb3BUeXBlID09PSAnc3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gZmFsc3kgdmFsdWUgY2FuJ3QgYmUgYSBTeW1ib2xcbiAgICBpZiAoIXByb3BWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG4gICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgZm9yIG5vbi1zcGVjIGNvbXBsaWFudCBTeW1ib2xzIHdoaWNoIGFyZSBwb2x5ZmlsbGVkLlxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAvLyBPbGQgd2Via2l0cyAoYXQgbGVhc3QgdW50aWwgQW5kcm9pZCA0LjApIHJldHVybiAnZnVuY3Rpb24nIHJhdGhlciB0aGFuXG4gICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cbiAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuICAgICAgcmV0dXJuICdvYmplY3QnO1xuICAgIH1cbiAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnc3ltYm9sJztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG5cbiAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICAvLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cbiAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnICsgcHJvcFZhbHVlO1xuICAgIH1cbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cbiAgLy8gRm9yIGV4YW1wbGUsIFwidW5kZWZpbmVkXCIgb3IgXCJvZiB0eXBlIGFycmF5XCJcbiAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICByZXR1cm4gJ2FuICcgKyB0eXBlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgIGNhc2UgJ3JlZ2V4cCc6XG4gICAgICAgIHJldHVybiAnYSAnICsgdHlwZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybnMgY2xhc3MgbmFtZSBvZiB0aGUgb2JqZWN0LCBpZiBhbnkuXG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXM7XG4gIFJlYWN0UHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gY2hlY2tQcm9wVHlwZXMucmVzZXRXYXJuaW5nQ2FjaGU7XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKFJlYWN0SXMuaXNFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuOC41XG4gKiByZWFjdC1pcy5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy4gSWYgdGhlcmUgaXMgbm8gbmF0aXZlIFN5bWJvbFxuLy8gbm9yIHBvbHlmaWxsLCB0aGVuIGEgcGxhaW4gbnVtYmVyIGlzIHVzZWQgZm9yIHBlcmZvcm1hbmNlLlxudmFyIGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmZvcjtcblxudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSA6IDB4ZWFjNztcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpIDogMHhlYWNhO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpIDogMHhlYWNiO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpIDogMHhlYWNjO1xudmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpIDogMHhlYWQyO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpIDogMHhlYWNkO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKSA6IDB4ZWFjZTtcbnZhciBSRUFDVF9BU1lOQ19NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5hc3luY19tb2RlJykgOiAweGVhY2Y7XG52YXIgUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5jb25jdXJyZW50X21vZGUnKSA6IDB4ZWFjZjtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKSA6IDB4ZWFkMDtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKSA6IDB4ZWFkMTtcbnZhciBSRUFDVF9NRU1PX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5tZW1vJykgOiAweGVhZDM7XG52YXIgUkVBQ1RfTEFaWV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QubGF6eScpIDogMHhlYWQ0O1xuXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkge1xuICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nIHx8XG4gIC8vIE5vdGU6IGl0cyB0eXBlb2YgbWlnaHQgYmUgb3RoZXIgdGhhbiAnc3ltYm9sJyBvciAnbnVtYmVyJyBpZiBpdCdzIGEgcG9seWZpbGwuXG4gIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSk7XG59XG5cbi8qKlxuICogRm9ya2VkIGZyb20gZmJqcy93YXJuaW5nOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2ZianMvYmxvYi9lNjZiYTIwYWQ1YmU0MzNlYjU0NDIzZjJiMDk3ZDgyOTMyNGQ5ZGU2L3BhY2thZ2VzL2ZianMvc3JjL19fZm9ya3NfXy93YXJuaW5nLmpzXG4gKlxuICogT25seSBjaGFuZ2UgaXMgd2UgdXNlIGNvbnNvbGUud2FybiBpbnN0ZWFkIG9mIGNvbnNvbGUuZXJyb3IsXG4gKiBhbmQgZG8gbm90aGluZyB3aGVuICdjb25zb2xlJyBpcyBub3Qgc3VwcG9ydGVkLlxuICogVGhpcyByZWFsbHkgc2ltcGxpZmllcyB0aGUgY29kZS5cbiAqIC0tLVxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciBsb3dQcmlvcml0eVdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7fTtcblxue1xuICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcblxuICBsb3dQcmlvcml0eVdhcm5pbmcgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGxvd1ByaW9yaXR5V2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBsb3dQcmlvcml0eVdhcm5pbmckMSA9IGxvd1ByaW9yaXR5V2FybmluZztcblxuZnVuY3Rpb24gdHlwZU9mKG9iamVjdCkge1xuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyICQkdHlwZW9mID0gb2JqZWN0LiQkdHlwZW9mO1xuICAgIHN3aXRjaCAoJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICB2YXIgdHlwZSA9IG9iamVjdC50eXBlO1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciAkJHR5cGVvZlR5cGUgPSB0eXBlICYmIHR5cGUuJCR0eXBlb2Y7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoJCR0eXBlb2ZUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2ZUeXBlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAkJHR5cGVvZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgIHJldHVybiAkJHR5cGVvZjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vLyBBc3luY01vZGUgaXMgZGVwcmVjYXRlZCBhbG9uZyB3aXRoIGlzQXN5bmNNb2RlXG52YXIgQXN5bmNNb2RlID0gUkVBQ1RfQVNZTkNfTU9ERV9UWVBFO1xudmFyIENvbmN1cnJlbnRNb2RlID0gUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEU7XG52YXIgQ29udGV4dENvbnN1bWVyID0gUkVBQ1RfQ09OVEVYVF9UWVBFO1xudmFyIENvbnRleHRQcm92aWRlciA9IFJFQUNUX1BST1ZJREVSX1RZUEU7XG52YXIgRWxlbWVudCA9IFJFQUNUX0VMRU1FTlRfVFlQRTtcbnZhciBGb3J3YXJkUmVmID0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTtcbnZhciBGcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG52YXIgTGF6eSA9IFJFQUNUX0xBWllfVFlQRTtcbnZhciBNZW1vID0gUkVBQ1RfTUVNT19UWVBFO1xudmFyIFBvcnRhbCA9IFJFQUNUX1BPUlRBTF9UWVBFO1xudmFyIFByb2ZpbGVyID0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbnZhciBTdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbnZhciBTdXNwZW5zZSA9IFJFQUNUX1NVU1BFTlNFX1RZUEU7XG5cbnZhciBoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRJc0FzeW5jTW9kZSA9IGZhbHNlO1xuXG4vLyBBc3luY01vZGUgc2hvdWxkIGJlIGRlcHJlY2F0ZWRcbmZ1bmN0aW9uIGlzQXN5bmNNb2RlKG9iamVjdCkge1xuICB7XG4gICAgaWYgKCFoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRJc0FzeW5jTW9kZSkge1xuICAgICAgaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUgPSB0cnVlO1xuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdUaGUgUmVhY3RJcy5pc0FzeW5jTW9kZSgpIGFsaWFzIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBSZWFjdCAxNysuIFVwZGF0ZSB5b3VyIGNvZGUgdG8gdXNlICcgKyAnUmVhY3RJcy5pc0NvbmN1cnJlbnRNb2RlKCkgaW5zdGVhZC4gSXQgaGFzIHRoZSBleGFjdCBzYW1lIEFQSS4nKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlzQ29uY3VycmVudE1vZGUob2JqZWN0KSB8fCB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQVNZTkNfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzQ29udGV4dENvbnN1bWVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTlRFWFRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzQ29udGV4dFByb3ZpZGVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BST1ZJREVSX1RZUEU7XG59XG5mdW5jdGlvbiBpc0VsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG5mdW5jdGlvbiBpc0ZvcndhcmRSZWYob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRnJhZ21lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzTGF6eShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9MQVpZX1RZUEU7XG59XG5mdW5jdGlvbiBpc01lbW8ob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfTUVNT19UWVBFO1xufVxuZnVuY3Rpb24gaXNQb3J0YWwob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUE9SVEFMX1RZUEU7XG59XG5mdW5jdGlvbiBpc1Byb2ZpbGVyKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG59XG5mdW5jdGlvbiBpc1N0cmljdE1vZGUob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzU3VzcGVuc2Uob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbn1cblxuZXhwb3J0cy50eXBlT2YgPSB0eXBlT2Y7XG5leHBvcnRzLkFzeW5jTW9kZSA9IEFzeW5jTW9kZTtcbmV4cG9ydHMuQ29uY3VycmVudE1vZGUgPSBDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuQ29udGV4dENvbnN1bWVyID0gQ29udGV4dENvbnN1bWVyO1xuZXhwb3J0cy5Db250ZXh0UHJvdmlkZXIgPSBDb250ZXh0UHJvdmlkZXI7XG5leHBvcnRzLkVsZW1lbnQgPSBFbGVtZW50O1xuZXhwb3J0cy5Gb3J3YXJkUmVmID0gRm9yd2FyZFJlZjtcbmV4cG9ydHMuRnJhZ21lbnQgPSBGcmFnbWVudDtcbmV4cG9ydHMuTGF6eSA9IExhenk7XG5leHBvcnRzLk1lbW8gPSBNZW1vO1xuZXhwb3J0cy5Qb3J0YWwgPSBQb3J0YWw7XG5leHBvcnRzLlByb2ZpbGVyID0gUHJvZmlsZXI7XG5leHBvcnRzLlN0cmljdE1vZGUgPSBTdHJpY3RNb2RlO1xuZXhwb3J0cy5TdXNwZW5zZSA9IFN1c3BlbnNlO1xuZXhwb3J0cy5pc1ZhbGlkRWxlbWVudFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGU7XG5leHBvcnRzLmlzQXN5bmNNb2RlID0gaXNBc3luY01vZGU7XG5leHBvcnRzLmlzQ29uY3VycmVudE1vZGUgPSBpc0NvbmN1cnJlbnRNb2RlO1xuZXhwb3J0cy5pc0NvbnRleHRDb25zdW1lciA9IGlzQ29udGV4dENvbnN1bWVyO1xuZXhwb3J0cy5pc0NvbnRleHRQcm92aWRlciA9IGlzQ29udGV4dFByb3ZpZGVyO1xuZXhwb3J0cy5pc0VsZW1lbnQgPSBpc0VsZW1lbnQ7XG5leHBvcnRzLmlzRm9yd2FyZFJlZiA9IGlzRm9yd2FyZFJlZjtcbmV4cG9ydHMuaXNGcmFnbWVudCA9IGlzRnJhZ21lbnQ7XG5leHBvcnRzLmlzTGF6eSA9IGlzTGF6eTtcbmV4cG9ydHMuaXNNZW1vID0gaXNNZW1vO1xuZXhwb3J0cy5pc1BvcnRhbCA9IGlzUG9ydGFsO1xuZXhwb3J0cy5pc1Byb2ZpbGVyID0gaXNQcm9maWxlcjtcbmV4cG9ydHMuaXNTdHJpY3RNb2RlID0gaXNTdHJpY3RNb2RlO1xuZXhwb3J0cy5pc1N1c3BlbnNlID0gaXNTdXNwZW5zZTtcbiAgfSkoKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjIuMTEuMTJcIjsiLCJpbXBvcnQgJy4uLy4uL2xpYi9ja2VkaXRvci9ja2VkaXRvcic7XG5cbmltcG9ydCAqIGFzIEFsbG95RWRpdG9yIGZyb20gJy4uLy4uL3NyYy9hZGFwdGVyL21haW4nO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0d2luZG93LkNLRURJVE9SLmRpc2FibGVBdXRvSW5saW5lID0gdHJ1ZTtcblx0d2luZG93LkFsbG95RWRpdG9yID0gQWxsb3lFZGl0b3I7XG5cdEFsbG95RWRpdG9yLlZFUlNJT04gPSByZXF1aXJlKCcuL3ZlcnNpb24nKTtcbn1cblxuZXhwb3J0IHtBbGxveUVkaXRvcn07XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCAnLi4vY29yZSc7XG5cbmltcG9ydCAnLi4vcGx1Z2lucyc7XG5cbmltcG9ydCAnLi4vY29tcG9uZW50cy91aWJyaWRnZSc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuaW1wb3J0IHtyZW1vdmVJbWFnZUNvbW1hbmR9IGZyb20gJy4uL2NvbW1hbmRzJztcbmltcG9ydCBVSSBmcm9tICcuLi9jb21wb25lbnRzL21haW4uanN4JztcbmltcG9ydCBCYXNlIGZyb20gJy4uL29vcC9iYXNlJztcbmltcG9ydCBMYW5nIGZyb20gJy4uL29vcC9sYW5nJztcbmltcG9ydCBleHRlbmQgZnJvbSAnLi4vb29wL29vcCc7XG5pbXBvcnQgU2VsZWN0aW9ucyBmcm9tICcuLi9zZWxlY3Rpb25zL3NlbGVjdGlvbnMnO1xuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi9lZGl0b3ItY29udGV4dCc7XG5cbmNvbnN0IEVNQkVEX1ZJREVPX1dJRFRIID0gNTYwO1xuY29uc3QgRU1CRURfVklERU9fSEVJR0hUID0gMzE1O1xuXG4vKipcbiAqIEFsbG95RWRpdG9yIG1haW4gY2xhc3MuIENyZWF0ZXMgaW5zdGFuY2Ugb2YgdGhlIGVkaXRvciBhbmQgcHJvdmlkZXMgdGhlIHVzZXIgY29uZmlndXJhdGlvblxuICogdG8gdGhlIFVJLlxuICpcbiAqIEBjbGFzcyBDb3JlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZ3VyYXRpb24gdG8gYmUgdXNlZC5cbiAqL1xuZnVuY3Rpb24gQ29yZShjb25maWcpIHtcblx0Q29yZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgY29uZmlnKTtcbn1cblxuZXh0ZW5kKFxuXHRDb3JlLFxuXHRCYXNlLFxuXHR7XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXIgbGlmZWN5Y2xlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgQWxsb3lFZGl0b3IgY2xhc3MuIENyZWF0ZXMgYSBDS0VkaXRvclxuXHRcdCAqIGluc3RhbmNlLCBwYXNzaW5nIGl0IHRoZSBwcm92aWRlZCBjb25maWd1cmF0aW9uIGF0dHJpYnV0ZXMuXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAbWV0aG9kIGluaXRpYWxpemVyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBDb25maWd1cmF0aW9uIG9iamVjdCBsaXRlcmFsIGZvciB0aGUgZWRpdG9yLlxuXHRcdCAqL1xuXHRcdGluaXRpYWxpemVyKGNvbmZpZykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IHRoaXMuZ2V0KCdzcmNOb2RlJyk7XG5cblx0XHRcdGlmICh0aGlzLmdldCgnZW5hYmxlQ29udGVudEVkaXRhYmxlJykpIHtcblx0XHRcdFx0bm9kZS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsICd0cnVlJyk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGVkaXRvciA9IENLRURJVE9SLmlubGluZShub2RlKTtcblxuXHRcdFx0ZWRpdG9yLmNvbmZpZy5hbGxvd2VkQ29udGVudCA9IHRoaXMuZ2V0KCdhbGxvd2VkQ29udGVudCcpO1xuXG5cdFx0XHRlZGl0b3IuY29uZmlnLnRvb2xiYXJzID0gdGhpcy5nZXQoJ3Rvb2xiYXJzJyk7XG5cblx0XHRcdGVkaXRvci5jb25maWcucmVtb3ZlUGx1Z2lucyA9IHRoaXMuZ2V0KCdyZW1vdmVQbHVnaW5zJyk7XG5cblx0XHRcdGVkaXRvci5jb25maWcuZXh0cmFQbHVnaW5zID0gdGhpcy5nZXQoJ2V4dHJhUGx1Z2lucycpO1xuXG5cdFx0XHRlZGl0b3IuY29uZmlnLmVtYmVkUHJvdmlkZXJzID0gdGhpcy5nZXQoJ2VtYmVkUHJvdmlkZXJzJyk7XG5cblx0XHRcdGVkaXRvci5jb25maWcucGxhY2Vob2xkZXJDbGFzcyA9IHRoaXMuZ2V0KCdwbGFjZWhvbGRlckNsYXNzJyk7XG5cblx0XHRcdGVkaXRvci5jb25maWcucGFzdGVGcm9tV29yZFJlbW92ZVN0eWxlcyA9IGZhbHNlO1xuXHRcdFx0ZWRpdG9yLmNvbmZpZy5wYXN0ZUZyb21Xb3JkUmVtb3ZlRm9udFN0eWxlcyA9IGZhbHNlO1xuXG5cdFx0XHRlZGl0b3IuY29uZmlnLnNlbGVjdGlvbktleXN0cm9rZXMgPSB0aGlzLmdldCgnc2VsZWN0aW9uS2V5c3Ryb2tlcycpO1xuXG5cdFx0XHRlZGl0b3IuY29uZmlnLnNwcml0ZW1hcCA9IHRoaXMuZ2V0KCdzcHJpdGVtYXAnKTtcblxuXHRcdFx0TGFuZy5taXgoZWRpdG9yLmNvbmZpZywgY29uZmlnKTtcblxuXHRcdFx0aWYgKENLRURJVE9SLmVudi5pZSAmJiAhQ0tFRElUT1IuZW52LmVkZ2UpIHtcblx0XHRcdFx0Y29uc3QgcGx1Z2luID1cblx0XHRcdFx0XHRDS0VESVRPUi5lbnYudmVyc2lvbiA9PT0gMTFcblx0XHRcdFx0XHRcdD8gJ2FlX2RyYWdyZXNpemVfaWUxMSdcblx0XHRcdFx0XHRcdDogJ2FlX2RyYWdyZXNpemVfaWUnO1xuXG5cdFx0XHRcdGVkaXRvci5jb25maWcuZXh0cmFQbHVnaW5zID0gZWRpdG9yLmNvbmZpZy5leHRyYVBsdWdpbnMucmVwbGFjZShcblx0XHRcdFx0XHQnYWVfZHJhZ3Jlc2l6ZScsXG5cdFx0XHRcdFx0cGx1Z2luXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGVkaXRvci5jb25maWcucmVtb3ZlUGx1Z2lucyA9IGVkaXRvci5jb25maWcucmVtb3ZlUGx1Z2lucy5yZXBsYWNlKFxuXHRcdFx0XHRcdCdhZV9kcmFncmVzaXplJyxcblx0XHRcdFx0XHRwbHVnaW5cblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0ZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuX2FkZFJlYWRPbmx5TGlua0NsaWNrTGlzdGVuZXIoZWRpdG9yKTtcblxuXHRcdFx0XHRjb25zdCBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG5cdFx0XHRcdGNvbnN0IGV4dHJhQ29tbWFuZHMgPSB0aGlzLmdldCgnZXh0cmFDb21tYW5kcycpO1xuXG5cdFx0XHRcdGNvbnN0IGV4dHJhQ29tbWFuZEtleXMgPSBPYmplY3Qua2V5cyhleHRyYUNvbW1hbmRzKTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBleHRyYUNvbW1hbmRLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29tbWFuZE5hbWUgPSBleHRyYUNvbW1hbmRLZXlzW2ldO1xuXG5cdFx0XHRcdFx0aWYgKGVkaXRvci5jb21tYW5kc1tjb21tYW5kTmFtZV0pIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVkaXRvci5hZGRDb21tYW5kKGNvbW1hbmROYW1lLCBleHRyYUNvbW1hbmRzW2NvbW1hbmROYW1lXSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlZGl0YWJsZS5hZGRDbGFzcygnYWUtZWRpdGFibGUnKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLl9lZGl0b3IgPSBlZGl0b3I7XG5cblx0XHRcdEFsbG95RWRpdG9yLmxvYWRMYW5ndWFnZVJlc291cmNlcyh0aGlzLl9yZW5kZXJVSS5iaW5kKHRoaXMpKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRGVzdHJ1Y3RvciBsaWZlY3ljbGUgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBBbGxveUVkdG9yIGNsYXNzLiBEZXN0cm95cyB0aGUgQ0tFZGl0b3Jcblx0XHQgKiBpbnN0YW5jZSBhbmQgZGVzdHJveXMgYWxsIGNyZWF0ZWQgdG9vbGJhcnMuXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAbWV0aG9kIGRlc3RydWN0b3Jcblx0XHQgKi9cblx0XHRkZXN0cnVjdG9yKCkge1xuXHRcdFx0dGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcblxuXHRcdFx0aWYgKHRoaXMuX2VkaXRvclVJRWxlbWVudCkge1xuXHRcdFx0XHRSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMuX2VkaXRvclVJRWxlbWVudCk7XG5cdFx0XHRcdHRoaXMuX2VkaXRvclVJRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKFxuXHRcdFx0XHRcdHRoaXMuX2VkaXRvclVJRWxlbWVudFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBuYXRpdmVFZGl0b3IgPSB0aGlzLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdGlmIChuYXRpdmVFZGl0b3IpIHtcblx0XHRcdFx0Y29uc3QgZWRpdGFibGUgPSBuYXRpdmVFZGl0b3IuZWRpdGFibGUoKTtcblxuXHRcdFx0XHRpZiAoZWRpdGFibGUpIHtcblx0XHRcdFx0XHRlZGl0YWJsZS5yZW1vdmVDbGFzcygnYWUtZWRpdGFibGUnKTtcblxuXHRcdFx0XHRcdGlmICh0aGlzLmdldCgnZW5hYmxlQ29udGVudEVkaXRhYmxlJykpIHtcblx0XHRcdFx0XHRcdHRoaXMuZ2V0KCdzcmNOb2RlJykuc2V0QXR0cmlidXRlKFxuXHRcdFx0XHRcdFx0XHQnY29udGVudGVkaXRhYmxlJyxcblx0XHRcdFx0XHRcdFx0J2ZhbHNlJ1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9jbGVhclNlbGVjdGlvbnMoKTtcblxuXHRcdFx0XHRuYXRpdmVFZGl0b3IuZGVzdHJveSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDbGVhciBzZWxlY3Rpb25zIGZyb20gd2luZG93IG9iamVjdFxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIENvcmVcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQG1ldGhvZCBfY2xlYXJTZWxlY3Rpb25zXG5cdFx0ICovXG5cdFx0X2NsZWFyU2VsZWN0aW9ucygpIHtcblx0XHRcdGNvbnN0IG5hdGl2ZUVkaXRvciA9IHRoaXMuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0XHRcdGNvbnN0IGlzTVNTZWxlY3Rpb24gPSB0eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbiAhPSAnZnVuY3Rpb24nO1xuXG5cdFx0XHRpZiAoaXNNU1NlbGVjdGlvbikge1xuXHRcdFx0XHRuYXRpdmVFZGl0b3IuZG9jdW1lbnQuJC5zZWxlY3Rpb24uZW1wdHkoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5hdGl2ZUVkaXRvci5kb2N1bWVudFxuXHRcdFx0XHRcdC5nZXRXaW5kb3coKVxuXHRcdFx0XHRcdC4kLmdldFNlbGVjdGlvbigpXG5cdFx0XHRcdFx0LnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBNZXRob2QgdG8gc2V0IGRlZmF1bHQgbGluayBiZWhhdmlvclxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIENvcmVcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQG1ldGhvZCBfYWRkUmVhZE9ubHlMaW5rQ2xpY2tMaXN0ZW5lclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3Jcblx0XHQgKi9cblx0XHRfYWRkUmVhZE9ubHlMaW5rQ2xpY2tMaXN0ZW5lcihlZGl0b3IpIHtcblx0XHRcdGVkaXRvci5lZGl0YWJsZSgpLm9uKCdjbGljaycsIHRoaXMuX2RlZmF1bHRSZWFkT25seUNsaWNrRm4sIHRoaXMsIHtcblx0XHRcdFx0ZWRpdG9yLFxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENhbGxlZCBvbiBgY2xpY2tgIGV2ZW50IHdoZW4gdGhlIGVkaXRvciBpcyBpbiByZWFkIG9ubHkgbW9kZS4gTmF2aWdhdGVzIHRvIGxpbmsncyBVUkwgb3Igb3BlbnNcblx0XHQgKiB0aGUgbGluayBpbiBhIG5ldyB3aW5kb3cuXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBldmVudCByZWFkT25seUNsaWNrXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEBtZXRob2QgX2RlZmF1bHRSZWFkT25seUNsaWNrRm5cblx0XHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIGZpcmVkIGBjbGlja2AgZXZlbnQgcGF5bG9hZFxuXHRcdCAqL1xuXHRcdF9kZWZhdWx0UmVhZE9ubHlDbGlja0ZuKGV2ZW50KSB7XG5cdFx0XHRjb25zdCBtb3VzZUV2ZW50ID0gZXZlbnQuZGF0YS4kO1xuXHRcdFx0Y29uc3QgaGFzQ3RybEtleSA9IG1vdXNlRXZlbnQuY3RybEtleSB8fCBtb3VzZUV2ZW50Lm1ldGFLZXk7XG5cdFx0XHRjb25zdCBzaG91bGRPcGVuID0gdGhpcy5fZWRpdG9yLmNvbmZpZy5yZWFkT25seSB8fCBoYXNDdHJsS2V5O1xuXG5cdFx0XHRtb3VzZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmICghc2hvdWxkT3Blbikge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0ZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvclxuXHRcdFx0XHRcdC5lZGl0YWJsZSgpXG5cdFx0XHRcdFx0LmVkaXRvci5maXJlKCdyZWFkT25seUNsaWNrJywgZXZlbnQuZGF0YSkgIT09IGZhbHNlXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc3QgY2tFbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChcblx0XHRcdFx0XHRldmVudC5kYXRhLmdldFRhcmdldCgpLFxuXHRcdFx0XHRcdHRoaXNcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc3QgbGluayA9IGNrRWxlbWVudC5sYXN0RWxlbWVudDtcblxuXHRcdFx0XHRpZiAobGluaykge1xuXHRcdFx0XHRcdGNvbnN0IGhyZWYgPSBsaW5rLiQuYXR0cmlidXRlcy5ocmVmXG5cdFx0XHRcdFx0XHQ/IGxpbmsuJC5hdHRyaWJ1dGVzLmhyZWYudmFsdWVcblx0XHRcdFx0XHRcdDogbnVsbDtcblx0XHRcdFx0XHRjb25zdCB0YXJnZXQgPSBoYXNDdHJsS2V5XG5cdFx0XHRcdFx0XHQ/ICdfYmxhbmsnXG5cdFx0XHRcdFx0XHQ6IGxpbmsuJC5hdHRyaWJ1dGVzLnRhcmdldFxuXHRcdFx0XHRcdFx0PyBsaW5rLiQuYXR0cmlidXRlcy50YXJnZXQudmFsdWVcblx0XHRcdFx0XHRcdDogbnVsbDtcblx0XHRcdFx0XHR0aGlzLl9yZWRpcmVjdExpbmsoaHJlZiwgdGFyZ2V0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXRyaWV2ZXMgdGhlIG5hdGl2ZSBDS0VkaXRvciBpbnN0YW5jZS4gSGF2aW5nIHRoaXMsIHRoZSBkZXZlbG9wZXIgbWF5IHVzZSB0aGUgQVBJIG9mIENLRWRpdG9yIE9PVEIuXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAbWV0aG9kIF9nZXROYXRpdmVFZGl0b3Jcblx0XHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjdXJyZW50IGluc3RhbmNlIG9mIENLRWRpdG9yLlxuXHRcdCAqL1xuXHRcdF9nZXROYXRpdmVFZGl0b3IoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fZWRpdG9yO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZWRpcmVjdHMgdGhlIGJyb3dzZXIgdG8gYSBnaXZlbiBsaW5rXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAbWV0aG9kIF9yZWRpcmVjdExpbmtcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHJlZiBUaGUgaHJlZiB0byB0YWtlIHRoZSBicm93c2VyIHRvXG5cdFx0ICogQHBhcmFtIHtzdHJpbmc9fSB0YXJnZXQgU3BlY2lmaWVzIHdoZXJlIHRvIGRpc3BsYXkgdGhlIGxpbmtcblx0XHQgKi9cblx0XHRfcmVkaXJlY3RMaW5rKGhyZWYsIHRhcmdldCkge1xuXHRcdFx0aWYgKHRhcmdldCAmJiBocmVmKSB7XG5cdFx0XHRcdHdpbmRvdy5vcGVuKGhyZWYsIHRhcmdldCk7XG5cdFx0XHR9IGVsc2UgaWYgKGhyZWYpIHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZW5kZXJzIHRoZSBzcGVjaWZpZWQgZnJvbSB0aGUgdXNlciB0b29sYmFycy5cblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEBtZXRob2QgX3JlbmRlclVJXG5cdFx0ICovXG5cdFx0X3JlbmRlclVJKCkge1xuXHRcdFx0aWYgKCF0aGlzLl9kZXN0cm95ZWQpIHtcblx0XHRcdFx0Y29uc3QgZWRpdG9yVUlFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGVkaXRvclVJRWxlbWVudC5jbGFzc05hbWUgPSAnYWUtdWknO1xuXG5cdFx0XHRcdGNvbnN0IHVpTm9kZSA9IHRoaXMuZ2V0KCd1aU5vZGUnKSB8fCBkb2N1bWVudC5ib2R5O1xuXG5cdFx0XHRcdHVpTm9kZS5hcHBlbmRDaGlsZChlZGl0b3JVSUVsZW1lbnQpO1xuXG5cdFx0XHRcdGNvbnN0IGNhbGxiYWNrUmVmID0gZWxlbWVudCA9PiB7XG5cdFx0XHRcdFx0aWYgKCF0aGlzLl9tYWluVUkgJiYgZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0dGhpcy5fbWFpblVJID0gZWxlbWVudDtcblx0XHRcdFx0XHRcdHRoaXMuZ2V0KCduYXRpdmVFZGl0b3InKS5maXJlKCd1aVJlYWR5Jyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdFJlYWN0RE9NLnJlbmRlcihcblx0XHRcdFx0XHQ8RWRpdG9yQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e2VkaXRvcjogdGhpc319PlxuXHRcdFx0XHRcdFx0PFVJXG5cdFx0XHRcdFx0XHRcdGV2ZW50c0RlbGF5PXt0aGlzLmdldCgnZXZlbnRzRGVsYXknKX1cblx0XHRcdFx0XHRcdFx0cmVmPXtjYWxsYmFja1JlZn1cblx0XHRcdFx0XHRcdFx0dG9vbGJhcnM9e3RoaXMuZ2V0KCd0b29sYmFycycpfVxuXHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8L0VkaXRvckNvbnRleHQuUHJvdmlkZXI+LFxuXHRcdFx0XHRcdGVkaXRvclVJRWxlbWVudFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMuX2VkaXRvclVJRWxlbWVudCA9IGVkaXRvclVJRWxlbWVudDtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGZ1bmN0aW9uIHJldHVybnMgYW4gSFRNTCBlbGVtZW50IGZyb20gdGhlIHBhc3NlZCB2YWx1ZS4gSWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhIHN0cmluZywgaXQgc2hvdWxkIGJlXG5cdFx0ICogdGhlIElkIG9mIHRoZSBlbGVtZW50IHdoaWNoIGhhdmUgdG8gYmUgcmV0cmlldmVkIGZyb20gdGhlIERPTS5cblx0XHQgKiBJZiBhbiBIVE1MIEVsZW1lbnQgaXMgcGFzc2VkLCB0aGUgZWxlbWVudCBpdHNlbGYgd2lsbCBiZSByZXR1cm5lZC5cblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1ldGhvZCBfdG9FbGVtZW50XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEBwYXJhbSB7IShTdHJpbmd8SFRNTEVsZW1lbnQpfSB2YWx1ZSBTdHJpbmcsIHdoaWNoIGhhdmUgdG8gY29ycmVzcG9uZCB0byBhbiBIVE1MIGVsZW1lbnQgZnJvbSB0aGUgRE9NLFxuXHRcdCAqIG9yIHRoZSBIVE1MIGVsZW1lbnQgaXRzZWxmLiBJZiBJZCBpcyBwYXNzZWQsIHRoZSBIVE1MIGVsZW1lbnQgd2lsbCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgRE9NLlxuXHRcdCAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBBbiBIVE1MIGVsZW1lbnQuXG5cdFx0ICovXG5cdFx0X3RvRWxlbWVudCh2YWx1ZSkge1xuXHRcdFx0aWYgKExhbmcuaXNTdHJpbmcodmFsdWUpKSB7XG5cdFx0XHRcdHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFZhbGlkYXRlcyB0aGUgYWxsb3dlZCBjb250ZW50IGF0dHJpYnV0ZS4gTG9va1xuXHRcdCAqIFtoZXJlXShodHRwOi8vZG9jcy5ja2VkaXRvci5jb20vIyEvYXBpL0NLRURJVE9SLmNvbmZpZy1jZmctYWxsb3dlZENvbnRlbnQpIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZVxuXHRcdCAqIHN1cHBvcnRlZCB2YWx1ZXMuXG5cdFx0ICpcblx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAbWV0aG9kIF92YWxpZGF0ZUFsbG93ZWRDb250ZW50XG5cdFx0ICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB0byBiZSBjaGVja2VkXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgY3VycmVudCB2YWx1ZSBpcyB2YWxpZCBjb25maWd1cmF0aW9uLCBmYWxzZSBvdGhlcndpc2Vcblx0XHQgKi9cblx0XHRfdmFsaWRhdGVBbGxvd2VkQ29udGVudCh2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0TGFuZy5pc1N0cmluZyh2YWx1ZSkgfHxcblx0XHRcdFx0TGFuZy5pc09iamVjdCh2YWx1ZSkgfHxcblx0XHRcdFx0TGFuZy5pc0Jvb2xlYW4odmFsdWUpXG5cdFx0XHQpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBWYWxpZGF0ZXMgdGhlIHZhbHVlIG9mIHRvb2xiYXJzIGF0dHJpYnV0ZVxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIENvcmVcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQG1ldGhvZCBfdmFsaWRhdGVUb29sYmFyc1xuXHRcdCAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgdG8gYmUgY2hlY2tlZFxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGN1cnJlbnQgdmFsdWUgaXMgdmFsaWQgdG9vbGJhcnMgY29uZmlndXJhdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlXG5cdFx0ICovXG5cdFx0X3ZhbGlkYXRlVG9vbGJhcnModmFsdWUpIHtcblx0XHRcdHJldHVybiBMYW5nLmlzT2JqZWN0KHZhbHVlKSB8fCBMYW5nLmlzTnVsbCh2YWx1ZSk7XG5cdFx0fSxcblx0fSxcblx0e1xuXHRcdEFUVFJTOiB7XG5cdFx0XHQvKipcblx0XHRcdCAqIENvbmZpZ3VyZXMgdGhlIGFsbG93ZWQgY29udGVudCBmb3IgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgQWxsb3lFZGl0b3IuXG5cdFx0XHQgKiBMb29rIG9uIHRoZSBbb2ZmaWNpYWwgQ0tFZGl0b3IgQVBJXShodHRwOi8vZG9jcy5ja2VkaXRvci5jb20vIyEvYXBpL0NLRURJVE9SLmNvbmZpZy1jZmctYWxsb3dlZENvbnRlbnQpXG5cdFx0XHQgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdmFsaWQgdmFsdWVzLlxuXHRcdFx0ICpcblx0XHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0XHQgKiBAaW5zdGFuY2Vcblx0XHRcdCAqIEBwcm9wZXJ0eSBhbGxvd2VkQ29udGVudFxuXHRcdFx0ICogQGRlZmF1bHQgdHJ1ZVxuXHRcdFx0ICogQHdyaXRlT25jZVxuXHRcdFx0ICogQHR5cGUge0Jvb2xlYW4sIFN0cmluZywgT2JqZWN0fVxuXHRcdFx0ICovXG5cdFx0XHRhbGxvd2VkQ29udGVudDoge1xuXHRcdFx0XHR2YWxpZGF0b3I6ICdfdmFsaWRhdGVBbGxvd2VkQ29udGVudCcsXG5cdFx0XHRcdHZhbHVlOiB0cnVlLFxuXHRcdFx0XHR3cml0ZU9uY2U6IHRydWUsXG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIENhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBjbGlja2luZyBvbiB0aGVcblx0XHRcdCAqIDxjb2RlPnNyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWxpbmstZWRpdC1icm93c2UuanN4PC9jb2RlPlxuXHRcdFx0ICogY29tcG9uZW50LlxuXHRcdFx0ICpcblx0XHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0XHQgKiBAaW5zdGFuY2Vcblx0XHRcdCAqIEBwcm9wZXR5IGRvY3VtZW50QnJvd3NlTGlua0NhbGxiYWNrXG5cdFx0XHQgKiBAZGVmYXVsdCB1bmRlZmluZWRcblx0XHRcdCAqIEB0eXBlIHtGdW5jdGlvbnx1bmRlZmluZWR9XG5cdFx0XHQgKi9cblx0XHRcdGRvY3VtZW50QnJvd3NlTGlua0NhbGxiYWNrOiB7XG5cdFx0XHRcdHZhbGlkYXRvcjogTGFuZy5pc0Z1bmN0aW9uLFxuXHRcdFx0XHR2YWx1ZTogdW5kZWZpbmVkLFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBDb25maWd1cmF0aW9uIGZvciB0aGVcblx0XHRcdCAqIDxjb2RlPnNyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWxpbmstZWRpdC1icm93c2UuanN4PC9jb2RlPlxuXHRcdFx0ICogY29tcG9uZW50LlxuXHRcdFx0ICpcblx0XHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0XHQgKiBAaW5zdGFuY2Vcblx0XHRcdCAqIEBwcm9wZXR5IGRvY3VtZW50QnJvd3NlTGlua1VybFxuXHRcdFx0ICogQGRlZmF1bHQgdW5kZWZpbmVkXG5cdFx0XHQgKiBAdHlwZSB7U3RyaW5nfHVuZGVmaW5lZH1cblx0XHRcdCAqL1xuXHRcdFx0ZG9jdW1lbnRCcm93c2VMaW5rVXJsOiB7XG5cdFx0XHRcdHZhbGlkYXRvcjogTGFuZy5pc1N0cmluZyxcblx0XHRcdFx0dmFsdWU6IHVuZGVmaW5lZCxcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogTGlzdCBvZiBlbWJlZCBwcm92aWRlcnMgZm9yIHZpZGVvc1xuXHRcdFx0ICpcblx0XHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0XHQgKiBAaW5zdGFuY2Vcblx0XHRcdCAqIEBwcm9wZXJ0eSBlbWJlZFByb3ZpZGVyc1xuXHRcdFx0ICogQGRlZmF1bHQgW11cblx0XHRcdCAqIEB0eXBlIEFycmF5fVxuXHRcdFx0ICovXG5cdFx0XHRlbWJlZFByb3ZpZGVyczoge1xuXHRcdFx0XHR2YWxpZGF0b3I6IExhbmcuaXNBcnJheSxcblx0XHRcdFx0dmFsdWU6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpZDogJ2ZhY2Vib29rJyxcblx0XHRcdFx0XHRcdHRwbDogYDxpZnJhbWUgYWxsb3dGdWxsU2NyZWVuPVwidHJ1ZVwiIGFsbG93VHJhbnNwYXJlbmN5PVwidHJ1ZVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgZnJhbWVib3JkZXI9XCIwXCIgaGVpZ2h0PVwiJHtFTUJFRF9WSURFT19IRUlHSFR9XCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCBzcmM9XCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vcGx1Z2lucy92aWRlby5waHA/aHJlZj17ZW1iZWRJZH0nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgJnNob3dfdGV4dD0wJndpZHRoPSR7RU1CRURfVklERU9fV0lEVEh9JmhlaWdodD0ke0VNQkVEX1ZJREVPX0hFSUdIVH1cIiBzY3JvbGxpbmc9XCJub1wiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgc3R5bGU9XCJib3JkZXI6bm9uZTtvdmVyZmxvdzpoaWRkZW5cIiB3aWR0aD1cIiR7RU1CRURfVklERU9fV0lEVEh9fVwiPjwvaWZyYW1lPmAsXG5cdFx0XHRcdFx0XHR0eXBlOiAndmlkZW8nLFxuXHRcdFx0XHRcdFx0dXJsU2NoZW1lczogW1xuXHRcdFx0XHRcdFx0XHQnKGh0dHBzPzpcXFxcL1xcXFwvKD86d3d3XFxcXC4pP2ZhY2Vib29rLmNvbVxcXFwvXFxcXFMqXFxcXC92aWRlb3NcXFxcL1xcXFxTKiknLFxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGlkOiAndHdpdGNoJyxcblx0XHRcdFx0XHRcdHRwbDogYDxpZnJhbWUgYWxsb3dmdWxsc2NyZWVuPVwidHJ1ZVwiIGZyYW1lYm9yZGVyPVwiMFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgaGVpZ2h0PVwiJHtFTUJFRF9WSURFT19IRUlHSFR9XCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCBzcmM9XCJodHRwczovL3BsYXllci50d2l0Y2gudHYvP2F1dG9wbGF5PWZhbHNlJnZpZGVvPXtlbWJlZElkfVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgc2Nyb2xsaW5nPVwibm9cIiB3aWR0aD1cIiR7RU1CRURfVklERU9fV0lEVEh9XCI+PC9pZnJhbWU+YCxcblx0XHRcdFx0XHRcdHR5cGU6ICd2aWRlbycsXG5cdFx0XHRcdFx0XHR1cmxTY2hlbWVzOiBbXG5cdFx0XHRcdFx0XHRcdCdodHRwcz86XFxcXC9cXFxcLyg/Ond3d1xcXFwuKT90d2l0Y2gudHZcXFxcL3ZpZGVvc1xcXFwvKFxcXFxTKikkJyxcblx0XHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpZDogJ3ZpbWVvJyxcblx0XHRcdFx0XHRcdHRwbDogYDxpZnJhbWUgYWxsb3dmdWxsc2NyZWVuIGZyYW1lYm9yZGVyPVwiMFwiIGhlaWdodD1cIiR7RU1CRURfVklERU9fSEVJR0hUfVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgbW96YWxsb3dmdWxsc2NyZWVuIHNyYz1cImh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby97ZW1iZWRJZH1cIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IHdlYmtpdGFsbG93ZnVsbHNjcmVlbiB3aWR0aD1cIiR7RU1CRURfVklERU9fV0lEVEh9XCI+PC9pZnJhbWU+YCxcblx0XHRcdFx0XHRcdHR5cGU6ICd2aWRlbycsXG5cdFx0XHRcdFx0XHR1cmxTY2hlbWVzOiBbXG5cdFx0XHRcdFx0XHRcdCdodHRwcz86XFxcXC9cXFxcLyg/Ond3d1xcXFwuKT92aW1lb1xcXFwuY29tXFxcXC9hbGJ1bVxcXFwvLipcXFxcL3ZpZGVvXFxcXC8oXFxcXFMqKScsXG5cdFx0XHRcdFx0XHRcdCdodHRwcz86XFxcXC9cXFxcLyg/Ond3d1xcXFwuKT92aW1lb1xcXFwuY29tXFxcXC9jaGFubmVsc1xcXFwvLipcXFxcLyhcXFxcUyopJyxcblx0XHRcdFx0XHRcdFx0J2h0dHBzPzpcXFxcL1xcXFwvKD86d3d3XFxcXC4pP3ZpbWVvXFxcXC5jb21cXFxcL2dyb3Vwc1xcXFwvLipcXFxcL3ZpZGVvc1xcXFwvKFxcXFxTKiknLFxuXHRcdFx0XHRcdFx0XHQnaHR0cHM/OlxcXFwvXFxcXC8oPzp3d3dcXFxcLik/dmltZW9cXFxcLmNvbVxcXFwvKFxcXFxTKikkJyxcblx0XHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpZDogJ3lvdXR1YmUnLFxuXHRcdFx0XHRcdFx0dHBsOiBgPGlmcmFtZSBhbGxvdz1cImF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWFcIiBhbGxvd2Z1bGxzY3JlZW5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCBoZWlnaHQ9XCIke0VNQkVEX1ZJREVPX0hFSUdIVH1cIiBmcmFtZWJvcmRlcj1cIjBcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IHNyYz1cImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL3tlbWJlZElkfT9yZWw9MFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgd2lkdGg9XCIke0VNQkVEX1ZJREVPX1dJRFRIfVwiPjwvaWZyYW1lPmAsXG5cdFx0XHRcdFx0XHR0eXBlOiAndmlkZW8nLFxuXHRcdFx0XHRcdFx0dXJsU2NoZW1lczogW1xuXHRcdFx0XHRcdFx0XHQnaHR0cHM/OlxcXFwvXFxcXC8oPzp3d3dcXFxcLik/eW91dHViZS5jb21cXFxcL3dhdGNoXFxcXD92PShcXFxcUyopJCcsXG5cdFx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFNwZWNpZmllcyB3aGV0aGVyIEFsbG95RWRpdG9yIHNldCB0aGUgY29udGVudGVkaXRhYmxlIGF0dHJpYnV0ZVxuXHRcdFx0ICogdG8gXCJ0cnVlXCIgb24gaXRzIHNyY05vZGUuXG5cdFx0XHQgKlxuXHRcdFx0ICogQG1lbWJlcm9mIENvcmVcblx0XHRcdCAqIEBpbnN0YW5jZVxuXHRcdFx0ICogQHByb3BlcnR5IGVuYWJsZUNvbnRlbnRFZGl0YWJsZVxuXHRcdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdFx0ICogQGRlZmF1bHQgdHJ1ZVxuXHRcdFx0ICogQHdyaXRlT25jZVxuXHRcdFx0ICovXG5cdFx0XHRlbmFibGVDb250ZW50RWRpdGFibGU6IHtcblx0XHRcdFx0dmFsaWRhdG9yOiBMYW5nLmlzQm9vbGVhbixcblx0XHRcdFx0dmFsdWU6IHRydWUsXG5cdFx0XHRcdHdyaXRlT25jZTogdHJ1ZSxcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogVGhlIGRlbGF5ICh0aW1lb3V0KSwgaW4gbXMsIGFmdGVyIHdoaWNoIGV2ZW50cyBzdWNoIGxpa2Uga2V5IG9yIG1vdXNlIGV2ZW50cyB3aWxsIGJlIHByb2Nlc3NlZC5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdFx0ICogQGluc3RhbmNlXG5cdFx0XHQgKiBAcHJvcGVydHkgZXZlbnRzRGVsYXlcblx0XHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0XHQgKi9cblx0XHRcdGV2ZW50c0RlbGF5OiB7XG5cdFx0XHRcdHZhbGlkYXRvcjogTGFuZy5pc051bWJlcixcblx0XHRcdFx0dmFsdWU6IDEwMCxcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogVGhlIGxpc3Qgb2YgZXh0cmEgY29tbWFuZHMgdG8gYmUgYWRkZWQgdG8gdGhlIGVkaXRvci5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdFx0ICogQGluc3RhbmNlXG5cdFx0XHQgKiBAcHJvcGVydHkgZXh0cmFDb21tYW5kc1xuXHRcdFx0ICogQHR5cGUge09iamVjdH1cblx0XHRcdCAqL1xuXHRcdFx0ZXh0cmFDb21tYW5kczoge1xuXHRcdFx0XHR2YWxpZGF0b3I6IExhbmcuaXNPYmplY3QsXG5cdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0cmVtb3ZlSW1hZ2U6IHJlbW92ZUltYWdlQ29tbWFuZCxcblx0XHRcdFx0fSxcblx0XHRcdFx0d3JpdGVPbmNlOiB0cnVlLFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTcGVjaWZpZXMgdGhlIGV4dHJhIHBsdWdpbnMgd2hpY2ggaGF2ZSB0byBiZSBsb2FkZWQgdG8gdGhlIGN1cnJlbnQgQ0tFZGl0b3IgaW5zdGFuY2UgaW4gb3JkZXIgdG9cblx0XHRcdCAqIG1ha2UgQWxsb3lFZGl0b3IgdG8gd29yayBwcm9wZXJseS5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdFx0ICogQGluc3RhbmNlXG5cdFx0XHQgKiBAcHJvcGVydHkgZXh0cmFQbHVnaW5zXG5cdFx0XHQgKiBAZGVmYXVsdCAndWljb3JlLHNlbGVjdGlvbnJlZ2lvbixkcmFncmVzaXplLGFkZGltYWdlcyxwbGFjZWhvbGRlcix0YWJsZXRvb2xzLHRhYmxlcmVzaXplLGF1dG9saW5rJ1xuXHRcdFx0ICogQHdyaXRlT25jZVxuXHRcdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHRcdCAqL1xuXHRcdFx0ZXh0cmFQbHVnaW5zOiB7XG5cdFx0XHRcdHZhbGlkYXRvcjogTGFuZy5pc1N0cmluZyxcblx0XHRcdFx0dmFsdWU6XG5cdFx0XHRcdFx0J2FlX3VpY29yZSxhZV9zZWxlY3Rpb25yZWdpb24sYWVfc2VsZWN0aW9ua2V5c3Ryb2tlcyxhZV9pbWFnZWFsaWdubWVudCxhZV9hZGRpbWFnZXMsYWVfcGxhY2Vob2xkZXIsJyArXG5cdFx0XHRcdFx0J2FlX3RhYmxldG9vbHMsYWVfdGFibGVyZXNpemUsYWVfYXV0b2xpbmssYWVfZW1iZWQsYWVfYXV0b2xpc3QsYWVfZHJhZ3Jlc2l6ZSwnICtcblx0XHRcdFx0XHQnYWVfdWlicmlkZ2UsYWVfcmljaGNvbWJvYnJpZGdlLGFlX3BhbmVsbWVudWJ1dHRvbmJyaWRnZSxhZV9tZW51YnJpZGdlLGFlX21lbnVidXR0b25icmlkZ2UsYWVfYnV0dG9uYnJpZGdlLGZvbnQsY29sb3JidXR0b24nLFxuXHRcdFx0XHR3cml0ZU9uY2U6IHRydWUsXG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFNwZWNpZmllcyB0aGUgXCJtb2RlXCIgZm9yIGFsbG95IGVkaXRvclxuXHRcdFx0ICogQG1lbWJlcm9mIENvcmVcblx0XHRcdCAqIEBpbnN0YW5jZVxuXHRcdFx0ICogQHByb3BlcnR5IG1vZGVcblx0XHRcdCAqIEBkZWZhdWx0ICdzaW1wbGUnXG5cdFx0XHQgKiBAd3JpdGVPbmNlXG5cdFx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdFx0ICovXG5cdFx0XHRtb2RlOiB7XG5cdFx0XHRcdHZhbGlkYXRvcjogTGFuZy5pc1N0cmluZyxcblx0XHRcdFx0dmFsdWU6ICdzaW1wbGUnLFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBSZXRyaWV2ZXMgdGhlIG5hdGl2ZSBDS0VkaXRvciBpbnN0YW5jZS4gSGF2aW5nIHRoaXMsIHRoZSBkZXZlbG9wZXIgbWF5IHVzZSB0aGUgZnVsbCBBUEkgb2YgQ0tFZGl0b3IuXG5cdFx0XHQgKlxuXHRcdFx0ICogQG1lbWJlcm9mIENvcmVcblx0XHRcdCAqIEBpbnN0YW5jZVxuXHRcdFx0ICogQHByb3BlcnR5IG5hdGl2ZUVkaXRvclxuXHRcdFx0ICogQHJlYWRPbmx5XG5cdFx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdFx0ICovXG5cdFx0XHRuYXRpdmVFZGl0b3I6IHtcblx0XHRcdFx0Z2V0dGVyOiAnX2dldE5hdGl2ZUVkaXRvcicsXG5cdFx0XHRcdHJlYWRPbmx5OiB0cnVlLFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTcGVjaWZpZXMgdGhlIGNsYXNzLCB3aGljaCBzaG91bGQgYmUgYWRkZWQgYnkgUGxhY2Vob2xkZXIgcGx1Z2luXG5cdFx0XHQgKiB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3BsYWNlaG9sZGVyfX17ey9jcm9zc0xpbmt9fVxuXHRcdFx0ICogd2hlbiBlZGl0b3IgaXMgbm90IGZvY3VzZWQuXG5cdFx0XHQgKlxuXHRcdFx0ICogQG1lbWJlcm9mIENvcmVcblx0XHRcdCAqIEBpbnN0YW5jZVxuXHRcdFx0ICogQHByb3BlcnR5IHBsYWNlaG9sZGVyQ2xhc3Ncblx0XHRcdCAqIEBkZWZhdWx0ICdhZS1wbGFjZWhvbGRlcidcblx0XHRcdCAqIEB3cml0ZU9uY2Vcblx0XHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0XHQgKi9cblx0XHRcdHBsYWNlaG9sZGVyQ2xhc3M6IHtcblx0XHRcdFx0dmFsaWRhdG9yOiBMYW5nLmlzU3RyaW5nLFxuXHRcdFx0XHR2YWx1ZTogJ2FlLXBsYWNlaG9sZGVyJyxcblx0XHRcdFx0d3JpdGVPbmNlOiB0cnVlLFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTcGVjaWZpZXMgdGhlIHBsdWdpbnMsIHdoaWNoIGNvbWUgYnkgZGVmYXVsdCB3aXRoIENLRWRpdG9yLCBidXQgd2hpY2ggYXJlIG5vdCBuZWVkZWQgYnkgQWxsb3lFZGl0b3IuXG5cdFx0XHQgKiBUaGVzZSBwbHVnaW5zIGFkZCB0aGUgZGVmYXVsdCBVSSBmb3IgQ0tlZGl0b3IsIHdoaWNoIGlzIG5vIG1vcmUgbmVlZGVkLiBQbGVhc2Ugbm90ZSB0aGF0IEFsbG95RWR0b3Jcblx0XHRcdCAqIGNvbWVzIHdpdGggaXRzIG93biBoaWdobHkgb3B0aW1pemVkIGNvcHkgb2YgQ0tFZGl0b3IgKGp1c3QgY3VzdG9taXplZCB2aWEgdGhlaXIgb2ZmaWNpYWwgZG93bmxvYWQgcGFnZSkuXG5cdFx0XHQgKiBUaGlzIHZlcnNpb24gZG9lcyBub3QgY29tZSB3aXRoIHRoZSB1bm5lZWRlZCBwbHVnaW5zLCBzbyB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSB3b24ndCBiZSBuZWVkZWQuXG5cdFx0XHQgKiBIb3dldmVyLCBpZiB5b3UgZGVjaWRlIHRvIGdvIHdpdGggdGhlIE9PVEIgdmVyc2lvbiBvZiBDS0VkaXRvciwgeW91IHdpbGwgaGF2ZSB0byByZW1vdmUgc29tZSBvZiB0aGVcblx0XHRcdCAqIHBsdWdpbnMgaWYgeW91IGRlY2lkZSB0byB1c2UgQWxsb3lFZGl0b3IuIEtlZXAgaW4gbWluZCB0aGF0IHJlbW92aW5nIHRoZXNlIHBsdWdpbnMgZG9lc24ndCByZW1vdmUgdGhlbVxuXHRcdFx0ICogZW50aXJlbHkgZnJvbSBDS0VkaXRvci4gSXQganVzdCByZW1vdmVzIHRoZW0gZnJvbSBpdHMgY3VycmVudCBpbnN0YW5jZSwgaW4gd2hpY2ggeW91IHdpbGwgdXNlIGRpZmZlcmVudFxuXHRcdFx0ICogVUkgLSB0aG9zZSBvZiBBbGxveUVkaXRvci4gWW91IHdpbGwgYmUgZnVsbHkgYWJsZSB0byB1c2UgYm90aCBPT1RCIENLRWRpdG9yIGFuZCBBbGxveUVkaXRvciBvbiB0aGUgc2FtZVxuXHRcdFx0ICogcGFnZSFcblx0XHRcdCAqXG5cdFx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdFx0ICogQGluc3RhbmNlXG5cdFx0XHQgKiBAcHJvcGVydHkgcmVtb3ZlUGx1Z2luc1xuXHRcdFx0ICogQGRlZmF1bHQgJ2NvbnRleHRtZW51LHRvb2xiYXIsZWxlbWVudHNwYXRoLHJlc2l6ZSxsaXN0c3R5bGUsbGluaydcblx0XHRcdCAqIEB3cml0ZU9uY2Vcblx0XHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0XHQgKi9cblx0XHRcdHJlbW92ZVBsdWdpbnM6IHtcblx0XHRcdFx0dmFsaWRhdG9yOiBMYW5nLmlzU3RyaW5nLFxuXHRcdFx0XHR2YWx1ZTogJ2NvbnRleHRtZW51LHRvb2xiYXIsZWxlbWVudHNwYXRoLHJlc2l6ZSxsaXN0c3R5bGUsbGluaycsXG5cdFx0XHRcdHdyaXRlT25jZTogdHJ1ZSxcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogQXJyYXkgb2YgbWFudWFsIHNlbGVjdGlvbiB0cmlnZ2Vycy4gVGhleSBjYW4gYmUgY29uZmlndXJlZCB0byBtYW51YWxseSBzaG93IGEgc3BlY2lmaWMgc2VsZWN0aW9uIHRvb2xiYXJcblx0XHRcdCAqIGJ5IGZvcmNpbmcgdGhlIHNlbGVjdGlvbiB0eXBlLiBBIHNlbGVjdGlvbktleXN0cm9rZSBpdGVtIGNvbnNpc3RzIG9mIGEga2V5cyBwcm9wZXJ0eSB3aXRoIGEgW0NLRWRpdG9yIGtleXN0cm9rZVxuXHRcdFx0ICogZGVmaW5pdGlvbl0oaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2FwaS9DS0VESVRPUi5jb25maWctY2ZnLWtleXN0cm9rZXMpIGFuZCBhIHNlbGVjdGlvbiBwcm9wZXJ0eSB3aXRoXG5cdFx0XHQgKiB0aGUgc2VsZWN0aW9uIG5hbWUgdG8gdHJpZ2dlci5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdFx0ICogQGluc3RhbmNlXG5cdFx0XHQgKiBAcHJvcGVydHkgc2VsZWN0aW9uS2V5c3Ryb2tlc1xuXHRcdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdFx0ICovXG5cdFx0XHRzZWxlY3Rpb25LZXlzdHJva2VzOiB7XG5cdFx0XHRcdHZhbGlkYXRvcjogTGFuZy5pc0FycmF5LFxuXHRcdFx0XHR2YWx1ZTogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGtleXM6IENLRURJVE9SLkNUUkwgKyA3NiAvKiBMKi8sXG5cdFx0XHRcdFx0XHRzZWxlY3Rpb246ICdsaW5rJyxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGtleXM6IENLRURJVE9SLkNUUkwgKyBDS0VESVRPUi5TSElGVCArIDc2IC8qIEwqLyxcblx0XHRcdFx0XHRcdHNlbGVjdGlvbjogJ2VtYmVkJyxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRdLFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBUaGUgcGF0aCB0byB0aGUgc3ByaXRlbWFwIFNWRyB1c2VkIGZvciBpY29uc1xuXHRcdFx0ICpcblx0XHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0XHQgKiBAaW5zdGFuY2Vcblx0XHRcdCAqIEBwcm9wZXJ0eSBzcHJpdGVtYXBcblx0XHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdFx0ICogQHdyaXRlT25jZVxuXHRcdFx0ICovXG5cdFx0XHRzcHJpdGVtYXA6IHtcblx0XHRcdFx0dmFsaWRhdG9yOiBMYW5nLmlzU3RyaW5nLFxuXHRcdFx0XHR2YWx1ZTogJ2FsbG95LWVkaXRvci9hc3NldHMvaWNvbnMvaWNvbnMuc3ZnJyxcblx0XHRcdFx0d3JpdGVPbmNlOiB0cnVlLFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBUaGUgTm9kZSBJRCBvciBIVE1sIG5vZGUsIHdoaWNoIEFsbG95RWRpdG9yIHNob3VsZCB1c2UgYXMgYW4gZWRpdGFibGUgYXJlYS5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWVtYmVyb2YgQ29yZVxuXHRcdFx0ICogQGluc3RhbmNlXG5cdFx0XHQgKiBAcHJvcGVydHkgc3JjTm9kZVxuXHRcdFx0ICogQHR5cGUgU3RyaW5nIHwgTm9kZVxuXHRcdFx0ICogQHdyaXRlT25jZVxuXHRcdFx0ICovXG5cdFx0XHRzcmNOb2RlOiB7XG5cdFx0XHRcdHNldHRlcjogJ190b0VsZW1lbnQnLFxuXHRcdFx0XHR3cml0ZU9uY2U6IHRydWUsXG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFRoZSB0b29sYmFycyBjb25maWd1cmF0aW9uIGZvciB0aGlzIGVkaXRvciBpbnN0YW5jZVxuXHRcdFx0ICpcblx0XHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0XHQgKiBAaW5zdGFuY2Vcblx0XHRcdCAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB0b29sYmFyc1xuXHRcdFx0ICovXG5cdFx0XHR0b29sYmFyczoge1xuXHRcdFx0XHR2YWxpZGF0b3I6ICdfdmFsaWRhdGVUb29sYmFycycsXG5cdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0YWRkOiB7XG5cdFx0XHRcdFx0XHRidXR0b25zOiBbXG5cdFx0XHRcdFx0XHRcdCdpbWFnZUZyb21GaWxlJyxcblx0XHRcdFx0XHRcdFx0J2VtYmVkJyxcblx0XHRcdFx0XHRcdFx0J2NhbWVyYScsXG5cdFx0XHRcdFx0XHRcdCdobGluZScsXG5cdFx0XHRcdFx0XHRcdCd0YWJsZScsXG5cdFx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdFx0dGFiSW5kZXg6IDIsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHtcblx0XHRcdFx0XHRcdHNlbGVjdGlvbnM6IFNlbGVjdGlvbnMsXG5cdFx0XHRcdFx0XHR0YWJJbmRleDogMSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBUaGUgTm9kZSBJRCBvciBIVE1sIG5vZGUsIHdoZXJlIEFsbG95RWRpdG9yJ3MgVUkgc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHRcdFx0ICpcblx0XHRcdCAqIEBtZW1iZXJvZiBDb3JlXG5cdFx0XHQgKiBAaW5zdGFuY2Vcblx0XHRcdCAqIEBwcm9wZXJ0eSB1aU5vZGVcblx0XHRcdCAqIEB0eXBlIFN0cmluZyB8IE5vZGVcblx0XHRcdCAqIEB3cml0ZU9uY2Vcblx0XHRcdCAqL1xuXHRcdFx0dWlOb2RlOiB7XG5cdFx0XHRcdHNldHRlcjogJ190b0VsZW1lbnQnLFxuXHRcdFx0XHR3cml0ZU9uY2U6IHRydWUsXG5cdFx0XHR9LFxuXHRcdH0sXG5cdH1cbik7XG5cbkNLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENvcmUpO1xuXG5leHBvcnQgZGVmYXVsdCBDb3JlO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFJlYWN0IGNvbnRleHQgdG8gYXZvaWQgZXhwbGljaXRseSBwYXNzaW5nIHRoZSBlZGl0b3IgaW5zdGFuY2UgYWxsXG4gKiB0aHJvdWdoIHRoZSBjb21wb25lbnQgaGllcmFyY2h5IHZpYSBwcm9wcy5cbiAqL1xuY29uc3QgRWRpdG9yQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoe30pO1xuXG4vKipcbiAqIEhlbHBlciB0aGF0IHBhc3NlcyB0aGUgZWRpdG9yIGNvbnRleHQgaW4gdmlhIGEgcHJvcC5cbiAqXG4gKiBDb250ZXh0IGNhbiBvbmx5IGJlIGFjY2Vzc2VkIGluIGByZW5kZXIoKWAgYW5kIGluIGxpZmVjeWNsZSBtZXRob2RzXG4gKiAoYGNvbXBvbmVudERpZE1vdW50KClgIGV0YykuIElmIGEgY29tcG9uZW50IG5lZWRzIHRvIGFjY2VzcyBjb250ZXh0XG4gKiBlbHNld2hlcmUsIHN1Y2ggYXMgaW4gYSBjb25zdHJ1Y3RvciwgdGhlIGNvbnRleHQgbmVlZHMgdG8gYmUgcGFzc2VkXG4gKiBpbiB2aWEgYSBwcm9wLlxuICovXG5FZGl0b3JDb250ZXh0LnRvUHJvcHMgPSBDb21wb25lbnQgPT4ge1xuXHRjb25zdCBmb3J3YXJkaW5nQ29tcG9uZW50ID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4gKFxuXHRcdDxFZGl0b3JDb250ZXh0LkNvbnN1bWVyPlxuXHRcdFx0e2NvbnRleHQgPT4gPENvbXBvbmVudCB7Li4ucHJvcHN9IGNvbnRleHQ9e2NvbnRleHR9IHJlZj17cmVmfSAvPn1cblx0XHQ8L0VkaXRvckNvbnRleHQuQ29uc3VtZXI+XG5cdCkpO1xuXHRmb3J3YXJkaW5nQ29tcG9uZW50LmtleSA9IENvbXBvbmVudC5rZXk7XG5cdHJldHVybiBmb3J3YXJkaW5nQ29tcG9uZW50O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yQ29udGV4dDtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0ICogYXMgQmFzZSBmcm9tICcuLi9jb21wb25lbnRzL2Jhc2UnO1xuaW1wb3J0IEJ1dHRvbnMgZnJvbSAnLi4vY29tcG9uZW50cy9idXR0b25zJztcbmltcG9ydCAqIGFzIENvbXBhdCBmcm9tICcuLi9jb21wb25lbnRzL2NvbXBhdCc7XG5pbXBvcnQgVG9vbGJhcnMgZnJvbSAnLi4vY29tcG9uZW50cy90b29sYmFycyc7XG5pbXBvcnQgQXR0cmlidXRlIGZyb20gJy4uL29vcC9hdHRyaWJ1dGUnO1xuaW1wb3J0IExhbmcgZnJvbSAnLi4vb29wL2xhbmcnO1xuaW1wb3J0IGV4dGVuZCBmcm9tICcuLi9vb3Avb29wJztcbmltcG9ydCBTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMgZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb24tYXJyb3dib3gnO1xuaW1wb3J0IFNlbGVjdGlvblNldFBvc2l0aW9uIGZyb20gJy4uL3NlbGVjdGlvbnMvc2VsZWN0aW9uLXBvc2l0aW9uJztcbmltcG9ydCBTZWxlY3Rpb25UZXN0IGZyb20gJy4uL3NlbGVjdGlvbnMvc2VsZWN0aW9uLXRlc3QnO1xuaW1wb3J0IFNlbGVjdGlvbnMgZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb25zJztcbmltcG9ydCBDb3JlIGZyb20gJy4vY29yZSc7XG5cbmltcG9ydCAnLi4vcGx1Z2lucyc7XG5cbi8vIEFuIG9iamVjdCBjb250YWluaW5nIGFsbCBjdXJyZW50bHkgcmVnaXN0ZXJlZCBwbHVnaW5zIGluIEFsbG95RWRpdG9yLlxuY29uc3QgQlJJREdFX0JVVFRPTlMgPSB7fTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEFsbG95RWRpdG9yLlxuICpcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICogQG1ldGhvZCBlZGl0YWJsZVxuICogQHN0YXRpY1xuICogQHBhcmFtIHtTdHJpbmd8Tm9kZX0gbm9kZSBUaGUgTm9kZSBJRCBvciBIVE1sIG5vZGUsIHdoaWNoIEFsbG95RWRpdG9yIHNob3VsZCB1c2UgYXMgYW4gZWRpdGFibGUgYXJlYS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzIGZvciB0aGUgY3VycmVudCBpbnN0YW5jZSBvZiBBbGxveUVkaXRvci5cbiAqIEByZXR1cm4ge09iamVjdH0gQW4gaW5zdGFuY2Ugb2Yge3sjY3Jvc3NMaW5rIFwiQ29yZVwifX17ey9jcm9zc0xpbmt9fVxuICovXG5jb25zdCBlZGl0YWJsZSA9IGZ1bmN0aW9uKG5vZGUsIGNvbmZpZykge1xuXHRjb25maWcgPSBjb25maWcgfHwge307XG5cdGNvbmZpZy5zcmNOb2RlID0gbm9kZTtcblxuXHRBbGxveUVkaXRvci5pbXBsZW1lbnRFdmVudFRhcmdldCgpO1xuXG5cdHJldHVybiBuZXcgQ29yZShjb25maWcpO1xufTtcblxuLyoqXG4gKiBUaGUgZnVsbCBVUkwgZm9yIHRoZSBBbGxveUVkaXRvciBpbnN0YWxsYXRpb24gZGlyZWN0b3J5LlxuICogSXQgaXMgcG9zc2libGUgdG8gbWFudWFsbHkgcHJvdmlkZSB0aGUgYmFzZSBwYXRoIGJ5IHNldHRpbmcgYVxuICogZ2xvYmFsIHZhcmlhYmxlIG5hbWVkIGBBTExPWUVESVRPUl9CQVNFUEFUSGAuIFRoaXMgZ2xvYmFsIHZhcmlhYmxlXG4gKiBtdXN0IGJlIHNldCAqKmJlZm9yZSoqIHRoZSBlZGl0b3Igc2NyaXB0IGxvYWRpbmcuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGdldEJhc2VQYXRoXG4gKiBAc3RhdGljXG4gKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBmb3VuZCBiYXNlIHBhdGhcbiAqL1xuY29uc3QgZ2V0QmFzZVBhdGggPSBmdW5jdGlvbigpIHtcblx0Ly8gRmluZCBvdXQgdGhlIGVkaXRvciBkaXJlY3RvcnkgcGF0aCwgYmFzZWQgb24gaXRzIDxzY3JpcHQ+IHRhZy5cblx0bGV0IHBhdGggPSB3aW5kb3cuQUxMT1lFRElUT1JfQkFTRVBBVEggfHwgJyc7XG5cblx0aWYgKCFwYXRoKSB7XG5cdFx0Y29uc3Qgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgbWF0Y2ggPSBzY3JpcHRzW2ldLnNyYy5tYXRjaChBbGxveUVkaXRvci5yZWdleEJhc2VQYXRoKTtcblxuXHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdHBhdGggPSBtYXRjaFsxXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gSW4gSUUgKG9ubHkpIHRoZSBzY3JpcHQuc3JjIHN0cmluZyBpcyB0aGUgcmF3IHZhbHVlIGVudGVyZWQgaW4gdGhlXG5cdC8vIEhUTUwgc291cmNlLiBPdGhlciBicm93c2VycyByZXR1cm4gdGhlIGZ1bGwgcmVzb2x2ZWQgVVJMIGluc3RlYWQuXG5cdGlmIChwYXRoLmluZGV4T2YoJzovJykgPT09IC0xICYmIHBhdGguc2xpY2UoMCwgMikgIT09ICcvLycpIHtcblx0XHQvLyBBYnNvbHV0ZSBwYXRoLlxuXHRcdGlmIChwYXRoLmluZGV4T2YoJy8nKSA9PT0gMCkge1xuXHRcdFx0cGF0aCA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL14uKj86XFwvXFwvW14vXSovKVswXSArIHBhdGg7XG5cdFx0fVxuXHRcdC8vIFJlbGF0aXZlIHBhdGguXG5cdFx0ZWxzZSB7XG5cdFx0XHRwYXRoID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvXlteP10qXFwvKD86KS8pWzBdICsgcGF0aDtcblx0XHR9XG5cdH1cblxuXHRpZiAoIXBhdGgpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHQnVGhlIEFsbG95RWRpdG9yIGluc3RhbGxhdGlvbiBwYXRoIGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGRldGVjdGVkLiBQbGVhc2Ugc2V0IHRoZSBnbG9iYWwgdmFyaWFibGUgXCJBTExPWUVESVRPUl9CQVNFUEFUSFwiIGJlZm9yZSBjcmVhdGluZyBlZGl0b3IgaW5zdGFuY2VzLidcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIHBhdGg7XG59O1xuXG4vKipcbiAqIERldGVjdHMgYW5kIGxvYWQgdGhlIGNvcnJlc3BvbmRpbmcgbGFuZ3VhZ2UgZmlsZSBpZiBBbGxveUVkaXRvciBsYW5ndWFnZSBzdHJpbmdzIGFyZSBub3QgYWxyZWFkeSBwcmVzZW50LlxuICogVGhlIGZ1bmN0aW9uIGZpcmVzIGEge3sjY3Jvc3NMaW5rIFwiQWxsb3lFZGl0b3IvbGFuZ3VhZ2VSZXNvdXJjZXNMb2FkZWQ6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnRcbiAqXG4gKiBAbWVtYmVyb2YgQWxsb3lFZGl0b3JcbiAqIEBtZXRob2QgbG9hZExhbmd1YWdlUmVzb3VyY2VzXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBPcHRpb25hbCBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiBBbGxveUVkaXRvciBsb2FkcyB0aGUgbGFuZ3VhZ2UgcmVzb3VyY2UuXG4gKi9cbmNvbnN0IGxvYWRMYW5ndWFnZVJlc291cmNlcyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdEFsbG95RWRpdG9yLmltcGxlbWVudEV2ZW50VGFyZ2V0KCk7XG5cblx0aWYgKExhbmcuaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcblx0XHRpZiAoQWxsb3lFZGl0b3IuU3RyaW5ncykge1xuXHRcdFx0c2V0VGltZW91dChjYWxsYmFjaywgMCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFsbG95RWRpdG9yLm9uY2UoJ2xhbmd1YWdlUmVzb3VyY2VzTG9hZGVkJywgKCkgPT4ge1xuXHRcdFx0XHRzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGlmICghQWxsb3lFZGl0b3IuX2xhbmdSZXNvdXJjZVJlcXVlc3RlZCkge1xuXHRcdEFsbG95RWRpdG9yLl9sYW5nUmVzb3VyY2VSZXF1ZXN0ZWQgPSB0cnVlO1xuXG5cdFx0Y29uc3QgbGFuZ3VhZ2VzID0gW1xuXHRcdFx0J2FmJyxcblx0XHRcdCdhcicsXG5cdFx0XHQnYmcnLFxuXHRcdFx0J2JuJyxcblx0XHRcdCdicycsXG5cdFx0XHQnY2EnLFxuXHRcdFx0J2NzJyxcblx0XHRcdCdjeScsXG5cdFx0XHQnZGEnLFxuXHRcdFx0J2RlJyxcblx0XHRcdCdlbCcsXG5cdFx0XHQnZW4tYXUnLFxuXHRcdFx0J2VuLWNhJyxcblx0XHRcdCdlbi1nYicsXG5cdFx0XHQnZW4nLFxuXHRcdFx0J2VvJyxcblx0XHRcdCdlcycsXG5cdFx0XHQnZXQnLFxuXHRcdFx0J2V1Jyxcblx0XHRcdCdmYScsXG5cdFx0XHQnZmknLFxuXHRcdFx0J2ZvJyxcblx0XHRcdCdmci1jYScsXG5cdFx0XHQnZnInLFxuXHRcdFx0J2dsJyxcblx0XHRcdCdndScsXG5cdFx0XHQnaGUnLFxuXHRcdFx0J2hpJyxcblx0XHRcdCdocicsXG5cdFx0XHQnaHUnLFxuXHRcdFx0J2lkJyxcblx0XHRcdCdpcycsXG5cdFx0XHQnaXQnLFxuXHRcdFx0J2phJyxcblx0XHRcdCdrYScsXG5cdFx0XHQna20nLFxuXHRcdFx0J2tvJyxcblx0XHRcdCdrdScsXG5cdFx0XHQnbHQnLFxuXHRcdFx0J2x2Jyxcblx0XHRcdCdtaycsXG5cdFx0XHQnbW4nLFxuXHRcdFx0J21zJyxcblx0XHRcdCduYicsXG5cdFx0XHQnbmwnLFxuXHRcdFx0J25vJyxcblx0XHRcdCdwbCcsXG5cdFx0XHQncHQtYnInLFxuXHRcdFx0J3B0Jyxcblx0XHRcdCdybycsXG5cdFx0XHQncnUnLFxuXHRcdFx0J3NpJyxcblx0XHRcdCdzaycsXG5cdFx0XHQnc2wnLFxuXHRcdFx0J3NxJyxcblx0XHRcdCdzci1sYXRuJyxcblx0XHRcdCdzcicsXG5cdFx0XHQnc3YnLFxuXHRcdFx0J3RoJyxcblx0XHRcdCd0cicsXG5cdFx0XHQndHQnLFxuXHRcdFx0J3VnJyxcblx0XHRcdCd1aycsXG5cdFx0XHQndmknLFxuXHRcdFx0J3poLWNuJyxcblx0XHRcdCd6aCcsXG5cdFx0XTtcblxuXHRcdGNvbnN0IHVzZXJMYW5ndWFnZSA9XG5cdFx0XHRuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCAnZW4nO1xuXG5cdFx0Y29uc3QgcGFydHMgPSB1c2VyTGFuZ3VhZ2Vcblx0XHRcdC50b0xvd2VyQ2FzZSgpXG5cdFx0XHQubWF0Y2goLyhbYS16XSspKD86LShbYS16XSspKT8vKTtcblx0XHRsZXQgbGFuZyA9IHBhcnRzWzFdO1xuXHRcdGNvbnN0IGxvY2FsZSA9IHBhcnRzWzJdO1xuXG5cdFx0aWYgKGxhbmd1YWdlcy5pbmRleE9mKGxhbmcgKyAnLScgKyBsb2NhbGUpID49IDApIHtcblx0XHRcdGxhbmcgPSBsYW5nICsgJy0nICsgbG9jYWxlO1xuXHRcdH0gZWxzZSBpZiAobGFuZ3VhZ2VzLmluZGV4T2YobGFuZykgPT09IC0xKSB7XG5cdFx0XHRsYW5nID0gJ2VuJztcblx0XHR9XG5cblx0XHRDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChcblx0XHRcdEFsbG95RWRpdG9yLmdldFVybCgnbGFuZy9hbGxveS1lZGl0b3IvJyArIGxhbmcgKyAnLmpzJyksXG5cdFx0XHRsb2FkZWQgPT4ge1xuXHRcdFx0XHRpZiAobG9hZGVkKSB7XG5cdFx0XHRcdFx0QWxsb3lFZGl0b3IuZmlyZSgnbGFuZ3VhZ2VSZXNvdXJjZXNMb2FkZWQnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXHRcdFx0dGhpcyAvLyBBbHdheXMgYEFsbG95RWRpdG9yYC5cblx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8taW52YWxpZC10aGlzICovXG5cdFx0KTtcblx0fVxufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBmdWxsIFVSTCBmb3IgQWxsb3lFZGl0b3IgcmVzb3VyY2VzLiBCeSBkZWZhdWx0LCBVUkxzXG4gKiByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uIGNvbnRhaW4gYSBxdWVyeXN0cmluZyBwYXJhbWV0ZXIgKFwidFwiKVxuICogc2V0IHRvIHRoZSB7QGxpbmsgQ0tFRElUT1IjdGltZXN0YW1wfSB2YWx1ZS5cbiAqXG4gKiBAbWVtYmVyb2YgQWxsb3lFZGl0b3JcbiAqIEBtZXRob2QgZ2V0VXJsXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVzb3VyY2UgVGhlIHJlc291cmNlIHdob3NlIGZ1bGwgVVJMIHdlIHdhbnQgdG8gZ2V0LlxuICogSXQgbWF5IGJlIGEgZnVsbCwgYWJzb2x1dGUsIG9yIHJlbGF0aXZlIFVSTC5cbiAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGZ1bGwgVVJMLlxuICovXG5jb25zdCBnZXRVcmwgPSBmdW5jdGlvbihyZXNvdXJjZSkge1xuXHRjb25zdCBiYXNlUGF0aCA9IEFsbG95RWRpdG9yLmdldEJhc2VQYXRoKCk7XG5cblx0Ly8gSWYgdGhpcyBpcyBub3QgYSBmdWxsIG9yIGFic29sdXRlIHBhdGguXG5cdGlmIChyZXNvdXJjZS5pbmRleE9mKCc6LycpID09PSAtMSAmJiByZXNvdXJjZS5pbmRleE9mKCcvJykgIT09IDApIHtcblx0XHRyZXNvdXJjZSA9IGJhc2VQYXRoICsgcmVzb3VyY2U7XG5cdH1cblxuXHQvLyBBZGQgdGhlIHRpbWVzdGFtcCwgZXhjZXB0IGZvciBkaXJlY3Rvcmllcy5cblx0aWYgKFxuXHRcdENLRURJVE9SLnRpbWVzdGFtcCAmJlxuXHRcdHJlc291cmNlLmNoYXJBdChyZXNvdXJjZS5sZW5ndGggLSAxKSAhPT0gJy8nICYmXG5cdFx0IS9bJj9ddD0vLnRlc3QocmVzb3VyY2UpXG5cdCkge1xuXHRcdHJlc291cmNlICs9XG5cdFx0XHQocmVzb3VyY2UuaW5kZXhPZignPycpID49IDAgPyAnJicgOiAnPycpICtcblx0XHRcdCd0PScgK1xuXHRcdFx0Q0tFRElUT1IudGltZXN0YW1wO1xuXHR9XG5cblx0cmV0dXJuIHJlc291cmNlO1xufTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIGV2ZW50IGZpcmluZyBhbmQgc3Vic2NyaWJpbmcgdmlhIENLRURJVE9SLmV2ZW50LlxuICpcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICogQG1ldGhvZCBpbXBsZW1lbnRFdmVudFRhcmdldFxuICogQHN0YXRpY1xuICovXG5jb25zdCBpbXBsZW1lbnRFdmVudFRhcmdldCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIUFsbG95RWRpdG9yLmZpcmUgJiYgIUFsbG95RWRpdG9yLm9uKSB7XG5cdFx0Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQWxsb3lFZGl0b3IpO1xuXHR9XG59O1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB3aGljaCBzaG91bGQgbWF0Y2ggdGhlIHNjcmlwdCB3aGljaCBoYXZlIGJlZW4gdXNlZCB0byBsb2FkIEFsbG95RWRpdG9yLlxuICpcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICogQHByb3BlcnR5IHJlZ2V4QmFzZVBhdGhcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAc3RhdGljXG4gKi9cbmNvbnN0IHJlZ2V4QmFzZVBhdGggPSAvKF58LipbXFxcXC9dKSg/OmFsbG95LWVkaXRvclteL10rfGFsbG95LWVkaXRvcilcXC5qcyg/OlxcPy4qfDsuKik/JC9pO1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gQWxsb3lFZGl0b3IgZGV0ZWN0cyB0aGUgYnJvd3NlciBsYW5ndWFnZSBhbmQgbG9hZHMgdGhlIGNvcnJlc3BvbmRpbmcgbGFuZ3VhZ2UgZmlsZS4gT25jZSB0aGlzIGV2ZW50XG4gKiBpcyBmaXJlZCwgQWxsb3lFZGl0b3IuU3RyaW5ncyB3aWxsIGJlIHBvcHVsYXRlZCB3aXRoIGRhdGEuXG4gKlxuICogQGV2ZW50IGxhbmd1YWdlUmVzb3VyY2VzTG9hZGVkXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZXF1aXJlZCBwbHVnaW4gbmFtZXMgbmVlZGVkIGZvciBhIGdpdmVuIHBsdWdpblxuICogaWYgaXQgaXMgYWxyZWFkeSByZWdpc3RlcmVkIG9yIGFuIGVtcHR5IGFycmF5LlxuICpcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICogQG1ldGhvZCBnZXRCdXR0b25zXG4gKiBAcGFyYW0ge0FycmF5fSBidXR0b25zIEFuIGFycmF5IG9mIGJ1dHRvbnMgb3IgcGx1Z2luIG5hbWVzLlxuICogQHJldHVybiB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgaW52b2tlZCB0byByZXNvbHZlIHRoZSByZXF1ZXN0ZWQgYnV0dG9uIG5hbWVzLlxuICogQHN0YXRpY1xuICovXG5jb25zdCBnZXRCdXR0b25zID0gZnVuY3Rpb24oYnV0dG9ucykge1xuXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGJ1dHRvbnMucmVkdWNlKChhY2MsIHZhbCkgPT4ge1xuXHRcdFx0dmFsID0gQlJJREdFX0JVVFRPTlNbdmFsXSB8fCBbdmFsXTtcblx0XHRcdHJldHVybiBhY2MuY29uY2F0KHZhbCk7XG5cdFx0fSwgW10pO1xuXHR9O1xufTtcblxuLyoqXG4gKiBSZWdpc3RlciBhIGJ1dHRvbiBhbmQgdHJ5IHRvIGdldCBpdHMgcmVxdWlyZWQgcGx1Z2lucy5cbiAqXG4gKiBAbWVtYmVyb2YgQWxsb3lFZGl0b3JcbiAqIEBtZXRob2QgcmVnaXN0ZXJCcmlkZ2VCdXR0b25cbiAqIEBwYXJhbSB7U3RyaW5nfSBidXR0b25OYW1lIFRoZSBuYW1lIG9mIHRoZSBidXR0b24uXG4gKiBAcGFyYW0ge1N0cmluZ30gcGx1Z2luTmFtZSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luIHRoYXQgcmVnaXN0ZXJzIHRoZSBidXR0b24uXG4gKiBAc3RhdGljXG4gKi9cbmNvbnN0IHJlZ2lzdGVyQnJpZGdlQnV0dG9uID0gZnVuY3Rpb24oYnV0dG9uTmFtZSwgcGx1Z2luTmFtZSkge1xuXHRpZiAoIUJSSURHRV9CVVRUT05TW3BsdWdpbk5hbWVdKSB7XG5cdFx0QlJJREdFX0JVVFRPTlNbcGx1Z2luTmFtZV0gPSBbXTtcblx0fVxuXG5cdEJSSURHRV9CVVRUT05TW3BsdWdpbk5hbWVdLnB1c2goYnV0dG9uTmFtZSk7XG59O1xuXG4vKipcbiAqIEBtZXRob2QgT09QXG4gKiBAbWVtYmVyb2YgQWxsb3lFZGl0b3JcbiAqL1xuY29uc3QgT09QID0ge1xuXHRleHRlbmQsXG59O1xuXG5leHBvcnQge1xuXHRBdHRyaWJ1dGUsXG5cdEJhc2UsXG5cdEJ1dHRvbnMsXG5cdENvbXBhdCxcblx0Q29yZSxcblx0TGFuZyxcblx0T09QLFxuXHRTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMsXG5cdFNlbGVjdGlvblNldFBvc2l0aW9uLFxuXHRTZWxlY3Rpb25UZXN0LFxuXHRTZWxlY3Rpb25zLFxuXHRUb29sYmFycyxcblx0ZWRpdGFibGUsXG5cdGdldEJhc2VQYXRoLFxuXHRnZXRCdXR0b25zLFxuXHRnZXRVcmwsXG5cdGltcGxlbWVudEV2ZW50VGFyZ2V0LFxuXHRsb2FkTGFuZ3VhZ2VSZXNvdXJjZXMsXG5cdHJlZ2V4QmFzZVBhdGgsXG5cdHJlZ2lzdGVyQnJpZGdlQnV0dG9uLFxufTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IHJlbW92ZUltYWdlQ29tbWFuZCBmcm9tICcuL3JlbW92ZS1pbWFnZSc7XG5cbmV4cG9ydCB7cmVtb3ZlSW1hZ2VDb21tYW5kfTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuY29uc3QgcmVtb3ZlSW1hZ2VDb21tYW5kID0ge1xuXHRleGVjOiBlZGl0b3IgPT4ge1xuXHRcdGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuXHRcdGlmIChzZWxlY3Rpb24pIHtcblx0XHRcdGNvbnN0IHJhbmdlcyA9IHNlbGVjdGlvbi5nZXRSYW5nZXMoKTtcblx0XHRcdGNvbnN0IHN0YXJ0Q29udGFpbmVyID0gcmFuZ2VzWzBdLnN0YXJ0Q29udGFpbmVyO1xuXG5cdFx0XHRjb25zdCBuZXh0UmFuZ2UgPSBuZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHN0YXJ0Q29udGFpbmVyKTtcblx0XHRcdG5leHRSYW5nZS5zZXRTdGFydChzdGFydENvbnRhaW5lciwgMCk7XG5cdFx0XHRuZXh0UmFuZ2Uuc2V0RW5kKHN0YXJ0Q29udGFpbmVyLCAwKTtcblxuXHRcdFx0Y29uc3Qgc2VsZWN0ZWRFbGVtZW50ID0gc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO1xuXG5cdFx0XHRpZiAoc2VsZWN0ZWRFbGVtZW50ICYmIHNlbGVjdGVkRWxlbWVudC5nZXROYW1lKCkgPT09ICdpbWcnKSB7XG5cdFx0XHRcdGNvbnN0IG5hdGl2ZSA9IHNlbGVjdGlvbi5nZXROYXRpdmUoKTtcblx0XHRcdFx0aWYgKG5hdGl2ZSkge1xuXHRcdFx0XHRcdG5hdGl2ZS5yZW1vdmVBbGxSYW5nZXMoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNlbGVjdGlvbi5zZWxlY3RSYW5nZXMoW25leHRSYW5nZV0pO1xuXG5cdFx0XHRcdHNlbGVjdGVkRWxlbWVudC5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCByZW1vdmVJbWFnZUNvbW1hbmQ7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcnO1xuXG4vKipcbiAqIEJ1dHRvbkFjdGlvblN0eWxlIGlzIGEgbWl4aW4gdGhhdCBwcm92aWRlcyBhcHBseWluZyBzdHlsZSBpbXBsZW1lbnRhdGlvbiBmb3IgYVxuICogYnV0dG9uIGJhc2VkIG9uIHRoZSBgYXBwbHlTdHlsZWAgYW5kIGByZW1vdmVTdHlsZWAgQVBJIG9mIENLRURJVE9SLlxuICpcbiAqIFRvIGV4ZWN1dGUgcHJvcGVybHksIHRoZSBjb21wb25lbnQgaGFzIHRvIGV4cG9zZSB0aGUgZm9sbG93aW5nIG1ldGhvZHMgd2hpY2ggY2FuIGJlIG9idGFpbmVkXG4gKiBvdXQgb2YgdGhlIGJveCB1c2luZyB0aGUge3sjY3Jvc3NMaW5rIFwiQnV0dG9uU3R5bGVcIn19e3svY3Jvc3NMaW5rfX0gbWl4aW46XG4gKiAtIGBGdW5jdGlvbmAge3sjY3Jvc3NMaW5rIFwiQnV0dG9uU3R5bGUvaXNBY3RpdmVcIn19e3svY3Jvc3NMaW5rfX0gdG8gY2hlY2sgdGhlIGFjdGl2ZSBzdGF0ZVxuICogLSBgRnVuY3Rpb25gIHt7I2Nyb3NzTGluayBcIkJ1dHRvblN0eWxlL2dldFN0eWxlXCJ9fXt7L2Nyb3NzTGlua319IHRvIHJldHVybiB0aGUgc3R5bGUgdGhhdCBzaG91bGQgYmUgYXBwbGllZFxuICpcbiAqIEBjbGFzcyBCdXR0b25BY3Rpb25TdHlsZVxuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+XG5cdGNsYXNzIEJ1dHRvbkFjdGlvblN0eWxlIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG5cdFx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZXMgb3IgYXBwbGllcyB0aGUgY29tcG9uZW50IHN0eWxlIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBCdXR0b25BY3Rpb25TdHlsZVxuXHRcdCAqIEBtZXRob2QgYXBwbHlTdHlsZVxuXHRcdCAqL1xuXHRcdGFwcGx5U3R5bGUgPSAoKSA9PiB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdExhbmcuaXNGdW5jdGlvbih0aGlzLmlzQWN0aXZlKSAmJlxuXHRcdFx0XHRMYW5nLmlzRnVuY3Rpb24odGhpcy5nZXRTdHlsZSlcblx0XHRcdCkge1xuXHRcdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdFx0ZWRpdG9yLmdldFNlbGVjdGlvbigpLmxvY2soKTtcblxuXHRcdFx0XHRpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG5cdFx0XHRcdFx0ZWRpdG9yLnJlbW92ZVN0eWxlKHRoaXMuZ2V0U3R5bGUoKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWRpdG9yLmFwcGx5U3R5bGUodGhpcy5nZXRTdHlsZSgpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVkaXRvci5nZXRTZWxlY3Rpb24oKS51bmxvY2soKTtcblxuXHRcdFx0XHRlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5cbi8qKlxuICogQnV0dG9uQ29tbWFuZEFjdGl2ZSBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMgYW4gYGlzQWN0aXZlYCBtZXRob2QgdG8gZGV0ZXJtaW5lIGlmXG4gKiBhIGNvbnRleHQtYXdhcmUgY29tbWFuZCBpcyBjdXJyZW50bHkgaW4gYW4gYWN0aXZlIHN0YXRlLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT5cblx0Y2xhc3MgQnV0dG9uQ29tbWFuZEFjdGl2ZSBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuXHRcdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0XHQvKipcblx0XHQgKiBDaGVja3MgaWYgdGhlIGNvbW1hbmQgaXMgYWN0aXZlIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kQWN0aXZlXG5cdFx0ICogQG1ldGhvZCBpc0FjdGl2ZVxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGNvbW1hbmQgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2UuXG5cdFx0ICovXG5cdFx0aXNBY3RpdmUoKSB7XG5cdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdGNvbnN0IGNvbW1hbmQgPSBlZGl0b3IuZ2V0Q29tbWFuZCh0aGlzLnByb3BzLmNvbW1hbmQpO1xuXG5cdFx0XHRyZXR1cm4gY29tbWFuZCA/IGNvbW1hbmQuc3RhdGUgPT09IENLRURJVE9SLlRSSVNUQVRFX09OIDogZmFsc2U7XG5cdFx0fVxuXHR9O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcblxuLyoqXG4gKiBCdXR0b25Db21tYW5kIGlzIGEgbWl4aW4gdGhhdCBleGVjdXRlcyBhIGNvbW1hbmQgdmlhIENLRURJVE9SJ3MgQVBJLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Db21tYW5kXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT5cblx0Y2xhc3MgQnV0dG9uQ29tbWFuZCBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuXHRcdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0XHQvKipcblx0XHQgKiBFeGVjdXRlcyBhIENLRWRpdG9yIGNvbW1hbmQgYW5kIGZpcmVzIGBhY3Rpb25QZXJmb3JtZWRgIGV2ZW50LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRcblx0XHQgKiBAcGFyYW0ge09iamVjdD19IGRhdGEgT3B0aW9uYWwgZGF0YSB0byBiZSBwYXNzZWQgdG8gQ0tFRElUT1IncyBgZXhlY0NvbW1hbmRgIG1ldGhvZC5cblx0XHQgKiBAbWV0aG9kIGV4ZWNDb21tYW5kXG5cdFx0ICovXG5cdFx0ZXhlY0NvbW1hbmQgPSBkYXRhID0+IHtcblx0XHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdFx0ZWRpdG9yLmV4ZWNDb21tYW5kKHRoaXMucHJvcHMuY29tbWFuZCwgZGF0YSk7XG5cblx0XHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblx0XHR9O1xuXHR9O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcblxuLyoqXG4gKiBCdXR0b25LZXlzdHJva2UgaXMgYSBtaXhpbiB0aGF0IHByb3ZpZGVzIGEgYGtleXN0cm9rZWAgcHJvcCB0aGF0IGFsbG93cyBjb25maWd1cmluZ1xuICogYSBmdW5jdGlvbiBvZiB0aGUgaW5zdGFuY2UgdG8gYmUgaW52b2tlZCB1cG9uIHRoZSBrZXlzdHJva2UgYWN0aXZhdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uS2V5c3Ryb2tlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT5cblx0Y2xhc3MgQnV0dG9uS2V5c3Ryb2tlIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG5cdFx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRcdC8qKlxuXHRcdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBib3RoIG9uIHRoZSBjbGllbnQgYW5kIHNlcnZlciwgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uS2V5c3Ryb2tlXG5cdFx0ICogQG1ldGhvZCBjb21wb25lbnRXaWxsTW91bnRcblx0XHQgKi9cblx0XHRjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdFx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudFdpbGxNb3VudCkpIHtcblx0XHRcdFx0c3VwZXIuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG5hdGl2ZUVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0XHRcdGNvbnN0IGtleXN0cm9rZSA9IHRoaXMucHJvcHMua2V5c3Ryb2tlO1xuXG5cdFx0XHRjb25zdCBjb21tYW5kTmFtZSA9IGBrZXlzdHJva2U6JHtrZXlzdHJva2UubmFtZX1gO1xuXG5cdFx0XHRsZXQgY29tbWFuZCA9IG5hdGl2ZUVkaXRvci5nZXRDb21tYW5kKGNvbW1hbmROYW1lKTtcblxuXHRcdFx0aWYgKCFjb21tYW5kKSB7XG5cdFx0XHRcdGNvbW1hbmQgPSBuZXcgQ0tFRElUT1IuY29tbWFuZChuYXRpdmVFZGl0b3IsIHtcblx0XHRcdFx0XHRleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGtleXN0cm9rZUZuID0ga2V5c3Ryb2tlLmZuO1xuXG5cdFx0XHRcdFx0XHRpZiAoTGFuZy5pc1N0cmluZyhrZXlzdHJva2VGbikpIHtcblx0XHRcdFx0XHRcdFx0dGhpc1trZXlzdHJva2VGbl0uY2FsbCh0aGlzLCBlZGl0b3IpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChMYW5nLmlzRnVuY3Rpb24oa2V5c3Ryb2tlRm4pKSB7XG5cdFx0XHRcdFx0XHRcdGtleXN0cm9rZUZuLmNhbGwodGhpcywgZWRpdG9yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LmJpbmQodGhpcyksXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdG5hdGl2ZUVkaXRvci5hZGRDb21tYW5kKGNvbW1hbmROYW1lLCBjb21tYW5kKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fZGVmYXVsdEtleXN0cm9rZUNvbW1hbmQgPVxuXHRcdFx0XHRuYXRpdmVFZGl0b3Iua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzW2tleXN0cm9rZS5rZXlzXTtcblxuXHRcdFx0bmF0aXZlRWRpdG9yLnNldEtleXN0cm9rZShrZXlzdHJva2Uua2V5cywgY29tbWFuZE5hbWUpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBCdXR0b25LZXlzdHJva2Vcblx0XHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxVbm1vdW50XG5cdFx0ICovXG5cdFx0Y29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdFx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KSkge1xuXHRcdFx0XHRzdXBlci5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmNvbnRleHQuZWRpdG9yXG5cdFx0XHRcdC5nZXQoJ25hdGl2ZUVkaXRvcicpXG5cdFx0XHRcdC5zZXRLZXlzdHJva2UoXG5cdFx0XHRcdFx0dGhpcy5wcm9wcy5rZXlzdHJva2Uua2V5cyxcblx0XHRcdFx0XHR0aGlzLl9kZWZhdWx0S2V5c3Ryb2tlQ29tbWFuZFxuXHRcdFx0XHQpO1xuXHRcdH1cblx0fTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5cbi8qKlxuICogQnV0dG9uQ2ZnUHJvcHMgaXMgYSBjbGFzcyB0aGF0IHByb3ZpZGVzIGEgbWVyZ2VCdXR0b25DZmdQcm9wcyBtZXRob2QgZm9yXG4gKiBtZXJnaW5nIFJlYWN0IHByb3BzIGFuZCB0aGUgbmF0aXZlIENLRURJVE9SJ3MgYnV0dG9uQ2ZnLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Qcm9wc1xuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+XG5cdGNsYXNzIEJ1dHRvblByb3BzIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG5cdFx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRcdC8qKlxuXHRcdCAqIE1lcmdlcyB0aGUgcHJvcGVydGllcywgcGFzc2VkIHRvIHRoZSBjdXJyZW50IGNvbXBvbmVudCB3aXRoIHVzZXIncyBjb25maWd1cmF0aW9uXG5cdFx0ICogdmlhIGBidXR0b25DZmdgIHByb3BlcnR5LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvblByb3BzXG5cdFx0ICogQG1ldGhvZCBtZXJnZUJ1dHRvbkNmZ1Byb3BzXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIG1lcmdlZCB3aXRoIHRoZSBwcm92aWRlZCBjb25maWd1cmF0aW9uIGZvciB0aGlzXG5cdFx0ICogYnV0dG9uLiBJZiBub3QgcGFzc2VkLCB0aGUgdXNlciBjb25maWd1cmF0aW9uIHdpbGwgYmUgbWVyZ2VkIHdpdGggYHRoaXMucHJvcHNgXG5cdFx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgbWVyZ2VkIHByb3BlcnRpZXNcblx0XHQgKi9cblx0XHRtZXJnZUJ1dHRvbkNmZ1Byb3BzKHByb3BzID0gdGhpcy5wcm9wcykge1xuXHRcdFx0Y29uc3QgbmF0aXZlRWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXHRcdFx0Y29uc3QgYnV0dG9uQ2ZnID0gbmF0aXZlRWRpdG9yLmNvbmZpZy5idXR0b25DZmcgfHwge307XG5cdFx0XHRyZXR1cm4gQ0tFRElUT1IudG9vbHMubWVyZ2UocHJvcHMsIGJ1dHRvbkNmZ1snbGlua0VkaXQnXSk7XG5cdFx0fVxuXHR9O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZyc7XG5cbi8qKlxuICogQnV0dG9uU3RhdGVDbGFzc2VzIGlzIGEgbWl4aW4gdGhhdCBkZWNvcmF0ZXMgdGhlIGRvbUVsZW1lbnQgb2YgYSBjb21wb25lbnRcbiAqIHdpdGggZGlmZmVyZW50IENTUyBjbGFzc2VzIGJhc2VkIG9uIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBlbGVtZW50LlxuICpcbiAqIFRvIGNoZWNrIGZvciBzdGF0ZSwgdGhlIGNvbXBvbmVudCBjYW4gZXhwb3NlIHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcbiAqIC0gYEZ1bmN0aW9uYCAqKmlzQWN0aXZlKiogdG8gY2hlY2sgdGhlIGFjdGl2ZSBzdGF0ZVxuICpcbiAqIEBjbGFzcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PlxuXHRjbGFzcyBCdXR0b25TdGF0ZUNsYXNzZXMgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHN0YXRlIGNsYXNzZXMgYXNzb2NpYXRlZCB0byB0aGUgY3VycmVudCBlbGVtZW50J3Mgc3RhdGUsIGFjY29yZGluZ1xuXHRcdCAqIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBpc0FjdGl2ZSBtZXRob2QuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uU3RhdGVDbGFzc2VzXG5cdFx0ICogQG1ldGhvZCBnZXRTdGF0ZUNsYXNzZXNcblx0XHQgKiBAcmV0dXJuIHtTdHJpbmd9IEEgc3RyaW5nIHdpdGggdGhlIHN0YXRlIENTUyBjbGFzc2VzLlxuXHRcdCAqL1xuXHRcdGdldFN0YXRlQ2xhc3NlcygpIHtcblx0XHRcdGxldCBzdGF0ZUNsYXNzZXMgPSAnJztcblxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGFjdGl2ZSBzdGF0ZVxuXHRcdFx0aWYgKExhbmcuaXNGdW5jdGlvbih0aGlzLmlzQWN0aXZlKSAmJiB0aGlzLmlzQWN0aXZlKCkpIHtcblx0XHRcdFx0c3RhdGVDbGFzc2VzICs9ICdhZS1idXR0b24tcHJlc3NlZCc7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzdGF0ZUNsYXNzZXM7XG5cdFx0fVxuXHR9O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcblxuLyoqXG4gKiBCdXR0b25TdHlsZSBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMgYSBzdHlsZSBwcm9wIGFuZCBzb21lIG1ldGhvZHMgdG8gYXBwbHkgdGhlIHJlc3VsdGluZ1xuICogc3R5bGUgYW5kIGNoZWNraW5nIGlmIGl0IGlzIHByZXNlbnQgaW4gYSBnaXZlbiBwYXRoIG9yIHNlbGVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3R5bGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PlxuXHRjbGFzcyBCdXR0b25TdHlsZSBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuXHRcdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0XHQvKipcblx0XHQgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgYm90aCBvbiB0aGUgY2xpZW50IGFuZCBzZXJ2ZXIsIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlXG5cdFx0ICogQG1ldGhvZCBjb21wb25lbnRXaWxsTW91bnRcblx0XHQgKi9cblx0XHRjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdFx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudFdpbGxNb3VudCkpIHtcblx0XHRcdFx0c3VwZXIuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBzdHlsZSA9IHRoaXMucHJvcHMuc3R5bGU7XG5cblx0XHRcdGlmIChMYW5nLmlzU3RyaW5nKHN0eWxlKSkge1xuXHRcdFx0XHRjb25zdCBwYXJ0cyA9IHN0eWxlLnNwbGl0KCcuJyk7XG5cdFx0XHRcdGxldCBjdXJyZW50TWVtYmVyID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpXG5cdFx0XHRcdFx0LmNvbmZpZztcblx0XHRcdFx0bGV0IHByb3BlcnR5ID0gcGFydHMuc2hpZnQoKTtcblxuXHRcdFx0XHR3aGlsZSAoXG5cdFx0XHRcdFx0cHJvcGVydHkgJiZcblx0XHRcdFx0XHRMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXIpICYmXG5cdFx0XHRcdFx0TGFuZy5pc09iamVjdChjdXJyZW50TWVtYmVyW3Byb3BlcnR5XSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Y3VycmVudE1lbWJlciA9IGN1cnJlbnRNZW1iZXJbcHJvcGVydHldO1xuXHRcdFx0XHRcdHByb3BlcnR5ID0gcGFydHMuc2hpZnQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXIpKSB7XG5cdFx0XHRcdFx0c3R5bGUgPSBjdXJyZW50TWVtYmVyO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3N0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKHN0eWxlKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBMaWZlY3ljbGUuIEludm9rZWQgaW1tZWRpYXRlbHkgYmVmb3JlIGEgY29tcG9uZW50IGlzIHVubW91bnRlZCBmcm9tIHRoZSBET00uXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVcblx0XHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxVbm1vdW50XG5cdFx0ICovXG5cdFx0Y29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdFx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KSkge1xuXHRcdFx0XHRzdXBlci5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9zdHlsZSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBpbnN0YW5jZSBvZiBDS0VESVRPUi5zdHlsZSB3aGljaCByZXByZXNlbnRzIHRoZSBjdXJyZW50IGJ1dHRvbiBzdHlsZS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZVxuXHRcdCAqIEBtZXRob2QgZ2V0U3R5bGVcblx0XHQgKiBAcmV0dXJuIHtDS0VESVRPUi5zdHlsZX0gVGhlIGN1cnJlbnQgc3R5bGUgcmVwcmVzZW50YXRpb24uXG5cdFx0ICovXG5cdFx0Z2V0U3R5bGUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fc3R5bGU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIGlmIHN0eWxlIGlzIGFjdGl2ZSBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVcblx0XHQgKiBAbWV0aG9kIGlzQWN0aXZlXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdHlsZSBpcyBhY3RpdmUsIGZhbHNlIG90aGVyd2lzZS5cblx0XHQgKi9cblx0XHRpc0FjdGl2ZSgpIHtcblx0XHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0XHRcdGNvbnN0IGVsZW1lbnRQYXRoID0gZWRpdG9yLmVsZW1lbnRQYXRoKCk7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRTdHlsZSgpLmNoZWNrQWN0aXZlKGVsZW1lbnRQYXRoLCBlZGl0b3IpO1xuXHRcdH1cblx0fTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuZXhwb3J0IHtkZWZhdWx0IGFzIEJ1dHRvbkFjdGlvblN0eWxlfSBmcm9tICcuL2J1dHRvbi1hY3Rpb24tc3R5bGUnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEJ1dHRvbkNvbW1hbmRBY3RpdmV9IGZyb20gJy4vYnV0dG9uLWNvbW1hbmQtYWN0aXZlJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBCdXR0b25Db21tYW5kfSBmcm9tICcuL2J1dHRvbi1jb21tYW5kJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBCdXR0b25LZXlzdHJva2V9IGZyb20gJy4vYnV0dG9uLWtleXN0cm9rZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgQnV0dG9uUHJvcHN9IGZyb20gJy4vYnV0dG9uLXByb3BzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBCdXR0b25TdGF0ZUNsYXNzZXN9IGZyb20gJy4vYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEJ1dHRvblN0eWxlfSBmcm9tICcuL2J1dHRvbi1zdHlsZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgVG9vbGJhckJ1dHRvbnN9IGZyb20gJy4vdG9vbGJhci1idXR0b25zJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBXaWRnZXREcm9wZG93bn0gZnJvbSAnLi93aWRnZXQtZHJvcGRvd24nO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFdpZGdldEV4Y2x1c2l2ZX0gZnJvbSAnLi93aWRnZXQtZXhjbHVzaXZlJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBXaWRnZXRGb2N1c01hbmFnZXJ9IGZyb20gJy4vd2lkZ2V0LWZvY3VzLW1hbmFnZXInO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcnO1xuXG4vKipcbiAqIFRvb2xiYXJCdXR0b25zIHByb3ZpZGVzIGEgbGlzdCBvZiBidXR0b25zIHdoaWNoIGhhdmUgdG8gYmUgZGlzcGxheWVkXG4gKiBvbiB0aGUgY3VycmVudCB0b29sYmFyIGRlcGVuZGluZyBvbiB1c2VyIHByZWZlcmVuY2VzIGFuZCBnaXZlbiBzdGF0ZS5cbiAqXG4gKiBAY2xhc3MgVG9vbGJhckJ1dHRvbnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PlxuXHRjbGFzcyBUb29sYmFyQnV0dG9ucyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuXHRcdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0XHQvKipcblx0XHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlXG5cdFx0ICogdG9vbGJhci5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBUb29sYmFyQnV0dG9uc1xuXHRcdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdFx0ICovXG5cdFx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRcdC4uLldyYXBwZWRDb21wb25lbnQuZGVmYXVsdFByb3BzLFxuXHRcdFx0Z3V0dGVyOiB7XG5cdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdHRvcDogMTAsXG5cdFx0XHR9LFxuXHRcdFx0Y29uc3RyYWluVG9WaWV3cG9ydDogdHJ1ZSxcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQ2FuY2VscyBhbiBzY2hlZHVsZWQgYW5pbWF0aW9uIGZyYW1lLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFRvb2xiYXJCdXR0b25zXG5cdFx0ICogQG1ldGhvZCBjYW5jZWxBbmltYXRpb25cblx0XHQgKi9cblx0XHRjYW5jZWxBbmltYXRpb24oKSB7XG5cdFx0XHRpZiAodGhpcy5fYW5pbWF0aW9uRnJhbWVJZCkge1xuXHRcdFx0XHR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0aW9uRnJhbWVJZCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgZGlzcGxheWluZyB0b29sYmFyIEFycm93IGJveCBvbiB0b3Agb3Igb24gYm90dG9tIG9mIHRoZSB0b29sYmFyXG5cdFx0ICogZGVwZW5kaW5nIG9uIHRoZSBwb2ludCBvZiB1c2VyIGludGVyYWN0aW9uIHdpdGggdGhlIGVkaXRvci5cblx0XHQgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGFycm93IGJveCBjbGFzc2VzIGFzc29jaWF0ZWQgdG8gdGhlIGN1cnJlbnQgZWxlbWVudCdzIHN0YXRlLiBJdCByZWxpZXNcblx0XHQgKiBvbiB0aGUgZ2V0SW50ZXJhY3Rpb25Qb2ludCBtZXRob2QgdG8gY2FsY3VsYXRlIHRoZSBzZWxlY3Rpb24gZGlyZWN0aW9uLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFRvb2xiYXJCdXR0b25zXG5cdFx0ICogQG1ldGhvZCBnZXRBcnJvd0JveENsYXNzZXNcblx0XHQgKiBAcmV0dXJuIHtTdHJpbmd9IEEgc3RyaW5nIHdpdGggdGhlIGFycm93IGJveCBDU1MgY2xhc3Nlcy5cblx0XHQgKi9cblx0XHRnZXRBcnJvd0JveENsYXNzZXMoKSB7XG5cdFx0XHRsZXQgYXJyb3dCb3hDbGFzc2VzID0gJ2FlLWFycm93LWJveCc7XG5cblx0XHRcdGlmIChcblx0XHRcdFx0dGhpcy5nZXRJbnRlcmFjdGlvblBvaW50KCkuZGlyZWN0aW9uID09PVxuXHRcdFx0XHRDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuXHRcdFx0KSB7XG5cdFx0XHRcdGFycm93Qm94Q2xhc3NlcyArPSAnIGFlLWFycm93LWJveC10b3AnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXJyb3dCb3hDbGFzc2VzICs9ICcgYWUtYXJyb3ctYm94LWJvdHRvbSc7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhcnJvd0JveENsYXNzZXM7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBhbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IGluIHBhZ2UgY29vcmRpbmF0ZXMsXG5cdFx0ICogcmVzdHJpY3RlZCB0byBmaXQgdG8gZ2l2ZW4gdmlld3BvcnQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgVG9vbGJhckJ1dHRvbnNcblx0XHQgKiBAbWV0aG9kIGdldENvbnN0cmFpbmVkUG9zaXRpb25cblx0XHQgKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLCBwcm92aWRlZCBhcyBudW1iZXJzOlxuXHRcdCAqIC0gaGVpZ2h0XG5cdFx0ICogLSBsZWZ0XG5cdFx0ICogLSB0b3Bcblx0XHQgKiAtIHdpZHRoXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHZpZXdQYW5lU2l6ZSBPcHRpb25hbC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgY3VycmVudCB2aWV3cG9ydCB3aWxsIGJlIHVzZWQuIFNob3VsZCBjb250YWluIGF0IGxlYXN0IHRoZXNlIHByb3BlcnRpZXM6XG5cdFx0ICogLSB3aWR0aFxuXHRcdCAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggYHhgIGFuZCBgeWAgcHJvcGVydGllcywgd2hpY2ggcmVwcmVzZW50IHRoZSBjb25zdHJhaW5lZCBwb3NpdGlvbiBvZiB0aGVcblx0XHQgKiBlbGVtZW50LlxuXHRcdCAqL1xuXHRcdGdldENvbnN0cmFpbmVkUG9zaXRpb24oYXR0cnMsIHZpZXdQYW5lU2l6ZSkge1xuXHRcdFx0dmlld1BhbmVTaXplID1cblx0XHRcdFx0dmlld1BhbmVTaXplIHx8XG5cdFx0XHRcdG5ldyBDS0VESVRPUi5kb20ud2luZG93KHdpbmRvdykuZ2V0Vmlld1BhbmVTaXplKCk7XG5cblx0XHRcdGxldCB4ID0gYXR0cnMubGVmdDtcblx0XHRcdGxldCB5ID0gYXR0cnMudG9wO1xuXG5cdFx0XHRpZiAoYXR0cnMubGVmdCArIGF0dHJzLndpZHRoID4gdmlld1BhbmVTaXplLndpZHRoKSB7XG5cdFx0XHRcdHggLT0gYXR0cnMubGVmdCArIGF0dHJzLndpZHRoIC0gdmlld1BhbmVTaXplLndpZHRoO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoeSA8IDApIHtcblx0XHRcdFx0eSA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHgsXG5cdFx0XHRcdHksXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHBvc2l0aW9uLCBpbiBwYWdlIGNvb3JkaW5hdGVzLCBhY2NvcmRpbmcgdG8gd2hpY2ggYSB0b29sYmFyIHNob3VsZCBhcHBlYXIuXG5cdFx0ICogRGVwZW5kaW5nIG9uIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHNlbGVjdGlvbiwgdGhlIHdkaWdldCBtYXkgYXBwZWFyIGFib3ZlIG9mIG9yIG9uIGJvdHRvbSBvZiB0aGUgc2VsZWN0aW9uLlxuXHRcdCAqXG5cdFx0ICogSXQgZGVwZW5kcyBvbiB0aGUgcHJvcHMgZWRpdG9yRXZlbnQgdG8gYW5hbHl6ZSB0aGUgZm9sbG93aW5nIHVzZXItaW50ZXJhY3Rpb24gcGFyYW1ldGVyczpcblx0XHQgKiAtIHtPYmplY3R9IHNlbGVjdGlvbkRhdGEgVGhlIGRhdGEgYWJvdXQgdGhlIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yIGFzIHJldHVybmVkIGZyb21cblx0XHQgKiB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3NlbGVjdGlvbnJlZ2lvbi9nZXRTZWxlY3Rpb25EYXRhOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIC0ge051bWJlcn0gcG9zIENvbnRhaW5zIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9zaXRpb24sIGNvbnNpZGVyZWQgYXMgbW9zdCBhcHByb3ByaWF0ZS5cblx0XHQgKiBUaGlzIG1heSBiZSB0aGUgcG9pbnQgd2hlcmUgdGhlIHVzZXIgcmVsZWFzZWQgdGhlIG1vdXNlLCBvciBqdXN0IHRoZSBiZWdpbm5pbmcgb3IgdGhlIGVuZCBvZlxuXHRcdCAqIHRoZSBzZWxlY3Rpb24uXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWV0aG9kIGdldEludGVyYWN0aW9uUG9pbnRcblx0XHQgKiBAcmV0dXJuIHtPYmplY3R9IEFuIE9iamVjdCB3aGljaCBjb250YWlucyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG5cdFx0ICogZGlyZWN0aW9uLCB4LCB5LCB3aGVyZSB4IGFuZCB5IGFyZSBpbiBwYWdlIGNvb3JkaW5hdGVzIGFuZCBkaXJlY3Rpb24gY2FuIGJlIG9uZSBvZiB0aGVzZTpcblx0XHQgKiBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUCBvciBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuXHRcdCAqL1xuXHRcdGdldEludGVyYWN0aW9uUG9pbnQoKSB7XG5cdFx0XHRjb25zdCBldmVudFBheWxvYWQgPSB0aGlzLnByb3BzLmVkaXRvckV2ZW50XG5cdFx0XHRcdD8gdGhpcy5wcm9wcy5lZGl0b3JFdmVudC5kYXRhXG5cdFx0XHRcdDogbnVsbDtcblxuXHRcdFx0aWYgKCFldmVudFBheWxvYWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxlY3Rpb25EYXRhID0gZXZlbnRQYXlsb2FkLnNlbGVjdGlvbkRhdGE7XG5cblx0XHRcdGNvbnN0IG5hdGl2ZUV2ZW50ID0gZXZlbnRQYXlsb2FkLm5hdGl2ZUV2ZW50O1xuXG5cdFx0XHRjb25zdCBwb3MgPSB7XG5cdFx0XHRcdHg6IGV2ZW50UGF5bG9hZC5uYXRpdmVFdmVudC5wYWdlWCxcblx0XHRcdFx0eTogc2VsZWN0aW9uRGF0YS5yZWdpb24udG9wLFxuXHRcdFx0fTtcblxuXHRcdFx0bGV0IGRpcmVjdGlvbiA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLmRpcmVjdGlvbjtcblxuXHRcdFx0Y29uc3QgZW5kUmVjdCA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLmVuZFJlY3Q7XG5cblx0XHRcdGNvbnN0IHN0YXJ0UmVjdCA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLnN0YXJ0UmVjdDtcblxuXHRcdFx0aWYgKGVuZFJlY3QgJiYgc3RhcnRSZWN0ICYmIHN0YXJ0UmVjdC50b3AgPT09IGVuZFJlY3QudG9wKSB7XG5cdFx0XHRcdGRpcmVjdGlvbiA9IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgeDtcblx0XHRcdGxldCB5O1xuXG5cdFx0XHQvLyBJZiB3ZSBoYXZlIHRoZSBwb2ludCB3aGVyZSB1c2VyIHJlbGVhc2VkIHRoZSBtb3VzZSwgc2hvdyBUb29sYmFyIGF0IHRoaXMgcG9pbnRcblx0XHRcdC8vIG90aGVyd2lzZSBzaG93IGl0IG9uIHRoZSBtaWRkbGUgb2YgdGhlIHNlbGVjdGlvbi5cblxuXHRcdFx0aWYgKHBvcy54ICYmIHBvcy55KSB7XG5cdFx0XHRcdHggPSB0aGlzLl9nZXRYUG9pbnQoc2VsZWN0aW9uRGF0YSwgcG9zLngpO1xuXG5cdFx0XHRcdGlmIChkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QKSB7XG5cdFx0XHRcdFx0eSA9IE1hdGgubWluKHBvcy55LCBzZWxlY3Rpb25EYXRhLnJlZ2lvbi50b3ApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHkgPSBNYXRoLm1heChcblx0XHRcdFx0XHRcdHBvcy55LFxuXHRcdFx0XHRcdFx0dGhpcy5fZ2V0WVBvaW50KHNlbGVjdGlvbkRhdGEsIG5hdGl2ZUV2ZW50KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHggPSBzZWxlY3Rpb25EYXRhLnJlZ2lvbi5sZWZ0ICsgc2VsZWN0aW9uRGF0YS5yZWdpb24ud2lkdGggLyAyO1xuXG5cdFx0XHRcdGlmIChkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9UT1BfVE9fQk9UVE9NKSB7XG5cdFx0XHRcdFx0eSA9IHRoaXMuX2dldFlQb2ludChzZWxlY3Rpb25EYXRhLCBuYXRpdmVFdmVudCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eSA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRkaXJlY3Rpb24sXG5cdFx0XHRcdHgsXG5cdFx0XHRcdHksXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0b29sYmFyLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1ldGhvZCBfZ2V0WFBvaW50XG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGV2ZW50WCBUaGUgWCBjb29yZGluYXRlIHJlY2VpdmVkIGZyb20gdGhlIG5hdGl2ZSBldmVudCAobW91c2V1cCkuXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGlvbkRhdGEgVGhlIGRhdGEgYWJvdXQgdGhlIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yIGFzIHJldHVybmVkIGZyb20ge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25yZWdpb24vZ2V0U2VsZWN0aW9uRGF0YTptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgY2FsY3VsYXRlZCBYIHBvaW50IGluIHBhZ2UgY29vcmRpbmF0ZXMuXG5cdFx0ICovXG5cdFx0X2dldFhQb2ludChzZWxlY3Rpb25EYXRhLCBldmVudFgpIHtcblx0XHRcdGNvbnN0IHJlZ2lvbiA9IHNlbGVjdGlvbkRhdGEucmVnaW9uO1xuXG5cdFx0XHRjb25zdCBsZWZ0ID0gcmVnaW9uLnN0YXJ0UmVjdCA/IHJlZ2lvbi5zdGFydFJlY3QubGVmdCA6IHJlZ2lvbi5sZWZ0O1xuXHRcdFx0Y29uc3QgcmlnaHQgPSByZWdpb24uZW5kUmVjdCA/IHJlZ2lvbi5lbmRSZWN0LnJpZ2h0IDogcmVnaW9uLnJpZ2h0O1xuXG5cdFx0XHRsZXQgeDtcblxuXHRcdFx0aWYgKGxlZnQgPCBldmVudFggJiYgcmlnaHQgPiBldmVudFgpIHtcblx0XHRcdFx0eCA9IGV2ZW50WDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGxlZnREaXN0ID0gTWF0aC5hYnMobGVmdCAtIGV2ZW50WCk7XG5cdFx0XHRcdGNvbnN0IHJpZ2h0RGlzdCA9IE1hdGguYWJzKHJpZ2h0IC0gZXZlbnRYKTtcblxuXHRcdFx0XHRpZiAobGVmdERpc3QgPCByaWdodERpc3QpIHtcblx0XHRcdFx0XHQvLyB1c2VyIHJhaXNlZCB0aGUgbW91c2Ugb24gbGVmdCBvbiB0aGUgc2VsZWN0aW9uXG5cdFx0XHRcdFx0eCA9IGxlZnQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eCA9IHJpZ2h0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB4O1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0b29sYmFyLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1ldGhvZCBfZ2V0WVBvaW50XG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IG5hdGl2ZUV2ZW50IFRoZSBkYXRhIGFib3V0IGV2ZW50IGlzIGZpcmVkXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGlvbkRhdGEgVGhlIGRhdGEgYWJvdXQgdGhlIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yIGFzIHJldHVybmVkIGZyb20ge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25yZWdpb24vZ2V0U2VsZWN0aW9uRGF0YTptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgY2FsY3VsYXRlZCBZIHBvaW50IGluIHBhZ2UgY29vcmRpbmF0ZXMuXG5cdFx0ICovXG5cdFx0X2dldFlQb2ludChzZWxlY3Rpb25EYXRhLCBuYXRpdmVFdmVudCkge1xuXHRcdFx0bGV0IHkgPSAwO1xuXG5cdFx0XHRpZiAoc2VsZWN0aW9uRGF0YSAmJiBuYXRpdmVFdmVudCkge1xuXHRcdFx0XHRjb25zdCBlbGVtZW50VGFyZ2V0ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFxuXHRcdFx0XHRcdG5hdGl2ZUV2ZW50LnRhcmdldFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRlbGVtZW50VGFyZ2V0LiQgJiZcblx0XHRcdFx0XHRlbGVtZW50VGFyZ2V0LmdldFN0eWxlKCdvdmVyZmxvdycpID09PSAnYXV0bydcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0eSA9XG5cdFx0XHRcdFx0XHRuYXRpdmVFdmVudC50YXJnZXQub2Zmc2V0VG9wICtcblx0XHRcdFx0XHRcdG5hdGl2ZUV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eSA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLmJvdHRvbTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4geTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgdG9vbGJhciB0YWtpbmcgaW4gY29uc2lkZXJhdGlvbiB0aGVcblx0XHQgKiB7eyNjcm9zc0xpbmsgXCJUb29sYmFyQnV0dG9ucy9ndXR0ZXI6YXR0cmlidXRlXCJ9fXt7L2Nyb3NzTGlua319IGF0dHJpYnV0ZS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBUb29sYmFyQnV0dG9uc1xuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAbWV0aG9kICBnZXRXaWRnZXRYWVBvaW50XG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgVGhlIGxlZnQgb2Zmc2V0IGluIHBhZ2UgY29vcmRpbmF0ZXMgd2hlcmUgVG9vbGJhciBzaG91bGQgYmUgc2hvd24uXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUaGUgdG9wIG9mZnNldCBpbiBwYWdlIGNvb3JkaW5hdGVzIHdoZXJlIFRvb2xiYXIgc2hvdWxkIGJlIHNob3duLlxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiBvZiB0aGUgc2VsZWN0aW9uLiBNYXkgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG5cdFx0ICogQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1Agb3IgQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT01cblx0XHQgKiBAcmV0dXJuIHtBcnJheX0gQW4gQXJyYXkgd2l0aCBsZWZ0IGFuZCB0b3Agb2Zmc2V0cyBpbiBwYWdlIGNvb3JkaW5hdGVzLlxuXHRcdCAqL1xuXHRcdGdldFdpZGdldFhZUG9pbnQobGVmdCwgdG9wLCBkaXJlY3Rpb24pIHtcblx0XHRcdGNvbnN0IGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuXHRcdFx0Y29uc3QgZ3V0dGVyID0gdGhpcy5wcm9wcy5ndXR0ZXI7XG5cblx0XHRcdGlmIChcblx0XHRcdFx0ZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSB8fFxuXHRcdFx0XHRkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QXG5cdFx0XHQpIHtcblx0XHRcdFx0bGVmdCA9IGxlZnQgLSBndXR0ZXIubGVmdCAtIGRvbU5vZGUub2Zmc2V0V2lkdGggLyAyO1xuXG5cdFx0XHRcdHRvcCA9XG5cdFx0XHRcdFx0ZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuXHRcdFx0XHRcdFx0PyB0b3AgKyBndXR0ZXIudG9wXG5cdFx0XHRcdFx0XHQ6IHRvcCAtIGRvbU5vZGUub2Zmc2V0SGVpZ2h0IC0gZ3V0dGVyLnRvcDtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdGRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX0xFRlRfVE9fUklHSFQgfHxcblx0XHRcdFx0ZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fUklHSFRfVE9fTEVGVFxuXHRcdFx0KSB7XG5cdFx0XHRcdGxlZnQgPVxuXHRcdFx0XHRcdGRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX0xFRlRfVE9fUklHSFRcblx0XHRcdFx0XHRcdD8gbGVmdCArIGd1dHRlci5sZWZ0ICsgZG9tTm9kZS5vZmZzZXRIZWlnaHQgLyAyXG5cdFx0XHRcdFx0XHQ6IGxlZnQgLSAoMyAqIGRvbU5vZGUub2Zmc2V0SGVpZ2h0KSAvIDIgLSBndXR0ZXIubGVmdDtcblxuXHRcdFx0XHR0b3AgPSB0b3AgLSBndXR0ZXIudG9wIC0gZG9tTm9kZS5vZmZzZXRIZWlnaHQgLyAyO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobGVmdCA8IDApIHtcblx0XHRcdFx0bGVmdCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0b3AgPCAwKSB7XG5cdFx0XHRcdHRvcCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBbbGVmdCwgdG9wXTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRvb2xiYXIgaXMgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgVG9vbGJhckJ1dHRvbnNcblx0XHQgKiBAbWV0aG9kIGlzVmlzaWJsZVxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHRvb2xiYXIgaXMgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG5cdFx0ICovXG5cdFx0aXNWaXNpYmxlKCkge1xuXHRcdFx0Y29uc3QgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG5cdFx0XHRpZiAoZG9tTm9kZSkge1xuXHRcdFx0XHRjb25zdCBkb21FbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRvbU5vZGUpO1xuXG5cdFx0XHRcdHJldHVybiBkb21FbGVtZW50Lmhhc0NsYXNzKCdhbGxveS1lZGl0b3ItdmlzaWJsZScpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogTW92ZXMgYSB0b29sYmFyIGZyb20gYSBzdGFydGluZyBwb2ludCB0byBhIGRlc3RpbmF0aW9uIHBvaW50LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFRvb2xiYXJCdXR0b25zXG5cdFx0ICogQG1ldGhvZCBtb3ZlVG9Qb2ludFxuXHRcdCAqIEBwYXJhbSAge09iamVjdH0gc3RhcnRQb2ludCBUaGUgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBtb3ZlbWVudC5cblx0XHQgKiBAcGFyYW0gIHtPYmplY3R9IGVuZFBvaW50IFRoZSBkZXN0aW5hdGlvbiBwb2ludCBmb3IgdGhlIG1vdmVtZW50LlxuXHRcdCAqL1xuXHRcdG1vdmVUb1BvaW50KHN0YXJ0UG9pbnQsIGVuZFBvaW50KSB7XG5cdFx0XHRjb25zdCBkb21FbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFxuXHRcdFx0XHRSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKVxuXHRcdFx0KTtcblxuXHRcdFx0ZG9tRWxlbWVudC5zZXRTdHlsZXMoe1xuXHRcdFx0XHRsZWZ0OiBzdGFydFBvaW50WzBdICsgJ3B4Jyxcblx0XHRcdFx0dG9wOiBzdGFydFBvaW50WzFdICsgJ3B4Jyxcblx0XHRcdFx0b3BhY2l0eTogMCxcblx0XHRcdFx0cG9pbnRlckV2ZW50czogJ25vbmUnLFxuXHRcdFx0fSk7XG5cblx0XHRcdGRvbUVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2FsbG95LWVkaXRvci1pbnZpc2libGUnKTtcblxuXHRcdFx0dGhpcy5fYW5pbWF0aW9uRnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuXHRcdFx0XHRkb21FbGVtZW50LmFkZENsYXNzKCdhZS10b29sYmFyLXRyYW5zaXRpb24nKTtcblx0XHRcdFx0ZG9tRWxlbWVudC5hZGRDbGFzcygnYWxsb3ktZWRpdG9yLXZpc2libGUnKTtcblx0XHRcdFx0ZG9tRWxlbWVudC5zZXRTdHlsZXMoe1xuXHRcdFx0XHRcdGxlZnQ6IGVuZFBvaW50WzBdICsgJ3B4Jyxcblx0XHRcdFx0XHR0b3A6IGVuZFBvaW50WzFdICsgJ3B4Jyxcblx0XHRcdFx0XHRvcGFjaXR5OiAxLFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyAxNTBtcyB0byBtYXRjaCB0cmFuc2l0aW9uLWR1cmF0aW9uIGZvciAuYWUtdG9vbGJhci10cmFuc2l0aW9uOlxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRkb21FbGVtZW50LnNldFN0eWxlcyh7XG5cdFx0XHRcdFx0XHRwb2ludGVyRXZlbnRzOiAnJyxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSwgMTUwKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFNob3dzIHRoZSB0b29sYmFyIHdpdGggdGhlIGRlZmF1bHQgYW5pbWF0aW9uIHRyYW5zaXRpb24uXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgVG9vbGJhckJ1dHRvbnNcblx0XHQgKiBAbWV0aG9kIHNob3dcblx0XHQgKi9cblx0XHRzaG93KCkge1xuXHRcdFx0Y29uc3QgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXHRcdFx0Y29uc3QgdWlOb2RlID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ3VpTm9kZScpO1xuXG5cdFx0XHRjb25zdCBzY3JvbGxUb3AgPSB1aU5vZGUgPyB1aU5vZGUuc2Nyb2xsVG9wIDogMDtcblxuXHRcdFx0aWYgKCF0aGlzLmlzVmlzaWJsZSgpICYmIGRvbU5vZGUpIHtcblx0XHRcdFx0Y29uc3QgaW50ZXJhY3Rpb25Qb2ludCA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25Qb2ludCgpO1xuXG5cdFx0XHRcdGlmIChpbnRlcmFjdGlvblBvaW50KSB7XG5cdFx0XHRcdFx0Y29uc3QgZG9tRWxlbWVudCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkb21Ob2RlKTtcblxuXHRcdFx0XHRcdGxldCBmaW5hbFg7XG5cdFx0XHRcdFx0bGV0IGZpbmFsWTtcblx0XHRcdFx0XHRsZXQgaW5pdGlhbFg7XG5cdFx0XHRcdFx0bGV0IGluaXRpYWxZO1xuXG5cdFx0XHRcdFx0ZmluYWxYID0gaW5pdGlhbFggPSBwYXJzZUZsb2F0KGRvbUVsZW1lbnQuZ2V0U3R5bGUoJ2xlZnQnKSk7XG5cdFx0XHRcdFx0ZmluYWxZID0gaW5pdGlhbFkgPSBwYXJzZUZsb2F0KGRvbUVsZW1lbnQuZ2V0U3R5bGUoJ3RvcCcpKTtcblxuXHRcdFx0XHRcdGlmICh0aGlzLnByb3BzLmNvbnN0cmFpblRvVmlld3BvcnQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHJlcyA9IHRoaXMuZ2V0Q29uc3RyYWluZWRQb3NpdGlvbih7XG5cdFx0XHRcdFx0XHRcdGhlaWdodDogcGFyc2VGbG9hdChkb21Ob2RlLm9mZnNldEhlaWdodCksXG5cdFx0XHRcdFx0XHRcdGxlZnQ6IGZpbmFsWCxcblx0XHRcdFx0XHRcdFx0dG9wOiBmaW5hbFksXG5cdFx0XHRcdFx0XHRcdHdpZHRoOiBwYXJzZUZsb2F0KGRvbU5vZGUub2Zmc2V0V2lkdGgpLFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGZpbmFsWCA9IHJlcy54O1xuXHRcdFx0XHRcdFx0ZmluYWxZID0gcmVzLnk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0aW50ZXJhY3Rpb25Qb2ludC5kaXJlY3Rpb24gPT09XG5cdFx0XHRcdFx0XHRDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0aW5pdGlhbFkgPVxuXHRcdFx0XHRcdFx0XHR0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEucmVnaW9uLmJvdHRvbSArIHNjcm9sbFRvcDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aW5pdGlhbFkgPVxuXHRcdFx0XHRcdFx0XHR0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEucmVnaW9uLnRvcCArIHNjcm9sbFRvcDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLm1vdmVUb1BvaW50KFtpbml0aWFsWCwgaW5pdGlhbFldLCBbZmluYWxYLCBmaW5hbFldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZXMgdGhlIHRvb2xiYXIgcG9zaXRpb24gYmFzZWQgb24gdGhlIGN1cnJlbnQgaW50ZXJhY3Rpb24gcG9pbnQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgVG9vbGJhckJ1dHRvbnNcblx0XHQgKiBAbWV0aG9kIHVwZGF0ZVBvc2l0aW9uXG5cdFx0ICovXG5cdFx0dXBkYXRlUG9zaXRpb24oKSB7XG5cdFx0XHRjb25zdCBpbnRlcmFjdGlvblBvaW50ID0gdGhpcy5nZXRJbnRlcmFjdGlvblBvaW50KCk7XG5cblx0XHRcdGNvbnN0IGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuXHRcdFx0aWYgKGludGVyYWN0aW9uUG9pbnQgJiYgZG9tTm9kZSkge1xuXHRcdFx0XHRjb25zdCB1aU5vZGUgPVxuXHRcdFx0XHRcdHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCd1aU5vZGUnKSB8fCBkb2N1bWVudC5ib2R5O1xuXHRcdFx0XHRjb25zdCB1aU5vZGVTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodWlOb2RlKTtcblx0XHRcdFx0Y29uc3QgdWlOb2RlTWFyZ2luTGVmdCA9IHBhcnNlSW50KFxuXHRcdFx0XHRcdHVpTm9kZVN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1sZWZ0JyksXG5cdFx0XHRcdFx0MTBcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc3QgdWlOb2RlTWFyZ2luUmlnaHQgPSBwYXJzZUludChcblx0XHRcdFx0XHR1aU5vZGVTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tcmlnaHQnKSxcblx0XHRcdFx0XHQxMFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjb25zdCB0b3RhbFdpZHRoID1cblx0XHRcdFx0XHR1aU5vZGVNYXJnaW5MZWZ0ICsgdWlOb2RlLmNsaWVudFdpZHRoICsgdWlOb2RlTWFyZ2luUmlnaHQ7XG5cblx0XHRcdFx0Y29uc3Qgc2Nyb2xsVG9wID1cblx0XHRcdFx0XHR1aU5vZGUudGFnTmFtZSAhPT0gJ0JPRFknID8gdWlOb2RlLnNjcm9sbFRvcCA6IDA7XG5cblx0XHRcdFx0Y29uc3QgeHkgPSB0aGlzLmdldFdpZGdldFhZUG9pbnQoXG5cdFx0XHRcdFx0aW50ZXJhY3Rpb25Qb2ludC54LFxuXHRcdFx0XHRcdGludGVyYWN0aW9uUG9pbnQueSxcblx0XHRcdFx0XHRpbnRlcmFjdGlvblBvaW50LmRpcmVjdGlvblxuXHRcdFx0XHQpO1xuXHRcdFx0XHR4eVsxXSArPSBzY3JvbGxUb3A7XG5cblx0XHRcdFx0aWYgKHh5WzBdIDwgMCkge1xuXHRcdFx0XHRcdHh5WzBdID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoeHlbMF0gPiB0b3RhbFdpZHRoIC0gZG9tTm9kZS5vZmZzZXRXaWR0aCkge1xuXHRcdFx0XHRcdHh5WzBdID0gdG90YWxXaWR0aCAtIGRvbU5vZGUub2Zmc2V0V2lkdGg7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZG9tTm9kZSkuc2V0U3R5bGVzKHtcblx0XHRcdFx0XHRsZWZ0OiB4eVswXSArICdweCcsXG5cdFx0XHRcdFx0dG9wOiB4eVsxXSArICdweCcsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFuYWx5c2VzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBhbmQgcmV0dXJucyB0aGUgYnV0dG9ucyBvciBidXR0b24gZ3JvdXBzIHRvIGJlIHJlbmRlcmVkLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1ldGhvZCBnZXRUb29sYmFyQnV0dG9uR3JvdXBzXG5cdFx0ICogQHBhcmFtIHtBcnJheX0gYnV0dG9ucyBUaGUgYnV0dG9ucyBjb3VsZCBiZSBzaG93biwgcHJpb3IgdG8gdGhlIHN0YXRlIGZpbHRlcmluZy5cblx0XHQgKiBAcGFyYW0ge09iamVjdH0gYWRkaXRpb25hbFByb3BzIEFkZGl0aW9uYWwgcHJvcHMgdGhhdCBzaG91bGQgYmUgcGFzc2VkIGRvd24gdG8gdGhlIGJ1dHRvbnMuXG5cdFx0ICogQHJldHVybiB7QXJyYXl9IEFuIEFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b25zIG9yIGJ1dHRvbiBncm91cHMgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdFx0ICovXG5cdFx0Z2V0VG9vbGJhckJ1dHRvbkdyb3VwcyhidXR0b25zLCBhZGRpdGlvbmFsUHJvcHMpIHtcblx0XHRcdGlmIChMYW5nLmlzRnVuY3Rpb24oYnV0dG9ucykpIHtcblx0XHRcdFx0YnV0dG9ucyA9IGJ1dHRvbnMuY2FsbCh0aGlzKSB8fCBbXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGJ1dHRvbnMucmVkdWNlKChsaXN0LCBidXR0b24pID0+IHtcblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoYnV0dG9uKSkge1xuXHRcdFx0XHRcdGxpc3QucHVzaCh0aGlzLmdldFRvb2xiYXJCdXR0b25zKGJ1dHRvbiwgYWRkaXRpb25hbFByb3BzKSk7XG5cdFx0XHRcdFx0cmV0dXJuIGxpc3Q7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0VG9vbGJhckJ1dHRvbnMoYnV0dG9ucywgYWRkaXRpb25hbFByb3BzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgW10pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFuYWx5emVzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBhbmQgdGhlIGJ1dHRvbnMgZXhjbHVzaXZlIG1vZGUgdmFsdWUgdG8gZmlndXJlIG91dCB3aGljaFxuXHRcdCAqIGJ1dHRvbnMgc2hvdWxkIGJlIHByZXNlbnQgaW4gYSBnaXZlbiBzdGF0ZS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBUb29sYmFyQnV0dG9uc1xuXHRcdCAqIEBtZXRob2QgZ2V0VG9vbGJhckJ1dHRvbnNcblx0XHQgKiBAcGFyYW0ge0FycmF5fSBidXR0b25zIFRoZSBidXR0b25zIGNvdWxkIGJlIHNob3duLCBwcmlvciB0byB0aGUgc3RhdGUgZmlsdGVyaW5nLlxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBhZGRpdGlvbmFsUHJvcHMgQWRkaXRpb25hbCBwcm9wcyB0aGF0IHNob3VsZCBiZSBwYXNzZWQgZG93biB0byB0aGUgYnV0dG9ucy5cblx0XHQgKiBAcmV0dXJuIHtBcnJheX0gQW4gQXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIGJ1dHRvbnMgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdFx0ICovXG5cdFx0Z2V0VG9vbGJhckJ1dHRvbnMoYnV0dG9ucywgYWRkaXRpb25hbFByb3BzKSB7XG5cdFx0XHRjb25zdCBidXR0b25Qcm9wcyA9IHt9O1xuXG5cdFx0XHRjb25zdCBuYXRpdmVFZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0XHRjb25zdCBidXR0b25DZmcgPSBuYXRpdmVFZGl0b3IuY29uZmlnLmJ1dHRvbkNmZyB8fCB7fTtcblxuXHRcdFx0aWYgKExhbmcuaXNGdW5jdGlvbihidXR0b25zKSkge1xuXHRcdFx0XHRidXR0b25zID0gYnV0dG9ucy5jYWxsKHRoaXMpIHx8IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0b29sYmFyQnV0dG9ucyA9IHRoaXMuZmlsdGVyRXhjbHVzaXZlKFxuXHRcdFx0XHRidXR0b25zXG5cdFx0XHRcdFx0LmZpbHRlcihidXR0b24gPT4ge1xuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0YnV0dG9uICYmXG5cdFx0XHRcdFx0XHRcdChBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbl0gfHxcblx0XHRcdFx0XHRcdFx0XHRBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbi5uYW1lXSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQubWFwKGJ1dHRvbiA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoTGFuZy5pc1N0cmluZyhidXR0b24pKSB7XG5cdFx0XHRcdFx0XHRcdGJ1dHRvblByb3BzW2J1dHRvbl0gPSBidXR0b25DZmdbYnV0dG9uXTtcblx0XHRcdFx0XHRcdFx0YnV0dG9uID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b25dO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChMYW5nLmlzU3RyaW5nKGJ1dHRvbi5uYW1lKSkge1xuXHRcdFx0XHRcdFx0XHRidXR0b25Qcm9wc1tcblx0XHRcdFx0XHRcdFx0XHRBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbi5uYW1lXS5rZXlcblx0XHRcdFx0XHRcdFx0XSA9IENLRURJVE9SLnRvb2xzLm1lcmdlKFxuXHRcdFx0XHRcdFx0XHRcdGJ1dHRvbkNmZ1tidXR0b25dLFxuXHRcdFx0XHRcdFx0XHRcdGJ1dHRvbi5jZmdcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0YnV0dG9uID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b24ubmFtZV07XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBidXR0b247XG5cdFx0XHRcdFx0fSlcblx0XHRcdCkubWFwKGZ1bmN0aW9uKGJ1dHRvbiwgaW5kZXgpIHtcblx0XHRcdFx0bGV0IHByb3BzID0gdGhpcy5tZXJnZUV4Y2x1c2l2ZVByb3BzKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGVkaXRvcjogdGhpcy5jb250ZXh0LmVkaXRvcixcblx0XHRcdFx0XHRcdGtleTpcblx0XHRcdFx0XHRcdFx0YnV0dG9uLmtleSAhPT0gJ3NlcGFyYXRvcidcblx0XHRcdFx0XHRcdFx0XHQ/IGJ1dHRvbi5rZXlcblx0XHRcdFx0XHRcdFx0XHQ6IGAke2J1dHRvbi5rZXl9LSR7aW5kZXh9YCxcblx0XHRcdFx0XHRcdHRhYktleTogYnV0dG9uLmtleSxcblx0XHRcdFx0XHRcdHRhYkluZGV4OlxuXHRcdFx0XHRcdFx0XHR0aGlzLnByb3BzLnRyaWdnZXIgJiZcblx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy50cmlnZ2VyLnByb3BzLnRhYktleSA9PT0gYnV0dG9uLmtleVxuXHRcdFx0XHRcdFx0XHRcdD8gMFxuXHRcdFx0XHRcdFx0XHRcdDogLTEsXG5cdFx0XHRcdFx0XHR0cmlnZ2VyOiB0aGlzLnByb3BzLnRyaWdnZXIsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRidXR0b24ua2V5XG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0cHJvcHMgPSB0aGlzLm1lcmdlRHJvcGRvd25Qcm9wcyhwcm9wcywgYnV0dG9uLmtleSk7XG5cblx0XHRcdFx0aWYgKGFkZGl0aW9uYWxQcm9wcykge1xuXHRcdFx0XHRcdHByb3BzID0gQ0tFRElUT1IudG9vbHMubWVyZ2UocHJvcHMsIGFkZGl0aW9uYWxQcm9wcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRwcm9wcyA9IENLRURJVE9SLnRvb2xzLm1lcmdlKHByb3BzLCBidXR0b25Qcm9wc1tidXR0b24ua2V5XSk7XG5cblx0XHRcdFx0cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYnV0dG9uLCBwcm9wcyk7XG5cdFx0XHR9LCB0aGlzKTtcblxuXHRcdFx0cmV0dXJuIHRvb2xiYXJCdXR0b25zO1xuXHRcdH1cblx0fTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBtYW5hZ2luZyBkaWZmZXJlbnQgZHJvcGRvd25zIGluc2lkZSBhIHdpZGdldC5cbiAqXG4gKiBAY2xhc3MgV2lkZ2V0RHJvcGRvd25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PlxuXHRjbGFzcyBXaWRnZXREcm9wZG93biBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuXHRcdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0XHRzdXBlcihwcm9wcyk7XG5cblx0XHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRcdC4uLnRoaXMuc3RhdGUsXG5cdFx0XHRcdGRyb3Bkb3duVHJpZ2dlcjogbnVsbCxcblx0XHRcdFx0aXRlbURyb3Bkb3duOiBudWxsLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBMaWZlY3ljbGUuIEludm9rZWQgd2hlbiBhIGNvbXBvbmVudCBpcyByZWNlaXZpbmcgbmV3IHByb3BzLlxuXHRcdCAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlci5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXREcm9wZG93blxuXHRcdCAqIEBtZXRob2QgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1xuXHRcdCAqL1xuXHRcdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpKSB7XG5cdFx0XHRcdHN1cGVyLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGRyb3Bkb3duVHJpZ2dlcjogbnVsbCxcblx0XHRcdFx0aXRlbURyb3Bkb3duOiBudWxsLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogTWVyZ2VzIHRoZSBwcm92aWRlZCBvYmplY3Qgd2l0aCB0d28gbW9yZSBwcm9wZXJ0aWVzOlxuXHRcdCAqIC0gZXhwYW5kZWQgLSBib29sZWFuIGZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIGFuIHdpZGdldCBzaG91bGQgYmUgcmVuZGVyZWQgZXhjbHVzaXZlbHkuXG5cdFx0ICogLSB0b2dnbGVEcm9wZG93biAtIGZ1bmN0aW9uLCB3aGljaCBjYW4gYmUgdXNlZCBieSBhbiB3aWRnZXQgaW4gb3JkZXIgdG8gb2J0YWluIGV4Y2x1c2l2ZSBzdGF0ZS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXREcm9wZG93blxuXHRcdCAqIEBtZXRob2QgbWVyZ2VEcm9wZG93blByb3BzXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgcHJvcGVydGllcyBjb250YWluZXIgd2hpY2ggc2hvdWxkIGJlIG1lcmdlZCB3aXRoIHRoZSBwcm9wZXJ0aWVzLCByZWxhdGVkXG5cdFx0ICogICAgdG8gZHJvcGRvd24gc3RhdGUuXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGl0ZW1LZXkgVGhleSBrZXkgb2YgYW4gUmVhY3QgV2lkZ2V0IHdoaWNoIGNvbnRhaW5zIHRoZSBkcm9wZG93bi5cblx0XHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtZXJnZWQgb2JqZWN0LlxuXHRcdCAqL1xuXHRcdG1lcmdlRHJvcGRvd25Qcm9wcyA9IChvYmosIGl0ZW1LZXkpID0+IHtcblx0XHRcdHJldHVybiBDS0VESVRPUi50b29scy5tZXJnZShvYmosIHtcblx0XHRcdFx0ZXhwYW5kZWQ6IHRoaXMuc3RhdGUuaXRlbURyb3Bkb3duID09PSBpdGVtS2V5ID8gdHJ1ZSA6IGZhbHNlLFxuXHRcdFx0XHR0YWJJbmRleDogdGhpcy5zdGF0ZS5kcm9wZG93blRyaWdnZXIgPT09IGl0ZW1LZXkgPyAwIDogLTEsXG5cdFx0XHRcdHRvZ2dsZURyb3Bkb3duOiB0aGlzLnRvZ2dsZURyb3Bkb3duLmJpbmQodGhpcywgaXRlbUtleSksXG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogU2V0cyB0aGUgYWN0aXZlIGRyb3Bkb3duIG9mIHRoZSB3aWRnZXQgb3IgZGlzY2FyZHMgdGhlIHRvZ2dsZWQgaXRlbSBmcm9tIHRoZSBzdGF0ZS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXREcm9wZG93blxuXHRcdCAqIEBtZXRob2QgdG9nZ2xlRHJvcGRvd25cblx0XHQgKiBAcGFyYW0ge09iamVjdH0gaXRlbURyb3Bkb3duIFRoZSB3aWRnZXQgd2hpY2ggcmVxdWVzdHMgdG8gdG9nZ2xlIGl0cyBkcm9wZG93bi5cblx0XHQgKiBAcGFyYW0ge051bWJlcn0gdG9nZ2xlRGlyZWN0aW9uIFVzZXIgbW92ZW1lbnQgZGlyZWN0aW9uIHdoZW4gdG9nZ2xlZCB2aWEga2V5Ym9hcmQuXG5cdFx0ICovXG5cdFx0dG9nZ2xlRHJvcGRvd24gPSAoaXRlbURyb3Bkb3duLCB0b2dnbGVEaXJlY3Rpb24pID0+IHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRkcm9wZG93blRyaWdnZXI6IGl0ZW1Ecm9wZG93bixcblx0XHRcdFx0XHRpdGVtRHJvcGRvd246XG5cdFx0XHRcdFx0XHRpdGVtRHJvcGRvd24gIT09IHRoaXMuc3RhdGUuaXRlbURyb3Bkb3duXG5cdFx0XHRcdFx0XHRcdD8gaXRlbURyb3Bkb3duXG5cdFx0XHRcdFx0XHRcdDogbnVsbCxcblx0XHRcdFx0fSxcblx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdGlmICghdGhpcy5zdGF0ZS5pdGVtRHJvcGRvd24pIHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLm1vdmVGb2N1cykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm1vdmVGb2N1cyh0b2dnbGVEaXJlY3Rpb24pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0UmVhY3RET00uZmluZERPTU5vZGUodGhpcykuZm9jdXMoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fTtcblx0fTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcnO1xuXG4vKipcbiAqIFByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIG1hbmFnaW5nIGV4Y2x1c2l2ZSBzdGF0ZSBvZiBhbiB3aWRnZXQuXG4gKiBUaGUgZXhjbHVzaXZlIHN0YXRlIG1lYW5zIHRoYXQgYSBidXR0b24gbWF5IHJlcXVlc3QgdG8gYmUgdGhlIG9ubHkgcmVuZGVyZWRcbiAqIHdpZGdldCBpbiBpdHMgcGFyZW50IGNvbnRhaW5lci4gV2lkZ2V0RXhjbHVzaXZlIHdpbGwgbWFuYWdlIHRoaXMgc3RhdGUgYnlcbiAqIGZpbHRlcmluZyBhbmQgc3VwcHJlc3NpbmcgdGhlIG90aGVyIHNpYmxpbmcgd2lkZ2V0cyBmcm9tIGRpc3BsYXlpbmcuXG4gKlxuICogQGNsYXNzIFdpZGdldEV4Y2x1c2l2ZVxuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+XG5cdGNsYXNzIFdpZGdldEV4Y2x1c2l2ZSBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuXHRcdC8qKlxuXHRcdCAqIENhbmNlbHMgdGhlIGV4Y2x1c2l2ZSBzdGF0ZSBvZiBhbiB3aWRnZXQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0RXhjbHVzaXZlXG5cdFx0ICogQG1ldGhvZCBjYW5jZWxFeGNsdXNpdmVcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gaXRlbUV4Y2x1c2l2ZSBUaGUgd2lkZ2V0IHdoaWNoIGV4Y2x1c2l2ZSBzdGF0ZSBzaG91bGQgYmUgY2FuY2VsZWQuXG5cdFx0ICovXG5cdFx0Y2FuY2VsRXhjbHVzaXZlKGl0ZW1FeGNsdXNpdmUpIHtcblx0XHRcdGlmICh0aGlzLnN0YXRlLml0ZW1FeGNsdXNpdmUgPT09IGl0ZW1FeGNsdXNpdmUpIHtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0aXRlbUV4Y2x1c2l2ZTogbnVsbCxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cblx0XHQgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG5cdFx0ICogQ2FsbGluZyB0aGlzLnNldFN0YXRlKCkgd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBhbiBhZGRpdGlvbmFsIHJlbmRlci5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXRFeGNsdXNpdmVcblx0XHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gbmV4dFByb3BzIE9iamVjdCBjb250YWluaW5nIHRoZSBjdXJyZW50IHNldCBvZiBwcm9wZXJ0aWVzLlxuXHRcdCAqL1xuXHRcdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpKSB7XG5cdFx0XHRcdHN1cGVyLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVjZWl2aW5nIHByb3BlcnRpZXMgbWVhbnMgdGhhdCB0aGUgY29tcG9uZW50IGlzIGJlaW5nIHJlLXJlbmRlcmVkLlxuXHRcdFx0Ly8gUmUtcmVuZGVyaW5nIGlzIHRyaWdnZXJlZCBieSBlZGl0b3JJbnRlcmFjdGlvbiwgc28gd2UgaGF2ZSB0b1xuXHRcdFx0Ly8gcmVzZXQgdGhlIGV4Y2x1c2l2ZSBzdGF0ZSBhbmQgcmVuZGVyIHRoZSBVSSBhY2NvcmRpbmcgdG8gdGhlIG5ldyBzZWxlY3Rpb24uXG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXRlbUV4Y2x1c2l2ZTogbnVsbCxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEZpbHRlcnMgdGhlIGl0ZW1zIGFuZCByZXR1cm5zIG9ubHkgdGhvc2Ugd2l0aCBleGNsdXNpdmUgc3RhdGUuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0RXhjbHVzaXZlXG5cdFx0ICogQG1ldGhvZCBmaWx0ZXJFeGNsdXNpdmVcblx0XHQgKiBAcGFyYW0ge0FycmF5fSBpdGVtcyBUaGUgd2lkZ2V0cyB0byBiZSBmaWx0ZXJlZC5cblx0XHQgKiBAcmV0dXJuIHtBcnJheXxPYmplY3R9IFRoZSBpdGVtIHdpdGggZXhlY3V0aXZlIHN0YXRlLlxuXHRcdCAqL1xuXHRcdGZpbHRlckV4Y2x1c2l2ZShpdGVtcykge1xuXHRcdFx0cmV0dXJuIGl0ZW1zLmZpbHRlcihpdGVtID0+IHtcblx0XHRcdFx0aWYgKHRoaXMuc3RhdGUuaXRlbUV4Y2x1c2l2ZSkge1xuXHRcdFx0XHRcdGlmICh0aGlzLnN0YXRlLml0ZW1FeGNsdXNpdmUgPT09IGl0ZW0ua2V5KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gaXRlbTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW07XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIE1lcmdlcyB0aGUgcHJvdmlkZWQgb2JqZWN0IHdpdGggdGhyZWUgbW9yZSBwcm9wZXJ0aWVzOlxuXHRcdCAqIC0gY2FuY2VsRXhjbHVzaXZlIC0gZnVuY3Rpb24sIHdoaWNoIGNhbiBiZSB1c2VkIGJ5IGEgd2lkZ2V0IGluIG9yZGVyIHRvIGNhbmNlbCBleGVjdXRpdmUgc3RhdGUuXG5cdFx0ICogLSByZW5kZXJFeGNsdXNpdmUgLSBib29sZWFuIGZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIGFuIHdpZGdldCBzaG91bGQgYmUgcmVuZGVyZWQgZXhjbHVzaXZlbHkuXG5cdFx0ICogLSByZXF1ZXN0RXhjbHVzaXZlIC0gZnVuY3Rpb24sIHdoaWNoIGNhbiBiZSB1c2VkIGJ5IGEgd2lkZ2V0IGluIG9yZGVyIHRvIG9idGFpbiBleGNsdXNpdmUgc3RhdGUuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0RXhjbHVzaXZlXG5cdFx0ICogQG1ldGhvZCBtZXJnZUV4Y2x1c2l2ZVByb3BzXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgcHJvcGVydGllcyBjb250YWluZXIgd2hpY2ggc2hvdWxkIGJlIG1lcmdlZCB3aXRoIHRoZSBwcm9wZXJ0aWVzLCByZWxhdGVkXG5cdFx0ICogICAgdG8gZXhjbHVzaXZlIHN0YXRlLlxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtS2V5IFRoZXkga2V5IG9mIGFuIFJlYWN0IFdpZGdldCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQgZXhjbHVzaXZlbHkuXG5cdFx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgbWVyZ2VkIG9iamVjdC5cblx0XHQgKi9cblx0XHRtZXJnZUV4Y2x1c2l2ZVByb3BzKG9iaiwgaXRlbUtleSkge1xuXHRcdFx0cmV0dXJuIENLRURJVE9SLnRvb2xzLm1lcmdlKG9iaiwge1xuXHRcdFx0XHRjYW5jZWxFeGNsdXNpdmU6IHRoaXMuY2FuY2VsRXhjbHVzaXZlLmJpbmQodGhpcywgaXRlbUtleSksXG5cdFx0XHRcdHJlbmRlckV4Y2x1c2l2ZTogdGhpcy5zdGF0ZS5pdGVtRXhjbHVzaXZlID09PSBpdGVtS2V5LFxuXHRcdFx0XHRyZXF1ZXN0RXhjbHVzaXZlOiB0aGlzLnJlcXVlc3RFeGNsdXNpdmUuYmluZCh0aGlzLCBpdGVtS2V5KSxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJlcXVlc3RzIGFuZCBzZXRzIGV4Y2x1c2l2ZSBzdGF0ZSBvZiBhbiB3aWRnZXQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0RXhjbHVzaXZlXG5cdFx0ICogQG1ldGhvZCByZXF1ZXN0RXhjbHVzaXZlXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGl0ZW1FeGNsdXNpdmUgVGhlIHdpZGdldCB3aGljaCByZXF1ZXN0cyBleGNsdXNpdmUgc3RhdGUuXG5cdFx0ICovXG5cdFx0cmVxdWVzdEV4Y2x1c2l2ZSA9IGl0ZW1FeGNsdXNpdmUgPT4ge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGl0ZW1FeGNsdXNpdmUsXG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcnO1xuXG5jb25zdCBESVJFQ1RJT05fTk9ORSA9IDA7XG5jb25zdCBESVJFQ1RJT05fTkVYVCA9IDE7XG5jb25zdCBESVJFQ1RJT05fUFJFViA9IC0xO1xuXG5jb25zdCBBQ1RJT05fTk9ORSA9IDA7XG5jb25zdCBBQ1RJT05fTU9WRV9GT0NVUyA9IDE7XG5jb25zdCBBQ1RJT05fRElTTUlTU19GT0NVUyA9IDI7XG5cbi8qKlxuICogV2lkZ2V0Rm9jdXNNYW5hZ2VyIGlzIGEgbWl4aW4gdGhhdCBwcm92aWRlcyBrZXlib2FyZCBuYXZpZ2F0aW9uIGluc2lkZSBhIHdpZGdldC4gVG8gZG8gdGhpcyxcbiAqIGl0IGV4cG9zZXMgdGhlIGZvbGxvd2luZyBwcm9wcyBhbmQgbWV0aG9kczpcbiAqXG4gKiBAY2xhc3MgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT5cblx0Y2xhc3MgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG5cdFx0LyoqXG5cdFx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcblx0XHQgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG5cdFx0ICovXG5cdFx0Y29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudERpZE1vdW50KSkge1xuXHRcdFx0XHRzdXBlci5jb21wb25lbnREaWRNb3VudCgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQncyB1cGRhdGVzIGFyZSBmbHVzaGVkIHRvIHRoZSBET00uXG5cdFx0ICogUmVmcmVzaGVzIHRoZSBkZXNjZW5kYW50cyBsaXN0LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHRcdCAqIEBtZXRob2QgY29tcG9uZW50RGlkVXBkYXRlXG5cdFx0ICovXG5cdFx0Y29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHRcdFx0aWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnREaWRVcGRhdGUpKSB7XG5cdFx0XHRcdHN1cGVyLmNvbXBvbmVudERpZFVwZGF0ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogRm9jdXNlcyB0aGUgY3VycmVudCBhY3RpdmUgZGVzY2VuZGFudC5cblx0XHQgKlxuXHRcdCAqIFNldmVyYWwgV2lkZ2V0cyBjYW4gYmUgbmVzdGVkIGluIGEgY29tcG9uZW50IGhpZXJhcmNoeSBieSBhdHRhY2hpbmcgdGhpcyBmb2N1cyBtZXRob2QgdG9cblx0XHQgKiB0aGUgd2lkZ2V0IERPTSBub2RlLCB0cmFuc2ZlcnJpbmcgdGhlIERPTSBmb2N1cyBjb250cm9sIHRvIHRoZSBpbm5lciBGb2N1c01hbmFnZXIuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdFx0ICogQG1ldGhvZCBmb2N1c1xuXHRcdCAqL1xuXHRcdGZvY3VzID0gZXZlbnQgPT4ge1xuXHRcdFx0aWYgKCFldmVudCB8fCB0aGlzLl9pc1ZhbGlkVGFyZ2V0KGV2ZW50LnRhcmdldCkpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2Rlc2NlbmRhbnRzICYmIHRoaXMuX2Rlc2NlbmRhbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRcdGNvbnN0IGFjdGl2ZURlc2NlbmRhbnRFbCA9IHRoaXMuX2Rlc2NlbmRhbnRzW1xuXHRcdFx0XHRcdFx0dGhpcy5fYWN0aXZlRGVzY2VuZGFudFxuXHRcdFx0XHRcdF07XG5cdFx0XHRcdFx0Ly8gV2hlbiB1c2VyIGNsaWNrcyB3aXRoIHRoZSBtb3VzZSwgdGhlIGFjdGl2ZUVsZW1lbnQgaXMgYWxyZWFkeSBzZXQgYW5kIHRoZXJlXG5cdFx0XHRcdFx0Ly8gaXMgbm8gbmVlZCB0byBmb2N1cyBpdC4gRm9jdXNpbmcgb2YgdGhlIGFjdGl2ZSBkZXNjZW5kYW50ICh1c3VhbGx5IHNvbWUgYnV0dG9uKSBpcyByZXF1aXJlZFxuXHRcdFx0XHRcdC8vIGluIGNhc2Ugb2Yga2V5Ym9hcmQgbmF2aWdhdGlvbiwgYmVjYXVzZSB0aGUgZm9jdXNlZCBlbGVtZW50IG1pZ2h0IGJlIG5vdCB0aGUgZmlyc3QgYnV0dG9uLFxuXHRcdFx0XHRcdC8vIGJ1dCB0aGUgZGl2IGVsZW1lbnQsIHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b24uXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gYWN0aXZlRGVzY2VuZGFudEVsICYmXG5cdFx0XHRcdFx0XHQhdGhpcy5wcm9wcy5mb2N1c0ZpcnN0Q2hpbGRcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0dGhpcy5fZGVzY2VuZGFudHMuaW5kZXhPZihcblx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50XG5cdFx0XHRcdFx0XHRcdCkgPT09IC0xXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0YWN0aXZlRGVzY2VuZGFudEVsLmZvY3VzKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEhhbmRsZXMgdGhlIGtleSBldmVudHMgb24gYSBET00gbm9kZSB0byBleGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBuYXZpZ2F0aW9uIHdoZW4gbmVlZGVkLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBUaGUgS2V5Ym9hcmQgZXZlbnQgdGhhdCB3YXMgZGV0ZWN0ZWQgb24gdGhlIHdpZGdldCBET00gbm9kZS5cblx0XHQgKiBAbWV0aG9kIGhhbmRsZUtleVxuXHRcdCAqL1xuXHRcdGhhbmRsZUtleSA9IGV2ZW50ID0+IHtcblx0XHRcdGlmICh0aGlzLl9pc1ZhbGlkVGFyZ2V0KGV2ZW50LnRhcmdldCkgJiYgdGhpcy5fZGVzY2VuZGFudHMpIHtcblx0XHRcdFx0Y29uc3QgYWN0aW9uID0gdGhpcy5fZ2V0Rm9jdXNBY3Rpb24oZXZlbnQpO1xuXG5cdFx0XHRcdGlmIChhY3Rpb24udHlwZSkge1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRpZiAoYWN0aW9uLnR5cGUgPT09IEFDVElPTl9NT1ZFX0ZPQ1VTKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9tb3ZlRm9jdXMoYWN0aW9uLmRpcmVjdGlvbik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGFjdGlvbi50eXBlID09PSBBQ1RJT05fRElTTUlTU19GT0NVUykge1xuXHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5vbkRpc21pc3MoYWN0aW9uLmRpcmVjdGlvbik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIE1vdmVzIHRoZSBmb2N1cyBhbW9uZyBkZXNjZW5kYW50cyBpbiB0aGUgZXNwZWNpZmllZCBkaXJlY3Rpb24uXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdFx0ICogQG1ldGhvZCBtb3ZlRm9jdXNcblx0XHQgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gKDEgb3IgLTEpIG9mIHRoZSBmb2N1cyBtb3ZlbWVudCBhbW9uZyBkZXNjZW5kYW50cy5cblx0XHQgKi9cblx0XHRtb3ZlRm9jdXMoZGlyZWN0aW9uKSB7XG5cdFx0XHRkaXJlY3Rpb24gPSBMYW5nLmlzTnVtYmVyKGRpcmVjdGlvbikgPyBkaXJlY3Rpb24gOiAwO1xuXG5cdFx0XHR0aGlzLl9tb3ZlRm9jdXMoZGlyZWN0aW9uKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBhY3Rpb24sIGlmIGFueSwgdGhhdCBhIGtleWJvYXJkIGV2ZW50IGluIHRoZSBjdXJyZW50IGZvY3VzIG1hbmFnZXIgc3RhdGVcblx0XHQgKiBzaG91bGQgcHJvZHVjZS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcblx0XHQgKiBAbWV0aG9kIF9nZXRGb2N1c0FjdGlvblxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUaGUgS2V5Ym9hcmQgZXZlbnQuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEByZXR1cm4ge09iamVjdH0gQW4gYWN0aW9uIG9iamVjdCB3aXRoIHR5cGUgYW5kIGRpcmVjdGlvbiBwcm9wZXJ0aWVzLlxuXHRcdCAqL1xuXHRcdF9nZXRGb2N1c0FjdGlvbihldmVudCkge1xuXHRcdFx0Y29uc3QgYWN0aW9uID0ge1xuXHRcdFx0XHR0eXBlOiBBQ1RJT05fTk9ORSxcblx0XHRcdH07XG5cblx0XHRcdGlmICh0aGlzLnByb3BzLmtleXMpIHtcblx0XHRcdFx0Y29uc3QgZGlyZWN0aW9uID0gdGhpcy5fZ2V0Rm9jdXNNb3ZlRGlyZWN0aW9uKGV2ZW50KTtcblxuXHRcdFx0XHRpZiAoZGlyZWN0aW9uKSB7XG5cdFx0XHRcdFx0YWN0aW9uLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblx0XHRcdFx0XHRhY3Rpb24udHlwZSA9IEFDVElPTl9NT1ZFX0ZPQ1VTO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgZGlzbWlzc0FjdGlvbiA9IHRoaXMuX2dldEZvY3VzRGlzbWlzc0FjdGlvbihcblx0XHRcdFx0XHRldmVudCxcblx0XHRcdFx0XHRkaXJlY3Rpb25cblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoZGlzbWlzc0FjdGlvbi5kaXNtaXNzKSB7XG5cdFx0XHRcdFx0YWN0aW9uLmRpcmVjdGlvbiA9IGRpc21pc3NBY3Rpb24uZGlyZWN0aW9uO1xuXHRcdFx0XHRcdGFjdGlvbi50eXBlID0gQUNUSU9OX0RJU01JU1NfRk9DVVM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFjdGlvbjtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBkaXNtaXNzIGFjdGlvbiwgaWYgYW55LCB0aGUgZm9jdXMgbWFuYWdlciBzaG91bGQgZXhlY3V0ZSB0byB5aWVsZCB0aGUgZm9jdXMuIFRoaXNcblx0XHQgKiB3aWxsIGhhcHBlbiBpbiBhbnkgb2YgdGhlc2Ugc2NlbmFyaW9zIGlmIGEgZGlzbWlzcyBjYWxsYmFjayBoYXMgYmVlbiBzcGVjaWZpZWQ6XG5cdFx0ICogLSBBIGRpc21pc3Mga2V5IGhhcyBiZWVuIHByZXNzZWRcblx0XHQgKiAtIEluIGEgbm9uLWNpcmN1bGFyIGZvY3VzIG1hbmFnZXIsIHdoZW46XG5cdFx0ICogICAgIC0gVGhlIGFjdGl2ZSBkZXNjZW5kYW50IGlzIHRoZSBmaXJzdCBvbmUgYW5kIGEgcHJldiBrZXkgaGFzIGJlZW4gcHJlc3NlZC5cblx0XHQgKiAgICAgLSBUaGUgYWN0aXZlIGRlc2NlbmRhbnQgaXMgdGhlIGxhc3Qgb25lIGFuZCBhIG5leHQga2V5IGhhcyBiZWVuIHByZXNzZWQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdFx0ICogQG1ldGhvZCBfZ2V0Rm9jdXNEaXNtaXNzQWN0aW9uXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGZvY3VzTW92ZURpcmVjdGlvbiBUaGUgZm9jdXMgbW92ZW1lbnQgZGlyZWN0aW9uIChpZiBhbnkpLlxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBUaGUgS2V5Ym9hcmQgZXZlbnQuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEByZXR1cm4ge09iamVjdH0gQSBkaXNtaXNzIGFjdGlvbiB3aXRoIGRpc21pc3MgYW5kIGRpcmVjdGlvbiBwcm9wZXJ0aWVzLlxuXHRcdCAqL1xuXHRcdF9nZXRGb2N1c0Rpc21pc3NBY3Rpb24oZXZlbnQsIGZvY3VzTW92ZURpcmVjdGlvbikge1xuXHRcdFx0Y29uc3QgZGlzbWlzc0FjdGlvbiA9IHtcblx0XHRcdFx0ZGlyZWN0aW9uOiBmb2N1c01vdmVEaXJlY3Rpb24sXG5cdFx0XHRcdGRpc21pc3M6IGZhbHNlLFxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKHRoaXMucHJvcHMub25EaXNtaXNzKSB7XG5cdFx0XHRcdGlmICh0aGlzLl9pc1ZhbGlkS2V5KGV2ZW50LmtleUNvZGUsIHRoaXMucHJvcHMua2V5cy5kaXNtaXNzKSkge1xuXHRcdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLmRpc21pc3NOZXh0KVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRkaXNtaXNzQWN0aW9uLmRpc21pc3MgPSB0cnVlO1xuXHRcdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlyZWN0aW9uID0gRElSRUNUSU9OX05FWFQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLmRpc21pc3NQcmV2KVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRkaXNtaXNzQWN0aW9uLmRpc21pc3MgPSB0cnVlO1xuXHRcdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlyZWN0aW9uID0gRElSRUNUSU9OX1BSRVY7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0IWRpc21pc3NBY3Rpb24uZGlzbWlzcyAmJlxuXHRcdFx0XHRcdCF0aGlzLnByb3BzLmNpcmN1bGFyICYmXG5cdFx0XHRcdFx0Zm9jdXNNb3ZlRGlyZWN0aW9uXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9XG5cdFx0XHRcdFx0XHQoZm9jdXNNb3ZlRGlyZWN0aW9uID09PSBESVJFQ1RJT05fUFJFViAmJlxuXHRcdFx0XHRcdFx0XHR0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID09PSAwKSB8fFxuXHRcdFx0XHRcdFx0KGZvY3VzTW92ZURpcmVjdGlvbiA9PT0gRElSRUNUSU9OX05FWFQgJiZcblx0XHRcdFx0XHRcdFx0dGhpcy5fYWN0aXZlRGVzY2VuZGFudCA9PT1cblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9kZXNjZW5kYW50cy5sZW5ndGggLSAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGlzbWlzc0FjdGlvbjtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBkaXJlY3Rpb24sIGlmIGFueSwgaW4gd2hpY2ggdGhlIGZvY3VzIHNob3VsZCBiZSBtb3ZlZC4gSW4gcHJlc2VuY2Ugb2YgdGhlXG5cdFx0ICogc2hpZnQga2V5IG1vZGlmaWVyLCB0aGUgZGlyZWN0aW9uIG9mIHRoZSBtb3ZlbWVudCBpcyBpbnZlcnRlZC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcblx0XHQgKiBAbWV0aG9kIF9nZXRGb2N1c01vdmVEaXJlY3Rpb25cblx0XHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50LlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjb21wdXRlZCBkaXJlY3Rpb24gb2YgdGhlIGV4cGVjdGVkIGZvY3VzIG1vdmVtZW50LlxuXHRcdCAqL1xuXHRcdF9nZXRGb2N1c01vdmVEaXJlY3Rpb24oZXZlbnQpIHtcblx0XHRcdGxldCBkaXJlY3Rpb24gPSBESVJFQ1RJT05fTk9ORTtcblxuXHRcdFx0aWYgKHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLm5leHQpKSB7XG5cdFx0XHRcdGRpcmVjdGlvbiA9IERJUkVDVElPTl9ORVhUO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLnByZXYpKSB7XG5cdFx0XHRcdGRpcmVjdGlvbiA9IERJUkVDVElPTl9QUkVWO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZXZlbnQuc2hpZktleSkge1xuXHRcdFx0XHRkaXJlY3Rpb24gKj0gLTE7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkaXJlY3Rpb247XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIGlmIGEgZ2l2ZW4ga2V5Q29kZSBpcyB2YWxpZCBmb3IgdGhlIGdpdmVuIHNldCBvZiBrZXlzLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHRcdCAqIEBtZXRob2QgX2lzVmFsaWRLZXlcblx0XHQgKiBAcGFyYW0ge0FycmF5fE51bWJlcn0ga2V5cyBBIGtleSBzZXQuIENhbiBiZSBhIG51bWJlciBhbiBhcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyB0aGUgYWxsb3dlZCBrZXlDb2Rlcy5cblx0XHQgKiBAcGFyYW0ge051bWJlcn0ga2V5Q29kZSBBbiBldmVudCBrZXlDb2RlLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAcmV0dXJuIHtCb29sZWFufSBBIGJvb2xlYW4gdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUga2V5IGlzIHZhbGlkLlxuXHRcdCAqL1xuXHRcdF9pc1ZhbGlkS2V5KGtleUNvZGUsIGtleXMpIHtcblx0XHRcdHJldHVybiBMYW5nLmlzQXJyYXkoa2V5cylcblx0XHRcdFx0PyBrZXlzLmluZGV4T2Yoa2V5Q29kZSkgIT09IC0xXG5cdFx0XHRcdDoga2V5Q29kZSA9PT0ga2V5cztcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBJbmRpY2F0ZXMgaWYgYSBnaXZlbiBlbGVtZW50IGlzIHZhbGlkIGZvciBmb2N1cyBtYW5hZ2VtZW50LiBVc2VyIGlucHV0IGVsZW1lbnRzIHN1Y2ggYXNcblx0XHQgKiBpbnB1dCwgc2VsZWN0IG9yIHRleHRhcmVhIGFyZSBleGNsdWRlZC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcblx0XHQgKiBAbWV0aG9kIF9pc1ZhbGlkS2V5XG5cdFx0ICogQHBhcmFtIHtET01Ob2RlfSBlbGVtZW50IEEgRE9NIGVsZW1lbnQuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59IEEgYm9vbGVhbiB2YWx1ZSBpbmRpY2F0aW5nIGlmIHRoZSBlbGVtZW50IGlzIHZhbGlkLlxuXHRcdCAqL1xuXHRcdF9pc1ZhbGlkVGFyZ2V0KGVsZW1lbnQpIHtcblx0XHRcdGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0dGFnTmFtZSAhPT0gJ2lucHV0JyAmJlxuXHRcdFx0XHR0YWdOYW1lICE9PSAnc2VsZWN0JyAmJlxuXHRcdFx0XHR0YWdOYW1lICE9PSAndGV4dGFyZWEnXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIE1vdmVzIHRoZSBmb2N1cyBhbW9uZyBkZXNjZW5kYW50cyBpbiB0aGUgZXNwZWNpZmllZCBkaXJlY3Rpb24uXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdFx0ICogQG1ldGhvZCBfbW92ZUZvY3VzXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uICgxIG9yIC0xKSBvZiB0aGUgZm9jdXMgbW92ZW1lbnQgYW1vbmcgZGVzY2VuZGFudHMuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdF9tb3ZlRm9jdXMoZGlyZWN0aW9uKSB7XG5cdFx0XHRjb25zdCBudW1EZXNjZW5kYW50cyA9IHRoaXMuX2Rlc2NlbmRhbnRzLmxlbmd0aDtcblxuXHRcdFx0bGV0IGRlc2NlbmRhbnQgPSB0aGlzLl9kZXNjZW5kYW50c1t0aGlzLl9hY3RpdmVEZXNjZW5kYW50XTtcblxuXHRcdFx0ZGVzY2VuZGFudC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgLTEpO1xuXG5cdFx0XHR0aGlzLl9hY3RpdmVEZXNjZW5kYW50ICs9IGRpcmVjdGlvbjtcblxuXHRcdFx0aWYgKHRoaXMucHJvcHMuY2lyY3VsYXIpIHtcblx0XHRcdFx0Ly8gQ2FsY3VsYXRlIHByb3BlciBtb2R1bG8gcmVzdWx0IHNpbmNlIHJlbWFpbmRlciBvcGVyYXRvciBkb2Vzbid0IGJlaGF2ZSBpbiB0aGVcblx0XHRcdFx0Ly8gc2FtZSB3YXkgZm9yIG5lZ2F0aXZlIG51bWJlcnNcblx0XHRcdFx0dGhpcy5fYWN0aXZlRGVzY2VuZGFudCA9XG5cdFx0XHRcdFx0KCh0aGlzLl9hY3RpdmVEZXNjZW5kYW50ICUgbnVtRGVzY2VuZGFudHMpICtcblx0XHRcdFx0XHRcdG51bURlc2NlbmRhbnRzKSAlXG5cdFx0XHRcdFx0bnVtRGVzY2VuZGFudHM7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID0gTWF0aC5tYXgoXG5cdFx0XHRcdFx0TWF0aC5taW4odGhpcy5fYWN0aXZlRGVzY2VuZGFudCwgbnVtRGVzY2VuZGFudHMgLSAxKSxcblx0XHRcdFx0XHQwXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGRlc2NlbmRhbnQgPSB0aGlzLl9kZXNjZW5kYW50c1t0aGlzLl9hY3RpdmVEZXNjZW5kYW50XTtcblxuXHRcdFx0ZGVzY2VuZGFudC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgMCk7XG5cdFx0XHRkZXNjZW5kYW50LmZvY3VzKCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmVmcmVzaGVzIHRoZSBkZXNjZW5kYW50cyBsaXN0IGJ5IGV4ZWN1dGluZyB0aGUgQ1NTIHNlbGVjdG9yIGFnYWluIGFuZCByZXNldHMgdGhlIGRlc2NlbmRhbnRzIHRhYkluZGV4LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHRcdCAqIEBtZXRob2QgX3JlZnJlc2hcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0X3JlZnJlc2goKSB7XG5cdFx0XHRjb25zdCBkb21Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcyk7XG5cblx0XHRcdGlmIChkb21Ob2RlKSB7XG5cdFx0XHRcdGNvbnN0IGRlc2NlbmRhbnRzID0gZG9tTm9kZS5xdWVyeVNlbGVjdG9yQWxsKFxuXHRcdFx0XHRcdHRoaXMucHJvcHMuZGVzY2VuZGFudHNcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRsZXQgcHJpb3JpdHlEZXNjZW5kYW50cyA9IFtdO1xuXG5cdFx0XHRcdHRoaXMuX2Rlc2NlbmRhbnRzID0gW107XG5cblx0XHRcdFx0QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGVzY2VuZGFudHMpLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgZGF0YVRhYkluZGV4ID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiaW5kZXgnKTtcblxuXHRcdFx0XHRcdGlmIChkYXRhVGFiSW5kZXgpIHtcblx0XHRcdFx0XHRcdHByaW9yaXR5RGVzY2VuZGFudHMucHVzaChpdGVtKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5fZGVzY2VuZGFudHMucHVzaChpdGVtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHByaW9yaXR5RGVzY2VuZGFudHMgPSBwcmlvcml0eURlc2NlbmRhbnRzLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0TGFuZy50b0ludChhLmdldEF0dHJpYnV0ZSgnZGF0YS10YWJpbmRleCcpKSA+XG5cdFx0XHRcdFx0XHRMYW5nLnRvSW50KGIuZ2V0QXR0cmlidXRlKCdkYXRhLXRhYmluZGV4JykpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5fZGVzY2VuZGFudHMgPSBwcmlvcml0eURlc2NlbmRhbnRzLmNvbmNhdChcblx0XHRcdFx0XHR0aGlzLl9kZXNjZW5kYW50c1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMuX2FjdGl2ZURlc2NlbmRhbnQgPSAwO1xuXG5cdFx0XHRcdHRoaXMuX2Rlc2NlbmRhbnRzLnNvbWUoKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGl0ZW0uZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpID09PSAnMCcpIHtcblx0XHRcdFx0XHRcdHRoaXMuX2FjdGl2ZURlc2NlbmRhbnQgPSBpbmRleDtcblx0XHRcdFx0XHRcdHRoaXMuZm9jdXMoKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkFjY2Vzc2liaWxpdHlJbWFnZUFsdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjaGFuZ2luZyB0ZXh0IGNvbG9yIGluIGEgZG9jdW1lbnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkFjY2Vzc2liaWxpdHlJbWFnZUFsdFxuICpcbiAqL1xuY2xhc3MgQnV0dG9uQWNjZXNzaWJpbGl0eUltYWdlQWx0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRzdGF0aWMga2V5ID0gJ2ltYWdlQWx0JztcblxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdGNvbnN0IHNlbGVjdGlvbiA9IHByb3BzLmNvbnRleHQuZWRpdG9yXG5cdFx0XHQuZ2V0KCduYXRpdmVFZGl0b3InKVxuXHRcdFx0LmdldFNlbGVjdGlvbigpO1xuXG5cdFx0Y29uc3QgZWxlbWVudCA9XG5cdFx0XHRzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCkgfHwgc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudCgpO1xuXG5cdFx0dGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cblx0XHRjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LmZpbmRPbmUoJ2ltZycpO1xuXG5cdFx0Y29uc3QgaW1hZ2VBbHQgPSBpbWFnZUVsZW1lbnRcblx0XHRcdD8gaW1hZ2VFbGVtZW50LmdldEF0dHJpYnV0ZSgnYWx0Jylcblx0XHRcdDogdGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FsdCcpO1xuXG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdGltYWdlQWx0LFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtbGlua1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0IHh4bFwiPlxuXHRcdFx0XHRcdFx0PGlucHV0XG5cdFx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9XCJhbHRcIlxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1pbnB1dFwiXG5cdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLl9oYW5kbGVBbHRDaGFuZ2V9XG5cdFx0XHRcdFx0XHRcdG9uS2V5RG93bj17dGhpcy5faGFuZGxlS2V5RG93bn1cblx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9XCJhbHRcIlxuXHRcdFx0XHRcdFx0XHRyZWY9XCJyZWZBbHRJbnB1dFwiXG5cdFx0XHRcdFx0XHRcdHRpdGxlPVwiYWx0XCJcblx0XHRcdFx0XHRcdFx0dHlwZT1cInRleHRcIlxuXHRcdFx0XHRcdFx0XHR2YWx1ZT17dGhpcy5zdGF0ZS5pbWFnZUFsdH1cblx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5jb25maXJtfVxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uXCJcblx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX3VwZGF0ZUltYWdlQWx0fVxuXHRcdFx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29uZmlybX0+XG5cdFx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJjaGVja1wiIC8+XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdFx0b25DbGljaz17dGhpcy5fcmVxdWVzdEV4Y2x1c2l2ZX1cblx0XHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0+XG5cdFx0XHRcdFx0PHNtYWxsIGNsYXNzTmFtZT1cImFlLWljb24gc21hbGxcIj5BbHQ8L3NtYWxsPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEZvY3VzZXMgdGhlIHVzZXIgY3Vyc29yIG9uIHRoZSB3aWRnZXQncyBpbnB1dC5cblx0ICpcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAbWV0aG9kIF9mb2N1c0FsdElucHV0XG5cdCAqL1xuXHRfZm9jdXNBbHRJbnB1dCgpIHtcblx0XHRjb25zdCBpbnN0YW5jZSA9IHRoaXM7XG5cblx0XHRjb25zdCBmb2N1c0FsdEVsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRSZWFjdERPTS5maW5kRE9NTm9kZShpbnN0YW5jZS5yZWZzLnJlZkFsdElucHV0KS5mb2N1cygpO1xuXHRcdH07XG5cblx0XHRpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmb2N1c0FsdEVsKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2V0VGltZW91dChmb2N1c0FsdEVsLCAwKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRXZlbnQgYXR0YWNoZWQgdG8gYWx0IGlucHV0IHRoYXQgZmlyZXMgd2hlbiBpdHMgdmFsdWUgaXMgY2hhbmdlZFxuXHQgKlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBtZXRob2QgIF9oYW5kbGVBbHRDaGFuZ2Vcblx0ICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuXHQgKi9cblx0X2hhbmRsZUFsdENoYW5nZSA9IGV2ZW50ID0+IHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGltYWdlQWx0OiBldmVudC50YXJnZXQudmFsdWUsXG5cdFx0fSk7XG5cblx0XHR0aGlzLl9mb2N1c0FsdElucHV0KCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEV2ZW50IGF0dGFjaGVkIHRvIGFsIHRpbnB1dCB0aGF0IGZpcmVzIHdoZW4ga2V5IGlzIGRvd25cblx0ICogVGhpcyBtZXRob2QgY2hlY2sgdGhhdCBlbnRlciBrZXkgaXMgcHVzaGVkIHRvIHVwZGF0ZSB0aGUgY29tcG9uZW50wrRzIHN0YXRlXG5cdCAqXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQG1ldGhvZCAgX2hhbmRsZUtleURvd25cblx0ICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuXHQgKi9cblx0X2hhbmRsZUtleURvd24gPSBldmVudCA9PiB7XG5cdFx0aWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR0aGlzLl91cGRhdGVJbWFnZUFsdCgpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogUmVxdWVzdHMgdGhlIGxpbmsgYnV0dG9uIHRvIGJlIHJlbmRlcmVkIGluIGV4Y2x1c2l2ZSBtb2RlIHRvIGFsbG93IHRoZSBjcmVhdGlvbiBvZiBhIGxpbmsuXG5cdCAqXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQG1ldGhvZCBfcmVxdWVzdEV4Y2x1c2l2ZVxuXHQgKi9cblx0X3JlcXVlc3RFeGNsdXNpdmUgPSAoKSA9PiB7XG5cdFx0dGhpcy5wcm9wcy5yZXF1ZXN0RXhjbHVzaXZlKEJ1dHRvbkFjY2Vzc2liaWxpdHlJbWFnZUFsdC5rZXkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBNZXRob2QgY2FsbGVkIGJ5IGNsaWNraW5nIG9rIGJ1dHRvbiBvciBwdXNoaW5nIGtleSBlbnRlciB0byB1cGRhdGUgaW1hZ2VBbHQgc3RhdGUgYW5kIHRvIHVwZGF0ZSBhbHQgcHJvcGVydHkgZnJvbSB0aGUgaW1hZ2UgdGhhdCBpcyBzZWxlY3RlZFxuXHQgKiBUaGlzIG1ldGhvZCBjYWxscyBjYW5jZWxFeGNsdXNpdmUgdG8gc2hvdyB0aGUgcHJldmlvdXMgdG9vbGJhciBiZWZvcmUgZW50ZXIgdG8gZWRpdCBhbHQgcHJvcGVydHlcblx0ICpcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAbWV0aG9kICBfdXBkYXRlSW1hZ2VBbHRcblx0ICovXG5cdF91cGRhdGVJbWFnZUFsdCA9ICgpID0+IHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRjb25zdCBpbWFnZUFsdCA9IHRoaXMucmVmcy5yZWZBbHRJbnB1dC52YWx1ZTtcblxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0aW1hZ2VBbHQsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LmZpbmRPbmUoJ2ltZycpO1xuXHRcdGNvbnN0IGltYWdlID0gaW1hZ2VFbGVtZW50ID8gaW1hZ2VFbGVtZW50IDogdGhpcy5fZWxlbWVudDtcblxuXHRcdGltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgaW1hZ2VBbHQpO1xuXG5cdFx0ZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXG5cdFx0Ly8gV2UgbmVlZCB0byBjYW5jZWxFeGNsdXNpdmUgd2l0aCB0aGUgYm91bmQgcGFyYW1ldGVycyBpbiBjYXNlIHRoZSBidXR0b24gaXMgdXNlZFxuXHRcdC8vIGluc2lkZSBhbm90aGVyIGluIGV4Y2x1c2l2ZSBtb2RlIChzdWNoIGlzIHRoZSBjYXNlIG9mIHRoZSBhbHQgYnV0dG9uKVxuXHRcdHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG5cdH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVkaXRvckNvbnRleHQudG9Qcm9wcyhCdXR0b25BY2Nlc3NpYmlsaXR5SW1hZ2VBbHQpO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzTGlzdCBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC5qc3gnO1xuXG5jbGFzcyBCdXR0b25CYWNrZ3JvdW5kQ29sb3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgY29udGV4dFR5cGUgPSBFZGl0b3JDb250ZXh0O1xuXG5cdHN0YXRpYyBrZXkgPSAnYmFja2dyb3VuZENvbG9yJztcblxuXHRzdGF0aWMgcHJvcFR5cGVzID0ge1xuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzdHlsZXMgbGlzdCBpcyBleHBhbmRlZCBvciBub3QuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uQmFja2dyb3VuZENvbG9yXG5cdFx0ICogQHByb3BlcnR5IHtCb29sZWFufSBleHBhbmRlZFxuXHRcdCAqL1xuXHRcdGV4cGFuZGVkOiBQcm9wVHlwZXMuYm9vbCxcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBsYWJlbCB0aGF0IHNob3VsZCBiZSB1c2VkIGZvciBhY2Nlc3NpYmlsaXR5IHB1cnBvc2VzLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvbkJhY2tncm91bmRDb2xvclxuXHRcdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBsYWJlbFxuXHRcdCAqL1xuXHRcdGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlbW92ZSBzdHlsZXMgaXRlbSBzaG91bGQgYXBwZWFyIGluIHRoZSBzdHlsZXMgbGlzdC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBCdXR0b25CYWNrZ3JvdW5kQ29sb3Jcblx0XHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IHNob3dSZW1vdmVTdHlsZXNJdGVtXG5cdFx0ICovXG5cdFx0c2hvd1JlbW92ZVN0eWxlc0l0ZW06IFByb3BUeXBlcy5ib29sLFxuXG5cdFx0LyoqXG5cdFx0ICogTGlzdCBvZiB0aGUgc3R5bGVzIHRoZSBidXR0b24gaXMgYWJsZSB0byBoYW5kbGUuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uQmFja2dyb3VuZENvbG9yXG5cdFx0ICogQHByb3BlcnR5IHtBcnJheX0gc3R5bGVzXG5cdFx0ICovXG5cdFx0c3R5bGVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KSxcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSB0YWJJbmRleCBvZiB0aGUgYnV0dG9uIGluIGl0cyB0b29sYmFyIGN1cnJlbnQgc3RhdGUuIEEgdmFsdWUgb3RoZXIgdGhhbiAtMVxuXHRcdCAqIG1lYW5zIHRoYXQgdGhlIGJ1dHRvbiBoYXMgZm9jdXMgYW5kIGlzIHRoZSBhY3RpdmUgZWxlbWVudC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBCdXR0b25CYWNrZ3JvdW5kQ29sb3Jcblx0XHQgKiBAcHJvcGVydHkge051bWJlcn0gdGFiSW5kZXhcblx0XHQgKi9cblx0XHR0YWJJbmRleDogUHJvcFR5cGVzLm51bWJlcixcblxuXHRcdC8qKlxuXHRcdCAqIENhbGxiYWNrIHByb3ZpZGVkIGJ5IHRoZSBidXR0b24gaG9zdCB0byBub3RpZnkgd2hlbiB0aGUgc3R5bGVzIGxpc3QgaGFzIGJlZW4gZXhwYW5kZWQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uQmFja2dyb3VuZENvbG9yXG5cdFx0ICogQHByb3BlcnR5IHtGdW5jdGlvbn0gdG9nZ2xlRHJvcGRvd25cblx0XHQgKi9cblx0XHR0b2dnbGVEcm9wZG93bjogUHJvcFR5cGVzLmZ1bmMsXG5cdH07XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0bGV0IGFjdGl2ZUNvbG9yID0gQWxsb3lFZGl0b3IuU3RyaW5ncy5ub3JtYWw7XG5cblx0XHRsZXQgYWN0aXZlQ29sb3JDbGFzcyA9ICcnO1xuXG5cdFx0Y29uc3QgY29sb3JzID0gdGhpcy5fZ2V0Q29sb3JzKCk7XG5cblx0XHRjb25zdCBpdGVtU3R5bGUgPSB7XG5cdFx0XHRlbGVtZW50OiAnc3BhbicsXG5cdFx0XHRhdHRyaWJ1dGVzOiB7XG5cdFx0XHRcdGNsYXNzOiAnJyxcblx0XHRcdH0sXG5cdFx0fTtcblxuXHRcdGNvbG9ycy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0aXRlbVN0eWxlLmF0dHJpYnV0ZXMuY2xhc3MgPSBpdGVtLnN0eWxlQ2xhc3M7XG5cblx0XHRcdGlmICh0aGlzLl9jaGVja0FjdGl2ZShpdGVtU3R5bGUpKSB7XG5cdFx0XHRcdGFjdGl2ZUNvbG9yID0gaXRlbS5uYW1lO1xuXG5cdFx0XHRcdGFjdGl2ZUNvbG9yQ2xhc3MgPSBpdGVtLnN0eWxlLmF0dHJpYnV0ZXMuY2xhc3M7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjb25zdCB7ZXhwYW5kZWQsIHRhYkluZGV4LCB0b2dnbGVEcm9wZG93bn0gPSB0aGlzLnByb3BzO1xuXG5cdFx0Y29uc3QgYnV0dG9uU3R5bGVzUHJvcHMgPSB7XG5cdFx0XHRhY3RpdmVTdHlsZTogYWN0aXZlQ29sb3IsXG5cdFx0XHRvbkRpc21pc3M6IHRvZ2dsZURyb3Bkb3duLFxuXHRcdFx0c2hvd1JlbW92ZVN0eWxlc0l0ZW06IGZhbHNlLFxuXHRcdFx0c3R5bGVzOiBjb2xvcnMsXG5cdFx0fTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lciBhZS1oYXMtZHJvcGRvd25cIj5cblx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdGFyaWEtZXhwYW5kZWQ9e2V4cGFuZGVkfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLXRvb2xiYXItZWxlbWVudFwiXG5cdFx0XHRcdFx0b25DbGljaz17dG9nZ2xlRHJvcGRvd259XG5cdFx0XHRcdFx0cm9sZT1cImNvbWJvYm94XCJcblx0XHRcdFx0XHR0YWJJbmRleD17dGFiSW5kZXh9PlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT17YWN0aXZlQ29sb3JDbGFzc30+XG5cdFx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJ0ZXh0Ym94XCIgLz5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHR7ZXhwYW5kZWQgJiYgPEJ1dHRvblN0eWxlc0xpc3Qgey4uLmJ1dHRvblN0eWxlc1Byb3BzfSAvPn1cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHRfYXBwbHlTdHlsZShjbGFzc05hbWUpIHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRjb25zdCBzdHlsZUNvbmZpZyA9IHtcblx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0Y2xhc3M6IGNsYXNzTmFtZSxcblx0XHRcdH0sXG5cdFx0fTtcblxuXHRcdGVkaXRvci5nZXRTZWxlY3Rpb24oKS5sb2NrKCk7XG5cblx0XHR0aGlzLl9nZXRDb2xvcnMoKS5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0c3R5bGVDb25maWcuYXR0cmlidXRlcy5jbGFzcyA9IGl0ZW0uc3R5bGVDbGFzcztcblxuXHRcdFx0aWYgKHRoaXMuX2NoZWNrQWN0aXZlKHN0eWxlQ29uZmlnKSkge1xuXHRcdFx0XHRlZGl0b3IucmVtb3ZlU3R5bGUobmV3IENLRURJVE9SLnN0eWxlKHN0eWxlQ29uZmlnKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRzdHlsZUNvbmZpZy5hdHRyaWJ1dGVzLmNsYXNzID0gY2xhc3NOYW1lO1xuXG5cdFx0Y29uc3Qgc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoc3R5bGVDb25maWcpO1xuXG5cdFx0ZWRpdG9yLmFwcGx5U3R5bGUoc3R5bGUpO1xuXG5cdFx0ZWRpdG9yLmdldFNlbGVjdGlvbigpLnVubG9jaygpO1xuXG5cdFx0ZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gY29sb3IgZGVmaW5pdGlvbiBpcyBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkJhY2tncm91bmRDb2xvclxuXHQgKiBAbWV0aG9kIF9jaGVja0FjdGl2ZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVDb25maWcgY29sb3IgZGVmaW5pdGlvbiBhcyBwZXIgaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2FwaS9DS0VESVRPUi5zdHlsZS5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbG9yIGlzIGFwcGxpZWQgdG8gdGhlIHNlbGVjdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQgKi9cblx0X2NoZWNrQWN0aXZlKHN0eWxlQ29uZmlnKSB7XG5cdFx0Y29uc3QgbmF0aXZlRWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0Ly8gU3R5bGVzIHdpdGggd2lsZGNhcmQgZWxlbWVudCAoKikgd29uJ3QgYmUgY29uc2lkZXJlZCBhY3RpdmUgYnkgQ0tFZGl0b3IuIERlZmF1bHRpbmdcblx0XHQvLyB0byBhICdzcGFuJyBlbGVtZW50IHdvcmtzIGZvciBtb3N0IG9mIHRob3NlIGNhc2VzIHdpdGggbm8gZGVmaW5lZCBlbGVtZW50LlxuXHRcdHN0eWxlQ29uZmlnID0gQ0tFRElUT1IudG9vbHMubWVyZ2Uoe2VsZW1lbnQ6ICdzcGFuJ30sIHN0eWxlQ29uZmlnKTtcblxuXHRcdGNvbnN0IHN0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKHN0eWxlQ29uZmlnKTtcblxuXHRcdHJldHVybiBzdHlsZS5jaGVja0FjdGl2ZShuYXRpdmVFZGl0b3IuZWxlbWVudFBhdGgoKSwgbmF0aXZlRWRpdG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNvbG9ycy4gRWFjaCBjb2xvciBjb25zaXN0cyBvZiB0d28gcHJvcGVydGllczpcblx0ICogLSBuYW1lIC0gdGhlIHN0eWxlIG5hbWUsIGZvciBleGFtcGxlIFwiZGVmYXVsdFwiXG5cdCAqIC0gc3R5bGUgLSBhbiBvYmplY3Qgd2l0aCBvbmUgcHJvcGVydHksIGNhbGxlZCBgZWxlbWVudGAgd2hpY2ggdmFsdWVcblx0ICogcmVwcmVzZW50cyB0aGUgc3R5bGUgd2hpY2ggaGF2ZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkJhY2tncm91bmRDb2xvclxuXHQgKiBAbWV0aG9kIF9nZXRDb2xvclxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0FycmF5PG9iamVjdD59IEFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyB0aGUgY29sb3JzLlxuXHQgKi9cblx0X2dldENvbG9ycygpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0dGhpcy5wcm9wcy5zdHlsZXMgfHwgW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5ub3JtYWwsXG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICd0ZXh0LWJvZHknLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlQ2xhc3M6ICcnLFxuXHRcdFx0XHRcdHN0eWxlRm46IHRoaXMuX2FwcGx5U3R5bGUuYmluZCh0aGlzLCAnJyksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLnByaW1hcnksXG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICd0ZXh0LXByaW1hcnknLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlQ2xhc3M6ICdiZy1wcmltYXJ5Jyxcblx0XHRcdFx0XHRzdHlsZUZuOiB0aGlzLl9hcHBseVN0eWxlLmJpbmQodGhpcywgJ2JnLXByaW1hcnknKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MuZGlzYWJsZWQsXG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICd0ZXh0LXNlY29uZGFyeScsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVDbGFzczogJ2JnLXNlY29uZGFyeScsXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICdiZy1zZWNvbmRhcnknKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3Muc3VjY2Vzcyxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3NwYW4nLFxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0XHRjbGFzczogJ3RleHQtc3VjY2VzcycsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVDbGFzczogJ2JnLXN1Y2Nlc3MnLFxuXHRcdFx0XHRcdHN0eWxlRm46IHRoaXMuX2FwcGx5U3R5bGUuYmluZCh0aGlzLCAnYmctc3VjY2VzcycpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5kYW5nZXIsXG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICd0ZXh0LWRhbmdlcicsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVDbGFzczogJ2JnLWRhbmdlcicsXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICdiZy1kYW5nZXInKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3Mud2FybmluZyxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3NwYW4nLFxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0XHRjbGFzczogJ3RleHQtd2FybmluZycsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVDbGFzczogJ2JnLXdhcm5pbmcnLFxuXHRcdFx0XHRcdHN0eWxlRm46IHRoaXMuX2FwcGx5U3R5bGUuYmluZCh0aGlzLCAnYmctd2FybmluZycpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5pbmZvLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnc3BhbicsXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzOiAndGV4dC1pbmZvJyxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZUNsYXNzOiAnYmctaW5mbycsXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICdiZy1pbmZvJyksXG5cdFx0XHRcdH0sXG5cdFx0XHRdXG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25CYWNrZ3JvdW5kQ29sb3I7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvbktleXN0cm9rZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1rZXlzdHJva2UnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZSc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkJvbGQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3Igc3R5bGluZyBhbiBzZWxlY3Rpb24gd2l0aCBzdHJvbmcgKGJvbGQpIHN0eWxlLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Cb2xkXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25LZXlzdHJva2VcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uQm9sZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Cb2xkXG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0Y29tbWFuZDogJ2JvbGQnLFxuXHRcdGtleXN0cm9rZToge1xuXHRcdFx0Zm46ICdleGVjQ29tbWFuZCcsXG5cdFx0XHRrZXlzOiBDS0VESVRPUi5DVFJMICsgNjYgLyogQiovLFxuXHRcdFx0bmFtZTogJ2JvbGQnLFxuXHRcdH0sXG5cdFx0c3R5bGU6ICdjb3JlU3R5bGVzX2JvbGQnLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgYm9sZFxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQm9sZFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnYm9sZCc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Cb2xkXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAgJHt0aGlzLmdldFN0YXRlQ2xhc3NlcygpfWA7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmJvbGR9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLWJvbGRcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYm9sZH0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImJvbGRcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuXHRCdXR0b25LZXlzdHJva2UoQnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvblN0eWxlKEJ1dHRvbkJvbGQpKSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25DYW1lcmFJbWFnZSBjbGFzcyB0YWtlcyBwaG90byBmcm9tIGNhbWVyYSBhbmQgaW5zZXJ0cyBpdCB0byB0aGUgY29udGVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQ2FtZXJhSW1hZ2VcbiAqL1xuY2xhc3MgQnV0dG9uQ2FtZXJhSW1hZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgY29udGV4dFR5cGUgPSBFZGl0b3JDb250ZXh0O1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFJbWFnZVxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHR2aWRlb1dpZHRoOiAzMjAsXG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCBjYW1lcmFJbWFnZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ2FtZXJhSW1hZ2Vcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ2NhbWVyYUltYWdlJztcblxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLl9idXR0b25UYWtlUGhvdG9SZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcblx0XHR0aGlzLl9jYW52YXNDb250YWluZXJSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcblx0XHR0aGlzLl92aWRlb0NvbnRhaW5lclJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQsIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdCAqXG5cdCAqIEZvY3VzZXMgdGhlIHRha2UgcGhvdG8gYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcblx0ICovXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMuX2J1dHRvblRha2VQaG90b1JlZi5jdXJyZW50LmZvY3VzKCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGJlZm9yZSBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgZnJvbSB0aGUgRE9NLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG5cdCAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcblx0ICovXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHRcdGlmICh0aGlzLl9zdHJlYW0pIHtcblx0XHRcdGlmICh0aGlzLl9zdHJlYW0uc3RvcCkge1xuXHRcdFx0XHR0aGlzLl9zdHJlYW0uc3RvcCgpO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLl9zdHJlYW0uZ2V0VmlkZW9UcmFja3MpIHtcblx0XHRcdFx0dGhpcy5fc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XG5cdFx0XHRcdFx0dHJhY2suc3RvcCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3N0cmVhbSA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFJbWFnZVxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBnZXRVc2VyTWVkaWEgPVxuXHRcdFx0bmF2aWdhdG9yLmdldFVzZXJNZWRpYSB8fFxuXHRcdFx0bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSB8fFxuXHRcdFx0bmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSB8fFxuXHRcdFx0bmF2aWdhdG9yLm1zR2V0VXNlck1lZGlhO1xuXG5cdFx0Z2V0VXNlck1lZGlhLmNhbGwoXG5cdFx0XHRuYXZpZ2F0b3IsXG5cdFx0XHR7XG5cdFx0XHRcdHZpZGVvOiB0cnVlLFxuXHRcdFx0XHRhdWRpbzogZmFsc2UsXG5cdFx0XHR9LFxuXHRcdFx0dGhpcy5faGFuZGxlU3RyZWFtU3VjY2Vzcyxcblx0XHRcdHRoaXMuX2hhbmRsZVN0cmVhbUVycm9yXG5cdFx0KTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLWNhbWVyYVwiPlxuXHRcdFx0XHQ8dmlkZW8gcmVmPXt0aGlzLl92aWRlb0NvbnRhaW5lclJlZn0+XG5cdFx0XHRcdFx0VmlkZW8gc3RyZWFtIG5vdCBhdmFpbGFibGUuXG5cdFx0XHRcdDwvdmlkZW8+XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1jYW1lcmEtc2hvb3RcIlxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMudGFrZVBob3RvfVxuXHRcdFx0XHRcdHJlZj17dGhpcy5fYnV0dG9uVGFrZVBob3RvUmVmfT5cblx0XHRcdFx0XHRUYWtlIHBob3RvXG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8Y2FudmFzXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtY2FtZXJhLWNhbnZhc1wiXG5cdFx0XHRcdFx0cmVmPXt0aGlzLl9jYW52YXNDb250YWluZXJSZWZ9XG5cdFx0XHRcdC8+XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRha2VzIHBob3RvIGZyb20gdGhlIHZpZGVvIHN0cmVhbSBhbmQgaW5zZXJ0cyBpbiBpbnRvIGVkaXRvcidzIGNvbnRlbnQuXG5cdCAqXG5cdCAqIEBmaXJlcyBCdXR0b25DYW1lcmFJbWFnZSNpbWFnZUNhbWVyYUFkZFxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG5cdCAqIEBtZXRob2QgdGFrZVBob3RvXG5cdCAqL1xuXHR0YWtlUGhvdG8gPSAoKSA9PiB7XG5cdFx0Y29uc3QgdmlkZW9FbCA9IHRoaXMuX3ZpZGVvQ29udGFpbmVyUmVmLmN1cnJlbnQ7XG5cdFx0Y29uc3QgY2FudmFzRWwgPSB0aGlzLl9jYW52YXNDb250YWluZXJSZWYuY3VycmVudDtcblxuXHRcdGNvbnN0IGNvbnRleHQgPSBjYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpO1xuXG5cdFx0Y29uc3QgaGVpZ2h0ID0gdGhpcy5fdmlkZW9IZWlnaHQ7XG5cdFx0Y29uc3Qgd2lkdGggPSB0aGlzLnByb3BzLnZpZGVvV2lkdGg7XG5cblx0XHRpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG5cdFx0XHRjYW52YXNFbC53aWR0aCA9IHdpZHRoO1xuXHRcdFx0Y2FudmFzRWwuaGVpZ2h0ID0gaGVpZ2h0O1xuXG5cdFx0XHRjb250ZXh0LmRyYXdJbWFnZSh2aWRlb0VsLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuXHRcdFx0Y29uc3QgaW1nVVJMID0gY2FudmFzRWwudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcblxuXHRcdFx0Y29uc3QgZWwgPSBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcblx0XHRcdFx0JzxpbWcgc3JjPVwiJyArIGltZ1VSTCArICdcIj4nXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdGVkaXRvci5pbnNlcnRFbGVtZW50KGVsKTtcblxuXHRcdFx0dGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcblxuXHRcdFx0ZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXG5cdFx0XHRlZGl0b3IuZmlyZSgnaW1hZ2VDYW1lcmFBZGQnLCBlbCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEaXNwbGF5cyBlcnJvciBtZXNzYWdlIGluIGNhc2Ugb2YgdmlkZW8gc3RyZWFtIGNhcHR1cmluZyBmYWlsdXJlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG5cdCAqIEBtZXRob2QgX2hhbmRsZVN0cmVhbUVycm9yXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGVycm9yIFRoZSBmaXJlZCBldmVudCBpbiBjYXNlIG9mIGVycm9yLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfaGFuZGxlU3RyZWFtRXJyb3IgPSBlcnJvciA9PiB7XG5cdFx0d2luZG93LmFsZXJ0KCdBbiBlcnJvciBvY2N1cnJlZCEgJyArIGVycm9yKTtcblx0fTtcblxuXHQvKipcblx0ICogU3RhcnRzIHN0cmVhbWluZyB2aWRlbyBpbiB0aGUgdmlkZW8gZWxlbWVudCBhbmQgc2V0cyB3aWR0aC9oZWlnaHQgdG8gdGhlIHZpZGVvXG5cdCAqIGFuZCBjYW52YXMgZWxlbWVudHMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ2FtZXJhSW1hZ2Vcblx0ICogQG1ldGhvZCBfaGFuZGxlU3RyZWFtU3VjY2Vzc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gc3RyZWFtIFRoZSB2aWRlbyBzdHJlYW1cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2hhbmRsZVN0cmVhbVN1Y2Nlc3MgPSBzdHJlYW0gPT4ge1xuXHRcdGNvbnN0IHZpZGVvRWwgPSB0aGlzLl92aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50O1xuXHRcdGNvbnN0IGNhbnZhc0VsID0gdGhpcy5fY2FudmFzQ29udGFpbmVyUmVmLmN1cnJlbnQ7XG5cblx0XHR2aWRlb0VsLmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0XHQnY2FucGxheScsXG5cdFx0XHQoKSA9PiB7XG5cdFx0XHRcdGxldCBoZWlnaHQgPVxuXHRcdFx0XHRcdHZpZGVvRWwudmlkZW9IZWlnaHQgL1xuXHRcdFx0XHRcdCh2aWRlb0VsLnZpZGVvV2lkdGggLyB0aGlzLnByb3BzLnZpZGVvV2lkdGgpO1xuXG5cdFx0XHRcdGlmIChpc05hTihoZWlnaHQpKSB7XG5cdFx0XHRcdFx0aGVpZ2h0ID0gdGhpcy5wcm9wcy52aWRlb1dpZHRoIC8gKDQgLyAzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZpZGVvRWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMucHJvcHMudmlkZW9XaWR0aCk7XG5cdFx0XHRcdHZpZGVvRWwuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQpO1xuXHRcdFx0XHRjYW52YXNFbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5wcm9wcy52aWRlb1dpZHRoKTtcblx0XHRcdFx0Y2FudmFzRWwuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQpO1xuXG5cdFx0XHRcdHRoaXMuX3ZpZGVvSGVpZ2h0ID0gaGVpZ2h0O1xuXHRcdFx0fSxcblx0XHRcdGZhbHNlXG5cdFx0KTtcblxuXHRcdHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcblxuXHRcdGlmIChuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKSB7XG5cdFx0XHR2aWRlb0VsLm1velNyY09iamVjdCA9IHN0cmVhbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmlkZW9FbC5zcmNPYmplY3QgPSBzdHJlYW07XG5cdFx0fVxuXG5cdFx0dmlkZW9FbC5wbGF5KCk7XG5cblx0XHR0aGlzLl9idXR0b25UYWtlUGhvdG9SZWYuY3VycmVudC5kaXNhYmxlZCA9IGZhbHNlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBGaXJlZCB3aGVuIGFuIGltYWdlIGlzIGJlaW5nIHRha2VuIGZyb20gdGhlIGNhbWVyYSBhbmQgYWRkZWQgYXMgYW4gZWxlbWVudCB0byB0aGUgZWRpdG9yLlxuXHQgKlxuXHQgKiBAZXZlbnQgQnV0dG9uQ2FtZXJhSW1hZ2UjaW1hZ2VDYW1lcmFBZGRcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG5cdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGVsIFRoZSBjcmVhdGVkIGltZyBlbGVtZW50IGluIGVkaXRvci5cblx0ICovXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNhbWVyYUltYWdlO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ2FtZXJhSW1hZ2UgZnJvbSAnLi9idXR0b24tY2FtZXJhLWltYWdlLmpzeCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkNhbWVyYSBjbGFzcyByZW5kZXJzIGluIHR3byBkaWZmZXJlbnQgd2F5czpcbiAqXG4gKiAtIE5vcm1hbDogSnVzdCBhIGJ1dHRvbiB0aGF0IGFsbG93cyB0byBzd2l0Y2ggdG8gdGhlIGVkaXRpb24gbW9kZS5cbiAqIC0gRXhjbHVzaXZlOiBSZW5kZXJzIEJ1dHRvbkNhbWVyYUltYWdlIGluIG9yZGVyIHRvIHRha2UgcGhvdG8gZnJvbSB0aGUgY2FtZXJhLlxuICpcbiAqIEBjbGFzcyBCdXR0b25DYW1lcmFcbiAqL1xuY2xhc3MgQnV0dG9uQ2FtZXJhIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCBjYW1lcmFcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYVxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnY2FtZXJhJztcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYVxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcblx0XHRcdHJldHVybiA8QnV0dG9uQ2FtZXJhSW1hZ2Ugey4uLnRoaXMucHJvcHN9IC8+O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBkaXNhYmxlZCA9ICEoXG5cdFx0XHRcdG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgfHxcblx0XHRcdFx0KG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgJiZcblx0XHRcdFx0XHRsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzJykgfHxcblx0XHRcdFx0bmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSB8fFxuXHRcdFx0XHRuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWFcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IGxhYmVsID0gZGlzYWJsZWRcblx0XHRcdFx0PyBBbGxveUVkaXRvci5TdHJpbmdzLmNhbWVyYURpc2FibGVkXG5cdFx0XHRcdDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jYW1lcmE7XG5cblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtsYWJlbH1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b25cIlxuXHRcdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1pbWFnZS1jYW1lcmFcIlxuXHRcdFx0XHRcdGRpc2FibGVkPXtkaXNhYmxlZH1cblx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLnByb3BzLnJlcXVlc3RFeGNsdXNpdmUuYmluZChCdXR0b25DYW1lcmEua2V5KX1cblx0XHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0XHR0aXRsZT17bGFiZWx9PlxuXHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImNhbWVyYVwiIC8+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0KTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ2FtZXJhO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQWN0aW9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tYWN0aW9uLXN0eWxlJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25Db2RlIGNsYXNzIHByb3ZpZGVzIHdyYXBzIGEgc2VsZWN0aW9uIGluIGBwcmVgIGVsZW1lbnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkNvZGVcbiAqIEB1c2VzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbkNvZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29kZVxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdHN0eWxlOiB7XG5cdFx0XHRlbGVtZW50OiAncHJlJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgY29kZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29kZVxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnY29kZSc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Db2RlXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAke3RoaXMuZ2V0U3RhdGVDbGFzc2VzKCl9YDtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29kZX1cblx0XHRcdFx0YXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfVxuXHRcdFx0XHRjbGFzc05hbWU9e2Nzc0NsYXNzfVxuXHRcdFx0XHRkYXRhLXR5cGU9XCJidXR0b24tY29kZVwiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuYXBwbHlTdHlsZX1cblx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvZGV9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJjb2RlXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQWN0aW9uU3R5bGUoQnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvblN0eWxlKEJ1dHRvbkNvZGUpKSk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0IGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkNvbG9yIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNoYW5naW5nIHRleHQgY29sb3IgaW4gYSBkb2N1bWVudC5cbiAqXG4gKlxuICogQGNsYXNzIEJ1dHRvbkNvbG9yXG4gKi9cbmNsYXNzIEJ1dHRvbkNvbG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRzdGF0aWMga2V5ID0gJ2NvbG9yJztcblxuXHRzdGF0aWMgcHJvcFR5cGVzID0ge1xuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzdHlsZXMgbGlzdCBpcyBleHBhbmRlZCBvciBub3QuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29sb3Jcblx0XHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IGV4cGFuZGVkXG5cdFx0ICovXG5cdFx0ZXhwYW5kZWQ6IFByb3BUeXBlcy5ib29sLFxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGxhYmVsIHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29sb3Jcblx0XHQgKiBAcHJvcGVydHkge1N0cmluZ30gbGFiZWxcblx0XHQgKi9cblx0XHRsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcblxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSByZW1vdmUgc3R5bGVzIGl0ZW0gc2hvdWxkIGFwcGVhciBpbiB0aGUgc3R5bGVzIGxpc3QuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29sb3Jcblx0XHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IHNob3dSZW1vdmVTdHlsZXNJdGVtXG5cdFx0ICovXG5cdFx0c2hvd1JlbW92ZVN0eWxlc0l0ZW06IFByb3BUeXBlcy5ib29sLFxuXG5cdFx0LyoqXG5cdFx0ICogTGlzdCBvZiB0aGUgc3R5bGVzIHRoZSBidXR0b24gaXMgYWJsZSB0byBoYW5kbGUuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29sb3Jcblx0XHQgKiBAcHJvcGVydHkge0FycmF5fSBzdHlsZXNcblx0XHQgKi9cblx0XHRzdHlsZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpLFxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHRhYkluZGV4IG9mIHRoZSBidXR0b24gaW4gaXRzIHRvb2xiYXIgY3VycmVudCBzdGF0ZS4gQSB2YWx1ZSBvdGhlciB0aGFuIC0xXG5cdFx0ICogbWVhbnMgdGhhdCB0aGUgYnV0dG9uIGhhcyBmb2N1cyBhbmQgaXMgdGhlIGFjdGl2ZSBlbGVtZW50LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvbkNvbG9yXG5cdFx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IHRhYkluZGV4XG5cdFx0ICovXG5cdFx0dGFiSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG5cblx0XHQvKipcblx0XHQgKiBDYWxsYmFjayBwcm92aWRlZCBieSB0aGUgYnV0dG9uIGhvc3QgdG8gbm90aWZ5IHdoZW4gdGhlIHN0eWxlcyBsaXN0IGhhcyBiZWVuIGV4cGFuZGVkLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvbkNvbG9yXG5cdFx0ICogQHByb3BlcnR5IHtGdW5jdGlvbn0gdG9nZ2xlRHJvcGRvd25cblx0XHQgKi9cblx0XHR0b2dnbGVEcm9wZG93bjogUHJvcFR5cGVzLmZ1bmMsXG5cdH07XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0bGV0IGFjdGl2ZUNvbG9yID0gQWxsb3lFZGl0b3IuU3RyaW5ncy5ub3JtYWw7XG5cblx0XHRjb25zdCBjb2xvcnMgPSB0aGlzLl9nZXRDb2xvcnMoKTtcblxuXHRcdGNvbG9ycy5zb21lKGl0ZW0gPT4ge1xuXHRcdFx0aWYgKHRoaXMuX2NoZWNrQWN0aXZlKGl0ZW0uc3R5bGUpKSB7XG5cdFx0XHRcdGFjdGl2ZUNvbG9yID0gaXRlbS5uYW1lO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y29uc3Qge2V4cGFuZGVkLCB0YWJJbmRleCwgdG9nZ2xlRHJvcGRvd259ID0gdGhpcy5wcm9wcztcblxuXHRcdGNvbnN0IGJ1dHRvblN0eWxlc1Byb3BzID0ge1xuXHRcdFx0YWN0aXZlU3R5bGU6IGFjdGl2ZUNvbG9yLFxuXHRcdFx0b25EaXNtaXNzOiB0b2dnbGVEcm9wZG93bixcblx0XHRcdHNob3dSZW1vdmVTdHlsZXNJdGVtOiBmYWxzZSxcblx0XHRcdHN0eWxlczogY29sb3JzLFxuXHRcdH07XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXIgYWUtaGFzLWRyb3Bkb3duXCI+XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWV4cGFuZGVkPXtleHBhbmRlZH1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS10b29sYmFyLWVsZW1lbnRcIlxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RvZ2dsZURyb3Bkb3dufVxuXHRcdFx0XHRcdHJvbGU9XCJjb21ib2JveFwiXG5cdFx0XHRcdFx0dGFiSW5kZXg9e3RhYkluZGV4fT5cblx0XHRcdFx0XHQ8c3Bhbj5cblx0XHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImNvbG9yLXBpY2tlclwiIC8+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0e2V4cGFuZGVkICYmIDxCdXR0b25TdHlsZXNMaXN0IHsuLi5idXR0b25TdHlsZXNQcm9wc30gLz59XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0X2FwcGx5U3R5bGUoY2xhc3NOYW1lKSB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0Y29uc3Qgc3R5bGVDb25maWcgPSB7XG5cdFx0XHRlbGVtZW50OiAnc3BhbicsXG5cdFx0XHRhdHRyaWJ1dGVzOiB7XG5cdFx0XHRcdGNsYXNzOiBjbGFzc05hbWUsXG5cdFx0XHR9LFxuXHRcdH07XG5cblx0XHRjb25zdCBzdHlsZSA9IG5ldyBDS0VESVRPUi5zdHlsZShzdHlsZUNvbmZpZyk7XG5cblx0XHRlZGl0b3IuZ2V0U2VsZWN0aW9uKCkubG9jaygpO1xuXG5cdFx0dGhpcy5fZ2V0Q29sb3JzKCkuZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdGlmICh0aGlzLl9jaGVja0FjdGl2ZShpdGVtLnN0eWxlKSkge1xuXHRcdFx0XHRlZGl0b3IucmVtb3ZlU3R5bGUobmV3IENLRURJVE9SLnN0eWxlKGl0ZW0uc3R5bGUpKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGVkaXRvci5hcHBseVN0eWxlKHN0eWxlKTtcblxuXHRcdGVkaXRvci5nZXRTZWxlY3Rpb24oKS51bmxvY2soKTtcblxuXHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGNvbG9yIGRlZmluaXRpb24gaXMgYXBwbGllZCB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24gaW4gdGhlIGVkaXRvci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Db2xvclxuXHQgKiBAbWV0aG9kIF9jaGVja0FjdGl2ZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVDb25maWcgQ29sb3IgZGVmaW5pdGlvbiBhcyBwZXIgaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2FwaS9DS0VESVRPUi5zdHlsZS5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbG9yIGlzIGFwcGxpZWQgdG8gdGhlIHNlbGVjdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQgKi9cblx0X2NoZWNrQWN0aXZlKHN0eWxlQ29uZmlnKSB7XG5cdFx0Y29uc3QgbmF0aXZlRWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0Ly8gU3R5bGVzIHdpdGggd2lsZGNhcmQgZWxlbWVudCAoKikgd29uJ3QgYmUgY29uc2lkZXJlZCBhY3RpdmUgYnkgQ0tFZGl0b3IuIERlZmF1bHRpbmdcblx0XHQvLyB0byBhICdzcGFuJyBlbGVtZW50IHdvcmtzIGZvciBtb3N0IG9mIHRob3NlIGNhc2VzIHdpdGggbm8gZGVmaW5lZCBlbGVtZW50LlxuXHRcdHN0eWxlQ29uZmlnID0gQ0tFRElUT1IudG9vbHMubWVyZ2Uoe2VsZW1lbnQ6ICdzcGFuJ30sIHN0eWxlQ29uZmlnKTtcblxuXHRcdGNvbnN0IHN0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKHN0eWxlQ29uZmlnKTtcblxuXHRcdHJldHVybiBzdHlsZS5jaGVja0FjdGl2ZShuYXRpdmVFZGl0b3IuZWxlbWVudFBhdGgoKSwgbmF0aXZlRWRpdG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNvbG9ycy4gRWFjaCBjb2xvciBjb25zaXN0cyBvZiB0d28gcHJvcGVydGllczpcblx0ICogLSBuYW1lIC0gVGhlIHN0eWxlIG5hbWUsIGZvciBleGFtcGxlIFwiZGVmYXVsdFwiLlxuXHQgKiAtIHN0eWxlIC0gQW4gb2JqZWN0IHdpdGggb25lIHByb3BlcnR5LCBjYWxsZWQgYGVsZW1lbnRgIHdoaWNoIHZhbHVlXG5cdCAqICAgICAgICAgIHJlcHJlc2VudHMgdGhlIHN0eWxlIHdoaWNoIGhhdmUgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cblx0ICogLSBzdHlsZUZuIC0gVGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW52b2tlZCB0byBhcHBseSB0aGUgc3R5bGUgdG8gdGhlIGVsZW1lbnQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29sb3Jcblx0ICogQG1ldGhvZCBfZ2V0Q29sb3Jcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtBcnJheTxvYmplY3Q+fSBBbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIGNvbG9ycy5cblx0ICovXG5cdF9nZXRDb2xvcnMoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMucHJvcHMuc3R5bGVzIHx8IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MucHJpbWFyeSxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3NwYW4nLFxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0XHRjbGFzczogJ3RleHQtcHJpbWFyeScsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICd0ZXh0LXByaW1hcnknKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3Muc3VjY2Vzcyxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3NwYW4nLFxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0XHRjbGFzczogJ3RleHQtc3VjY2VzcycsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICd0ZXh0LXN1Y2Nlc3MnKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MuZGFuZ2VyLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnc3BhbicsXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzOiAndGV4dC1kYW5nZXInLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlRm46IHRoaXMuX2FwcGx5U3R5bGUuYmluZCh0aGlzLCAndGV4dC1kYW5nZXInKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3Mud2FybmluZyxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3NwYW4nLFxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0XHRjbGFzczogJ3RleHQtd2FybmluZycsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICd0ZXh0LXdhcm5pbmcnKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MuaW5mbyxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3NwYW4nLFxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0XHRjbGFzczogJ3RleHQtaW5mbycsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICd0ZXh0LWluZm8nKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MuZGFyayxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3NwYW4nLFxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0XHRjbGFzczogJ3RleHQtZGFyaycsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICd0ZXh0LWRhcmsnKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MuZGFya0dyYXksXG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICd0ZXh0LWdyYXktZGFyaycsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICd0ZXh0LWdyYXktZGFyaycpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5zZWNvbmRhcnksXG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICd0ZXh0LXNlY29uZGFyeScsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICd0ZXh0LXNlY29uZGFyeScpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5saWdodCxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3NwYW4nLFxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0XHRjbGFzczogJ3RleHQtZGFyaycsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVGbjogdGhpcy5fYXBwbHlTdHlsZS5iaW5kKHRoaXMsICd0ZXh0LWxpZ2h0JyksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLmxpZ2h0ZXIsXG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICd0ZXh0LWRhcmsnLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlRm46IHRoaXMuX2FwcGx5U3R5bGUuYmluZCh0aGlzLCAndGV4dC1saWdodGVyJyksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLndoaXRlLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnc3BhbicsXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzOiAndGV4dC1kYXJrJyxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZUZuOiB0aGlzLl9hcHBseVN0eWxlLmJpbmQodGhpcywgJ3RleHQtd2hpdGUnKSxcblx0XHRcdFx0fSxcblx0XHRcdF1cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbG9yO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kJztcblxuLyoqXG4gKiBUaGUgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGNsYXNzIGlzIGEgVUkgY2xhc3MgdGhhdCByZW5kZXJzIGEgQnV0dG9uQ29tbWFuZCB0aGF0IGNhbiBiZSB1c2VkIGluc2lkZVxuICogYSBsaXN0IGFzIGFuIGl0ZW0sIHdpdGggYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaXRzIGJlaGF2aW91ci5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQ29tbWFuZExpc3RJdGVtXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKi9cbmNsYXNzIEJ1dHRvbkNvbW1hbmRMaXN0SXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgYnV0dG9uQ29tbWFuZExpc3RJdGVtXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kTGlzdEl0ZW1cblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ2J1dHRvbkNvbW1hbmRMaXN0SXRlbSc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kTGlzdEl0ZW1cblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17dGhpcy5wcm9wcy5kZXNjcmlwdGlvbn1cblx0XHRcdFx0Y2xhc3NOYW1lPXt0aGlzLl9nZXRDbGFzc05hbWUoKX1cblx0XHRcdFx0b25DbGljaz17dGhpcy5leGVjQ29tbWFuZH1cblx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9PlxuXHRcdFx0XHR7dGhpcy5wcm9wcy5kZXNjcmlwdGlvbn1cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgY2xhc3MgbmFtZSBvZiBXaWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZExpc3RJdGVtXG5cdCAqIEBtZXRob2QgX2dldENsYXNzTmFtZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGNsYXNzIG5hbWUgb2YgdGhlIFdpZGdldC5cblx0ICovXG5cdF9nZXRDbGFzc05hbWUoKSB7XG5cdFx0Y29uc3QgY2xhc3NOYW1lID0gJ2FlLWNvbnRhaW5lciBhZS10b29sYmFyLWVsZW1lbnQnO1xuXG5cdFx0cmV0dXJuIGNsYXNzTmFtZTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKEJ1dHRvbkNvbW1hbmRMaXN0SXRlbSk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBXaWRnZXRGb2N1c01hbmFnZXIgZnJvbSAnLi4vYmFzZS93aWRnZXQtZm9jdXMtbWFuYWdlcic7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGZyb20gJy4vYnV0dG9uLWNvbW1hbmQtbGlzdC1pdGVtLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkNvbW1hbmRzTGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzaG93aW5nIGEgbGlzdCBvZiBjb21tYW5kcyB0aGF0IGNhbiBiZVxuICogZXhlY3V0ZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQ29tbWFuZHNMaXN0XG4gKiBAdXNlcyBXaWRnZXRGb2N1c01hbmFnZXJcbiAqL1xuY2xhc3MgQnV0dG9uQ29tbWFuZHNMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRzTGlzdFxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNpcmN1bGFyOiBmYWxzZSxcblx0XHRkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuXHRcdGtleXM6IHtcblx0XHRcdGRpc21pc3M6IFsyN10sXG5cdFx0XHRkaXNtaXNzTmV4dDogWzM5XSxcblx0XHRcdGRpc21pc3NQcmV2OiBbMzddLFxuXHRcdFx0bmV4dDogWzQwXSxcblx0XHRcdHByZXY6IFszOF0sXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IGJ1dHRvbkNvbW1hbmRzTGlzdFxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZHNMaXN0XG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdidXR0b25Db21tYW5kc0xpc3QnO1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdHRoaXMuX3JlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQsIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdCAqXG5cdCAqIEZvY3VzZXMgb24gdGhlIGxpc3Qgbm9kZSB0byBhbGxvdyBrZXlib2FyZCBpbnRlcmFjdGlvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kc0xpc3Rcblx0ICogQG1ldGhvZCBjb21wb25lbnREaWRNb3VudFxuXHQgKi9cblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0dGhpcy5fcmVmLmN1cnJlbnQuZm9jdXMoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBsaXN0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRzTGlzdFxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdlxuXHRcdFx0XHRjbGFzc05hbWU9XCJhZS1hcnJvdy1ib3ggYWUtYXJyb3ctYm94LXRvcC1sZWZ0IGFlLWRyb3Bkb3duXCJcblx0XHRcdFx0b25Gb2N1cz17dGhpcy5mb2N1c31cblx0XHRcdFx0b25LZXlEb3duPXt0aGlzLmhhbmRsZUtleX1cblx0XHRcdFx0cmVmPXt0aGlzLl9yZWZ9XG5cdFx0XHRcdHRhYkluZGV4PVwiMFwiPlxuXHRcdFx0XHQ8dWxcblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1saXN0Ym94XCJcblx0XHRcdFx0XHRpZD17dGhpcy5wcm9wcy5saXN0SWR9XG5cdFx0XHRcdFx0cm9sZT1cImxpc3Rib3hcIj5cblx0XHRcdFx0XHR7dGhpcy5fcmVuZGVyQWN0aW9ucyh0aGlzLnByb3BzLmNvbW1hbmRzKX1cblx0XHRcdFx0PC91bD5cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmVuZGVycyBpbnN0YW5jZXMgb2YgQnV0dG9uQ29tbWFuZExpc3RJdGVtIHdpdGggdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSByb3cgYWN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kc0xpc3Rcblx0ICogQG1ldGhvZCBfcmVuZGVyQWN0aW9uc1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0FycmF5fSBSZW5kZXJlZCBpbnN0YW5jZXMgb2YgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGNsYXNzXG5cdCAqL1xuXHRfcmVuZGVyQWN0aW9ucyhjb21tYW5kcykge1xuXHRcdGxldCBpdGVtcztcblxuXHRcdGlmIChjb21tYW5kcyAmJiBjb21tYW5kcy5sZW5ndGgpIHtcblx0XHRcdGl0ZW1zID0gY29tbWFuZHMubWFwKGl0ZW0gPT4ge1xuXHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdDxsaSBrZXk9e2l0ZW0uY29tbWFuZH0gcm9sZT1cIm9wdGlvblwiPlxuXHRcdFx0XHRcdFx0PEJ1dHRvbkNvbW1hbmRMaXN0SXRlbVxuXHRcdFx0XHRcdFx0XHRjb21tYW5kPXtpdGVtLmNvbW1hbmR9XG5cdFx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uPXtcblx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgaXRlbS5sYWJlbCA9PT0gJ3N0cmluZydcblx0XHRcdFx0XHRcdFx0XHRcdD8gaXRlbS5sYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0OiBpdGVtLmxhYmVsKClcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpY29uPXtpdGVtLmljb259XG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaXRlbXM7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKEJ1dHRvbkNvbW1hbmRzTGlzdCk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBXaWRnZXRGb2N1c01hbmFnZXIgZnJvbSAnLi4vYmFzZS93aWRnZXQtZm9jdXMtbWFuYWdlcic7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkRyb3Bkb3duIGNsYXNzIHByb3ZpZGVzIG1hcmt1cCBhbmQga2V5Ym9hcmQgbmF2aWdhdGlvbiBiZWhhdmlvdXIgdG8gYSBkcm9wZG93blxuICogb3BlbmVkIGZyb20gYSBidXR0b24uXG4gKlxuICogQGNsYXNzIEJ1dHRvbkRyb3Bkb3duXG4gKi9cbmNsYXNzIEJ1dHRvbkRyb3Bkb3duIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkRyb3Bkb3duXG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNpcmN1bGFyOiBmYWxzZSxcblx0XHRkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuXHRcdGtleXM6IHtcblx0XHRcdGRpc21pc3M6IFsyN10sXG5cdFx0XHRkaXNtaXNzTmV4dDogWzM5XSxcblx0XHRcdGRpc21pc3NQcmV2OiBbMzddLFxuXHRcdFx0bmV4dDogWzQwXSxcblx0XHRcdHByZXY6IFszOF0sXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBkcm9wZG93biBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgZHJvcGRvd25cblx0ICogQG1lbWJlcm9mIEJ1dHRvbkRyb3Bkb3duXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdkcm9wZG93bic7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Ecm9wZG93blxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdlxuXHRcdFx0XHRjbGFzc05hbWU9XCJhZS1hcnJvdy1ib3ggYWUtYXJyb3ctYm94LXRvcC1sZWZ0IGFlLWRyb3Bkb3duXCJcblx0XHRcdFx0b25Gb2N1cz17dGhpcy5mb2N1c31cblx0XHRcdFx0b25LZXlEb3duPXt0aGlzLmhhbmRsZUtleX1cblx0XHRcdFx0dGFiSW5kZXg9XCIwXCI+XG5cdFx0XHRcdDx1bCBjbGFzc05hbWU9XCJhZS1saXN0Ym94XCIgcm9sZT1cImxpc3Rib3hcIj5cblx0XHRcdFx0XHR7dGhpcy5wcm9wcy5jaGlsZHJlbn1cblx0XHRcdFx0PC91bD5cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKEJ1dHRvbkRyb3Bkb3duKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbmNvbnN0IEtFWV9FTlRFUiA9IDEzO1xuY29uc3QgS0VZX0VTQyA9IDI3O1xuXG4vKipcbiAqIFRoZSBCdXR0b25FbWJlZEVkaXQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYW5kIGVkaXRpbmcgYW4gZW1iZWQgbGluayBpbiBhIGRvY3VtZW50LlxuICogUHJvdmlkZXMgVUkgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGFuIGVtYmVkIGxpbmsuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkVtYmVkRWRpdFxuICovXG5jbGFzcyBCdXR0b25FbWJlZEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgY29udGV4dFR5cGUgPSBFZGl0b3JDb250ZXh0O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgZW1iZWRFZGl0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ2VtYmVkRWRpdCc7XG5cblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cblx0XHR0aGlzLmxpbmtJbnB1dCA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuXHRcdHRoaXMuc3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQsIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdCAqXG5cdCAqIEZvY3VzZXMgb24gdGhlIGxpbmsgaW5wdXQgdG8gaW1tZWRpYXRlbHkgYWxsb3cgZWRpdGluZy4gVGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgdGhlIGNvbXBvbmVudFxuXHQgKiBpcyByZW5kZXJlZCBpbiBleGNsdXNpdmUgbW9kZSB0byBwcmV2ZW50IGFnZ3Jlc3NpdmUgZm9jdXMgc3RlYWxpbmcuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcblx0ICovXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSB8fCB0aGlzLnByb3BzLm1hbnVhbFNlbGVjdGlvbikge1xuXHRcdFx0Ly8gV2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCByZW5kZXJpbmcgY3ljbGUgYmVmb3JlIGZvY3VzaW5nIHRvIGF2b2lkIHVuZGVzaXJlZFxuXHRcdFx0Ly8gc2Nyb2xscyBvbiB0aGUgcGFnZVxuXHRcdFx0aWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcblx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9mb2N1c0xpbmtJbnB1dCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXRUaW1lb3V0KHRoaXMuX2ZvY3VzTGlua0lucHV0LCAwKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cblx0ICogVGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCBmb3IgdGhlIGluaXRpYWwgcmVuZGVyLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcblx0ICovXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh0aGlzLmdldEluaXRpYWxTdGF0ZSgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuXHQgKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyB0aGUgaW5pdGlhbCB2YWx1ZSBvZiB0aGlzLnN0YXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuXHQgKiBAbWV0aG9kIGdldEluaXRpYWxTdGF0ZVxuXHQgKi9cblx0Z2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdC8vIENhbid0IGFjY2VzcyBjb250ZXh0IGZyb20gY29uc3RydWN0b3IsIHNvIGdldCBlZGl0b3IgZnJvbSBwcm9wcy5cblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLnByb3BzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0bGV0IGVtYmVkO1xuXG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG5cdFx0aWYgKHNlbGVjdGlvbikge1xuXHRcdFx0Y29uc3Qgc2VsZWN0ZWRFbGVtZW50ID0gc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO1xuXG5cdFx0XHRpZiAoc2VsZWN0ZWRFbGVtZW50KSB7XG5cdFx0XHRcdGVtYmVkID0gc2VsZWN0ZWRFbGVtZW50LmZpbmRPbmUoJ1tkYXRhLXdpZGdldD1cImFlX2VtYmVkXCJdJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgaHJlZiA9IGVtYmVkID8gZW1iZWQuZ2V0QXR0cmlidXRlKCdkYXRhLWFlLWVtYmVkLXVybCcpIDogJyc7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZWxlbWVudDogZW1iZWQsXG5cdFx0XHRpbml0aWFsTGluazoge1xuXHRcdFx0XHRocmVmLFxuXHRcdFx0fSxcblx0XHRcdGxpbmtIcmVmOiBocmVmLFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBjbGVhckxpbmtTdHlsZSA9IHtcblx0XHRcdG9wYWNpdHk6IHRoaXMuc3RhdGUubGlua0hyZWYgPyAxIDogMCxcblx0XHR9O1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtbGlua1wiPlxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5kZWxldGVFbWJlZH1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b25cIlxuXHRcdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1lbWJlZC1yZW1vdmVcIlxuXHRcdFx0XHRcdGRpc2FibGVkPXshdGhpcy5zdGF0ZS5lbGVtZW50fVxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX3JlbW92ZUVtYmVkfVxuXHRcdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmRlbGV0ZUVtYmVkfT5cblx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBjbGFzc05hbWU9XCJhZS1pY29uLXN2Zy10cmFzaFwiIHN5bWJvbD1cInRyYXNoXCIgLz5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0IHh4bFwiPlxuXHRcdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtaW5wdXRcIlxuXHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuX2hhbmRsZUxpbmtIcmVmQ2hhbmdlfVxuXHRcdFx0XHRcdFx0b25LZXlEb3duPXt0aGlzLl9oYW5kbGVLZXlEb3dufVxuXHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9e0FsbG95RWRpdG9yLlN0cmluZ3MuZWRpdExpbmt9XG5cdFx0XHRcdFx0XHRyZWY9e3RoaXMubGlua0lucHV0fVxuXHRcdFx0XHRcdFx0dHlwZT1cInRleHRcIlxuXHRcdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUubGlua0hyZWZ9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFySW5wdXR9XG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b24gYWUtYnV0dG9uLWNsZWFyXCJcblx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX2NsZWFyTGlua31cblx0XHRcdFx0XHRcdHN0eWxlPXtjbGVhckxpbmtTdHlsZX1cblx0XHRcdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFyfT5cblx0XHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cInRpbWVzLWNsZWFyXCIgLz5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvbmZpcm19XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uXCJcblx0XHRcdFx0XHRkaXNhYmxlZD17IXRoaXMuX2lzVmFsaWRTdGF0ZSgpfVxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX2VtYmVkTGlua31cblx0XHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5jb25maXJtfT5cblx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBjbGFzc05hbWU9XCJhZS1pY29uLXN2Zy1jaGVja1wiIHN5bWJvbD1cImNoZWNrXCIgLz5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsZWFycyB0aGUgbGluayBpbnB1dC4gVGhpcyBvbmx5IGNoYW5nZXMgdGhlIGNvbXBvbmVudCBpbnRlcm5hbCBzdGF0ZSwgYnV0IGRvZXMgbm90XG5cdCAqIGFmZmVjdCB0aGUgbGluayBlbGVtZW50IG9mIHRoZSBlZGl0b3IuIE9ubHkgdGhlIF9yZW1vdmVMaW5rIGFuZCBfdXBkYXRlTGluayBtZXRob2RzXG5cdCAqIGFyZSB0cmFuc2xhdGVkIHRvIHRoZSBlZGl0b3IgZWxlbWVudC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcblx0ICogQG1ldGhvZCBfY2xlYXJMaW5rXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9jbGVhckxpbmsgPSAoKSA9PiB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRsaW5rSHJlZjogJycsXG5cdFx0fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRyaWdnZXJzIHRoZSBlbWJlZFVybCBjb21tYW5kIHRvIHRyYW5zZm9ybSB0aGUgbGluayBpbnRvIGFuIGVtYmVkIG1lZGlhIG9iamVjdFxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuXHQgKiBAbWV0aG9kIF9lbWJlZExpbmtcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2VtYmVkTGluayA9ICgpID0+IHtcblx0XHRjb25zdCBuYXRpdmVFZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRuYXRpdmVFZGl0b3IuZXhlY0NvbW1hbmQoJ2VtYmVkVXJsJywge1xuXHRcdFx0dXJsOiB0aGlzLnN0YXRlLmxpbmtIcmVmLFxuXHRcdH0pO1xuXG5cdFx0Ly8gV2UgbmVlZCB0byBjYW5jZWxFeGNsdXNpdmUgd2l0aCB0aGUgYm91bmQgcGFyYW1ldGVycyBpbiBjYXNlIHRoZSBidXR0b24gaXMgdXNlZFxuXHRcdC8vIGluc2lkZSBhbm90aGVyIGluIGV4Y2x1c2l2ZSBtb2RlIChzdWNoIGlzIHRoZSBjYXNlIG9mIHRoZSBsaW5rIGJ1dHRvbilcblx0XHR0aGlzLnByb3BzLmNhbmNlbEV4Y2x1c2l2ZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBGb2N1c2VzIHRoZSB1c2VyIGN1cnNvciBvbiB0aGUgd2lkZ2V0J3MgaW5wdXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG5cdCAqIEBtZXRob2QgX2ZvY3VzTGlua0lucHV0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9mb2N1c0xpbmtJbnB1dCA9ICgpID0+IHtcblx0XHR0aGlzLmxpbmtJbnB1dC5jdXJyZW50LmZvY3VzKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIE1vbml0b3JzIGtleSBpbnRlcmFjdGlvbiBpbnNpZGUgdGhlIGlucHV0IGVsZW1lbnQgdG8gcmVzcG9uZCB0byB0aGUga2V5czpcblx0ICogLSBFbnRlcjogQ3JlYXRlcy91cGRhdGVzIHRoZSBsaW5rLlxuXHQgKiAtIEVzY2FwZTogRGlzY2FyZHMgdGhlIGNoYW5nZXMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG5cdCAqIEBtZXRob2QgX2hhbmRsZUtleURvd25cblx0ICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgVGhlIGtleWJvYXJkIGV2ZW50LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfaGFuZGxlS2V5RG93biA9IGV2ZW50ID0+IHtcblx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VOVEVSIHx8IGV2ZW50LmtleUNvZGUgPT09IEtFWV9FU0MpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKGV2ZW50LmtleUNvZGUgPT09IEtFWV9FTlRFUikge1xuXHRcdFx0dGhpcy5fZW1iZWRMaW5rKCk7XG5cdFx0fSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRVNDKSB7XG5cdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdC8vIFdlIG5lZWQgdG8gY2FuY2VsRXhjbHVzaXZlIHdpdGggdGhlIGJvdW5kIHBhcmFtZXRlcnMgaW4gY2FzZSB0aGUgYnV0dG9uIGlzIHVzZWRcblx0XHRcdC8vIGluc2lkZSBhbm90aGVyIGluIGV4Y2x1c2l2ZSBtb2RlIChzdWNoIGlzIHRoZSBjYXNlIG9mIHRoZSBsaW5rIGJ1dHRvbilcblx0XHRcdHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG5cblx0XHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIGNvbXBvbmVudCBzdGF0ZSB3aGVuIHRoZSBsaW5rIGlucHV0IGNoYW5nZXMgb24gdXNlciBpbnRlcmFjdGlvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcblx0ICogQG1ldGhvZCBfaGFuZGxlTGlua0hyZWZDaGFuZ2Vcblx0ICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgVGhlIGNoYW5nZSBldmVudC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2hhbmRsZUxpbmtIcmVmQ2hhbmdlID0gZXZlbnQgPT4ge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0bGlua0hyZWY6IGV2ZW50LnRhcmdldC52YWx1ZSxcblx0XHR9KTtcblx0fTtcblxuXHQvKipcblx0ICogVmVyaWZpZXMgdGhhdCB0aGUgY3VycmVudCBsaW5rIHN0YXRlIGlzIHZhbGlkIHNvIHRoZSB1c2VyIGNhbiBzYXZlIHRoZSBsaW5rLiBBIHZhbGlkIHN0YXRlXG5cdCAqIG1lYW5zIHRoYXQgd2UgaGF2ZSBhIG5vbi1lbXB0eSBocmVmIHRoYXQncyBkaWZmZXJlbnQgZnJvbSB0aGUgb3JpZ2luYWwgb25lLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuXHQgKiBAbWV0aG9kIF9pc1ZhbGlkU3RhdGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBzdGF0ZSBpcyB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlXG5cdCAqL1xuXHRfaXNWYWxpZFN0YXRlKCkge1xuXHRcdGNvbnN0IHZhbGlkU3RhdGUgPVxuXHRcdFx0dGhpcy5zdGF0ZS5saW5rSHJlZiAmJlxuXHRcdFx0dGhpcy5zdGF0ZS5saW5rSHJlZiAhPT0gdGhpcy5zdGF0ZS5pbml0aWFsTGluay5ocmVmO1xuXG5cdFx0cmV0dXJuIHZhbGlkU3RhdGU7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyB0aGUgZW1iZWQgaW4gdGhlIGVkaXRvciBlbGVtZW50LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuXHQgKiBAbWV0aG9kIF9yZW1vdmVFbWJlZFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfcmVtb3ZlRW1iZWQgPSAoKSA9PiB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0Y29uc3QgZW1iZWRXcmFwcGVyID0gdGhpcy5zdGF0ZS5lbGVtZW50LmdldEFzY2VuZGFudChlbGVtZW50ID0+IHtcblx0XHRcdHJldHVybiBlbGVtZW50Lmhhc0NsYXNzKCdja2Vfd2lkZ2V0X3dyYXBwZXInKTtcblx0XHR9KTtcblxuXHRcdGVtYmVkV3JhcHBlci5yZW1vdmUoKTtcblxuXHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yQ29udGV4dC50b1Byb3BzKEJ1dHRvbkVtYmVkRWRpdCk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbmNvbnN0IEtFWV9FTlRFUiA9IDEzO1xuY29uc3QgS0VZX0VTQyA9IDI3O1xuXG4vKipcbiAqIFRoZSBCdXR0b25FbWJlZFZpZGVvRWRpdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjaGFuZ2luZyB0ZXh0IGNvbG9yIGluIGEgZG9jdW1lbnQuXG4gKlxuICogQHVzZXMgQnV0dG9uSWNvblxuICpcbiAqIEBjbGFzcyBCdXR0b25FbWJlZFZpZGVvRWRpdFxuICovXG5jbGFzcyBCdXR0b25FbWJlZFZpZGVvRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0c3RhdGljIGtleSA9ICdlbWJlZFZpZGVvRWRpdCc7XG5cblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cblx0XHR0aGlzLnN0YXRlID0gdGhpcy5nZXRJbml0aWFsU3RhdGUoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgb25seSBvbiB0aGUgY2xpZW50LCBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuXHQgKlxuXHQgKiBGb2N1c2VzIG9uIHRoZSBsaW5rIGlucHV0IHRvIGltbWVkaWF0ZWx5IGFsbG93IGVkaXRpbmcuIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHRoZSBjb21wb25lbnRcblx0ICogaXMgcmVuZGVyZWQgaW4gZXhjbHVzaXZlIG1vZGUgdG8gcHJldmVudCBhZ2dyZXNzaXZlIGZvY3VzIHN0ZWFsaW5nLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkVmlkZW9FZGl0XG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcblx0ICovXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSB8fCB0aGlzLnByb3BzLm1hbnVhbFNlbGVjdGlvbikge1xuXHRcdFx0Ly8gV2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCByZW5kZXJpbmcgY3ljbGUgYmVmb3JlIGZvY3VzaW5nIHRvIGF2b2lkIHVuZGVzaXJlZFxuXHRcdFx0Ly8gc2Nyb2xscyBvbiB0aGUgcGFnZVxuXHRcdFx0aWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcblx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9mb2N1c1ZpZGVvVXJsSW5wdXQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2V0VGltZW91dCh0aGlzLl9mb2N1c1ZpZGVvVXJsSW5wdXQsIDApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgd2hlbiBhIGNvbXBvbmVudCBpcyByZWNlaXZpbmcgbmV3IHByb3BzLlxuXHQgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRWaWRlb0VkaXRcblx0ICogQG1ldGhvZCBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXG5cdCAqL1xuXHRjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCkge1xuXHRcdGNvbnN0IG5ld1N0YXRlID0gdGhpcy5nZXRJbml0aWFsU3RhdGUoKTtcblxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0YWxsOiB1bmRlZmluZWQsXG5cdFx0XHRrZXlzOiB1bmRlZmluZWQsXG5cdFx0XHRuZXc6IG5ld1N0YXRlLFxuXHRcdFx0b2xkOiB1bmRlZmluZWQsXG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cblx0ICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgdGhlIGluaXRpYWwgdmFsdWUgb2YgdGhpcy5zdGF0ZS5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZFZpZGVvRWRpdFxuXHQgKiBAbWV0aG9kIGdldEluaXRpYWxTdGF0ZVxuXHQgKi9cblx0Z2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdC8vIENhbid0IGFjY2VzcyBjb250ZXh0IGZyb20gY29uc3RydWN0b3IsIHNvIGdldCBlZGl0b3IgZnJvbSBwcm9wcy5cblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLnByb3BzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0bGV0IGVsZW1lbnQ7XG5cblx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cblx0XHRpZiAoc2VsZWN0aW9uKSB7XG5cdFx0XHRjb25zdCBzZWxlY3RlZEVsZW1lbnQgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7XG5cblx0XHRcdGlmIChzZWxlY3RlZEVsZW1lbnQpIHtcblx0XHRcdFx0ZWxlbWVudCA9IHNlbGVjdGVkRWxlbWVudC5maW5kT25lKCdbZGF0YS13aWRnZXQ9XCJ2aWRlb2VtYmVkXCJdJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgdmlkZW9VUkwgPSBlbGVtZW50XG5cdFx0XHQ/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWVtYmVkLXZpZGVvLXVybCcpXG5cdFx0XHQ6ICcnO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGVsZW1lbnQsXG5cdFx0XHRpbml0aWFsRW1iZWQ6IHtcblx0XHRcdFx0dmlkZW9VUkwsXG5cdFx0XHR9LFxuXHRcdFx0dmlkZW9VUkwsXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRWaWRlb0VkaXRcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgaW5wdXRQbGFjZWhvbGRlciA9IEFsbG95RWRpdG9yLlN0cmluZ3MucGFzdGVWaWRlb0xpbms7XG5cblx0XHRjb25zdCBjbGVhclZpZGVvVVJMU3R5bGUgPSB7XG5cdFx0XHRvcGFjaXR5OiB0aGlzLnN0YXRlLnZpZGVvVVJMID8gMSA6IDAsXG5cdFx0fTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lci1lbWJlZC12aWRlby1lZGl0XCI+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0IHh4bFwiPlxuXHRcdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtaW5wdXRcIlxuXHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuX2hhbmRsZVZpZGVvVVJMQ2hhbmdlfVxuXHRcdFx0XHRcdFx0b25LZXlEb3duPXt0aGlzLl9oYW5kbGVLZXlEb3dufVxuXHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9e2lucHV0UGxhY2Vob2xkZXJ9XG5cdFx0XHRcdFx0XHRyZWY9XCJsaW5rSW5wdXRcIlxuXHRcdFx0XHRcdFx0dHlwZT1cInRleHRcIlxuXHRcdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUudmlkZW9VUkx9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFySW5wdXR9XG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b24gYWUtaWNvbi1yZW1vdmVcIlxuXHRcdFx0XHRcdFx0b25DbGljaz17dGhpcy5fY2xlYXJMaW5rfVxuXHRcdFx0XHRcdFx0c3R5bGU9e2NsZWFyVmlkZW9VUkxTdHlsZX1cblx0XHRcdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFyfVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5jb25maXJtfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdFx0ZGlzYWJsZWQ9eyF0aGlzLl9pc1ZhbGlkU3RhdGUoKX1cblx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLl9lbWJlZFZpZGVvVVJMfVxuXHRcdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvbmZpcm19PlxuXHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImNoZWNrXCIgLz5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsZWFycyB0aGUgbGluayBpbnB1dC4gVGhpcyBvbmx5IGNoYW5nZXMgdGhlIGNvbXBvbmVudCBpbnRlcm5hbCBzdGF0ZSwgYnV0IGRvZXMgbm90XG5cdCAqIGFmZmVjdCB0aGUgbGluayBlbGVtZW50IG9mIHRoZSBlZGl0b3IuIE9ubHkgdGhlIF9yZW1vdmVMaW5rIGFuZCBfdXBkYXRlTGluayBtZXRob2RzXG5cdCAqIGFyZSB0cmFuc2xhdGVkIHRvIHRoZSBlZGl0b3IgZWxlbWVudC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZFZpZGVvRWRpdFxuXHQgKiBAbWV0aG9kIF9jbGVhckxpbmtcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2NsZWFyTGluaygpIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdHZpZGVvVVJMOiAnJyxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VycyB0aGUgZW1iZWRWaWRlb1VybCBjb21tYW5kIHRvIHRyYW5zZm9ybSB0aGUgbGluayBpbnRvIGFuIGVtYmVkIG1lZGlhIG9iamVjdFxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEVtYmVkVmlkZW9FZGl0XG5cdCAqIEBtZXRob2QgX2VtYmVkVmlkZW9VUkxcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2VtYmVkVmlkZW9VUkwgPSAoKSA9PiB7XG5cdFx0Y29uc3QgbmF0aXZlRWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0bmF0aXZlRWRpdG9yLmV4ZWNDb21tYW5kKCdlbWJlZFVybCcsIHtcblx0XHRcdHR5cGU6ICd2aWRlbycsXG5cdFx0XHR1cmw6IHRoaXMuc3RhdGUudmlkZW9VUkwsXG5cdFx0fSk7XG5cblx0XHQvLyBXZSBuZWVkIHRvIGNhbmNlbEV4Y2x1c2l2ZSB3aXRoIHRoZSBib3VuZCBwYXJhbWV0ZXJzIGluIGNhc2UgdGhlIGJ1dHRvbiBpcyB1c2VkXG5cdFx0Ly8gaW5zaWRlIGFub3RoZXIgaW4gZXhjbHVzaXZlIG1vZGUgKHN1Y2ggaXMgdGhlIGNhc2Ugb2YgdGhlIGxpbmsgYnV0dG9uKVxuXHRcdHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEZvY3VzZXMgdGhlIHVzZXIgY3Vyc29yIG9uIHRoZSB3aWRnZXQncyBpbnB1dC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZFZpZGVvRWRpdFxuXHQgKiBAbWV0aG9kIF9mb2N1c1ZpZGVvVXJsSW5wdXRcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2ZvY3VzVmlkZW9VcmxJbnB1dCA9ICgpID0+IHtcblx0XHRSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubGlua0lucHV0KS5mb2N1cygpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBNb25pdG9ycyBrZXkgaW50ZXJhY3Rpb24gaW5zaWRlIHRoZSBpbnB1dCBlbGVtZW50IHRvIHJlc3BvbmQgdG8gdGhlIGtleXM6XG5cdCAqIC0gRW50ZXI6IENyZWF0ZXMvdXBkYXRlcyB0aGUgbGluay5cblx0ICogLSBFc2NhcGU6IERpc2NhcmRzIHRoZSBjaGFuZ2VzLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkVmlkZW9FZGl0XG5cdCAqIEBtZXRob2QgX2hhbmRsZUtleURvd25cblx0ICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgVGhlIGtleWJvYXJkIGV2ZW50LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfaGFuZGxlS2V5RG93biA9IGV2ZW50ID0+IHtcblx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VOVEVSIHx8IGV2ZW50LmtleUNvZGUgPT09IEtFWV9FU0MpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKGV2ZW50LmtleUNvZGUgPT09IEtFWV9FTlRFUikge1xuXHRcdFx0dGhpcy5fZW1iZWRWaWRlb1VSTCgpO1xuXHRcdH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VTQykge1xuXHRcdFx0dGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIGNvbXBvbmVudCBzdGF0ZSB3aGVuIHRoZSBsaW5rIGlucHV0IGNoYW5nZXMgb24gdXNlciBpbnRlcmFjdGlvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZFZpZGVvRWRpdFxuXHQgKiBAbWV0aG9kIF9oYW5kbGVWaWRlb1VSTENoYW5nZVxuXHQgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2hhbmdlIGV2ZW50LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfaGFuZGxlVmlkZW9VUkxDaGFuZ2UgPSBldmVudCA9PiB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHR2aWRlb1VSTDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuXHRcdH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBWZXJpZmllcyB0aGF0IHRoZSBjdXJyZW50IGxpbmsgc3RhdGUgaXMgdmFsaWQgc28gdGhlIHVzZXIgY2FuIHNhdmUgdGhlIGxpbmsuIEEgdmFsaWQgc3RhdGVcblx0ICogbWVhbnMgdGhhdCB3ZSBoYXZlIGEgbm9uLWVtcHR5IHZpZGVvVVJMIHRoYXQncyBkaWZmZXJlbnQgZnJvbSB0aGUgb3JpZ2luYWwgb25lLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEVtYmVkVmlkZW9FZGl0XG5cdCAqIEBtZXRob2QgX2lzVmFsaWRTdGF0ZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHN0YXRlIGlzIHZhbGlkLCBmYWxzZSBvdGhlcndpc2Vcblx0ICovXG5cdF9pc1ZhbGlkU3RhdGUoKSB7XG5cdFx0Y29uc3QgdmFsaWRTdGF0ZSA9XG5cdFx0XHR0aGlzLnN0YXRlLnZpZGVvVVJMICYmXG5cdFx0XHR0aGlzLnN0YXRlLnZpZGVvVVJMICE9PSB0aGlzLnN0YXRlLmluaXRpYWxFbWJlZC52aWRlb1VSTDtcblxuXHRcdHJldHVybiB2YWxpZFN0YXRlO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVkaXRvckNvbnRleHQudG9Qcm9wcyhCdXR0b25FbWJlZFZpZGVvRWRpdCk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uRW1iZWRWaWRlb0VkaXQgZnJvbSAnLi9idXR0b24tZW1iZWQtdmlkZW8tZWRpdC5qc3gnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25FbWJlZFZpZGVvIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNoYW5naW5nIHRleHQgY29sb3IgaW4gYSBkb2N1bWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uRW1iZWRWaWRlb1xuICovXG5jbGFzcyBCdXR0b25FbWJlZFZpZGVvIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGtleSA9ICdlbWJlZFZpZGVvJztcblxuXHRzdGF0aWMgcHJvcFR5cGVzID0ge1xuXHRcdC8qKlxuXHRcdCAqIFRoZSBsYWJlbCB0aGF0IHNob3VsZCBiZSB1c2VkIGZvciBhY2Nlc3NpYmlsaXR5IHB1cnBvc2VzLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkVmlkZW9cblx0XHQgKiBAcHJvcGVydHkge1N0cmluZ30gbGFiZWxcblx0XHQgKi9cblx0XHRsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSB0YWJJbmRleCBvZiB0aGUgYnV0dG9uIGluIGl0cyB0b29sYmFyIGN1cnJlbnQgc3RhdGUuIEEgdmFsdWUgb3RoZXIgdGhhbiAtMVxuXHRcdCAqIG1lYW5zIHRoYXQgdGhlIGJ1dHRvbiBoYXMgZm9jdXMgYW5kIGlzIHRoZSBhY3RpdmUgZWxlbWVudC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZFZpZGVvXG5cdFx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IHRhYkluZGV4XG5cdFx0ICovXG5cdFx0dGFiSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG5cdH07XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0aWYgKHRoaXMucHJvcHMucmVuZGVyRXhjbHVzaXZlKSB7XG5cdFx0XHRyZXR1cm4gPEJ1dHRvbkVtYmVkVmlkZW9FZGl0IHsuLi50aGlzLnByb3BzfSAvPjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MudmlkZW99XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uXCJcblx0XHRcdFx0XHRkYXRhLXR5cGU9XCJidXR0b24tZW1iZWQtdmlkZW9cIlxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMucHJvcHMucmVxdWVzdEV4Y2x1c2l2ZX1cblx0XHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy52aWRlb30+XG5cdFx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwidmlkZW9cIiAvPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdCk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkVtYmVkVmlkZW87XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25LZXlzdHJva2UgZnJvbSAnLi4vYmFzZS9idXR0b24ta2V5c3Ryb2tlJztcbmltcG9ydCBCdXR0b25FbWJlZEVkaXQgZnJvbSAnLi9idXR0b24tZW1iZWQtZWRpdC5qc3gnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25FbWJlZCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjcmVhdGluZyBhbmQgZWRpdGluZyBhbiBlbWJlZCBsaW5rIGluIGEgZG9jdW1lbnQuXG4gKiBCdXR0b25FbWJlZCByZW5kZXJzIGluIHR3byBkaWZmZXJlbnQgbW9kZXM6XG4gKlxuICogLSBOb3JtYWw6IEp1c3QgYSBidXR0b24gdGhhdCBhbGxvd3MgdG8gc3dpdGNoIHRvIHRoZSBlZGl0aW9uIG1vZGVcbiAqIC0gRXhjbHVzaXZlOiBUaGUgQnV0dG9uRW1iZWRFZGl0IFVJIHdpdGggYWxsIHRoZSBsaW5rIGVkaXRpb24gY29udHJvbHMuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkVtYmVkXG4gKiBAdXNlcyBCdXR0b25LZXlzdHJva2VcbiAqL1xuY2xhc3MgQnV0dG9uRW1iZWQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRrZXlzdHJva2U6IHtcblx0XHRcdGZuOiAnX3JlcXVlc3RFeGNsdXNpdmUnLFxuXHRcdFx0a2V5czogQ0tFRElUT1IuQ1RSTCArIENLRURJVE9SLlNISUZUICsgNzYgLyogTCovLFxuXHRcdFx0bmFtZTogJ2VtYmVkJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgZW1iZWRcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdlbWJlZCc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZFxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcblx0XHRcdHJldHVybiA8QnV0dG9uRW1iZWRFZGl0IHsuLi50aGlzLnByb3BzfSAvPjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MubGlua31cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b25cIlxuXHRcdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1lbWJlZFwiXG5cdFx0XHRcdFx0b25DbGljaz17dGhpcy5fcmVxdWVzdEV4Y2x1c2l2ZX1cblx0XHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rfT5cblx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJwbHVzXCIgLz5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZXF1ZXN0cyB0aGUgbGluayBidXR0b24gdG8gYmUgcmVuZGVyZWQgaW4gZXhjbHVzaXZlIG1vZGUgdG8gYWxsb3cgdGhlIGVtYmVkZGluZyBvZiBhIGxpbmsuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRcblx0ICogQG1ldGhvZCBfcmVxdWVzdEV4Y2x1c2l2ZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfcmVxdWVzdEV4Y2x1c2l2ZSA9ICgpID0+IHtcblx0XHR0aGlzLnByb3BzLnJlcXVlc3RFeGNsdXNpdmUoQnV0dG9uRW1iZWQua2V5KTtcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uS2V5c3Ryb2tlKEJ1dHRvbkVtYmVkKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkFjdGlvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWFjdGlvbi1zdHlsZSc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uSDEgY2xhc3MgcHJvdmlkZXMgd3JhcHMgYSBzZWxlY3Rpb24gaW4gYGgxYCBlbGVtZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25IMVxuICogQHVzZXMgQnV0dG9uQWN0aW9uU3R5bGVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uSDEgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSDFcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRzdHlsZToge1xuXHRcdFx0ZWxlbWVudDogJ2gxJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgaDFcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkgxXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdoMSc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25IMVxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBjc3NDbGFzcyA9IGBhZS1idXR0b24gJHt0aGlzLmdldFN0YXRlQ2xhc3NlcygpfWA7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmgxfVxuXHRcdFx0XHRhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1oMVwiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuYXBwbHlTdHlsZX1cblx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmgxfT5cblx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwiaDFcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25BY3Rpb25TdHlsZShCdXR0b25TdGF0ZUNsYXNzZXMoQnV0dG9uU3R5bGUoQnV0dG9uSDEpKSk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25BY3Rpb25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1hY3Rpb24tc3R5bGUnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZSc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkgyIGNsYXNzIHByb3ZpZGVzIHdyYXBzIGEgc2VsZWN0aW9uIGluIGBoMmAgZWxlbWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSDJcbiAqIEB1c2VzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbkgyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkgyXG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0c3R5bGU6IHtcblx0XHRcdGVsZW1lbnQ6ICdoMicsXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IGgyXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25IMlxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnaDInO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSDJcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3NzQ2xhc3MgPSBgYWUtYnV0dG9uICR7dGhpcy5nZXRTdGF0ZUNsYXNzZXMoKX1gO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5oMn1cblx0XHRcdFx0YXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfVxuXHRcdFx0XHRjbGFzc05hbWU9e2Nzc0NsYXNzfVxuXHRcdFx0XHRkYXRhLXR5cGU9XCJidXR0b24taDJcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmFwcGx5U3R5bGV9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5oMn0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImgyXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQWN0aW9uU3R5bGUoQnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvblN0eWxlKEJ1dHRvbkgyKSkpO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uSGxpbmUgY2xhc3MgcHJvdmlkZXMgaW5zZXJ0cyBob3Jpem9udGFsIGxpbmUuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkhsaW5lXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKi9cbmNsYXNzIEJ1dHRvbkhsaW5lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkhsaW5lXG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0Y29tbWFuZDogJ2hvcml6b250YWxydWxlJyxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IGhsaW5lXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25IbGluZVxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnaGxpbmUnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSGxpbmVcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5ob3Jpem9udGFscnVsZX1cblx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uXCJcblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLWhsaW5lXCJcblx0XHRcdFx0b25DbGljaz17dGhpcy5leGVjQ29tbWFuZH1cblx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmhvcml6b250YWxydWxlfT5cblx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwiaHJcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKEJ1dHRvbkhsaW5lKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJ1dHRvbkljb24oe2NsYXNzTmFtZSA9ICcnLCBzeW1ib2x9KSB7XG5cdHJldHVybiAoXG5cdFx0PEVkaXRvckNvbnRleHQuQ29uc3VtZXI+XG5cdFx0XHR7KHtlZGl0b3J9KSA9PiB7XG5cdFx0XHRcdGNvbnN0IG5hdGl2ZUVkaXRvciA9IGVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXHRcdFx0XHRjb25zdCBzcHJpdGVtYXAgPSBuYXRpdmVFZGl0b3IuY29uZmlnLnNwcml0ZW1hcCB8fCAnJztcblx0XHRcdFx0Y29uc3QgcGF0aCA9IGAke3Nwcml0ZW1hcH0jJHtzeW1ib2x9YDtcblx0XHRcdFx0Y29uc3QgY2xhc3NOYW1lUHJlZml4ID0gY2xhc3NOYW1lID8gYCAke2NsYXNzTmFtZX1gIDogJyc7XG5cdFx0XHRcdGNvbnN0IGNvbWJpbmVkQ2xhc3NOYW1lID0gYGFlLXN2Zy1pY29uJHtjbGFzc05hbWVQcmVmaXh9YDtcblxuXHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdDxzdmcgY2xhc3NOYW1lPXtjb21iaW5lZENsYXNzTmFtZX0gaGVpZ2h0PVwiMThcIiB3aWR0aD1cIjE4XCI+XG5cdFx0XHRcdFx0XHQ8dXNlIGhyZWY9e3BhdGh9IC8+XG5cdFx0XHRcdFx0PC9zdmc+XG5cdFx0XHRcdCk7XG5cdFx0XHR9fVxuXHRcdDwvRWRpdG9yQ29udGV4dC5Db25zdW1lcj5cblx0KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZEFjdGl2ZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZSc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFsaWduaW5nIGFuIGltYWdlIGluIHRoZSBjZW50ZXIuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkltYWdlQWxpZ25DZW50ZXJcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25DZW50ZXJcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjb21tYW5kOiAnanVzdGlmeWNlbnRlcicsXG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCBpbWFnZUNlbnRlclxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkNlbnRlclxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnaW1hZ2VDZW50ZXInO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkNlbnRlclxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBjc3NDbGFzcyA9IGBhZS1idXR0b24gJHt0aGlzLmdldFN0YXRlQ2xhc3NlcygpfWA7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduQ2VudGVyfVxuXHRcdFx0XHRhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1pbWFnZS1hbGlnbi1jZW50ZXJcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25DZW50ZXJ9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJhbGlnbi1pbWFnZS1jZW50ZXJcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuXHRCdXR0b25Db21tYW5kQWN0aXZlKEJ1dHRvblN0YXRlQ2xhc3NlcyhCdXR0b25JbWFnZUFsaWduQ2VudGVyKSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uSW1hZ2VBbGlnbkxlZnQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgYWxpZ25pbmcgYW4gaW1hZ2Ugb24gbGVmdC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSW1hZ2VBbGlnbkxlZnRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25JbWFnZUFsaWduTGVmdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25JbWFnZUFsaWduTGVmdFxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNvbW1hbmQ6ICdqdXN0aWZ5bGVmdCcsXG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCBpbWFnZUxlZnRcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25MZWZ0XG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdpbWFnZUxlZnQnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkxlZnRcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3NzQ2xhc3MgPSBgYWUtYnV0dG9uICR7dGhpcy5nZXRTdGF0ZUNsYXNzZXMoKX1gO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnbkxlZnR9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLWltYWdlLWFsaWduLWxlZnRcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25MZWZ0fT5cblx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwiYWxpZ24taW1hZ2UtbGVmdFwiIC8+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG5cdEJ1dHRvbkNvbW1hbmRBY3RpdmUoQnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvbkltYWdlQWxpZ25MZWZ0KSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFsaWduaW5nIGFuIGltYWdlIG9uIHJpZ2h0LlxuICpcbiAqIEBjbGFzcyBCdXR0b25JbWFnZUFsaWduUmlnaHRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25JbWFnZUFsaWduUmlnaHQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0XG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0Y29tbWFuZDogJ2p1c3RpZnlyaWdodCcsXG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCBpbWFnZVJpZ2h0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25JbWFnZUFsaWduUmlnaHRcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ2ltYWdlUmlnaHQnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0XG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAke3RoaXMuZ2V0U3RhdGVDbGFzc2VzKCl9YDtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25SaWdodH1cblx0XHRcdFx0YXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfVxuXHRcdFx0XHRjbGFzc05hbWU9e2Nzc0NsYXNzfVxuXHRcdFx0XHRkYXRhLXR5cGU9XCJidXR0b24taW1hZ2UtYWxpZ24tcmlnaHRcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25SaWdodH0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImFsaWduLWltYWdlLXJpZ2h0XCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcblx0QnV0dG9uQ29tbWFuZEFjdGl2ZShCdXR0b25TdGF0ZUNsYXNzZXMoQnV0dG9uSW1hZ2VBbGlnblJpZ2h0KSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25JbWFnZSBjbGFzcyBpbnNlcnRzIGFuIGltYWdlIHRvIHRoZSBjb250ZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25JbWFnZVxuICovXG5jbGFzcyBCdXR0b25JbWFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCBpbWFnZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2Vcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ2ltYWdlRnJvbUZpbGUnO1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdHRoaXMuZmlsZUlucHV0ID0gUmVhY3QuY3JlYXRlUmVmKCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGlucHV0U3lsZSA9IHtkaXNwbGF5OiAnbm9uZSd9O1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXY+XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmltYWdlfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLWltYWdlXCJcblx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfVxuXHRcdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmltYWdlfT5cblx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJkb2N1bWVudC1pbWFnZVwiIC8+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXG5cdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdGFjY2VwdD1cImltYWdlLypcIlxuXHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLl9vbklucHV0Q2hhbmdlfVxuXHRcdFx0XHRcdHJlZj17dGhpcy5maWxlSW5wdXR9XG5cdFx0XHRcdFx0c3R5bGU9e2lucHV0U3lsZX1cblx0XHRcdFx0XHR0eXBlPVwiZmlsZVwiXG5cdFx0XHRcdC8+XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNpbXVsYXRlcyBjbGljayBvbiB0aGUgaW5wdXQgZWxlbWVudC4gVGhpcyB3aWxsIG9wZW4gYnJvd3NlcidzIG5hdGl2ZSBmaWxlIG9wZW4gZGlhbG9nLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlXG5cdCAqIEBtZXRob2QgaGFuZGxlQ2xpY2tcblx0ICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgVGhlIHJlY2VpdmVkIGNsaWNrIGV2ZW50IG9uIHRoZSBidXR0b24uXG5cdCAqL1xuXHRoYW5kbGVDbGljayA9ICgpID0+IHtcblx0XHR0aGlzLmZpbGVJbnB1dC5jdXJyZW50LmNsaWNrKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIE9uIGlucHV0IGNoYW5nZSwgcmVhZHMgdGhlIGNob3NlbiBmaWxlIGFuZCBmaXJlcyBhbiBldmVudCBgYmVmb3JlSW1hZ2VBZGRgIHdpdGggdGhlIGltYWdlIHdoaWNoIHdpbGwgYmUgYWRkZWRcblx0ICogdG8gdGhlIGNvbnRlbnQuIFRoZSBpbWFnZSBmaWxlIHdpbGwgYmUgcGFzc2VkIGluIHRoZSBgaW1hZ2VGaWxlc2AgcHJvcGVydHkuXG5cdCAqIElmIGFueSBvZiB0aGUgbGlzdGVuZXJzIHJldHVybnMgYGZhbHNlYCBvciBjYW5jZWxzIHRoZSBldmVudCwgdGhlIGltYWdlIHdvbid0IGJlIGFkZGVkIHRvIHRoZSBjb250ZW50LlxuXHQgKiBPdGhlcndpc2UsIGFuIGV2ZW50IGBpbWFnZUFkZGAgd2lsbCBiZSBmaXJlZCB3aXRoIHRoZSBpbnNlcnRlZCBlbGVtZW50IGludG8gdGhlIGVkaXRhYmxlIGFyZWEuXG5cdCAqIFRoZSBwYXNzZWQgcGFyYW1zIHdpbGwgYmU6XG5cdCAqIC0gYGVsYCAtIHRoZSBjcmVhdGVkIGltZyBlbGVtZW50XG5cdCAqIC0gYGZpbGVgIC0gdGhlIG9yaWdpbmFsIGltYWdlIGZpbGUgZnJvbSB0aGUgaW5wdXQgZWxlbWVudFxuXHQgKlxuXHQgKiBAZmlyZXMgQnV0dG9uSW1hZ2UjYmVmb3JlSW1hZ2VBZGRcblx0ICogQGZpcmVzIEJ1dHRvbkltYWdlI2ltYWdlQWRkXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2Vcblx0ICogQG1ldGhvZCBfb25JbnB1dENoYW5nZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfb25JbnB1dENoYW5nZSA9ICgpID0+IHtcblx0XHRjb25zdCBpbnB1dEVsID0gdGhpcy5maWxlSW5wdXQuY3VycmVudDtcblxuXHRcdC8vIE9uIElFMTEgdGhlIGZ1bmN0aW9uIG1pZ2h0IGJlIGNhbGxlZCB3aXRoIGFuIGVtcHR5IGFycmF5IG9mXG5cdFx0Ly8gZmlsZXMuIEluIHN1Y2ggYSBjYXNlLCBubyBhY3Rpb25zIHdpbGwgYmUgdGFrZW4uXG5cdFx0aWYgKCFpbnB1dEVsLmZpbGVzLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0Y29uc3QgZmlsZSA9IGlucHV0RWwuZmlsZXNbMF07XG5cblx0XHRyZWFkZXIub25sb2FkID0gZXZlbnQgPT4ge1xuXHRcdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0XHRjb25zdCByZXN1bHQgPSBlZGl0b3IuZmlyZSgnYmVmb3JlSW1hZ2VBZGQnLCB7XG5cdFx0XHRcdGltYWdlRmlsZXM6IGZpbGUsXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0XHRjb25zdCBlbCA9IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFxuXHRcdFx0XHRcdGA8aW1nIHNyYz1cIiR7ZXZlbnQudGFyZ2V0LnJlc3VsdH1cIj5gXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0ZWRpdG9yLmluc2VydEVsZW1lbnQoZWwpO1xuXG5cdFx0XHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblxuXHRcdFx0XHRjb25zdCBpbWFnZURhdGEgPSB7XG5cdFx0XHRcdFx0ZWwsXG5cdFx0XHRcdFx0ZmlsZSxcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRlZGl0b3IuZmlyZSgnaW1hZ2VBZGQnLCBpbWFnZURhdGEpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcblxuXHRcdGlucHV0RWwudmFsdWUgPSAnJztcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uSW1hZ2U7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uSW5kZW50QmxvY2sgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgaW5kZW50aW5nIHRoZSBzZWxlY3RlZCBibG9ja3MuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkluZGVudEJsb2NrXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uSW5kZW50QmxvY2sgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW5kZW50QmxvY2tcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjb21tYW5kOiAnaW5kZW50Jyxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IGluZGVudEJsb2NrXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25JbmRlbnRCbG9ja1xuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnaW5kZW50QmxvY2snO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSW5kZW50QmxvY2tcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3NzQ2xhc3MgPSBgYWUtYnV0dG9uICR7dGhpcy5nZXRTdGF0ZUNsYXNzZXMoKX1gO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5pbmRlbnR9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLWluZGVudC1ibG9ja1wiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmR9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5pbmRlbnR9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJpbmRlbnQtbGVzc1wiIC8+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG5cdEJ1dHRvbkNvbW1hbmRBY3RpdmUoQnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvbkluZGVudEJsb2NrKSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvbktleXN0cm9rZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1rZXlzdHJva2UnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZSc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkl0YWxpYyBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzdHlsaW5nIGFuIHNlbGVjdGlvbiB3aXRoIGl0YWxpYyAoZW0pIHN0eWxlLlxuICpcbiAqIEBjbGFzcyBCdXR0b25JdGFsaWNcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbktleXN0cm9rZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25JdGFsaWMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uSXRhbGljXG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0Y29tbWFuZDogJ2l0YWxpYycsXG5cdFx0a2V5c3Ryb2tlOiB7XG5cdFx0XHRmbjogJ2V4ZWNDb21tYW5kJyxcblx0XHRcdGtleXM6IENLRURJVE9SLkNUUkwgKyA3MyAvKiBJKi8sXG5cdFx0XHRuYW1lOiAnaXRhbGljJyxcblx0XHR9LFxuXHRcdHN0eWxlOiAnY29yZVN0eWxlc19pdGFsaWMnLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgaXRhbGljXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25JdGFsaWNcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ2l0YWxpYyc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25JdGFsaWNcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3NzQ2xhc3MgPSBgYWUtYnV0dG9uICR7dGhpcy5nZXRTdGF0ZUNsYXNzZXMoKX1gO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5pdGFsaWN9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLWl0YWxpY1wiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmR9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5pdGFsaWN9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJpdGFsaWNcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuXHRCdXR0b25LZXlzdHJva2UoQnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvblN0eWxlKEJ1dHRvbkl0YWxpYykpKVxuKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogQGNsYXNzIEJ1dHRvbkl0ZW1TZWxlY3RvckF1ZGlvXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKi9cbmNsYXNzIEJ1dHRvbkl0ZW1TZWxlY3RvckF1ZGlvIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjb21tYW5kOiAnYXVkaW9zZWxlY3RvcicsXG5cdH07XG5cblx0c3RhdGljIGtleSA9ICdhdWRpbyc7XG5cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYXVkaW99XG5cdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1hdWRpb1wiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUNsaWNrfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYXVkaW99PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJhdWRpb1wiIC8+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQpO1xuXHR9XG5cblx0X2hhbmRsZUNsaWNrID0gKCkgPT4ge1xuXHRcdHRoaXMuZXhlY0NvbW1hbmQobnVsbCk7XG5cdH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoQnV0dG9uSXRlbVNlbGVjdG9yQXVkaW8pO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBAY2xhc3MgQnV0dG9uSXRlbVNlbGVjdG9ySW1hZ2VcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqL1xuY2xhc3MgQnV0dG9uSXRlbVNlbGVjdG9ySW1hZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNvbW1hbmQ6ICdpbWFnZXNlbGVjdG9yJyxcblx0fTtcblxuXHRzdGF0aWMga2V5ID0gJ2ltYWdlJztcblxuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5pbWFnZX1cblx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uXCJcblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLWltYWdlXCJcblx0XHRcdFx0b25DbGljaz17dGhpcy5faGFuZGxlQ2xpY2t9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5pbWFnZX0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cInBpY3R1cmVcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxuXG5cdF9oYW5kbGVDbGljayA9ICgpID0+IHtcblx0XHR0aGlzLmV4ZWNDb21tYW5kKG51bGwpO1xuXHR9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKEJ1dHRvbkl0ZW1TZWxlY3RvckltYWdlKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogQGNsYXNzIEJ1dHRvbkl0ZW1TZWxlY3RvclZpZGVvXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKi9cbmNsYXNzIEJ1dHRvbkl0ZW1TZWxlY3RvclZpZGVvIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjb21tYW5kOiAndmlkZW9zZWxlY3RvcicsXG5cdH07XG5cblx0c3RhdGljIGtleSA9ICd2aWRlbyc7XG5cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MudmlkZW99XG5cdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi12aWRlb1wiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUNsaWNrfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MudmlkZW99PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJ2aWRlb1wiIC8+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQpO1xuXHR9XG5cblx0X2hhbmRsZUNsaWNrID0gKCkgPT4ge1xuXHRcdHRoaXMuZXhlY0NvbW1hbmQobnVsbCk7XG5cdH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoQnV0dG9uSXRlbVNlbGVjdG9yVmlkZW8pO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXInO1xuaW1wb3J0IEJ1dHRvbkRyb3Bkb3duIGZyb20gJy4vYnV0dG9uLWRyb3Bkb3duLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHNob3dpbmcgYSBsaXN0IG9mXG4gKiBpdGVtcyB0aGF0IGNhbiBiZSBzZWxlY3RlZCBmb3IgdGhlIGxpbmsuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gKiBAdXNlcyBXaWRnZXRGb2N1c01hbmFnZXJcbiAqL1xuY2xhc3MgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3Rcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjaXJjdWxhcjogZmFsc2UsXG5cdFx0ZGF0YTogW10sXG5cdFx0ZGVsYXk6IDEwMCxcblx0XHRkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuXHRcdGtleXM6IHtcblx0XHRcdGRpc21pc3M6IFsyN10sXG5cdFx0XHRkaXNtaXNzTmV4dDogWzM5XSxcblx0XHRcdGRpc21pc3NQcmV2OiBbMzddLFxuXHRcdFx0bmV4dDogWzQwXSxcblx0XHRcdHByZXY6IFszOF0sXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IGJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnYnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3QnO1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdGl0ZW1zOiBbXSxcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCB3aGVuIGEgY29tcG9uZW50IGlzIHJlY2VpdmluZyBuZXcgcHJvcHMuXG5cdCAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcblx0ICovXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0aWYgKCFuZXh0UHJvcHMudGVybSB8fCBuZXh0UHJvcHMudGVybSAhPT0gdGhpcy5wcm9wcy50ZXJtKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG5cblx0XHRcdGlmIChuZXh0UHJvcHMudGVybSkge1xuXHRcdFx0XHR0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl91cGRhdGVJdGVtcywgdGhpcy5wcm9wcy5kZWxheSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRpdGVtczogW10sXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChuZXh0UHJvcHMuYXV0b2NvbXBsZXRlU2VsZWN0ZWQpIHtcblx0XHRcdHNldFRpbWVvdXQodGhpcy5mb2N1cywgMCk7XG5cdFx0XHR0aGlzLnByb3BzLnNldEF1dG9jb21wbGV0ZVN0YXRlKHtcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxVbm1vdW50XG5cdCAqL1xuXHRjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHRjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgbGlzdC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRpZiAoIXRoaXMucHJvcHMuZXhwYW5kZWQgfHwgIXRoaXMuc3RhdGUuaXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PEJ1dHRvbkRyb3Bkb3duPlxuXHRcdFx0XHR7dGhpcy5fcmVuZGVyQXV0b2NvbXBsZXRlSXRlbXModGhpcy5zdGF0ZS5pdGVtcyl9XG5cdFx0XHQ8L0J1dHRvbkRyb3Bkb3duPlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIGJlZm9yZSByZW5kZXJpbmcgd2hlbiBuZXcgcHJvcHMgb3Igc3RhdGUgYXJlIGJlaW5nIHJlY2VpdmVkLlxuXHQgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIgb3Igd2hlbiBmb3JjZVVwZGF0ZSBpcyB1c2VkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG5cdCAqIEBtZXRob2QgIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIGZhbHNlIHdoZW4gdGhlIHRyYW5zaXRpb24gdG8gdGhlIG5ldyBwcm9wcyBhbmQgc3RhdGUgd2lsbCBub3Rcblx0ICogcmVxdWlyZSBhIGNvbXBvbmVudCB1cGRhdGUuXG5cdCAqL1xuXHRzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0bmV4dFByb3BzLmV4cGFuZGVkICE9PSB0aGlzLnByb3BzLmV4cGFuZGVkIHx8XG5cdFx0XHRuZXh0UHJvcHMudGVybSAhPT0gdGhpcy5wcm9wcy50ZXJtIHx8XG5cdFx0XHRuZXh0U3RhdGUuaXRlbXMgIT09IHRoaXMuc3RhdGUuaXRlbXNcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbmRlcnMgYSBzZXQgb2YgbGlzdCBpdGVtcyBmb3IgdGhlIHByb3ZpZGVkIGl0ZW1zXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3Rcblx0ICogQG1ldGhvZCBfcmVuZGVyQXV0b2NvbXBsZXRlSXRlbXNcblx0ICogQHBhcmFtIHtBcnJheX0gaXRlbXMgTGlzdCBvZiBhdXRvY29tcGxldGUgaXRlbXMgdG8gcmVuZGVyXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7QXJyYXl9IFJlbmRlcmVkIGxpc3QgaXRlbSBpbnN0YW5jZXNcblx0ICovXG5cdF9yZW5kZXJBdXRvY29tcGxldGVJdGVtcyhpdGVtcykge1xuXHRcdGl0ZW1zID0gaXRlbXMgfHwgW107XG5cblx0XHRjb25zdCBoYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2sgPSB0aGlzLnByb3BzXG5cdFx0XHQuaGFuZGxlTGlua0F1dG9jb21wbGV0ZUNsaWNrO1xuXG5cdFx0cmV0dXJuIGl0ZW1zLm1hcChpdGVtID0+IHtcblx0XHRcdGNvbnN0IGNsYXNzTmFtZSA9XG5cdFx0XHRcdHRoaXMucHJvcHMudGVybSA9PT0gaXRlbS51cmxcblx0XHRcdFx0XHQ/ICdhZS10b29sYmFyLWVsZW1lbnQgYWN0aXZlJ1xuXHRcdFx0XHRcdDogJ2FlLXRvb2xiYXItZWxlbWVudCc7XG5cblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxsaSBrZXk9e2l0ZW0udXJsfSByb2xlPVwib3B0aW9uXCI+XG5cdFx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtjbGFzc05hbWV9XG5cdFx0XHRcdFx0XHRkYXRhLXZhbHVlPXtpdGVtLnVybH1cblx0XHRcdFx0XHRcdG9uQ2xpY2s9e2hhbmRsZUxpbmtBdXRvY29tcGxldGVDbGlja30+XG5cdFx0XHRcdFx0XHR7aXRlbS50aXRsZX1cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0PC9saT5cblx0XHRcdCk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0cmlldmVzIHRoZSBkYXRhIGFjY29yZGluZyB0byB7dGhpcy5wcm9wcy50ZXJtfSBhbmQgY2FsbHMgc2V0U3RhdGUoKSB3aXRoIHRoZSByZXR1cm5lZCBkYXRhXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3Rcblx0ICogQG1ldGhvZCBfdXBkYXRlSXRlbXNcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X3VwZGF0ZUl0ZW1zKCkge1xuXHRcdGlmICghdGhpcy5wcm9wcy50ZXJtKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0aGlzLnByb3BzLmRhdGEodGhpcy5wcm9wcy50ZXJtKSk7XG5cblx0XHRwcm9taXNlLnRoZW4oaXRlbXMgPT4ge1xuXHRcdFx0aWYgKGl0ZW1zLmxlbmd0aCAmJiAhdGhpcy5wcm9wcy5leHBhbmRlZCkge1xuXHRcdFx0XHR0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duKCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpdGVtcyxcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldEZvY3VzTWFuYWdlcihCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdCk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uS2V5c3Ryb2tlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWtleXN0cm9rZSc7XG5pbXBvcnQgQnV0dG9uUHJvcHMgZnJvbSAnLi4vYmFzZS9idXR0b24tcHJvcHMnO1xuaW1wb3J0IEJ1dHRvbkxpbmtFZGl0QnJvd3NlIGZyb20gJy4vYnV0dG9uLWxpbmstZWRpdC1icm93c2UuanN4JztcbmltcG9ydCBCdXR0b25MaW5rIGZyb20gJy4vYnV0dG9uLWxpbmsuanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uTGlua0Jyb3dzZSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjaGFuZ2luZyB0ZXh0IGNvbG9yIGluIGEgZG9jdW1lbnQuXG4gKlxuICogQHVzZXMgQnV0dG9uS2V5c3Ryb2tlXG4gKiBAdXNlcyBCdXR0b25Qcm9wc1xuICpcbiAqIEBjbGFzcyBCdXR0b25MaW5rQnJvd3NlXG4gKi9cbmNsYXNzIEJ1dHRvbkxpbmtCcm93c2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGtleXN0cm9rZToge1xuXHRcdFx0Zm46ICdfcmVxdWVzdEV4Y2x1c2l2ZScsXG5cdFx0XHRrZXlzOiBDS0VESVRPUi5DVFJMICsgNzYgLyogTCovLFxuXHRcdFx0bmFtZTogJ2xpbmtCcm93c2UnLFxuXHRcdH0sXG5cdH07XG5cblx0c3RhdGljIGtleSA9ICdsaW5rQnJvd3NlJztcblxuXHRzdGF0aWMgcHJvcFR5cGVzID0ge1xuXHRcdC8qKlxuXHRcdCAqIFRoZSBsYWJlbCB0aGF0IHNob3VsZCBiZSB1c2VkIGZvciBhY2Nlc3NpYmlsaXR5IHB1cnBvc2VzLlxuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGxhYmVsXG5cdFx0ICovXG5cdFx0bGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG5cblx0XHQvKipcblx0XHQgKiBUaGUgdGFiSW5kZXggb2YgdGhlIGJ1dHRvbiBpbiBpdHMgdG9vbGJhciBjdXJyZW50IHN0YXRlLiBBIHZhbHVlIG90aGVyIHRoYW4gLTFcblx0XHQgKiBtZWFucyB0aGF0IHRoZSBidXR0b24gaGFzIGZvY3VzIGFuZCBpcyB0aGUgYWN0aXZlIGVsZW1lbnQuXG5cdFx0ICpcblx0XHQgKiBAcHJvcGVydHkge051bWJlcn0gdGFiSW5kZXhcblx0XHQgKi9cblx0XHR0YWJJbmRleDogUHJvcFR5cGVzLm51bWJlcixcblx0fTtcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcblx0XHRcdHRoaXMucHJvcHMgPSB0aGlzLm1lcmdlQnV0dG9uQ2ZnUHJvcHMoKTtcblxuXHRcdFx0cmV0dXJuIDxCdXR0b25MaW5rRWRpdEJyb3dzZSB7Li4udGhpcy5wcm9wc30gLz47XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiA8QnV0dG9uTGluayB7Li4udGhpcy5wcm9wc30gLz47XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJlcXVlc3RzIHRoZSBsaW5rIGJ1dHRvbiB0byBiZSByZW5kZXJlZCBpbiBleGNsdXNpdmUgbW9kZSB0byBhbGxvdyB0aGUgY3JlYXRpb24gb2YgYSBsaW5rLlxuXHQgKlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBtZXRob2QgX3JlcXVlc3RFeGNsdXNpdmVcblx0ICovXG5cdF9yZXF1ZXN0RXhjbHVzaXZlKCkge1xuXHRcdHRoaXMucHJvcHMucmVxdWVzdEV4Y2x1c2l2ZShCdXR0b25MaW5rQnJvd3NlLmtleSk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uUHJvcHMoQnV0dG9uS2V5c3Ryb2tlKEJ1dHRvbkxpbmtCcm93c2UpKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZyc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5pbXBvcnQgQnV0dG9uTGlua0VkaXQgZnJvbSAnLi9idXR0b24tbGluay1lZGl0LmpzeCc7XG5cbi8qKlxuICogVGhlIExpbmtFZGl0QnJvd3NlIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGEgbGluayBpbiBhIGRvY3VtZW50LFxuICogYW5kIGFsc28gYWxsb3dzIHRvIGxpbmsgdG8gYW4gZXhpc3RpbmcgZmlsZSBpbiBETS5cbiAqIFByb3ZpZGVzIFVJIGZvciBjcmVhdGluZywgZWRpdGluZyBhbmQgcmVtb3ZpbmcgYSBsaW5rLlxuICpcbiAqIEBjbGFzcyBCdXR0b25MaW5rRWRpdEJyb3dzZVxuICovXG5jbGFzcyBCdXR0b25MaW5rRWRpdEJyb3dzZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0c3RhdGljIGtleSA9ICdsaW5rRWRpdEJyb3dzZSc7XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdGNvbnN0IGxpbmsgPSBuZXcgQ0tFRElUT1IuTGluayhcblx0XHRcdC8vIENhbid0IGFjY2VzcyBjb250ZXh0IGZyb20gY29uc3RydWN0b3IsIHNvIGdldCBlZGl0b3IgZnJvbSBwcm9wcy5cblx0XHRcdHRoaXMucHJvcHMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKVxuXHRcdCkuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXG5cdFx0Y29uc3QgaHJlZiA9IGxpbmsgPyBsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpIDogJyc7XG5cblx0XHR0aGlzLmxpbmtFZGl0QnV0dG9uUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG5cblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0ZWxlbWVudDogbGluayxcblx0XHRcdGxpbmtIcmVmOiBocmVmLFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItbGluay1lZGl0LWJyb3dzZVwiPlxuXHRcdFx0XHQ8QnV0dG9uTGlua0VkaXQgcmVmPXt0aGlzLmxpbmtFZGl0QnV0dG9uUmVmfSB7Li4udGhpcy5wcm9wc30gLz5cblx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdGFyaWEtbGFiZWw9XCJCcm93c2VcIlxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdFx0b25DbGljaz17dGhpcy5fYnJvd3NlQ2xpY2t9XG5cdFx0XHRcdFx0dGl0bGU9XCJicm93c2VcIj5cblx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJmb2xkZXJcIiAvPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogT3BlbnMgYW4gaXRlbSBzZWxlY3RvciBkaWFsb2cuXG5cdCAqXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQG1ldGhvZCBfYnJvd3NlQ2xpY2tcblx0ICovXG5cdF9icm93c2VDbGljayA9ICgpID0+IHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0Y29uc3QgdXJsID0gZWRpdG9yLmNvbmZpZy5kb2N1bWVudEJyb3dzZUxpbmtVcmw7XG5cdFx0Y29uc3QgYnJvd3NlTGlua0NhbGxiYWNrID0gZWRpdG9yLmNvbmZpZy5kb2N1bWVudEJyb3dzZUxpbmtDYWxsYmFjaztcblx0XHRjb25zdCBsaW5rVGFyZ2V0ID0gdGhpcy5saW5rRWRpdEJ1dHRvblJlZi5jdXJyZW50XG5cdFx0XHQ/IHRoaXMubGlua0VkaXRCdXR0b25SZWYuY3VycmVudC5zdGF0ZS5saW5rVGFyZ2V0XG5cdFx0XHQ6ICcnO1xuXG5cdFx0Y29uc3QgY2hhbmdlTGlua0NhbGxiYWNrID0gc2VsZWN0ZWRJdGVtID0+IHtcblx0XHRcdHRoaXMuX3VwZGF0ZUxpbmsoXG5cdFx0XHRcdHNlbGVjdGVkSXRlbS52YWx1ZSxcblx0XHRcdFx0bGlua1RhcmdldCxcblx0XHRcdFx0c2VsZWN0ZWRJdGVtLnRpdGxlXG5cdFx0XHQpO1xuXHRcdH07XG5cblx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKGJyb3dzZUxpbmtDYWxsYmFjaykpIHtcblx0XHRcdGJyb3dzZUxpbmtDYWxsYmFjay5hcHBseShudWxsLCBbZWRpdG9yLCB1cmwsIGNoYW5nZUxpbmtDYWxsYmFja10pO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogVXBkYXRlcyB0aGUgbGluayBpbiB0aGUgZWRpdG9yIGVsZW1lbnQuIElmIHRoZSBlbGVtZW50IGRpZG4ndCBleGlzdCBwcmV2aW91c2x5LCBpdCB3aWxsXG5cdCAqIGNyZWF0ZSBhIG5ldyA8YT4gZWxlbWVudCB3aXRoIHRoZSBocmVmIHNwZWNpZmllZCBpbiB0aGUgbGluayBpbnB1dC5cblx0ICpcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAbWV0aG9kIF91cGRhdGVMaW5rXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBsaW5rSHJlZiBocmVmIHZhbHVlIGZvciB0aGUgbGlua1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gbGlua1RhcmdldCB0YXJnZXQgdmFsdWUgZm9yIHRoZSBsaW5rXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBsaW5rVGl0bGUgaWYgdGhlIGxpbmsgaXMgYSB0aXRsZSB0aGF0IHBvaW50cyB0byBhIHdpa2kgcGFnZSAob25seSB3b3JrcyBmb3IgY3Jlb2xlKVxuXHQgKi9cblx0X3VwZGF0ZUxpbmsgPSAobGlua0hyZWYsIGxpbmtUYXJnZXQsIGxpbmtUaXRsZSkgPT4ge1xuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0XHRjb25zdCBsaW5rVXRpbHMgPSBuZXcgQ0tFRElUT1IuTGluayhlZGl0b3IsIHthcHBlbmRQcm90b2NvbDogZmFsc2V9KTtcblx0XHRjb25zdCBsaW5rQXR0cnMgPSB7XG5cdFx0XHR0YXJnZXQ6IGxpbmtUYXJnZXQsXG5cdFx0fTtcblx0XHRjb25zdCBtb2RpZnlTZWxlY3Rpb24gPSB7YWR2YW5jZTogdHJ1ZX07XG5cblx0XHRpZiAobGlua0hyZWYpIHtcblx0XHRcdGlmIChlZGl0b3IucGx1Z2lucyAmJiBlZGl0b3IucGx1Z2lucy5jcmVvbGUgJiYgIWxpbmtUaXRsZSkge1xuXHRcdFx0XHRsaW5rSHJlZiA9IGxvY2F0aW9uLm9yaWdpbiArIGxpbmtIcmVmO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5zdGF0ZS5lbGVtZW50KSB7XG5cdFx0XHRcdGxpbmtBdHRycy5ocmVmID0gbGlua0hyZWY7XG5cblx0XHRcdFx0bGlua1V0aWxzLnVwZGF0ZShcblx0XHRcdFx0XHRsaW5rQXR0cnMsXG5cdFx0XHRcdFx0dGhpcy5zdGF0ZS5lbGVtZW50LFxuXHRcdFx0XHRcdG1vZGlmeVNlbGVjdGlvblxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGlua1V0aWxzLmNyZWF0ZShsaW5rSHJlZiwgbGlua0F0dHJzLCBtb2RpZnlTZWxlY3Rpb24pO1xuXHRcdFx0fVxuXG5cdFx0XHRlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG5cdFx0fVxuXHR9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBFZGl0b3JDb250ZXh0LnRvUHJvcHMoQnV0dG9uTGlua0VkaXRCcm93c2UpO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcbmltcG9ydCBXaWRnZXREcm9wZG93biBmcm9tICcuLi9iYXNlL3dpZGdldC1kcm9wZG93bic7XG5pbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXInO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuaW1wb3J0IEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0IGZyb20gJy4vYnV0dG9uLWxpbmstYXV0b2NvbXBsZXRlLWxpc3QuanN4JztcbmltcG9ydCBCdXR0b25MaW5rVGFyZ2V0RWRpdCBmcm9tICcuL2J1dHRvbi1saW5rLXRhcmdldC1lZGl0LmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkxpbmtFZGl0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGEgbGluayBpbiBhIGRvY3VtZW50LlxuICogUHJvdmlkZXMgVUkgZm9yIGNyZWF0aW5nLCBlZGl0aW5nIGFuZCByZW1vdmluZyBhIGxpbmsuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkxpbmtFZGl0XG4gKiBAdXNlcyBXaWRnZXREcm9wZG93blxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIEJ1dHRvbkxpbmtFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRhcHBlbmRQcm90b2NvbDogdHJ1ZSxcblx0XHRhdXRvY29tcGxldGVVcmw6ICcnLFxuXHRcdGNpcmN1bGFyOiB0cnVlLFxuXHRcdGN1c3RvbUluZGV4U3RhcnQ6IHRydWUsXG5cdFx0ZGVmYXVsdExpbmtUYXJnZXQ6ICcnLFxuXHRcdGRlc2NlbmRhbnRzOiAnLmFlLXRvb2xiYXItZWxlbWVudCcsXG5cdFx0a2V5czoge1xuXHRcdFx0ZGlzbWlzczogWzI3XSxcblx0XHRcdGRpc21pc3NOZXh0OiBbMzldLFxuXHRcdFx0ZGlzbWlzc1ByZXY6IFszN10sXG5cdFx0XHRuZXh0OiBbNDBdLFxuXHRcdFx0cHJldjogWzM4XSxcblx0XHR9LFxuXHRcdHNob3dUYXJnZXRTZWxlY3RvcjogdHJ1ZSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IGxpbmtFZGl0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnbGlua0VkaXQnO1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXG5cdFx0dGhpcy5saW5rSW5wdXQgPSBSZWFjdC5jcmVhdGVSZWYoKTtcblx0XHR0aGlzLnN0YXRlID0gdGhpcy5fZ2V0SW5pdGlhbFN0YXRlKCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cblx0ICpcblx0ICogRm9jdXNlcyBvbiB0aGUgbGluayBpbnB1dCB0byBpbW1lZGlhdGVseSBhbGxvdyBlZGl0aW5nLiBUaGlzIHNob3VsZCBvbmx5IGhhcHBlbiBpZiB0aGUgY29tcG9uZW50XG5cdCAqIGlzIHJlbmRlcmVkIGluIGV4Y2x1c2l2ZSBtb2RlIHRvIHByZXZlbnQgYWdncmVzc2l2ZSBmb2N1cyBzdGVhbGluZy5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG5cdCAqL1xuXHRjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUgfHwgdGhpcy5wcm9wcy5tYW51YWxTZWxlY3Rpb24pIHtcblx0XHRcdC8vIFdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgcmVuZGVyaW5nIGN5Y2xlIGJlZm9yZSBmb2N1c2luZyB0byBhdm9pZCB1bmRlc2lyZWRcblx0XHRcdC8vIHNjcm9sbHMgb24gdGhlIHBhZ2Vcblx0XHRcdHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCB3aGVuIGEgY29tcG9uZW50IGlzIHJlY2VpdmluZyBuZXcgcHJvcHMuXG5cdCAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcblx0ICovXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh0aGlzLl9nZXRJbml0aWFsU3RhdGUoKSk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGxldCB0YXJnZXRTZWxlY3RvciA9IHtcblx0XHRcdGFsbG93ZWRUYXJnZXRzOiB0aGlzLnByb3BzLmFsbG93ZWRUYXJnZXRzLFxuXHRcdFx0ZWRpdG9yOiB0aGlzLmNvbnRleHQuZWRpdG9yLFxuXHRcdFx0aGFuZGxlTGlua1RhcmdldENoYW5nZTogdGhpcy5faGFuZGxlTGlua1RhcmdldENoYW5nZSxcblx0XHRcdHNlbGVjdGVkVGFyZ2V0OlxuXHRcdFx0XHR0aGlzLnN0YXRlLmxpbmtUYXJnZXQgfHwgQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0RGVmYXVsdCxcblx0XHR9O1xuXG5cdFx0dGFyZ2V0U2VsZWN0b3IgPSB0aGlzLm1lcmdlRHJvcGRvd25Qcm9wcyhcblx0XHRcdHRhcmdldFNlbGVjdG9yLFxuXHRcdFx0QnV0dG9uTGlua1RhcmdldEVkaXQua2V5XG5cdFx0KTtcblxuXHRcdGxldCBhdXRvY29tcGxldGVEcm9wZG93bjtcblxuXHRcdGlmICh0aGlzLnByb3BzLmRhdGEpIHtcblx0XHRcdGxldCBkYXRhRm4gPSB0aGlzLnByb3BzLmRhdGE7XG5cblx0XHRcdGlmICghTGFuZy5pc0Z1bmN0aW9uKGRhdGFGbikpIHtcblx0XHRcdFx0Y29uc3QgaXRlbXMgPSB0aGlzLnByb3BzLmRhdGE7XG5cblx0XHRcdFx0ZGF0YUZuID0gKCkgPT4gaXRlbXM7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBhdXRvY29tcGxldGVEcm9wZG93blByb3BzID0ge1xuXHRcdFx0XHRhdXRvY29tcGxldGVTZWxlY3RlZDogdGhpcy5zdGF0ZS5hdXRvY29tcGxldGVTZWxlY3RlZCxcblx0XHRcdFx0ZGF0YTogZGF0YUZuLFxuXHRcdFx0XHRlZGl0b3I6IHRoaXMuY29udGV4dC5lZGl0b3IsXG5cdFx0XHRcdGhhbmRsZUxpbmtBdXRvY29tcGxldGVDbGljazogdGhpcy5faGFuZGxlTGlua0F1dG9jb21wbGV0ZUNsaWNrLFxuXHRcdFx0XHRvbkRpc21pc3M6IHRoaXMucHJvcHMudG9nZ2xlRHJvcGRvd24sXG5cdFx0XHRcdHNldEF1dG9jb21wbGV0ZVN0YXRlOiB0aGlzLl9zZXRBdXRvY29tcGxldGVTdGF0ZSxcblx0XHRcdFx0dGVybTogdGhpcy5zdGF0ZS5saW5rSHJlZixcblx0XHRcdH07XG5cblx0XHRcdGF1dG9jb21wbGV0ZURyb3Bkb3duUHJvcHMgPSB0aGlzLm1lcmdlRHJvcGRvd25Qcm9wcyhcblx0XHRcdFx0YXV0b2NvbXBsZXRlRHJvcGRvd25Qcm9wcyxcblx0XHRcdFx0QnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3Qua2V5XG5cdFx0XHQpO1xuXG5cdFx0XHRhdXRvY29tcGxldGVEcm9wZG93biA9IChcblx0XHRcdFx0PEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0IHsuLi5hdXRvY29tcGxldGVEcm9wZG93blByb3BzfSAvPlxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRsZXQgYnV0dG9uQ2xlYXJMaW5rO1xuXG5cdFx0aWYgKHRoaXMuc3RhdGUubGlua0hyZWYpIHtcblx0XHRcdGJ1dHRvbkNsZWFyTGluayA9IChcblx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuY2xlYXJJbnB1dH1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b24gYWUtYnV0dG9uLWNsZWFyXCJcblx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLl9jbGVhckxpbmt9XG5cdFx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY2xlYXJ9PlxuXHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cInRpbWVzLWNpcmNsZVwiIC8+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCBwbGFjZWhvbGRlclByb3AgPSB7fTtcblxuXHRcdGlmICghQ0tFRElUT1IuZW52LmllICYmIEFsbG95RWRpdG9yLlN0cmluZ3MpIHtcblx0XHRcdHBsYWNlaG9sZGVyUHJvcC5wbGFjZWhvbGRlciA9IEFsbG95RWRpdG9yLlN0cmluZ3MuZWRpdExpbms7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtbGlua1wiPlxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5yZW1vdmVMaW5rfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdFx0ZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLmVsZW1lbnR9XG5cdFx0XHRcdFx0b25DbGljaz17dGhpcy5fcmVtb3ZlTGlua31cblx0XHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5yZW1vdmV9PlxuXHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImNoYWluLWJyb2tlblwiIC8+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lci1pbnB1dCB4eGxcIj5cblx0XHRcdFx0XHR7dGhpcy5wcm9wcy5zaG93VGFyZ2V0U2VsZWN0b3IgJiYgKFxuXHRcdFx0XHRcdFx0PEJ1dHRvbkxpbmtUYXJnZXRFZGl0IHsuLi50YXJnZXRTZWxlY3Rvcn0gLz5cblx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0XCI+XG5cdFx0XHRcdFx0XHQ8aW5wdXRcblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtaW5wdXRcIlxuXHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17dGhpcy5faGFuZGxlTGlua0hyZWZDaGFuZ2V9XG5cdFx0XHRcdFx0XHRcdG9uS2V5RG93bj17dGhpcy5faGFuZGxlS2V5RG93bn1cblx0XHRcdFx0XHRcdFx0ey4uLnBsYWNlaG9sZGVyUHJvcH1cblx0XHRcdFx0XHRcdFx0cmVmPXt0aGlzLmxpbmtJbnB1dH1cblx0XHRcdFx0XHRcdFx0dHlwZT1cInRleHRcIlxuXHRcdFx0XHRcdFx0XHR2YWx1ZT17dGhpcy5zdGF0ZS5saW5rSHJlZn1cblx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHR7YXV0b2NvbXBsZXRlRHJvcGRvd259XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e2J1dHRvbkNsZWFyTGlua31cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvbmZpcm19XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uXCJcblx0XHRcdFx0XHRkaXNhYmxlZD17IXRoaXMuX2lzVmFsaWRTdGF0ZSgpfVxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX3VwZGF0ZUxpbmt9XG5cdFx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29uZmlybX0+XG5cdFx0XHRcdFx0PEJ1dHRvbkljb24gY2xhc3NOYW1lPVwiYWUtaWNvbi1zdmctY2hlY2tcIiBzeW1ib2w9XCJjaGVja1wiIC8+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyB0aGUgaW5pdGlhbCB2YWx1ZSBvZiB0aGlzLnN0YXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgX2dldEluaXRpYWxTdGF0ZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICovXG5cdF9nZXRJbml0aWFsU3RhdGUoKSB7XG5cdFx0Ly8gQ2FuJ3QgYWNjZXNzIGNvbnRleHQgZnJvbSBjb250cnVjdG9yLCBzbyBnZXQgZWRpdG9yIGZyb20gcHJvcHMuXG5cdFx0Y29uc3Qge2VkaXRvcn0gPSB0aGlzLnByb3BzLmNvbnRleHQ7XG5cdFx0Y29uc3Qge2RlZmF1bHRMaW5rVGFyZ2V0fSA9IHRoaXMucHJvcHM7XG5cblx0XHRjb25zdCBsaW5rID0gbmV3IENLRURJVE9SLkxpbmsoXG5cdFx0XHRlZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKVxuXHRcdCkuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXHRcdGNvbnN0IGhyZWYgPSAobGluayAmJiBsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpKSB8fCAnJztcblx0XHRjb25zdCB0YXJnZXQgPVxuXHRcdFx0KGxpbmsgJiYgbGluay5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpKSB8fCBkZWZhdWx0TGlua1RhcmdldDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRhdXRvY29tcGxldGVTZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRlbGVtZW50OiBsaW5rLFxuXHRcdFx0aW5pdGlhbExpbms6IHtcblx0XHRcdFx0aHJlZixcblx0XHRcdFx0dGFyZ2V0LFxuXHRcdFx0fSxcblx0XHRcdGxpbmtIcmVmOiBocmVmLFxuXHRcdFx0bGlua1RhcmdldDogdGFyZ2V0LFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQ2xlYXJzIHRoZSBsaW5rIGlucHV0LiBUaGlzIG9ubHkgY2hhbmdlcyB0aGUgY29tcG9uZW50IGludGVybmFsIHN0YXRlLCBidXQgZG9lcyBub3Rcblx0ICogYWZmZWN0IHRoZSBsaW5rIGVsZW1lbnQgb2YgdGhlIGVkaXRvci4gT25seSB0aGUgX3JlbW92ZUxpbmsgYW5kIF91cGRhdGVMaW5rIG1ldGhvZHNcblx0ICogYXJlIHRyYW5zbGF0ZWQgdG8gdGhlIGVkaXRvciBlbGVtZW50LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgX2NsZWFyTGlua1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfY2xlYXJMaW5rID0gKCkgPT4ge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0bGlua0hyZWY6ICcnLFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5fZm9jdXNMaW5rSW5wdXQoKTtcblx0fTtcblxuXHQvKipcblx0ICogRm9jdXNlcyB0aGUgdXNlciBjdXJzb3Igb24gdGhlIHdpZGdldCdzIGlucHV0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgX2ZvY3VzTGlua0lucHV0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9mb2N1c0xpbmtJbnB1dCgpIHtcblx0XHRjb25zdCBpbnN0YW5jZSA9IHRoaXM7XG5cblx0XHRjb25zdCBmb2N1c0xpbmtFbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aW5zdGFuY2UubGlua0lucHV0LmN1cnJlbnQuZm9jdXMoKTtcblx0XHR9O1xuXG5cdFx0aWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcblx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm9jdXNMaW5rRWwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXRUaW1lb3V0KGZvY3VzTGlua0VsLCAwKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTW9uaXRvcnMga2V5IGludGVyYWN0aW9uIGluc2lkZSB0aGUgaW5wdXQgZWxlbWVudCB0byByZXNwb25kIHRvIHRoZSBrZXlzOlxuXHQgKiAtIEVudGVyOiBDcmVhdGVzL3VwZGF0ZXMgdGhlIGxpbmsuXG5cdCAqIC0gRXNjYXBlOiBEaXNjYXJkcyB0aGUgY2hhbmdlcy5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuXHQgKiBAbWV0aG9kIF9oYW5kbGVLZXlEb3duXG5cdCAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50IFRoZSBrZXlib2FyZCBldmVudC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2hhbmRsZUtleURvd24gPSBldmVudCA9PiB7XG5cdFx0aWYgKGV2ZW50LmtleUNvZGUgPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xuXHRcdFx0dGhpcy5fdXBkYXRlTGluaygpO1xuXHRcdH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gNDApIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRhdXRvY29tcGxldGVTZWxlY3RlZDogdHJ1ZSxcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMjcpIHtcblx0XHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdFx0bmV3IENLRURJVE9SLkxpbmsoZWRpdG9yKS5hZHZhbmNlU2VsZWN0aW9uKCk7XG5cblx0XHRcdHRoaXMuY29udGV4dC5lZGl0b3Jcblx0XHRcdFx0LmdldCgnbmF0aXZlRWRpdG9yJylcblx0XHRcdFx0LmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogVXBkYXRlcyB0aGUgY29tcG9uZW50IHN0YXRlIHdoZW4gdGhlIGxpbmsgaW5wdXQgY2hhbmdlcyBvbiB1c2VyIGludGVyYWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgX2hhbmRsZUxpbmtIcmVmQ2hhbmdlXG5cdCAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50IFRoZSBjaGFuZ2UgZXZlbnQuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9oYW5kbGVMaW5rSHJlZkNoYW5nZSA9IGV2ZW50ID0+IHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGxpbmtIcmVmOiBldmVudC50YXJnZXQudmFsdWUsXG5cdFx0fSk7XG5cblx0XHR0aGlzLl9mb2N1c0xpbmtJbnB1dCgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBVcGRhdGVzIHRoZSBjb21wb25lbnQgc3RhdGUgd2hlbiB0aGUgbGluayB0YXJnZXQgY2hhbmdlcyBvbiB1c2VyIGludGVyYWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgX2hhbmRsZUxpbmtUYXJnZXRDaGFuZ2Vcblx0ICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgVGhlIGNsaWNrIGV2ZW50LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfaGFuZGxlTGlua1RhcmdldENoYW5nZSA9IGV2ZW50ID0+IHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGl0ZW1Ecm9wZG93bjogbnVsbCxcblx0XHRcdGxpbmtUYXJnZXQ6IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSxcblx0XHR9KTtcblxuXHRcdHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIGNvbXBvbmVudCBzdGF0ZSB3aGVuIGFuIGF1dG9jb21wbGV0ZSBsaW5rIHJlc3VsdCBpcyBzZWxlY3RlZCBieSB1c2VyIGludGVyYWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgX2hhbmRsZUxpbmtBdXRvY29tcGxldGVDbGlja1xuXHQgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2xpY2sgZXZlbnQuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2soZXZlbnQpIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGl0ZW1Ecm9wZG93bjogbnVsbCxcblx0XHRcdGxpbmtIcmVmOiBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyksXG5cdFx0fSk7XG5cblx0XHR0aGlzLl9mb2N1c0xpbmtJbnB1dCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFZlcmlmaWVzIHRoYXQgdGhlIGN1cnJlbnQgbGluayBzdGF0ZSBpcyB2YWxpZCBzbyB0aGUgdXNlciBjYW4gc2F2ZSB0aGUgbGluay4gQSB2YWxpZCBzdGF0ZVxuXHQgKiBtZWFucyB0aGF0IHdlIGhhdmUgYSBub24tZW1wdHkgaHJlZiBhbmQgdGhhdCBlaXRoZXIgdGhhdCBvciB0aGUgbGluayB0YXJnZXQgYXJlIGRpZmZlcmVudFxuXHQgKiBmcm9tIHRoZSBvcmlnaW5hbCBsaW5rLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgX2lzVmFsaWRTdGF0ZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdF9pc1ZhbGlkU3RhdGUoKSB7XG5cdFx0Y29uc3QgdmFsaWRTdGF0ZSA9XG5cdFx0XHR0aGlzLnN0YXRlLmxpbmtIcmVmICYmXG5cdFx0XHQodGhpcy5zdGF0ZS5saW5rSHJlZiAhPT0gdGhpcy5zdGF0ZS5pbml0aWFsTGluay5ocmVmIHx8XG5cdFx0XHRcdHRoaXMuc3RhdGUubGlua1RhcmdldCAhPT0gdGhpcy5zdGF0ZS5pbml0aWFsTGluay50YXJnZXQpO1xuXG5cdFx0cmV0dXJuIHZhbGlkU3RhdGU7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyB0aGUgbGluayBpbiB0aGUgZWRpdG9yIGVsZW1lbnQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcblx0ICogQG1ldGhvZCBfcmVtb3ZlTGlua1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfcmVtb3ZlTGluayA9ICgpID0+IHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0Y29uc3QgbGlua1V0aWxzID0gbmV3IENLRURJVE9SLkxpbmsoZWRpdG9yKTtcblx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0Y29uc3QgYm9va21hcmtzID0gc2VsZWN0aW9uLmNyZWF0ZUJvb2ttYXJrcygpO1xuXG5cdFx0bGlua1V0aWxzLnJlbW92ZSh0aGlzLnN0YXRlLmVsZW1lbnQsIHthZHZhbmNlOiB0cnVlfSk7XG5cblx0XHRzZWxlY3Rpb24uc2VsZWN0Qm9va21hcmtzKGJvb2ttYXJrcyk7XG5cblx0XHQvLyBXZSBuZWVkIHRvIGNhbmNlbEV4Y2x1c2l2ZSB3aXRoIHRoZSBib3VuZCBwYXJhbWV0ZXJzIGluIGNhc2UgdGhlIGJ1dHRvbiBpcyB1c2VkXG5cdFx0Ly8gaW5zaWRlIGFub3RoZXIgaW4gZXhjbHVzaXZlIG1vZGUgKHN1Y2ggaXMgdGhlIGNhc2Ugb2YgdGhlIGxpbmsgYnV0dG9uKVxuXHRcdHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG5cblx0XHRlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSBhdXRvY29tcGxldGVTZWxlY3RlZCBzdGF0ZSB0byBmb2N1cyBhbmQgc2VsZWN0IGF1dG9jb21wbGV0ZcK0cyBkcm9wZG93blxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG5cdCAqIEBtZXRob2QgX3NldEF1dG9jb21wbGV0ZVN0YXRlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9zZXRBdXRvY29tcGxldGVTdGF0ZShzdGF0ZSkge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0YXV0b2NvbXBsZXRlU2VsZWN0ZWQ6IHN0YXRlLnNlbGVjdGVkLFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIGxpbmsgaW4gdGhlIGVkaXRvciBlbGVtZW50LiBJZiB0aGUgZWxlbWVudCBkaWRuJ3QgZXhpc3QgcHJldmlvdXNseSwgaXQgd2lsbFxuXHQgKiBjcmVhdGUgYSBuZXcgPGE+IGVsZW1lbnQgd2l0aCB0aGUgaHJlZiBzcGVjaWZpZWQgaW4gdGhlIGxpbmsgaW5wdXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcblx0ICogQG1ldGhvZCBfdXBkYXRlTGlua1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfdXBkYXRlTGluayA9ICgpID0+IHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0Y29uc3QgbGlua1V0aWxzID0gbmV3IENLRURJVE9SLkxpbmsoZWRpdG9yLCB7XG5cdFx0XHRhcHBlbmRQcm90b2NvbDogdGhpcy5wcm9wcy5hcHBlbmRQcm90b2NvbCxcblx0XHR9KTtcblx0XHRsZXQgbGlua0F0dHJzID0ge1xuXHRcdFx0dGFyZ2V0OiB0aGlzLnN0YXRlLmxpbmtUYXJnZXQgfHwgbnVsbCxcblx0XHR9O1xuXHRcdGNvbnN0IG1vZGlmeVNlbGVjdGlvbiA9IHthZHZhbmNlOiB0cnVlfTtcblxuXHRcdGlmICh0aGlzLnN0YXRlLmxpbmtIcmVmKSB7XG5cdFx0XHRpZiAodGhpcy5zdGF0ZS5lbGVtZW50KSB7XG5cdFx0XHRcdGxpbmtBdHRycy5ocmVmID0gdGhpcy5zdGF0ZS5saW5rSHJlZjtcblxuXHRcdFx0XHRsaW5rVXRpbHMudXBkYXRlKFxuXHRcdFx0XHRcdGxpbmtBdHRycyxcblx0XHRcdFx0XHR0aGlzLnN0YXRlLmVsZW1lbnQsXG5cdFx0XHRcdFx0bW9kaWZ5U2VsZWN0aW9uXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIXRoaXMuc3RhdGUubGlua1RhcmdldCkgbGlua0F0dHJzID0ge307XG5cblx0XHRcdFx0bGlua1V0aWxzLmNyZWF0ZShcblx0XHRcdFx0XHR0aGlzLnN0YXRlLmxpbmtIcmVmLFxuXHRcdFx0XHRcdGxpbmtBdHRycyxcblx0XHRcdFx0XHRtb2RpZnlTZWxlY3Rpb25cblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0ZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXHRcdH1cblxuXHRcdC8vIFdlIG5lZWQgdG8gY2FuY2VsRXhjbHVzaXZlIHdpdGggdGhlIGJvdW5kIHBhcmFtZXRlcnMgaW4gY2FzZSB0aGUgYnV0dG9uIGlzIHVzZWRcblx0XHQvLyBpbnNpZGUgYW5vdGhlciBpbiBleGNsdXNpdmUgbW9kZSAoc3VjaCBpcyB0aGUgY2FzZSBvZiB0aGUgbGluayBidXR0b24pXG5cdFx0dGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yQ29udGV4dC50b1Byb3BzKFxuXHRXaWRnZXREcm9wZG93bihXaWRnZXRGb2N1c01hbmFnZXIoQnV0dG9uTGlua0VkaXQpKVxuKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhcmdldExpc3QgZnJvbSAnLi9idXR0b24tdGFyZ2V0LWxpc3QuanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uTGlua1RhcmdldEVkaXQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY2hhbmdpbmcgdGhlIHRhcmdldCBvZiBhIGxpbmtcbiAqIGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uTGlua1RhcmdldEVkaXRcbiAqL1xuY2xhc3MgQnV0dG9uTGlua1RhcmdldEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IGxpbmtUYXJnZXRFZGl0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rVGFyZ2V0RWRpdFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnbGlua1RhcmdldEVkaXQnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua1RhcmdldEVkaXRcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgaGFuZGxlTGlua1RhcmdldENoYW5nZSA9IHRoaXMucHJvcHMuaGFuZGxlTGlua1RhcmdldENoYW5nZTtcblx0XHRjb25zdCBhbGxvd2VkTGlua1RhcmdldHMgPSB0aGlzLnByb3BzLmFsbG93ZWRUYXJnZXRzO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXZcblx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWRyb3Bkb3duIGFlLWNvbnRhaW5lci1kcm9wZG93bi1tZWRpdW0gYWUtY29udGFpbmVyLWVkaXQtbGluay10YXJnZXQgYWUtaGFzLWRyb3Bkb3duXCJcblx0XHRcdFx0dGFiSW5kZXg9XCIwXCI+XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmV4cGFuZGVkfVxuXHRcdFx0XHRcdGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuc2VsZWN0ZWRUYXJnZXR9XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtdG9vbGJhci1lbGVtZW50XCJcblx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufVxuXHRcdFx0XHRcdHJvbGU9XCJjb21ib2JveFwiXG5cdFx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdFx0dGl0bGU9e3RoaXMucHJvcHMuc2VsZWN0ZWRUYXJnZXR9PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPlxuXHRcdFx0XHRcdFx0XHR7dGhpcy5wcm9wcy5zZWxlY3RlZFRhcmdldH1cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImNhcmV0LWJvdHRvbVwiIC8+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHR7dGhpcy5wcm9wcy5leHBhbmRlZCAmJiAoXG5cdFx0XHRcdFx0PEJ1dHRvblRhcmdldExpc3Rcblx0XHRcdFx0XHRcdGFsbG93ZWRMaW5rVGFyZ2V0cz17YWxsb3dlZExpbmtUYXJnZXRzfVxuXHRcdFx0XHRcdFx0aGFuZGxlTGlua1RhcmdldENoYW5nZT17aGFuZGxlTGlua1RhcmdldENoYW5nZX1cblx0XHRcdFx0XHRcdG9uRGlzbWlzcz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn1cblx0XHRcdFx0XHRcdHNlbGVjdGVkVGFyZ2V0PXt0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0fVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdCl9XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBiZWZvcmUgcmVuZGVyaW5nIHdoZW4gbmV3IHByb3BzIG9yIHN0YXRlIGFyZSBiZWluZyByZWNlaXZlZC5cblx0ICogVGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCBmb3IgdGhlIGluaXRpYWwgcmVuZGVyIG9yIHdoZW4gZm9yY2VVcGRhdGUgaXMgdXNlZC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rVGFyZ2V0RWRpdFxuXHQgKiBAbWV0aG9kICBzaG91bGRDb21wb25lbnRVcGRhdGVcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJucyBmYWxzZSB3aGVuIHRoZSB0cmFuc2l0aW9uIHRvIHRoZSBuZXcgcHJvcHMgYW5kIHN0YXRlIHdpbGwgbm90XG5cdCAqIHJlcXVpcmUgYSBjb21wb25lbnQgdXBkYXRlLlxuXHQgKi9cblx0c2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuXHRcdHJldHVybiAoXG5cdFx0XHRuZXh0UHJvcHMuZXhwYW5kZWQgIT09IHRoaXMucHJvcHMuZXhwYW5kZWQgfHxcblx0XHRcdG5leHRQcm9wcy5zZWxlY3RlZFRhcmdldCAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZFRhcmdldFxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uTGlua1RhcmdldEVkaXQ7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuaW1wb3J0IEJ1dHRvbktleXN0cm9rZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1rZXlzdHJva2UnO1xuaW1wb3J0IEJ1dHRvblByb3BzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXByb3BzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcyc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5pbXBvcnQgQnV0dG9uTGlua0VkaXQgZnJvbSAnLi9idXR0b24tbGluay1lZGl0LmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkxpbmsgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYW5kIGVkaXRpbmcgYSBsaW5rIGluIGEgZG9jdW1lbnQuIEJ1dHRvbkxpbmtcbiAqIHJlbmRlcnMgaW4gdHdvIGRpZmZlcmVudCBtb2RlczpcbiAqXG4gKiAtIE5vcm1hbDogSnVzdCBhIGJ1dHRvbiB0aGF0IGFsbG93cyB0byBzd2l0Y2ggdG8gdGhlIGVkaXRpb24gbW9kZVxuICogLSBFeGNsdXNpdmU6IFRoZSBCdXR0b25MaW5rRWRpdCBVSSB3aXRoIGFsbCB0aGUgbGluayBlZGl0aW9uIGNvbnRyb2xzLlxuICpcbiAqIEBjbGFzcyBCdXR0b25MaW5rXG4gKiBAdXNlcyBCdXR0b25Qcm9wc1xuICogQHVzZXMgQnV0dG9uS2V5c3Ryb2tlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uTGluayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRrZXlzdHJva2U6IHtcblx0XHRcdGZuOiAnX3JlcXVlc3RFeGNsdXNpdmUnLFxuXHRcdFx0a2V5czogQ0tFRElUT1IuQ1RSTCArIDc2IC8qIEwqLyxcblx0XHRcdG5hbWU6ICdsaW5rJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgbGlua1xuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua1xuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnbGluayc7XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gaXMgY29udGFpbmVkIHdpdGhpbiBhIGxpbmsuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua1xuXHQgKiBAbWV0aG9kIGlzQWN0aXZlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHNlbGVjdGlvbiBpcyBpbnNpZGUgYSBsaW5rLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqL1xuXHRpc0FjdGl2ZSgpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0bmV3IENLRURJVE9SLkxpbmsoXG5cdFx0XHRcdHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKVxuXHRcdFx0KS5nZXRGcm9tU2VsZWN0aW9uKCkgIT09IG51bGxcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25MaW5rXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAke3RoaXMuZ2V0U3RhdGVDbGFzc2VzKCl9YDtcblxuXHRcdGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSkge1xuXHRcdFx0Y29uc3QgcHJvcHMgPSB0aGlzLm1lcmdlQnV0dG9uQ2ZnUHJvcHMoKTtcblxuXHRcdFx0cmV0dXJuIDxCdXR0b25MaW5rRWRpdCB7Li4ucHJvcHN9IC8+O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLWxpbmtcIlxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX3JlcXVlc3RFeGNsdXNpdmV9XG5cdFx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MubGlua30+XG5cdFx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwibGlua1wiIC8+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmVxdWVzdHMgdGhlIGxpbmsgYnV0dG9uIHRvIGJlIHJlbmRlcmVkIGluIGV4Y2x1c2l2ZSBtb2RlIHRvIGFsbG93IHRoZSBjcmVhdGlvbiBvZiBhIGxpbmsuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uTGlua1xuXHQgKiBAbWV0aG9kIF9yZXF1ZXN0RXhjbHVzaXZlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9yZXF1ZXN0RXhjbHVzaXZlID0gKCkgPT4ge1xuXHRcdHRoaXMucHJvcHMucmVxdWVzdEV4Y2x1c2l2ZShCdXR0b25MaW5rLmtleSk7XG5cdH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblByb3BzKEJ1dHRvbktleXN0cm9rZShCdXR0b25TdGF0ZUNsYXNzZXMoQnV0dG9uTGluaykpKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uT3JkZXJlZExpc3QgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgb3JkZXJlZCBsaXN0cyBpbiBhbiBlZGl0b3IuXG4gKlxuICogQGNsYXNzIEJ1dHRvbk9yZGVyZWRMaXN0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbk9yZGVyZWRMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbk9yZGVyZWRMaXN0XG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0Y29tbWFuZDogJ251bWJlcmVkbGlzdCcsXG5cdFx0c3R5bGU6IHtcblx0XHRcdGVsZW1lbnQ6ICdvbCcsXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IG9sXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25PcmRlcmVkTGlzdFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnb2wnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uT3JkZXJlZExpc3Rcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3NzQ2xhc3MgPSBgYWUtYnV0dG9uICR7dGhpcy5nZXRTdGF0ZUNsYXNzZXMoKX1gO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5udW1iZXJlZGxpc3R9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLW9sXCJcblx0XHRcdFx0b25DbGljaz17dGhpcy5leGVjQ29tbWFuZH1cblx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLm51bWJlcmVkbGlzdH0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImxpc3Qtb2xcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuXHRCdXR0b25TdGF0ZUNsYXNzZXMoQnV0dG9uU3R5bGUoQnV0dG9uT3JkZXJlZExpc3QpKVxuKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZEFjdGl2ZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZSc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25PdXRkZW50QmxvY2sgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3Igb3V0ZGVudGluZyBibG9ja3MuXG4gKlxuICogQGNsYXNzIEJ1dHRvbk91dGRlbnRCbG9ja1xuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZEFjdGl2ZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmNsYXNzIEJ1dHRvbk91dGRlbnRCbG9jayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25PdXRkZW50QmxvY2tcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjb21tYW5kOiAnb3V0ZGVudCcsXG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCBvdXRkZW50QmxvY2tcblx0ICogQG1lbWJlcm9mIEJ1dHRvbk91dGRlbnRCbG9ja1xuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnb3V0ZGVudEJsb2NrJztcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbk91dGRlbnRCbG9ja1xuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBjc3NDbGFzcyA9IGBhZS1idXR0b24gJHt0aGlzLmdldFN0YXRlQ2xhc3NlcygpfWA7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLm91dGRlbnR9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLW91dGRlbnQtYmxvY2tcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3Mub3V0ZGVudH0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImluZGVudC1tb3JlXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcblx0QnV0dG9uQ29tbWFuZEFjdGl2ZShCdXR0b25TdGF0ZUNsYXNzZXMoQnV0dG9uT3V0ZGVudEJsb2NrKSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFsaWduaW5nIGEgcGFyYWdyYXBoIG9uIGxlZnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvblBhcmFncmFwaEFsaWduTGVmdFxuICpcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0XG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0Y29tbWFuZDogJ2p1c3RpZnlsZWZ0Jyxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHBhcmFncmFwaExlZnRcblx0ICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEFsaWduTGVmdFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAncGFyYWdyYXBoTGVmdCc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnRcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3NzQ2xhc3MgPSBgYWUtYnV0dG9uICR7dGhpcy5nZXRTdGF0ZUNsYXNzZXMoKX1gO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnbkxlZnR9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1sZWZ0XCJcblx0XHRcdFx0b25DbGljaz17dGhpcy5leGVjQ29tbWFuZH1cblx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduTGVmdH0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImFsaWduLWxlZnRcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuXHRCdXR0b25Db21tYW5kQWN0aXZlKEJ1dHRvblN0YXRlQ2xhc3NlcyhCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQpKVxuKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZEFjdGl2ZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZSc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFsaWduaW5nIGEgcGFyYWdyYXBoIG9uIHJpZ2h0LlxuICpcbiAqIEBjbGFzcyBCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0XG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0Y29tbWFuZDogJ2p1c3RpZnlyaWdodCcsXG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCBwYXJhZ3JhcGhSaWdodFxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAncGFyYWdyYXBoUmlnaHQnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodFxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBjc3NDbGFzcyA9IGBhZS1idXR0b24gJHt0aGlzLmdldFN0YXRlQ2xhc3NlcygpfWA7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduUmlnaHR9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1yaWdodFwiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmR9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnblJpZ2h0fT5cblx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwiYWxpZ24tcmlnaHRcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuXHRCdXR0b25Db21tYW5kQWN0aXZlKEJ1dHRvblN0YXRlQ2xhc3NlcyhCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0KSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRzTGlzdCBmcm9tICcuL2J1dHRvbi1jb21tYW5kcy1saXN0LmpzeCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblBhcmFncmFwaEFsaWduIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gd29yayB3aXRoIHRhYmxlIHJvd3MuXG4gKlxuICogQGNsYXNzIEJ1dHRvblBhcmFncmFwaEFsaWduXG4gKi9cbmNsYXNzIEJ1dHRvblBhcmFncmFwaEFsaWduIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRzdGF0aWMga2V5ID0gJ3BhcmFncmFwaEFsaWduJztcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEFsaWduXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGxldCBidXR0b25Db21tYW5kc0xpc3Q7XG5cdFx0bGV0IGJ1dHRvbkNvbW1hbmRzTGlzdElkO1xuXG5cdFx0aWYgKHRoaXMucHJvcHMuZXhwYW5kZWQpIHtcblx0XHRcdGJ1dHRvbkNvbW1hbmRzTGlzdElkID0gQnV0dG9uUGFyYWdyYXBoQWxpZ24ua2V5ICsgJ0xpc3QnO1xuXHRcdFx0YnV0dG9uQ29tbWFuZHNMaXN0ID0gKFxuXHRcdFx0XHQ8QnV0dG9uQ29tbWFuZHNMaXN0XG5cdFx0XHRcdFx0Y29tbWFuZHM9e3RoaXMuX2dldENvbW1hbmRzKCl9XG5cdFx0XHRcdFx0aW5saW5lSWNvbnM9e2ZhbHNlfVxuXHRcdFx0XHRcdGxpc3RJZD17YnV0dG9uQ29tbWFuZHNMaXN0SWR9XG5cdFx0XHRcdFx0b25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufVxuXHRcdFx0XHQvPlxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRjb25zdCBhY3RpdmVDb21tYW5kID0gdGhpcy5fZ2V0Q29tbWFuZHMoKVxuXHRcdFx0LmZpbHRlcihhbGlnbm1lbnQgPT4ge1xuXHRcdFx0XHRjb25zdCBjb21tYW5kID0gZWRpdG9yLmdldENvbW1hbmQoYWxpZ25tZW50LmNvbW1hbmQpO1xuXG5cdFx0XHRcdHJldHVybiBjb21tYW5kID8gY29tbWFuZC5zdGF0ZSA9PT0gQ0tFRElUT1IuVFJJU1RBVEVfT04gOiBmYWxzZTtcblx0XHRcdH0pXG5cdFx0XHQucG9wKCk7XG5cblx0XHRjb25zdCBpY29uQ2xhc3NOYW1lID0gYWN0aXZlQ29tbWFuZC5pY29uO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWRyb3Bkb3duIGFlLWNvbnRhaW5lci1kcm9wZG93bi14c21hbGwgYWUtaGFzLWRyb3Bkb3duXCI+XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmV4cGFuZGVkfVxuXHRcdFx0XHRcdGFyaWEtbGFiZWw9e2FjdGl2ZUNvbW1hbmQubGFiZWx9XG5cdFx0XHRcdFx0YXJpYS1vd25zPXtidXR0b25Db21tYW5kc0xpc3RJZH1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS10b29sYmFyLWVsZW1lbnRcIlxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259XG5cdFx0XHRcdFx0cm9sZT1cImNvbWJvYm94XCJcblx0XHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5yb3d9PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG5cdFx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9e2ljb25DbGFzc05hbWV9IC8+XG5cdFx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJjYXJldC1ib3R0b21cIiAvPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0e2J1dHRvbkNvbW1hbmRzTGlzdH1cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIGxpc3Qgb2YgY29tbWFuZHMuIElmIGEgbGlzdCBvZiBjb21tYW5kcyB3YXMgcGFzc2VkXG5cdCAqIGFzIHByb3BlcnR5IGBjb21tYW5kc2AsIGl0IHdpbGwgdGFrZSBhIHByZWNlZGVuY2Ugb3ZlciB0aGUgZGVmYXVsdCBvbmVzLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEFsaWduXG5cdCAqIEBtZXRob2QgX2dldENvbW1hbmRzXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy5cblx0ICovXG5cdF9nZXRDb21tYW5kcygpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0dGhpcy5wcm9wcy5jb21tYW5kcyB8fCBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAnanVzdGlmeWxlZnQnLFxuXHRcdFx0XHRcdGljb246ICdhbGlnbi1sZWZ0Jyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnbkxlZnQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAnanVzdGlmeWNlbnRlcicsXG5cdFx0XHRcdFx0aWNvbjogJ2FsaWduLWNlbnRlcicsXG5cdFx0XHRcdFx0bGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25DZW50ZXIsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAnanVzdGlmeXJpZ2h0Jyxcblx0XHRcdFx0XHRpY29uOiAnYWxpZ24tcmlnaHQnLFxuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduUmlnaHQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAnanVzdGlmeWJsb2NrJyxcblx0XHRcdFx0XHRpY29uOiAnYWxpZ24tanVzdGlmeScsXG5cdFx0XHRcdFx0bGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25KdXN0aWZ5LFxuXHRcdFx0XHR9LFxuXHRcdFx0XVxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uUGFyYWdyYXBoQWxpZ247XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uUGFyYWdyYXBoQ2VudGVyIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNlbnRlcmluZyBhIHBhcmFncmFwaC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uUGFyYWdyYXBoQ2VudGVyXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uUGFyYWdyYXBoQ2VudGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaENlbnRlclxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNvbW1hbmQ6ICdqdXN0aWZ5Y2VudGVyJyxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHBhcmFncmFwaENlbnRlclxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQ2VudGVyXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdwYXJhZ3JhcGhDZW50ZXInO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQ2VudGVyXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAke3RoaXMuZ2V0U3RhdGVDbGFzc2VzKCl9YDtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25DZW50ZXJ9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLXBhcmFncmFwaC1jZW50ZXJcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25DZW50ZXJ9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJhbGlnbi1jZW50ZXJcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuXHRCdXR0b25Db21tYW5kQWN0aXZlKEJ1dHRvblN0YXRlQ2xhc3NlcyhCdXR0b25QYXJhZ3JhcGhDZW50ZXIpKVxuKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZEFjdGl2ZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZSc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25QYXJhZ3JhcGhKdXN0aWZ5IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGp1c3RmeWluZyBhIHBhcmFncmFwaC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeVxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZEFjdGl2ZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmNsYXNzIEJ1dHRvblBhcmFncmFwaEp1c3RpZnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeVxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNvbW1hbmQ6ICdqdXN0aWZ5YmxvY2snLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgcGFyYWdyYXBoSnVzdGlmeVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeVxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAncGFyYWdyYXBoSnVzdGlmeSc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25QYXJhZ3JhcGhKdXN0aWZ5XG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAke3RoaXMuZ2V0U3RhdGVDbGFzc2VzKCl9YDtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25KdXN0aWZ5fVxuXHRcdFx0XHRhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1wYXJhZ3JhcGgtanVzdGlmeVwiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmR9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnbkp1c3RpZnl9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJhbGlnbi1qdXN0aWZ5XCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcblx0QnV0dG9uQ29tbWFuZEFjdGl2ZShCdXR0b25TdGF0ZUNsYXNzZXMoQnV0dG9uUGFyYWdyYXBoSnVzdGlmeSkpXG4pO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25RdW90ZSBjbGFzcyB3cmFwcyBhIHNlbGVjdGlvbiBpbiBgYmxvY2txdW90ZWAgZWxlbWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uUXVvdGVcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uUXVvdGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uUXVvdGVcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjb21tYW5kOiAnYmxvY2txdW90ZScsXG5cdFx0c3R5bGU6IHtcblx0XHRcdGVsZW1lbnQ6ICdibG9ja3F1b3RlJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgcXVvdGVcblx0ICogQG1lbWJlcm9mIEJ1dHRvblF1b3RlXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdxdW90ZSc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25RdW90ZVxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBjc3NDbGFzcyA9IGBhZS1idXR0b24gJHt0aGlzLmdldFN0YXRlQ2xhc3NlcygpfWA7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnF1b3RlfVxuXHRcdFx0XHRhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1xdW90ZVwiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmR9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5xdW90ZX0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cInF1b3RlLXJpZ2h0XCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChCdXR0b25TdGF0ZUNsYXNzZXMoQnV0dG9uU3R5bGUoQnV0dG9uUXVvdGUpKSk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25SZW1vdmVGb3JtYXQgY2xhc3MgcmVtb3ZlcyBzdHlsZSBmb3JtYXR0aW5nLlxuICpcbiAqIEBjbGFzcyBCdXR0b25SZW1vdmVGb3JtYXRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqL1xuY2xhc3MgQnV0dG9uUmVtb3ZlRm9ybWF0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblJlbW92ZUZvcm1hdFxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNvbW1hbmQ6ICdyZW1vdmVGb3JtYXQnLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgcmVtb3ZlRm9ybWF0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25SZW1vdmVGb3JtYXRcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ3JlbW92ZUZvcm1hdCc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25SZW1vdmVGb3JtYXRcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5yZW1vdmVmb3JtYXR9XG5cdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1yZW1vdmVmb3JtYXRcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MucmVtb3ZlZm9ybWF0fT5cblx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwicmVtb3ZlLXN0eWxlXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChCdXR0b25SZW1vdmVGb3JtYXQpO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uUmVtb3ZlSW1hZ2UgY2xhc3MgcmVtb3ZlcyBhbiBpbWFnZSB1c2luZyBhIENLRURJVE9SLmNvbW1hbmQuXG4gKlxuICogQGNsYXNzIEJ1dHRvblJlbW92ZUltYWdlXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKi9cbmNsYXNzIEJ1dHRvblJlbW92ZUltYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjb21tYW5kOiAncmVtb3ZlSW1hZ2UnLFxuXHR9O1xuXG5cdHN0YXRpYyBrZXkgPSAncmVtb3ZlSW1hZ2UnO1xuXG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MucmVtb3ZlSW1hZ2V9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17ZmFsc2V9XG5cdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmR9XG5cdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnJlbW92ZUltYWdlfT5cblx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwidGltZXMtY2lyY2xlXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChCdXR0b25SZW1vdmVJbWFnZSk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblNlcGFyYXRvciBmdW5jdGlvbiByZW5kZXJzIGEgc2ltcGxlIHNlcGFyYXRvci5cbiAqL1xuZnVuY3Rpb24gQnV0dG9uU2VwYXJhdG9yKF9wcm9wcykge1xuXHRyZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiYWUtc2VwYXJhdG9yXCIgLz47XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgc2VwYXJhdG9yXG4gKiBAbWVtYmVyb2YgQnV0dG9uU2VwYXJhdG9yXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblNlcGFyYXRvci5rZXkgPSAnc2VwYXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU2VwYXJhdG9yO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzTGlzdCBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TcGFjaW5nIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNoYW5naW5nIHRleHQgc3BhY2luZyBpbiBhIGRvY3VtZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25TcGFjaW5nXG4gKi9cbmNsYXNzIEJ1dHRvblNwYWNpbmcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgY29udGV4dFR5cGUgPSBFZGl0b3JDb250ZXh0O1xuXG5cdHN0YXRpYyBrZXkgPSAnc3BhY2luZyc7XG5cblx0c3RhdGljIHByb3BUeXBlcyA9IHtcblx0XHQvKipcblx0XHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3R5bGVzIGxpc3QgaXMgZXhwYW5kZWQgb3Igbm90LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFNwYWNpbmdcblx0XHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IGV4cGFuZGVkXG5cdFx0ICovXG5cdFx0ZXhwYW5kZWQ6IFByb3BUeXBlcy5ib29sLFxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGxhYmVsIHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgU3BhY2luZ1xuXHRcdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBsYWJlbFxuXHRcdCAqL1xuXHRcdGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlbW92ZSBzdHlsZXMgaXRlbSBzaG91bGQgYXBwZWFyIGluIHRoZSBzdHlsZXMgbGlzdC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBTcGFjaW5nXG5cdFx0ICogQHByb3BlcnR5IHtCb29sZWFufSBzaG93UmVtb3ZlU3R5bGVzSXRlbVxuXHRcdCAqL1xuXHRcdHNob3dSZW1vdmVTdHlsZXNJdGVtOiBQcm9wVHlwZXMuYm9vbCxcblxuXHRcdC8qKlxuXHRcdCAqIExpc3Qgb2YgdGhlIHN0eWxlcyB0aGUgYnV0dG9uIGlzIGFibGUgdG8gaGFuZGxlLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFNwYWNpbmdcblx0XHQgKiBAcHJvcGVydHkge0FycmF5fSBzdHlsZXNcblx0XHQgKi9cblx0XHRzdHlsZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpLFxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHRhYkluZGV4IG9mIHRoZSBidXR0b24gaW4gaXRzIHRvb2xiYXIgY3VycmVudCBzdGF0ZS4gQSB2YWx1ZSBvdGhlciB0aGFuIC0xXG5cdFx0ICogbWVhbnMgdGhhdCB0aGUgYnV0dG9uIGhhcyBmb2N1cyBhbmQgaXMgdGhlIGFjdGl2ZSBlbGVtZW50LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFNwYWNpbmdcblx0XHQgKiBAcHJvcGVydHkge051bWJlcn0gdGFiSW5kZXhcblx0XHQgKi9cblx0XHR0YWJJbmRleDogUHJvcFR5cGVzLm51bWJlcixcblxuXHRcdC8qKlxuXHRcdCAqIENhbGxiYWNrIHByb3ZpZGVkIGJ5IHRoZSBidXR0b24gaG9zdCB0byBub3RpZnkgd2hlbiB0aGUgc3R5bGVzIGxpc3QgaGFzIGJlZW4gZXhwYW5kZWQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgU3BhY2luZ1xuXHRcdCAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IHRvZ2dsZURyb3Bkb3duXG5cdFx0ICovXG5cdFx0dG9nZ2xlRHJvcGRvd246IFByb3BUeXBlcy5mdW5jLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGxldCBhY3RpdmVTcGFjaW5nID0gJzEuMHgnO1xuXG5cdFx0Y29uc3Qgc3BhY2luZ3MgPSB0aGlzLl9nZXRTcGFjaW5ncygpO1xuXG5cdFx0c3BhY2luZ3MuZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdGlmICh0aGlzLl9jaGVja0FjdGl2ZShpdGVtLnN0eWxlKSkge1xuXHRcdFx0XHRhY3RpdmVTcGFjaW5nID0gaXRlbS5uYW1lO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y29uc3Qge2VkaXRvciwgZXhwYW5kZWQsIHRhYkluZGV4LCB0b2dnbGVEcm9wZG93bn0gPSB0aGlzLnByb3BzO1xuXG5cdFx0Y29uc3QgYnV0dG9uU3R5bGVzUHJvcHMgPSB7XG5cdFx0XHRhY3RpdmVTdHlsZTogYWN0aXZlU3BhY2luZyxcblx0XHRcdGVkaXRvcixcblx0XHRcdG9uRGlzbWlzczogdG9nZ2xlRHJvcGRvd24sXG5cdFx0XHRzaG93UmVtb3ZlU3R5bGVzSXRlbTogZmFsc2UsXG5cdFx0XHRzdHlsZXM6IHNwYWNpbmdzLFxuXHRcdH07XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXIgYWUtY29udGFpbmVyLWRyb3Bkb3duLXNtYWxsIGFlLWhhcy1kcm9wZG93blwiPlxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0YXJpYS1leHBhbmRlZD17ZXhwYW5kZWR9XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtdG9vbGJhci1lbGVtZW50XCJcblx0XHRcdFx0XHRvbkNsaWNrPXt0b2dnbGVEcm9wZG93bn1cblx0XHRcdFx0XHRyb2xlPVwiY29tYm9ib3hcIlxuXHRcdFx0XHRcdHRhYkluZGV4PXt0YWJJbmRleH0+XG5cdFx0XHRcdFx0PHNwYW4+XG5cdFx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJzZXBhcmF0b3JcIiAvPlxuXHRcdFx0XHRcdFx0Jm5ic3A7XG5cdFx0XHRcdFx0XHR7YWN0aXZlU3BhY2luZ31cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHR7ZXhwYW5kZWQgJiYgPEJ1dHRvblN0eWxlc0xpc3Qgey4uLmJ1dHRvblN0eWxlc1Byb3BzfSAvPn1cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHRfYXBwbHlTdHlsZShjbGFzc05hbWUpIHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRjb25zdCBzdHlsZUNvbmZpZyA9IHtcblx0XHRcdGVsZW1lbnQ6ICdkaXYnLFxuXHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRjbGFzczogY2xhc3NOYW1lLFxuXHRcdFx0fSxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoc3R5bGVDb25maWcpO1xuXG5cdFx0ZWRpdG9yLmdldFNlbGVjdGlvbigpLmxvY2soKTtcblxuXHRcdHRoaXMuX2dldFNwYWNpbmdzKCkuZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdGlmICh0aGlzLl9jaGVja0FjdGl2ZShpdGVtLnN0eWxlKSkge1xuXHRcdFx0XHRlZGl0b3IucmVtb3ZlU3R5bGUobmV3IENLRURJVE9SLnN0eWxlKGl0ZW0uc3R5bGUpKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGVkaXRvci5hcHBseVN0eWxlKHN0eWxlKTtcblxuXHRcdGVkaXRvci5nZXRTZWxlY3Rpb24oKS51bmxvY2soKTtcblxuXHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHNwYWNpbmcgZGVmaW5pdGlvbiBpcyBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFNwYWNpbmdcblx0ICogQG1ldGhvZCBfY2hlY2tBY3RpdmVcblx0ICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ29uZmlnIFNwYWNpbmcgZGVmaW5pdGlvbiBhcyBwZXIgaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2FwaS9DS0VESVRPUi5zdHlsZS5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIHNwYWNpbmcgaXMgYXBwbGllZCB0byB0aGUgc2VsZWN0aW9uLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqL1xuXHRfY2hlY2tBY3RpdmUoc3R5bGVDb25maWcpIHtcblx0XHRjb25zdCBuYXRpdmVFZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRsZXQgYWN0aXZlID0gdHJ1ZTtcblxuXHRcdGNvbnN0IGVsZW1lbnRQYXRoID0gbmF0aXZlRWRpdG9yLmVsZW1lbnRQYXRoKCk7XG5cblx0XHRpZiAoZWxlbWVudFBhdGggJiYgZWxlbWVudFBhdGgubGFzdEVsZW1lbnQpIHtcblx0XHRcdHN0eWxlQ29uZmlnLmF0dHJpYnV0ZXMuY2xhc3Muc3BsaXQoJyAnKS5mb3JFYWNoKGNsYXNzTmFtZSA9PiB7XG5cdFx0XHRcdGFjdGl2ZSA9IGFjdGl2ZSAmJiBlbGVtZW50UGF0aC5sYXN0RWxlbWVudC5oYXNDbGFzcyhjbGFzc05hbWUpO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFjdGl2ZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhY3RpdmU7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhbiBhcnJheSBvZiBzcGFjaW5ncy4gRWFjaCBzcGFjaW5nIGNvbnNpc3RzIGZyb20gdGhyZWUgcHJvcGVydGllczpcblx0ICogLSBuYW1lIC0gdGhlIHN0eWxlIG5hbWUsIGZvciBleGFtcGxlIFwiZGVmYXVsdFwiXG5cdCAqIC0gc3R5bGUgLSBhbiBvYmplY3Qgd2l0aCBvbmUgcHJvcGVydHksIGNhbGxlZCBgZWxlbWVudGAgd2hpY2ggdmFsdWVcblx0ICogcmVwcmVzZW50cyB0aGUgc3R5bGUgd2hpY2ggaGF2ZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuXHQgKiAtIHN0eWxlRm4gLSBhIGZ1bmN0aW9uIHdoaWNoIGFwcGxpZXMgc2VsZWN0ZWQgc3R5bGUgdG8gdGhlIGVkaXRvciBzZWxlY3Rpb25cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBTcGFjaW5nXG5cdCAqIEBtZXRob2QgX2dldFNwYWNpbmdzXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7QXJyYXk8b2JqZWN0Pn0gQW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIHRoZSBzcGFjaW5ncy5cblx0ICovXG5cdF9nZXRTcGFjaW5ncygpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0dGhpcy5wcm9wcy5zdHlsZXMgfHwgW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJzEuMHgnLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnZGl2Jyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICcnLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHR5cGU6IDEsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZUZuOiB0aGlzLl9hcHBseVN0eWxlLmJpbmQodGhpcywgJycpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJzEuNXgnLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnZGl2Jyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICdtdC0xIG1iLTEnLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHR5cGU6IDEsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZUZuOiB0aGlzLl9hcHBseVN0eWxlLmJpbmQodGhpcywgJ210LTEgbWItMScpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJzIuMHgnLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnZGl2Jyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICdtdC0yIG1iLTInLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHR5cGU6IDEsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZUZuOiB0aGlzLl9hcHBseVN0eWxlLmJpbmQodGhpcywgJ210LTIgbWItMicpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJzMuMHgnLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnZGl2Jyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICdtdC0zIG1iLTMnLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHR5cGU6IDEsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZUZuOiB0aGlzLl9hcHBseVN0eWxlLmJpbmQodGhpcywgJ210LTMgbWItMycpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJzQuMHgnLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnZGl2Jyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICdtdC00IG1iLTQnLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHR5cGU6IDEsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZUZuOiB0aGlzLl9hcHBseVN0eWxlLmJpbmQodGhpcywgJ210LTQgbWItNCcpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJzUuMHgnLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnZGl2Jyxcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0Y2xhc3M6ICdtdC01IG1iLTUnLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHR5cGU6IDEsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZUZuOiB0aGlzLl9hcHBseVN0eWxlLmJpbmQodGhpcywgJ210LTUgbWItNScpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XVxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU3BhY2luZztcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uU3RyaWtlIGNsYXNzIHN0eWxlcyBhIHNlbGVjdGlvbiB3aXRoIHN0cmlrZSBzdHlsZS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3RyaWtlXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvblN0cmlrZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdHJpa2Vcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjb21tYW5kOiAnc3RyaWtlJyxcblx0XHRzdHlsZTogJ2NvcmVTdHlsZXNfc3RyaWtlJyxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHN0cmlrZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3RyaWtlXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdzdHJpa2UnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3RyaWtlXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAke3RoaXMuZ2V0U3RhdGVDbGFzc2VzKCl9YDtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3Muc3RyaWtlfVxuXHRcdFx0XHRhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi1zdHJpa2VcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3Muc3RyaWtlfT5cblx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwic3RyaWtldGhyb3VnaFwiIC8+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoQnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvblN0eWxlKEJ1dHRvblN0cmlrZSkpKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uc1N0eWxlc0xpc3RIZWFkZXIgY2xhc3MgcHJvdmlkZXMgdGhlIGhlYWRlciBvZiBhbiBsaXN0IG9mIHN0eWxlIGl0ZW1zLlxuICpcbiAqIEBjbGFzcyBCdXR0b25zU3R5bGVzTGlzdEhlYWRlclxuICovXG5jbGFzcyBCdXR0b25zU3R5bGVzTGlzdEhlYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRpYyBrZXkgPSAnYnV0dG9uU3R5bGVzTGlzdEhlYWRlcic7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25zU3R5bGVzTGlzdEhlYWRlclxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRpZiAodGhpcy5wcm9wcy5zdHlsZXMgJiYgdGhpcy5wcm9wcy5zdHlsZXMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiYWUtbGlzdC1oZWFkZXJcIj57dGhpcy5wcm9wcy5uYW1lfTwvc3Bhbj47XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25zU3R5bGVzTGlzdEhlYWRlcjtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHByZXZpZXdpbmcgYSBzdHlsZSBkZWZpbml0aW9uXG4gKiBpbnNpZGUgYSBsaXN0IGFuZCBhcHBseWluZyBpdCB0byB0aGUgY3VycmVudCBlZGl0b3Igc2VsZWN0aW9uLlxuICpcbiAqIEBjbGFzcyBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZVxuICovXG5jbGFzcyBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlXG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0cmVtb3ZlQmxvY2tzOiBbJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ3ByZSddLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgYnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmVcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdidXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZVxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGxpIHJvbGU9XCJvcHRpb25cIj5cblx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLXRvb2xiYXItZWxlbWVudFwiXG5cdFx0XHRcdFx0b25DbGljaz17dGhpcy5fcmVtb3ZlU3R5bGVzfVxuXHRcdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fT5cblx0XHRcdFx0XHR7QWxsb3lFZGl0b3IuU3RyaW5ncy5ub3JtYWx9XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0PC9saT5cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYWxsIGlubGluZSBzdHlsZXMgYW5kIGNvbmZpZ3VyZWQgYmxvY2sgZWxlbWVudHMgYXBwbGllZCB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmVcblx0ICogQG1ldGhvZCBfcmVtb3ZlU3R5bGVzXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9yZW1vdmVTdHlsZXMgPSAoKSA9PiB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0ZWRpdG9yLmV4ZWNDb21tYW5kKCdyZW1vdmVGb3JtYXQnKTtcblxuXHRcdHRoaXMucHJvcHMucmVtb3ZlQmxvY2tzLmZvckVhY2goYmxvY2tJdGVtID0+IHtcblx0XHRcdGNvbnN0IGJsb2NrU3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoe2VsZW1lbnQ6IGJsb2NrSXRlbX0pO1xuXG5cdFx0XHRlZGl0b3IucmVtb3ZlU3R5bGUoYmxvY2tTdHlsZSk7XG5cdFx0fSk7XG5cblx0XHRlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG5cdH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBCdXR0b25BY3Rpb25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1hY3Rpb24tc3R5bGUnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlJztcblxuLyoqXG4gKiBUaGUgQnV0dG9uU3R5bGVzTGlzdEl0ZW0gY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgcHJldmlld2luZyBhIHN0eWxlIGRlZmluaXRpb25cbiAqIGluc2lkZSBhIGxpc3QgYW5kIGFwcGx5aW5nIGl0IHRvIHRoZSBjdXJyZW50IGVkaXRvciBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblN0eWxlc0xpc3RJdGVtXG4gKiBAdXNlcyBCdXR0b25BY3Rpb25TdHlsZVxuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uU3R5bGVzTGlzdEl0ZW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgY29udGV4dFR5cGUgPSBFZGl0b3JDb250ZXh0O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgYnV0dG9uU3R5bGVzTGlzdEl0ZW1cblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdidXR0b25TdHlsZXNMaXN0SXRlbSc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBib3RoIG9uIHRoZSBjbGllbnQgYW5kIHNlcnZlciwgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdEl0ZW1cblx0ICogQG1ldGhvZCBjb21wb25lbnRXaWxsTW91bnRcblx0ICovXG5cdGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0XHQvLyBTdHlsZXMgd2l0aCB3aWxkY2FyZCBlbGVtZW50ICgqKSBnZW5lcmF0ZSBhbiBlbXB0eSB0YWcgaW4gdGhlaXIgcHJldmlldyA8IGNsYXNzPVwiY3VzdG9tLWNsYXNzXCIgLz4uXG5cdFx0Ly8gV2UgZGVmYXVsdCB0byBlbGVtZW50IHNwYW4gYW5kIHJlbW92ZSB0aGUgbWFyZ2lucyB0byBvYnRhaW4gYSBtb3JlIGNvbnNpc3RlbnQgc2V0IG9mIHByZXZpZXdzLlxuXHRcdGxldCBzdHlsZUNmZyA9IHtcblx0XHRcdGVsZW1lbnQ6ICdzcGFuJyxcblx0XHRcdHN0eWxlczoge1xuXHRcdFx0XHRtYXJnaW46IDAsXG5cdFx0XHR9LFxuXHRcdH07XG5cblx0XHRzdHlsZUNmZyA9IENLRURJVE9SLnRvb2xzLm1lcmdlKHN0eWxlQ2ZnLCB0aGlzLnByb3BzLnN0eWxlKTtcblxuXHRcdHRoaXMuX3ByZXZpZXcgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoc3R5bGVDZmcpLmJ1aWxkUHJldmlldyhcblx0XHRcdHRoaXMucHJvcHMubmFtZVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdC8vIFdlIG5lZWQgdG8gdXNlIGRhbmdlcm91c2VseVNldElubnRlckhUTUwgc2luY2Ugd2UncmUgbm90IGluIGNvbnRyb2wgb2YgdGhlIHN0eWxlXG5cdFx0Ly8gcHJldmlldyB0aGF0IGlzIGdlbmVyYXRlZCBieSBDS0VkaXRvci5cblx0XHRjb25zdCBjbGFzc05hbWUgPVxuXHRcdFx0dGhpcy5wcm9wcy5uYW1lID09PSB0aGlzLnByb3BzLmFjdGl2ZVN0eWxlXG5cdFx0XHRcdD8gJ2FlLXRvb2xiYXItZWxlbWVudCBhY3RpdmUnXG5cdFx0XHRcdDogJ2FlLXRvb2xiYXItZWxlbWVudCc7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRjbGFzc05hbWU9e2NsYXNzTmFtZX1cblx0XHRcdFx0ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRoaXMuX3ByZXZpZXd9fVxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLl9vbkNsaWNrfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdC8+XG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBcHBsaWVzIHRoZSBpdGVtIHN0eWxlIHRvIHRoZSBlZGl0b3Igc2VsZWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtXG5cdCAqIEBtZXRob2QgX29uQ2xpY2tcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X29uQ2xpY2sgPSAoKSA9PiB7XG5cdFx0aWYgKHRoaXMucHJvcHMuc3R5bGVGbikge1xuXHRcdFx0dGhpcy5wcm9wcy5zdHlsZUZuKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFR5cGljYWxseSwgd2Ugd2FudCB0aGUgc3R5bGUgdG8gYmUgdGhlIG9ubHkgb25lIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLCBzb1xuXHRcdFx0Ly8gd2UgZXhlY3V0ZSB0aGUgJ3JlbW92ZUZvcm1hdCcgY29tbWFuZCBmaXJzdC4gTm90ZSB0aGF0IGJsb2NrIHN0eWxlcyB3b24ndCBiZSBjbGVhbmVkLlxuXHRcdFx0Ly8gSG93ZXZlciwgdGhpcyBpcyBjb25zaXN0ZW50IHdpdGggb3RoZXIgZWRpdG9ycyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBmZWF0dXJlLlxuXHRcdFx0dGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLmV4ZWNDb21tYW5kKCdyZW1vdmVGb3JtYXQnKTtcblxuXHRcdFx0dGhpcy5hcHBseVN0eWxlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25BY3Rpb25TdHlsZShCdXR0b25TdHlsZShCdXR0b25TdHlsZXNMaXN0SXRlbSkpO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmltcG9ydCBXaWRnZXRGb2N1c01hbmFnZXIgZnJvbSAnLi4vYmFzZS93aWRnZXQtZm9jdXMtbWFuYWdlcic7XG5pbXBvcnQgQnV0dG9uRHJvcGRvd24gZnJvbSAnLi9idXR0b24tZHJvcGRvd24uanN4JztcbmltcG9ydCBCdXR0b25zU3R5bGVzTGlzdEhlYWRlciBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1oZWFkZXIuanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1pdGVtLXJlbW92ZS5qc3gnO1xuaW1wb3J0IEJ1dHRvblN0eWxlc0xpc3RJdGVtIGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LWl0ZW0uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uU3R5bGVzTGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzaG93aW5nIGEgbGlzdCBvZiBzdHlsZXMgdGhhdCBjYW4gYmVcbiAqIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3R5bGVzTGlzdFxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIEJ1dHRvblN0eWxlc0xpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdFxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNpcmN1bGFyOiBmYWxzZSxcblx0XHRkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuXHRcdGtleXM6IHtcblx0XHRcdGRpc21pc3M6IFsyN10sXG5cdFx0XHRkaXNtaXNzTmV4dDogWzM5XSxcblx0XHRcdGRpc21pc3NQcmV2OiBbMzddLFxuXHRcdFx0bmV4dDogWzQwXSxcblx0XHRcdHByZXY6IFszOF0sXG5cdFx0fSxcblx0XHRzaG93UmVtb3ZlU3R5bGVzSXRlbTogdHJ1ZSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0XG5cdCAqIEBzdGF0aWNcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAZGVmYXVsdCBidXR0b25TdHlsZXNMaXN0XG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ2J1dHRvblN0eWxlc0xpc3QnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgb25seSBvbiB0aGUgY2xpZW50LCBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuXHQgKlxuXHQgKiBGb2N1c2VzIG9uIHRoZSBsaXN0IG5vZGUgdG8gYWxsb3cga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG5cdCAqL1xuXHRjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHRSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5mb2N1cygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBib3RoIG9uIHRoZSBjbGllbnQgYW5kIHNlcnZlciwgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxNb3VudFxuXHQgKi9cblx0Y29tcG9uZW50V2lsbE1vdW50KCkge1xuXHRcdGNvbnN0IGJsb2NrU3R5bGVzID0gW107XG5cdFx0Y29uc3QgaW5saW5lU3R5bGVzID0gW107XG5cdFx0Y29uc3Qgb2JqZWN0U3R5bGVzID0gW107XG5cblx0XHR0aGlzLnByb3BzLnN0eWxlcy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0Y29uc3Qgc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoaXRlbS5zdHlsZSk7XG5cblx0XHRcdGlmIChzdHlsZS50eXBlID09PSBDS0VESVRPUi5TVFlMRV9CTE9DSykge1xuXHRcdFx0XHRibG9ja1N0eWxlcy5wdXNoKGl0ZW0pO1xuXHRcdFx0fSBlbHNlIGlmIChzdHlsZS50eXBlID09PSBDS0VESVRPUi5TVFlMRV9JTkxJTkUpIHtcblx0XHRcdFx0aW5saW5lU3R5bGVzLnB1c2goaXRlbSk7XG5cdFx0XHR9IGVsc2UgaWYgKHN0eWxlLnR5cGUgPT09IENLRURJVE9SLlNUWUxFX09CSkVDVCkge1xuXHRcdFx0XHRvYmplY3RTdHlsZXMucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMuX2Jsb2NrU3R5bGVzID0gYmxvY2tTdHlsZXM7XG5cdFx0dGhpcy5faW5saW5lU3R5bGVzID0gaW5saW5lU3R5bGVzO1xuXHRcdHRoaXMuX29iamVjdFN0eWxlcyA9IG9iamVjdFN0eWxlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBsaXN0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3Rcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0bGV0IHJlbW92ZVN0eWxlc0l0ZW07XG5cblx0XHRpZiAodGhpcy5wcm9wcy5zaG93UmVtb3ZlU3R5bGVzSXRlbSkge1xuXHRcdFx0cmVtb3ZlU3R5bGVzSXRlbSA9IChcblx0XHRcdFx0PEJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlXG5cdFx0XHRcdFx0b25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufVxuXHRcdFx0XHQvPlxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PEJ1dHRvbkRyb3Bkb3duIHsuLi50aGlzLnByb3BzfT5cblx0XHRcdFx0e3JlbW92ZVN0eWxlc0l0ZW19XG5cblx0XHRcdFx0PEJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyXG5cdFx0XHRcdFx0bmFtZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5ibG9ja1N0eWxlc31cblx0XHRcdFx0XHRzdHlsZXM9e3RoaXMuX2Jsb2NrU3R5bGVzfVxuXHRcdFx0XHQvPlxuXHRcdFx0XHR7dGhpcy5fcmVuZGVyU3R5bGVzSXRlbXModGhpcy5fYmxvY2tTdHlsZXMpfVxuXG5cdFx0XHRcdDxCdXR0b25zU3R5bGVzTGlzdEhlYWRlclxuXHRcdFx0XHRcdG5hbWU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaW5saW5lU3R5bGVzfVxuXHRcdFx0XHRcdHN0eWxlcz17dGhpcy5faW5saW5lU3R5bGVzfVxuXHRcdFx0XHQvPlxuXHRcdFx0XHR7dGhpcy5fcmVuZGVyU3R5bGVzSXRlbXModGhpcy5faW5saW5lU3R5bGVzKX1cblxuXHRcdFx0XHQ8QnV0dG9uc1N0eWxlc0xpc3RIZWFkZXJcblx0XHRcdFx0XHRuYW1lPXtBbGxveUVkaXRvci5TdHJpbmdzLm9iamVjdFN0eWxlc31cblx0XHRcdFx0XHRzdHlsZXM9e3RoaXMuX29iamVjdFN0eWxlc31cblx0XHRcdFx0Lz5cblx0XHRcdFx0e3RoaXMuX3JlbmRlclN0eWxlc0l0ZW1zKHRoaXMuX29iamVjdFN0eWxlcyl9XG5cdFx0XHQ8L0J1dHRvbkRyb3Bkb3duPlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmVuZGVycyBpbnN0YW5jZXMgb2YgQnV0dG9uU3R5bGVzTGlzdEl0ZW0gd2l0aCB0aGUgcHJldmlldyBvZiB0aGUgY29ycmVzcG9uZGVudCBibG9jaywgaW5saW5lIG9yIG9iamVjdCBzdHlsZXMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdFxuXHQgKiBAbWV0aG9kIF9yZW5kZXJTdHlsZXNJdGVtc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBzdHlsZXMgTGlzdCBvZiBzdHlsZXMgZm9yIHdoaWNoIHByZXZpZXcgc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0FycmF5fSBSZW5kZXJlZCBpbnN0YW5jZXMgb2YgQnV0dG9uU3R5bGVzTGlzdEl0ZW0gY2xhc3Ncblx0ICovXG5cdF9yZW5kZXJTdHlsZXNJdGVtcyhzdHlsZXMpIHtcblx0XHRsZXQgaXRlbXM7XG5cblx0XHRpZiAoc3R5bGVzICYmIHN0eWxlcy5sZW5ndGgpIHtcblx0XHRcdGl0ZW1zID0gc3R5bGVzLm1hcChpdGVtID0+IHtcblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHQ8bGkga2V5PXtpdGVtLm5hbWV9IHJvbGU9XCJvcHRpb25cIj5cblx0XHRcdFx0XHRcdDxCdXR0b25TdHlsZXNMaXN0SXRlbVxuXHRcdFx0XHRcdFx0XHRhY3RpdmVTdHlsZT17dGhpcy5wcm9wcy5hY3RpdmVTdHlsZX1cblx0XHRcdFx0XHRcdFx0bmFtZT17aXRlbS5uYW1lfVxuXHRcdFx0XHRcdFx0XHRzdHlsZT17aXRlbS5zdHlsZX1cblx0XHRcdFx0XHRcdFx0c3R5bGVGbj17aXRlbS5zdHlsZUZufVxuXHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGl0ZW1zO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldEZvY3VzTWFuYWdlcihCdXR0b25TdHlsZXNMaXN0KTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzTGlzdCBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdHlsZXMgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3Igc3R5bGluZyBhIHNlbGVjdGlvbiB3aXRoIGEgbGlzdCBvZlxuICogY29uZmlndXJhYmxlIGFuZCBjdXN0b21pemFibGUgc3R5bGVzLiBUaGUgYWxsb3dlZCBzdHlsZXMgZm9sbG93IENLRURJVE9SLlN0eWxlIGNvbmZpZ3VyYXRpb25cbiAqIChodHRwOi8vZG9jcy5ja2VkaXRvci5jb20vIyEvYXBpL0NLRURJVE9SLnN0eWxlKVxuICpcbiAqIEBjbGFzcyBCdXR0b25TdHlsZXNcbiAqL1xuY2xhc3MgQnV0dG9uU3R5bGVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHN0eWxlc1xuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICdzdHlsZXMnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGxldCBhY3RpdmVTdHlsZSA9IEFsbG95RWRpdG9yLlN0cmluZ3Mubm9ybWFsO1xuXG5cdFx0Y29uc3Qgc3R5bGVzID0gdGhpcy5fZ2V0U3R5bGVzKCk7XG5cblx0XHRzdHlsZXMuZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdGlmICh0aGlzLl9jaGVja0FjdGl2ZShpdGVtLnN0eWxlKSkge1xuXHRcdFx0XHRhY3RpdmVTdHlsZSA9IGl0ZW0ubmFtZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGxldCBidXR0b25TdHlsZXNMaXN0O1xuXG5cdFx0aWYgKHRoaXMucHJvcHMuZXhwYW5kZWQpIHtcblx0XHRcdGJ1dHRvblN0eWxlc0xpc3QgPSAoXG5cdFx0XHRcdDxCdXR0b25TdHlsZXNMaXN0XG5cdFx0XHRcdFx0YWN0aXZlU3R5bGU9e2FjdGl2ZVN0eWxlfVxuXHRcdFx0XHRcdG9uRGlzbWlzcz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn1cblx0XHRcdFx0XHRzaG93UmVtb3ZlU3R5bGVzSXRlbT17dGhpcy5wcm9wcy5zaG93UmVtb3ZlU3R5bGVzSXRlbX1cblx0XHRcdFx0XHRzdHlsZXM9e3N0eWxlc31cblx0XHRcdFx0Lz5cblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWRyb3Bkb3duIGFlLWhhcy1kcm9wZG93blwiPlxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0YXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH1cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnN0eWxlcyArICcgJyArIGFjdGl2ZVN0eWxlfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLXRvb2xiYXItZWxlbWVudFwiXG5cdFx0XHRcdFx0b25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn1cblx0XHRcdFx0XHRyb2xlPVwiY29tYm9ib3hcIlxuXHRcdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnN0eWxlcyArICcgJyArIGFjdGl2ZVN0eWxlfT5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lclwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWRyb3Bkb3duLXNlbGVjdGVkLWl0ZW1cIj5cblx0XHRcdFx0XHRcdFx0e2FjdGl2ZVN0eWxlfVxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwiY2FyZXQtYm90dG9tXCIgLz5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdHtidXR0b25TdHlsZXNMaXN0fVxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHN0eWxlIGRlZmluaXRpb24gaXMgYXBwbGllZCB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24gaW4gdGhlIGVkaXRvci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNcblx0ICogQG1ldGhvZCBfY2hlY2tBY3RpdmVcblx0ICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ29uZmlnIFN0eWxlIGRlZmluaXRpb24gYXMgcGVyIGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1Iuc3R5bGUuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBzdHlsZSBpcyBhcHBsaWVkIHRvIHRoZSBzZWxlY3Rpb24sIGZhbHNlIG90aGVyd2lzZS5cblx0ICovXG5cdF9jaGVja0FjdGl2ZShzdHlsZUNvbmZpZykge1xuXHRcdGNvbnN0IG5hdGl2ZUVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdC8vIFN0eWxlcyB3aXRoIHdpbGRjYXJkIGVsZW1lbnQgKCopIHdvbid0IGJlIGNvbnNpZGVyZWQgYWN0aXZlIGJ5IENLRWRpdG9yLiBEZWZhdWx0aW5nXG5cdFx0Ly8gdG8gYSAnc3BhbicgZWxlbWVudCB3b3JrcyBmb3IgbW9zdCBvZiB0aG9zZSBjYXNlcyB3aXRoIG5vIGRlZmluZWQgZWxlbWVudC5cblx0XHRzdHlsZUNvbmZpZyA9IENLRURJVE9SLnRvb2xzLm1lcmdlKHtlbGVtZW50OiAnc3Bhbid9LCBzdHlsZUNvbmZpZyk7XG5cblx0XHRjb25zdCBzdHlsZSA9IG5ldyBDS0VESVRPUi5zdHlsZShzdHlsZUNvbmZpZyk7XG5cblx0XHRyZXR1cm4gc3R5bGUuY2hlY2tBY3RpdmUobmF0aXZlRWRpdG9yLmVsZW1lbnRQYXRoKCksIG5hdGl2ZUVkaXRvcik7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhbiBhcnJheSBvZiBzdHlsZXMuIEVhY2ggc3R5bGUgY29uc2lzdHMgZnJvbSB0d28gcHJvcGVydGllczpcblx0ICogLSBuYW1lIC0gdGhlIHN0eWxlIG5hbWUsIGZvciBleGFtcGxlIFwiaDFcIlxuXHQgKiAtIHN0eWxlIC0gYW4gb2JqZWN0IHdpdGggb25lIHByb3BlcnR5LCBjYWxsZWQgYGVsZW1lbnRgIHdoaWNoIHZhbHVlXG5cdCAqIHJlcHJlc2VudHMgdGhlIHN0eWxlIHdoaWNoIGhhdmUgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNcblx0ICogQG1ldGhvZCBfZ2V0U3R5bGVzXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7QXJyYXk8b2JqZWN0Pn0gQW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIHRoZSBzdHlsZXMuXG5cdCAqL1xuXHRfZ2V0U3R5bGVzKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHR0aGlzLnByb3BzLnN0eWxlcyB8fCBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLmgxLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnaDEnLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLmgyLFxuXHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiAnaDInLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLmZvcm1hdHRlZCxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ3ByZScsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MuY2l0ZSxcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0ZWxlbWVudDogJ2NpdGUnLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLmNvZGUsXG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6ICdjb2RlJyxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XVxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU3R5bGVzO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdWJzY3JpcHQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgYXBwbHlpbmcgc3Vic2NyaXB0IHN0eWxlIHRvIGEgdGV4dCBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblN1YnNjcmlwdFxuICpcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uU3Vic2NyaXB0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN1YnNjcmlwdFxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNvbW1hbmQ6ICdzdWJzY3JpcHQnLFxuXHRcdHN0eWxlOiAnY29yZVN0eWxlc19zdWJzY3JpcHQnLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgc3Vic2NyaXB0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdWJzY3JpcHRcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ3N1YnNjcmlwdCc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdWJzY3JpcHRcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3NzQ2xhc3MgPSBgYWUtYnV0dG9uICR7dGhpcy5nZXRTdGF0ZUNsYXNzZXMoKX1gO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdWJzY3JpcHR9XG5cdFx0XHRcdGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjc3NDbGFzc31cblx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLXN1YnNjcmlwdFwiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmR9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdWJzY3JpcHR9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJzdWJzY3JpcHRcIiAvPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKEJ1dHRvblN0YXRlQ2xhc3NlcyhCdXR0b25TdHlsZShCdXR0b25TdWJzY3JpcHQpKSk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZSc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblN1cGVyc2NyaXB0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFwcGx5aW5nIHN1cGVyc2NyaXB0IHN0eWxlIHRvIGEgdGV4dCBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblN1cGVyc2NyaXB0XG4gKlxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25TdXBlcnNjcmlwdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdXBlcnNjcmlwdFxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNvbW1hbmQ6ICdzdXBlcnNjcmlwdCcsXG5cdFx0c3R5bGU6ICdjb3JlU3R5bGVzX3N1cGVyc2NyaXB0Jyxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHN1cGVyc2NyaXB0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdXBlcnNjcmlwdFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAnc3VwZXJzY3JpcHQnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3VwZXJzY3JpcHRcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3NzQ2xhc3MgPSBgYWUtYnV0dG9uICR7dGhpcy5nZXRTdGF0ZUNsYXNzZXMoKX1gO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxidXR0b25cblx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdXBlcnNjcmlwdH1cblx0XHRcdFx0YXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfVxuXHRcdFx0XHRjbGFzc05hbWU9e2Nzc0NsYXNzfVxuXHRcdFx0XHRkYXRhLXR5cGU9XCJidXR0b24tc3VwZXJzY3JpcHRcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3Muc3VwZXJzY3JpcHR9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJzdXBlcnNjcmlwdFwiIC8+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG5cdEJ1dHRvblN0YXRlQ2xhc3NlcyhCdXR0b25TdHlsZShCdXR0b25TdXBlcnNjcmlwdCkpXG4pO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ29tbWFuZHNMaXN0IGZyb20gJy4vYnV0dG9uLWNvbW1hbmRzLWxpc3QuanN4JztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFibGVDZWxsIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gd29yayB3aXRoIHRhYmxlIGNlbGxzLlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYWJsZUNlbGxcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGVDZWxsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCB0YWJsZUNlbGxcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlQ2VsbFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAndGFibGVDZWxsJztcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlQ2VsbFxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRsZXQgYnV0dG9uQ29tbWFuZHNMaXN0O1xuXHRcdGxldCBidXR0b25Db21tYW5kc0xpc3RJZDtcblxuXHRcdGlmICh0aGlzLnByb3BzLmV4cGFuZGVkKSB7XG5cdFx0XHRidXR0b25Db21tYW5kc0xpc3RJZCA9IEJ1dHRvblRhYmxlQ2VsbC5rZXkgKyAnTGlzdCc7XG5cdFx0XHRidXR0b25Db21tYW5kc0xpc3QgPSAoXG5cdFx0XHRcdDxCdXR0b25Db21tYW5kc0xpc3Rcblx0XHRcdFx0XHRjb21tYW5kcz17dGhpcy5fZ2V0Q29tbWFuZHMoKX1cblx0XHRcdFx0XHRsaXN0SWQ9e2J1dHRvbkNvbW1hbmRzTGlzdElkfVxuXHRcdFx0XHRcdG9uRGlzbWlzcz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn1cblx0XHRcdFx0Lz5cblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyIGFlLWhhcy1kcm9wZG93blwiPlxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0YXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH1cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNlbGx9XG5cdFx0XHRcdFx0YXJpYS1vd25zPXtidXR0b25Db21tYW5kc0xpc3RJZH1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b25cIlxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259XG5cdFx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY2VsbH0+XG5cdFx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwiYWRkLWNlbGxcIiAvPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0e2J1dHRvbkNvbW1hbmRzTGlzdH1cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIGxpc3Qgb2YgY29tbWFuZHMuIElmIGEgbGlzdCBvZiBjb21tYW5kcyB3YXMgcGFzc2VkXG5cdCAqIGFzIHByb3BlcnR5IGBjb21tYW5kc2AsIGl0IHdpbGwgdGFrZSBhIHByZWNlZGVuY2Ugb3ZlciB0aGUgZGVmYXVsdCBvbmVzLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlQ2VsbFxuXHQgKiBAbWV0aG9kIF9nZXRDb21tYW5kc1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0FycmF5fSBUaGUgbGlzdCBvZiBhdmFpbGFibGUgY29tbWFuZHMuXG5cdCAqL1xuXHRfZ2V0Q29tbWFuZHMoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMucHJvcHMuY29tbWFuZHMgfHwgW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29tbWFuZDogJ2NlbGxJbnNlcnRCZWZvcmUnLFxuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmNlbGxJbnNlcnRCZWZvcmUsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAnY2VsbEluc2VydEFmdGVyJyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsSW5zZXJ0QWZ0ZXIsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAnY2VsbERlbGV0ZScsXG5cdFx0XHRcdFx0bGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuY2VsbERlbGV0ZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbW1hbmQ6ICdjZWxsTWVyZ2UnLFxuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmNlbGxNZXJnZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbW1hbmQ6ICdjZWxsTWVyZ2VEb3duJyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsTWVyZ2VEb3duLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29tbWFuZDogJ2NlbGxNZXJnZVJpZ2h0Jyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsTWVyZ2VSaWdodCxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbW1hbmQ6ICdjZWxsSG9yaXpvbnRhbFNwbGl0Jyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsU3BsaXRIb3Jpem9udGFsLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29tbWFuZDogJ2NlbGxWZXJ0aWNhbFNwbGl0Jyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsU3BsaXRWZXJ0aWNhbCxcblx0XHRcdFx0fSxcblx0XHRcdF1cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlQ2VsbDtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmRzTGlzdCBmcm9tICcuL2J1dHRvbi1jb21tYW5kcy1saXN0LmpzeCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblRhYmxlQ29sdW1uIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gd29yayB3aXRoIHRhYmxlIGNvbHVtbnMuXG4gKlxuICogQGNsYXNzIEJ1dHRvblRhYmxlQ29sdW1uXG4gKi9cbmNsYXNzIEJ1dHRvblRhYmxlQ29sdW1uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCB0YWJsZUNvbHVtblxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVDb2x1bW5cblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ3RhYmxlQ29sdW1uJztcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlQ29sdW1uXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGxldCBidXR0b25Db21tYW5kc0xpc3Q7XG5cdFx0bGV0IGJ1dHRvbkNvbW1hbmRzTGlzdElkO1xuXG5cdFx0aWYgKHRoaXMucHJvcHMuZXhwYW5kZWQpIHtcblx0XHRcdGJ1dHRvbkNvbW1hbmRzTGlzdElkID0gQnV0dG9uVGFibGVDb2x1bW4ua2V5ICsgJ0xpc3QnO1xuXHRcdFx0YnV0dG9uQ29tbWFuZHNMaXN0ID0gKFxuXHRcdFx0XHQ8QnV0dG9uQ29tbWFuZHNMaXN0XG5cdFx0XHRcdFx0Y29tbWFuZHM9e3RoaXMuX2dldENvbW1hbmRzKCl9XG5cdFx0XHRcdFx0bGlzdElkPXtidXR0b25Db21tYW5kc0xpc3RJZH1cblx0XHRcdFx0XHRvbkRpc21pc3M9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259XG5cdFx0XHRcdC8+XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lciBhZS1oYXMtZHJvcGRvd25cIj5cblx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZXhwYW5kZWR9XG5cdFx0XHRcdFx0YXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW59XG5cdFx0XHRcdFx0YXJpYS1vd25zPXtidXR0b25Db21tYW5kc0xpc3RJZH1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b25cIlxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259XG5cdFx0XHRcdFx0cm9sZT1cImxpc3Rib3hcIlxuXHRcdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvbHVtbn0+XG5cdFx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwiYWRkLWNvbHVtblwiIC8+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHR7YnV0dG9uQ29tbWFuZHNMaXN0fVxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbGlzdCBvZiBjb21tYW5kcy4gSWYgYSBsaXN0IG9mIGNvbW1hbmRzIHdhcyBwYXNzZWRcblx0ICogYXMgcHJvcGVydHkgYGNvbW1hbmRzYCwgaXQgd2lsbCB0YWtlIGEgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IG9uZXMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVDb2x1bW5cblx0ICogQG1ldGhvZCBfZ2V0Q29tbWFuZHNcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGNvbW1hbmRzLlxuXHQgKi9cblx0X2dldENvbW1hbmRzKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHR0aGlzLnByb3BzLmNvbW1hbmRzIHx8IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbW1hbmQ6ICdjb2x1bW5JbnNlcnRCZWZvcmUnLFxuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmNvbHVtbkluc2VydEJlZm9yZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbW1hbmQ6ICdjb2x1bW5JbnNlcnRBZnRlcicsXG5cdFx0XHRcdFx0bGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuY29sdW1uSW5zZXJ0QWZ0ZXIsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAnY29sdW1uRGVsZXRlJyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW5EZWxldGUsXG5cdFx0XHRcdH0sXG5cdFx0XHRdXG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25UYWJsZUNvbHVtbjtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbmNvbnN0IEtFWV9FTlRFUiA9IDEzO1xuY29uc3QgS0VZX0VTQyA9IDI3O1xuXG5jb25zdCBJTlBVVF9OQU1FUyA9IHtcblx0Q09MUzogJ2NvbHMnLFxuXHRST1dTOiAncm93cycsXG59O1xuXG5jb25zdCBNSU5JTVVNX0dSSURfVkFMVUUgPSAxO1xuXG4vKipcbiAqIFRoZSBCdXR0b25UYWJsZUVkaXQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYW5kIGVkaXRpbmcgYSB0YWJsZSBpbiBhIGRvY3VtZW50LlxuICogUHJvdmlkZXMgVUkgZm9yIGNyZWF0aW5nIGEgdGFibGUuXG4gKlxuICogQGNsYXNzIEJ1dHRvblRhYmxlRWRpdFxuICovXG5jbGFzcyBCdXR0b25UYWJsZUVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgY29udGV4dFR5cGUgPSBFZGl0b3JDb250ZXh0O1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUVkaXRcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0dGFibGVBdHRyaWJ1dGVzOiB7XG5cdFx0XHRib3JkZXI6IDEsXG5cdFx0XHRjZWxsUGFkZGluZzogMCxcblx0XHRcdGNlbGxTcGFjaW5nOiAwLFxuXHRcdFx0c3R5bGU6ICd0YWJsZS1sYXlvdXQ6IGZpeGVkOyB3aWR0aDogMTAwJTsnLFxuXHRcdH0sXG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCB0YWJsZUVkaXRcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAndGFibGVFZGl0JztcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUVkaXRcblx0ICogQG1ldGhvZCBnZXRJbml0aWFsU3RhdGVcblx0ICovXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXG5cdFx0dGhpcy5yb3dzUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG5cdFx0dGhpcy5jb2xzUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdGNvbHM6IDMsXG5cdFx0XHRyb3dzOiAzLFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCAobm90IG9uIHRoZSBzZXJ2ZXIpLFxuXHQgKiBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuXHQgKlxuXHQgKiBGb2N1c2VzIG9uIHRoZSBsaW5rIGlucHV0IHRvIGltbWVkaWF0ZWx5IGFsbG93IGVkaXRpbmcuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVFZGl0XG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcblx0ICovXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMucm93c1JlZi5jdXJyZW50LmZvY3VzKCk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHRhYmxlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuXHQgKiBAbWV0aG9kIF9jcmVhdGVUYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfY3JlYXRlVGFibGUgPSAoKSA9PiB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXHRcdGNvbnN0IHRhYmxlVXRpbHMgPSBuZXcgQ0tFRElUT1IuVGFibGUoZWRpdG9yKTtcblx0XHRjb25zdCB7Y29scywgcm93c30gPSB0aGlzLnN0YXRlO1xuXG5cdFx0dGFibGVVdGlscy5jcmVhdGUoe1xuXHRcdFx0YXR0cnM6IHRoaXMucHJvcHMudGFibGVBdHRyaWJ1dGVzLFxuXHRcdFx0Y29sczogTWF0aC5tYXgoTUlOSU1VTV9HUklEX1ZBTFVFLCBjb2xzKSxcblx0XHRcdHJvd3M6IE1hdGgubWF4KE1JTklNVU1fR1JJRF9WQUxVRSwgcm93cyksXG5cdFx0fSk7XG5cblx0XHR0aGlzLnByb3BzLmNhbmNlbEV4Y2x1c2l2ZSgpO1xuXG5cdFx0ZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBIYW5kbGVzIGEgY2hhbmdlIGluIGlucHV0IHZhbHVlLiBTZXRzIHRoZSBwcm92aWRlZCB2YWx1ZSBmcm9tIHRoZSB1c2VyIGJhY2sgdG8gdGhlIGlucHV0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuXHQgKiBAbWV0aG9kIF9oYW5kbGVDaGFuZ2Vcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0TmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5wdXQgd2hpY2ggdmFsdWUgc2hvdWxkIGJlIHVwZGF0ZWQuXG5cdCAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50IFRoZSBwcm92aWRlZCBldmVudC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2hhbmRsZUNoYW5nZSA9IChpbnB1dE5hbWUsIGV2ZW50KSA9PiB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRbaW5wdXROYW1lXTogZXZlbnQudGFyZ2V0LnZhbHVlLFxuXHRcdH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBNb25pdG9ycyBrZXkgaW50ZXJhY3Rpb24gaW5zaWRlIHRoZSBpbnB1dCBlbGVtZW50IHRvIHJlc3BvbmQgdG8gdGhlIGtleXM6XG5cdCAqIC0gRW50ZXI6IENyZWF0ZXMgdGhlIHRhYmxlLlxuXHQgKiAtIEVzY2FwZTogRGlzY2FyZHMgdGhlIGNoYW5nZXMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVFZGl0XG5cdCAqIEBtZXRob2QgX2hhbmRsZUtleURvd25cblx0ICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgVGhlIGtleWJvYXJkIGV2ZW50LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRfaGFuZGxlS2V5RG93biA9IGV2ZW50ID0+IHtcblx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VOVEVSIHx8IGV2ZW50LmtleUNvZGUgPT09IEtFWV9FU0MpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKGV2ZW50LmtleUNvZGUgPT09IEtFWV9FTlRFUikge1xuXHRcdFx0dGhpcy5fY3JlYXRlVGFibGUoKTtcblx0XHR9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEtFWV9FU0MpIHtcblx0XHRcdHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVFZGl0XG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdGNvbnN0IHJvd3NJZCA9IHRpbWUgKyBJTlBVVF9OQU1FUy5ST1dTO1xuXHRcdGNvbnN0IGNvbHNJZCA9IHRpbWUgKyBJTlBVVF9OQU1FUy5DT0xTO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtdGFibGVcIj5cblx0XHRcdFx0PGxhYmVsIGh0bWxGb3I9e3Jvd3NJZH0+e0FsbG95RWRpdG9yLlN0cmluZ3Mucm93c308L2xhYmVsPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lci1pbnB1dCBzbWFsbFwiPlxuXHRcdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtaW5wdXRcIlxuXHRcdFx0XHRcdFx0aWQ9e3Jvd3NJZH1cblx0XHRcdFx0XHRcdG1pbj17TUlOSU1VTV9HUklEX1ZBTFVFfVxuXHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKFxuXHRcdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0XHRJTlBVVF9OQU1FUy5ST1dTXG5cdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0b25LZXlEb3duPXt0aGlzLl9oYW5kbGVLZXlEb3dufVxuXHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9XCJSb3dzXCJcblx0XHRcdFx0XHRcdHJlZj17dGhpcy5yb3dzUmVmfVxuXHRcdFx0XHRcdFx0dHlwZT1cIm51bWJlclwiXG5cdFx0XHRcdFx0XHR2YWx1ZT17dGhpcy5zdGF0ZS5yb3dzfVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdDxsYWJlbCBodG1sRm9yPXtjb2xzSWR9PntBbGxveUVkaXRvci5TdHJpbmdzLmNvbHVtbnN9PC9sYWJlbD5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItaW5wdXQgc21hbGxcIj5cblx0XHRcdFx0XHQ8aW5wdXRcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLWlucHV0XCJcblx0XHRcdFx0XHRcdGlkPXtjb2xzSWR9XG5cdFx0XHRcdFx0XHRtaW49e01JTklNVU1fR1JJRF9WQUxVRX1cblx0XHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZChcblx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0SU5QVVRfTkFNRVMuQ09MU1xuXHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdG9uS2V5RG93bj17dGhpcy5faGFuZGxlS2V5RG93bn1cblx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyPVwiQ29sdW1zXCJcblx0XHRcdFx0XHRcdHJlZj17dGhpcy5jb2xzUmVmfVxuXHRcdFx0XHRcdFx0dHlwZT1cIm51bWJlclwiXG5cdFx0XHRcdFx0XHR2YWx1ZT17dGhpcy5zdGF0ZS5jb2xzfVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWxhYmVsPVwiQ29uZmlybVwiXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uXCJcblx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLl9jcmVhdGVUYWJsZX0+XG5cdFx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwiY2hlY2tcIiAvPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uVGFibGVFZGl0O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBCdXR0b25Db21tYW5kc0xpc3QgZnJvbSAnLi9idXR0b24tY29tbWFuZHMtbGlzdC5qc3gnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25UYWJsZUhlYWRpbmcgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB3b3JrIHdpdGggdGFibGUgaGVhZGluZy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVIZWFkaW5nXG4gKi9cbmNsYXNzIEJ1dHRvblRhYmxlSGVhZGluZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRpYyBjb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuXHQgKlxuXHQgKiBAZGVmYXVsdCB0YWJsZVJvd1xuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVIZWFkaW5nXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICd0YWJsZUhlYWRpbmcnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVIZWFkaW5nXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGxldCBidXR0b25Db21tYW5kc0xpc3Q7XG5cdFx0bGV0IGJ1dHRvbkNvbW1hbmRzTGlzdElkO1xuXG5cdFx0aWYgKHRoaXMucHJvcHMuZXhwYW5kZWQpIHtcblx0XHRcdGJ1dHRvbkNvbW1hbmRzTGlzdElkID0gQnV0dG9uVGFibGVIZWFkaW5nLmtleSArICdMaXN0Jztcblx0XHRcdGJ1dHRvbkNvbW1hbmRzTGlzdCA9IChcblx0XHRcdFx0PEJ1dHRvbkNvbW1hbmRzTGlzdFxuXHRcdFx0XHRcdGNvbW1hbmRzPXt0aGlzLl9nZXRDb21tYW5kcygpfVxuXHRcdFx0XHRcdGxpc3RJZD17YnV0dG9uQ29tbWFuZHNMaXN0SWR9XG5cdFx0XHRcdFx0b25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufVxuXHRcdFx0XHQvPlxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCBhY3RpdmVIZWFkaW5nID0gbmV3IENLRURJVE9SLlRhYmxlKFxuXHRcdFx0dGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpXG5cdFx0KS5nZXRIZWFkaW5nKCk7XG5cdFx0Y29uc3QgYWN0aXZlSGVhZGluZ0ludHJvID0gQWxsb3lFZGl0b3IuU3RyaW5ncy5oZWFkZXJzICsgJzonO1xuXHRcdGNvbnN0IGFjdGl2ZUhlYWRpbmdMYWJlbCA9XG5cdFx0XHRBbGxveUVkaXRvci5TdHJpbmdzWydoZWFkZXJzJyArIGFjdGl2ZUhlYWRpbmddO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWRyb3Bkb3duLXhsIGFlLWhhcy1kcm9wZG93blwiPlxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0YXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH1cblx0XHRcdFx0XHRhcmlhLWxhYmVsPVwiXCJcblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS10b29sYmFyLWVsZW1lbnRcIlxuXHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259XG5cdFx0XHRcdFx0cm9sZT1cImNvbWJvYm94XCJcblx0XHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0XHR0aXRsZT1cIlwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPlxuXHRcdFx0XHRcdFx0XHR7YWN0aXZlSGVhZGluZ0ludHJvfXsnICd9XG5cdFx0XHRcdFx0XHRcdDxzdHJvbmc+e2FjdGl2ZUhlYWRpbmdMYWJlbH08L3N0cm9uZz5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cImNhcmV0LWJvdHRvbVwiIC8+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHR7YnV0dG9uQ29tbWFuZHNMaXN0fVxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbGlzdCBvZiBjb21tYW5kcy4gSWYgYSBsaXN0IG9mIGNvbW1hbmRzIHdhcyBwYXNzZWRcblx0ICogYXMgcHJvcGVydHkgYGNvbW1hbmRzYCwgaXQgd2lsbCB0YWtlIGEgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IG9uZXMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVIZWFkaW5nXG5cdCAqIEBtZXRob2QgX2dldENvbW1hbmRzXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy5cblx0ICovXG5cdF9nZXRDb21tYW5kcygpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0dGhpcy5wcm9wcy5jb21tYW5kcyB8fCBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAndGFibGVIZWFkaW5nTm9uZScsXG5cdFx0XHRcdFx0bGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuaGVhZGVyc05vbmUsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb21tYW5kOiAndGFibGVIZWFkaW5nUm93Jyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5oZWFkZXJzUm93LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29tbWFuZDogJ3RhYmxlSGVhZGluZ0NvbHVtbicsXG5cdFx0XHRcdFx0bGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuaGVhZGVyc0NvbHVtbixcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbW1hbmQ6ICd0YWJsZUhlYWRpbmdCb3RoJyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5oZWFkZXJzQm90aCxcblx0XHRcdFx0fSxcblx0XHRcdF1cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlSGVhZGluZztcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblRhYmxlUmVtb3ZlIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHJlbW92aW5nIGEgdGFibGVcbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVSZW1vdmVcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGVSZW1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgY29udGV4dFR5cGUgPSBFZGl0b3JDb250ZXh0O1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgdGFibGVSZW1vdmVcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlUmVtb3ZlXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICd0YWJsZVJlbW92ZSc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZVJlbW92ZVxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmRlbGV0ZVRhYmxlfVxuXHRcdFx0XHRjbGFzc05hbWU9XCJhZS1idXR0b25cIlxuXHRcdFx0XHRkYXRhLXR5cGU9XCJidXR0b24tdGFibGUtcmVtb3ZlXCJcblx0XHRcdFx0b25DbGljaz17dGhpcy5fcmVtb3ZlVGFibGV9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5kZWxldGVUYWJsZX0+XG5cdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cInRyYXNoXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyB0aGUgdGFibGUgaW4gdGhlIGVkaXRvciBlbGVtZW50LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlUmVtb3ZlXG5cdCAqIEBtZXRob2QgX3JlbW92ZVRhYmxlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9yZW1vdmVUYWJsZSA9ICgpID0+IHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0Y29uc3QgdGFibGVVdGlscyA9IG5ldyBDS0VESVRPUi5UYWJsZShlZGl0b3IpO1xuXG5cdFx0dGFibGVVdGlscy5yZW1vdmUoKTtcblxuXHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uVGFibGVSZW1vdmU7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b25Db21tYW5kc0xpc3QgZnJvbSAnLi9idXR0b24tY29tbWFuZHMtbGlzdC5qc3gnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25UYWJsZVJvdyBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHdvcmsgd2l0aCB0YWJsZSByb3dzLlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYWJsZVJvd1xuICovXG5jbGFzcyBCdXR0b25UYWJsZVJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cblx0ICpcblx0ICogQGRlZmF1bHQgdGFibGVSb3dcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlUm93XG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICd0YWJsZVJvdyc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZVJvd1xuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRsZXQgYnV0dG9uQ29tbWFuZHNMaXN0O1xuXHRcdGxldCBidXR0b25Db21tYW5kc0xpc3RJZDtcblxuXHRcdGlmICh0aGlzLnByb3BzLmV4cGFuZGVkKSB7XG5cdFx0XHRidXR0b25Db21tYW5kc0xpc3RJZCA9IEJ1dHRvblRhYmxlUm93LmtleSArICdMaXN0Jztcblx0XHRcdGJ1dHRvbkNvbW1hbmRzTGlzdCA9IChcblx0XHRcdFx0PEJ1dHRvbkNvbW1hbmRzTGlzdFxuXHRcdFx0XHRcdGNvbW1hbmRzPXt0aGlzLl9nZXRDb21tYW5kcygpfVxuXHRcdFx0XHRcdGxpc3RJZD17YnV0dG9uQ29tbWFuZHNMaXN0SWR9XG5cdFx0XHRcdFx0b25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufVxuXHRcdFx0XHQvPlxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXIgYWUtaGFzLWRyb3Bkb3duXCI+XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmV4cGFuZGVkfVxuXHRcdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3Mucm93fVxuXHRcdFx0XHRcdGFyaWEtb3ducz17YnV0dG9uQ29tbWFuZHNMaXN0SWR9XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uXCJcblx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufVxuXHRcdFx0XHRcdHJvbGU9XCJjb21ib2JveFwiXG5cdFx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3Mucm93fT5cblx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJhZGQtcm93XCIgLz5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdHtidXR0b25Db21tYW5kc0xpc3R9XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBsaXN0IG9mIGNvbW1hbmRzLiBJZiBhIGxpc3Qgb2YgY29tbWFuZHMgd2FzIHBhc3NlZFxuXHQgKiBhcyBwcm9wZXJ0eSBgY29tbWFuZHNgLCBpdCB3aWxsIHRha2UgYSBwcmVjZWRlbmNlIG92ZXIgdGhlIGRlZmF1bHQgb25lcy5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZVJvd1xuXHQgKiBAbWV0aG9kIF9nZXRDb21tYW5kc1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0FycmF5fSBUaGUgbGlzdCBvZiBhdmFpbGFibGUgY29tbWFuZHMuXG5cdCAqL1xuXHRfZ2V0Q29tbWFuZHMoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMucHJvcHMuY29tbWFuZHMgfHwgW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29tbWFuZDogJ3Jvd0luc2VydEJlZm9yZScsXG5cdFx0XHRcdFx0bGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3Mucm93SW5zZXJ0QmVmb3JlLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29tbWFuZDogJ3Jvd0luc2VydEFmdGVyJyxcblx0XHRcdFx0XHRsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5yb3dJbnNlcnRBZnRlcixcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbW1hbmQ6ICdyb3dEZWxldGUnLFxuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLnJvd0RlbGV0ZSxcblx0XHRcdFx0fSxcblx0XHRcdF1cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlUm93O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uSWNvbiBmcm9tICcuL2J1dHRvbi1pY29uLmpzeCc7XG5pbXBvcnQgQnV0dG9uVGFibGVFZGl0IGZyb20gJy4vYnV0dG9uLXRhYmxlLWVkaXQuanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFibGUgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYW5kIGVkaXRpbmcgYSB0YWJsZSBpbiBhIGRvY3VtZW50LiBCdXR0b25UYWJsZVxuICogcmVuZGVycyBpbiB0d28gZGlmZmVyZW50IG1vZGVzOlxuICpcbiAqIC0gTm9ybWFsOiBKdXN0IGEgYnV0dG9uIHRoYXQgYWxsb3dzIHRvIHN3aXRjaCB0byB0aGUgZWRpdGlvbiBtb2RlXG4gKiAtIEV4Y2x1c2l2ZTogVGhlIEJ1dHRvblRhYmxlRWRpdCBVSSB3aXRoIGFsbCB0aGUgdGFibGUgZWRpdGlvbiBjb250cm9scy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHRhYmxlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZVxuXHQgKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBrZXkgPSAndGFibGUnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0aWYgKHRoaXMucHJvcHMucmVuZGVyRXhjbHVzaXZlKSB7XG5cdFx0XHRyZXR1cm4gPEJ1dHRvblRhYmxlRWRpdCB7Li4udGhpcy5wcm9wc30gLz47XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnRhYmxlfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiXG5cdFx0XHRcdFx0ZGF0YS10eXBlPVwiYnV0dG9uLXRhYmxlXCJcblx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLnByb3BzLnJlcXVlc3RFeGNsdXNpdmV9XG5cdFx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MudGFibGV9PlxuXHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cInRhYmxlXCIgLz5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25UYWJsZTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXInO1xuaW1wb3J0IEJ1dHRvbkRyb3Bkb3duIGZyb20gJy4vYnV0dG9uLWRyb3Bkb3duLmpzeCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblRhcmdldExpc3QgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY2hhbmdpbmcgdGhlIHRhcmdldCBvZiBhIGxpbmtcbiAqIGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFyZ2V0TGlzdFxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIEJ1dHRvblRhcmdldExpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFyZ2V0TGlzdFxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjaXJjdWxhcjogdHJ1ZSxcblx0XHRkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuXHRcdGtleXM6IHtcblx0XHRcdGRpc21pc3M6IFsyN10sXG5cdFx0XHRkaXNtaXNzTmV4dDogWzM5XSxcblx0XHRcdGRpc21pc3NQcmV2OiBbMzddLFxuXHRcdFx0bmV4dDogWzQwXSxcblx0XHRcdHByZXY6IFszOF0sXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IGxpbmtUYXJnZXRFZGl0XG5cdCAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICd0YXJnZXRMaXN0JztcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcblx0ICovXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpLmZvY3VzKCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhcmdldExpc3Rcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgbGlzdFRhcmdldHMgPSB0aGlzLl9yZW5kZXJMaXN0VGFyZ2V0cygpO1xuXG5cdFx0cmV0dXJuIDxCdXR0b25Ecm9wZG93biB7Li4udGhpcy5wcm9wc30+e2xpc3RUYXJnZXRzfTwvQnV0dG9uRHJvcGRvd24+O1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHRoZSBhbGxvd2VkIGxpbmsgdGFyZ2V0IGl0ZW1zLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblRhcmdldExpc3Rcblx0ICogQG1ldGhvZCBfZ2V0QWxsb3dlZFRhcmdldEl0ZW1zXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7QXJyYXl9IFRoZSBhbGxvd2VkIHRhcmdldCBpdGVtcy5cblx0ICovXG5cdF9nZXRBbGxvd2VkVGFyZ2V0SXRlbXMoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMucHJvcHMuYWxsb3dlZExpbmtUYXJnZXRzIHx8IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmxpbmtUYXJnZXREZWZhdWx0LFxuXHRcdFx0XHRcdHZhbHVlOiAnJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmxpbmtUYXJnZXRTZWxmLFxuXHRcdFx0XHRcdHZhbHVlOiAnX3NlbGYnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MubGlua1RhcmdldEJsYW5rLFxuXHRcdFx0XHRcdHZhbHVlOiAnX2JsYW5rJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmxpbmtUYXJnZXRQYXJlbnQsXG5cdFx0XHRcdFx0dmFsdWU6ICdfcGFyZW50Jyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmxpbmtUYXJnZXRUb3AsXG5cdFx0XHRcdFx0dmFsdWU6ICdfdG9wJyxcblx0XHRcdFx0fSxcblx0XHRcdF1cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbmRlcnMgdGhlIGFsbG93ZWQgbGluayB0YXJnZXQgaXRlbXMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVGFyZ2V0TGlzdFxuXHQgKiBAbWV0aG9kIF9yZW5kZXJMaXN0VGFyZ2V0c1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyB0aGUgcmVuZGVyZWQgbGluayBpdGVtc1xuXHQgKi9cblx0X3JlbmRlckxpc3RUYXJnZXRzKCkge1xuXHRcdGxldCB0YXJnZXRzID0gdGhpcy5fZ2V0QWxsb3dlZFRhcmdldEl0ZW1zKCk7XG5cblx0XHRjb25zdCBoYW5kbGVMaW5rVGFyZ2V0Q2hhbmdlID0gdGhpcy5wcm9wcy5oYW5kbGVMaW5rVGFyZ2V0Q2hhbmdlO1xuXG5cdFx0dGFyZ2V0cyA9IHRhcmdldHMubWFwKHRhcmdldCA9PiB7XG5cdFx0XHRjb25zdCBjbGFzc05hbWUgPVxuXHRcdFx0XHR0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0ID09PSB0YXJnZXQudmFsdWVcblx0XHRcdFx0XHQ/ICdhZS10b29sYmFyLWVsZW1lbnQgYWN0aXZlJ1xuXHRcdFx0XHRcdDogJ2FlLXRvb2xiYXItZWxlbWVudCc7XG5cblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxsaSBrZXk9e3RhcmdldC52YWx1ZX0gcm9sZT1cIm9wdGlvblwiPlxuXHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuXHRcdFx0XHRcdFx0ZGF0YS12YWx1ZT17dGFyZ2V0LnZhbHVlfVxuXHRcdFx0XHRcdFx0b25DbGljaz17aGFuZGxlTGlua1RhcmdldENoYW5nZX0+XG5cdFx0XHRcdFx0XHR7dGFyZ2V0LmxhYmVsfVxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8L2xpPlxuXHRcdFx0KTtcblx0XHR9KTtcblxuXHRcdHJldHVybiB0YXJnZXRzO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldEZvY3VzTWFuYWdlcihCdXR0b25UYXJnZXRMaXN0KTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG5jb25zdCBNQVhfVFdFRVRfTEVOR1RIID0gMjgwO1xuXG4vKipcbiAqIFRoZSBCdXR0b25Ud2l0dGVyIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIGEgbGluayB3aGljaFxuICogYWxsb3dzIHBlb3BsZSB0byB0d2VldCBwYXJ0IG9mIHRoZSBjb250ZW50IGluIHRoZSBlZGl0b3IuXG4gKlxuICogQGNsYXNzIEJ1dHRvblR3aXR0ZXJcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25Ud2l0dGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHR3aXR0ZXJcblx0ICogQG1lbWJlcm9mIEJ1dHRvblR3aXR0ZXJcblx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMga2V5ID0gJ3R3aXR0ZXInO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIG9yIHJlbW92ZXMgdGhlIHR3aXR0ZXIgbGluayBvbiB0aGUgc2VsZWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblR3aXR0ZXJcblx0ICogQG1ldGhvZCBoYW5kbGVDbGlja1xuXHQgKi9cblx0aGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0Y29uc3QgbGlua1V0aWxzID0gbmV3IENLRURJVE9SLkxpbmsoZWRpdG9yKTtcblxuXHRcdGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcblx0XHRcdGxpbmtVdGlscy5yZW1vdmUobGlua1V0aWxzLmdldEZyb21TZWxlY3Rpb24oKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxpbmtVdGlscy5jcmVhdGUodGhpcy5fZ2V0SHJlZigpLCB7XG5cdFx0XHRcdGNsYXNzOiAnYWUtdHdpdHRlci1saW5rJyxcblx0XHRcdFx0dGFyZ2V0OiAnX2JsYW5rJyxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblx0fTtcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpcyBjb250YWluZWQgd2l0aGluIGEgbGluayB0aGF0IHBvaW50cyB0byB0d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVHdpdHRlclxuXHQgKiBAbWV0aG9kIGlzQWN0aXZlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHNlbGVjdGlvbiBpcyBpbnNpZGUgYSB0d2l0dGVyIGxpbmssIGZhbHNlIG90aGVyd2lzZS5cblx0ICovXG5cdGlzQWN0aXZlKCkge1xuXHRcdGNvbnN0IGxpbmsgPSBuZXcgQ0tFRElUT1IuTGluayhcblx0XHRcdHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKVxuXHRcdCkuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdGxpbmsgJiZcblx0XHRcdGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykuaW5kZXhPZigndHdpdHRlci5jb20vaW50ZW50L3R3ZWV0JykgIT09IC0xXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVHdpdHRlclxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBjc3NDbGFzcyA9IGBhZS1idXR0b24gJHt0aGlzLmdldFN0YXRlQ2xhc3NlcygpfWA7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnR3aXR0ZXJ9XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi10d2l0dGVyXCJcblx0XHRcdFx0b25DbGljaz17dGhpcy5oYW5kbGVDbGlja31cblx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnR3aXR0ZXJ9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJ0d2l0dGVyXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogR2VuZXJhdGVzIHRoZSBhcHByb3ByaWF0ZSB0d2l0dGVyIHVybCBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgdGV4dCBhbmQgdGhlIGNvbmZpZ3VyYXRpb25cblx0ICogb3B0aW9ucyByZWNlaXZlZCB2aWEgcHJvcHMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVHdpdHRlclxuXHQgKiBAbWV0aG9kIF9nZXRIcmVmXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7U3RyaW5nfSBBIHZhbGlkIHR3aXR0ZXIgdXJsIHdpdGggdGhlIHNlbGVjdGVkIHRleHQgYW5kIGdpdmVuIGNvbmZpZ3VyYXRpb24uXG5cdCAqL1xuXHRfZ2V0SHJlZigpIHtcblx0XHRjb25zdCBuYXRpdmVFZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0Y29uc3Qgc2VsZWN0ZWRUZXh0ID0gbmF0aXZlRWRpdG9yXG5cdFx0XHQuZ2V0U2VsZWN0aW9uKClcblx0XHRcdC5nZXRTZWxlY3RlZFRleHQoKVxuXHRcdFx0LnN1YnN0cmluZygwLCBNQVhfVFdFRVRfTEVOR1RIKTtcblx0XHRjb25zdCB1cmwgPSB0aGlzLnByb3BzLnVybDtcblx0XHRjb25zdCB2aWEgPSB0aGlzLnByb3BzLnZpYTtcblx0XHRsZXQgdHdpdHRlckhyZWYgPVxuXHRcdFx0J2h0dHBzOi8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0P3RleHQ9JyArIHNlbGVjdGVkVGV4dDtcblxuXHRcdGlmICh1cmwpIHtcblx0XHRcdHR3aXR0ZXJIcmVmICs9ICcmdXJsPScgKyB1cmw7XG5cdFx0fVxuXG5cdFx0aWYgKHZpYSkge1xuXHRcdFx0dHdpdHRlckhyZWYgKz0gJyZ2aWE9JyArIHZpYTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHdpdHRlckhyZWY7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvblR3aXR0ZXIpO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUnO1xuaW1wb3J0IEJ1dHRvbkljb24gZnJvbSAnLi9idXR0b24taWNvbi5qc3gnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25Vbm9yZGVyZWRsaXN0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIHVub3JkZXJlZCBsaXN0cyBpbiBhbiBlZGl0b3IuXG4gKlxuICogQGNsYXNzIEJ1dHRvblVub3JkZXJlZGxpc3RcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uVW5vcmRlcmVkbGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cblx0ICovXG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0Y29tbWFuZDogJ2J1bGxldGVkbGlzdCcsXG5cdFx0c3R5bGU6IHtcblx0XHRcdGVsZW1lbnQ6ICd1bCcsXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHVsXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICd1bCc7XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAke3RoaXMuZ2V0U3RhdGVDbGFzc2VzKCl9YDtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYnVsbGV0ZWRsaXN0fVxuXHRcdFx0XHRhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi11bFwiXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmR9XG5cdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHR0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5idWxsZXRlZGxpc3R9PlxuXHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJsaXN0LXVsXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcblx0QnV0dG9uU3RhdGVDbGFzc2VzKEJ1dHRvblN0eWxlKEJ1dHRvblVub3JkZXJlZGxpc3QpKVxuKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZCc7XG5pbXBvcnQgQnV0dG9uS2V5c3Ryb2tlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWtleXN0cm9rZSc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4vYnV0dG9uLWljb24uanN4JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVW5kZXJsaW5lIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHVuZGVybHlpbmcgYSB0ZXh0IHNlbGVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVW5kZXJsaW5lXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25LZXlzdHJva2VcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uVW5kZXJsaW5lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblVuZGVybGluZVxuXHQgKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAqL1xuXHRzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuXHRcdGNvbW1hbmQ6ICd1bmRlcmxpbmUnLFxuXHRcdGtleXN0cm9rZToge1xuXHRcdFx0Zm46ICdleGVjQ29tbWFuZCcsXG5cdFx0XHRrZXlzOiBDS0VESVRPUi5DVFJMICsgODUgLyogVSovLFxuXHRcdFx0bmFtZTogJ3VuZGVybGluZScsXG5cdFx0fSxcblx0XHRzdHlsZTogJ2NvcmVTdHlsZXNfdW5kZXJsaW5lJyxcblx0fTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG5cdCAqXG5cdCAqIEBkZWZhdWx0IHVuZGVybGluZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVW5kZXJsaW5lXG5cdCAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGtleSA9ICd1bmRlcmxpbmUnO1xuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uVW5kZXJsaW5lXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGNzc0NsYXNzID0gYGFlLWJ1dHRvbiAke3RoaXMuZ2V0U3RhdGVDbGFzc2VzKCl9YDtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MudW5kZXJsaW5lfVxuXHRcdFx0XHRhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3NzQ2xhc3N9XG5cdFx0XHRcdGRhdGEtdHlwZT1cImJ1dHRvbi11bmRlcmxpbmVcIlxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kfVxuXHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MudW5kZXJsaW5lfT5cblx0XHRcdFx0PEJ1dHRvbkljb24gc3ltYm9sPVwidW5kZXJsaW5lXCIgLz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcblx0QnV0dG9uS2V5c3Ryb2tlKEJ1dHRvblN0YXRlQ2xhc3NlcyhCdXR0b25TdHlsZShCdXR0b25VbmRlcmxpbmUpKSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBCdXR0b25BY2Nlc3NpYmlsaXR5SW1hZ2VBbHQgZnJvbSAnLi9idXR0b24tYWNjZXNzaWJpbGl0eS1pbWFnZS1hbHQuanN4JztcbmltcG9ydCBCdXR0b25CYWNrZ3JvdW5kQ29sb3IgZnJvbSAnLi9idXR0b24tYmFja2dyb3VuZC1jb2xvci5qc3gnO1xuaW1wb3J0IEJ1dHRvbkJvbGQgZnJvbSAnLi9idXR0b24tYm9sZC5qc3gnO1xuaW1wb3J0IEJ1dHRvbkNhbWVyYUltYWdlIGZyb20gJy4vYnV0dG9uLWNhbWVyYS1pbWFnZS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkNhbWVyYSBmcm9tICcuL2J1dHRvbi1jYW1lcmEuanN4JztcbmltcG9ydCBCdXR0b25Db2RlIGZyb20gJy4vYnV0dG9uLWNvZGUuanN4JztcbmltcG9ydCBCdXR0b25Db2xvciBmcm9tICcuL2J1dHRvbi1jb2xvci5qc3gnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRMaXN0SXRlbSBmcm9tICcuL2J1dHRvbi1jb21tYW5kLWxpc3QtaXRlbS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRzTGlzdCBmcm9tICcuL2J1dHRvbi1jb21tYW5kcy1saXN0LmpzeCc7XG5pbXBvcnQgQnV0dG9uRHJvcGRvd24gZnJvbSAnLi9idXR0b24tZHJvcGRvd24uanN4JztcbmltcG9ydCBCdXR0b25FbWJlZEVkaXQgZnJvbSAnLi9idXR0b24tZW1iZWQtZWRpdC5qc3gnO1xuaW1wb3J0IEJ1dHRvbkVtYmVkVmlkZW9FZGl0IGZyb20gJy4vYnV0dG9uLWVtYmVkLXZpZGVvLWVkaXQuanN4JztcbmltcG9ydCBCdXR0b25FbWJlZFZpZGVvIGZyb20gJy4vYnV0dG9uLWVtYmVkLXZpZGVvLmpzeCc7XG5pbXBvcnQgQnV0dG9uRW1iZWQgZnJvbSAnLi9idXR0b24tZW1iZWQuanN4JztcbmltcG9ydCBCdXR0b25IMSBmcm9tICcuL2J1dHRvbi1oMS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkgyIGZyb20gJy4vYnV0dG9uLWgyLmpzeCc7XG5pbXBvcnQgQnV0dG9uSGxpbmUgZnJvbSAnLi9idXR0b24taGxpbmUuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGZyb20gJy4vYnV0dG9uLWltYWdlLWFsaWduLWNlbnRlci5qc3gnO1xuaW1wb3J0IEJ1dHRvbkltYWdlQWxpZ25MZWZ0IGZyb20gJy4vYnV0dG9uLWltYWdlLWFsaWduLWxlZnQuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZUFsaWduUmlnaHQgZnJvbSAnLi9idXR0b24taW1hZ2UtYWxpZ24tcmlnaHQuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZSBmcm9tICcuL2J1dHRvbi1pbWFnZS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkluZGVudEJsb2NrIGZyb20gJy4vYnV0dG9uLWluZGVudC1ibG9jay5qc3gnO1xuaW1wb3J0IEJ1dHRvbkl0YWxpYyBmcm9tICcuL2J1dHRvbi1pdGFsaWMuanN4JztcbmltcG9ydCBCdXR0b25JdGVtU2VsZWN0b3JBdWRpbyBmcm9tICcuL2J1dHRvbi1pdGVtLXNlbGVjdG9yLWF1ZGlvLmpzeCc7XG5pbXBvcnQgQnV0dG9uSXRlbVNlbGVjdG9ySW1hZ2UgZnJvbSAnLi9idXR0b24taXRlbS1zZWxlY3Rvci1pbWFnZS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkl0ZW1TZWxlY3RvclZpZGVvIGZyb20gJy4vYnV0dG9uLWl0ZW0tc2VsZWN0b3ItdmlkZW8uanN4JztcbmltcG9ydCBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdCBmcm9tICcuL2J1dHRvbi1saW5rLWF1dG9jb21wbGV0ZS1saXN0LmpzeCc7XG5pbXBvcnQgQnV0dG9uTGlua0Jyb3dzZSBmcm9tICcuL2J1dHRvbi1saW5rLWJyb3dzZS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkxpbmtFZGl0QnJvd3NlIGZyb20gJy4vYnV0dG9uLWxpbmstZWRpdC1icm93c2UuanN4JztcbmltcG9ydCBCdXR0b25MaW5rRWRpdCBmcm9tICcuL2J1dHRvbi1saW5rLWVkaXQuanN4JztcbmltcG9ydCBCdXR0b25MaW5rVGFyZ2V0RWRpdCBmcm9tICcuL2J1dHRvbi1saW5rLXRhcmdldC1lZGl0LmpzeCc7XG5pbXBvcnQgQnV0dG9uTGluayBmcm9tICcuL2J1dHRvbi1saW5rLmpzeCc7XG5pbXBvcnQgQnV0dG9uT2wgZnJvbSAnLi9idXR0b24tb2wuanN4JztcbmltcG9ydCBCdXR0b25PdXRkZW50QmxvY2sgZnJvbSAnLi9idXR0b24tb3V0ZGVudC1ibG9jay5qc3gnO1xuaW1wb3J0IEJ1dHRvblBhcmFncmFwaEFsaWduTGVmdCBmcm9tICcuL2J1dHRvbi1wYXJhZ3JhcGgtYWxpZ24tbGVmdC5qc3gnO1xuaW1wb3J0IEJ1dHRvblBhcmFncmFwaEFsaWduUmlnaHQgZnJvbSAnLi9idXR0b24tcGFyYWdyYXBoLWFsaWduLXJpZ2h0LmpzeCc7XG5pbXBvcnQgQnV0dG9uUGFyYWdyYXBoQWxpZ24gZnJvbSAnLi9idXR0b24tcGFyYWdyYXBoLWFsaWduLmpzeCc7XG5pbXBvcnQgQnV0dG9uUGFyYWdyYXBoQ2VudGVyIGZyb20gJy4vYnV0dG9uLXBhcmFncmFwaC1jZW50ZXIuanN4JztcbmltcG9ydCBCdXR0b25QYXJhZ3JhcGhKdXN0aWZ5IGZyb20gJy4vYnV0dG9uLXBhcmFncmFwaC1qdXN0aWZ5LmpzeCc7XG5pbXBvcnQgQnV0dG9uUXVvdGUgZnJvbSAnLi9idXR0b24tcXVvdGUuanN4JztcbmltcG9ydCBCdXR0b25SZW1vdmVGb3JtYXQgZnJvbSAnLi9idXR0b24tcmVtb3ZlLWZvcm1hdC5qc3gnO1xuaW1wb3J0IEJ1dHRvblJlbW92ZUltYWdlIGZyb20gJy4vYnV0dG9uLXJlbW92ZS1pbWFnZS5qc3gnO1xuaW1wb3J0IEJ1dHRvblNlcGFyYXRvciBmcm9tICcuL2J1dHRvbi1zZXBhcmF0b3IuanN4JztcbmltcG9ydCBCdXR0b25TcGFjaW5nIGZyb20gJy4vYnV0dG9uLXNwYWNpbmcuanN4JztcbmltcG9ydCBCdXR0b25TdHJpa2UgZnJvbSAnLi9idXR0b24tc3RyaWtlLmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzTGlzdEhlYWRlciBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1oZWFkZXIuanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1pdGVtLXJlbW92ZS5qc3gnO1xuaW1wb3J0IEJ1dHRvblN0eWxlc0xpc3RJdGVtIGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LWl0ZW0uanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0IGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzIGZyb20gJy4vYnV0dG9uLXN0eWxlcy5qc3gnO1xuaW1wb3J0IEJ1dHRvblN1YnNjcmlwdCBmcm9tICcuL2J1dHRvbi1zdWJzY3JpcHQuanN4JztcbmltcG9ydCBCdXR0b25TdXBlcnNjcmlwdCBmcm9tICcuL2J1dHRvbi1zdXBlcnNjcmlwdC5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlQ2VsbCBmcm9tICcuL2J1dHRvbi10YWJsZS1jZWxsLmpzeCc7XG5pbXBvcnQgQnV0dG9uVGFibGVDb2x1bW4gZnJvbSAnLi9idXR0b24tdGFibGUtY29sdW1uLmpzeCc7XG5pbXBvcnQgQnV0dG9uVGFibGVFZGl0IGZyb20gJy4vYnV0dG9uLXRhYmxlLWVkaXQuanN4JztcbmltcG9ydCBCdXR0b25UYWJsZUhlYWRpbmcgZnJvbSAnLi9idXR0b24tdGFibGUtaGVhZGluZy5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlUmVtb3ZlIGZyb20gJy4vYnV0dG9uLXRhYmxlLXJlbW92ZS5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlUm93IGZyb20gJy4vYnV0dG9uLXRhYmxlLXJvdy5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlIGZyb20gJy4vYnV0dG9uLXRhYmxlLmpzeCc7XG5pbXBvcnQgQnV0dG9uVGFyZ2V0TGlzdCBmcm9tICcuL2J1dHRvbi10YXJnZXQtbGlzdC5qc3gnO1xuaW1wb3J0IEJ1dHRvblR3aXR0ZXIgZnJvbSAnLi9idXR0b24tdHdpdHRlci5qc3gnO1xuaW1wb3J0IEJ1dHRvblVsIGZyb20gJy4vYnV0dG9uLXVsLmpzeCc7XG5pbXBvcnQgQnV0dG9uVW5kZXJsaW5lIGZyb20gJy4vYnV0dG9uLXVuZGVybGluZS5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cdFtCdXR0b25BY2Nlc3NpYmlsaXR5SW1hZ2VBbHQua2V5XTogQnV0dG9uQWNjZXNzaWJpbGl0eUltYWdlQWx0LFxuXHRbQnV0dG9uQmFja2dyb3VuZENvbG9yLmtleV06IEJ1dHRvbkJhY2tncm91bmRDb2xvcixcblx0W0J1dHRvbkJvbGQua2V5XTogQnV0dG9uQm9sZCxcblx0W0J1dHRvbkNhbWVyYUltYWdlLmtleV06IEJ1dHRvbkNhbWVyYUltYWdlLFxuXHRbQnV0dG9uQ2FtZXJhLmtleV06IEJ1dHRvbkNhbWVyYSxcblx0W0J1dHRvbkNvZGUua2V5XTogQnV0dG9uQ29kZSxcblx0W0J1dHRvbkNvbG9yLmtleV06IEJ1dHRvbkNvbG9yLFxuXHRbQnV0dG9uQ29tbWFuZExpc3RJdGVtLmtleV06IEJ1dHRvbkNvbW1hbmRMaXN0SXRlbSxcblx0W0J1dHRvbkNvbW1hbmRzTGlzdC5rZXldOiBCdXR0b25Db21tYW5kc0xpc3QsXG5cdFtCdXR0b25Ecm9wZG93bi5rZXldOiBCdXR0b25Ecm9wZG93bixcblx0W0J1dHRvbkVtYmVkRWRpdC5rZXldOiBCdXR0b25FbWJlZEVkaXQsXG5cdFtCdXR0b25FbWJlZC5rZXldOiBCdXR0b25FbWJlZCxcblx0W0J1dHRvbkVtYmVkVmlkZW9FZGl0LmtleV06IEJ1dHRvbkVtYmVkVmlkZW9FZGl0LFxuXHRbQnV0dG9uRW1iZWRWaWRlby5rZXldOiBCdXR0b25FbWJlZFZpZGVvLFxuXHRbQnV0dG9uSDEua2V5XTogQnV0dG9uSDEsXG5cdFtCdXR0b25IMi5rZXldOiBCdXR0b25IMixcblx0W0J1dHRvbkhsaW5lLmtleV06IEJ1dHRvbkhsaW5lLFxuXHRbQnV0dG9uSW1hZ2VBbGlnbkNlbnRlci5rZXldOiBCdXR0b25JbWFnZUFsaWduQ2VudGVyLFxuXHRbQnV0dG9uSW1hZ2VBbGlnbkxlZnQua2V5XTogQnV0dG9uSW1hZ2VBbGlnbkxlZnQsXG5cdFtCdXR0b25JbWFnZUFsaWduUmlnaHQua2V5XTogQnV0dG9uSW1hZ2VBbGlnblJpZ2h0LFxuXHRbQnV0dG9uSW1hZ2Uua2V5XTogQnV0dG9uSW1hZ2UsXG5cdFtCdXR0b25JbmRlbnRCbG9jay5rZXldOiBCdXR0b25JbmRlbnRCbG9jayxcblx0W0J1dHRvbkl0YWxpYy5rZXldOiBCdXR0b25JdGFsaWMsXG5cdFtCdXR0b25JdGVtU2VsZWN0b3JBdWRpby5rZXldOiBCdXR0b25JdGVtU2VsZWN0b3JBdWRpbyxcblx0W0J1dHRvbkl0ZW1TZWxlY3RvckltYWdlLmtleV06IEJ1dHRvbkl0ZW1TZWxlY3RvckltYWdlLFxuXHRbQnV0dG9uSXRlbVNlbGVjdG9yVmlkZW8ua2V5XTogQnV0dG9uSXRlbVNlbGVjdG9yVmlkZW8sXG5cdFtCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdC5rZXldOiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdCxcblx0W0J1dHRvbkxpbmtCcm93c2Uua2V5XTogQnV0dG9uTGlua0Jyb3dzZSxcblx0W0J1dHRvbkxpbmtFZGl0QnJvd3NlLmtleV06IEJ1dHRvbkxpbmtFZGl0QnJvd3NlLFxuXHRbQnV0dG9uTGlua0VkaXQua2V5XTogQnV0dG9uTGlua0VkaXQsXG5cdFtCdXR0b25MaW5rVGFyZ2V0RWRpdC5rZXldOiBCdXR0b25MaW5rVGFyZ2V0RWRpdCxcblx0W0J1dHRvbkxpbmsua2V5XTogQnV0dG9uTGluayxcblx0W0J1dHRvbk9sLmtleV06IEJ1dHRvbk9sLFxuXHRbQnV0dG9uT3V0ZGVudEJsb2NrLmtleV06IEJ1dHRvbk91dGRlbnRCbG9jayxcblx0W0J1dHRvblBhcmFncmFwaEFsaWduLmtleV06IEJ1dHRvblBhcmFncmFwaEFsaWduLFxuXHRbQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0LmtleV06IEJ1dHRvblBhcmFncmFwaEFsaWduTGVmdCxcblx0W0J1dHRvblBhcmFncmFwaEFsaWduUmlnaHQua2V5XTogQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodCxcblx0W0J1dHRvblBhcmFncmFwaENlbnRlci5rZXldOiBCdXR0b25QYXJhZ3JhcGhDZW50ZXIsXG5cdFtCdXR0b25QYXJhZ3JhcGhKdXN0aWZ5LmtleV06IEJ1dHRvblBhcmFncmFwaEp1c3RpZnksXG5cdFtCdXR0b25RdW90ZS5rZXldOiBCdXR0b25RdW90ZSxcblx0W0J1dHRvblJlbW92ZUZvcm1hdC5rZXldOiBCdXR0b25SZW1vdmVGb3JtYXQsXG5cdFtCdXR0b25SZW1vdmVJbWFnZS5rZXldOiBCdXR0b25SZW1vdmVJbWFnZSxcblx0W0J1dHRvblNlcGFyYXRvci5rZXldOiBCdXR0b25TZXBhcmF0b3IsXG5cdFtCdXR0b25TcGFjaW5nLmtleV06IEJ1dHRvblNwYWNpbmcsXG5cdFtCdXR0b25TdHJpa2Uua2V5XTogQnV0dG9uU3RyaWtlLFxuXHRbQnV0dG9uU3R5bGVzTGlzdEhlYWRlci5rZXldOiBCdXR0b25TdHlsZXNMaXN0SGVhZGVyLFxuXHRbQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUua2V5XTogQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUsXG5cdFtCdXR0b25TdHlsZXNMaXN0SXRlbS5rZXldOiBCdXR0b25TdHlsZXNMaXN0SXRlbSxcblx0W0J1dHRvblN0eWxlc0xpc3Qua2V5XTogQnV0dG9uU3R5bGVzTGlzdCxcblx0W0J1dHRvblN0eWxlcy5rZXldOiBCdXR0b25TdHlsZXMsXG5cdFtCdXR0b25TdWJzY3JpcHQua2V5XTogQnV0dG9uU3Vic2NyaXB0LFxuXHRbQnV0dG9uU3VwZXJzY3JpcHQua2V5XTogQnV0dG9uU3VwZXJzY3JpcHQsXG5cdFtCdXR0b25UYWJsZUNlbGwua2V5XTogQnV0dG9uVGFibGVDZWxsLFxuXHRbQnV0dG9uVGFibGVDb2x1bW4ua2V5XTogQnV0dG9uVGFibGVDb2x1bW4sXG5cdFtCdXR0b25UYWJsZUVkaXQua2V5XTogQnV0dG9uVGFibGVFZGl0LFxuXHRbQnV0dG9uVGFibGVIZWFkaW5nLmtleV06IEJ1dHRvblRhYmxlSGVhZGluZyxcblx0W0J1dHRvblRhYmxlUmVtb3ZlLmtleV06IEJ1dHRvblRhYmxlUmVtb3ZlLFxuXHRbQnV0dG9uVGFibGVSb3cua2V5XTogQnV0dG9uVGFibGVSb3csXG5cdFtCdXR0b25UYWJsZS5rZXldOiBCdXR0b25UYWJsZSxcblx0W0J1dHRvblRhcmdldExpc3Qua2V5XTogQnV0dG9uVGFyZ2V0TGlzdCxcblx0W0J1dHRvblR3aXR0ZXIua2V5XTogQnV0dG9uVHdpdHRlcixcblx0W0J1dHRvblVsLmtleV06IEJ1dHRvblVsLFxuXHRbQnV0dG9uVW5kZXJsaW5lLmtleV06IEJ1dHRvblVuZGVybGluZSxcbn07XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcblxuLyoqXG4gKiBCdXR0b25BY3Rpb25TdHlsZSBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMgYXBwbHlpbmcgc3R5bGVcbiAqIGltcGxlbWVudGF0aW9uIGZvciBhIGJ1dHRvbiBiYXNlZCBvbiB0aGUgYGFwcGx5U3R5bGVgIGFuZFxuICogYHJlbW92ZVN0eWxlYCBBUEkgb2YgQ0tFRElUT1IuXG4gKlxuICogVG8gZXhlY3V0ZSBwcm9wZXJseSwgdGhlIGNvbXBvbmVudCBoYXMgdG8gZXhwb3NlIHRoZSBmb2xsb3dpbmdcbiAqIG1ldGhvZHMgd2hpY2ggY2FuIGJlIG9idGFpbmVkIG91dCBvZiB0aGUgYm94IHVzaW5nIHRoZSB7eyNjcm9zc0xpbmtcbiAqIFwiQnV0dG9uU3R5bGVcIn19e3svY3Jvc3NMaW5rfX0gbWl4aW46XG4gKiAtIGBGdW5jdGlvbmAge3sjY3Jvc3NMaW5rIFwiQnV0dG9uU3R5bGUvaXNBY3RpdmVcIn19e3svY3Jvc3NMaW5rfX0gdG9cbiAqICAgIGNoZWNrIHRoZSBhY3RpdmUgc3RhdGVcbiAqIC0gYEZ1bmN0aW9uYCB7eyNjcm9zc0xpbmsgXCJCdXR0b25TdHlsZS9nZXRTdHlsZVwifX17ey9jcm9zc0xpbmt9fSB0b1xuICogICAgcmV0dXJuIHRoZSBzdHlsZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkXG4gKlxuICogQGNsYXNzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKi9cbmNvbnN0IEJ1dHRvbkFjdGlvblN0eWxlID0ge1xuXHQvKipcblx0ICogUmVtb3ZlcyBvciBhcHBsaWVzIHRoZSBjb21wb25lbnQgc3R5bGUgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbkFjdGlvblN0eWxlXG5cdCAqIEBtZXRob2QgYXBwbHlTdHlsZVxuXHQgKi9cblx0YXBwbHlTdHlsZSgpIHtcblx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHRoaXMuaXNBY3RpdmUpICYmIExhbmcuaXNGdW5jdGlvbih0aGlzLmdldFN0eWxlKSkge1xuXHRcdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdFx0ZWRpdG9yLmdldFNlbGVjdGlvbigpLmxvY2soKTtcblxuXHRcdFx0aWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuXHRcdFx0XHRlZGl0b3IucmVtb3ZlU3R5bGUodGhpcy5nZXRTdHlsZSgpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVkaXRvci5hcHBseVN0eWxlKHRoaXMuZ2V0U3R5bGUoKSk7XG5cdFx0XHR9XG5cblx0XHRcdGVkaXRvci5nZXRTZWxlY3Rpb24oKS51bmxvY2soKTtcblxuXHRcdFx0ZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXHRcdH1cblx0fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkFjdGlvblN0eWxlO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG4vKipcbiAqIEJ1dHRvbkNvbW1hbmRBY3RpdmUgaXMgYSBtaXhpbiB0aGF0IHByb3ZpZGVzIGFuIGBpc0FjdGl2ZWAgbWV0aG9kIHRvXG4gKiBkZXRlcm1pbmUgaWYgYSBjb250ZXh0LWF3YXJlIGNvbW1hbmQgaXMgY3VycmVudGx5IGluIGFuIGFjdGl2ZSBzdGF0ZS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQ29tbWFuZEFjdGl2ZVxuICovXG5jb25zdCBCdXR0b25Db21tYW5kQWN0aXZlID0ge1xuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSBjb21tYW5kIGlzIGFjdGl2ZSBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZEFjdGl2ZVxuXHQgKiBAbWV0aG9kIGlzQWN0aXZlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGNvbW1hbmQgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqL1xuXHRpc0FjdGl2ZSgpIHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0Y29uc3QgY29tbWFuZCA9IGVkaXRvci5nZXRDb21tYW5kKHRoaXMucHJvcHMuY29tbWFuZCk7XG5cblx0XHRyZXR1cm4gY29tbWFuZCA/IGNvbW1hbmQuc3RhdGUgPT09IENLRURJVE9SLlRSSVNUQVRFX09OIDogZmFsc2U7XG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kQWN0aXZlO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG4vKipcbiAqIEJ1dHRvbkNvbW1hbmQgaXMgYSBtaXhpbiB0aGF0IGV4ZWN1dGVzIGEgY29tbWFuZCB2aWEgQ0tFRElUT1IncyBBUEkuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkNvbW1hbmRcbiAqL1xuY29uc3QgQnV0dG9uQ29tbWFuZCA9IHtcblx0Ly8gQWxsb3dzIHZhbGlkYXRpbmcgcHJvcHMgYmVpbmcgcGFzc2VkIHRvIHRoZSBjb21wb25lbnQuXG5cdHByb3BUeXBlczoge1xuXHRcdC8qKlxuXHRcdCAqIFRoZSBjb21tYW5kIHRoYXQgc2hvdWxkIGJlIGV4ZWN1dGVkLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRcblx0XHQgKiBAcHJvcGVydHkge1N0cmluZ30gY29tbWFuZFxuXHRcdCAqL1xuXHRcdGNvbW1hbmQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyB0aGF0IHRoZSBjb21tYW5kIG1heSBjYXVzZSB0aGUgZWRpdG9yIHRvIGhhdmUgYSBkaWZmZXJlbnQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZFxuXHRcdCAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbW9kaWZpZXNTZWxlY3Rpb25cblx0XHQgKi9cblx0XHRtb2RpZmllc1NlbGVjdGlvbjogUHJvcFR5cGVzLmJvb2wsXG5cdH0sXG5cblx0LyoqXG5cdCAqIEV4ZWN1dGVzIGEgQ0tFZGl0b3IgY29tbWFuZCBhbmQgZmlyZXMgYGFjdGlvblBlcmZvcm1lZGAgZXZlbnQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZFxuXHQgKiBAcGFyYW0ge09iamVjdD19IGRhdGEgT3B0aW9uYWwgZGF0YSB0byBiZSBwYXNzZWQgdG8gQ0tFRElUT1IncyBgZXhlY0NvbW1hbmRgIG1ldGhvZC5cblx0ICogQG1ldGhvZCBleGVjQ29tbWFuZFxuXHQgKi9cblx0ZXhlY0NvbW1hbmQoZGF0YSkge1xuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRlZGl0b3IuZXhlY0NvbW1hbmQodGhpcy5wcm9wcy5jb21tYW5kLCBkYXRhKTtcblxuXHRcdGlmICh0aGlzLnByb3BzLm1vZGlmaWVzU2VsZWN0aW9uKSB7XG5cdFx0XHRlZGl0b3Iuc2VsZWN0aW9uQ2hhbmdlKHRydWUpO1xuXHRcdH1cblxuXHRcdGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblx0fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQ7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcblxuLyoqXG4gKiBCdXR0b25LZXlzdHJva2UgaXMgYSBtaXhpbiB0aGF0IHByb3ZpZGVzIGEgYGtleXN0cm9rZWAgcHJvcCB0aGF0IGFsbG93cyBjb25maWd1cmluZ1xuICogYSBmdW5jdGlvbiBvZiB0aGUgaW5zdGFuY2UgdG8gYmUgaW52b2tlZCB1cG9uIHRoZSBrZXlzdHJva2UgYWN0aXZhdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uS2V5c3Ryb2tlXG4gKi9cbmNvbnN0IEJ1dHRvbktleXN0cm9rZSA9IHtcblx0Ly8gQWxsb3dzIHZhbGlkYXRpbmcgcHJvcHMgYmVpbmcgcGFzc2VkIHRvIHRoZSBjb21wb25lbnQuXG5cdHByb3BUeXBlczoge1xuXHRcdC8qKlxuXHRcdCAqIFRoZSBrZXlzdHJva2UgZGVmaW5pdGlvbi4gQW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXHRcdCAqIC0gZm46IFRoZSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZFxuXHRcdCAqIC0ga2V5czogVGhlIGtleXN0cm9rZSBkZWZpbml0aW9uLCBhcyBleHBlY3RlZCBieSBodHRwOi8vZG9jcy5ja2VkaXRvci5jb20vIyEvYXBpL0NLRURJVE9SLmVkaXRvci1tZXRob2Qtc2V0S2V5c3Ryb2tlXG5cdFx0ICogLSBuYW1lOiBUaGUgbmFtZSBmb3IgdGhlIENLRWRpdG9yIGNvbW1hbmQgdGhhdCB3aWxsIGJlIGNyZWF0ZWQuIElmIGVtcHR5LFxuXHRcdCAqIGEgcmFuZG9tIG5hbWUgd2lsbCBiZSBjcmVhdGVkIG9uIHRoZSBmbHlcblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBCdXR0b25LZXlzdHJva2Vcblx0XHQgKiBAcHJvcGVydHkge09iamVjdH0ga2V5c3Ryb2tlXG5cdFx0ICovXG5cdFx0a2V5c3Ryb2tlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdH0sXG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBib3RoIG9uIHRoZSBjbGllbnQgYW5kIHNlcnZlciwgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uS2V5c3Ryb2tlXG5cdCAqIEBtZXRob2QgY29tcG9uZW50V2lsbE1vdW50XG5cdCAqL1xuXHRjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdFx0Y29uc3QgbmF0aXZlRWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0XHRjb25zdCBrZXlzdHJva2UgPSB0aGlzLnByb3BzLmtleXN0cm9rZTtcblxuXHRcdGNvbnN0IGNvbW1hbmROYW1lID1cblx0XHRcdGtleXN0cm9rZS5uYW1lIHx8ICgoTWF0aC5yYW5kb20oKSAqIDFlOSkgPj4+IDApLnRvU3RyaW5nKCk7XG5cblx0XHRsZXQgY29tbWFuZCA9IG5hdGl2ZUVkaXRvci5nZXRDb21tYW5kKGNvbW1hbmROYW1lKTtcblxuXHRcdGlmICghY29tbWFuZCkge1xuXHRcdFx0Y29tbWFuZCA9IG5ldyBDS0VESVRPUi5jb21tYW5kKG5hdGl2ZUVkaXRvciwge1xuXHRcdFx0XHRleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcblx0XHRcdFx0XHRjb25zdCBrZXlzdHJva2VGbiA9IGtleXN0cm9rZS5mbjtcblxuXHRcdFx0XHRcdGlmIChMYW5nLmlzU3RyaW5nKGtleXN0cm9rZUZuKSkge1xuXHRcdFx0XHRcdFx0dGhpc1trZXlzdHJva2VGbl0uY2FsbCh0aGlzLCBlZGl0b3IpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoTGFuZy5pc0Z1bmN0aW9uKGtleXN0cm9rZUZuKSkge1xuXHRcdFx0XHRcdFx0a2V5c3Ryb2tlRm4uY2FsbCh0aGlzLCBlZGl0b3IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fS5iaW5kKHRoaXMpLFxuXHRcdFx0fSk7XG5cblx0XHRcdG5hdGl2ZUVkaXRvci5hZGRDb21tYW5kKGNvbW1hbmROYW1lLCBjb21tYW5kKTtcblx0XHR9XG5cblx0XHR0aGlzLl9kZWZhdWx0S2V5c3Ryb2tlQ29tbWFuZCA9XG5cdFx0XHRuYXRpdmVFZGl0b3Iua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzW2tleXN0cm9rZS5rZXlzXTtcblxuXHRcdG5hdGl2ZUVkaXRvci5zZXRLZXlzdHJva2Uoa2V5c3Ryb2tlLmtleXMsIGNvbW1hbmROYW1lKTtcblx0fSxcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGJlZm9yZSBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgZnJvbSB0aGUgRE9NLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvbktleXN0cm9rZVxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxVbm1vdW50XG5cdCAqL1xuXHRjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHR0aGlzLnByb3BzLmVkaXRvclxuXHRcdFx0LmdldCgnbmF0aXZlRWRpdG9yJylcblx0XHRcdC5zZXRLZXlzdHJva2UoXG5cdFx0XHRcdHRoaXMucHJvcHMua2V5c3Ryb2tlLmtleXMsXG5cdFx0XHRcdHRoaXMuX2RlZmF1bHRLZXlzdHJva2VDb21tYW5kXG5cdFx0XHQpO1xuXHR9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uS2V5c3Ryb2tlO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgQnV0dG9uTGlua0VkaXQgZnJvbSAnLi4vYnV0dG9ucy9idXR0b24tbGluay1lZGl0LmpzeCc7XG5cbi8qKlxuICogQnV0dG9uUHJvcHMgaXMgYSBtaXhpbiB0aGF0IHByb3ZpZGVzIGEgc3R5bGUgcHJvcCBhbmQgc29tZSBtZXRob2RzIHRvIGFwcGx5IHRoZSByZXN1bHRpbmdcbiAqIHN0eWxlIGFuZCBjaGVja2luZyBpZiBpdCBpcyBwcmVzZW50IGluIGEgZ2l2ZW4gcGF0aCBvciBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblByb3BzXG4gKi9cbmNvbnN0IEJ1dHRvblByb3BzID0ge1xuXHQvLyBBbGxvd3MgdmFsaWRhdGluZyBwcm9wcyBiZWluZyBwYXNzZWQgdG8gdGhlIGNvbXBvbmVudC5cblx0cHJvcFR5cGVzOiB7XG5cdFx0LyoqXG5cdFx0ICogVGhlIGVkaXRvciBpbnN0YW5jZSB3aGVyZSB0aGUgY29tcG9uZW50IGlzIGJlaW5nIHVzZWQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQnV0dG9uUHJvcHNcblx0XHQgKiBAcHJvcGVydHkge09iamVjdH0gZWRpdG9yXG5cdFx0ICovXG5cdFx0ZWRpdG9yOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdH0sXG5cblx0LyoqXG5cdCAqIE1lcmdlcyB0aGUgcHJvcGVydGllcywgcGFzc2VkIHRvIHRoZSBjdXJyZW50IGNvbXBvbmVudCB3aXRoIHVzZXIncyBjb25maWd1cmF0aW9uXG5cdCAqIHZpYSBgYnV0dG9uQ2ZnYCBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25Qcm9wc1xuXHQgKiBAbWV0aG9kIG1lcmdlQnV0dG9uQ2ZnUHJvcHNcblx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIG1lcmdlZCB3aXRoIHRoZSBwcm92aWRlZCBjb25maWd1cmF0aW9uIGZvciB0aGlzXG5cdCAqIGJ1dHRvbi4gSWYgbm90IHBhc3NlZCwgdGhlIHVzZXIgY29uZmlndXJhdGlvbiB3aWxsIGJlIG1lcmdlZCB3aXRoIGB0aGlzLnByb3BzYFxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtZXJnZWQgcHJvcGVydGllc1xuXHQgKi9cblx0bWVyZ2VCdXR0b25DZmdQcm9wcyhwcm9wcykge1xuXHRcdHByb3BzID0gcHJvcHMgfHwgdGhpcy5wcm9wcztcblxuXHRcdGNvbnN0IG5hdGl2ZUVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdFx0Y29uc3QgYnV0dG9uQ2ZnID0gbmF0aXZlRWRpdG9yLmNvbmZpZy5idXR0b25DZmcgfHwge307XG5cdFx0Y29uc3QgcmVzdWx0ID0gQ0tFRElUT1IudG9vbHMubWVyZ2UoXG5cdFx0XHRwcm9wcyxcblx0XHRcdGJ1dHRvbkNmZ1tCdXR0b25MaW5rRWRpdC5rZXldXG5cdFx0KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Qcm9wcztcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcnO1xuXG4vKipcbiAqIEJ1dHRvblN0YXRlQ2xhc3NlcyBpcyBhIG1peGluIHRoYXQgZGVjb3JhdGVzIHRoZSBkb21FbGVtZW50IG9mIGEgY29tcG9uZW50XG4gKiB3aXRoIGRpZmZlcmVudCBDU1MgY2xhc3NlcyBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZWxlbWVudC5cbiAqXG4gKiBUbyBjaGVjayBmb3Igc3RhdGUsIHRoZSBjb21wb25lbnQgY2FuIGV4cG9zZSB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKiAtIGBGdW5jdGlvbmAgKippc0FjdGl2ZSoqIHRvIGNoZWNrIHRoZSBhY3RpdmUgc3RhdGVcbiAqIC0gYEZ1bmN0aW9uYCAqKmlzRGlzYWJsZWQqKiB0byBjaGVjayB0aGUgZGlzYWJsZWQgc3RhdGVcbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmNvbnN0IEJ1dHRvblN0YXRlQ2xhc3NlcyA9IHtcblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGxpc3Qgb2Ygc3RhdGUgY2xhc3NlcyBhc3NvY2lhdGVkIHRvIHRoZSBjdXJyZW50IGVsZW1lbnQncyBzdGF0ZSwgYWNjb3JkaW5nXG5cdCAqIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBpc0FjdGl2ZSBhbmQgaXNEaXNhYmxlZCBtZXRob2RzLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuXHQgKiBAbWV0aG9kIGdldFN0YXRlQ2xhc3Nlc1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IEEgc3RyaW5nIHdpdGggdGhlIHN0YXRlIENTUyBjbGFzc2VzLlxuXHQgKi9cblx0Z2V0U3RhdGVDbGFzc2VzKCkge1xuXHRcdGxldCBzdGF0ZUNsYXNzZXMgPSAnJztcblxuXHRcdC8vIENoZWNrIGZvciBhY3RpdmUgc3RhdGVcblx0XHRpZiAoTGFuZy5pc0Z1bmN0aW9uKHRoaXMuaXNBY3RpdmUpICYmIHRoaXMuaXNBY3RpdmUoKSkge1xuXHRcdFx0c3RhdGVDbGFzc2VzICs9ICdhZS1idXR0b24tcHJlc3NlZCc7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgZm9yIGRpc2FibGVkIHN0YXRlXG5cdFx0aWYgKExhbmcuaXNGdW5jdGlvbih0aGlzLmlzRGlzYWJsZWQpICYmIHRoaXMuaXNEaXNhYmxlZCgpKSB7XG5cdFx0XHRzdGF0ZUNsYXNzZXMgKz0gJyBhZS1idXR0b24tZGlzYWJsZWQnO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdGF0ZUNsYXNzZXM7XG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25TdGF0ZUNsYXNzZXM7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcblxuLyoqXG4gKiBCdXR0b25TdHlsZSBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMgYSBzdHlsZSBwcm9wIGFuZCBzb21lIG1ldGhvZHMgdG9cbiAqIGFwcGx5IHRoZSByZXN1bHRpbmcgc3R5bGUgYW5kIGNoZWNraW5nIGlmIGl0IGlzIHByZXNlbnQgaW4gYSBnaXZlblxuICogcGF0aCBvciBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblN0eWxlXG4gKi9cbmNvbnN0IEJ1dHRvblN0eWxlID0ge1xuXHQvLyBBbGxvd3MgdmFsaWRhdGluZyBwcm9wcyBiZWluZyBwYXNzZWQgdG8gdGhlIGNvbXBvbmVudC5cblx0cHJvcFR5cGVzOiB7XG5cdFx0LyoqXG5cdFx0ICogVGhlIHN0eWxlIHRoZSBidXR0b24gc2hvdWxkIGhhbmRsZS4gQWxsb3dlZCB2YWx1ZXMgYXJlOlxuXHRcdCAqIC0gT2JqZWN0IGFzIGRlc2NyaWJlZCBieVxuXHRcdCAqICAgaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2FwaS9DS0VESVRPUi5zdHlsZS5cblx0XHQgKiAtIFN0cmluZyBwb2ludGluZyB0byBhbiBvYmplY3QgaW5zaWRlIHRoZSBlZGl0b3IgaW5zdGFuY2Vcblx0XHQgKiAgIGNvbmZpZ3VyYXRpb24uIEZvciBleGFtcGxlLCBgc3R5bGUgPSAnY29yZVN0eWxlc19ib2xkJ2Agd2lsbFxuXHRcdCAqICAgdHJ5IHRvIHJldHJpZXZlIHRoZSBzdHlsZSBvYmplY3QgZnJvbVxuXHRcdCAqICAgYGVkaXRvci5jb25maWcuY29yZVN0eWxlc19ib2xkYC4gTmVzdGVkIHByb3BlcnRpZXMgc3VjaCBhc1xuXHRcdCAqICAgYHN0eWxlID0gJ215cGx1Z2luLm15Q29uZmlnLm15U3R5bGUnYCBhcmUgYWxzbyBzdXBwb3J0ZWRcblx0XHQgKiAgIGFuZCB3aWxsIHRyeSB0byByZXRyaWV2ZSB0aGUgc3R5bGUgb2JqZWN0IGZyb20gdGhlIGVkaXRvclxuXHRcdCAqICAgY29uZmlndXJhdGlvbiBhcyB3ZWxsLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlXG5cdFx0ICogQHByb3BlcnR5IHtPYmplY3R8U3RyaW5nfSBzdHlsZVxuXHRcdCAqL1xuXHRcdHN0eWxlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuc3RyaW5nXSksXG5cblx0XHQvKipcblx0XHQgKiBUaGUgc3R5bGUgZnVuY3Rpb24gdGhlIGJ1dHRvbiBzaG91bGQgaGFuZGxlLlxuXHRcdCAqIElmIHNwZWNpZmllZCwgc3R5bGUgZnVuY3Rpb24gaGFzIGhpZ2hlciBwcmlvcml0eSB0aGFuIHN0eWxlIHByb3BlcnR5LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlXG5cdFx0ICogQHByb3BlcnR5IHtmdW5jdGlvbn0gc3R5bGVGblxuXHRcdCAqL1xuXHRcdHN0eWxlRm46IFByb3BUeXBlcy5mdW5jLFxuXHR9LFxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgYm90aCBvbiB0aGUgY2xpZW50IGFuZCBzZXJ2ZXIsXG5cdCAqIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlXG5cdCAqIEBtZXRob2QgY29tcG9uZW50V2lsbE1vdW50XG5cdCAqL1xuXHRjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdFx0bGV0IHN0eWxlID0gdGhpcy5wcm9wcy5zdHlsZTtcblxuXHRcdGlmIChMYW5nLmlzU3RyaW5nKHN0eWxlKSkge1xuXHRcdFx0Y29uc3QgcGFydHMgPSBzdHlsZS5zcGxpdCgnLicpO1xuXHRcdFx0bGV0IGN1cnJlbnRNZW1iZXIgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLmNvbmZpZztcblx0XHRcdGxldCBwcm9wZXJ0eSA9IHBhcnRzLnNoaWZ0KCk7XG5cblx0XHRcdHdoaWxlIChcblx0XHRcdFx0cHJvcGVydHkgJiZcblx0XHRcdFx0TGFuZy5pc09iamVjdChjdXJyZW50TWVtYmVyKSAmJlxuXHRcdFx0XHRMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXJbcHJvcGVydHldKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGN1cnJlbnRNZW1iZXIgPSBjdXJyZW50TWVtYmVyW3Byb3BlcnR5XTtcblx0XHRcdFx0cHJvcGVydHkgPSBwYXJ0cy5zaGlmdCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoTGFuZy5pc09iamVjdChjdXJyZW50TWVtYmVyKSkge1xuXHRcdFx0XHRzdHlsZSA9IGN1cnJlbnRNZW1iZXI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoc3R5bGUpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgaW1tZWRpYXRlbHkgYmVmb3JlIGEgY29tcG9uZW50IGlzIHVubW91bnRlZFxuXHQgKiBmcm9tIHRoZSBET00uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVcblx0ICogQG1ldGhvZCBjb21wb25lbnRXaWxsVW5tb3VudFxuXHQgKi9cblx0Y29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdFx0dGhpcy5fc3R5bGUgPSBudWxsO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGluc3RhbmNlIG9mIENLRURJVE9SLnN0eWxlIHdoaWNoIHJlcHJlc2VudHMgdGhlIGN1cnJlbnRcblx0ICogYnV0dG9uIHN0eWxlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlXG5cdCAqIEBtZXRob2QgZ2V0U3R5bGVcblx0ICogQHJldHVybiB7Q0tFRElUT1Iuc3R5bGV9IFRoZSBjdXJyZW50IHN0eWxlIHJlcHJlc2VudGF0aW9uLlxuXHQgKi9cblx0Z2V0U3R5bGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3N0eWxlO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgc3R5bGUgaXMgYWN0aXZlIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZVxuXHQgKiBAbWV0aG9kIGlzQWN0aXZlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3R5bGUgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqL1xuXHRpc0FjdGl2ZSgpIHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0Y29uc3QgZWxlbWVudFBhdGggPSBlZGl0b3IuZWxlbWVudFBhdGgoKTtcblxuXHRcdHJldHVybiB0aGlzLmdldFN0eWxlKCkuY2hlY2tBY3RpdmUoZWxlbWVudFBhdGgsIGVkaXRvcik7XG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25TdHlsZTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuZXhwb3J0IHtkZWZhdWx0IGFzIEJ1dHRvbkFjdGlvblN0eWxlfSBmcm9tICcuL2J1dHRvbi1hY3Rpb24tc3R5bGUnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEJ1dHRvbkNvbW1hbmRBY3RpdmV9IGZyb20gJy4vYnV0dG9uLWNvbW1hbmQtYWN0aXZlJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBCdXR0b25Db21tYW5kfSBmcm9tICcuL2J1dHRvbi1jb21tYW5kJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBCdXR0b25LZXlzdHJva2V9IGZyb20gJy4vYnV0dG9uLWtleXN0cm9rZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgQnV0dG9uUHJvcHN9IGZyb20gJy4vYnV0dG9uLXByb3BzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBCdXR0b25TdGF0ZUNsYXNzZXN9IGZyb20gJy4vYnV0dG9uLXN0YXRlLWNsYXNzZXMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEJ1dHRvblN0eWxlfSBmcm9tICcuL2J1dHRvbi1zdHlsZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgVG9vbGJhckJ1dHRvbnN9IGZyb20gJy4vdG9vbGJhci1idXR0b25zJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBXaWRnZXRBcnJvd0JveH0gZnJvbSAnLi93aWRnZXQtYXJyb3ctYm94JztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBXaWRnZXREcm9wZG93bn0gZnJvbSAnLi93aWRnZXQtZHJvcGRvd24nO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFdpZGdldEV4Y2x1c2l2ZX0gZnJvbSAnLi93aWRnZXQtZXhjbHVzaXZlJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBXaWRnZXRGb2N1c01hbmFnZXJ9IGZyb20gJy4vd2lkZ2V0LWZvY3VzLW1hbmFnZXInO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFdpZGdldEludGVyYWN0aW9uUG9pbnR9IGZyb20gJy4vd2lkZ2V0LWludGVyYWN0aW9uLXBvaW50JztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBXaWRnZXRQb3NpdGlvbn0gZnJvbSAnLi93aWRnZXQtcG9zaXRpb24nO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZyc7XG5cbi8qKlxuICogVG9vbGJhckJ1dHRvbnMgaXMgYSBtaXhpbiB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgYnV0dG9ucyB3aGljaCBoYXZlXG4gKiB0byBiZSBkaXNwbGF5ZWQgb24gdGhlIGN1cnJlbnQgdG9vbGJhciBkZXBlbmRpbmcgb24gdXNlciBwcmVmZXJlbmNlc1xuICogYW5kIGdpdmVuIHN0YXRlLlxuICpcbiAqIEBjbGFzcyBUb29sYmFyQnV0dG9uc1xuICovXG5jb25zdCBUb29sYmFyQnV0dG9ucyA9IHtcblx0LyoqXG5cdCAqIEFuYWx5c2VzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBhbmQgcmV0dXJucyB0aGUgYnV0dG9ucyBvciBidXR0b25cblx0ICogZ3JvdXBzIHRvIGJlIHJlbmRlcmVkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1ldGhvZCBnZXRUb29sYmFyQnV0dG9uR3JvdXBzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGJ1dHRvbnMgVGhlIGJ1dHRvbnMgY291bGQgYmUgc2hvd24sIHByaW9yIHRvIHRoZSBzdGF0ZSBmaWx0ZXJpbmcuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBhZGRpdGlvbmFsUHJvcHMgQWRkaXRpb25hbCBwcm9wcyB0aGF0IHNob3VsZCBiZSBwYXNzZWQgZG93biB0byB0aGUgYnV0dG9ucy5cblx0ICogQHJldHVybiB7QXJyYXl9IEFuIEFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b25zIG9yIGJ1dHRvbiBncm91cHMgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRnZXRUb29sYmFyQnV0dG9uR3JvdXBzKGJ1dHRvbnMsIGFkZGl0aW9uYWxQcm9wcykge1xuXHRcdGNvbnN0IGluc3RhbmNlID0gdGhpcztcblxuXHRcdGlmIChMYW5nLmlzRnVuY3Rpb24oYnV0dG9ucykpIHtcblx0XHRcdGJ1dHRvbnMgPSBidXR0b25zLmNhbGwodGhpcykgfHwgW107XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGJ1dHRvbnMucmVkdWNlKChsaXN0LCBidXR0b24pID0+IHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGJ1dHRvbikpIHtcblx0XHRcdFx0bGlzdC5wdXNoKGluc3RhbmNlLmdldFRvb2xiYXJCdXR0b25zKGJ1dHRvbiwgYWRkaXRpb25hbFByb3BzKSk7XG5cdFx0XHRcdHJldHVybiBsaXN0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGluc3RhbmNlLmdldFRvb2xiYXJCdXR0b25zKGJ1dHRvbnMsIGFkZGl0aW9uYWxQcm9wcyk7XG5cdFx0XHR9XG5cdFx0fSwgW10pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBBbmFseXplcyB0aGUgY3VycmVudCBzZWxlY3Rpb24gYW5kIHRoZSBidXR0b25zIGV4Y2x1c2l2ZSBtb2RlIHZhbHVlIHRvIGZpZ3VyZSBvdXQgd2hpY2hcblx0ICogYnV0dG9ucyBzaG91bGQgYmUgcHJlc2VudCBpbiBhIGdpdmVuIHN0YXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFRvb2xiYXJCdXR0b25zXG5cdCAqIEBtZXRob2QgZ2V0VG9vbGJhckJ1dHRvbnNcblx0ICogQHBhcmFtIHtBcnJheX0gYnV0dG9ucyBUaGUgYnV0dG9ucyBjb3VsZCBiZSBzaG93biwgcHJpb3IgdG8gdGhlIHN0YXRlIGZpbHRlcmluZy5cblx0ICogQHBhcmFtIHtPYmplY3R9IGFkZGl0aW9uYWxQcm9wcyBBZGRpdGlvbmFsIHByb3BzIHRoYXQgc2hvdWxkIGJlIHBhc3NlZCBkb3duIHRvIHRoZSBidXR0b25zLlxuXHQgKiBAcmV0dXJuIHtBcnJheX0gQW4gQXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIGJ1dHRvbnMgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRnZXRUb29sYmFyQnV0dG9ucyhidXR0b25zLCBhZGRpdGlvbmFsUHJvcHMpIHtcblx0XHRjb25zdCBidXR0b25Qcm9wcyA9IHt9O1xuXG5cdFx0Y29uc3QgbmF0aXZlRWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0XHRjb25zdCBidXR0b25DZmcgPSBuYXRpdmVFZGl0b3IuY29uZmlnLmJ1dHRvbkNmZyB8fCB7fTtcblxuXHRcdGlmIChMYW5nLmlzRnVuY3Rpb24oYnV0dG9ucykpIHtcblx0XHRcdGJ1dHRvbnMgPSBidXR0b25zLmNhbGwodGhpcykgfHwgW107XG5cdFx0fVxuXG5cdFx0Y29uc3QgdG9vbGJhckJ1dHRvbnMgPSB0aGlzLmZpbHRlckV4Y2x1c2l2ZShcblx0XHRcdGJ1dHRvbnNcblx0XHRcdFx0LmZpbHRlcihidXR0b24gPT4ge1xuXHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRidXR0b24gJiZcblx0XHRcdFx0XHRcdChBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbl0gfHxcblx0XHRcdFx0XHRcdFx0QWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b24ubmFtZV0pXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSlcblx0XHRcdFx0Lm1hcChidXR0b24gPT4ge1xuXHRcdFx0XHRcdGlmIChMYW5nLmlzU3RyaW5nKGJ1dHRvbikpIHtcblx0XHRcdFx0XHRcdGJ1dHRvblByb3BzW2J1dHRvbl0gPSBidXR0b25DZmdbYnV0dG9uXTtcblx0XHRcdFx0XHRcdGJ1dHRvbiA9IEFsbG95RWRpdG9yLkJ1dHRvbnNbYnV0dG9uXTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKExhbmcuaXNTdHJpbmcoYnV0dG9uLm5hbWUpKSB7XG5cdFx0XHRcdFx0XHRidXR0b25Qcm9wc1tcblx0XHRcdFx0XHRcdFx0QWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b24ubmFtZV0ua2V5XG5cdFx0XHRcdFx0XHRdID0gQ0tFRElUT1IudG9vbHMubWVyZ2UoYnV0dG9uQ2ZnW2J1dHRvbl0sIGJ1dHRvbi5jZmcpO1xuXHRcdFx0XHRcdFx0YnV0dG9uID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b24ubmFtZV07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGJ1dHRvbjtcblx0XHRcdFx0fSlcblx0XHQpLm1hcChmdW5jdGlvbihidXR0b24sIGluZGV4KSB7XG5cdFx0XHRsZXQgcHJvcHMgPSB0aGlzLm1lcmdlRXhjbHVzaXZlUHJvcHMoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRlZGl0b3I6IHRoaXMucHJvcHMuZWRpdG9yLFxuXHRcdFx0XHRcdGtleTpcblx0XHRcdFx0XHRcdGJ1dHRvbi5rZXkgIT09ICdzZXBhcmF0b3InXG5cdFx0XHRcdFx0XHRcdD8gYnV0dG9uLmtleVxuXHRcdFx0XHRcdFx0XHQ6IGAke2J1dHRvbi5rZXl9LSR7aW5kZXh9YCxcblx0XHRcdFx0XHR0YWJLZXk6IGJ1dHRvbi5rZXksXG5cdFx0XHRcdFx0dGFiSW5kZXg6XG5cdFx0XHRcdFx0XHR0aGlzLnByb3BzLnRyaWdnZXIgJiZcblx0XHRcdFx0XHRcdHRoaXMucHJvcHMudHJpZ2dlci5wcm9wcy50YWJLZXkgPT09IGJ1dHRvbi5rZXlcblx0XHRcdFx0XHRcdFx0PyAwXG5cdFx0XHRcdFx0XHRcdDogLTEsXG5cdFx0XHRcdFx0dHJpZ2dlcjogdGhpcy5wcm9wcy50cmlnZ2VyLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRidXR0b24ua2V5XG5cdFx0XHQpO1xuXG5cdFx0XHRwcm9wcyA9IHRoaXMubWVyZ2VEcm9wZG93blByb3BzKHByb3BzLCBidXR0b24ua2V5KTtcblxuXHRcdFx0aWYgKGFkZGl0aW9uYWxQcm9wcykge1xuXHRcdFx0XHRwcm9wcyA9IENLRURJVE9SLnRvb2xzLm1lcmdlKHByb3BzLCBhZGRpdGlvbmFsUHJvcHMpO1xuXHRcdFx0fVxuXG5cdFx0XHRwcm9wcyA9IENLRURJVE9SLnRvb2xzLm1lcmdlKHByb3BzLCBidXR0b25Qcm9wc1tidXR0b24ua2V5XSk7XG5cblx0XHRcdHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGJ1dHRvbiwgcHJvcHMpO1xuXHRcdH0sIHRoaXMpO1xuXG5cdFx0cmV0dXJuIHRvb2xiYXJCdXR0b25zO1xuXHR9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVG9vbGJhckJ1dHRvbnM7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBkaXNwbGF5aW5nIFdpZGdldCBBcnJvdyBib3ggb24gdG9wIG9yIG9uIGJvdHRvbSBvZiB0aGUgd2lkZ2V0XG4gKiBkZXBlbmRpbmcgb24gdGhlIHBvaW50IG9mIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgZWRpdG9yLlxuICpcbiAqIEBjbGFzcyBXaWRnZXRBcnJvd0JveFxuICovXG5jb25zdCBXaWRnZXRBcnJvd0JveCA9IHtcblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGxpc3Qgb2YgYXJyb3cgYm94IGNsYXNzZXMgYXNzb2NpYXRlZCB0byB0aGUgY3VycmVudCBlbGVtZW50J3Mgc3RhdGUuIEl0IHJlbGllc1xuXHQgKiBvbiB0aGUgZ2V0SW50ZXJhY3Rpb25Qb2ludCBtZXRob2QgdG8gY2FsY3VsYXRlIHRoZSBzZWxlY3Rpb24gZGlyZWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEFycm93Qm94XG5cdCAqIEBtZXRob2QgZ2V0QXJyb3dCb3hDbGFzc2VzXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gQSBzdHJpbmcgd2l0aCB0aGUgYXJyb3cgYm94IENTUyBjbGFzc2VzLlxuXHQgKi9cblx0Z2V0QXJyb3dCb3hDbGFzc2VzKCkge1xuXHRcdGxldCBhcnJvd0JveENsYXNzZXMgPSAnYWUtYXJyb3ctYm94JztcblxuXHRcdGlmIChcblx0XHRcdExhbmcuaXNGdW5jdGlvbih0aGlzLmdldEludGVyYWN0aW9uUG9pbnQpICYmXG5cdFx0XHR0aGlzLmdldEludGVyYWN0aW9uUG9pbnQoKVxuXHRcdCkge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHR0aGlzLmdldEludGVyYWN0aW9uUG9pbnQoKS5kaXJlY3Rpb24gPT09XG5cdFx0XHRcdENLRURJVE9SLlNFTEVDVElPTl9UT1BfVE9fQk9UVE9NXG5cdFx0XHQpIHtcblx0XHRcdFx0YXJyb3dCb3hDbGFzc2VzICs9ICcgYWUtYXJyb3ctYm94LXRvcCc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhcnJvd0JveENsYXNzZXMgKz0gJyBhZS1hcnJvdy1ib3gtYm90dG9tJztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gYXJyb3dCb3hDbGFzc2VzO1xuXHR9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0QXJyb3dCb3g7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vKipcbiAqIFByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIG1hbmFnaW5nIGRpZmZlcmVudCBkcm9wZG93bnMgaW5zaWRlIGEgd2lkZ2V0LlxuICpcbiAqIEBjbGFzcyBXaWRnZXREcm9wZG93blxuICovXG5jb25zdCBXaWRnZXREcm9wZG93biA9IHtcblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCB3aGVuIGEgY29tcG9uZW50IGlzIHJlY2VpdmluZyBuZXcgcHJvcHMuXG5cdCAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBXaWRnZXREcm9wZG93blxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcblx0ICovXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoX25leHRQcm9wcykge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0ZHJvcGRvd25UcmlnZ2VyOiBudWxsLFxuXHRcdFx0aXRlbURyb3Bkb3duOiBudWxsLFxuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldERyb3Bkb3duXG5cdCAqIEBtZXRob2QgZ2V0SW5pdGlhbFN0YXRlXG5cdCAqL1xuXHRnZXRJbml0aWFsU3RhdGUoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGRyb3Bkb3duVHJpZ2dlcjogbnVsbCxcblx0XHRcdGl0ZW1Ecm9wZG93bjogbnVsbCxcblx0XHR9O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBNZXJnZXMgdGhlIHByb3ZpZGVkIG9iamVjdCB3aXRoIHR3byBtb3JlIHByb3BlcnRpZXM6XG5cdCAqIC0gZXhwYW5kZWQgLSBib29sZWFuIGZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIGFuIHdpZGdldCBzaG91bGQgYmVcblx0ICogICByZW5kZXJlZCBleGNsdXNpdmVseS5cblx0ICogLSB0b2dnbGVEcm9wZG93biAtIGZ1bmN0aW9uLCB3aGljaCBjYW4gYmUgdXNlZCBieSBhbiB3aWRnZXQgaW5cblx0ICogICBvcmRlciB0byBvYnRhaW4gZXhjbHVzaXZlIHN0YXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldERyb3Bkb3duXG5cdCAqIEBtZXRob2QgbWVyZ2VEcm9wZG93blByb3BzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIHByb3BlcnRpZXMgY29udGFpbmVyIHdoaWNoIHNob3VsZCBiZSBtZXJnZWQgd2l0aCB0aGUgcHJvcGVydGllcywgcmVsYXRlZFxuXHQgKiAgICB0byBkcm9wZG93biBzdGF0ZS5cblx0ICogQHBhcmFtIHtPYmplY3R9IGl0ZW1LZXkgVGhleSBrZXkgb2YgYW4gUmVhY3QgV2lkZ2V0IHdoaWNoIGNvbnRhaW5zIHRoZSBkcm9wZG93bi5cblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgbWVyZ2VkIG9iamVjdC5cblx0ICovXG5cdG1lcmdlRHJvcGRvd25Qcm9wcyhvYmosIGl0ZW1LZXkpIHtcblx0XHRyZXR1cm4gQ0tFRElUT1IudG9vbHMubWVyZ2Uob2JqLCB7XG5cdFx0XHRleHBhbmRlZDogdGhpcy5zdGF0ZS5pdGVtRHJvcGRvd24gPT09IGl0ZW1LZXkgPyB0cnVlIDogZmFsc2UsXG5cdFx0XHR0YWJJbmRleDogdGhpcy5zdGF0ZS5kcm9wZG93blRyaWdnZXIgPT09IGl0ZW1LZXkgPyAwIDogLTEsXG5cdFx0XHR0b2dnbGVEcm9wZG93bjogdGhpcy50b2dnbGVEcm9wZG93bi5iaW5kKHRoaXMsIGl0ZW1LZXkpLFxuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBhY3RpdmUgZHJvcGRvd24gb2YgdGhlIHdpZGdldCBvciBkaXNjYXJkcyB0aGUgdG9nZ2xlZFxuXHQgKiBpdGVtIGZyb20gdGhlIHN0YXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldERyb3Bkb3duXG5cdCAqIEBtZXRob2QgdG9nZ2xlRHJvcGRvd25cblx0ICogQHBhcmFtIHtPYmplY3R9IGl0ZW1Ecm9wZG93biBUaGUgd2lkZ2V0IHdoaWNoIHJlcXVlc3RzIHRvIHRvZ2dsZSBpdHMgZHJvcGRvd24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0b2dnbGVEaXJlY3Rpb24gVXNlciBtb3ZlbWVudCBkaXJlY3Rpb24gd2hlbiB0b2dnbGVkIHZpYSBrZXlib2FyZC5cblx0ICovXG5cdHRvZ2dsZURyb3Bkb3duKGl0ZW1Ecm9wZG93biwgdG9nZ2xlRGlyZWN0aW9uKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShcblx0XHRcdHtcblx0XHRcdFx0ZHJvcGRvd25UcmlnZ2VyOiBpdGVtRHJvcGRvd24sXG5cdFx0XHRcdGl0ZW1Ecm9wZG93bjpcblx0XHRcdFx0XHRpdGVtRHJvcGRvd24gIT09IHRoaXMuc3RhdGUuaXRlbURyb3Bkb3duXG5cdFx0XHRcdFx0XHQ/IGl0ZW1Ecm9wZG93blxuXHRcdFx0XHRcdFx0OiBudWxsLFxuXHRcdFx0fSxcblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIXRoaXMuc3RhdGUuaXRlbURyb3Bkb3duKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMubW92ZUZvY3VzKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1vdmVGb2N1cyh0b2dnbGVEaXJlY3Rpb24pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5mb2N1cygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBXaWRnZXREcm9wZG93bjtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBtYW5hZ2luZyBleGNsdXNpdmUgc3RhdGUgb2YgYW4gd2lkZ2V0LlxuICogVGhlIGV4Y2x1c2l2ZSBzdGF0ZSBtZWFucyB0aGF0IGEgYnV0dG9uIG1heSByZXF1ZXN0IHRvIGJlIHRoZSBvbmx5IHJlbmRlcmVkXG4gKiB3aWRnZXQgaW4gaXRzIHBhcmVudCBjb250YWluZXIuIFdpZGdldEV4Y2x1c2l2ZSB3aWxsIG1hbmFnZSB0aGlzIHN0YXRlIGJ5XG4gKiBmaWx0ZXJpbmcgYW5kIHN1cHByZXNzaW5nIHRoZSBvdGhlciBzaWJsaW5nIHdpZGdldHMgZnJvbSBkaXNwbGF5aW5nLlxuICpcbiAqIEBjbGFzcyBXaWRnZXRFeGNsdXNpdmVcbiAqL1xuY29uc3QgV2lkZ2V0RXhjbHVzaXZlID0ge1xuXHQvKipcblx0ICogQ2FuY2VscyB0aGUgZXhjbHVzaXZlIHN0YXRlIG9mIGFuIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBXaWRnZXRFeGNsdXNpdmVcblx0ICogQG1ldGhvZCBjYW5jZWxFeGNsdXNpdmVcblx0ICogQHBhcmFtIHtPYmplY3R9IGl0ZW1FeGNsdXNpdmUgVGhlIHdpZGdldCB3aGljaCBleGNsdXNpdmUgc3RhdGUgc2hvdWxkIGJlIGNhbmNlbGVkLlxuXHQgKi9cblx0Y2FuY2VsRXhjbHVzaXZlKGl0ZW1FeGNsdXNpdmUpIHtcblx0XHRpZiAodGhpcy5zdGF0ZS5pdGVtRXhjbHVzaXZlID09PSBpdGVtRXhjbHVzaXZlKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0aXRlbUV4Y2x1c2l2ZTogbnVsbCxcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cblx0ICogVGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCBmb3IgdGhlIGluaXRpYWwgcmVuZGVyLlxuXHQgKiBDYWxsaW5nIHRoaXMuc2V0U3RhdGUoKSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIG5vdCB0cmlnZ2VyIGFuXG5cdCAqIGFkZGl0aW9uYWwgcmVuZGVyLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEV4Y2x1c2l2ZVxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcblx0ICogQHBhcmFtIHtPYmplY3R9IG5leHRQcm9wcyBPYmplY3QgY29udGFpbmluZyB0aGUgY3VycmVudCBzZXQgb2YgcHJvcGVydGllcy5cblx0ICovXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoX25leHRQcm9wcykge1xuXHRcdC8vIFJlY2VpdmluZyBwcm9wZXJ0aWVzIG1lYW5zIHRoYXQgdGhlIGNvbXBvbmVudCBpcyBiZWluZ1xuXHRcdC8vIHJlLXJlbmRlcmVkLiAgUmUtcmVuZGVyaW5nIGlzIHRyaWdnZXJlZCBieSBlZGl0b3JJbnRlcmFjdGlvbixcblx0XHQvLyBzbyB3ZSBoYXZlIHRvIHJlc2V0IHRoZSBleGNsdXNpdmUgc3RhdGUgYW5kIHJlbmRlciB0aGUgVUlcblx0XHQvLyBhY2NvcmRpbmcgdG8gdGhlIG5ldyBzZWxlY3Rpb24uXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRpdGVtRXhjbHVzaXZlOiBudWxsLFxuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBGaWx0ZXJzIHRoZSBpdGVtcyBhbmQgcmV0dXJucyBvbmx5IHRob3NlIHdpdGggZXhjbHVzaXZlIHN0YXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEV4Y2x1c2l2ZVxuXHQgKiBAbWV0aG9kIGZpbHRlckV4Y2x1c2l2ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBpdGVtcyBUaGUgd2lkZ2V0cyB0byBiZSBmaWx0ZXJlZC5cblx0ICogQHJldHVybiB7QXJyYXl8T2JqZWN0fSBUaGUgaXRlbSB3aXRoIGV4ZWN1dGl2ZSBzdGF0ZS5cblx0ICovXG5cdGZpbHRlckV4Y2x1c2l2ZShpdGVtcykge1xuXHRcdHJldHVybiBpdGVtcy5maWx0ZXIoaXRlbSA9PiB7XG5cdFx0XHRpZiAodGhpcy5zdGF0ZS5pdGVtRXhjbHVzaXZlKSB7XG5cdFx0XHRcdGlmICh0aGlzLnN0YXRlLml0ZW1FeGNsdXNpdmUgPT09IGl0ZW0ua2V5KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBpdGVtO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBNZXJnZXMgdGhlIHByb3ZpZGVkIG9iamVjdCB3aXRoIHRocmVlIG1vcmUgcHJvcGVydGllczpcblx0ICogLSBjYW5jZWxFeGNsdXNpdmUgLSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgYnkgYSB3aWRnZXQgaW5cblx0ICogICBvcmRlciB0byBjYW5jZWwgZXhlY3V0aXZlIHN0YXRlLlxuXHQgKiAtIHJlbmRlckV4Y2x1c2l2ZSAtIGJvb2xlYW4gZmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgYW4gd2lkZ2V0XG5cdCAqICAgc2hvdWxkIGJlIHJlbmRlcmVkIGV4Y2x1c2l2ZWx5LlxuXHQgKiAtIHJlcXVlc3RFeGNsdXNpdmUgLSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgYnkgYSB3aWRnZXQgaW5cblx0ICogICBvcmRlciB0byBvYnRhaW4gZXhjbHVzaXZlIHN0YXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEV4Y2x1c2l2ZVxuXHQgKiBAbWV0aG9kIG1lcmdlRXhjbHVzaXZlUHJvcHNcblx0ICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgcHJvcGVydGllcyBjb250YWluZXIgd2hpY2ggc2hvdWxkIGJlIG1lcmdlZCB3aXRoIHRoZSBwcm9wZXJ0aWVzLCByZWxhdGVkXG5cdCAqICAgIHRvIGV4Y2x1c2l2ZSBzdGF0ZS5cblx0ICogQHBhcmFtIHtPYmplY3R9IGl0ZW1LZXkgVGhleSBrZXkgb2YgYW4gUmVhY3QgV2lkZ2V0IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZCBleGNsdXNpdmVseS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgbWVyZ2VkIG9iamVjdC5cblx0ICovXG5cdG1lcmdlRXhjbHVzaXZlUHJvcHMob2JqLCBpdGVtS2V5KSB7XG5cdFx0cmV0dXJuIENLRURJVE9SLnRvb2xzLm1lcmdlKG9iaiwge1xuXHRcdFx0Y2FuY2VsRXhjbHVzaXZlOiB0aGlzLmNhbmNlbEV4Y2x1c2l2ZS5iaW5kKHRoaXMsIGl0ZW1LZXkpLFxuXHRcdFx0cmVuZGVyRXhjbHVzaXZlOiB0aGlzLnN0YXRlLml0ZW1FeGNsdXNpdmUgPT09IGl0ZW1LZXksXG5cdFx0XHRyZXF1ZXN0RXhjbHVzaXZlOiB0aGlzLnJlcXVlc3RFeGNsdXNpdmUuYmluZCh0aGlzLCBpdGVtS2V5KSxcblx0XHR9KTtcblx0fSxcblxuXHQvKipcblx0ICogUmVxdWVzdHMgYW5kIHNldHMgZXhjbHVzaXZlIHN0YXRlIG9mIGFuIHdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBXaWRnZXRFeGNsdXNpdmVcblx0ICogQG1ldGhvZCByZXF1ZXN0RXhjbHVzaXZlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtRXhjbHVzaXZlIFRoZSB3aWRnZXQgd2hpY2ggcmVxdWVzdHMgZXhjbHVzaXZlIHN0YXRlLlxuXHQgKi9cblx0cmVxdWVzdEV4Y2x1c2l2ZShpdGVtRXhjbHVzaXZlKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRpdGVtRXhjbHVzaXZlLFxuXHRcdH0pO1xuXHR9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0RXhjbHVzaXZlO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcblxuY29uc3QgRElSRUNUSU9OX05PTkUgPSAwO1xuY29uc3QgRElSRUNUSU9OX05FWFQgPSAxO1xuY29uc3QgRElSRUNUSU9OX1BSRVYgPSAtMTtcblxuY29uc3QgQUNUSU9OX05PTkUgPSAwO1xuY29uc3QgQUNUSU9OX01PVkVfRk9DVVMgPSAxO1xuY29uc3QgQUNUSU9OX0RJU01JU1NfRk9DVVMgPSAyO1xuXG4vKipcbiAqIFdpZGdldEZvY3VzTWFuYWdlciBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMga2V5Ym9hcmQgbmF2aWdhdGlvbiBpbnNpZGUgYSB3aWRnZXQuIFRvIGRvIHRoaXMsXG4gKiBpdCBleHBvc2VzIHRoZSBmb2xsb3dpbmcgcHJvcHMgYW5kIG1ldGhvZHM6XG4gKlxuICogQGNsYXNzIFdpZGdldEZvY3VzTWFuYWdlclxuICovXG5jb25zdCBXaWRnZXRGb2N1c01hbmFnZXIgPSB7XG5cdC8vIEFsbG93cyB2YWxpZGF0aW5nIHByb3BzIGJlaW5nIHBhc3NlZCB0byB0aGUgY29tcG9uZW50LlxuXHRwcm9wVHlwZXM6IHtcblx0XHQvKipcblx0XHQgKiBDYWxsYmFjayBtZXRob2QgdG8gYmUgaW52b2tlZCB3aGVuIHRoZSBmb2N1cyBtYW5hZ2VyIGlzIHRvIGJlIGRpc21pc3NlZC4gVGhpcyBoYXBwZW5zXG5cdFx0ICogaW4gdGhlIGZvbGxvd2luZyBzY2VuYXJpb3MgaWYgYSBkaXNtaXNzIGNhbGxiYWNrIGhhcyBiZWVuIHNwZWNpZmllZDpcblx0XHQgKiAtIEEgZGlzbWlzcyBrZXkgaGFzIGJlZW4gcHJlc3NlZFxuXHRcdCAqIC0gSW4gYSBub24tY2lyY3VsYXIgZm9jdXMgbWFuYWdlciwgd2hlbjpcblx0XHQgKiAgICAgLSBUaGUgYWN0aXZlIGRlc2NlbmRhbnQgaXMgdGhlIGZpcnN0IG9uZSBhbmQgYSBwcmV2IGtleSBoYXMgYmVlbiBwcmVzc2VkLlxuXHRcdCAqICAgICAtIFRoZSBhY3RpdmUgZGVzY2VuZGFudCBpcyB0aGUgbGFzdCBvbmUgYW5kIGEgbmV4dCBrZXkgaGFzIGJlZW4gcHJlc3NlZC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcblx0XHQgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBvbkRpc21pc3Ncblx0XHQgKi9cblx0XHRvbkRpc21pc3M6IFByb3BUeXBlcy5mdW5jLFxuXG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIGlmIGZvY3VzIHNob3VsZCBiZSBzZXQgdG8gdGhlIGZpcnN0L2xhc3QgZGVzY2VuZGFudCB3aGVuIHRoZSBsaW1pdHMgYXJlIHJlYWNoZWQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdFx0ICogQHByb3BlcnR5IHtib29sZWFufSBjaXJjdWxhclxuXHRcdCAqL1xuXHRcdGNpcmN1bGFyOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuXG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGUgaWYgc2hvdWxkIGZvY3VzIHRoZSBmaXJzdCBjaGlsZCBvZiBhIGNvbnRhaW5lclxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcblx0XHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IGZvY3VzRmlyc3RDaGlsZFxuXHRcdCAqL1xuXHRcdGZvY3VzRmlyc3RDaGlsZDogUHJvcFR5cGVzLmJvb2wsXG5cblx0XHQvKipcblx0XHQgKiBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBkZWZpbmUgdGhlIGVsZW1lbnRzIHRoYXQgc2hvdWxkIGJlIGhhbmRsZWQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdFx0ICogQHByb3BlcnR5IHtTdHJpbmd9IGRlc2NlbmRhbnRzXG5cdFx0ICovXG5cdFx0ZGVzY2VuZGFudHM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblxuXHRcdC8qKlxuXHRcdCAqIE9iamVjdCByZXByZXNlbnRpbmcgdGhlIGtleXMgdXNlZCB0byBuYXZpZ2F0ZSBiZXR3ZWVuIGRlc2NlbmRhbnRzLiBUaGUgZm9ybWF0IGZvciB0aGUgcHJvcCBpczpcblx0XHQgKiBge2Rpc21pc3M6IHZhbHVlLCBkaXNtaXNzTmV4dDogdmFsdWUsIGRpc21pc3NQcmV2OiB2YWx1ZSwgbmV4dDogdmFsdWUsIHByZXY6IHZhbHVlfWAgd2hlcmVcblx0XHQgKiB2YWx1ZSBjYW4gYmUgYm90aCBhIG51bWJlciBvciBhbiBhcnJheSBvZiBudW1iZXJzIHdpdGggdGhlIGFsbG93ZWQga2V5Q29kZXMuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdFx0ICogQHByb3BlcnR5IHtPYmplY3R9IGtleXNcblx0XHQgKi9cblx0XHRrZXlzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdH0sXG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQsIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcblx0ICovXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMuX3JlZnJlc2goKTtcblx0fSxcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQncyB1cGRhdGVzIGFyZSBmbHVzaGVkIHRvIHRoZSBET00uXG5cdCAqIFJlZnJlc2hlcyB0aGUgZGVzY2VuZGFudHMgbGlzdC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcblx0ICogQG1ldGhvZCBjb21wb25lbnREaWRVcGRhdGVcblx0ICovXG5cdGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEZvY3VzZXMgdGhlIGN1cnJlbnQgYWN0aXZlIGRlc2NlbmRhbnQuXG5cdCAqXG5cdCAqIFNldmVyYWwgV2lkZ2V0cyBjYW4gYmUgbmVzdGVkIGluIGEgY29tcG9uZW50IGhpZXJhcmNoeSBieSBhdHRhY2hpbmcgdGhpcyBmb2N1cyBtZXRob2QgdG9cblx0ICogdGhlIHdpZGdldCBET00gbm9kZSwgdHJhbnNmZXJyaW5nIHRoZSBET00gZm9jdXMgY29udHJvbCB0byB0aGUgaW5uZXIgRm9jdXNNYW5hZ2VyLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHQgKiBAbWV0aG9kIGZvY3VzXG5cdCAqL1xuXHRmb2N1cyhldmVudCkge1xuXHRcdGlmICghZXZlbnQgfHwgdGhpcy5faXNWYWxpZFRhcmdldChldmVudC50YXJnZXQpKSB7XG5cdFx0XHRpZiAodGhpcy5fZGVzY2VuZGFudHMgJiYgdGhpcy5fZGVzY2VuZGFudHMubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbnN0IGFjdGl2ZURlc2NlbmRhbnRFbCA9IHRoaXMuX2Rlc2NlbmRhbnRzW1xuXHRcdFx0XHRcdHRoaXMuX2FjdGl2ZURlc2NlbmRhbnRcblx0XHRcdFx0XTtcblx0XHRcdFx0Ly8gV2hlbiB1c2VyIGNsaWNrcyB3aXRoIHRoZSBtb3VzZSwgdGhlIGFjdGl2ZUVsZW1lbnQgaXMgYWxyZWFkeSBzZXQgYW5kIHRoZXJlXG5cdFx0XHRcdC8vIGlzIG5vIG5lZWQgdG8gZm9jdXMgaXQuIEZvY3VzaW5nIG9mIHRoZSBhY3RpdmUgZGVzY2VuZGFudCAodXN1YWxseSBzb21lIGJ1dHRvbikgaXMgcmVxdWlyZWRcblx0XHRcdFx0Ly8gaW4gY2FzZSBvZiBrZXlib2FyZCBuYXZpZ2F0aW9uLCBiZWNhdXNlIHRoZSBmb2N1c2VkIGVsZW1lbnQgbWlnaHQgYmUgbm90IHRoZSBmaXJzdCBidXR0b24sXG5cdFx0XHRcdC8vIGJ1dCB0aGUgZGl2IGVsZW1lbnQsIHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b24uXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBhY3RpdmVEZXNjZW5kYW50RWwgJiZcblx0XHRcdFx0XHQhdGhpcy5wcm9wcy5mb2N1c0ZpcnN0Q2hpbGRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0dGhpcy5fZGVzY2VuZGFudHMuaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA9PT0gLTFcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGFjdGl2ZURlc2NlbmRhbnRFbC5mb2N1cygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChldmVudCkge1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIEhhbmRsZXMgdGhlIGtleSBldmVudHMgb24gYSBET00gbm9kZSB0byBleGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBuYXZpZ2F0aW9uIHdoZW4gbmVlZGVkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50IHRoYXQgd2FzIGRldGVjdGVkIG9uIHRoZSB3aWRnZXQgRE9NIG5vZGUuXG5cdCAqIEBtZXRob2QgaGFuZGxlS2V5XG5cdCAqL1xuXHRoYW5kbGVLZXkoZXZlbnQpIHtcblx0XHRpZiAodGhpcy5faXNWYWxpZFRhcmdldChldmVudC50YXJnZXQpICYmIHRoaXMuX2Rlc2NlbmRhbnRzKSB7XG5cdFx0XHRjb25zdCBhY3Rpb24gPSB0aGlzLl9nZXRGb2N1c0FjdGlvbihldmVudCk7XG5cblx0XHRcdGlmIChhY3Rpb24udHlwZSkge1xuXHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHRpZiAoYWN0aW9uLnR5cGUgPT09IEFDVElPTl9NT1ZFX0ZPQ1VTKSB7XG5cdFx0XHRcdFx0dGhpcy5fbW92ZUZvY3VzKGFjdGlvbi5kaXJlY3Rpb24pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjdGlvbi50eXBlID09PSBBQ1RJT05fRElTTUlTU19GT0NVUykge1xuXHRcdFx0XHRcdHRoaXMucHJvcHMub25EaXNtaXNzKGFjdGlvbi5kaXJlY3Rpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBNb3ZlcyB0aGUgZm9jdXMgYW1vbmcgZGVzY2VuZGFudHMgaW4gdGhlIGVzcGVjaWZpZWQgZGlyZWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHQgKiBAbWV0aG9kIG1vdmVGb2N1c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gKDEgb3IgLTEpIG9mIHRoZSBmb2N1cyBtb3ZlbWVudCBhbW9uZyBkZXNjZW5kYW50cy5cblx0ICovXG5cdG1vdmVGb2N1cyhkaXJlY3Rpb24pIHtcblx0XHRkaXJlY3Rpb24gPSBMYW5nLmlzTnVtYmVyKGRpcmVjdGlvbikgPyBkaXJlY3Rpb24gOiAwO1xuXG5cdFx0dGhpcy5fbW92ZUZvY3VzKGRpcmVjdGlvbik7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGFjdGlvbiwgaWYgYW55LCB0aGF0IGEga2V5Ym9hcmQgZXZlbnQgaW4gdGhlIGN1cnJlbnQgZm9jdXMgbWFuYWdlciBzdGF0ZVxuXHQgKiBzaG91bGQgcHJvZHVjZS5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcblx0ICogQG1ldGhvZCBfZ2V0Rm9jdXNBY3Rpb25cblx0ICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IFRoZSBLZXlib2FyZCBldmVudC5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEFuIGFjdGlvbiBvYmplY3Qgd2l0aCB0eXBlIGFuZCBkaXJlY3Rpb24gcHJvcGVydGllcy5cblx0ICovXG5cdF9nZXRGb2N1c0FjdGlvbihldmVudCkge1xuXHRcdGNvbnN0IGFjdGlvbiA9IHtcblx0XHRcdHR5cGU6IEFDVElPTl9OT05FLFxuXHRcdH07XG5cblx0XHRpZiAodGhpcy5wcm9wcy5rZXlzKSB7XG5cdFx0XHRjb25zdCBkaXJlY3Rpb24gPSB0aGlzLl9nZXRGb2N1c01vdmVEaXJlY3Rpb24oZXZlbnQpO1xuXG5cdFx0XHRpZiAoZGlyZWN0aW9uKSB7XG5cdFx0XHRcdGFjdGlvbi5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cdFx0XHRcdGFjdGlvbi50eXBlID0gQUNUSU9OX01PVkVfRk9DVVM7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRpc21pc3NBY3Rpb24gPSB0aGlzLl9nZXRGb2N1c0Rpc21pc3NBY3Rpb24oZXZlbnQsIGRpcmVjdGlvbik7XG5cblx0XHRcdGlmIChkaXNtaXNzQWN0aW9uLmRpc21pc3MpIHtcblx0XHRcdFx0YWN0aW9uLmRpcmVjdGlvbiA9IGRpc21pc3NBY3Rpb24uZGlyZWN0aW9uO1xuXHRcdFx0XHRhY3Rpb24udHlwZSA9IEFDVElPTl9ESVNNSVNTX0ZPQ1VTO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBhY3Rpb247XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGRpc21pc3MgYWN0aW9uLCBpZiBhbnksIHRoZSBmb2N1cyBtYW5hZ2VyIHNob3VsZCBleGVjdXRlIHRvIHlpZWxkIHRoZSBmb2N1cy4gVGhpc1xuXHQgKiB3aWxsIGhhcHBlbiBpbiBhbnkgb2YgdGhlc2Ugc2NlbmFyaW9zIGlmIGEgZGlzbWlzcyBjYWxsYmFjayBoYXMgYmVlbiBzcGVjaWZpZWQ6XG5cdCAqIC0gQSBkaXNtaXNzIGtleSBoYXMgYmVlbiBwcmVzc2VkXG5cdCAqIC0gSW4gYSBub24tY2lyY3VsYXIgZm9jdXMgbWFuYWdlciwgd2hlbjpcblx0ICogICAgIC0gVGhlIGFjdGl2ZSBkZXNjZW5kYW50IGlzIHRoZSBmaXJzdCBvbmUgYW5kIGEgcHJldiBrZXkgaGFzIGJlZW4gcHJlc3NlZC5cblx0ICogICAgIC0gVGhlIGFjdGl2ZSBkZXNjZW5kYW50IGlzIHRoZSBsYXN0IG9uZSBhbmQgYSBuZXh0IGtleSBoYXMgYmVlbiBwcmVzc2VkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHQgKiBAbWV0aG9kIF9nZXRGb2N1c0Rpc21pc3NBY3Rpb25cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGZvY3VzTW92ZURpcmVjdGlvbiBUaGUgZm9jdXMgbW92ZW1lbnQgZGlyZWN0aW9uIChpZiBhbnkpLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQSBkaXNtaXNzIGFjdGlvbiB3aXRoIGRpc21pc3MgYW5kIGRpcmVjdGlvbiBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0X2dldEZvY3VzRGlzbWlzc0FjdGlvbihldmVudCwgZm9jdXNNb3ZlRGlyZWN0aW9uKSB7XG5cdFx0Y29uc3QgZGlzbWlzc0FjdGlvbiA9IHtcblx0XHRcdGRpcmVjdGlvbjogZm9jdXNNb3ZlRGlyZWN0aW9uLFxuXHRcdFx0ZGlzbWlzczogZmFsc2UsXG5cdFx0fTtcblxuXHRcdGlmICh0aGlzLnByb3BzLm9uRGlzbWlzcykge1xuXHRcdFx0aWYgKHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLmRpc21pc3MpKSB7XG5cdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5faXNWYWxpZEtleShldmVudC5rZXlDb2RlLCB0aGlzLnByb3BzLmtleXMuZGlzbWlzc05leHQpKSB7XG5cdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9IHRydWU7XG5cdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlyZWN0aW9uID0gRElSRUNUSU9OX05FWFQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5faXNWYWxpZEtleShldmVudC5rZXlDb2RlLCB0aGlzLnByb3BzLmtleXMuZGlzbWlzc1ByZXYpKSB7XG5cdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9IHRydWU7XG5cdFx0XHRcdGRpc21pc3NBY3Rpb24uZGlyZWN0aW9uID0gRElSRUNUSU9OX1BSRVY7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0IWRpc21pc3NBY3Rpb24uZGlzbWlzcyAmJlxuXHRcdFx0XHQhdGhpcy5wcm9wcy5jaXJjdWxhciAmJlxuXHRcdFx0XHRmb2N1c01vdmVEaXJlY3Rpb25cblx0XHRcdCkge1xuXHRcdFx0XHRkaXNtaXNzQWN0aW9uLmRpc21pc3MgPVxuXHRcdFx0XHRcdChmb2N1c01vdmVEaXJlY3Rpb24gPT09IERJUkVDVElPTl9QUkVWICYmXG5cdFx0XHRcdFx0XHR0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID09PSAwKSB8fFxuXHRcdFx0XHRcdChmb2N1c01vdmVEaXJlY3Rpb24gPT09IERJUkVDVElPTl9ORVhUICYmXG5cdFx0XHRcdFx0XHR0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID09PVxuXHRcdFx0XHRcdFx0XHR0aGlzLl9kZXNjZW5kYW50cy5sZW5ndGggLSAxKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZGlzbWlzc0FjdGlvbjtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgZGlyZWN0aW9uLCBpZiBhbnksIGluIHdoaWNoIHRoZSBmb2N1cyBzaG91bGQgYmUgbW92ZWQuIEluIHByZXNlbmNlIG9mIHRoZVxuXHQgKiBzaGlmdCBrZXkgbW9kaWZpZXIsIHRoZSBkaXJlY3Rpb24gb2YgdGhlIG1vdmVtZW50IGlzIGludmVydGVkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHQgKiBAbWV0aG9kIF9nZXRGb2N1c01vdmVEaXJlY3Rpb25cblx0ICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IFRoZSBLZXlib2FyZCBldmVudC5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjb21wdXRlZCBkaXJlY3Rpb24gb2YgdGhlIGV4cGVjdGVkIGZvY3VzIG1vdmVtZW50LlxuXHQgKi9cblx0X2dldEZvY3VzTW92ZURpcmVjdGlvbihldmVudCkge1xuXHRcdGxldCBkaXJlY3Rpb24gPSBESVJFQ1RJT05fTk9ORTtcblxuXHRcdGlmICh0aGlzLl9pc1ZhbGlkS2V5KGV2ZW50LmtleUNvZGUsIHRoaXMucHJvcHMua2V5cy5uZXh0KSkge1xuXHRcdFx0ZGlyZWN0aW9uID0gRElSRUNUSU9OX05FWFQ7XG5cdFx0fVxuXHRcdGlmICh0aGlzLl9pc1ZhbGlkS2V5KGV2ZW50LmtleUNvZGUsIHRoaXMucHJvcHMua2V5cy5wcmV2KSkge1xuXHRcdFx0ZGlyZWN0aW9uID0gRElSRUNUSU9OX1BSRVY7XG5cdFx0fVxuXG5cdFx0aWYgKGV2ZW50LnNoaWZLZXkpIHtcblx0XHRcdGRpcmVjdGlvbiAqPSAtMTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGlyZWN0aW9uO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgaWYgYSBnaXZlbiBrZXlDb2RlIGlzIHZhbGlkIGZvciB0aGUgZ2l2ZW4gc2V0IG9mIGtleXMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdCAqIEBtZXRob2QgX2lzVmFsaWRLZXlcblx0ICogQHBhcmFtIHtBcnJheXxOdW1iZXJ9IGtleXMgQSBrZXkgc2V0LiBDYW4gYmUgYSBudW1iZXIgYW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgdGhlIGFsbG93ZWQga2V5Q29kZXMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBrZXlDb2RlIEFuIGV2ZW50IGtleUNvZGUuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gQSBib29sZWFuIHZhbHVlIGluZGljYXRpbmcgaWYgdGhlIGtleSBpcyB2YWxpZC5cblx0ICovXG5cdF9pc1ZhbGlkS2V5KGtleUNvZGUsIGtleXMpIHtcblx0XHRyZXR1cm4gTGFuZy5pc0FycmF5KGtleXMpXG5cdFx0XHQ/IGtleXMuaW5kZXhPZihrZXlDb2RlKSAhPT0gLTFcblx0XHRcdDoga2V5Q29kZSA9PT0ga2V5cztcblx0fSxcblxuXHQvKipcblx0ICogSW5kaWNhdGVzIGlmIGEgZ2l2ZW4gZWxlbWVudCBpcyB2YWxpZCBmb3IgZm9jdXMgbWFuYWdlbWVudC4gVXNlciBpbnB1dCBlbGVtZW50cyBzdWNoIGFzXG5cdCAqIGlucHV0LCBzZWxlY3Qgb3IgdGV4dGFyZWEgYXJlIGV4Y2x1ZGVkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHQgKiBAbWV0aG9kIF9pc1ZhbGlkS2V5XG5cdCAqIEBwYXJhbSB7RE9NTm9kZX0gZWxlbWVudCBBIERPTSBlbGVtZW50LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IEEgYm9vbGVhbiB2YWx1ZSBpbmRpY2F0aW5nIGlmIHRoZSBlbGVtZW50IGlzIHZhbGlkLlxuXHQgKi9cblx0X2lzVmFsaWRUYXJnZXQoZWxlbWVudCkge1xuXHRcdGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHR0YWdOYW1lICE9PSAnaW5wdXQnICYmXG5cdFx0XHR0YWdOYW1lICE9PSAnc2VsZWN0JyAmJlxuXHRcdFx0dGFnTmFtZSAhPT0gJ3RleHRhcmVhJ1xuXHRcdCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIE1vdmVzIHRoZSBmb2N1cyBhbW9uZyBkZXNjZW5kYW50cyBpbiB0aGUgZXNwZWNpZmllZCBkaXJlY3Rpb24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG5cdCAqIEBtZXRob2QgX21vdmVGb2N1c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gKDEgb3IgLTEpIG9mIHRoZSBmb2N1cyBtb3ZlbWVudCBhbW9uZyBkZXNjZW5kYW50cy5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X21vdmVGb2N1cyhkaXJlY3Rpb24pIHtcblx0XHRjb25zdCBudW1EZXNjZW5kYW50cyA9IHRoaXMuX2Rlc2NlbmRhbnRzLmxlbmd0aDtcblxuXHRcdGxldCBkZXNjZW5kYW50ID0gdGhpcy5fZGVzY2VuZGFudHNbdGhpcy5fYWN0aXZlRGVzY2VuZGFudF07XG5cblx0XHRkZXNjZW5kYW50LnNldEF0dHJpYnV0ZSgndGFiSW5kZXgnLCAtMSk7XG5cblx0XHR0aGlzLl9hY3RpdmVEZXNjZW5kYW50ICs9IGRpcmVjdGlvbjtcblxuXHRcdGlmICh0aGlzLnByb3BzLmNpcmN1bGFyKSB7XG5cdFx0XHQvLyBDYWxjdWxhdGUgcHJvcGVyIG1vZHVsbyByZXN1bHQgc2luY2UgcmVtYWluZGVyIG9wZXJhdG9yIGRvZXNuJ3QgYmVoYXZlIGluIHRoZVxuXHRcdFx0Ly8gc2FtZSB3YXkgZm9yIG5lZ2F0aXZlIG51bWJlcnNcblx0XHRcdHRoaXMuX2FjdGl2ZURlc2NlbmRhbnQgPVxuXHRcdFx0XHQoKHRoaXMuX2FjdGl2ZURlc2NlbmRhbnQgJSBudW1EZXNjZW5kYW50cykgKyBudW1EZXNjZW5kYW50cykgJVxuXHRcdFx0XHRudW1EZXNjZW5kYW50cztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fYWN0aXZlRGVzY2VuZGFudCA9IE1hdGgubWF4KFxuXHRcdFx0XHRNYXRoLm1pbih0aGlzLl9hY3RpdmVEZXNjZW5kYW50LCBudW1EZXNjZW5kYW50cyAtIDEpLFxuXHRcdFx0XHQwXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGRlc2NlbmRhbnQgPSB0aGlzLl9kZXNjZW5kYW50c1t0aGlzLl9hY3RpdmVEZXNjZW5kYW50XTtcblxuXHRcdGRlc2NlbmRhbnQuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsIDApO1xuXHRcdGRlc2NlbmRhbnQuZm9jdXMoKTtcblx0fSxcblxuXHQvKipcblx0ICogUmVmcmVzaGVzIHRoZSBkZXNjZW5kYW50cyBsaXN0IGJ5IGV4ZWN1dGluZyB0aGUgQ1NTIHNlbGVjdG9yIGFnYWluIGFuZCByZXNldHMgdGhlIGRlc2NlbmRhbnRzIHRhYkluZGV4LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuXHQgKiBAbWV0aG9kIF9yZWZyZXNoXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9yZWZyZXNoKCkge1xuXHRcdGNvbnN0IGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuXHRcdGlmIChkb21Ob2RlKSB7XG5cdFx0XHRjb25zdCBkZXNjZW5kYW50cyA9IGRvbU5vZGUucXVlcnlTZWxlY3RvckFsbChcblx0XHRcdFx0dGhpcy5wcm9wcy5kZXNjZW5kYW50c1xuXHRcdFx0KTtcblxuXHRcdFx0bGV0IHByaW9yaXR5RGVzY2VuZGFudHMgPSBbXTtcblxuXHRcdFx0dGhpcy5fZGVzY2VuZGFudHMgPSBbXTtcblxuXHRcdFx0QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGVzY2VuZGFudHMpLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRcdGNvbnN0IGRhdGFUYWJJbmRleCA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXRhYmluZGV4Jyk7XG5cblx0XHRcdFx0aWYgKGRhdGFUYWJJbmRleCkge1xuXHRcdFx0XHRcdHByaW9yaXR5RGVzY2VuZGFudHMucHVzaChpdGVtKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl9kZXNjZW5kYW50cy5wdXNoKGl0ZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cHJpb3JpdHlEZXNjZW5kYW50cyA9IHByaW9yaXR5RGVzY2VuZGFudHMuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdExhbmcudG9JbnQoYS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiaW5kZXgnKSkgPlxuXHRcdFx0XHRcdExhbmcudG9JbnQoYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiaW5kZXgnKSlcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLl9kZXNjZW5kYW50cyA9IHByaW9yaXR5RGVzY2VuZGFudHMuY29uY2F0KHRoaXMuX2Rlc2NlbmRhbnRzKTtcblxuXHRcdFx0dGhpcy5fYWN0aXZlRGVzY2VuZGFudCA9IDA7XG5cblx0XHRcdHRoaXMuX2Rlc2NlbmRhbnRzLnNvbWUoKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRcdGlmIChpdGVtLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSA9PT0gJzAnKSB7XG5cdFx0XHRcdFx0dGhpcy5fYWN0aXZlRGVzY2VuZGFudCA9IGluZGV4O1xuXHRcdFx0XHRcdHRoaXMuZm9jdXMoKTtcblxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBXaWRnZXRGb2N1c01hbmFnZXI7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbi8qKlxuICogUHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY2FsY3VsYXRpbmcgdGhlIHBvaW50IG9mIGludGVyYWN0aW9uIG9mIHRoZSB1c2VyIHdpdGggdGhlIEVkaXRvci5cbiAqXG4gKiBAY2xhc3MgV2lkZ2V0SW50ZXJhY3Rpb25Qb2ludFxuICovXG5jb25zdCBXaWRnZXRJbnRlcmFjdGlvblBvaW50ID0ge1xuXHQvLyBBbGxvd3MgdmFsaWRhdGluZyBwcm9wcyBiZWluZyBwYXNzZWQgdG8gdGhlIGNvbXBvbmVudC5cblx0cHJvcFR5cGVzOiB7XG5cdFx0LyoqXG5cdFx0ICogVGhlIHByb3ZpZGVkIGVkaXRvciBldmVudC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBXaWRnZXRJbnRlcmFjdGlvblBvaW50XG5cdFx0ICogQHByb3BlcnR5IHtTeW50aGV0aWNFdmVudH0gZWRpdG9yRXZlbnRcblx0XHQgKi9cblx0XHRlZGl0b3JFdmVudDogUHJvcFR5cGVzLm9iamVjdCxcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgcG9zaXRpb24sIGluIHBhZ2UgY29vcmRpbmF0ZXMsIGFjY29yZGluZyB0byB3aGljaCBhIHdpZGdldCBzaG91bGQgYXBwZWFyLlxuXHQgKiBEZXBlbmRpbmcgb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2VsZWN0aW9uLCB0aGUgd2RpZ2V0IG1heSBhcHBlYXIgYWJvdmUgb2Ygb3Igb24gYm90dG9tIG9mIHRoZSBzZWxlY3Rpb24uXG5cdCAqXG5cdCAqIEl0IGRlcGVuZHMgb24gdGhlIHByb3BzIGVkaXRvckV2ZW50IHRvIGFuYWx5emUgdGhlIGZvbGxvd2luZyB1c2VyLWludGVyYWN0aW9uIHBhcmFtZXRlcnM6XG5cdCAqIC0ge09iamVjdH0gc2VsZWN0aW9uRGF0YSBUaGUgZGF0YSBhYm91dCB0aGUgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgYXMgcmV0dXJuZWQgZnJvbVxuXHQgKiB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3NlbGVjdGlvbnJlZ2lvbi9nZXRTZWxlY3Rpb25EYXRhOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiAtIHtOdW1iZXJ9IHBvcyBDb250YWlucyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvc2l0aW9uLCBjb25zaWRlcmVkIGFzIG1vc3QgYXBwcm9wcmlhdGUuXG5cdCAqIFRoaXMgbWF5IGJlIHRoZSBwb2ludCB3aGVyZSB0aGUgdXNlciByZWxlYXNlZCB0aGUgbW91c2UsIG9yIGp1c3QgdGhlIGJlZ2lubmluZyBvciB0aGUgZW5kIG9mXG5cdCAqIHRoZSBzZWxlY3Rpb24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0SW50ZXJhY3Rpb25Qb2ludFxuXHQgKiBAbWV0aG9kIGdldEludGVyYWN0aW9uUG9pbnRcblx0ICogQHJldHVybiB7T2JqZWN0fSBBbiBPYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXHQgKiBkaXJlY3Rpb24sIHgsIHksIHdoZXJlIHggYW5kIHkgYXJlIGluIHBhZ2UgY29vcmRpbmF0ZXMgYW5kIGRpcmVjdGlvbiBjYW4gYmUgb25lIG9mIHRoZXNlOlxuXHQgKiBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUCBvciBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuXHQgKi9cblx0Z2V0SW50ZXJhY3Rpb25Qb2ludCgpIHtcblx0XHRjb25zdCBldmVudFBheWxvYWQgPSB0aGlzLnByb3BzLmVkaXRvckV2ZW50XG5cdFx0XHQ/IHRoaXMucHJvcHMuZWRpdG9yRXZlbnQuZGF0YVxuXHRcdFx0OiBudWxsO1xuXG5cdFx0aWYgKCFldmVudFBheWxvYWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBzZWxlY3Rpb25EYXRhID0gZXZlbnRQYXlsb2FkLnNlbGVjdGlvbkRhdGE7XG5cblx0XHRjb25zdCBuYXRpdmVFdmVudCA9IGV2ZW50UGF5bG9hZC5uYXRpdmVFdmVudDtcblxuXHRcdGNvbnN0IHBvcyA9IHtcblx0XHRcdHg6IGV2ZW50UGF5bG9hZC5uYXRpdmVFdmVudC5wYWdlWCxcblx0XHRcdHk6IHNlbGVjdGlvbkRhdGEucmVnaW9uLnRvcCxcblx0XHR9O1xuXG5cdFx0bGV0IGRpcmVjdGlvbiA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLmRpcmVjdGlvbjtcblxuXHRcdGNvbnN0IGVuZFJlY3QgPSBzZWxlY3Rpb25EYXRhLnJlZ2lvbi5lbmRSZWN0O1xuXG5cdFx0Y29uc3Qgc3RhcnRSZWN0ID0gc2VsZWN0aW9uRGF0YS5yZWdpb24uc3RhcnRSZWN0O1xuXG5cdFx0aWYgKGVuZFJlY3QgJiYgc3RhcnRSZWN0ICYmIHN0YXJ0UmVjdC50b3AgPT09IGVuZFJlY3QudG9wKSB7XG5cdFx0XHRkaXJlY3Rpb24gPSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUDtcblx0XHR9XG5cblx0XHRsZXQgeDtcblx0XHRsZXQgeTtcblxuXHRcdC8vIElmIHdlIGhhdmUgdGhlIHBvaW50IHdoZXJlIHVzZXIgcmVsZWFzZWQgdGhlIG1vdXNlLCBzaG93IFRvb2xiYXIgYXQgdGhpcyBwb2ludFxuXHRcdC8vIG90aGVyd2lzZSBzaG93IGl0IG9uIHRoZSBtaWRkbGUgb2YgdGhlIHNlbGVjdGlvbi5cblxuXHRcdGlmIChwb3MueCAmJiBwb3MueSkge1xuXHRcdFx0eCA9IHRoaXMuX2dldFhQb2ludChzZWxlY3Rpb25EYXRhLCBwb3MueCk7XG5cblx0XHRcdGlmIChkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QKSB7XG5cdFx0XHRcdHkgPSBNYXRoLm1pbihwb3MueSwgc2VsZWN0aW9uRGF0YS5yZWdpb24udG9wKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHkgPSBNYXRoLm1heChcblx0XHRcdFx0XHRwb3MueSxcblx0XHRcdFx0XHR0aGlzLl9nZXRZUG9pbnQoc2VsZWN0aW9uRGF0YSwgbmF0aXZlRXZlbnQpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHggPSBzZWxlY3Rpb25EYXRhLnJlZ2lvbi5sZWZ0ICsgc2VsZWN0aW9uRGF0YS5yZWdpb24ud2lkdGggLyAyO1xuXG5cdFx0XHRpZiAoZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSkge1xuXHRcdFx0XHR5ID0gdGhpcy5fZ2V0WVBvaW50KHNlbGVjdGlvbkRhdGEsIG5hdGl2ZUV2ZW50KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHkgPSBzZWxlY3Rpb25EYXRhLnJlZ2lvbi50b3A7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGRpcmVjdGlvbixcblx0XHRcdHgsXG5cdFx0XHR5LFxuXHRcdH07XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBXaWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0SW50ZXJhY3Rpb25Qb2ludFxuXHQgKiBAbWV0aG9kIF9nZXRYUG9pbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IGV2ZW50WCBUaGUgWCBjb29yZGluYXRlIHJlY2VpdmVkIGZyb20gdGhlIG5hdGl2ZSBldmVudCAobW91c2V1cCkuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzZWxlY3Rpb25EYXRhIFRoZSBkYXRhIGFib3V0IHRoZSBzZWxlY3Rpb24gaW4gdGhlIGVkaXRvciBhcyByZXR1cm5lZCBmcm9tIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfc2VsZWN0aW9ucmVnaW9uL2dldFNlbGVjdGlvbkRhdGE6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgY2FsY3VsYXRlZCBYIHBvaW50IGluIHBhZ2UgY29vcmRpbmF0ZXMuXG5cdCAqL1xuXHRfZ2V0WFBvaW50KHNlbGVjdGlvbkRhdGEsIGV2ZW50WCkge1xuXHRcdGNvbnN0IHJlZ2lvbiA9IHNlbGVjdGlvbkRhdGEucmVnaW9uO1xuXG5cdFx0Y29uc3QgbGVmdCA9IHJlZ2lvbi5zdGFydFJlY3QgPyByZWdpb24uc3RhcnRSZWN0LmxlZnQgOiByZWdpb24ubGVmdDtcblx0XHRjb25zdCByaWdodCA9IHJlZ2lvbi5lbmRSZWN0ID8gcmVnaW9uLmVuZFJlY3QucmlnaHQgOiByZWdpb24ucmlnaHQ7XG5cblx0XHRsZXQgeDtcblxuXHRcdGlmIChsZWZ0IDwgZXZlbnRYICYmIHJpZ2h0ID4gZXZlbnRYKSB7XG5cdFx0XHR4ID0gZXZlbnRYO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBsZWZ0RGlzdCA9IE1hdGguYWJzKGxlZnQgLSBldmVudFgpO1xuXHRcdFx0Y29uc3QgcmlnaHREaXN0ID0gTWF0aC5hYnMocmlnaHQgLSBldmVudFgpO1xuXG5cdFx0XHRpZiAobGVmdERpc3QgPCByaWdodERpc3QpIHtcblx0XHRcdFx0Ly8gdXNlciByYWlzZWQgdGhlIG1vdXNlIG9uIGxlZnQgb24gdGhlIHNlbGVjdGlvblxuXHRcdFx0XHR4ID0gbGVmdDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHggPSByaWdodDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4geDtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIFdpZGdldC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBXaWRnZXRJbnRlcmFjdGlvblBvaW50XG5cdCAqIEBtZXRob2QgX2dldFlQb2ludFxuXHQgKiBAcGFyYW0ge09iamVjdH0gbmF0aXZlRXZlbnQgVGhlIGRhdGEgYWJvdXQgZXZlbnQgaXMgZmlyZWRcblx0ICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGlvbkRhdGEgVGhlIGRhdGEgYWJvdXQgdGhlIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yIGFzIHJldHVybmVkIGZyb20ge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25yZWdpb24vZ2V0U2VsZWN0aW9uRGF0YTptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjYWxjdWxhdGVkIFkgcG9pbnQgaW4gcGFnZSBjb29yZGluYXRlcy5cblx0ICovXG5cdF9nZXRZUG9pbnQoc2VsZWN0aW9uRGF0YSwgbmF0aXZlRXZlbnQpIHtcblx0XHRsZXQgeSA9IDA7XG5cblx0XHRpZiAoc2VsZWN0aW9uRGF0YSAmJiBuYXRpdmVFdmVudCkge1xuXHRcdFx0Y29uc3QgZWxlbWVudFRhcmdldCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuYXRpdmVFdmVudC50YXJnZXQpO1xuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGVsZW1lbnRUYXJnZXQuJCAmJlxuXHRcdFx0XHRlbGVtZW50VGFyZ2V0LmdldFN0eWxlKCdvdmVyZmxvdycpID09PSAnYXV0bydcblx0XHRcdCkge1xuXHRcdFx0XHR5ID1cblx0XHRcdFx0XHRuYXRpdmVFdmVudC50YXJnZXQub2Zmc2V0VG9wICtcblx0XHRcdFx0XHRuYXRpdmVFdmVudC50YXJnZXQub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0eSA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLmJvdHRvbTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4geTtcblx0fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldEludGVyYWN0aW9uUG9pbnQ7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuaW1wb3J0IFdpZGdldEludGVyYWN0aW9uUG9pbnQgZnJvbSAnLi93aWRnZXQtaW50ZXJhY3Rpb24tcG9pbnQnO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvc2l0aW9uIHdoZXJlIGFuIFdpZGdldCBzaG91bGQgYmUgZGlzcGxheWVkIGJhc2VkIG9uXG4gKiB0aGUgcG9pbnQgd2hlcmUgdXNlciBpbnRlcmFjdGVkIHdpdGggdGhlIGVkaXRvci5cbiAqXG4gKiBAY2xhc3MgV2lkZ2V0UG9zaXRpb25cbiAqIEB1c2VzIFdpZGdldEludGVyYWN0aW9uUG9pbnRcbiAqL1xuY29uc3QgV2lkZ2V0UG9zaXRpb24gPSB7XG5cdG1peGluczogW1dpZGdldEludGVyYWN0aW9uUG9pbnRdLFxuXG5cdC8vIEFsbG93cyB2YWxpZGF0aW5nIHByb3BzIGJlaW5nIHBhc3NlZCB0byB0aGUgY29tcG9uZW50LlxuXHRwcm9wVHlwZXM6IHtcblx0XHQvKipcblx0XHQgKiBTaG91bGQgdGhlIHdpZGdldCB0byBiZSByZXN0cmljdGVkIHRvIHRoZSB2aWV3cG9ydCwgb3Igbm90LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG5cdFx0ICogQHByb3BlcnR5IHtCb29sZWFufSBjb25zdHJhaW5Ub1ZpZXdwb3J0XG5cdFx0ICogQGRlZmF1bHQgdHJ1ZVxuXHRcdCAqL1xuXHRcdGNvbnN0cmFpblRvVmlld3BvcnQ6IFByb3BUeXBlcy5ib29sLFxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGd1dHRlciAodmVydGljYWwgYW5kIGhvcml6b250YWwpIGJldHdlZW4gdGhlIGludGVyYWN0aW9uXG5cdFx0ICogcG9pbnQgYW5kIHdoZXJlIHRoZSB3aWRnZXQgc2hvdWxkIGJlIHJlbmRlcmVkLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG5cdFx0ICogQHByb3BlcnR5IHtPYmplY3R9IGd1dHRlclxuXHRcdCAqIEBkZWZhdWx0IHtcblx0XHQgKiAgICAgbGVmdDogMCxcblx0XHQgKiAgICAgdG9wOiAxMFxuXHRcdCAqIH1cblx0XHQgKi9cblx0XHRndXR0ZXI6IFByb3BUeXBlcy5vYmplY3QsXG5cdH0sXG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpblxuXHQgKiB0aGUgd2lkZ2V0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG5cdCAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG5cdCAqL1xuXHRnZXREZWZhdWx0UHJvcHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGd1dHRlcjoge1xuXHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHR0b3A6IDEwLFxuXHRcdFx0fSxcblx0XHRcdGNvbnN0cmFpblRvVmlld3BvcnQ6IHRydWUsXG5cdFx0fTtcblx0fSxcblxuXHQvKipcblx0ICogQ2FuY2VscyBhbiBzY2hlZHVsZWQgYW5pbWF0aW9uIGZyYW1lLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG5cdCAqIEBtZXRob2QgY2FuY2VsQW5pbWF0aW9uXG5cdCAqL1xuXHRjYW5jZWxBbmltYXRpb24oKSB7XG5cdFx0aWYgKHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuXHRcdFx0d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyBhbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IGluXG5cdCAqIHBhZ2UgY29vcmRpbmF0ZXMsIHJlc3RyaWN0ZWQgdG8gZml0IHRvIGdpdmVuIHZpZXdwb3J0LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG5cdCAqIEBtZXRob2QgZ2V0Q29uc3RyYWluZWRQb3NpdGlvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLCBwcm92aWRlZCBhcyBudW1iZXJzOlxuXHQgKiAtIGhlaWdodFxuXHQgKiAtIGxlZnRcblx0ICogLSB0b3Bcblx0ICogLSB3aWR0aFxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmlld1BhbmVTaXplIE9wdGlvbmFsLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjdXJyZW50IHZpZXdwb3J0IHdpbGwgYmUgdXNlZC4gU2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgdGhlc2UgcHJvcGVydGllczpcblx0ICogLSB3aWR0aFxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIGB4YCBhbmQgYHlgIHByb3BlcnRpZXMsIHdoaWNoIHJlcHJlc2VudCB0aGUgY29uc3RyYWluZWQgcG9zaXRpb24gb2YgdGhlXG5cdCAqIGVsZW1lbnQuXG5cdCAqL1xuXHRnZXRDb25zdHJhaW5lZFBvc2l0aW9uKGF0dHJzLCB2aWV3UGFuZVNpemUpIHtcblx0XHR2aWV3UGFuZVNpemUgPVxuXHRcdFx0dmlld1BhbmVTaXplIHx8IG5ldyBDS0VESVRPUi5kb20ud2luZG93KHdpbmRvdykuZ2V0Vmlld1BhbmVTaXplKCk7XG5cblx0XHRsZXQgeCA9IGF0dHJzLmxlZnQ7XG5cdFx0bGV0IHkgPSBhdHRycy50b3A7XG5cblx0XHRpZiAoYXR0cnMubGVmdCArIGF0dHJzLndpZHRoID4gdmlld1BhbmVTaXplLndpZHRoKSB7XG5cdFx0XHR4IC09IGF0dHJzLmxlZnQgKyBhdHRycy53aWR0aCAtIHZpZXdQYW5lU2l6ZS53aWR0aDtcblx0XHR9XG5cblx0XHRpZiAoeSA8IDApIHtcblx0XHRcdHkgPSAwO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR4LFxuXHRcdFx0eSxcblx0XHR9O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgV2lkZ2V0IHRha2luZyBpbiBjb25zaWRlcmF0aW9uIHRoZVxuXHQgKiB7eyNjcm9zc0xpbmsgXCJXaWRnZXRQb3NpdGlvbi9ndXR0ZXI6YXR0cmlidXRlXCJ9fXt7L2Nyb3NzTGlua319IGF0dHJpYnV0ZS5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBXaWRnZXRQb3NpdGlvblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBtZXRob2QgIGdldFdpZGdldFhZUG9pbnRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgVGhlIGxlZnQgb2Zmc2V0IGluIHBhZ2UgY29vcmRpbmF0ZXMgd2hlcmUgVG9vbGJhciBzaG91bGQgYmUgc2hvd24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVGhlIHRvcCBvZmZzZXQgaW4gcGFnZSBjb29yZGluYXRlcyB3aGVyZSBUb29sYmFyIHNob3VsZCBiZSBzaG93bi5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIG9mIHRoZSBzZWxlY3Rpb24uIE1heSBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcblx0ICogQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1Agb3IgQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT01cblx0ICogQHJldHVybiB7QXJyYXl9IEFuIEFycmF5IHdpdGggbGVmdCBhbmQgdG9wIG9mZnNldHMgaW4gcGFnZSBjb29yZGluYXRlcy5cblx0ICovXG5cdGdldFdpZGdldFhZUG9pbnQobGVmdCwgdG9wLCBkaXJlY3Rpb24pIHtcblx0XHRjb25zdCBkb21Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcyk7XG5cblx0XHRjb25zdCBndXR0ZXIgPSB0aGlzLnByb3BzLmd1dHRlcjtcblx0XHRjb25zdCBvZmZzZXRXaWR0aCA9IGRvbU5vZGUub2Zmc2V0V2lkdGg7XG5cdFx0Y29uc3QgaGFsZldpZHRoID0gb2Zmc2V0V2lkdGggLyAyO1xuXG5cdFx0aWYgKFxuXHRcdFx0ZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSB8fFxuXHRcdFx0ZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUFxuXHRcdCkge1xuXHRcdFx0bGVmdCA9IGxlZnQgLSBndXR0ZXIubGVmdCAtIGhhbGZXaWR0aDtcblxuXHRcdFx0dG9wID1cblx0XHRcdFx0ZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuXHRcdFx0XHRcdD8gdG9wICsgZ3V0dGVyLnRvcFxuXHRcdFx0XHRcdDogdG9wIC0gZG9tTm9kZS5vZmZzZXRIZWlnaHQgLSBndXR0ZXIudG9wO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9MRUZUX1RPX1JJR0hUIHx8XG5cdFx0XHRkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9SSUdIVF9UT19MRUZUXG5cdFx0KSB7XG5cdFx0XHRsZWZ0ID1cblx0XHRcdFx0ZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fTEVGVF9UT19SSUdIVFxuXHRcdFx0XHRcdD8gbGVmdCArIGd1dHRlci5sZWZ0ICsgZG9tTm9kZS5vZmZzZXRIZWlnaHQgLyAyXG5cdFx0XHRcdFx0OiBsZWZ0IC0gKDMgKiBkb21Ob2RlLm9mZnNldEhlaWdodCkgLyAyIC0gZ3V0dGVyLmxlZnQ7XG5cblx0XHRcdHRvcCA9IHRvcCAtIGd1dHRlci50b3AgLSBkb21Ob2RlLm9mZnNldEhlaWdodCAvIDI7XG5cdFx0fVxuXG5cdFx0aWYgKGxlZnQgPCAwKSB7XG5cdFx0XHRsZWZ0ID0gMDtcblx0XHR9XG5cblx0XHRpZiAobGVmdCA+IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLSBoYWxmV2lkdGgpIHtcblx0XHRcdGxlZnQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoIC0gaGFsZldpZHRoO1xuXHRcdH1cblxuXHRcdGlmICh0b3AgPCAwKSB7XG5cdFx0XHR0b3AgPSAwO1xuXHRcdH1cblxuXHRcdHJldHVybiBbbGVmdCwgdG9wXTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSB3aWRnZXQgaXMgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0UG9zaXRpb25cblx0ICogQG1ldGhvZCBpc1Zpc2libGVcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIHZpc2libGUsIGZhbHNlIG90aGVyd2lzZVxuXHQgKi9cblx0aXNWaXNpYmxlKCkge1xuXHRcdGNvbnN0IGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuXHRcdGlmIChkb21Ob2RlKSB7XG5cdFx0XHRjb25zdCBkb21FbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRvbU5vZGUpO1xuXG5cdFx0XHRyZXR1cm4gZG9tRWxlbWVudC5oYXNDbGFzcygnYWxsb3ktZWRpdG9yLXZpc2libGUnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0LyoqXG5cdCAqIE1vdmVzIGEgd2lkZ2V0IGZyb20gYSBzdGFydGluZyBwb2ludCB0byBhIGRlc3RpbmF0aW9uIHBvaW50LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG5cdCAqIEBtZXRob2QgbW92ZVRvUG9pbnRcblx0ICogQHBhcmFtICB7T2JqZWN0fSBzdGFydFBvaW50IFRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIG1vdmVtZW50LlxuXHQgKiBAcGFyYW0gIHtPYmplY3R9IGVuZFBvaW50IFRoZSBkZXN0aW5hdGlvbiBwb2ludCBmb3IgdGhlIG1vdmVtZW50LlxuXHQgKi9cblx0bW92ZVRvUG9pbnQoc3RhcnRQb2ludCwgZW5kUG9pbnQpIHtcblx0XHRjb25zdCBkb21FbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpKTtcblxuXHRcdGRvbUVsZW1lbnQuc2V0U3R5bGVzKHtcblx0XHRcdGxlZnQ6IHN0YXJ0UG9pbnRbMF0gKyAncHgnLFxuXHRcdFx0dG9wOiBzdGFydFBvaW50WzFdICsgJ3B4Jyxcblx0XHRcdG9wYWNpdHk6IDAsXG5cdFx0XHRwb2ludGVyRXZlbnRzOiAnbm9uZScsXG5cdFx0fSk7XG5cblx0XHRkb21FbGVtZW50LnJlbW92ZUNsYXNzKCdhbGxveS1lZGl0b3ItaW52aXNpYmxlJyk7XG5cblx0XHR0aGlzLl9hbmltYXRlKCgpID0+IHtcblx0XHRcdGRvbUVsZW1lbnQuYWRkQ2xhc3MoJ2FlLXRvb2xiYXItdHJhbnNpdGlvbicpO1xuXHRcdFx0ZG9tRWxlbWVudC5hZGRDbGFzcygnYWxsb3ktZWRpdG9yLXZpc2libGUnKTtcblx0XHRcdGRvbUVsZW1lbnQuc2V0U3R5bGVzKHtcblx0XHRcdFx0bGVmdDogZW5kUG9pbnRbMF0gKyAncHgnLFxuXHRcdFx0XHR0b3A6IGVuZFBvaW50WzFdICsgJ3B4Jyxcblx0XHRcdFx0b3BhY2l0eTogMSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyAxNTBtcyB0byBtYXRjaCB0cmFuc2l0aW9uLWR1cmF0aW9uIGZvciAuYWUtdG9vbGJhci10cmFuc2l0aW9uOlxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdGRvbUVsZW1lbnQuc2V0U3R5bGVzKHtcblx0XHRcdFx0XHRwb2ludGVyRXZlbnRzOiAnJyxcblx0XHRcdFx0fSk7XG5cdFx0XHR9LCAxNTApO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTaG93cyB0aGUgd2lkZ2V0IHdpdGggdGhlIGRlZmF1bHQgYW5pbWF0aW9uIHRyYW5zaXRpb24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0UG9zaXRpb25cblx0ICogQG1ldGhvZCBzaG93XG5cdCAqL1xuXHRzaG93KCkge1xuXHRcdGNvbnN0IGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblx0XHRjb25zdCB1aU5vZGUgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ3VpTm9kZScpO1xuXG5cdFx0Y29uc3Qgc2Nyb2xsVG9wID0gdWlOb2RlID8gdWlOb2RlLnNjcm9sbFRvcCA6IDA7XG5cblx0XHRpZiAoIXRoaXMuaXNWaXNpYmxlKCkgJiYgZG9tTm9kZSkge1xuXHRcdFx0Y29uc3QgaW50ZXJhY3Rpb25Qb2ludCA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25Qb2ludCgpO1xuXG5cdFx0XHRpZiAoaW50ZXJhY3Rpb25Qb2ludCkge1xuXHRcdFx0XHRjb25zdCBkb21FbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRvbU5vZGUpO1xuXG5cdFx0XHRcdGxldCBmaW5hbFgsIGZpbmFsWSwgaW5pdGlhbFgsIGluaXRpYWxZO1xuXG5cdFx0XHRcdGZpbmFsWCA9IGluaXRpYWxYID0gcGFyc2VGbG9hdChkb21FbGVtZW50LmdldFN0eWxlKCdsZWZ0JykpO1xuXHRcdFx0XHRmaW5hbFkgPSBpbml0aWFsWSA9IHBhcnNlRmxvYXQoZG9tRWxlbWVudC5nZXRTdHlsZSgndG9wJykpO1xuXG5cdFx0XHRcdGlmICh0aGlzLnByb3BzLmNvbnN0cmFpblRvVmlld3BvcnQpIHtcblx0XHRcdFx0XHRjb25zdCByZXMgPSB0aGlzLmdldENvbnN0cmFpbmVkUG9zaXRpb24oe1xuXHRcdFx0XHRcdFx0aGVpZ2h0OiBwYXJzZUZsb2F0KGRvbU5vZGUub2Zmc2V0SGVpZ2h0KSxcblx0XHRcdFx0XHRcdGxlZnQ6IGZpbmFsWCxcblx0XHRcdFx0XHRcdHRvcDogZmluYWxZLFxuXHRcdFx0XHRcdFx0d2lkdGg6IHBhcnNlRmxvYXQoZG9tTm9kZS5vZmZzZXRXaWR0aCksXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRmaW5hbFggPSByZXMueDtcblx0XHRcdFx0XHRmaW5hbFkgPSByZXMueTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRpbnRlcmFjdGlvblBvaW50LmRpcmVjdGlvbiA9PT1cblx0XHRcdFx0XHRDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRpbml0aWFsWSA9XG5cdFx0XHRcdFx0XHR0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEucmVnaW9uLmJvdHRvbSArIHNjcm9sbFRvcDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpbml0aWFsWSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uRGF0YS5yZWdpb24udG9wICsgc2Nyb2xsVG9wO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5tb3ZlVG9Qb2ludChbaW5pdGlhbFgsIGluaXRpYWxZXSwgW2ZpbmFsWCwgZmluYWxZXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBVcGRhdGVzIHRoZSB3aWRnZXQgcG9zaXRpb24gYmFzZWQgb24gdGhlIGN1cnJlbnQgaW50ZXJhY3Rpb24gcG9pbnQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0UG9zaXRpb25cblx0ICogQG1ldGhvZCB1cGRhdGVQb3NpdGlvblxuXHQgKi9cblx0dXBkYXRlUG9zaXRpb24oKSB7XG5cdFx0Y29uc3QgaW50ZXJhY3Rpb25Qb2ludCA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25Qb2ludCgpO1xuXG5cdFx0Y29uc3QgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG5cdFx0aWYgKGludGVyYWN0aW9uUG9pbnQgJiYgZG9tTm9kZSkge1xuXHRcdFx0Y29uc3QgdWlOb2RlID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCd1aU5vZGUnKSB8fCBkb2N1bWVudC5ib2R5O1xuXHRcdFx0Y29uc3QgdWlOb2RlU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHVpTm9kZSk7XG5cdFx0XHRjb25zdCB1aU5vZGVNYXJnaW5MZWZ0ID0gcGFyc2VJbnQoXG5cdFx0XHRcdHVpTm9kZVN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1sZWZ0JyksXG5cdFx0XHRcdDEwXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgdWlOb2RlTWFyZ2luUmlnaHQgPSBwYXJzZUludChcblx0XHRcdFx0dWlOb2RlU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLXJpZ2h0JyksXG5cdFx0XHRcdDEwXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgdG90YWxXaWR0aCA9XG5cdFx0XHRcdHVpTm9kZU1hcmdpbkxlZnQgKyB1aU5vZGUuY2xpZW50V2lkdGggKyB1aU5vZGVNYXJnaW5SaWdodDtcblxuXHRcdFx0Y29uc3Qgc2Nyb2xsVG9wID0gdWlOb2RlLnRhZ05hbWUgIT09ICdCT0RZJyA/IHVpTm9kZS5zY3JvbGxUb3AgOiAwO1xuXG5cdFx0XHRjb25zdCB4eSA9IHRoaXMuZ2V0V2lkZ2V0WFlQb2ludChcblx0XHRcdFx0aW50ZXJhY3Rpb25Qb2ludC54LFxuXHRcdFx0XHRpbnRlcmFjdGlvblBvaW50LnksXG5cdFx0XHRcdGludGVyYWN0aW9uUG9pbnQuZGlyZWN0aW9uXG5cdFx0XHQpO1xuXHRcdFx0eHlbMV0gKz0gc2Nyb2xsVG9wO1xuXG5cdFx0XHRpZiAoeHlbMF0gPCAwKSB7XG5cdFx0XHRcdHh5WzBdID0gMDtcblx0XHRcdH1cblx0XHRcdGlmICh4eVswXSA+IHRvdGFsV2lkdGggLSBkb21Ob2RlLm9mZnNldFdpZHRoKSB7XG5cdFx0XHRcdHh5WzBdID0gdG90YWxXaWR0aCAtIGRvbU5vZGUub2Zmc2V0V2lkdGg7XG5cdFx0XHR9XG5cblx0XHRcdG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkb21Ob2RlKS5zZXRTdHlsZXMoe1xuXHRcdFx0XHRsZWZ0OiB4eVswXSArICdweCcsXG5cdFx0XHRcdHRvcDogeHlbMV0gKyAncHgnLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXF1ZXN0cyBhbiBhbmltYXRpb24gZnJhbWUsIGlmIHBvc3NpYmxlLCB0byBzaW11bGF0ZSBhbiBhbmltYXRpb24uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgV2lkZ2V0UG9zaXRpb25cblx0ICogQG1ldGhvZCBfYW5pbWF0ZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQgb24gdGhlIHNjaGVkdWxlZCBmcmFtZS5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2FuaW1hdGUoY2FsbGJhY2spIHtcblx0XHRpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuXHRcdFx0dGhpcy5fYW5pbWF0aW9uRnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdH1cblx0fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldFBvc2l0aW9uO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBXaWRnZXRFeGNsdXNpdmUgZnJvbSAnLi9iYXNlL3dpZGdldC1leGNsdXNpdmUnO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXInO1xuXG4vKipcbiAqIFRoZSBtYWluIGVkaXRvciBVSSBjbGFzcyBtYW5hZ2VzIGEgaGllcmFyY2h5IG9mIHdpZGdldHMgKHRvb2xiYXJzIGFuZCBidXR0b25zKS5cbiAqXG4gKiBAY2xhc3MgVUlcbiAqIEB1c2VzIFdpZGdldEV4Y2x1c2l2ZVxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIFVJIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVUlcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuXHQgKi9cblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRjaXJjdWxhcjogdHJ1ZSxcblx0XHRkZXNjZW5kYW50czogJ1tjbGFzc149YWUtdG9vbGJhci1dJyxcblx0XHRldmVudHNEZWxheTogMCxcblx0XHRrZXlzOiB7XG5cdFx0XHRuZXh0OiA5LFxuXHRcdH0sXG5cdH07XG5cblx0c3RhdGljIHByb3BUeXBlcyA9IHtcblx0XHQvKipcblx0XHQgKiBMb2NhbGl6ZWQgbWVzc2FnZXMgZm9yIGxpdmUgYXJpYSB1cGRhdGVzLiBTaG91bGQgaW5jbHVkZSB0aGUgZm9sbG93aW5nIG1lc3NhZ2VzOlxuXHRcdCAqIC0gbm9Ub29sYmFyOiBOb3RpZmljYXRpb24gZm9yIG5vIGF2YWlsYWJsZSB0b29sYmFyIGluIHRoZSBlZGl0b3IuXG5cdFx0ICogLSBvbmVUb29sYmFyOiBOb3RpZmljYXRpb24gZm9yIGp1c3Qgb25lIGF2YWlsYWJsZSB0b29sYmFyIGluIHRoZSBlZGl0b3IuXG5cdFx0ICogLSBtYW55VG9vbGJhcnM6IE5vdGlmaWNhdGlvbiBmb3IgbW9yZSB0aGFuIG9uZSBhdmFpbGFibGUgdG9vbGJhciBpbiB0aGUgZWRpdG9yLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFVJXG5cdFx0ICogQHByb3BlcnR5IHtPYmplY3R9IGFyaWFVcGRhdGVzXG5cdFx0ICovXG5cdFx0YXJpYVVwZGF0ZXM6IFByb3BUeXBlcy5vYmplY3QsXG5cblx0XHQvKipcblx0XHQgKiBUaGUgZGVsYXkgKG1zKSwgYWZ0ZXIgd2hpY2gga2V5IG9yIG1vdXNlIGV2ZW50cyB3aWxsIGJlIHByb2Nlc3NlZC5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBVSVxuXHRcdCAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBldmVudHNEZWxheVxuXHRcdCAqL1xuXHRcdGV2ZW50c0RlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHRvb2xiYXJzIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgZWRpdG9yIGluc3RhbmNlXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgVUlcblx0XHQgKiBAcHJvcGVydHkge09iamVjdH0gdG9vbGJhcnNcblx0XHQgKi9cblx0XHR0b29sYmFyczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXHR9O1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdGhpZGRlbjogZmFsc2UsXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgb25seSBvbiB0aGUgY2xpZW50LCBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFVJXG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcblx0ICovXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdGVkaXRvci5vbignZWRpdG9ySW50ZXJhY3Rpb24nLCB0aGlzLl9vbkVkaXRvckludGVyYWN0aW9uLCB0aGlzKTtcblx0XHRlZGl0b3Iub24oJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMuX29uQWN0aW9uUGVyZm9ybWVkLCB0aGlzKTtcblx0XHRlZGl0b3Iub24oJ2tleScsIHRoaXMuX29uRWRpdG9yS2V5LCB0aGlzKTtcblxuXHRcdC8vIFNldCB1cCBldmVudHMgZm9yIGhpZGluZyB0aGUgVUkgd2hlbiB1c2VyIHN0b3BzIGludGVyYWN0aW5nIHdpdGggdGhlIGVkaXRvci5cblx0XHQvLyBUaGlzIG1heSBoYXBwZW4gd2hlbiBoZSBqdXN0IGNsaWNrcyBvdXRzaWRlIG9mIHRoZSBlZGl0b3IuIEhvd2V2ZXIsXG5cdFx0Ly8gdGhpcyBkb2VzIG5vdCBpbmNsdWRlIGEgc2l0dWF0aW9uIHdoZW4gaGUgY2xpY2tzIG9uIHNvbWUgYnV0dG9uLCBwYXJ0IG9mXG5cdFx0Ly8gZWRpdG9yJ3MgVUkuXG5cblx0XHQvLyBJdCBpcyBub3QgZWFzeSB0byBkZWJvdW5jZSBfc2V0VUlIaWRkZW4gb24gbW91c2Vkb3duLCBiZWNhdXNlIGlmIHdlXG5cdFx0Ly8gZGVib3VuY2UgaXQsIHdoZW4gdGhlIGhhbmRsZXIgaXMgYmVpbmcgaW52b2tlZCwgdGhlIHRhcmdldCBtaWdodCBiZSBubyBtb3JlIHBhcnRcblx0XHQvLyBvZiB0aGUgZWRpdG9yJ3MgVUkgLSBvbkFjdGlvblBlcmZvcm1lZCBjYXVzZXMgcmUtcmVuZGVyLlxuXHRcdHRoaXMuX21vdXNlZG93bkxpc3RlbmVyID0gZXZlbnQgPT4ge1xuXHRcdFx0dGhpcy5fc2V0VUlIaWRkZW4oZXZlbnQudGFyZ2V0KTtcblx0XHR9O1xuXG5cdFx0dGhpcy5fa2V5RG93bkxpc3RlbmVyID0gQ0tFRElUT1IudG9vbHMuZGVib3VuY2UoXG5cdFx0XHRfZXZlbnQgPT4ge1xuXHRcdFx0XHR0aGlzLl9zZXRVSUhpZGRlbihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcblx0XHRcdH0sXG5cdFx0XHR0aGlzLnByb3BzLmV2ZW50c0RlbGF5LFxuXHRcdFx0dGhpc1xuXHRcdCk7XG5cblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9tb3VzZWRvd25MaXN0ZW5lcik7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2tleURvd25MaXN0ZW5lcik7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQncyB1cGRhdGVzIGFyZSBmbHVzaGVkIHRvIHRoZSBET00uXG5cdCAqIEZpcmVzIGBhcmlhVXBkYXRlYCBldmVudCBwYXNzaW5nIEFSSUEgcmVsYXRlZCBtZXNzYWdlcy5cblx0ICogRmlyZXMgYGVkaXRvclVwZGF0ZWAgZXZlbnQgcGFzc2luZyB0aGUgcHJldmlvdXMgYW5kIGN1cnJlbnQgcHJvcGVydGllcyBhbmQgc3RhdGUuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVUlcblx0ICogQG1ldGhvZCBjb21wb25lbnREaWRVcGRhdGVcblx0ICovXG5cdGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuXHRcdGNvbnN0IGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdGlmIChkb21Ob2RlKSB7XG5cdFx0XHRlZGl0b3IuZmlyZSgnYXJpYVVwZGF0ZScsIHtcblx0XHRcdFx0bWVzc2FnZTogdGhpcy5fZ2V0QXZhaWxhYmxlVG9vbGJhcnNNZXNzYWdlKGRvbU5vZGUpLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0ZWRpdG9yLmZpcmUoJ2VkaXRvclVwZGF0ZScsIHtcblx0XHRcdHByZXZQcm9wcyxcblx0XHRcdHByZXZTdGF0ZSxcblx0XHRcdHByb3BzOiB0aGlzLnByb3BzLFxuXHRcdFx0c3RhdGU6IHRoaXMuc3RhdGUsXG5cdFx0fSk7XG5cdH1cblxuXHRfZ2V0QXJpYVVwZGF0ZVRlbXBsYXRlKGFyaWFVcGRhdGUpIHtcblx0XHRpZiAoIXRoaXMuX2FyaWFVcGRhdGVUZW1wbGF0ZXMpIHtcblx0XHRcdHRoaXMuX2FyaWFVcGRhdGVUZW1wbGF0ZXMgPSB7fTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuX2FyaWFVcGRhdGVUZW1wbGF0ZXNbYXJpYVVwZGF0ZV0pIHtcblx0XHRcdHRoaXMuX2FyaWFVcGRhdGVUZW1wbGF0ZXNbYXJpYVVwZGF0ZV0gPSBuZXcgQ0tFRElUT1IudGVtcGxhdGUoXG5cdFx0XHRcdHRoaXMuX2dldEFyaWFVcGRhdGVzKClbYXJpYVVwZGF0ZV1cblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX2FyaWFVcGRhdGVUZW1wbGF0ZXNbYXJpYVVwZGF0ZV07XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgdGVtcGxhdGVzIGZvciBBUklBIG1lc3NhZ2VzLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFVJXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQG1ldGhvZCBfZ2V0QXJpYVVwZGF0ZXNcblx0ICogQHJldHVybiB7T2JqZWN0fSBBUklBIHJlbGF0ZXMgbWVzc2FnZXMuIERlZmF1bHQ6XG5cdCAqIHtcblx0ICogICAgICBub1Rvb2xiYXI6IEFsbG95RWRpdG9yLlN0cmluZ3MuYXJpYVVwZGF0ZU5vVG9vbGJhcixcblx0ICogICAgICBvbmVUb29sYmFyOiBBbGxveUVkaXRvci5TdHJpbmdzLmFyaWFVcGRhdGVPbmVUb29sYmFyLFxuXHQgKiAgICAgIG1hbnlUb29sYmFyczogQWxsb3lFZGl0b3IuU3RyaW5ncy5hcmlhVXBkYXRlTWFueVRvb2xiYXJzXG5cdCAqICB9XG5cdCAqL1xuXHRfZ2V0QXJpYVVwZGF0ZXMoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMucHJvcHMuYXJpYVVwZGF0ZXMgfHwge1xuXHRcdFx0XHRub1Rvb2xiYXI6IEFsbG95RWRpdG9yLlN0cmluZ3MuYXJpYVVwZGF0ZU5vVG9vbGJhcixcblx0XHRcdFx0b25lVG9vbGJhcjogQWxsb3lFZGl0b3IuU3RyaW5ncy5hcmlhVXBkYXRlT25lVG9vbGJhcixcblx0XHRcdFx0bWFueVRvb2xiYXJzOiBBbGxveUVkaXRvci5TdHJpbmdzLmFyaWFVcGRhdGVNYW55VG9vbGJhcnMsXG5cdFx0XHR9XG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFuIEFSSUEgbWVzc2FnZSB3aGljaCByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgY3VycmVudGx5IGF2YWlsYWJsZSB0b29sYmFycy5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBVSVxuXHQgKiBAbWV0aG9kIF9nZXRBdmFpbGFibGVUb29sYmFyc01lc3NhZ2Vcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBkb21Ob2RlIFRoZSBET00gbm9kZSBmcm9tIHdoaWNoIHRoZSBhdmFpbGFibGUgdG9vbGJhcnMgd2lsbCBiZSByZXRyaWV2ZWQuXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gVGhlIEFSSUEgbWVzc2FnZSBmb3IgdGhlIG51bWJlciBvZiBhdmFpbGFibGUgdG9vbGJhcnNcblx0ICovXG5cdF9nZXRBdmFpbGFibGVUb29sYmFyc01lc3NhZ2UoZG9tTm9kZSkge1xuXHRcdGNvbnN0IHRvb2xiYXJzTm9kZUxpc3QgPSBkb21Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyb2xlPVwidG9vbGJhclwiXScpO1xuXG5cdFx0aWYgKCF0b29sYmFyc05vZGVMaXN0Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2dldEFyaWFVcGRhdGVzKCkubm9Ub29sYmFyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCB0b29sYmFyTmFtZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2Vcblx0XHRcdFx0LmNhbGwodG9vbGJhcnNOb2RlTGlzdClcblx0XHRcdFx0Lm1hcCh0b29sYmFyID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gdG9vbGJhci5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGFyaWFVcGRhdGUgPVxuXHRcdFx0XHR0b29sYmFyTmFtZXMubGVuZ3RoID09PSAxID8gJ29uZVRvb2xiYXInIDogJ21hbnlUb29sYmFycyc7XG5cblx0XHRcdHJldHVybiB0aGlzLl9nZXRBcmlhVXBkYXRlVGVtcGxhdGUoYXJpYVVwZGF0ZSkub3V0cHV0KHtcblx0XHRcdFx0dG9vbGJhcnM6IHRvb2xiYXJOYW1lc1xuXHRcdFx0XHRcdC5qb2luKCcsJylcblx0XHRcdFx0XHQucmVwbGFjZSgvLChbXixdKikkLywgJyBhbmQgJyArICckMScpLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBVSVxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxVbm1vdW50XG5cdCAqL1xuXHRjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHRpZiAodGhpcy5fbW91c2Vkb3duTGlzdGVuZXIpIHtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX21vdXNlZG93bkxpc3RlbmVyKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fa2V5RG93bkxpc3RlbmVyKSB7XG5cdFx0XHR0aGlzLl9rZXlEb3duTGlzdGVuZXIuZGV0YWNoKCk7XG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fa2V5RG93bkxpc3RlbmVyKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgZWRpdG9yLiBUaGlzIG1heSBpbmNsdWRlIHNldmVyYWwgdG9vbGJhcnMgYW5kIGJ1dHRvbnMuXG5cdCAqIFRoZSBlZGl0b3IncyBVSSBhbHNvIHRha2VzIGNhcmUgb2YgcmVuZGVyaW5nIHRoZSBpdGVtcyBpbiBleGNsdXNpdmUgbW9kZS5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBVSVxuXHQgKiBAbWV0aG9kIHJlbmRlclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHRpZiAodGhpcy5zdGF0ZS5oaWRkZW4pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGxldCB0b29sYmFycyA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMudG9vbGJhcnMpLm1hcCh0b29sYmFyID0+IHtcblx0XHRcdHJldHVybiBBbGxveUVkaXRvci5Ub29sYmFyc1t0b29sYmFyXSB8fCB3aW5kb3dbdG9vbGJhcl07XG5cdFx0fSk7XG5cblx0XHR0b29sYmFycyA9IHRoaXMuZmlsdGVyRXhjbHVzaXZlKHRvb2xiYXJzKS5tYXAodG9vbGJhciA9PiB7XG5cdFx0XHRjb25zdCBwcm9wcyA9IHRoaXMubWVyZ2VFeGNsdXNpdmVQcm9wcyhcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbmZpZzogdGhpcy5wcm9wcy50b29sYmFyc1t0b29sYmFyLmtleV0sXG5cdFx0XHRcdFx0ZWRpdG9yOiB0aGlzLmNvbnRleHQuZWRpdG9yLFxuXHRcdFx0XHRcdGVkaXRvckV2ZW50OiB0aGlzLnN0YXRlLmVkaXRvckV2ZW50LFxuXHRcdFx0XHRcdGtleTogdG9vbGJhci5rZXksXG5cdFx0XHRcdFx0b25EaXNtaXNzOiB0aGlzLl9vbkRpc21pc3NUb29sYmFyRm9jdXMsXG5cdFx0XHRcdFx0c2VsZWN0aW9uRGF0YTogdGhpcy5zdGF0ZS5zZWxlY3Rpb25EYXRhLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b29sYmFyLmtleVxuXHRcdFx0KTtcblxuXHRcdFx0cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQodG9vbGJhciwgcHJvcHMpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtdG9vbGJhcnNcIiBvbktleURvd249e3RoaXMuaGFuZGxlS2V5fT5cblx0XHRcdFx0e3Rvb2xiYXJzfVxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaXN0ZW5lciB0byB0aGUgZWRpdG9yJ3MgYGFjdGlvblBlcmZvcm1lZGAgZXZlbnQuIFNldHMgc3RhdGUgYW5kIHJlZHJhd3MgdGhlIFVJIG9mIHRoZSBlZGl0b3IuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVUlcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAbWV0aG9kIF9vbkFjdGlvblBlcmZvcm1lZFxuXHQgKiBAcGFyYW0ge1N5bnRldGljRXZlbnR9IGV2ZW50IFRoZSBwcm92aWRlZCBldmVudFxuXHQgKi9cblx0X29uQWN0aW9uUGVyZm9ybWVkKF9ldmVudCkge1xuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdGVkaXRvci5mb2N1cygpO1xuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRpdGVtRXhjbHVzaXZlOiBudWxsLFxuXHRcdFx0c2VsZWN0aW9uRGF0YTogZWRpdG9yLmdldFNlbGVjdGlvbkRhdGEoKSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBFeGVjdXRlZCB3aGVuIGEgZGlzbWlzcyBrZXkgaXMgcHJlc3NlZCBvdmVyIGEgdG9vbGJhciB0byByZXR1cm4gdGhlIGZvY3VzIHRvIHRoZSBlZGl0b3IuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVUlcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAbWV0aG9kIF9vbkRpc21pc3NUb29sYmFyRm9jdXNcblx0ICovXG5cdF9vbkRpc21pc3NUb29sYmFyRm9jdXMgPSAoKSA9PiB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0ZWRpdG9yLmZvY3VzKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIExpc3RlbmVyIHRvIHRoZSBlZGl0b3IncyBgdXNlckludGVyYWN0aW9uYCBldmVudC4gUmV0cmlldmVzIHRoZSBkYXRhIGFib3V0IHRoZSB1c2VyIHNlbGVjdGlvbiBhbmRcblx0ICogcHJvdmlkZXMgaXQgdmlhIGNvbXBvbmVudCdzIHN0YXRlIHByb3BlcnR5LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFVJXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQG1ldGhvZCBfb25FZGl0b3JJbnRlcmFjdGlvblxuXHQgKiBAcGFyYW0ge1N5bnRldGljRXZlbnR9IGV2ZW50IFRoZSBwcm92aWRlZCBldmVudFxuXHQgKi9cblx0X29uRWRpdG9ySW50ZXJhY3Rpb24oZXZlbnQpIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGVkaXRvckV2ZW50OiBldmVudCxcblx0XHRcdGhpZGRlbjogZmFsc2UsXG5cdFx0XHRpdGVtRXhjbHVzaXZlOiBudWxsLFxuXHRcdFx0c2VsZWN0aW9uRGF0YTogZXZlbnQuZGF0YS5zZWxlY3Rpb25EYXRhLFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZvY3VzZXMgb24gdGhlIGFjdGl2ZSB0b29sYmFyIHdoZW4gdGhlIGNvbWJpbmF0aW9uIEFMVCtGMTAgaXMgcHJlc3NlZCBpbnNpZGUgdGhlIGVkaXRvci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBVSVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBtZXRob2QgX29uRWRpdG9yS2V5XG5cdCAqL1xuXHRfb25FZGl0b3JLZXkoZXZlbnQpIHtcblx0XHRjb25zdCBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuZG9tRXZlbnQuJDtcblxuXHRcdGlmIChuYXRpdmVFdmVudC5hbHRLZXkgJiYgbmF0aXZlRXZlbnQua2V5Q29kZSA9PT0gMTIxKSB7XG5cdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGUgdGFyZ2V0IHdpdGggd2hpY2ggdGhlIHVzZXIgaW50ZXJhY3RlZCBpcyBwYXJ0IG9mIGVkaXRvcidzIFVJIG9yIGl0IGlzXG5cdCAqIHRoZSBlZGl0YWJsZSBhcmVhLiBJZiBub25lIG9mIHRoZXNlLCBzZXRzIHRoZSBzdGF0ZSBvZiBlZGl0b3IncyBVSSB0byBiZSBoaWRkZW4uXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVUlcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAbWV0aG9kIF9zZXRVSUhpZGRlblxuXHQgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHRhcmdldCBUaGUgRE9NIGVsZW1lbnQgd2l0aCB3aGljaCB1c2VyIGludGVyYWN0ZWQgbGFzdGx5LlxuXHQgKi9cblx0X3NldFVJSGlkZGVuKHRhcmdldCkge1xuXHRcdGNvbnN0IGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuXHRcdGlmIChkb21Ob2RlKSB7XG5cdFx0XHRjb25zdCBlZGl0YWJsZSA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKS5lZGl0YWJsZSgpO1xuXHRcdFx0Y29uc3QgcGFyZW50Tm9kZSA9IHRhcmdldC5wYXJlbnROb2RlO1xuXHRcdFx0Y29uc3QgdGFyZ2V0Tm9kZSA9IG5ldyBDS0VESVRPUi5kb20ubm9kZSh0YXJnZXQpO1xuXG5cdFx0XHRpZiAoIWVkaXRhYmxlKSB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGhpZGRlbjogdHJ1ZSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsZXQgcmVzID1cblx0XHRcdFx0XHRlZGl0YWJsZS4kID09PSB0YXJnZXQgfHxcblx0XHRcdFx0XHRlZGl0YWJsZS5jb250YWlucyh0YXJnZXROb2RlKSB8fFxuXHRcdFx0XHRcdG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkb21Ob2RlKS5jb250YWlucyh0YXJnZXROb2RlKTtcblxuXHRcdFx0XHRpZiAocGFyZW50Tm9kZSkge1xuXHRcdFx0XHRcdHJlcyA9IHJlcyB8fCBwYXJlbnROb2RlLmlkID09PSAnY2tpbWdyc3onO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFyZXMpIHtcblx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRcdGhpZGRlbjogdHJ1ZSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEZpcmVkIHdoZW4gY29tcG9uZW50IHVwZGF0ZXMgYW5kIHdoZW4gaXQgaXMgcmVuZGVyZWQgaW4gdGhlIERPTS5cbiAqIFRoZSBwYXlsb2FkIGNvbnNpc3RzIGZyb20gYSBgbWVzc2FnZWAgcHJvcGVydHkgY29udGFpbmluZyB0aGUgQVJJQSBtZXNzYWdlLlxuICpcbiAqIEBldmVudCBhcmlhVXBkYXRlXG4gKi9cblxuLyoqXG4gKiBGaXJlZCB3aGVuIGNvbXBvbmVudCB1cGRhdGVzLiBUaGUgcGF5bG9hZCBjb25zaXN0cyBmcm9tIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAqIHByb3BlcnRpZXM6XG4gKiAtIHByZXZQcm9wcyAtIFRoZSBwcmV2aW91cyBwcm9wZXJ0aWVzIG9mIHRoZSBjb21wb25lbnRcbiAqIC0gcHJldlN0YXRlIC0gVGhlIHByZXZpb3VzIHN0YXRlIG9mIHRoZSBjb21wb25lbnRcbiAqIC0gcHJvcHMgLSBUaGUgY3VycmVudCBwcm9wZXJ0aWVzIG9mIHRoZSBjb21wb25lbnRcbiAqIC0gc3RhdGUgLSBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29tcG9uZW50XG4gKlxuICogQGV2ZW50IGFyaWFVcGRhdGVcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBXaWRnZXRFeGNsdXNpdmUoV2lkZ2V0Rm9jdXNNYW5hZ2VyKFVJKSk7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBUb29sYmFyQWRkIGZyb20gJy4vdG9vbGJhci1hZGQuanN4JztcbmltcG9ydCBUb29sYmFyU3R5bGVzIGZyb20gJy4vdG9vbGJhci1zdHlsZXMuanN4JztcblxuZXhwb3J0IGRlZmF1bHQge1xuXHRbVG9vbGJhckFkZC5rZXldOiBUb29sYmFyQWRkLFxuXHRbVG9vbGJhclN0eWxlcy5rZXldOiBUb29sYmFyU3R5bGVzLFxufTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBUb29sYmFyQnV0dG9ucyBmcm9tICcuLi9iYXNlL3Rvb2xiYXItYnV0dG9ucyc7XG5pbXBvcnQgV2lkZ2V0RHJvcGRvd24gZnJvbSAnLi4vYmFzZS93aWRnZXQtZHJvcGRvd24nO1xuaW1wb3J0IFdpZGdldEV4Y2x1c2l2ZSBmcm9tICcuLi9iYXNlL3dpZGdldC1leGNsdXNpdmUnO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyJztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4uL2J1dHRvbnMvYnV0dG9uLWljb24uanN4JztcblxuY29uc3QgUE9TSVRJT05fTEVGVCA9IDE7XG5jb25zdCBQT1NJVElPTl9SSUdIVCA9IDI7XG5cbi8qKlxuICogVGhlIFRvb2xiYXJBZGQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgYWRkaW5nIGNvbnRlbnQgdG8gdGhlIGVkaXRvci5cbiAqXG4gKiBAY2xhc3MgVG9vbGJhckFkZFxuICogQHVzZXMgVG9vbGJhckJ1dHRvbnNcbiAqIEB1c2VzIFdpZGdldERyb3Bkb3duXG4gKiBAdXNlcyBXaWRnZXRFeGNsdXNpdmVcbiAqIEB1c2VzIFdpZGdldEZvY3VzTWFuYWdlclxuICovXG5jbGFzcyBUb29sYmFyQWRkIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdHRoaXMuc3RhdGUgPSB7fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgb25seSBvbiB0aGUgY2xpZW50IChub3Qgb24gdGhlIHNlcnZlciksXG5cdCAqIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG5cdCAqL1xuXHRjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHR0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50J3MgdXBkYXRlcyBhcmUgZmx1c2hlZCB0byB0aGUgRE9NLlxuXHQgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuXHQgKiBAbWV0aG9kIGNvbXBvbmVudERpZFVwZGF0ZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gcHJldlByb3BzIFRoZSBwcmV2aW91cyBzdGF0ZSBvZiB0aGUgY29tcG9uZW50J3MgcHJvcGVydGllcy5cblx0ICogQHBhcmFtIHtPYmplY3R9IHByZXZTdGF0ZSBDb21wb25lbnQncyBwcmV2aW91cyBzdGF0ZS5cblx0ICovXG5cdGNvbXBvbmVudERpZFVwZGF0ZShfcHJldlByb3BzLCBfcHJldlN0YXRlKSB7XG5cdFx0dGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcblxuXHRcdC8vIEluIGNhc2Ugb2YgZXhjbHVzaXZlIHJlbmRlcmluZywgZm9jdXMgdGhlIGZpcnN0IGRlc2NlbmRhbnQgKGJ1dHRvbilcblx0XHQvLyBzbyB0aGUgdXNlciB3aWxsIGJlIGFibGUgdG8gc3RhcnQgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgYnV0dG9ucyBpbW1lZGlhdGVseS5cblx0XHRpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcblx0XHRcdHRoaXMuZm9jdXMoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBidXR0b25zIGZvciBhZGRpbmcgY29udGVudCBvciBoaWRlcyB0aGUgdG9vbGJhclxuXHQgKiBpZiB1c2VyIGludGVyYWN0ZWQgd2l0aCBhIG5vbi1lZGl0YWJsZSBlbGVtZW50LlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcblx0ICogQG1ldGhvZCByZW5kZXJcblx0ICogQHJldHVybiB7T2JqZWN0fG51bGx9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cblx0ICovXG5cdHJlbmRlcigpIHtcblx0XHQvLyBTb21lIG9wZXJhdGlvbnMgc3VjaCBhcyBgcmVxdWVzdEV4Y2x1c2l2ZWAgbWF5IGZvcmNlIGVkaXRvciB0byBibHVyIHdoaWNoIHdpbGxcblx0XHQvLyBpbnZhbGlkYXRlIHRoZSBgcHJvcHMuZWRpdG9yRXZlbnRgIHN0b3JlZCB2YWx1ZSwgd2l0aG91dCBjYXVzaW5nIGEgYHByb3BzYCBjaGFuZ2UuXG5cdFx0Ly8gRm9yIGV4YW1wbGUsIGlmIHRoZSBlZGl0b3IgaXMgZW1wdHksIGBhZV9wbGFjZWhvbGRlcmAgcGx1Z2luIHdpbGwgcmVtb3ZlXG5cdFx0Ly8gdGhlIHRhcmdldCBmcm9tIHRoZSBET00gYW5kIHdpbGwgcHJldmVudCBgYWRkYCB0b29sYmFyIGZyb20gcmVuZGVyaW5nLlxuXHRcdC8vXG5cdFx0Ly8gSXQgc2hvdWxkIGJlIHNhZmUgdG8gYXNzdW1lIHRoYXQgaWYgeW91IGhhdmUgYmVlbiBhYmxlIHRvIHJlbmRlciB0aGUgdG9vbGJhclxuXHRcdC8vIGFuZCByZXF1ZXN0IHRoZSBleGNsdXNpdmUgbW9kZSwgdGhlbiByZW5kZXJpbmcgbWlnaHQgYmUga2VwdCB1bnRpbCB0aGUgZXhjbHVzaXZlIG1vZGUgaXMgbGVmdC5cblx0XHRpZiAoXG5cdFx0XHQhdGhpcy5zdGF0ZS5pdGVtRXhjbHVzaXZlICYmXG5cdFx0XHR0aGlzLnByb3BzLmVkaXRvckV2ZW50ICYmXG5cdFx0XHR0aGlzLnByb3BzLmVkaXRvckV2ZW50LmRhdGEubmF0aXZlRXZlbnQudGFyZ2V0ICYmXG5cdFx0XHQhdGhpcy5wcm9wcy5lZGl0b3JFdmVudC5kYXRhLm5hdGl2ZUV2ZW50LnRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYnV0dG9ucyA9IHRoaXMuX2dldEJ1dHRvbnMoKTtcblx0XHRjb25zdCBjbGFzc05hbWUgPSB0aGlzLl9nZXRUb29sYmFyQ2xhc3NOYW1lKCk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdlxuXHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmFkZH1cblx0XHRcdFx0Y2xhc3NOYW1lPXtjbGFzc05hbWV9XG5cdFx0XHRcdGRhdGEtdGFiaW5kZXg9e3RoaXMucHJvcHMuY29uZmlnLnRhYkluZGV4IHx8IDB9XG5cdFx0XHRcdG9uRm9jdXM9e3RoaXMuZm9jdXMuYmluZCh0aGlzKX1cblx0XHRcdFx0b25LZXlEb3duPXt0aGlzLmhhbmRsZUtleS5iaW5kKHRoaXMpfVxuXHRcdFx0XHRyb2xlPVwidG9vbGJhclwiXG5cdFx0XHRcdHRhYkluZGV4PVwiLTFcIj5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXJcIj57YnV0dG9uc308L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIGxpc3Qgb2YgYnV0dG9ucyB0aGF0IHdpbGwgZXZlbnR1YWxseSByZW5kZXIgdG8gSFRNTC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBUb29sYmFyQWRkXG5cdCAqIEBtZXRob2QgX2dldEJ1dHRvbnNcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBidXR0b25zIHdoaWNoIGhhdmUgdG8gYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRfZ2V0QnV0dG9ucygpIHtcblx0XHRsZXQgYnV0dG9ucztcblxuXHRcdGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSkge1xuXHRcdFx0YnV0dG9ucyA9IHRoaXMuZ2V0VG9vbGJhckJ1dHRvbnModGhpcy5wcm9wcy5jb25maWcuYnV0dG9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEgJiYgdGhpcy5wcm9wcy5zZWxlY3Rpb25EYXRhLnJlZ2lvbikge1xuXHRcdFx0XHRidXR0b25zID0gKFxuXHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWRkfVxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYWUtYnV0dG9uIGFlLWJ1dHRvbi1hZGRcIlxuXHRcdFx0XHRcdFx0b25DbGljaz17dGhpcy5wcm9wcy5yZXF1ZXN0RXhjbHVzaXZlLmJpbmQoXG5cdFx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRcdFRvb2xiYXJBZGQua2V5XG5cdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0dGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWRkfT5cblx0XHRcdFx0XHRcdDxCdXR0b25JY29uIHN5bWJvbD1cInBsdXNcIiAvPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBidXR0b25zO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGNsYXNzIG5hbWUgb2YgdGhlIHRvb2xiYXIgaW4gY2FzZSBvZiBib3RoIGV4Y2x1c2l2ZSBhbmQgbm9ybWFsIG1vZGUuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuXHQgKiBAbWV0aG9kIF9nZXRUb29sYmFyQ2xhc3NOYW1lXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7U3RyaW5nfSBUaGUgY2xhc3MgbmFtZSB3aGljaCBoYXZlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIERPTSBlbGVtZW50LlxuXHQgKi9cblx0X2dldFRvb2xiYXJDbGFzc05hbWUoKSB7XG5cdFx0bGV0IGNzc0NsYXNzID0gJ2FlLXRvb2xiYXItYWRkJztcblxuXHRcdGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSkge1xuXHRcdFx0Y3NzQ2xhc3MgPSAnYWUtdG9vbGJhciAnICsgdGhpcy5nZXRBcnJvd0JveENsYXNzZXMoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY3NzQ2xhc3M7XG5cdH1cblxuXHQvKipcblx0ICogQ2FsY3VsYXRlcyBhbmQgc2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHRvb2xiYXIgaW4gZXhjbHVzaXZlIG9yIG5vcm1hbCBtb2RlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcblx0ICogQG1ldGhvZCBfdXBkYXRlUG9zaXRpb25cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X3VwZGF0ZVBvc2l0aW9uKCkge1xuXHRcdGxldCByZWdpb247XG5cblx0XHQvLyBJZiBjb21wb25lbnQgaXMgbm90IG1vdW50ZWQsIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG9cblx0XHRpZiAoIVJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucHJvcHMucmVuZGVyRXhjbHVzaXZlKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG5cdFx0XHR0aGlzLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uRGF0YSkge1xuXHRcdFx0XHRyZWdpb24gPSB0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEucmVnaW9uO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocmVnaW9uKSB7XG5cdFx0XHRcdGNvbnN0IGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuXHRcdFx0XHRjb25zdCBkb21FbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRvbU5vZGUpO1xuXG5cdFx0XHRcdGNvbnN0IHN0YXJ0UmVjdCA9IHJlZ2lvbi5zdGFydFJlY3QgfHwgcmVnaW9uO1xuXG5cdFx0XHRcdGNvbnN0IG5hdGl2ZUVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdFx0XHRjb25zdCBjbGllbnRSZWN0ID0gbmF0aXZlRWRpdG9yLmVkaXRhYmxlKCkuZ2V0Q2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdGxldCBvZmZzZXRMZWZ0O1xuXG5cdFx0XHRcdGNvbnN0IHBvc2l0aW9uID1cblx0XHRcdFx0XHR0aGlzLnByb3BzLmNvbmZpZy5wb3NpdGlvbiB8fCB0aGlzLnByb3BzLnBvc2l0aW9uO1xuXG5cdFx0XHRcdGlmIChwb3NpdGlvbiA9PT0gUE9TSVRJT05fTEVGVCkge1xuXHRcdFx0XHRcdG9mZnNldExlZnQgPVxuXHRcdFx0XHRcdFx0Y2xpZW50UmVjdC5sZWZ0IC1cblx0XHRcdFx0XHRcdGRvbU5vZGUub2Zmc2V0V2lkdGggLVxuXHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5ndXR0ZXJFeGNsdXNpdmUubGVmdCArXG5cdFx0XHRcdFx0XHQncHgnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG9mZnNldExlZnQgPVxuXHRcdFx0XHRcdFx0Y2xpZW50UmVjdC5yaWdodCArXG5cdFx0XHRcdFx0XHR0aGlzLnByb3BzLmd1dHRlckV4Y2x1c2l2ZS5sZWZ0ICtcblx0XHRcdFx0XHRcdCdweCc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkb21Ob2RlLnN0eWxlLmxlZnQgPSBvZmZzZXRMZWZ0O1xuXG5cdFx0XHRcdGRvbU5vZGUuc3R5bGUudG9wID1cblx0XHRcdFx0XHRNYXRoLmZsb29yKChyZWdpb24uYm90dG9tICsgcmVnaW9uLnRvcCkgLyAyKSArICdweCc7XG5cblx0XHRcdFx0Y29uc3QgdWlOb2RlID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ3VpTm9kZScpO1xuXG5cdFx0XHRcdGNvbnN0IHNjcm9sbFRvcCA9IHVpTm9kZSA/IHVpTm9kZS5zY3JvbGxUb3AgOiAwO1xuXG5cdFx0XHRcdGlmIChuYXRpdmVFZGl0b3IuZWxlbWVudC5nZXRTdHlsZSgnb3ZlcmZsb3cnKSAhPT0gJ2F1dG8nKSB7XG5cdFx0XHRcdFx0ZG9tTm9kZS5zdHlsZS50b3AgPVxuXHRcdFx0XHRcdFx0TWF0aC5mbG9vcihcblx0XHRcdFx0XHRcdFx0cmVnaW9uLnRvcCAtXG5cdFx0XHRcdFx0XHRcdFx0ZG9tTm9kZS5vZmZzZXRIZWlnaHQgLyAyICtcblx0XHRcdFx0XHRcdFx0XHRzdGFydFJlY3QuaGVpZ2h0IC8gMiArXG5cdFx0XHRcdFx0XHRcdFx0c2Nyb2xsVG9wXG5cdFx0XHRcdFx0XHQpICsgJ3B4Jztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkb21Ob2RlLnN0eWxlLnRvcCA9XG5cdFx0XHRcdFx0XHRNYXRoLmZsb29yKFxuXHRcdFx0XHRcdFx0XHRuYXRpdmVFZGl0b3IuZWxlbWVudC4kLm9mZnNldFRvcCArXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnRSZWN0LmhlaWdodCAvIDIgLVxuXHRcdFx0XHRcdFx0XHRcdGRvbU5vZGUub2Zmc2V0SGVpZ2h0IC8gMlxuXHRcdFx0XHRcdFx0KSArICdweCc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkb21Ob2RlLnN0eWxlLm9wYWNpdHkgPSAxO1xuXG5cdFx0XHRcdGRvbUVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2FlLWFycm93LWJveCcpO1xuXG5cdFx0XHRcdHRoaXMuY2FuY2VsQW5pbWF0aW9uKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgYWRkXG4gKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5Ub29sYmFyQWRkLmtleSA9ICdhZGQnO1xuXG4vKipcbiAqIERlZmluZXMgdGhlIGNvbnN0YW50IGZvciBwb3NpdGlvbmluZyB0aGUgVG9vbGJhciBvbiBsZWZ0IG9mIHRoZSBlZGl0YWJsZSBhcmVhLlxuICpcbiAqIEBkZWZhdWx0IDFcbiAqIEBtZW1iZXJvZiBUb29sYmFyQWRkXG4gKiBAcHJvcGVydHkge1N0cmluZ30gbGVmdFxuICogQHN0YXRpY1xuICovXG5Ub29sYmFyQWRkLmxlZnQgPSBQT1NJVElPTl9MRUZUO1xuXG4vKipcbiAqIERlZmluZXMgdGhlIGNvbnN0YW50IGZvciBwb3NpdGlvbmluZyB0aGUgVG9vbGJhciBvbiByaWdodCBvZiB0aGUgZWRpdGFibGUgYXJlYS5cbiAqXG4gKiBAZGVmYXVsdCAyXG4gKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuICogQHByb3BlcnR5IHtTdHJpbmd9IHJpZ2h0XG4gKiBAc3RhdGljXG4gKi9cblRvb2xiYXJBZGQucmlnaHQgPSBQT1NJVElPTl9SSUdIVDtcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBUb29sYmFyQWRkXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5Ub29sYmFyQWRkLmRlZmF1bHRQcm9wcyA9IHtcblx0Y2lyY3VsYXI6IHRydWUsXG5cdGRlc2NlbmRhbnRzOiAnLmFlLWJ1dHRvbicsXG5cdGd1dHRlckV4Y2x1c2l2ZToge1xuXHRcdGxlZnQ6IDEwLFxuXHRcdHRvcDogMCxcblx0fSxcblx0a2V5czoge1xuXHRcdGRpc21pc3M6IFsyN10sXG5cdFx0bmV4dDogWzM5LCA0MF0sXG5cdFx0cHJldjogWzM3LCAzOF0sXG5cdH0sXG5cdHBvc2l0aW9uOiBQT1NJVElPTl9MRUZULFxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0RHJvcGRvd24oXG5cdFdpZGdldEV4Y2x1c2l2ZShXaWRnZXRGb2N1c01hbmFnZXIoVG9vbGJhckJ1dHRvbnMoVG9vbGJhckFkZCkpKVxuKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgRWRpdG9yQ29udGV4dCBmcm9tICcuLi8uLi9hZGFwdGVyL2VkaXRvci1jb250ZXh0JztcbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nJztcbmltcG9ydCBUb29sYmFyQnV0dG9ucyBmcm9tICcuLi9iYXNlL3Rvb2xiYXItYnV0dG9ucyc7XG5pbXBvcnQgV2lkZ2V0RHJvcGRvd24gZnJvbSAnLi4vYmFzZS93aWRnZXQtZHJvcGRvd24nO1xuaW1wb3J0IFdpZGdldEV4Y2x1c2l2ZSBmcm9tICcuLi9iYXNlL3dpZGdldC1leGNsdXNpdmUnO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyJztcblxuLyoqXG4gKiBUaGUgVG9vbGJhclN0eWxlcyBjbGFzcyBob3N0cyB0aGUgYnV0dG9ucyBmb3Igc3R5bGluZyBhIHRleHQgc2VsZWN0aW9uLlxuICpcbiAqIEBjbGFzcyBUb29sYmFyU3R5bGVzXG4gKiBAdXNlcyBUb29sYmFyQnV0dG9uc1xuICogQHVzZXMgV2lkZ2V0RHJvcGRvd25cbiAqIEB1c2VzIFdpZGdldEV4Y2x1c2l2ZVxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIFRvb2xiYXJTdHlsZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRzdGF0aWMgY29udGV4dFR5cGUgPSBFZGl0b3JDb250ZXh0O1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXG5cdFx0dGhpcy5zdGF0ZSA9IHt9O1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQgKG5vdCBvbiB0aGUgc2VydmVyKSxcblx0ICogaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcblx0ICovXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG5cdH1cblxuXHQvKipcblx0ICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQncyB1cGRhdGVzIGFyZSBmbHVzaGVkIHRvIHRoZSBET00uXG5cdCAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG5cdCAqIEBtZXRob2QgY29tcG9uZW50RGlkVXBkYXRlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2UHJvcHMgVGhlIHByZXZpb3VzIHN0YXRlIG9mIHRoZSBjb21wb25lbnQncyBwcm9wZXJ0aWVzLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gcHJldlN0YXRlIENvbXBvbmVudCdzIHByZXZpb3VzIHN0YXRlLlxuXHQgKi9cblx0Y29tcG9uZW50RGlkVXBkYXRlKF9wcmV2UHJvcHMsIF9wcmV2U3RhdGUpIHtcblx0XHR0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgYnV0dG9ucyBmb3IgYWRkaW5nIGNvbnRlbnQgb3IgaGlkZXMgdGhlIHRvb2xiYXJcblx0ICogaWYgdXNlciBpbnRlcmFjdGVkIHdpdGggYSBub24tZWRpdGFibGUgZWxlbWVudC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG5cdCAqIEBtZXRob2QgcmVuZGVyXG5cdCAqIEByZXR1cm4ge09iamVjdHxudWxsfSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgY3VycmVudFNlbGVjdGlvbiA9IHRoaXMuX2dldEN1cnJlbnRTZWxlY3Rpb24oKTtcblxuXHRcdGlmIChjdXJyZW50U2VsZWN0aW9uKSB7XG5cdFx0XHRjb25zdCBnZXRBcnJvd0JveENsYXNzZXNGbiA9IHRoaXMuX2dldFNlbGVjdGlvbkZ1bmN0aW9uKFxuXHRcdFx0XHRjdXJyZW50U2VsZWN0aW9uLmdldEFycm93Qm94Q2xhc3Nlc1xuXHRcdFx0KTtcblx0XHRcdGxldCBhcnJvd0JveENsYXNzZXM7XG5cblx0XHRcdGlmIChnZXRBcnJvd0JveENsYXNzZXNGbikge1xuXHRcdFx0XHRhcnJvd0JveENsYXNzZXMgPSBnZXRBcnJvd0JveENsYXNzZXNGbigpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXJyb3dCb3hDbGFzc2VzID0gdGhpcy5nZXRBcnJvd0JveENsYXNzZXMoKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgY3NzQ2xhc3NlcyA9ICdhZS10b29sYmFyLXN0eWxlcyAnICsgYXJyb3dCb3hDbGFzc2VzO1xuXG5cdFx0XHRsZXQgYnV0dG9ucyA9IGN1cnJlbnRTZWxlY3Rpb24uYnV0dG9ucztcblxuXHRcdFx0aWYgKHR5cGVvZiBidXR0b25zID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShidXR0b25zKSkge1xuXHRcdFx0XHRidXR0b25zID1cblx0XHRcdFx0XHRidXR0b25zW3RoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCdtb2RlJyldIHx8XG5cdFx0XHRcdFx0YnV0dG9uc1snc2ltcGxlJ107XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGJ1dHRvbnNHcm91cCA9IHRoaXMuZ2V0VG9vbGJhckJ1dHRvbkdyb3VwcyhidXR0b25zLCB7XG5cdFx0XHRcdG1hbnVhbFNlbGVjdGlvbjogdGhpcy5wcm9wcy5lZGl0b3JFdmVudFxuXHRcdFx0XHRcdD8gdGhpcy5wcm9wcy5lZGl0b3JFdmVudC5kYXRhLm1hbnVhbFNlbGVjdGlvblxuXHRcdFx0XHRcdDogbnVsbCxcblx0XHRcdFx0c2VsZWN0aW9uVHlwZTogY3VycmVudFNlbGVjdGlvbi5uYW1lLFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGhhc0dyb3VwcyA9XG5cdFx0XHRcdGJ1dHRvbnNHcm91cC5maWx0ZXIoYnV0dG9uID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gQXJyYXkuaXNBcnJheShidXR0b24pO1xuXHRcdFx0XHR9KS5sZW5ndGggPiAwO1xuXG5cdFx0XHRsZXQgY2xhc3NOYW1lID0gJ2FlLWNvbnRhaW5lcic7XG5cblx0XHRcdGlmIChoYXNHcm91cHMpIHtcblx0XHRcdFx0Y2xhc3NOYW1lICs9ICcgYWUtY29udGFpbmVyLWNvbHVtbic7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnN0eWxlc31cblx0XHRcdFx0XHRjbGFzc05hbWU9e2Nzc0NsYXNzZXN9XG5cdFx0XHRcdFx0ZGF0YS10YWJpbmRleD17dGhpcy5wcm9wcy5jb25maWcudGFiSW5kZXggfHwgMH1cblx0XHRcdFx0XHRvbkZvY3VzPXt0aGlzLmZvY3VzLmJpbmQodGhpcyl9XG5cdFx0XHRcdFx0b25LZXlEb3duPXt0aGlzLmhhbmRsZUtleS5iaW5kKHRoaXMpfVxuXHRcdFx0XHRcdHJvbGU9XCJ0b29sYmFyXCJcblx0XHRcdFx0XHR0YWJJbmRleD1cIi0xXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG5cdFx0XHRcdFx0XHR7YnV0dG9uc0dyb3VwLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLXJvd1wiIGtleT17aW5kZXh9PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7dmFsdWUubWFwKGJ1dHRvbiA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGJ1dHRvbjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSl9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSl9XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSBhIGZ1bmN0aW9uIGZyb20gU3RyaW5nLiBJdCBjb252ZXJ0cyBhIGZ1bGx5IHF1YWxpZmllZCBzdHJpbmcgaW50byB0aGUgbWFwcGVkIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFRvb2xiYXJTdHlsZXNcblx0ICogQG1ldGhvZCBfZ2V0U2VsZWN0aW9uRnVuY3Rpb25cblx0ICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IHNlbGVjdGlvbkZuIEEgZnVuY3Rpb24sIG9yIGEgZnVsbHkgcXVhbGlmaWVkIHN0cmluZyBwb2ludGluZyB0byB0aGUgZGVzaXJlZCBvbmUgKGUuZy4gJ0FsbG95RWRpdG9yLlNlbGVjdGlvblRlc3QuaW1hZ2UnKS5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIG1hcHBlZCBmdW5jdGlvbi5cblx0ICovXG5cdF9nZXRTZWxlY3Rpb25GdW5jdGlvbihzZWxlY3Rpb25Gbikge1xuXHRcdGxldCBzZWxlY3Rpb25GdW5jdGlvbjtcblxuXHRcdGlmIChMYW5nLmlzRnVuY3Rpb24oc2VsZWN0aW9uRm4pKSB7XG5cdFx0XHRzZWxlY3Rpb25GdW5jdGlvbiA9IHNlbGVjdGlvbkZuO1xuXHRcdH0gZWxzZSBpZiAoTGFuZy5pc1N0cmluZyhzZWxlY3Rpb25GbikpIHtcblx0XHRcdGNvbnN0IHBhcnRzID0gc2VsZWN0aW9uRm4uc3BsaXQoJy4nKTtcblx0XHRcdGxldCBjdXJyZW50TWVtYmVyID0gd2luZG93O1xuXHRcdFx0bGV0IHByb3BlcnR5ID0gcGFydHMuc2hpZnQoKTtcblxuXHRcdFx0d2hpbGUgKFxuXHRcdFx0XHRwcm9wZXJ0eSAmJlxuXHRcdFx0XHRMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXIpICYmXG5cdFx0XHRcdExhbmcuaXNPYmplY3QoY3VycmVudE1lbWJlcltwcm9wZXJ0eV0pXG5cdFx0XHQpIHtcblx0XHRcdFx0Y3VycmVudE1lbWJlciA9IGN1cnJlbnRNZW1iZXJbcHJvcGVydHldO1xuXHRcdFx0XHRwcm9wZXJ0eSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChMYW5nLmlzRnVuY3Rpb24oY3VycmVudE1lbWJlcikpIHtcblx0XHRcdFx0c2VsZWN0aW9uRnVuY3Rpb24gPSBjdXJyZW50TWVtYmVyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBzZWxlY3Rpb25GdW5jdGlvbjtcblx0fVxuXG5cdC8qKlxuXHQgKiBBbmFseXplcyB0aGUgY3VycmVudCBlZGl0b3Igc2VsZWN0aW9uIGFuZCByZXR1cm5zIHRoZSBzZWxlY3Rpb24gY29uZmlndXJhdGlvbiB0aGF0IG1hdGNoZXMuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgVG9vbGJhclN0eWxlc1xuXHQgKiBAbWV0aG9kIF9nZXRDdXJyZW50U2VsZWN0aW9uXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgbWF0Y2hlZCBzZWxlY3Rpb24gY29uZmlndXJhdGlvbi5cblx0ICovXG5cdF9nZXRDdXJyZW50U2VsZWN0aW9uKCkge1xuXHRcdGNvbnN0IGV2ZW50UGF5bG9hZCA9IHRoaXMucHJvcHMuZWRpdG9yRXZlbnRcblx0XHRcdD8gdGhpcy5wcm9wcy5lZGl0b3JFdmVudC5kYXRhXG5cdFx0XHQ6IG51bGw7XG5cdFx0bGV0IHNlbGVjdGlvbjtcblxuXHRcdGlmIChldmVudFBheWxvYWQpIHtcblx0XHRcdHRoaXMucHJvcHMuY29uZmlnLnNlbGVjdGlvbnMuc29tZShmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHRcdGNvbnN0IHRlc3RGbiA9IHRoaXMuX2dldFNlbGVjdGlvbkZ1bmN0aW9uKGl0ZW0udGVzdCk7XG5cdFx0XHRcdGxldCByZXN1bHQ7XG5cblx0XHRcdFx0aWYgKHRlc3RGbikge1xuXHRcdFx0XHRcdHJlc3VsdCA9XG5cdFx0XHRcdFx0XHRldmVudFBheWxvYWQubWFudWFsU2VsZWN0aW9uID09PSBpdGVtLm5hbWUgfHxcblx0XHRcdFx0XHRcdHRlc3RGbih7XG5cdFx0XHRcdFx0XHRcdGRhdGE6IGV2ZW50UGF5bG9hZCxcblx0XHRcdFx0XHRcdFx0ZWRpdG9yOiB0aGlzLmNvbnRleHQuZWRpdG9yLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAocmVzdWx0KSB7XG5cdFx0XHRcdFx0c2VsZWN0aW9uID0gaXRlbTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9LCB0aGlzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc2VsZWN0aW9uO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGN1bGF0ZXMgYW5kIHNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0b29sYmFyLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIFRvb2xiYXJTdHlsZXNcblx0ICogQG1ldGhvZCBfdXBkYXRlUG9zaXRpb25cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X3VwZGF0ZVBvc2l0aW9uKCkge1xuXHRcdC8vIElmIGNvbXBvbmVudCBpcyBub3QgbW91bnRlZCwgdGhlcmUgaXMgbm90aGluZyB0byBkb1xuXHRcdGlmICghUmVhY3RET00uZmluZERPTU5vZGUodGhpcykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBjdXJyZW50U2VsZWN0aW9uID0gdGhpcy5fZ2V0Q3VycmVudFNlbGVjdGlvbigpO1xuXHRcdGxldCByZXN1bHQ7XG5cblx0XHQvLyBJZiBjdXJyZW50IHNlbGVjdGlvbiBoYXMgYSBmdW5jdGlvbiBjYWxsZWQgYHNldFBvc2l0aW9uYCwgY2FsbCBpdFxuXHRcdC8vIGFuZCBjaGVjayB0aGUgcmV0dXJuZWQgdmFsdWUuIElmIGZhbHNlLCBmYWxsYmFjayB0byB0aGUgZGVmYXVsdCBwb3NpdGlvbmluZyBsb2dpYy5cblx0XHRpZiAoY3VycmVudFNlbGVjdGlvbikge1xuXHRcdFx0Y29uc3Qgc2V0UG9zaXRpb25GbiA9IHRoaXMuX2dldFNlbGVjdGlvbkZ1bmN0aW9uKFxuXHRcdFx0XHRjdXJyZW50U2VsZWN0aW9uLnNldFBvc2l0aW9uXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoc2V0UG9zaXRpb25Gbikge1xuXHRcdFx0XHRyZXN1bHQgPSBzZXRQb3NpdGlvbkZuLmNhbGwodGhpcywge1xuXHRcdFx0XHRcdGVkaXRvcjogdGhpcy5jb250ZXh0LmVkaXRvcixcblx0XHRcdFx0XHRlZGl0b3JFdmVudDogdGhpcy5wcm9wcy5lZGl0b3JFdmVudCxcblx0XHRcdFx0XHRzZWxlY3Rpb25EYXRhOiB0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICghcmVzdWx0KSB7XG5cdFx0XHR0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG5cdFx0XHR0aGlzLnNob3coKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5Ub29sYmFyU3R5bGVzLmRlZmF1bHRQcm9wcyA9IHtcblx0Y2lyY3VsYXI6IHRydWUsXG5cdGRlc2NlbmRhbnRzOiAnLmFlLWlucHV0LCAuYWUtYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgLmFlLXRvb2xiYXItZWxlbWVudCcsXG5cdGtleXM6IHtcblx0XHRkaXNtaXNzOiBbMjddLFxuXHRcdG5leHQ6IFszOSwgNDBdLFxuXHRcdHByZXY6IFszNywgMzhdLFxuXHR9LFxufTtcblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBzdHlsZXNcbiAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cblRvb2xiYXJTdHlsZXMua2V5ID0gJ3N0eWxlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldERyb3Bkb3duKFxuXHRXaWRnZXRFeGNsdXNpdmUoV2lkZ2V0Rm9jdXNNYW5hZ2VyKFRvb2xiYXJCdXR0b25zKFRvb2xiYXJTdHlsZXMpKSlcbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2J1dHRvbmJyaWRnZScpKSB7XG5cdGNvbnN0IEJVVFRPTl9ERUZTID0ge307XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlcyBhIEJ1dHRvbkJyaWRnZSBSZWFjdCBjbGFzcyBmb3IgYSBnaXZlbiBidXR0b24gZGVmaW5pdGlvbiBpZiBpdCBoYXMgbm90IGJlZW5cblx0ICogYWxyZWFkeSBjcmVhdGVkIGJhc2VkIG9uIHRoZSBidXR0b24gbmFtZSBhbmQgZGVmaW5pdGlvbi5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQG1ldGhvZCBnZW5lcmF0ZUJ1dHRvbkJyaWRnZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gYnV0dG9uTmFtZSBUaGUgYnV0dG9uJ3MgbmFtZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gYnV0dG9uRGVmaW5pdGlvbiBUaGUgYnV0dG9uJ3MgZGVmaW5pdGlvblxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgb3IgYWxyZWFkeSBleGlzdGluZyBSZWFjdCBCdXR0b24gQ2xhc3Ncblx0ICovXG5cblx0ZnVuY3Rpb24gZ2VuZXJhdGVCdXR0b25CcmlkZ2UoYnV0dG9uTmFtZSwgYnV0dG9uRGVmaW5pdGlvbiwgZWRpdG9yKSB7XG5cdFx0bGV0IEJ1dHRvbkJyaWRnZSA9IEFsbG95RWRpdG9yLkJ1dHRvbnNbYnV0dG9uTmFtZV07XG5cblx0XHRCVVRUT05fREVGU1tlZGl0b3IubmFtZV0gPSBCVVRUT05fREVGU1tlZGl0b3IubmFtZV0gfHwge307XG5cdFx0QlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdID1cblx0XHRcdEJVVFRPTl9ERUZTW2VkaXRvci5uYW1lXVtidXR0b25OYW1lXSB8fCBidXR0b25EZWZpbml0aW9uO1xuXG5cdFx0aWYgKCFCdXR0b25CcmlkZ2UpIHtcblx0XHRcdEJ1dHRvbkJyaWRnZSA9IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0XHRcdFx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRcdFx0XHRzdGF0aWMgZGlzcGxheU5hbWUgPSBidXR0b25OYW1lO1xuXG5cdFx0XHRcdHN0YXRpYyBrZXkgPSBidXR0b25OYW1lO1xuXG5cdFx0XHRcdC8vIEFQSSBub3QgeWV0IGltcGxlbWVudGVkIGluc2lkZSB0aGUgYnV0dG9uXG5cdFx0XHRcdC8vIGJyaWRnZS4gQnkgbW9ja2luZyB0aGUgdW5zdXBwb3J0ZWQgbWV0aG9kLCB3ZSBwcmV2ZW50XG5cdFx0XHRcdC8vIHBsdWdpbnMgZnJvbSBjcmFzaGluZyBpZiB0aGV5IG1ha2UgdXNlIG9mIGl0LlxuXHRcdFx0XHR0b0ZlYXR1cmUoKSB7fVxuXG5cdFx0XHRcdHJlbmRlcigpIHtcblx0XHRcdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdFx0XHRjb25zdCBidXR0b25DbGFzc05hbWUgPSAnYWUtYnV0dG9uIGFlLWJ1dHRvbi1icmlkZ2UnO1xuXG5cdFx0XHRcdFx0Y29uc3QgYnV0dG9uRGlzcGxheU5hbWUgPVxuXHRcdFx0XHRcdFx0QlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdLm5hbWUgfHxcblx0XHRcdFx0XHRcdEJVVFRPTl9ERUZTW2VkaXRvci5uYW1lXVtidXR0b25OYW1lXS5jb21tYW5kIHx8XG5cdFx0XHRcdFx0XHRidXR0b25OYW1lO1xuXG5cdFx0XHRcdFx0Y29uc3QgYnV0dG9uTGFiZWwgPVxuXHRcdFx0XHRcdFx0QlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdLmxhYmVsO1xuXG5cdFx0XHRcdFx0Y29uc3QgYnV0dG9uVHlwZSA9ICdidXR0b24tJyArIGJ1dHRvbkRpc3BsYXlOYW1lO1xuXG5cdFx0XHRcdFx0Y29uc3QgaWNvbkNsYXNzTmFtZSA9ICdhZS1pY29uLScgKyBidXR0b25EaXNwbGF5TmFtZTtcblxuXHRcdFx0XHRcdGNvbnN0IGljb25TdHlsZSA9IHt9O1xuXG5cdFx0XHRcdFx0Y29uc3QgY3NzU3R5bGUgPSBDS0VESVRPUi5za2luLmdldEljb25TdHlsZShcblx0XHRcdFx0XHRcdGJ1dHRvbkRpc3BsYXlOYW1lXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGlmIChjc3NTdHlsZSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgY3NzU3R5bGVQYXJ0cyA9IGNzc1N0eWxlLnNwbGl0KCc7Jyk7XG5cblx0XHRcdFx0XHRcdGljb25TdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBjc3NTdHlsZVBhcnRzWzBdLnN1YnN0cmluZyhcblx0XHRcdFx0XHRcdFx0Y3NzU3R5bGVQYXJ0c1swXS5pbmRleE9mKCc6JykgKyAxXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0aWNvblN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IGNzc1N0eWxlUGFydHNbMV0uc3Vic3RyaW5nKFxuXHRcdFx0XHRcdFx0XHRjc3NTdHlsZVBhcnRzWzFdLmluZGV4T2YoJzonKSArIDFcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRpY29uU3R5bGUuYmFja2dyb3VuZFNpemUgPSBjc3NTdHlsZVBhcnRzWzJdLnN1YnN0cmluZyhcblx0XHRcdFx0XHRcdFx0Y3NzU3R5bGVQYXJ0c1syXS5pbmRleE9mKCc6JykgKyAxXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9e2J1dHRvbkxhYmVsfVxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2J1dHRvbkNsYXNzTmFtZX1cblx0XHRcdFx0XHRcdFx0ZGF0YS10eXBlPXtidXR0b25UeXBlfVxuXHRcdFx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLl9oYW5kbGVDbGlja31cblx0XHRcdFx0XHRcdFx0dGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG5cdFx0XHRcdFx0XHRcdHRpdGxlPXtidXR0b25MYWJlbH0+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX0gc3R5bGU9e2ljb25TdHlsZX0gLz5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0XHRcdFx0Y29uc3QgYnV0dG9uQ29tbWFuZCA9XG5cdFx0XHRcdFx0XHRCVVRUT05fREVGU1tlZGl0b3IubmFtZV1bYnV0dG9uTmFtZV0uY29tbWFuZDtcblxuXHRcdFx0XHRcdGNvbnN0IGJ1dHRvbk9uQ2xpY2sgPVxuXHRcdFx0XHRcdFx0QlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdLm9uQ2xpY2s7XG5cblx0XHRcdFx0XHRpZiAoYnV0dG9uT25DbGljaykge1xuXHRcdFx0XHRcdFx0YnV0dG9uT25DbGljay5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlZGl0b3IuZXhlY0NvbW1hbmQoYnV0dG9uQ29tbWFuZCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdFx0QWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b25OYW1lXSA9IEJ1dHRvbkJyaWRnZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gQnV0dG9uQnJpZGdlO1xuXHR9XG5cblx0LyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0aWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYnV0dG9uJykpIHtcblx0XHRDS0VESVRPUi5VSV9CVVRUT04gPSAnYnV0dG9uJztcblxuXHRcdENLRURJVE9SLnBsdWdpbnMuYWRkKCdidXR0b24nLCB7fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ0tFZGl0b3IgcGx1Z2luIHRoYXQgYnJpZGdlcyB0aGUgc3VwcG9ydCBvZmZlcmVkIGJ5IENLRWRpdG9yIEJ1dHRvbiBwbHVnaW4uIEl0IHRha2VzIG92ZXIgdGhlXG5cdCAqIHJlc3BvbnNpYmlsaXR5IG9mIHJlZ2lzdGVyaW5nIGFuZCBjcmVhdGluZyBidXR0b25zIHZpYTpcblx0ICogLSBlZGl0b3IudWkuYWRkQnV0dG9uKG5hbWUsIGRlZmluaXRpb24pXG5cdCAqIC0gZWRpdG9yLnVpLmFkZChuYW1lLCBDS0VESVRPUi5VSV9CVVRUT04sIGRlZmluaXRpb24pXG5cdCAqXG5cdCAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmFlX2J1dHRvbmJyaWRnZVxuXHQgKiBAcmVxdWlyZXMgQ0tFRElUT1IucGx1Z2lucy5hZV91aWJyaWRnZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV9idXR0b25icmlkZ2UnLCB7XG5cdFx0cmVxdWlyZXM6IFsnYWVfdWlicmlkZ2UnXSxcblxuXHRcdC8qKlxuXHRcdCAqIFNldCB0aGUgYWRkIGhhbmRsZXIgZm9yIFVJX0JVVFRPTiB0byBvdXIgb3duLiBXZSBkbyB0aGlzIGluIHRoZSBpbml0IHBoYXNlIHRvIG92ZXJyaWRlXG5cdFx0ICogdGhlIG9uZSBpbiB0aGUgbmF0aXZlIHBsdWdpbiBpbiBjYXNlIGl0J3MgcHJlc2VudC5cblx0XHQgKlxuXHRcdCAqIEBtZXRob2QgaW5pdFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIENLRWRpdG9yIGluc3RhbmNlIGJlaW5nIGluaXRpYWxpemVkXG5cdFx0ICovXG5cdFx0YmVmb3JlSW5pdChlZGl0b3IpIHtcblx0XHRcdGVkaXRvci51aS5hZGRCdXR0b24gPSBmdW5jdGlvbihidXR0b25OYW1lLCBidXR0b25EZWZpbml0aW9uKSB7XG5cdFx0XHRcdHRoaXMuYWRkKGJ1dHRvbk5hbWUsIENLRURJVE9SLlVJX0JVVFRPTiwgYnV0dG9uRGVmaW5pdGlvbik7XG5cdFx0XHR9O1xuXG5cdFx0XHRlZGl0b3IudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9CVVRUT04sIHtcblx0XHRcdFx0YWRkOiBnZW5lcmF0ZUJ1dHRvbkJyaWRnZSxcblx0XHRcdFx0Y3JlYXRlKGJ1dHRvbkRlZmluaXRpb24pIHtcblx0XHRcdFx0XHRjb25zdCBidXR0b25OYW1lID1cblx0XHRcdFx0XHRcdCdidXR0b25CcmlkZ2UnICsgKChNYXRoLnJhbmRvbSgpICogMWU5KSA+Pj4gMCk7XG5cdFx0XHRcdFx0Y29uc3QgQnV0dG9uQnJpZGdlID0gZ2VuZXJhdGVCdXR0b25CcmlkZ2UoXG5cdFx0XHRcdFx0XHRidXR0b25OYW1lLFxuXHRcdFx0XHRcdFx0YnV0dG9uRGVmaW5pdGlvblxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gbmV3IEJ1dHRvbkJyaWRnZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0fSxcblx0fSk7XG59XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCAnLi9idXR0b24uanN4JztcblxuaW1wb3J0ICcuL21lbnUtYnV0dG9uLmpzeCc7XG5cbmltcG9ydCAnLi9tZW51LmpzeCc7XG5cbmltcG9ydCAnLi9wYW5lbC1tZW51LWJ1dHRvbi5qc3gnO1xuXG5pbXBvcnQgJy4vcmljaGNvbWJvLmpzeCc7XG5cbmltcG9ydCAnLi91aWJyaWRnZSc7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuaW1wb3J0IEJ1dHRvbkRyb3Bkb3duIGZyb20gJy4uL2J1dHRvbnMvYnV0dG9uLWRyb3Bkb3duLmpzeCc7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfbWVudWJ1dHRvbmJyaWRnZScpKSB7XG5cdGNvbnN0IE1FTlVCVVRUT05fREVGUyA9IHt9O1xuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZXMgYSBNZW51QnV0dG9uQnJpZGdlIFJlYWN0IGNsYXNzIGZvciBhIGdpdmVuIG1lbnVCdXR0b24gZGVmaW5pdGlvbiBpZiBpdCBoYXMgbm90IGJlZW5cblx0ICogYWxyZWFkeSBjcmVhdGVkIGJhc2VkIG9uIHRoZSBidXR0b24gbmFtZSBhbmQgZGVmaW5pdGlvbi5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQG1ldGhvZCBnZW5lcmF0ZU1lbnVCdXR0b25CcmlkZ2Vcblx0ICogQHBhcmFtIHtTdHJpbmd9IG1lbnVCdXR0b25OYW1lIFRoZSBtZW51QnV0dG9uJ3MgbmFtZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gbWVudUJ1dHRvbkRlZmluaXRpb24gVGhlIG1lbnVCdXR0b24ncyBkZWZpbml0aW9uXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGdlbmVyYXRlZCBvciBhbHJlYWR5IGV4aXN0aW5nIFJlYWN0IE1lbnVCdXR0b24gQ2xhc3Ncblx0ICovXG5cdGZ1bmN0aW9uIGdlbmVyYXRlTWVudUJ1dHRvbkJyaWRnZShcblx0XHRtZW51QnV0dG9uTmFtZSxcblx0XHRtZW51QnV0dG9uRGVmaW5pdGlvbixcblx0XHRlZGl0b3Jcblx0KSB7XG5cdFx0bGV0IE1lbnVCdXR0b25CcmlkZ2UgPSBBbGxveUVkaXRvci5CdXR0b25zW21lbnVCdXR0b25OYW1lXTtcblxuXHRcdE1FTlVCVVRUT05fREVGU1tlZGl0b3IubmFtZV0gPSBNRU5VQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdIHx8IHt9O1xuXHRcdE1FTlVCVVRUT05fREVGU1tlZGl0b3IubmFtZV1bbWVudUJ1dHRvbk5hbWVdID1cblx0XHRcdE1FTlVCVVRUT05fREVGU1tlZGl0b3IubmFtZV1bbWVudUJ1dHRvbk5hbWVdIHx8XG5cdFx0XHRtZW51QnV0dG9uRGVmaW5pdGlvbjtcblxuXHRcdGlmICghTWVudUJ1dHRvbkJyaWRnZSkge1xuXHRcdFx0TWVudUJ1dHRvbkJyaWRnZSA9IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0XHRcdFx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRcdFx0XHRzdGF0aWMgZGlzcGxheU5hbWUgPSBtZW51QnV0dG9uTmFtZTtcblxuXHRcdFx0XHRzdGF0aWMga2V5ID0gbWVudUJ1dHRvbk5hbWU7XG5cblx0XHRcdFx0Ly8gQVBJIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW5zaWRlIHRoZSBtZW51YnV0dG9uXG5cdFx0XHRcdC8vIGJyaWRnZS4gQnkgbW9ja2luZyB0aGUgdW5zdXBwb3J0ZWQgbWV0aG9kLCB3ZSBwcmV2ZW50XG5cdFx0XHRcdC8vIHBsdWdpbnMgZnJvbSBjcmFzaGluZyBpZiB0aGV5IG1ha2UgdXNlIG9mIGl0LlxuXHRcdFx0XHR0b0ZlYXR1cmUoKSB7fVxuXG5cdFx0XHRcdHJlbmRlcigpIHtcblx0XHRcdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdFx0XHRjb25zdCBwYW5lbE1lbnVCdXR0b25EaXNwbGF5TmFtZSA9XG5cdFx0XHRcdFx0XHRNRU5VQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW21lbnVCdXR0b25OYW1lXS5uYW1lIHx8XG5cdFx0XHRcdFx0XHRNRU5VQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW21lbnVCdXR0b25OYW1lXS5jb21tYW5kIHx8XG5cdFx0XHRcdFx0XHRtZW51QnV0dG9uTmFtZTtcblxuXHRcdFx0XHRcdGNvbnN0IGJ1dHRvbkNsYXNzTmFtZSA9ICdhZS1idXR0b24gYWUtYnV0dG9uLWJyaWRnZSc7XG5cblx0XHRcdFx0XHRjb25zdCBpY29uQ2xhc3NOYW1lID1cblx0XHRcdFx0XHRcdCdhZS1pY29uLScgKyBwYW5lbE1lbnVCdXR0b25EaXNwbGF5TmFtZTtcblxuXHRcdFx0XHRcdGNvbnN0IGljb25TdHlsZSA9IHt9O1xuXG5cdFx0XHRcdFx0Y29uc3QgY3NzU3R5bGUgPSBDS0VESVRPUi5za2luLmdldEljb25TdHlsZShcblx0XHRcdFx0XHRcdHBhbmVsTWVudUJ1dHRvbkRpc3BsYXlOYW1lXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGlmIChjc3NTdHlsZSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgY3NzU3R5bGVQYXJ0cyA9IGNzc1N0eWxlLnNwbGl0KCc7Jyk7XG5cblx0XHRcdFx0XHRcdGljb25TdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBjc3NTdHlsZVBhcnRzWzBdLnN1YnN0cmluZyhcblx0XHRcdFx0XHRcdFx0Y3NzU3R5bGVQYXJ0c1swXS5pbmRleE9mKCc6JykgKyAxXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0aWNvblN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IGNzc1N0eWxlUGFydHNbMV0uc3Vic3RyaW5nKFxuXHRcdFx0XHRcdFx0XHRjc3NTdHlsZVBhcnRzWzFdLmluZGV4T2YoJzonKSArIDFcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRpY29uU3R5bGUuYmFja2dyb3VuZFNpemUgPSBjc3NTdHlsZVBhcnRzWzJdLnN1YnN0cmluZyhcblx0XHRcdFx0XHRcdFx0Y3NzU3R5bGVQYXJ0c1syXS5pbmRleE9mKCc6JykgKyAxXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lciBhZS1oYXMtZHJvcGRvd25cIj5cblx0XHRcdFx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdFx0XHRcdGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZXhwYW5kZWR9XG5cdFx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17XG5cdFx0XHRcdFx0XHRcdFx0XHRNRU5VQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW21lbnVCdXR0b25OYW1lXVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQubGFiZWxcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtidXR0b25DbGFzc05hbWV9XG5cdFx0XHRcdFx0XHRcdFx0b25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPVwiY29tYm9ib3hcIlxuXHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHRcdFx0XHRcdHRpdGxlPXtcblx0XHRcdFx0XHRcdFx0XHRcdE1FTlVCVVRUT05fREVGU1tlZGl0b3IubmFtZV1bbWVudUJ1dHRvbk5hbWVdXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5sYWJlbFxuXHRcdFx0XHRcdFx0XHRcdH0+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW5cblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17aWNvbkNsYXNzTmFtZX1cblx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlPXtpY29uU3R5bGV9XG5cdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdHt0aGlzLnByb3BzLmV4cGFuZGVkICYmIChcblx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uRHJvcGRvd25cblx0XHRcdFx0XHRcdFx0XHRcdG9uRGlzbWlzcz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn0+XG5cdFx0XHRcdFx0XHRcdFx0XHR7dGhpcy5fZ2V0TWVudUl0ZW1zKCl9XG5cdFx0XHRcdFx0XHRcdFx0PC9CdXR0b25Ecm9wZG93bj5cblx0XHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfZ2V0TWVudUl0ZW1zKCkge1xuXHRcdFx0XHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0XHRcdFx0XHRjb25zdCBpdGVtcyA9IG1lbnVCdXR0b25EZWZpbml0aW9uLm9uTWVudSgpO1xuXHRcdFx0XHRcdGNvbnN0IG1lbnVJdGVtcyA9IE9iamVjdC5rZXlzKGl0ZW1zKS5tYXAoa2V5ID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IG1lbnVJdGVtID0gZWRpdG9yLmdldE1lbnVJdGVtKGtleSk7XG5cblx0XHRcdFx0XHRcdGlmICghbWVudUl0ZW0pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IG1lbnVJdGVtRGVmaW5pdGlvbiA9XG5cdFx0XHRcdFx0XHRcdG1lbnVJdGVtLmRlZmluaXRpb24gfHwgbWVudUl0ZW07XG5cdFx0XHRcdFx0XHRjb25zdCBtZW51SXRlbVN0YXRlID0gaXRlbXNba2V5XTtcblxuXHRcdFx0XHRcdFx0Y29uc3QgY2xhc3NOYW1lID1cblx0XHRcdFx0XHRcdFx0J2FlLXRvb2xiYXItZWxlbWVudCAnICtcblx0XHRcdFx0XHRcdFx0KG1lbnVJdGVtU3RhdGUgPT09IENLRURJVE9SLlRSSVNUQVRFX09OXG5cdFx0XHRcdFx0XHRcdFx0PyAnYWN0aXZlJ1xuXHRcdFx0XHRcdFx0XHRcdDogJycpO1xuXHRcdFx0XHRcdFx0Y29uc3QgZGlzYWJsZWQgPVxuXHRcdFx0XHRcdFx0XHRtZW51SXRlbVN0YXRlID09PSBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDtcblx0XHRcdFx0XHRcdGNvbnN0IG9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0aWYgKG1lbnVJdGVtRGVmaW5pdGlvbi5jb21tYW5kKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWRpdG9yLmV4ZWNDb21tYW5kKG1lbnVJdGVtRGVmaW5pdGlvbi5jb21tYW5kKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChtZW51SXRlbURlZmluaXRpb24ub25DbGljaykge1xuXHRcdFx0XHRcdFx0XHRcdG1lbnVJdGVtRGVmaW5pdGlvbi5vbkNsaWNrLmFwcGx5KFxuXHRcdFx0XHRcdFx0XHRcdFx0bWVudUl0ZW1EZWZpbml0aW9uXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0PGxpIGtleT17bWVudUl0ZW0ubmFtZX0gcm9sZT1cIm9wdGlvblwiPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzYWJsZWQ9e2Rpc2FibGVkfVxuXHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17b25DbGlja30+XG5cdFx0XHRcdFx0XHRcdFx0XHR7bWVudUl0ZW1EZWZpbml0aW9uLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHJldHVybiBtZW51SXRlbXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdEFsbG95RWRpdG9yLkJ1dHRvbnNbbWVudUJ1dHRvbk5hbWVdID0gTWVudUJ1dHRvbkJyaWRnZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gTWVudUJ1dHRvbkJyaWRnZTtcblx0fVxuXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdGlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ21lbnVidXR0b24nKSkge1xuXHRcdENLRURJVE9SLlVJX01FTlVfQlVUVE9OID0gJ21lbnVidXR0b24nO1xuXG5cdFx0Q0tFRElUT1IucGx1Z2lucy5hZGQoJ21lbnVidXR0b24nLCB7fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ0tFZGl0b3IgcGx1Z2luIHRoYXQgYnJpZGdlcyB0aGUgc3VwcG9ydCBvZmZlcmVkIGJ5IENLRWRpdG9yIE1lbnVCdXR0b24gcGx1Z2luLiBJdCB0YWtlcyBvdmVyIHRoZVxuXHQgKiByZXNwb25zaWJpbGl0eSBvZiByZWdpc3RlcmluZyBhbmQgY3JlYXRpbmcgbWVudUJ1dHRvbnMgdmlhOlxuXHQgKiAtIGVkaXRvci51aS5hZGRNZW51QnV0dG9uKG5hbWUsIGRlZmluaXRpb24pXG5cdCAqIC0gZWRpdG9yLnVpLmFkZChuYW1lLCBDS0VESVRPUi5VSV9NRU5VQlVUVE9OLCBkZWZpbml0aW9uKVxuXHQgKlxuXHQgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9tZW51YnV0dG9uYnJpZGdlXG5cdCAqIEByZXF1aXJlcyBDS0VESVRPUi5wbHVnaW5zLmFlX3VpYnJpZGdlXG5cdCAqIEByZXF1aXJlcyBDS0VESVRPUi5wbHVnaW5zLmFlX21lbnVicmlkZ2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfbWVudWJ1dHRvbmJyaWRnZScsIHtcblx0XHRyZXF1aXJlczogWydhZV91aWJyaWRnZScsICdhZV9tZW51YnJpZGdlJ10sXG5cblx0XHQvKipcblx0XHQgKiBTZXQgdGhlIGFkZCBoYW5kbGVyIGZvciBVSV9NRU5VQlVUVE9OIHRvIG91ciBvd24uIFdlIGRvIHRoaXMgaW4gdGhlIGluaXQgcGhhc2UgdG8gb3ZlcnJpZGVcblx0XHQgKiB0aGUgb25lIGluIHRoZSBuYXRpdmUgcGx1Z2luIGluIGNhc2UgaXQncyBwcmVzZW50LlxuXHRcdCAqXG5cdFx0ICogQG1ldGhvZCBpbml0XG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgQ0tFZGl0b3IgaW5zdGFuY2UgYmVpbmcgaW5pdGlhbGl6ZWRcblx0XHQgKi9cblx0XHRiZWZvcmVJbml0KGVkaXRvcikge1xuXHRcdFx0ZWRpdG9yLnVpLmFkZE1lbnVCdXR0b24gPSBmdW5jdGlvbihcblx0XHRcdFx0bWVudUJ1dHRvbk5hbWUsXG5cdFx0XHRcdG1lbnVCdXR0b25EZWZpbml0aW9uXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy5hZGQoXG5cdFx0XHRcdFx0bWVudUJ1dHRvbk5hbWUsXG5cdFx0XHRcdFx0Q0tFRElUT1IuVUlfTUVOVUJVVFRPTixcblx0XHRcdFx0XHRtZW51QnV0dG9uRGVmaW5pdGlvblxuXHRcdFx0XHQpO1xuXHRcdFx0fTtcblxuXHRcdFx0ZWRpdG9yLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfTUVOVUJVVFRPTiwge1xuXHRcdFx0XHRhZGQ6IGdlbmVyYXRlTWVudUJ1dHRvbkJyaWRnZSxcblx0XHRcdFx0Y3JlYXRlKG1lbnVCdXR0b25EZWZpbml0aW9uKSB7XG5cdFx0XHRcdFx0Y29uc3QgbWVudUJ1dHRvbk5hbWUgPVxuXHRcdFx0XHRcdFx0J2J1dHRvbkJyaWRnZScgKyAoKE1hdGgucmFuZG9tKCkgKiAxZTkpID4+PiAwKTtcblx0XHRcdFx0XHRjb25zdCBNZW51QnV0dG9uQnJpZGdlID0gZ2VuZXJhdGVNZW51QnV0dG9uQnJpZGdlKFxuXHRcdFx0XHRcdFx0bWVudUJ1dHRvbk5hbWUsXG5cdFx0XHRcdFx0XHRtZW51QnV0dG9uRGVmaW5pdGlvblxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gbmV3IE1lbnVCdXR0b25CcmlkZ2UoKTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdH0sXG5cdH0pO1xufVxuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX21lbnVicmlkZ2UnKSkge1xuXHQvKipcblx0ICogQ0tFZGl0b3IgcGx1Z2luIHRoYXQgYnJpZGdlcyB0aGUgc3VwcG9ydCBvZmZlcmVkIGJ5IENLRWRpdG9yIE1lbnUgcGx1Z2luLiBJdCB0YWtlcyBvdmVyIHRoZVxuXHQgKiByZXNwb25zaWJpbGl0eSBvZiBhZGRpbmcsIHJlbW92aW5nIGFuZCByZXRyaWV2aW5nIG1lbnUgZ3JvdXBzIGFuZCBpdGVtc1xuXHQgKiAtIGVkaXRvci5hZGRNZW51R3JvdXAobmFtZSwgb3JkZXIpXG5cdCAqIC0gZWRpdG9yLmFkZE1lbnVJdGVtKG5hbWUsIGRlZmluaXRpb24pXG5cdCAqIC0gZWRpdG9yLmFkZE1lbnVJdGVtcyhkZWZpbml0aW9ucylcblx0ICogLSBlZGl0b3IuZ2V0TWVudUl0ZW0obmFtZSlcblx0ICogLSBlZGl0b3IucmVtb3ZlTWVudUl0ZW0obmFtZSlcblx0ICpcblx0ICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfbWVudWJyaWRnZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV9tZW51YnJpZGdlJywge1xuXHRcdC8qKlxuXHRcdCAqIFNldCB0aGUgYWRkIGhhbmRsZXIgZm9yIFVJX0JVVFRPTiB0byBvdXIgb3duLiBXZSBkbyB0aGlzIGluIHRoZSBpbml0IHBoYXNlIHRvIG92ZXJyaWRlXG5cdFx0ICogdGhlIG9uZSBpbiB0aGUgbmF0aXZlIHBsdWdpbiBpbiBjYXNlIGl0J3MgcHJlc2VudC5cblx0XHQgKlxuXHRcdCAqIEBtZXRob2QgaW5pdFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIENLRWRpdG9yIGluc3RhbmNlIGJlaW5nIGluaXRpYWxpemVkXG5cdFx0ICovXG5cdFx0YmVmb3JlSW5pdChlZGl0b3IpIHtcblx0XHRcdC8vIERvIG5vdGhpbmcgaWYgdGhlIHJlYWwgbWVudSBwbHVnaW4gaXMgcHJlc2VudFxuXHRcdFx0aWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdtZW51JykpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBncm91cHMgPSBbXTtcblx0XHRcdGNvbnN0IGdyb3Vwc09yZGVyID0gKGVkaXRvci5fLm1lbnVHcm91cHMgPSB7fSk7XG5cdFx0XHRjb25zdCBtZW51SXRlbXMgPSAoZWRpdG9yLl8ubWVudUl0ZW1zID0ge30pO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRncm91cHNPcmRlcltncm91cHNbaV1dID0gaSArIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogUmVnaXN0ZXJzIGFuIGl0ZW0gZ3JvdXAgdG8gdGhlIGVkaXRvciBjb250ZXh0IG1lbnUgaW4gb3JkZXIgdG8gbWFrZSBpdFxuXHRcdFx0ICogcG9zc2libGUgdG8gYXNzb2NpYXRlIGl0IHdpdGggbWVudSBpdGVtcyBsYXRlci5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWV0aG9kIGFkZE1lbnVHcm91cFxuXHRcdFx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgU3BlY2lmeSBhIGdyb3VwIG5hbWUuXG5cdFx0XHQgKiBAcGFyYW0ge051bWJlcn0gW29yZGVyPTEwMF0gRGVmaW5lIHRoZSBkaXNwbGF5IHNlcXVlbmNlIG9mIHRoaXMgZ3JvdXBcblx0XHRcdCAqIGluc2lkZSB0aGUgbWVudS4gQSBzbWFsbGVyIHZhbHVlIGdldHMgZGlzcGxheWVkIGZpcnN0LlxuXHRcdFx0ICovXG5cdFx0XHRlZGl0b3IuYWRkTWVudUdyb3VwID0gZnVuY3Rpb24obmFtZSwgb3JkZXIpIHtcblx0XHRcdFx0Z3JvdXBzT3JkZXJbbmFtZV0gPSBvcmRlciB8fCAxMDA7XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIEFkZHMgYW4gaXRlbSBmcm9tIHRoZSBzcGVjaWZpZWQgZGVmaW5pdGlvbiB0byB0aGUgZWRpdG9yIGNvbnRleHQgbWVudS5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWV0aG9kIGFkZE1lbnVJdGVtXG5cdFx0XHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbWVudSBpdGVtIG5hbWUuXG5cdFx0XHQgKiBAcGFyYW0ge09iamVjdH0gZGVmaW5pdGlvbiBUaGUgbWVudSBpdGVtIGRlZmluaXRpb24uXG5cdFx0XHQgKi9cblx0XHRcdGVkaXRvci5hZGRNZW51SXRlbSA9IGZ1bmN0aW9uKG5hbWUsIGRlZmluaXRpb24pIHtcblx0XHRcdFx0aWYgKGdyb3Vwc09yZGVyW2RlZmluaXRpb24uZ3JvdXBdKSB7XG5cdFx0XHRcdFx0bWVudUl0ZW1zW25hbWVdID0ge1xuXHRcdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRcdGRlZmluaXRpb24sXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBZGRzIG9uZSBvciBtb3JlIGl0ZW1zIGZyb20gdGhlIHNwZWNpZmllZCBkZWZpbml0aW9uIG9iamVjdCB0byB0aGUgZWRpdG9yIGNvbnRleHQgbWVudS5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWV0aG9kIGFkZE1lbnVJdGVtc1xuXHRcdFx0ICogQHBhcmFtIHtPYmplY3R9IGRlZmluaXRpb25zIE9iamVjdCB3aGVyZSBrZXlzIGFyZSB1c2VkIGFzIGl0ZW1OYW1lIGFuZCBjb3JyZXNwb25kaW5nIHZhbHVlcyBhcyBkZWZpbml0aW9uIGZvciBhIHtAbGluayAjYWRkTWVudUl0ZW19IGNhbGwuXG5cdFx0XHQgKi9cblx0XHRcdGVkaXRvci5hZGRNZW51SXRlbXMgPSBmdW5jdGlvbihkZWZpbml0aW9ucykge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGl0ZW1OYW1lIGluIGRlZmluaXRpb25zKSB7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuXHRcdFx0XHRcdFx0XHRkZWZpbml0aW9ucyxcblx0XHRcdFx0XHRcdFx0aXRlbU5hbWVcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdHRoaXMuYWRkTWVudUl0ZW0oaXRlbU5hbWUsIGRlZmluaXRpb25zW2l0ZW1OYW1lXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIFJldHJpZXZlcyBhIHBhcnRpY3VsYXIgbWVudSBpdGVtIGRlZmluaXRpb24gZnJvbSB0aGUgZWRpdG9yIGNvbnRleHQgbWVudS5cblx0XHRcdCAqXG5cdFx0XHQgKiBAbWV0aG9kIGdldE1lbnVJdGVtXG5cdFx0XHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgZGVzaXJlZCBtZW51IGl0ZW0uXG5cdFx0XHQgKiBAcmV0dXJuIHtPYmplY3R9XG5cdFx0XHQgKi9cblx0XHRcdGVkaXRvci5nZXRNZW51SXRlbSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdFx0cmV0dXJuIG1lbnVJdGVtc1tuYW1lXTtcblx0XHRcdH07XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogUmVtb3ZlcyBhIHBhcnRpY3VsYXIgbWVudSBpdGVtIGFkZGVkIGJlZm9yZSBmcm9tIHRoZSBlZGl0b3IgY29udGV4dCBtZW51LlxuXHRcdFx0ICpcblx0XHRcdCAqIEBtZXRob2QgIHJlbW92ZU1lbnVJdGVtXG5cdFx0XHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgZGVzaXJlZCBtZW51IGl0ZW0uXG5cdFx0XHQgKi9cblx0XHRcdGVkaXRvci5yZW1vdmVNZW51SXRlbSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdFx0ZGVsZXRlIG1lbnVJdGVtc1tuYW1lXTtcblx0XHRcdH07XG5cdFx0fSxcblx0fSk7XG59XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBFZGl0b3JDb250ZXh0IGZyb20gJy4uLy4uL2FkYXB0ZXIvZWRpdG9yLWNvbnRleHQnO1xuaW1wb3J0IEJ1dHRvbkRyb3Bkb3duIGZyb20gJy4uL2J1dHRvbnMvYnV0dG9uLWRyb3Bkb3duLmpzeCc7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfcGFuZWxtZW51YnV0dG9uYnJpZGdlJykpIHtcblx0Y29uc3QgUEFORUxfTUVOVV9ERUZTID0ge307XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlcyBhIFBhbmVsTWVudUJ1dHRvbkJyaWRnZSBSZWFjdCBjbGFzcyBmb3IgYSBnaXZlbiBwYW5lbG1lbnVidXR0b24gZGVmaW5pdGlvbiBpZiBpdCBoYXMgbm90IGJlZW5cblx0ICogYWxyZWFkeSBjcmVhdGVkIGJhc2VkIG9uIHRoZSBwYW5lbG1lbnVidXR0b24gbmFtZSBhbmQgZGVmaW5pdGlvbi5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQG1ldGhvZCBnZW5lcmF0ZVBhbmVsTWVudUJ1dHRvbkJyaWRnZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcGFuZWxNZW51QnV0dG9uTmFtZSBUaGUgcGFuZWwgYnV0dG9uIG5hbWVcblx0ICogQHBhcmFtIHtPYmplY3R9IHBhbmVsTWVudUJ1dHRvbkRlZmluaXRpb24gVGhlIHBhbmVsIGJ1dHRvbiBkZWZpbml0aW9uXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGdlbmVyYXRlZCBvciBhbHJlYWR5IGV4aXN0aW5nIFJlYWN0IFBhbmVsTWVudUJ1dHRvbiBDbGFzc1xuXHQgKi9cblx0Y29uc3QgZ2VuZXJhdGVQYW5lbE1lbnVCdXR0b25CcmlkZ2UgPSBmdW5jdGlvbihcblx0XHRwYW5lbE1lbnVCdXR0b25OYW1lLFxuXHRcdHBhbmVsTWVudUJ1dHRvbkRlZmluaXRpb24sXG5cdFx0ZWRpdG9yXG5cdCkge1xuXHRcdGxldCBQYW5lbE1lbnVCdXR0b25CcmlkZ2UgPSBBbGxveUVkaXRvci5CdXR0b25zW3BhbmVsTWVudUJ1dHRvbk5hbWVdO1xuXG5cdFx0UEFORUxfTUVOVV9ERUZTW2VkaXRvci5uYW1lXSA9IFBBTkVMX01FTlVfREVGU1tlZGl0b3IubmFtZV0gfHwge307XG5cdFx0UEFORUxfTUVOVV9ERUZTW2VkaXRvci5uYW1lXVtwYW5lbE1lbnVCdXR0b25OYW1lXSA9XG5cdFx0XHRQQU5FTF9NRU5VX0RFRlNbZWRpdG9yLm5hbWVdW3BhbmVsTWVudUJ1dHRvbk5hbWVdIHx8XG5cdFx0XHRwYW5lbE1lbnVCdXR0b25EZWZpbml0aW9uO1xuXG5cdFx0aWYgKCFQYW5lbE1lbnVCdXR0b25CcmlkZ2UpIHtcblx0XHRcdFBhbmVsTWVudUJ1dHRvbkJyaWRnZSA9IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0XHRcdFx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRcdFx0XHRzdGF0aWMgZGlzcGxheU5hbWUgPSBwYW5lbE1lbnVCdXR0b25OYW1lO1xuXG5cdFx0XHRcdHN0YXRpYyBrZXkgPSBwYW5lbE1lbnVCdXR0b25OYW1lO1xuXG5cdFx0XHRcdC8vIEFQSSBub3QgeWV0IGltcGxlbWVudGVkIGluc2lkZSB0aGUgcGFuZWwgbWVudSBidXR0b24gYnJpZGdlLiBCeSBtb2NraW5nIHRoZSB1bnN1cHBvcnRlZCBtZXRob2RzLCB3ZVxuXHRcdFx0XHQvLyBwcmV2ZW50IHBsdWdpbnMgZnJvbSBjcmFzaGluZyBpZiB0aGV5IG1ha2UgdXNlIG9mIHRoZW0uXG5cdFx0XHRcdGNyZWF0ZVBhbmVsKCkge31cblxuXHRcdFx0XHRyZW5kZXIoKSB7XG5cdFx0XHRcdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdFx0XHRcdFx0Y29uc3QgcGFuZWxNZW51QnV0dG9uRGlzcGxheU5hbWUgPVxuXHRcdFx0XHRcdFx0UEFORUxfTUVOVV9ERUZTW2VkaXRvci5uYW1lXVtwYW5lbE1lbnVCdXR0b25OYW1lXVxuXHRcdFx0XHRcdFx0XHQubmFtZSB8fFxuXHRcdFx0XHRcdFx0UEFORUxfTUVOVV9ERUZTW2VkaXRvci5uYW1lXVtwYW5lbE1lbnVCdXR0b25OYW1lXVxuXHRcdFx0XHRcdFx0XHQuY29tbWFuZCB8fFxuXHRcdFx0XHRcdFx0cGFuZWxNZW51QnV0dG9uTmFtZTtcblxuXHRcdFx0XHRcdGNvbnN0IGJ1dHRvbkNsYXNzTmFtZSA9ICdhZS1idXR0b24gYWUtYnV0dG9uLWJyaWRnZSc7XG5cblx0XHRcdFx0XHRjb25zdCBpY29uQ2xhc3NOYW1lID1cblx0XHRcdFx0XHRcdCdhZS1pY29uLScgKyBwYW5lbE1lbnVCdXR0b25EaXNwbGF5TmFtZTtcblxuXHRcdFx0XHRcdGNvbnN0IGljb25TdHlsZSA9IHt9O1xuXG5cdFx0XHRcdFx0Y29uc3QgY3NzU3R5bGUgPSBDS0VESVRPUi5za2luLmdldEljb25TdHlsZShcblx0XHRcdFx0XHRcdHBhbmVsTWVudUJ1dHRvbkRpc3BsYXlOYW1lXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGlmIChjc3NTdHlsZSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgY3NzU3R5bGVQYXJ0cyA9IGNzc1N0eWxlLnNwbGl0KCc7Jyk7XG5cblx0XHRcdFx0XHRcdGljb25TdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBjc3NTdHlsZVBhcnRzWzBdLnN1YnN0cmluZyhcblx0XHRcdFx0XHRcdFx0Y3NzU3R5bGVQYXJ0c1swXS5pbmRleE9mKCc6JykgKyAxXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0aWNvblN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IGNzc1N0eWxlUGFydHNbMV0uc3Vic3RyaW5nKFxuXHRcdFx0XHRcdFx0XHRjc3NTdHlsZVBhcnRzWzFdLmluZGV4T2YoJzonKSArIDFcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRpY29uU3R5bGUuYmFja2dyb3VuZFNpemUgPSBjc3NTdHlsZVBhcnRzWzJdLnN1YnN0cmluZyhcblx0XHRcdFx0XHRcdFx0Y3NzU3R5bGVQYXJ0c1syXS5pbmRleE9mKCc6JykgKyAxXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGxldCBwYW5lbDtcblxuXHRcdFx0XHRcdGlmICh0aGlzLnByb3BzLmV4cGFuZGVkKSB7XG5cdFx0XHRcdFx0XHRwYW5lbCA9IHRoaXMuX2dldFBhbmVsKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyIGFlLWhhcy1kcm9wZG93blwiPlxuXHRcdFx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0YXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH1cblx0XHRcdFx0XHRcdFx0XHRhcmlhLWxhYmVsPXtcblx0XHRcdFx0XHRcdFx0XHRcdFBBTkVMX01FTlVfREVGU1tlZGl0b3IubmFtZV1bXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhbmVsTWVudUJ1dHRvbk5hbWVcblx0XHRcdFx0XHRcdFx0XHRcdF0ubGFiZWxcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtidXR0b25DbGFzc05hbWV9XG5cdFx0XHRcdFx0XHRcdFx0b25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPVwiY29tYm9ib3hcIlxuXHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuXHRcdFx0XHRcdFx0XHRcdHRpdGxlPXtcblx0XHRcdFx0XHRcdFx0XHRcdFBBTkVMX01FTlVfREVGU1tlZGl0b3IubmFtZV1bXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhbmVsTWVudUJ1dHRvbk5hbWVcblx0XHRcdFx0XHRcdFx0XHRcdF0ubGFiZWxcblx0XHRcdFx0XHRcdFx0XHR9PlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9XG5cdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17aWNvblN0eWxlfVxuXHRcdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHR7cGFuZWx9XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2dldFBhbmVsKCkge1xuXHRcdFx0XHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdFx0XHRcdGNvbnN0IHBhbmVsTWVudUJ1dHRvbk9uQmxvY2sgPVxuXHRcdFx0XHRcdFx0UEFORUxfTUVOVV9ERUZTW2VkaXRvci5uYW1lXVtwYW5lbE1lbnVCdXR0b25OYW1lXVxuXHRcdFx0XHRcdFx0XHQub25CbG9jaztcblxuXHRcdFx0XHRcdGNvbnN0IHBhbmVsID0ge1xuXHRcdFx0XHRcdFx0aGlkZTogdGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bixcblx0XHRcdFx0XHRcdHNob3c6IHRoaXMucHJvcHMudG9nZ2xlRHJvcGRvd24sXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGNvbnN0IGJsb2NrRWxlbWVudCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCgnZGl2Jyk7XG5cblx0XHRcdFx0XHRjb25zdCBibG9jayA9IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6IGJsb2NrRWxlbWVudCxcblx0XHRcdFx0XHRcdGtleXM6IHt9LFxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHRcdFx0XHRcdGlmIChwYW5lbE1lbnVCdXR0b25PbkJsb2NrKSB7XG5cdFx0XHRcdFx0XHRwYW5lbE1lbnVCdXR0b25PbkJsb2NrLmNhbGwodGhpcywgcGFuZWwsIGJsb2NrKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBUT0RPXG5cdFx0XHRcdFx0Ly8gVXNlIGJsb2NrLmtleXMgdG8gY29uZmlndXJlIHRoZSBwYW5lbCBrZXlib2FyZCBuYXZpZ2F0aW9uXG5cblx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0PEJ1dHRvbkRyb3Bkb3duIG9uRGlzbWlzcz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn0+XG5cdFx0XHRcdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Jsb2NrRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyl9XG5cdFx0XHRcdFx0XHRcdFx0ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcblx0XHRcdFx0XHRcdFx0XHRcdF9faHRtbDogYmxvY2tFbGVtZW50LmdldEh0bWwoKSxcblx0XHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0PC9CdXR0b25Ecm9wZG93bj5cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRBbGxveUVkaXRvci5CdXR0b25zW3BhbmVsTWVudUJ1dHRvbk5hbWVdID0gUGFuZWxNZW51QnV0dG9uQnJpZGdlO1xuXHRcdH1cblxuXHRcdHJldHVybiBQYW5lbE1lbnVCdXR0b25CcmlkZ2U7XG5cdH07XG5cblx0LyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0aWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgncGFuZWxtZW51YnV0dG9uJykpIHtcblx0XHRDS0VESVRPUi5VSV9QQU5FTEJVVFRPTiA9ICdwYW5lbG1lbnVidXR0b24nO1xuXG5cdFx0Q0tFRElUT1IucGx1Z2lucy5hZGQoJ3BhbmVsbWVudWJ1dHRvbicsIHt9KTtcblx0fVxuXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdGlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ3BhbmVsYnV0dG9uJykpIHtcblx0XHRDS0VESVRPUi5VSV9QQU5FTEJVVFRPTiA9ICdwYW5lbGJ1dHRvbic7XG5cblx0XHRDS0VESVRPUi5wbHVnaW5zLmFkZCgncGFuZWxidXR0b24nLCB7fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ0tFZGl0b3IgcGx1Z2luIHRoYXQgYnJpZGdlcyB0aGUgc3VwcG9ydCBvZmZlcmVkIGJ5IENLRWRpdG9yIFBhbmVsQnV0dG9uIHBsdWdpbi4gSXQgdGFrZXMgb3ZlciB0aGVcblx0ICogcmVzcG9uc2liaWxpdHkgb2YgcmVnaXN0ZXJpbmcgYW5kIGNyZWF0aW5nIGJ1dHRvbnMgdmlhOlxuXHQgKiAtIGVkaXRvci51aS5hZGRQYW5lbE1lbnVCdXR0b24obmFtZSwgZGVmaW5pdGlvbilcblx0ICogLSBlZGl0b3IudWkuYWRkKG5hbWUsIENLRURJVE9SLlVJX1BBTkVMQlVUVE9OLCBkZWZpbml0aW9uKVxuXHQgKlxuXHQgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9wYW5lbG1lbnVidXR0b25icmlkZ2Vcblx0ICogQHJlcXVpcmVzIENLRURJVE9SLnBsdWdpbnMuYWVfdWlicmlkZ2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfcGFuZWxtZW51YnV0dG9uYnJpZGdlJywge1xuXHRcdHJlcXVpcmVzOiBbJ2FlX3VpYnJpZGdlJ10sXG5cblx0XHQvKipcblx0XHQgKiBTZXQgdGhlIGFkZCBoYW5kbGVyIGZvciBVSV9QQU5FTEJVVFRPTiB0byBvdXIgb3duLiBXZSBkbyB0aGlzIGluIHRoZSBpbml0IHBoYXNlIHRvIG92ZXJyaWRlXG5cdFx0ICogdGhlIG9uZSBpbiB0aGUgbmF0aXZlIHBsdWdpbiBpbiBjYXNlIGl0J3MgcHJlc2VudFxuXHRcdCAqXG5cdFx0ICogQG1ldGhvZCBpbml0XG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgQ0tFZGl0b3IgaW5zdGFuY2UgYmVpbmcgaW5pdGlhbGl6ZWRcblx0XHQgKi9cblx0XHRiZWZvcmVJbml0KGVkaXRvcikge1xuXHRcdFx0ZWRpdG9yLnVpLmFkZFBhbmVsTWVudUJ1dHRvbiA9IGZ1bmN0aW9uKFxuXHRcdFx0XHRwYW5lbE1lbnVCdXR0b25OYW1lLFxuXHRcdFx0XHRwYW5lbE1lbnVCdXR0b25EZWZpbml0aW9uXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy5hZGQoXG5cdFx0XHRcdFx0cGFuZWxNZW51QnV0dG9uTmFtZSxcblx0XHRcdFx0XHRDS0VESVRPUi5VSV9QQU5FTEJVVFRPTixcblx0XHRcdFx0XHRwYW5lbE1lbnVCdXR0b25EZWZpbml0aW9uXG5cdFx0XHRcdCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRlZGl0b3IudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9QQU5FTEJVVFRPTiwge1xuXHRcdFx0XHRhZGQ6IGdlbmVyYXRlUGFuZWxNZW51QnV0dG9uQnJpZGdlLFxuXHRcdFx0XHRjcmVhdGUocGFuZWxNZW51QnV0dG9uRGVmaW5pdGlvbikge1xuXHRcdFx0XHRcdGNvbnN0IHBhbmVsTWVudUJ1dHRvbk5hbWUgPVxuXHRcdFx0XHRcdFx0J3BhbmVsTWVudUJ1dHRvbkJyaWRnZScgKyAoKE1hdGgucmFuZG9tKCkgKiAxZTkpID4+PiAwKTtcblx0XHRcdFx0XHRjb25zdCBQYW5lbE1lbnVCdXR0b25CcmlkZ2UgPSBnZW5lcmF0ZVBhbmVsTWVudUJ1dHRvbkJyaWRnZShcblx0XHRcdFx0XHRcdHBhbmVsTWVudUJ1dHRvbk5hbWUsXG5cdFx0XHRcdFx0XHRwYW5lbE1lbnVCdXR0b25EZWZpbml0aW9uXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdHJldHVybiBuZXcgUGFuZWxNZW51QnV0dG9uQnJpZGdlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblx0XHR9LFxuXHR9KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVkaXRvckNvbnRleHQgZnJvbSAnLi4vLi4vYWRhcHRlci9lZGl0b3ItY29udGV4dCc7XG5pbXBvcnQgQnV0dG9uRHJvcGRvd24gZnJvbSAnLi4vYnV0dG9ucy9idXR0b24tZHJvcGRvd24uanN4JztcbmltcG9ydCBCdXR0b25JY29uIGZyb20gJy4uL2J1dHRvbnMvYnV0dG9uLWljb24uanN4JztcblxuLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5pZiAoIUNLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9yaWNoY29tYm9icmlkZ2UnKSkge1xuXHRjb25zdCBSSUNIX0NPTUJPX0RFRlMgPSB7fTtcblxuXHQvKipcblx0ICogR2VuZXJhdGVzIGEgUmljaENvbWJvQnJpZGdlIFJlYWN0IGNsYXNzIGZvciBhIGdpdmVuIHJpY2hjb21ibyBkZWZpbml0aW9uIGlmIGl0IGhhcyBub3QgYmVlblxuXHQgKiBhbHJlYWR5IGNyZWF0ZWQgYmFzZWQgb24gdGhlIHJpY2hjb21ibyBuYW1lIGFuZCBkZWZpbml0aW9uLlxuXHQgKlxuXHQgKiBAbWV0aG9kIGdlbmVyYXRlUmljaENvbWJvQnJpZGdlXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSByaWNoQ29tYm9OYW1lIFRoZSByaWNoIGNvbWJvIG5hbWVcblx0ICogQHBhcmFtIHtPYmplY3R9IHJpY2hDb21ib0RlZmluaXRpb24gVGhlIHJpY2ggY29tYm8gZGVmaW5pdGlvblxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgb3IgYWxyZWFkeSBleGlzdGluZyBSZWFjdCBSaWNoQ29tYm8gQ2xhc3Ncblx0ICovXG5cdGNvbnN0IGdlbmVyYXRlUmljaENvbWJvQnJpZGdlID0gZnVuY3Rpb24oXG5cdFx0cmljaENvbWJvTmFtZSxcblx0XHRyaWNoQ29tYm9EZWZpbml0aW9uLFxuXHRcdGVkaXRvclxuXHQpIHtcblx0XHRsZXQgUmljaENvbWJvQnJpZGdlID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tyaWNoQ29tYm9OYW1lXTtcblxuXHRcdFJJQ0hfQ09NQk9fREVGU1tlZGl0b3IubmFtZV0gPSBSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdIHx8IHt9O1xuXHRcdFJJQ0hfQ09NQk9fREVGU1tlZGl0b3IubmFtZV1bcmljaENvbWJvTmFtZV0gPVxuXHRcdFx0UklDSF9DT01CT19ERUZTW2VkaXRvci5uYW1lXVtyaWNoQ29tYm9OYW1lXSB8fCByaWNoQ29tYm9EZWZpbml0aW9uO1xuXHRcdFJJQ0hfQ09NQk9fREVGU1tlZGl0b3IubmFtZV1bcmljaENvbWJvTmFtZV0uY3VycmVudFZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0aWYgKCFSaWNoQ29tYm9CcmlkZ2UpIHtcblx0XHRcdFJpY2hDb21ib0JyaWRnZSA9IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0XHRcdFx0c3RhdGljIGNvbnRleHRUeXBlID0gRWRpdG9yQ29udGV4dDtcblxuXHRcdFx0XHRzdGF0aWMgZGlzcGxheU5hbWUgPSByaWNoQ29tYm9OYW1lO1xuXG5cdFx0XHRcdHN0YXRpYyBrZXkgPSByaWNoQ29tYm9OYW1lO1xuXG5cdFx0XHRcdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0XHRcdFx0c3VwZXIocHJvcHMpO1xuXHRcdFx0XHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRcdFx0XHR2YWx1ZTpcblx0XHRcdFx0XHRcdFx0UklDSF9DT01CT19ERUZTW2VkaXRvci5uYW1lXVtyaWNoQ29tYm9OYW1lXVxuXHRcdFx0XHRcdFx0XHRcdC5jdXJyZW50VmFsdWUsXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFQSSBub3QgeWV0IGltcGxlbWVudGVkIGluc2lkZSB0aGUgcmljaGNvbWJvIGJyaWRnZS4gQnkgbW9ja2luZyB0aGUgdW5zdXBwb3J0ZWQgbWV0aG9kcywgd2Vcblx0XHRcdFx0Ly8gcHJldmVudCBwbHVnaW5zIGZyb20gY3Jhc2hpbmcgaWYgdGhleSBtYWtlIHVzZSBvZiB0aGVtLlxuXHRcdFx0XHRjb21taXQoKSB7fVxuXHRcdFx0XHRjcmVhdGVQYW5lbCgpIHt9XG5cdFx0XHRcdGRpc2FibGUoKSB7fVxuXHRcdFx0XHRlbmFibGUoKSB7fVxuXHRcdFx0XHRnZXRTdGF0ZSgpIHt9XG5cdFx0XHRcdGhpZGVHcm91cCgpIHt9XG5cdFx0XHRcdGhpZGVJdGVtKCkge31cblx0XHRcdFx0bWFyaygpIHt9XG5cdFx0XHRcdHNob3dBbGwoKSB7fVxuXHRcdFx0XHRzdGFydEdyb3VwKCkge31cblx0XHRcdFx0dW5tYXJrQWxsKCkge31cblxuXHRcdFx0XHRhZGQodmFsdWUsIHByZXZpZXcsIHRpdGxlKSB7XG5cdFx0XHRcdFx0dGhpcy5faXRlbXMucHVzaCh7XG5cdFx0XHRcdFx0XHRwcmV2aWV3LFxuXHRcdFx0XHRcdFx0dGl0bGUsXG5cdFx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0XHRcdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdFx0XHRjb25zdCBlZGl0b3JDb21ibyA9XG5cdFx0XHRcdFx0XHRSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdW3JpY2hDb21ib05hbWVdO1xuXG5cdFx0XHRcdFx0dGhpcy5faXRlbXMgPSBbXTtcblxuXHRcdFx0XHRcdHRoaXMuc2V0VmFsdWUgPSB0aGlzLl9zZXRWYWx1ZTtcblxuXHRcdFx0XHRcdGlmIChlZGl0b3JDb21iby5pbml0KSB7XG5cdFx0XHRcdFx0XHRlZGl0b3JDb21iby5pbml0LmNhbGwodGhpcyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGVkaXRvckNvbWJvLm9uUmVuZGVyKSB7XG5cdFx0XHRcdFx0XHRlZGl0b3JDb21iby5vblJlbmRlci5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHRcdFx0XHRcdHRoaXMuX2NhY2hlVmFsdWUodGhpcy5zdGF0ZS52YWx1ZSk7XG5cblx0XHRcdFx0XHR0aGlzLnNldFZhbHVlID0gdGhpcy5fY2FjaGVWYWx1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGdldFZhbHVlKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLnN0YXRlLnZhbHVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVuZGVyKCkge1xuXHRcdFx0XHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdFx0XHRcdGNvbnN0IHJpY2hDb21ib0xhYmVsID1cblx0XHRcdFx0XHRcdFJJQ0hfQ09NQk9fREVGU1tlZGl0b3IubmFtZV1bcmljaENvbWJvTmFtZV1cblx0XHRcdFx0XHRcdFx0LmN1cnJlbnRWYWx1ZSB8fCByaWNoQ29tYm9EZWZpbml0aW9uLmxhYmVsO1xuXG5cdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWRyb3Bkb3duIGFlLWhhcy1kcm9wZG93blwiPlxuXHRcdFx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0YXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH1cblx0XHRcdFx0XHRcdFx0XHRhcmlhLWxhYmVsPXtyaWNoQ29tYm9MYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9XCJhZS10b29sYmFyLWVsZW1lbnRcIlxuXHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259XG5cdFx0XHRcdFx0XHRcdFx0cm9sZT1cImNvbWJvYm94XCJcblx0XHRcdFx0XHRcdFx0XHR0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cblx0XHRcdFx0XHRcdFx0XHR0aXRsZT17cmljaENvbWJvTGFiZWx9PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7cmljaENvbWJvTGFiZWx9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uSWNvbiBzeW1ib2w9XCJjYXJldC1ib3R0b21cIiAvPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0e3RoaXMucHJvcHMuZXhwYW5kZWQgJiYgKFxuXHRcdFx0XHRcdFx0XHRcdDxCdXR0b25Ecm9wZG93blxuXHRcdFx0XHRcdFx0XHRcdFx0b25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufT5cblx0XHRcdFx0XHRcdFx0XHRcdHt0aGlzLl9nZXRJdGVtcygpfVxuXHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uRHJvcGRvd24+XG5cdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2NhY2hlVmFsdWUodmFsdWUpIHtcblx0XHRcdFx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmNvbnRleHQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0XHRcdFx0XHRSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdW1xuXHRcdFx0XHRcdFx0cmljaENvbWJvTmFtZVxuXHRcdFx0XHRcdF0uY3VycmVudFZhbHVlID0gdmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfZ2V0SXRlbXMoKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmljaENvbWJvID0gdGhpcztcblxuXHRcdFx0XHRcdGNvbnN0IGl0ZW1zID0gdGhpcy5faXRlbXMubWFwKGl0ZW0gPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgY2xhc3NOYW1lID1cblx0XHRcdFx0XHRcdFx0J2FlLXRvb2xiYXItZWxlbWVudCAnICtcblx0XHRcdFx0XHRcdFx0KGl0ZW0udmFsdWUgPT09IHRoaXMuc3RhdGUudmFsdWUgPyAnYWN0aXZlJyA6ICcnKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0PGxpIGtleT17aXRlbS50aXRsZX0gcm9sZT1cIm9wdGlvblwiPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuXHRcdFx0XHRcdFx0XHRcdFx0ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0X19odG1sOiBpdGVtLnByZXZpZXcsXG5cdFx0XHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YS12YWx1ZT17aXRlbS52YWx1ZX1cblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3JpY2hDb21iby5fb25DbGlja31cblx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHJldHVybiBpdGVtcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9vbkNsaWNrID0gZXZlbnQgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuY29udGV4dC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuXHRcdFx0XHRcdGNvbnN0IGVkaXRvckNvbWJvID1cblx0XHRcdFx0XHRcdFJJQ0hfQ09NQk9fREVGU1tlZGl0b3IubmFtZV1bcmljaENvbWJvTmFtZV07XG5cblx0XHRcdFx0XHRpZiAoZWRpdG9yQ29tYm8ub25DbGljaykge1xuXHRcdFx0XHRcdFx0Y29uc3QgbmV3VmFsdWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcblx0XHRcdFx0XHRcdFx0J2RhdGEtdmFsdWUnXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRlZGl0b3JDb21iby5vbkNsaWNrLmNhbGwodGhpcywgbmV3VmFsdWUpO1xuXG5cdFx0XHRcdFx0XHRSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdW1xuXHRcdFx0XHRcdFx0XHRyaWNoQ29tYm9OYW1lXG5cdFx0XHRcdFx0XHRdLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbHVlO1xuXG5cdFx0XHRcdFx0XHRlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdF9zZXRWYWx1ZSh2YWx1ZSkge1xuXHRcdFx0XHRcdHRoaXMuX2NhY2hlVmFsdWUodmFsdWUpO1xuXG5cdFx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0QWxsb3lFZGl0b3IuQnV0dG9uc1tyaWNoQ29tYm9OYW1lXSA9IFJpY2hDb21ib0JyaWRnZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gUmljaENvbWJvQnJpZGdlO1xuXHR9O1xuXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdGlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ3JpY2hjb21ibycpKSB7XG5cdFx0Q0tFRElUT1IuVUlfUklDSENPTUJPID0gJ3JpY2hjb21ibyc7XG5cblx0XHRDS0VESVRPUi5wbHVnaW5zLmFkZCgncmljaGNvbWJvJywge30pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENLRWRpdG9yIHBsdWdpbiB0aGF0IGJyaWRnZXMgdGhlIHN1cHBvcnQgb2ZmZXJlZCBieSBDS0VkaXRvciBSaWNoQ29tYm8gcGx1Z2luLiBJdCB0YWtlcyBvdmVyIHRoZVxuXHQgKiByZXNwb25zaWJpbGl0eSBvZiByZWdpc3RlcmluZyBhbmQgY3JlYXRpbmcgcmljaCBjb21ibyBlbGVtZW50cyB2aWE6XG5cdCAqIC0gZWRpdG9yLnVpLmFkZFJpY2hDb21ibyhuYW1lLCBkZWZpbml0aW9uKVxuXHQgKiAtIGVkaXRvci51aS5hZGQobmFtZSwgQ0tFRElUT1IuVUlfUklDSENPTUJPLCBkZWZpbml0aW9uKVxuXHQgKlxuXHQgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9yaWNoY29tYm9icmlkZ2Vcblx0ICogQHJlcXVpcmVzIENLRURJVE9SLnBsdWdpbnMuYWVfdWlicmlkZ2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfcmljaGNvbWJvYnJpZGdlJywge1xuXHRcdHJlcXVpcmVzOiBbJ2FlX3VpYnJpZGdlJ10sXG5cblx0XHQvKipcblx0XHQgKiBTZXQgdGhlIGFkZCBoYW5kbGVyIGZvciBVSV9SSUNIQ09NQk8gdG8gb3VyIG93bi4gV2UgZG8gdGhpcyBpbiB0aGUgaW5pdCBwaGFzZSB0byBvdmVycmlkZVxuXHRcdCAqIHRoZSBvbmUgaW4gdGhlIG9yaWdpbmFsIHBsdWdpbiBpbiBjYXNlIGl0J3MgcHJlc2VudFxuXHRcdCAqXG5cdFx0ICogQG1ldGhvZCBpbml0XG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgQ0tFZGl0b3IgaW5zdGFuY2UgYmVpbmcgaW5pdGlhbGl6ZWRcblx0XHQgKi9cblx0XHRiZWZvcmVJbml0KGVkaXRvcikge1xuXHRcdFx0ZWRpdG9yLnVpLmFkZFJpY2hDb21ibyA9IGZ1bmN0aW9uKFxuXHRcdFx0XHRyaWNoQ29tYm9OYW1lLFxuXHRcdFx0XHRyaWNoQ29tYm9EZWZpbml0aW9uXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy5hZGQoXG5cdFx0XHRcdFx0cmljaENvbWJvTmFtZSxcblx0XHRcdFx0XHRDS0VESVRPUi5VSV9SSUNIQ09NQk8sXG5cdFx0XHRcdFx0cmljaENvbWJvRGVmaW5pdGlvblxuXHRcdFx0XHQpO1xuXHRcdFx0fTtcblxuXHRcdFx0ZWRpdG9yLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUklDSENPTUJPLCB7XG5cdFx0XHRcdGFkZDogZ2VuZXJhdGVSaWNoQ29tYm9CcmlkZ2UsXG5cdFx0XHRcdGNyZWF0ZShyaWNoQ29tYm9EZWZpbml0aW9uKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmljaENvbWJvTmFtZSA9XG5cdFx0XHRcdFx0XHQncmljaENvbWJvQnJpZGdlJyArICgoTWF0aC5yYW5kb20oKSAqIDFlOSkgPj4+IDApO1xuXHRcdFx0XHRcdGNvbnN0IFJpY2hDb21ib0JyaWRnZSA9IGdlbmVyYXRlUmljaENvbWJvQnJpZGdlKFxuXHRcdFx0XHRcdFx0cmljaENvbWJvTmFtZSxcblx0XHRcdFx0XHRcdHJpY2hDb21ib0RlZmluaXRpb25cblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBSaWNoQ29tYm9CcmlkZ2UoKTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdH0sXG5cdH0pO1xufVxuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3VpYnJpZGdlJykpIHtcblx0LyoqXG5cdCAqIENLRWRpdG9yIHBsdWdpbiB0aGF0IGV4dGVuZHMgQ0tFRElUT1IudWkuYWRkIGZ1bmN0aW9uIHNvIGFuIGFkZCBoYW5kbGVyIGNhbiBiZSBzcGVjaWZpZWRcblx0ICogb24gdG9wIG9mIHRoZSBvcmlnaW5hbCBvbmVzLiBJdCBicmlkZ2VzIHRoZSBjYWxscyB0byBhZGQgY29tcG9uZW50cyB2aWE6XG5cdCAqIC0gZWRpdG9yLnVpLmFkZChuYW1lLCB0eXBlLCBkZWZpbml0aW9uKVxuXHQgKlxuXHQgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV91aWJyaWRnZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV91aWJyaWRnZScsIHtcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgcGx1Z2luLCBwYXJ0IG9mIENLRWRpdG9yIHBsdWdpbiBsaWZlY3ljbGUuXG5cdFx0ICpcblx0XHQgKiBAbWV0aG9kIGJlZm9yZUluaXRcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuXHRcdCAqL1xuXHRcdGJlZm9yZUluaXQoZWRpdG9yKSB7XG5cdFx0XHRjb25zdCBvcmlnaW5hbFVJQWRkRm4gPSBlZGl0b3IudWkuYWRkO1xuXG5cdFx0XHRlZGl0b3IudWkuYWRkID0gZnVuY3Rpb24obmFtZSwgdHlwZSwgZGVmaW5pdGlvbikge1xuXHRcdFx0XHRvcmlnaW5hbFVJQWRkRm4uY2FsbCh0aGlzLCBuYW1lLCB0eXBlLCBkZWZpbml0aW9uKTtcblxuXHRcdFx0XHRjb25zdCB0eXBlSGFuZGxlciA9IHRoaXMuXy5oYW5kbGVyc1t0eXBlXTtcblxuXHRcdFx0XHRpZiAodHlwZUhhbmRsZXIgJiYgdHlwZUhhbmRsZXIuYWRkKSB7XG5cdFx0XHRcdFx0dHlwZUhhbmRsZXIuYWRkKG5hbWUsIGRlZmluaXRpb24sIGVkaXRvcik7XG5cdFx0XHRcdFx0QWxsb3lFZGl0b3IucmVnaXN0ZXJCcmlkZ2VCdXR0b24oXG5cdFx0XHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRcdFx0ZWRpdG9yLl9fcHJvY2Vzc2luZ1BsdWdpbl9fLnBsdWdpbi5uYW1lXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9LFxuXHR9KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuLyoqXG4gKiBEZWJvdW5jZSB1dGlsIGZ1bmN0aW9uLiBJZiBhIGZ1bmN0aW9uIGV4ZWN1dGlvbiBpcyBleHBlbnNpdmUsIGl0IG1pZ2h0IGJlIGRlYm91bmNlZC4gVGhpcyBtZWFuc1xuICogdGhhdCBpdCB3aWxsIGJlIGV4ZWN1dGVkIGFmdGVyIHNvbWUgYW1vdW50IG9mIHRpbWUgYWZ0ZXIgaXRzIGxhc3QgY2FsbC4gRm9yIGV4YW1wbGUsIGlmIHdlIGF0dGFjaCBhXG4gKiBhIGZ1bmN0aW9uIG9uIHNjcm9sbCBldmVudCwgaXQgbWlnaHQgYmUgY2FsbGVkIGh1bmRyZWRzIHRpbWVzIHBlciBzZWNvbmQuIEluIHRoaXMgY2FzZSBpdCBtYXkgYmVcbiAqIGRlYm91bmNlZCB3aXRoLCBsZXQncyBzYXkgMTAwbXMuIFRoZSByZWFsIGV4ZWN1dGlvbiBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgaGFwcGVuIDEwMG1zIGFmdGVyIGxhc3RcbiAqIHNjcm9sbCBldmVudC5cbiAqXG4gKiBAbWVtYmVyb2YgQ0tFRElUT1IudG9vbHNcbiAqIEBtZXRob2QgZGVib3VuY2VcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgQW4gYXJyYXkgb2YgYXJndW1lbnRzIHdoaWNoIHRoZSBjYWxsYmFjayB3aWxsIHJlY2VpdmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgd2hpY2ggaGFzIHRvIGJlIGNhbGxlZCBhZnRlciBnaXZlbiB0aW1lb3V0LlxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXQgVGltZW91dCBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgVGhlIGNvbnRleHQgaW4gd2hpY2ggdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkLiBUaGlzIGFyZ3VtZW50IGlzIG9wdGlvbmFsLlxuICogQHN0YXRpY1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShjYWxsYmFjaywgdGltZW91dCwgY29udGV4dCwgYXJncyA9IFtdKSB7XG5cdGxldCBkZWJvdW5jZUhhbmRsZTtcblxuXHRjb25zdCBjYWxsRm4gPSBmdW5jdGlvbiguLi5jYWxsQXJncykge1xuXHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXHRcdGNvbnN0IGNhbGxDb250ZXh0ID0gY29udGV4dCB8fCB0aGlzO1xuXHRcdC8qIGVzbGludC1lbmFibGUgbm8taW52YWxpZC10aGlzICovXG5cblx0XHRjbGVhclRpbWVvdXQoZGVib3VuY2VIYW5kbGUpO1xuXG5cdFx0ZGVib3VuY2VIYW5kbGUgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGNhbGxiYWNrLmFwcGx5KGNhbGxDb250ZXh0LCBbLi4uY2FsbEFyZ3MsIC4uLmFyZ3NdKTtcblx0XHR9LCB0aW1lb3V0KTtcblx0fTtcblxuXHRjYWxsRm4uZGV0YWNoID0gZnVuY3Rpb24oKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KGRlYm91bmNlSGFuZGxlKTtcblx0fTtcblxuXHRyZXR1cm4gY2FsbEZuO1xufVxuXG5DS0VESVRPUi50b29scy5kZWJvdW5jZSA9IENLRURJVE9SLnRvb2xzLmRlYm91bmNlIHx8IGRlYm91bmNlO1xuXG5leHBvcnQgZGVmYXVsdCBkZWJvdW5jZTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IGRlYm91bmNlIGZyb20gJy4vZGVib3VuY2UnO1xuXG5pbXBvcnQgJy4vbGluayc7XG5cbmltcG9ydCAnLi9wbHVnaW5zJztcblxuaW1wb3J0ICcuL3NlbGVjdGlvbi1yZWdpb24nO1xuXG5pbXBvcnQgJy4vdGFibGUnO1xuXG5pbXBvcnQgJy4vdG9vbHMnO1xuXG5pbXBvcnQgJy4vdWljb3JlJztcblxuZXhwb3J0IHtkZWJvdW5jZX07XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmNvbnN0IFJFR0VYX0JPT0tNQVJLX1NDSEVNRSA9IC9eIy4qL2k7XG5jb25zdCBSRUdFWF9FTUFJTF9TQ0hFTUUgPSAvXlthLXowLTlcXHUwNDMwLVxcdTA0NEYuXy1dK0AvaTtcbmNvbnN0IFJFR0VYX1VSSV9TQ0hFTUUgPSAvXig/OlthLXpdW2EtejAtOStcXC0uXSopOnxeXFwvL2k7XG5cbi8qKlxuICogTGluayBjbGFzcyB1dGlsaXR5LiBQcm92aWRlcyBtZXRob2RzIGZvciBjcmVhdGUsIGRlbGV0ZSBhbmQgdXBkYXRlIGxpbmtzLlxuICpcbiAqIEBjbGFzcyBDS0VESVRPUi5MaW5rXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIENLRWRpdG9yIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBMaW5rKGVkaXRvciwgY29uZmlnKSB7XG5cdHRoaXMuX2VkaXRvciA9IGVkaXRvcjtcblx0dGhpcy5hcHBlbmRQcm90b2NvbCA9XG5cdFx0Y29uZmlnICYmIGNvbmZpZy5hcHBlbmRQcm90b2NvbCA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG59XG5cbkxpbmsucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogTGluayxcblxuXHQvKipcblx0ICogQWR2YW5jZXMgdGhlIGVkaXRvciBzZWxlY3Rpb24gdG8gdGhlIG5leHQgYXZhaWxhYmxlIHBvc2l0aW9uIGFmdGVyIGFcblx0ICogZ2l2ZW4gbGluayBvciB0aGUgb25lIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5MaW5rXG5cdCAqIEBtZXRob2QgYWR2YW5jZVNlbGVjdGlvblxuXHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBsaW5rIFRoZSBsaW5rIGVsZW1lbnQgd2hpY2ggbGluayBzdHlsZSBzaG91bGQgYmUgcmVtb3ZlZC5cblx0ICovXG5cdGFkdmFuY2VTZWxlY3Rpb24obGluaykge1xuXHRcdGxpbmsgPSBsaW5rIHx8IHRoaXMuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXG5cdFx0Y29uc3QgcmFuZ2UgPSB0aGlzLl9lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07XG5cblx0XHRpZiAobGluaykge1xuXHRcdFx0cmFuZ2UubW92ZVRvRWxlbWVudEVkaXRFbmQobGluayk7XG5cblx0XHRcdGNvbnN0IG5leHROb2RlID0gcmFuZ2UuZ2V0TmV4dEVkaXRhYmxlTm9kZSgpO1xuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5leHROb2RlICYmXG5cdFx0XHRcdCF0aGlzLl9lZGl0b3IuZWxlbWVudC5lcXVhbHMobmV4dE5vZGUuZ2V0Q29tbW9uQW5jZXN0b3IobGluaykpXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc3Qgd2hpdGVzcGFjZSA9IC9cXHMvLmV4ZWMobmV4dE5vZGUuZ2V0VGV4dCgpKTtcblxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSB3aGl0ZXNwYWNlID8gd2hpdGVzcGFjZS5pbmRleCArIDEgOiAwO1xuXG5cdFx0XHRcdHJhbmdlLnNldFN0YXJ0KG5leHROb2RlLCBvZmZzZXQpO1xuXHRcdFx0XHRyYW5nZS5zZXRFbmQobmV4dE5vZGUsIG9mZnNldCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbcmFuZ2VdKTtcblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlIGEgbGluayB3aXRoIGdpdmVuIFVSSSBhcyBocmVmLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLkxpbmtcblx0ICogQG1ldGhvZCBjcmVhdGVcblx0ICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIEEgY29uZmlnIG9iamVjdCB3aXRoIGxpbmsgYXR0cmlidXRlcy4gVGhlc2UgbWlnaHQgYmUgYXJiaXRyYXJ5IERPTSBhdHRyaWJ1dGVzLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbW9kaWZ5U2VsZWN0aW9uIEEgY29uZmlnIG9iamVjdCB3aXRoIGFuIGFkdmFuY2UgYXR0cmlidXRlIHRvIGluZGljYXRlIGlmIHRoZSBzZWxlY3Rpb24gc2hvdWxkIGJlIG1vdmVkIGFmdGVyIHRoZSBsaW5rIGNyZWF0aW9uLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gVVJJIFRoZSBVUkkgb2YgdGhlIGxpbmsuXG5cdCAqL1xuXHRjcmVhdGUoVVJJLCBhdHRycywgbW9kaWZ5U2VsZWN0aW9uKSB7XG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gdGhpcy5fZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG5cdFx0Y29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VzKClbMF07XG5cblx0XHRpZiAocmFuZ2UuY29sbGFwc2VkKSB7XG5cdFx0XHRjb25zdCB0ZXh0ID0gbmV3IENLRURJVE9SLmRvbS50ZXh0KFVSSSwgdGhpcy5fZWRpdG9yLmRvY3VtZW50KTtcblx0XHRcdHJhbmdlLmluc2VydE5vZGUodGV4dCk7XG5cdFx0XHRyYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGV4dCk7XG5cdFx0fVxuXG5cdFx0VVJJID0gdGhpcy5fZ2V0Q29tcGxldGVVUkkoVVJJKTtcblxuXHRcdGNvbnN0IGxpbmtBdHRycyA9IENLRURJVE9SLnRvb2xzLm1lcmdlKFxuXHRcdFx0e1xuXHRcdFx0XHQnZGF0YS1ja2Utc2F2ZWQtaHJlZic6IFVSSSxcblx0XHRcdFx0aHJlZjogVVJJLFxuXHRcdFx0fSxcblx0XHRcdGF0dHJzXG5cdFx0KTtcblxuXHRcdGNvbnN0IHN0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKHtcblx0XHRcdGF0dHJpYnV0ZXM6IGxpbmtBdHRycyxcblx0XHRcdGVsZW1lbnQ6ICdhJyxcblx0XHR9KTtcblxuXHRcdHN0eWxlLnR5cGUgPSBDS0VESVRPUi5TVFlMRV9JTkxJTkU7XG5cdFx0c3R5bGUuYXBwbHlUb1JhbmdlKHJhbmdlLCB0aGlzLl9lZGl0b3IpO1xuXG5cdFx0aWYgKG1vZGlmeVNlbGVjdGlvbiAmJiBtb2RpZnlTZWxlY3Rpb24uYWR2YW5jZSkge1xuXHRcdFx0dGhpcy5hZHZhbmNlU2VsZWN0aW9uKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJhbmdlLnNlbGVjdCgpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogUmV0cmlldmVzIGEgbGluayBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5MaW5rXG5cdCAqIEBtZXRob2QgZ2V0RnJvbVNlbGVjdGlvblxuXHQgKiBAcmV0dXJuIHtDS0VESVRPUi5kb20uZWxlbWVudH0gVGhlIHJldHJpZXZlZCBsaW5rIG9yIG51bGwgaWYgbm90IGZvdW5kLlxuXHQgKi9cblx0Z2V0RnJvbVNlbGVjdGlvbigpIHtcblx0XHRjb25zdCBzZWxlY3Rpb24gPSB0aGlzLl9lZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cblx0XHRjb25zdCBzZWxlY3RlZEVsZW1lbnQgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7XG5cblx0XHRpZiAoc2VsZWN0ZWRFbGVtZW50ICYmIHNlbGVjdGVkRWxlbWVudC5pcygnYScpKSB7XG5cdFx0XHRyZXR1cm4gc2VsZWN0ZWRFbGVtZW50O1xuXHRcdH1cblxuXHRcdGlmIChzZWxlY3RlZEVsZW1lbnQgJiYgQ0tFRElUT1IuZW52LmllKSB7XG5cdFx0XHRjb25zdCBjaGlsZHJlbiA9IHNlbGVjdGVkRWxlbWVudC5nZXRDaGlsZHJlbigpO1xuXG5cdFx0XHRjb25zdCBjb3VudCA9IGNoaWxkcmVuLmNvdW50KCk7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdFx0XHRjb25zdCBub2RlID0gY2hpbGRyZW4uZ2V0SXRlbShpKTtcblxuXHRcdFx0XHRpZiAobm9kZS5pcygnYScpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZXMoKVswXTtcblxuXHRcdGlmIChyYW5nZSkge1xuXHRcdFx0cmFuZ2Uuc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKTtcblxuXHRcdFx0cmV0dXJuIHRoaXMuX2VkaXRvclxuXHRcdFx0XHQuZWxlbWVudFBhdGgocmFuZ2UuZ2V0Q29tbW9uQW5jZXN0b3IoKSlcblx0XHRcdFx0LmNvbnRhaW5zKCdhJywgMSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYSBsaW5rIGZyb20gdGhlIGVkaXRvci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5MaW5rXG5cdCAqIEBtZXRob2QgcmVtb3ZlXG5cdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGxpbmsgVGhlIGxpbmsgZWxlbWVudCB3aGljaCBsaW5rIHN0eWxlIHNob3VsZCBiZSByZW1vdmVkLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbW9kaWZ5U2VsZWN0aW9uIEEgY29uZmlnIG9iamVjdCB3aXRoIGFuIGFkdmFuY2UgYXR0cmlidXRlIHRvIGluZGljYXRlIGlmIHRoZSBzZWxlY3Rpb24gc2hvdWxkIGJlIG1vdmVkIGFmdGVyIHRoZSBsaW5rIGNyZWF0aW9uLlxuXHQgKi9cblx0cmVtb3ZlKGxpbmssIG1vZGlmeVNlbGVjdGlvbikge1xuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuX2VkaXRvcjtcblxuXHRcdGlmIChsaW5rKSB7XG5cdFx0XHRpZiAobW9kaWZ5U2VsZWN0aW9uICYmIG1vZGlmeVNlbGVjdGlvbi5hZHZhbmNlKSB7XG5cdFx0XHRcdHRoaXMuYWR2YW5jZVNlbGVjdGlvbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRsaW5rLnJlbW92ZShlZGl0b3IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBzdHlsZSA9IG5ldyBDS0VESVRPUi5zdHlsZSh7XG5cdFx0XHRcdGFsd2F5c1JlbW92ZUVsZW1lbnQ6IDEsXG5cdFx0XHRcdGVsZW1lbnQ6ICdhJyxcblx0XHRcdFx0dHlwZTogQ0tFRElUT1IuU1RZTEVfSU5MSU5FLFxuXHRcdFx0fSk7XG5cblx0XHRcdC8vICdyZW1vdmVTdHlsZSgpJyByZW1vdmVzIHRoZSBzdHlsZSBmcm9tIHRoZSBlZGl0b3IncyBjdXJyZW50IHNlbGVjdGlvbi5cblx0XHRcdC8vICBXZSBuZWVkIHRvIGZvcmNlIHRoZSBzZWxlY3Rpb24gdG8gYmUgdGhlIHdob2xlIGxpbmsgZWxlbWVudFxuXHRcdFx0Ly8gIHRvIHJlbW92ZSBpdCBwcm9wZXJseS5cblxuXHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0c2VsZWN0aW9uLnNlbGVjdEVsZW1lbnQoc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudCgpKTtcblxuXHRcdFx0ZWRpdG9yLnJlbW92ZVN0eWxlKHN0eWxlKTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIGhyZWYgb2YgYW4gYWxyZWFkeSBleGlzdGluZyBsaW5rLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLkxpbmtcblx0ICogQG1ldGhvZCB1cGRhdGVcblx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gbGluayBUaGUgbGluayBlbGVtZW50IHdoaWNoIGhyZWYgc2hvdWxkIGJlIHJlbW92ZWQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gYXR0cnMgVGhlIGF0dHJpYnV0ZXMgdG8gdXBkYXRlIG9yIHJlbW92ZS4gQXR0cmlidXRlcyB3aXRoIG51bGwgdmFsdWVzIHdpbGwgYmUgcmVtb3ZlZC5cblx0ICogQHBhcmFtIHtPYmplY3R9IG1vZGlmeVNlbGVjdGlvbiBBIGNvbmZpZyBvYmplY3Qgd2l0aCBhbiBhZHZhbmNlIGF0dHJpYnV0ZSB0byBpbmRpY2F0ZSBpZiB0aGUgc2VsZWN0aW9uIHNob3VsZCBiZSBtb3ZlZCBhZnRlciB0aGUgbGluayBjcmVhdGlvbi5cblx0ICovXG5cdHVwZGF0ZShhdHRycywgbGluaywgbW9kaWZ5U2VsZWN0aW9uKSB7XG5cdFx0Y29uc3QgaW5zdGFuY2UgPSB0aGlzO1xuXG5cdFx0bGluayA9IGxpbmsgfHwgdGhpcy5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cblx0XHRpZiAodHlwZW9mIGF0dHJzID09PSAnc3RyaW5nJykge1xuXHRcdFx0Y29uc3QgdXJpID0gaW5zdGFuY2UuX2dldENvbXBsZXRlVVJJKGF0dHJzKTtcblxuXHRcdFx0bGluay5zZXRBdHRyaWJ1dGVzKHtcblx0XHRcdFx0J2RhdGEtY2tlLXNhdmVkLWhyZWYnOiB1cmksXG5cdFx0XHRcdGhyZWY6IHVyaSxcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGF0dHJzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgcmVtb3ZlQXR0cnMgPSBbXTtcblxuXHRcdFx0Y29uc3Qgc2V0QXR0cnMgPSB7fTtcblxuXHRcdFx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRcdFx0aWYgKGF0dHJzW2tleV0gPT09IG51bGwpIHtcblx0XHRcdFx0XHRpZiAoa2V5ID09PSAnaHJlZicpIHtcblx0XHRcdFx0XHRcdHJlbW92ZUF0dHJzLnB1c2goJ2RhdGEtY2tlLXNhdmVkLWhyZWYnKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZW1vdmVBdHRycy5wdXNoKGtleSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGtleSA9PT0gJ2hyZWYnKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB1cmkgPSBpbnN0YW5jZS5fZ2V0Q29tcGxldGVVUkkoYXR0cnNba2V5XSk7XG5cblx0XHRcdFx0XHRcdHNldEF0dHJzWydkYXRhLWNrZS1zYXZlZC1ocmVmJ10gPSB1cmk7XG5cdFx0XHRcdFx0XHRzZXRBdHRyc1trZXldID0gdXJpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZXRBdHRyc1trZXldID0gYXR0cnNba2V5XTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRsaW5rLnJlbW92ZUF0dHJpYnV0ZXMocmVtb3ZlQXR0cnMpO1xuXHRcdFx0bGluay5zZXRBdHRyaWJ1dGVzKHNldEF0dHJzKTtcblx0XHR9XG5cblx0XHRpZiAobW9kaWZ5U2VsZWN0aW9uICYmIG1vZGlmeVNlbGVjdGlvbi5hZHZhbmNlKSB7XG5cdFx0XHR0aGlzLmFkdmFuY2VTZWxlY3Rpb24obGluayk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIFVSSSBiZWdpbnMgd2l0aCBhICcjJyBzeW1ib2wgdG8gZGV0ZXJtaW5lIGlmIGl0J3MgYW4gb24gcGFnZSBib29rbWFyay5cblx0ICogSWYgaXQgZG9lc24ndCwgaXQgdGhlbiBjaGVja3MgaWYgdGhlIFVSSSBoYXMgYW4gJ0AnIHN5bWJvbC4gSWYgaXQgZG9lcyBhbmQgdGhlIFVSSVxuXHQgKiBsb29rcyBsaWtlIGFuIGVtYWlsIGFuZCBkb2Vzbid0IGhhdmUgJ21haWx0bzonLCAnbWFpbHRvOicgaXMgYWRkZWQgdG8gdGhlIFVSSS5cblx0ICogSWYgaXQgZG9lc24ndCBhbmQgdGhlIFVSSSBkb2Vzbid0IGhhdmUgYSBzY2hlbWUsIHRoZSBkZWZhdWx0ICdodHRwJyBzY2hlbWUgd2l0aFxuXHQgKiBoaWVyYXJjaGljYWwgcGF0aCAnLy8nIGlzIGFkZGVkIHRvIHRoZSBVUkkuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuXHQgKiBAbWV0aG9kIF9nZXRDb21wbGV0ZVVSSVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gVVJJIFRoZSBVUkkgb2YgdGhlIGxpbmsuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7U3RyaW5nfSBUaGUgVVJJIHVwZGF0ZWQgd2l0aCB0aGUgcHJvdG9jb2wuXG5cdCAqL1xuXHRfZ2V0Q29tcGxldGVVUkkoVVJJKSB7XG5cdFx0aWYgKFJFR0VYX0JPT0tNQVJLX1NDSEVNRS50ZXN0KFVSSSkpIHtcblx0XHRcdHJldHVybiBVUkk7XG5cdFx0fSBlbHNlIGlmIChSRUdFWF9FTUFJTF9TQ0hFTUUudGVzdChVUkkpKSB7XG5cdFx0XHRVUkkgPSAnbWFpbHRvOicgKyBVUkk7XG5cdFx0fSBlbHNlIGlmICghUkVHRVhfVVJJX1NDSEVNRS50ZXN0KFVSSSkpIHtcblx0XHRcdFVSSSA9IHRoaXMuYXBwZW5kUHJvdG9jb2wgPyAnaHR0cDovLycgKyBVUkkgOiBVUkk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFVSSTtcblx0fSxcbn07XG5cbkNLRURJVE9SLkxpbmsgPSBDS0VESVRPUi5MaW5rIHx8IExpbms7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbi8vIFdyYXBzIGVhY2ggb2YgdGhlIHBsdWdpbiBsaWZlY3ljbGUgbWV0aG9kcyBpbiBhIGNsb3N1cmUgdGhhdCB3aWxsXG4vLyBzZXQgdXAgdGhlIGVkaXRvci5fX3Byb2Nlc3NpbmdQbHVnaW5fXyB2YXJpYWJsZSBzbyBpdCBjYW4gYmUgZ2xvYmFsbHlcbi8vIGFjY2Vzc2VkIGV4cG9zaW5nIHRoZSBwbHVnaW4gYmVpbmcgcHJvY2Vzc2VkIGFuZCB0aGUgbGlmZWN5Y2xlIHBoYXNlXG4vLyBpbiB3aGljaCBpdCBpcyBoYXBwZW5pbmdcbi8vXG4vLyBAcGFyYW0ge09iamVjdH0gcGx1Z2luIFRoZSBwbHVnaW4gdG8gd3JhcCBsaWZlY3ljbGUgbWV0aG9kc1xuY29uc3Qgd3JhcFBsdWdpbkxpZmVjeWNsZSA9IGZ1bmN0aW9uKHBsdWdpbikge1xuXHRjb25zdCBtZXRob2RzID0gWydiZWZvcmVJbml0JywgJ2luaXQnLCAnYWZ0ZXJJbml0J107XG5cblx0bWV0aG9kcy5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuXHRcdGlmIChwbHVnaW5bbWV0aG9kTmFtZV0pIHtcblx0XHRcdHBsdWdpblttZXRob2ROYW1lXSA9IENLRURJVE9SLnRvb2xzLm92ZXJyaWRlKFxuXHRcdFx0XHRwbHVnaW5bbWV0aG9kTmFtZV0sXG5cdFx0XHRcdG9yaWdpbmFsUGx1Z2luTWV0aG9kID0+IHtcblx0XHRcdFx0XHRjb25zdCBwYXlsb2FkID0ge1xuXHRcdFx0XHRcdFx0cGhhc2U6IG1ldGhvZE5hbWUsXG5cdFx0XHRcdFx0XHRwbHVnaW4sXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbihlZGl0b3IpIHtcblx0XHRcdFx0XHRcdGVkaXRvci5fX3Byb2Nlc3NpbmdQbHVnaW5fXyA9IHBheWxvYWQ7XG5cblx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcblx0XHRcdFx0XHRcdG9yaWdpbmFsUGx1Z2luTWV0aG9kLmNhbGwodGhpcywgZWRpdG9yKTtcblxuXHRcdFx0XHRcdFx0ZWRpdG9yLl9fcHJvY2Vzc2luZ1BsdWdpbl9fID0gbnVsbDtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH1cblx0fSk7XG59O1xuXG4vLyBGaWx0ZXJzIHRoZSByZXF1aXJlcyBvYmplY3QgdG8gcmVtb3ZlIHVud2FudGVkIGRlcGVuZGVuY2llcy4gQXQgdGhpcyBwb2ludFxuLy8gb25seSAndG9vbGJhcicgaGFzIGJlZW4gaWRlbnRpZmllZCwgYnV0IG1vcmUgY2FuIGFwcGVhci4gQW4gdW53YW50ZWQgcGx1Z2luXG4vLyBkZXBlbmRlbmN5IGlzIG9uZSB0aGF0IHByZXZlbnRzIGEgbmVjZXNzYXJ5IHBsdWdpbiBmcm9tIGJlaW5nIHJlbW92ZWRcbi8vXG4vLyBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSByZXF1aXJlcyBUaGUgcmVxdWlyZXMgb2JqZWN0XG4vLyBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmaWx0ZXJlZCByZXF1aXJlcyBvYmplY3RcbmNvbnN0IGZpbHRlclVud2FudGVkRGVwZW5kZW5jaWVzID0gZnVuY3Rpb24ocmVxdWlyZXMpIHtcblx0aWYgKHR5cGVvZiByZXF1aXJlcyA9PT0gJ3N0cmluZycpIHtcblx0XHRyZXF1aXJlcyA9IHJlcXVpcmVzLnNwbGl0KCcsJyk7XG5cdH1cblxuXHRyZXR1cm4gcmVxdWlyZXMuZmlsdGVyKHJlcXVpcmUgPT4ge1xuXHRcdHJldHVybiByZXF1aXJlICE9PSAndG9vbGJhcic7XG5cdH0pO1xufTtcblxuLyoqXG4gKiBDS0VESVRPUi5wbHVnaW5zIGNsYXNzIHV0aWxpdHkgd2hpY2ggYWRkcyBhZGRpdGlvbmFsIG1ldGhvZHMgdG8gdGhvc2Ugb2YgQ0tFZGl0b3IuXG4gKlxuICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnNcbiAqL1xuXG4vKipcbiAqIE92ZXJyaWRlcyBDS0VESVRPUi5wbHVnaW5zLmxvYWQgbWV0aG9kIHNvIHdlIGNhbiBleHRlbmQgdGhlIGxpZmVjeWNsZSBtZXRob2RzIG9mXG4gKiB0aGUgbG9hZGVkIHBsdWdpbnMgdG8gYWRkIHNvbWUgbWV0YWluZm9ybWF0aW9uIGFib3V0IHRoZSBwbHVnaW4gYmVpbmcgcHJvY2Vzc2VkXG4gKlxuICogQHBhcmFtIHtTdHJpbmcvQXJyYXl9IG5hbWVzIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLiBJdCBtYXkgYmUgYVxuICogc3RyaW5nIHdpdGggYSBzaW5nbGUgcmVzb3VyY2UgbmFtZSwgb3IgYW4gYXJyYXkgd2l0aCBzZXZlcmFsIG5hbWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBhbGwgcmVzb3VyY2VzXG4gKiBhcmUgbG9hZGVkLiBUaGUgY2FsbGJhY2sgd2lsbCByZWNlaXZlIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIGxvYWRlZCBuYW1lcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGVdIFRoZSBzY29wZSBvYmplY3QgdG8gYmUgdXNlZCBmb3IgdGhlIGNhbGxiYWNrIGNhbGwuXG4gKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2luc1xuICogQG1ldGhvZCBsb2FkXG4gKiBAc3RhdGljXG4gKi9cbkNLRURJVE9SLnBsdWdpbnMubG9hZCA9IENLRURJVE9SLnRvb2xzLm92ZXJyaWRlKFxuXHRDS0VESVRPUi5wbHVnaW5zLmxvYWQsXG5cdHBsdWdpbnNMb2FkID0+IHtcblx0XHQvLyBXcmFwIG9yaWdpbmFsIGxvYWQgZnVuY3Rpb24gc28gd2UgY2FuIHRyYW5zZm9ybSB0aGUgcGx1Z2luIGlucHV0IHBhcmFtZXRlclxuXHRcdC8vIGJlZm9yZSBwYXNzaW5nIGl0IGRvd24gdG8gdGhlIG9yaWdpbmFsIGNhbGxiYWNrXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKG5hbWVzLCBjYWxsYmFjaywgc2NvcGUpIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcblx0XHRcdHBsdWdpbnNMb2FkLmNhbGwodGhpcywgbmFtZXMsIHBsdWdpbnMgPT4ge1xuXHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRPYmplY3Qua2V5cyhwbHVnaW5zKS5mb3JFYWNoKHBsdWdpbk5hbWUgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgcGx1Z2luID0gcGx1Z2luc1twbHVnaW5OYW1lXTtcblxuXHRcdFx0XHRcdFx0aWYgKHBsdWdpbi5yZXF1aXJlcykge1xuXHRcdFx0XHRcdFx0XHRwbHVnaW4ucmVxdWlyZXMgPSBmaWx0ZXJVbndhbnRlZERlcGVuZGVuY2llcyhcblx0XHRcdFx0XHRcdFx0XHRwbHVnaW4ucmVxdWlyZXNcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0d3JhcFBsdWdpbkxpZmVjeWNsZShwbHVnaW4pO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChzY29wZSwgcGx1Z2lucyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cdH1cbik7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3NlbGVjdGlvbnJlZ2lvbicpKSB7XG5cdENLRURJVE9SLlNFTEVDVElPTl9UT1BfVE9fQk9UVE9NID0gMDtcblx0Q0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1AgPSAxO1xuXHRDS0VESVRPUi5TRUxFQ1RJT05fTEVGVF9UT19SSUdIVCA9IDI7XG5cdENLRURJVE9SLlNFTEVDVElPTl9SSUdIVF9UT19MRUZUID0gMztcblxuXHQvKipcblx0ICogU2VsZWN0aW9uUmVnaW9uIHV0aWxpdHkgY2xhc3Mgd2hpY2ggcHJvdmlkZXMgbWV0YWRhdGEgYWJvdXQgdGhlIHNlbGVjdGlvbi4gVGhlIG1ldGFkYXRhIG1heSBiZSB0aGUgc3RhcnQgYW5kIGVuZFxuXHQgKiByZWN0YW5nbGVzLCBjYXJldCByZWdpb24sIGV0Yy4gKipUaGlzIGNsYXNzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIHN0YW5kYWxvbmUuIEl0cyBmdW5jdGlvbnMgd2lsbFxuXHQgKiBiZSBtZXJnZWQgaW50byBlYWNoIGVkaXRvciBpbnN0YW5jZSwgc28gdGhlIGRldmVsb3BlciBtYXkgdXNlIHRoZW0gZGlyZWN0bHkgdmlhIHRoZSBlZGl0b3IsIHdpdGhvdXQgbWFraW5nXG5cdCAqIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MqKi5cblx0ICpcblx0ICogQGNsYXNzIFNlbGVjdGlvblJlZ2lvblxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIFNlbGVjdGlvblJlZ2lvbigpIHt9XG5cblx0U2VsZWN0aW9uUmVnaW9uLnByb3RvdHlwZSA9IHtcblx0XHRjb25zdHJ1Y3RvcjogU2VsZWN0aW9uUmVnaW9uLFxuXG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBzZWxlY3Rpb24gZnJvbSB0d28gcG9pbnRzIGluIHBhZ2UgY29vcmRpbmF0ZXMuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG5cdFx0ICogQG1ldGhvZCBjcmVhdGVTZWxlY3Rpb25Gcm9tUG9pbnRcblx0XHQgKiBAcGFyYW0ge051bWJlcn0geCBYIHBvaW50IGluIHBhZ2UgY29vcmRpbmF0ZXMuXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBwb2ludCBpbiBwYWdlIGNvb3JkaW5hdGVzLlxuXHRcdCAqL1xuXHRcdGNyZWF0ZVNlbGVjdGlvbkZyb21Qb2ludCh4LCB5KSB7XG5cdFx0XHR0aGlzLmNyZWF0ZVNlbGVjdGlvbkZyb21SYW5nZSh4LCB5LCB4LCB5KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBzZWxlY3Rpb24gZnJvbSByYW5nZS4gQSByYW5nZSBjb25zaXN0cyBmcm9tIHR3byBwb2ludHMgaW4gcGFnZSBjb29yZGluYXRlcy5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBTZWxlY3Rpb25SZWdpb25cblx0XHQgKiBAbWV0aG9kIGNyZWF0ZVNlbGVjdGlvbkZyb21SYW5nZVxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFggWCBjb29yZGluYXRlIG9mIHRoZSBmaXJzdCBwb2ludC5cblx0XHQgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRZIFkgY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgcG9pbnQuXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGVuZFggWCBjb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGVuZFkgWSBjb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG5cdFx0ICovXG5cdFx0Y3JlYXRlU2VsZWN0aW9uRnJvbVJhbmdlKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSB7XG5cdFx0XHRsZXQgZW5kO1xuXHRcdFx0bGV0IGVuZENvbnRhaW5lcjtcblx0XHRcdGxldCBlbmRPZmZzZXQ7XG5cdFx0XHRsZXQgcmFuZ2U7XG5cdFx0XHRsZXQgc3RhcnQ7XG5cdFx0XHRsZXQgc3RhcnRDb250YWluZXI7XG5cdFx0XHRsZXQgc3RhcnRPZmZzZXQ7XG5cblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRzdGFydCA9IGRvY3VtZW50LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoc3RhcnRYLCBzdGFydFkpO1xuXHRcdFx0XHRlbmQgPSBkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGVuZFgsIGVuZFkpO1xuXG5cdFx0XHRcdHN0YXJ0Q29udGFpbmVyID0gc3RhcnQub2Zmc2V0Tm9kZTtcblx0XHRcdFx0ZW5kQ29udGFpbmVyID0gZW5kLm9mZnNldE5vZGU7XG5cblx0XHRcdFx0c3RhcnRPZmZzZXQgPSBzdGFydC5vZmZzZXQ7XG5cdFx0XHRcdGVuZE9mZnNldCA9IGVuZC5vZmZzZXQ7XG5cblx0XHRcdFx0cmFuZ2UgPSB0aGlzLmNyZWF0ZVJhbmdlKCk7XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHN0YXJ0ID0gZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludChzdGFydFgsIHN0YXJ0WSk7XG5cdFx0XHRcdGVuZCA9IGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQoZW5kWCwgZW5kWSk7XG5cblx0XHRcdFx0c3RhcnRDb250YWluZXIgPSBzdGFydC5zdGFydENvbnRhaW5lcjtcblx0XHRcdFx0ZW5kQ29udGFpbmVyID0gZW5kLnN0YXJ0Q29udGFpbmVyO1xuXG5cdFx0XHRcdHN0YXJ0T2Zmc2V0ID0gc3RhcnQuc3RhcnRPZmZzZXQ7XG5cdFx0XHRcdGVuZE9mZnNldCA9IGVuZC5zdGFydE9mZnNldDtcblxuXHRcdFx0XHRyYW5nZSA9IHRoaXMuY3JlYXRlUmFuZ2UoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHJhbmdlICYmIGRvY3VtZW50LmdldFNlbGVjdGlvbikge1xuXHRcdFx0XHRyYW5nZS5zZXRTdGFydChcblx0XHRcdFx0XHRuZXcgQ0tFRElUT1IuZG9tLm5vZGUoc3RhcnRDb250YWluZXIpLFxuXHRcdFx0XHRcdHN0YXJ0T2Zmc2V0XG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJhbmdlLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZW5kQ29udGFpbmVyKSwgZW5kT2Zmc2V0KTtcblxuXHRcdFx0XHR0aGlzLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbcmFuZ2VdKTtcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG5cblx0XHRcdFx0c2VsZWN0aW9uLnVubG9jaygpO1xuXG5cdFx0XHRcdHJhbmdlID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcblx0XHRcdFx0cmFuZ2UubW92ZVRvUG9pbnQoc3RhcnRYLCBzdGFydFkpO1xuXG5cdFx0XHRcdGNvbnN0IGVuZFJhbmdlID0gcmFuZ2UuZHVwbGljYXRlKCk7XG5cdFx0XHRcdGVuZFJhbmdlLm1vdmVUb1BvaW50KGVuZFgsIGVuZFkpO1xuXG5cdFx0XHRcdHJhbmdlLnNldEVuZFBvaW50KCdFbmRUb0VuZCcsIGVuZFJhbmdlKTtcblx0XHRcdFx0cmFuZ2Uuc2VsZWN0KCk7XG5cblx0XHRcdFx0dGhpcy5nZXRTZWxlY3Rpb24oKS5sb2NrKCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHJlZ2lvbiBvZiB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgY2FyZXQuIFRoZSBwb2ludHMgYXJlIGluIHBhZ2UgY29vcmRpbmF0ZXMuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG5cdFx0ICogQG1ldGhvZCBnZXRDYXJldFJlZ2lvblxuXHRcdCAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG5cdFx0ICogLSBib3R0b21cblx0XHQgKiAtIGxlZnRcblx0XHQgKiAtIHJpZ2h0XG5cdFx0ICogLSB0b3Bcblx0XHQgKi9cblx0XHRnZXRDYXJldFJlZ2lvbigpIHtcblx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG5cblx0XHRcdGxldCByZWdpb24gPSB7XG5cdFx0XHRcdGJvdHRvbTogMCxcblx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0cmlnaHQ6IDAsXG5cdFx0XHRcdHRvcDogMCxcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IGJvb2ttYXJrcyA9IHNlbGVjdGlvbi5jcmVhdGVCb29rbWFya3MoKTtcblxuXHRcdFx0aWYgKCFib29rbWFya3MubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiByZWdpb247XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGJvb2ttYXJrTm9kZUVsID0gYm9va21hcmtzWzBdLnN0YXJ0Tm9kZS4kO1xuXG5cdFx0XHRib29rbWFya05vZGVFbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG5cblx0XHRcdHJlZ2lvbiA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChib29rbWFya05vZGVFbCkuZ2V0Q2xpZW50UmVjdCgpO1xuXG5cdFx0XHRib29rbWFya05vZGVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJvb2ttYXJrTm9kZUVsKTtcblxuXHRcdFx0Y29uc3Qgc2Nyb2xsUG9zID0gbmV3IENLRURJVE9SLmRvbS53aW5kb3coXG5cdFx0XHRcdHdpbmRvd1xuXHRcdFx0KS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuXG5cdFx0XHRyZWdpb24uYm90dG9tID0gc2Nyb2xsUG9zLnkgKyByZWdpb24uYm90dG9tO1xuXHRcdFx0cmVnaW9uLmxlZnQgPSBzY3JvbGxQb3MueCArIHJlZ2lvbi5sZWZ0O1xuXHRcdFx0cmVnaW9uLnJpZ2h0ID0gc2Nyb2xsUG9zLnggKyByZWdpb24ucmlnaHQ7XG5cdFx0XHRyZWdpb24udG9wID0gc2Nyb2xsUG9zLnkgKyByZWdpb24udG9wO1xuXG5cdFx0XHRyZXR1cm4gcmVnaW9uO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGRhdGEgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBTZWxlY3Rpb25SZWdpb25cblx0XHQgKiBAbWV0aG9kIGdldFNlbGVjdGlvbkRhdGFcblx0XHQgKiBAcmV0dXJuIHtPYmplY3R8bnVsbH0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGRhdGE6XG5cdFx0ICogLSBlbGVtZW50IC0gVGhlIGN1cnJlbnRseSBzZWxlY3RlZCBlbGVtZW50LCBpZiBhbnlcblx0XHQgKiAtIHRleHQgLSBUaGUgc2VsZWN0ZWQgdGV4dFxuXHRcdCAqIC0gcmVnaW9uIC0gVGhlIGRhdGEsIHJldHVybmVkIGZyb20ge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25yZWdpb24vZ2V0U2VsZWN0aW9uUmVnaW9uOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqL1xuXHRcdGdldFNlbGVjdGlvbkRhdGEoKSB7XG5cdFx0XHRjb25zdCBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuXG5cdFx0XHRpZiAoIXNlbGVjdGlvbi5nZXROYXRpdmUoKSkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcmVzdWx0ID0ge1xuXHRcdFx0XHRlbGVtZW50OiBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCksXG5cdFx0XHRcdHRleHQ6IHNlbGVjdGlvbi5nZXRTZWxlY3RlZFRleHQoKSxcblx0XHRcdH07XG5cblx0XHRcdHJlc3VsdC5yZWdpb24gPSB0aGlzLmdldFNlbGVjdGlvblJlZ2lvbihzZWxlY3Rpb24pO1xuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSByZWdpb24gb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFNlbGVjdGlvblJlZ2lvblxuXHRcdCAqIEBtZXRob2QgZ2V0U2VsZWN0aW9uUmVnaW9uXG5cdFx0ICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIG9iamVjdCB3aGljaCBpcyBiZWluZyByZXR1cm5lZCBmcm9tXG5cdFx0ICoge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25yZWdpb24vZ2V0Q2xpZW50UmVjdHNSZWdpb246bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319IHdpdGggdGhyZWUgbW9yZSBwcm9wZXJ0aWVzOlxuXHRcdCAqIC0gZGlyZWN0aW9uIC0gdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2VsZWN0aW9uLiBDYW4gYmUgb25lIG9mIHRoZXNlOlxuXHRcdCAqICAgMS4gQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT01cblx0XHQgKiAgIDIuIENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QXG5cdFx0ICogLSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBzZWxlY3Rpb24gcmVnaW9uXG5cdFx0ICogLSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgc2VsZWN0aW9uIHJlZ2lvblxuXHRcdCAqL1xuXHRcdGdldFNlbGVjdGlvblJlZ2lvbigpIHtcblx0XHRcdGNvbnN0IHJlZ2lvbiA9IHRoaXMuZ2V0Q2xpZW50UmVjdHNSZWdpb24oKTtcblxuXHRcdFx0cmVnaW9uLmRpcmVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uRGlyZWN0aW9uKCk7XG5cblx0XHRcdHJlZ2lvbi5oZWlnaHQgPSByZWdpb24uYm90dG9tIC0gcmVnaW9uLnRvcDtcblx0XHRcdHJlZ2lvbi53aWR0aCA9IHJlZ2lvbi5yaWdodCAtIHJlZ2lvbi5sZWZ0O1xuXG5cdFx0XHRyZXR1cm4gcmVnaW9uO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGlzIGVtcHR5LCBmYWxzZSBvdGhlcndpc2UuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG5cdFx0ICogQG1ldGhvZCBpc1NlbGVjdGlvbkVtcHR5XG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpcyBlbXB0eSwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHRcdCAqL1xuXHRcdGlzU2VsZWN0aW9uRW1wdHkoKSB7XG5cdFx0XHRjb25zdCBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuXG5cdFx0XHRpZiAoc2VsZWN0aW9uLmdldFR5cGUoKSA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX05PTkUpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJhbmdlcyA9IHNlbGVjdGlvbi5nZXRSYW5nZXMoKTtcblx0XHRcdHJldHVybiByYW5nZXMgJiYgcmFuZ2VzLmxlbmd0aCA9PT0gMSAmJiByYW5nZXNbMF0uY29sbGFwc2VkO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIG9iamVjdCB3aXRoIGRhdGEgYWJvdXQgdGhlIFtjbGllbnQgcmVjdGFuZ2xlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMpIG9mIHRoZSBzZWxlY3Rpb24sXG5cdFx0ICogbm9ybWFsaXplZCBhY3Jvc3MgYnJvd3Nlcy4gQWxsIG9mZnNldHMgYmVsb3cgYXJlIGluIHBhZ2UgY29vcmRpbmF0ZXMuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG5cdFx0ICogQG1ldGhvZCBnZXRDbGllbnRSZWN0c1JlZ2lvblxuXHRcdCAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGRhdGE6XG5cdFx0ICogLSBib3R0b20gLSBib3R0b20gb2Zmc2V0IG9mIGFsbCBjbGllbnQgcmVjdGFuZ2xlc1xuXHRcdCAqIC0gbGVmdCAtIGxlZnQgb2Zmc2V0IG9mIGFsbCBjbGllbnQgcmVjdGFuZ2xlc1xuXHRcdCAqIC0gcmlnaHQgLSByaWdodCBvZmZzZXQgb2YgYWxsIGNsaWVudCByZWN0YW5nbGVzXG5cdFx0ICogLSB0b3AgLSB0b3Agb2Zmc2V0IG9mIGFsbCBjbGllbnQgcmVjdGFuZ2xlc1xuXHRcdCAqIC0gc3RhcnRSZWN0IC0gQW4gT2JqZWN0LCB3aGljaCBjb250YWlucyB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uOlxuXHRcdCAqICAgICArIGJvdHRvbSAtIGJvdHRvbSBvZmZzZXRcblx0XHQgKiAgICAgKyBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcblx0XHQgKiAgICAgKyBsZWZ0IC0gbGVmdCBvZmZzZXQgb2YgdGhlIHNlbGVjdGlvblxuXHRcdCAqICAgICArIHJpZ2h0IC0gcmlnaHQgb2Zmc2V0IG9mIHRoZSBzZWxlY3Rpb25cblx0XHQgKiAgICAgKyB0b3AgLSB0b3Agb2Zmc2V0IG9mIHRoZSBzZWxlY3Rpb25cblx0XHQgKiAgICAgKyB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG5cdFx0ICogLSBlbmRSZWN0IC0gQW4gT2JqZWN0LCB3aGljaCBjb250YWlucyB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uOlxuXHRcdCAqICAgICArIGJvdHRvbSAtIGJvdHRvbSBvZmZzZXRcblx0XHQgKiAgICAgKyBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcblx0XHQgKiAgICAgKyBsZWZ0IC0gbGVmdCBvZmZzZXQgb2YgdGhlIHNlbGVjdGlvblxuXHRcdCAqICAgICArIHJpZ2h0IC0gcmlnaHQgb2Zmc2V0IG9mIHRoZSBzZWxlY3Rpb25cblx0XHQgKiAgICAgKyB0b3AgLSB0b3Agb2Zmc2V0IG9mIHRoZSBzZWxlY3Rpb25cblx0XHQgKiAgICAgKyB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG5cdFx0ICpcblx0XHQgKiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgc2VsZWN0aW9uLCB0aGUgb2JqZWN0cyB3aWxsIGJlIGZpbGxlZCB3aXRoIDAuXG5cdFx0ICovXG5cdFx0Z2V0Q2xpZW50UmVjdHNSZWdpb24oKSB7XG5cdFx0XHRjb25zdCBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0Y29uc3QgbmF0aXZlU2VsZWN0aW9uID0gc2VsZWN0aW9uLmdldE5hdGl2ZSgpO1xuXG5cdFx0XHRjb25zdCBkZWZhdWx0UmVjdCA9IHtcblx0XHRcdFx0Ym90dG9tOiAwLFxuXHRcdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdHJpZ2h0OiAwLFxuXHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0fTtcblxuXHRcdFx0bGV0IHJlZ2lvbiA9IHtcblx0XHRcdFx0Ym90dG9tOiAwLFxuXHRcdFx0XHRlbmRSZWN0OiBkZWZhdWx0UmVjdCxcblx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0cmlnaHQ6IDAsXG5cdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0c3RhcnRSZWN0OiBkZWZhdWx0UmVjdCxcblx0XHRcdH07XG5cblx0XHRcdGlmICghbmF0aXZlU2VsZWN0aW9uKSB7XG5cdFx0XHRcdHJldHVybiByZWdpb247XG5cdFx0XHR9XG5cblx0XHRcdGxldCBib3R0b20gPSAwO1xuXHRcdFx0bGV0IGNsaWVudFJlY3RzO1xuXHRcdFx0bGV0IGxlZnQgPSBJbmZpbml0eTtcblx0XHRcdGxldCByaWdodCA9IC1JbmZpbml0eTtcblx0XHRcdGxldCB0b3AgPSBJbmZpbml0eTtcblxuXHRcdFx0aWYgKG5hdGl2ZVNlbGVjdGlvbi5jcmVhdGVSYW5nZSkge1xuXHRcdFx0XHRjbGllbnRSZWN0cyA9IG5hdGl2ZVNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmdldENsaWVudFJlY3RzKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbGllbnRSZWN0cyA9XG5cdFx0XHRcdFx0bmF0aXZlU2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwXG5cdFx0XHRcdFx0XHQ/IG5hdGl2ZVNlbGVjdGlvbi5nZXRSYW5nZUF0KDApLmdldENsaWVudFJlY3RzKClcblx0XHRcdFx0XHRcdDogW107XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjbGllbnRSZWN0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0cmVnaW9uID0gdGhpcy5nZXRDYXJldFJlZ2lvbigpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGNsaWVudFJlY3RzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IGNsaWVudFJlY3RzW2ldO1xuXG5cdFx0XHRcdFx0aWYgKGl0ZW0ubGVmdCA8IGxlZnQpIHtcblx0XHRcdFx0XHRcdGxlZnQgPSBpdGVtLmxlZnQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGl0ZW0ucmlnaHQgPiByaWdodCkge1xuXHRcdFx0XHRcdFx0cmlnaHQgPSBpdGVtLnJpZ2h0O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChpdGVtLnRvcCA8IHRvcCkge1xuXHRcdFx0XHRcdFx0dG9wID0gaXRlbS50b3A7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGl0ZW0uYm90dG9tID4gYm90dG9tKSB7XG5cdFx0XHRcdFx0XHRib3R0b20gPSBpdGVtLmJvdHRvbTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBzY3JvbGxQb3MgPSBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyhcblx0XHRcdFx0XHR3aW5kb3dcblx0XHRcdFx0KS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuXG5cdFx0XHRcdHJlZ2lvbi5ib3R0b20gPSBzY3JvbGxQb3MueSArIGJvdHRvbTtcblx0XHRcdFx0cmVnaW9uLmxlZnQgPSBzY3JvbGxQb3MueCArIGxlZnQ7XG5cdFx0XHRcdHJlZ2lvbi5yaWdodCA9IHNjcm9sbFBvcy54ICsgcmlnaHQ7XG5cdFx0XHRcdHJlZ2lvbi50b3AgPSBzY3JvbGxQb3MueSArIHRvcDtcblxuXHRcdFx0XHRpZiAoY2xpZW50UmVjdHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Y29uc3QgZW5kUmVjdCA9IGNsaWVudFJlY3RzW2NsaWVudFJlY3RzLmxlbmd0aCAtIDFdO1xuXHRcdFx0XHRcdGNvbnN0IHN0YXJ0UmVjdCA9IGNsaWVudFJlY3RzWzBdO1xuXG5cdFx0XHRcdFx0cmVnaW9uLmVuZFJlY3QgPSB7XG5cdFx0XHRcdFx0XHRib3R0b206IHNjcm9sbFBvcy55ICsgZW5kUmVjdC5ib3R0b20sXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IGVuZFJlY3QuaGVpZ2h0LFxuXHRcdFx0XHRcdFx0bGVmdDogc2Nyb2xsUG9zLnggKyBlbmRSZWN0LmxlZnQsXG5cdFx0XHRcdFx0XHRyaWdodDogc2Nyb2xsUG9zLnggKyBlbmRSZWN0LnJpZ2h0LFxuXHRcdFx0XHRcdFx0dG9wOiBzY3JvbGxQb3MueSArIGVuZFJlY3QudG9wLFxuXHRcdFx0XHRcdFx0d2lkdGg6IGVuZFJlY3Qud2lkdGgsXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdHJlZ2lvbi5zdGFydFJlY3QgPSB7XG5cdFx0XHRcdFx0XHRib3R0b206IHNjcm9sbFBvcy55ICsgc3RhcnRSZWN0LmJvdHRvbSxcblx0XHRcdFx0XHRcdGhlaWdodDogc3RhcnRSZWN0LmhlaWdodCxcblx0XHRcdFx0XHRcdGxlZnQ6IHNjcm9sbFBvcy54ICsgc3RhcnRSZWN0LmxlZnQsXG5cdFx0XHRcdFx0XHRyaWdodDogc2Nyb2xsUG9zLnggKyBzdGFydFJlY3QucmlnaHQsXG5cdFx0XHRcdFx0XHR0b3A6IHNjcm9sbFBvcy55ICsgc3RhcnRSZWN0LnRvcCxcblx0XHRcdFx0XHRcdHdpZHRoOiBzdGFydFJlY3Qud2lkdGgsXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVnaW9uO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXRyaWV2ZXMgdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2VsZWN0aW9uLiBUaGUgZGlyZWN0aW9uIGlzIGZyb20gdG9wIHRvIGJvdHRvbSBvciBmcm9tIGJvdHRvbSB0byB0b3AuXG5cdFx0ICogRm9yIElFIDwgOSBpdCBpcyBub3QgcG9zc2libGUsIHNvIHRoZSBkaXJlY3Rpb24gZm9yIHRoZXNlIGJyb3dzZXJzIHdpbGwgYmUgYWx3YXlzIENLRURJVE9SLlNFTEVDVElPTl9UT1BfVE9fQk9UVE9NLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIFNlbGVjdGlvblJlZ2lvblxuXHRcdCAqIEBtZXRob2QgZ2V0U2VsZWN0aW9uRGlyZWN0aW9uXG5cdFx0ICogQHJldHVybiB7TnVtYmVyfSBSZXR1cm5zIGEgbnVtYmVyIHdoaWNoIHJlcHJlc2VudHMgc2VsZWN0aW9uIGRpcmVjdGlvbi4gSXQgbWlnaHQgYmUgb25lIG9mIHRoZXNlOlxuXHRcdCAqIC0gQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT007XG5cdFx0ICogLSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUDtcblx0XHQgKi9cblx0XHRnZXRTZWxlY3Rpb25EaXJlY3Rpb24oKSB7XG5cdFx0XHRsZXQgZGlyZWN0aW9uID0gQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT007XG5cdFx0XHRjb25zdCBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0Y29uc3QgbmF0aXZlU2VsZWN0aW9uID0gc2VsZWN0aW9uLmdldE5hdGl2ZSgpO1xuXG5cdFx0XHRpZiAoIW5hdGl2ZVNlbGVjdGlvbikge1xuXHRcdFx0XHRyZXR1cm4gZGlyZWN0aW9uO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgYW5jaG9yTm9kZTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHQoYW5jaG9yTm9kZSA9IG5hdGl2ZVNlbGVjdGlvbi5hbmNob3JOb2RlKSAmJlxuXHRcdFx0XHRhbmNob3JOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSBhbmNob3JOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKFxuXHRcdFx0XHRcdG5hdGl2ZVNlbGVjdGlvbi5mb2N1c05vZGVcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KCFwb3NpdGlvbiAmJlxuXHRcdFx0XHRcdFx0bmF0aXZlU2VsZWN0aW9uLmFuY2hvck9mZnNldCA+XG5cdFx0XHRcdFx0XHRcdG5hdGl2ZVNlbGVjdGlvbi5mb2N1c09mZnNldCkgfHxcblx0XHRcdFx0XHRwb3NpdGlvbiA9PT0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkdcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0ZGlyZWN0aW9uID0gQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1A7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRpcmVjdGlvbjtcblx0XHR9LFxuXHR9O1xuXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV9zZWxlY3Rpb25yZWdpb24nLCB7XG5cdFx0aW5pdChlZGl0b3IpIHtcblx0XHRcdGxldCBhdHRyO1xuXHRcdFx0Y29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5cdFx0XHRmb3IgKGF0dHIgaW4gU2VsZWN0aW9uUmVnaW9uLnByb3RvdHlwZSkge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0aGFzT3duUHJvcGVydHkuY2FsbChTZWxlY3Rpb25SZWdpb24ucHJvdG90eXBlLCBhdHRyKSAmJlxuXHRcdFx0XHRcdHR5cGVvZiBlZGl0b3JbYXR0cl0gPT09ICd1bmRlZmluZWQnXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGVkaXRvclthdHRyXSA9IFNlbGVjdGlvblJlZ2lvbi5wcm90b3R5cGVbYXR0cl07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHR9KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuY29uc3QgSUVfTk9OX0RJUkVDVExZX0VESVRBQkxFX0VMRU1FTlQgPSB7XG5cdHRhYmxlOiAxLFxuXHRjb2w6IDEsXG5cdGNvbGdyb3VwOiAxLFxuXHR0Ym9keTogMSxcblx0dGQ6IDEsXG5cdHRmb290OiAxLFxuXHR0aDogMSxcblx0dGhlYWQ6IDEsXG5cdHRyOiAxLFxufTtcblxuLyoqXG4gKiBUYWJsZSBjbGFzcyB1dGlsaXR5LiBQcm92aWRlcyBtZXRob2RzIGZvciBjcmVhdGUsIGRlbGV0ZSBhbmQgdXBkYXRlIHRhYmxlcy5cbiAqXG4gKiBAY2xhc3MgQ0tFRElUT1IuVGFibGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgQ0tFZGl0b3IgaW5zdGFuY2UuXG4gKi9cblxuZnVuY3Rpb24gVGFibGUoZWRpdG9yKSB7XG5cdHRoaXMuX2VkaXRvciA9IGVkaXRvcjtcbn1cblxuVGFibGUuSEVBRElOR19CT1RIID0gJ0JvdGgnO1xuVGFibGUuSEVBRElOR19DT0wgPSAnQ29sdW1uJztcblRhYmxlLkhFQURJTkdfTk9ORSA9ICdOb25lJztcblRhYmxlLkhFQURJTkdfUk9XID0gJ1Jvdyc7XG5cblRhYmxlLnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IFRhYmxlLFxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgdGFibGUuXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IuVGFibGVcblx0ICogQG1ldGhvZCBjcmVhdGVcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUYWJsZSBjb25maWd1cmF0aW9uIG9iamVjdFxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjcmVhdGVkIHRhYmxlXG5cdCAqL1xuXHRjcmVhdGUoY29uZmlnKSB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuXHRcdGNvbnN0IHRhYmxlID0gdGhpcy5fY3JlYXRlRWxlbWVudCgndGFibGUnKTtcblxuXHRcdGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcblxuXHRcdC8vIEdlbmVyYXRlIHRoZSByb3dzIGFuZCBjb2xzLlxuXHRcdGNvbnN0IHRib2R5ID0gdGFibGUuYXBwZW5kKHRoaXMuX2NyZWF0ZUVsZW1lbnQoJ3Rib2R5JykpO1xuXHRcdGNvbnN0IHJvd3MgPSBjb25maWcucm93cyB8fCAxO1xuXHRcdGNvbnN0IGNvbHMgPSBjb25maWcuY29scyB8fCAxO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcblx0XHRcdGNvbnN0IHJvdyA9IHRib2R5LmFwcGVuZCh0aGlzLl9jcmVhdGVFbGVtZW50KCd0cicpKTtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgY29sczsgaisrKSB7XG5cdFx0XHRcdGNvbnN0IGNlbGwgPSByb3cuYXBwZW5kKHRoaXMuX2NyZWF0ZUVsZW1lbnQoJ3RkJykpO1xuXG5cdFx0XHRcdGNlbGwuYXBwZW5kQm9ndXMoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnNldEF0dHJpYnV0ZXModGFibGUsIGNvbmZpZy5hdHRycyk7XG5cdFx0dGhpcy5zZXRIZWFkaW5nKHRhYmxlLCBjb25maWcuaGVhZGluZyk7XG5cblx0XHQvLyBJbnNlcnQgdGhlIHRhYmxlIGVsZW1lbnQgaWYgd2UncmUgY3JlYXRpbmcgb25lLlxuXHRcdGVkaXRvci5pbnNlcnRFbGVtZW50KHRhYmxlKTtcblxuXHRcdGNvbnN0IGZpcnN0Q2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0YWJsZS4kLnJvd3NbMF0uY2VsbHNbMF0pO1xuXHRcdGNvbnN0IHJhbmdlID0gZWRpdG9yLmNyZWF0ZVJhbmdlKCk7XG5cdFx0cmFuZ2UubW92ZVRvUG9zaXRpb24oZmlyc3RDZWxsLCBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7XG5cdFx0cmFuZ2Uuc2VsZWN0KCk7XG5cblx0XHRyZXR1cm4gdGFibGU7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHJpZXZlcyBhIHRhYmxlIGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG5cdCAqIEBtZXRob2QgZ2V0RnJvbVNlbGVjdGlvblxuXHQgKiBAcmV0dXJuIHtDS0VESVRPUi5kb20uZWxlbWVudH0gVGhlIHJldHJpZXZlZCB0YWJsZSBvciBudWxsIGlmIG5vdCBmb3VuZC5cblx0ICovXG5cdGdldEZyb21TZWxlY3Rpb24oKSB7XG5cdFx0bGV0IHRhYmxlO1xuXHRcdGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuX2VkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRjb25zdCBzZWxlY3RlZCA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtcblxuXHRcdGlmIChzZWxlY3RlZCAmJiBzZWxlY3RlZC5pcygndGFibGUnKSkge1xuXHRcdFx0dGFibGUgPSBzZWxlY3RlZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgcmFuZ2VzID0gc2VsZWN0aW9uLmdldFJhbmdlcygpO1xuXG5cdFx0XHRpZiAocmFuZ2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Ly8gV2Via2l0IGNvdWxkIHJlcG9ydCB0aGUgZm9sbG93aW5nIHJhbmdlIG9uIGNlbGwgc2VsZWN0aW9uICgjNDk0OCk6XG5cdFx0XHRcdC8vIDx0YWJsZT48dHI+PHRkPlsmbmJzcDs8L3RkPjwvdHI+PC90YWJsZT5dXG5cblx0XHRcdFx0LyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cblx0XHRcdFx0aWYgKENLRURJVE9SLmVudi53ZWJraXQpIHtcblx0XHRcdFx0XHRyYW5nZXNbMF0uc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0YWJsZSA9IHRoaXMuX2VkaXRvclxuXHRcdFx0XHRcdC5lbGVtZW50UGF0aChyYW5nZXNbMF0uZ2V0Q29tbW9uQW5jZXN0b3IodHJ1ZSkpXG5cdFx0XHRcdFx0LmNvbnRhaW5zKCd0YWJsZScsIDEpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0YWJsZTtcblx0fSxcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGEgZ2l2ZW4gdGFibGUgY2FuIGJlIGNvbnNpZGVyZWQgYXMgZWRpdGFibGUuIFRoaXMgbWV0aG9kXG5cdCAqIHdvcmthcm91bmRzIGEgbGltaXRhdGlvbiBvZiBJRSB3aGVyZSBmb3Igc29tZSBlbGVtZW50cyAobGlrZSB0YWJsZSksXG5cdCAqIGBpc0NvbnRlbnRFZGl0YWJsZWAgcmV0dXJucyBhbHdheXMgZmFsc2UuIFRoaXMgaXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBzdXBwb3J0XG5cdCAqIGBjb250ZW50ZWRpdGFibGVgIG9uIHN1Y2ggZWxlbWVudHMuIEhvd2V2ZXIsIGRlc3BpdGUgc3VjaCBlbGVtZW50c1xuXHQgKiBjYW5ub3QgYmUgc2V0IGFzIGNvbnRlbnQgZWRpdGFibGUgZGlyZWN0bHksIGEgY29udGVudCBlZGl0YWJsZSBTUEFOLFxuXHQgKiBvciBESVYgZWxlbWVudCBjYW4gYmUgcGxhY2VkIGluc2lkZSB0aGUgaW5kaXZpZHVhbCB0YWJsZSBjZWxscy5cblx0ICogU2VlIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1Mzc4MzclMjh2PVZTLjg1JTI5LmFzcHhcblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5UYWJsZVxuXHQgKiBAbWV0aG9kIGlzRWRpdGFibGVcblx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gZWwgVGhlIHRhYmxlIGVsZW1lbnQgdG8gdGVzdCBpZiBlZGl0YWJsZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0aXNFZGl0YWJsZShlbCkge1xuXHRcdGlmICghQ0tFRElUT1IuZW52LmllIHx8ICFlbC5pcyhJRV9OT05fRElSRUNUTFlfRURJVEFCTEVfRUxFTUVOVCkpIHtcblx0XHRcdHJldHVybiAhZWwuaXNSZWFkT25seSgpO1xuXHRcdH1cblxuXHRcdGlmIChlbC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XG5cdFx0XHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSAhPT0gJ2ZhbHNlJztcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VkaXRhYmxlKGVsLmdldFBhcmVudCgpKTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB3aGljaCBoZWFkaW5nIHN0eWxlIGlzIHNldCBmb3IgdGhlIGdpdmVuIHRhYmxlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG5cdCAqIEBtZXRob2QgZ2V0SGVhZGluZ1xuXHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSB0YWJsZSBUaGUgdGFibGUgdG8gZ2F0aGVyIHRoZSBoZWFkaW5nIGZyb20uIElmIG51bGwsIGl0IHdpbGwgYmUgcmV0cmlldmVkIGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBoZWFkaW5nIG9mIHRoZSB0YWJsZS4gRXhwZWN0ZWQgdmFsdWVzIGFyZSBgQ0tFRElUT1IuVGFibGUuTk9ORWAsIGBDS0VESVRPUi5UYWJsZS5ST1dgLCBgQ0tFRElUT1IuVGFibGUuQ09MYCBhbmQgYENLRURJVE9SLlRhYmxlLkJPVEhgLlxuXHQgKi9cblx0Z2V0SGVhZGluZyh0YWJsZSkge1xuXHRcdHRhYmxlID0gdGFibGUgfHwgdGhpcy5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cblx0XHRpZiAoIXRhYmxlKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCByb3dIZWFkaW5nU2V0dGluZ3MgPSB0YWJsZS4kLnRIZWFkICE9PSBudWxsO1xuXG5cdFx0bGV0IGNvbEhlYWRpbmdTZXR0aW5ncyA9IHRydWU7XG5cblx0XHQvLyBDaGVjayBpZiBhbGwgb2YgdGhlIGZpcnN0IGNlbGxzIGluIGV2ZXJ5IHJvdyBhcmUgVEhcblx0XHRmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0YWJsZS4kLnJvd3MubGVuZ3RoOyByb3crKykge1xuXHRcdFx0Ly8gSWYganVzdCBvbmUgY2VsbCBpc24ndCBhIFRIIHRoZW4gaXQgaXNuJ3QgYSBoZWFkZXIgY29sdW1uXG5cdFx0XHRjb25zdCBjZWxsID0gdGFibGUuJC5yb3dzW3Jvd10uY2VsbHNbMF07XG5cblx0XHRcdGlmIChjZWxsICYmIGNlbGwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3RoJykge1xuXHRcdFx0XHRjb2xIZWFkaW5nU2V0dGluZ3MgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IGhlYWRpbmdTZXR0aW5ncyA9IFRhYmxlLkhFQURJTkdfTk9ORTtcblxuXHRcdGlmIChyb3dIZWFkaW5nU2V0dGluZ3MpIHtcblx0XHRcdGhlYWRpbmdTZXR0aW5ncyA9IFRhYmxlLkhFQURJTkdfUk9XO1xuXHRcdH1cblxuXHRcdGlmIChjb2xIZWFkaW5nU2V0dGluZ3MpIHtcblx0XHRcdGhlYWRpbmdTZXR0aW5ncyA9XG5cdFx0XHRcdGhlYWRpbmdTZXR0aW5ncyA9PT0gVGFibGUuSEVBRElOR19ST1dcblx0XHRcdFx0XHQ/IFRhYmxlLkhFQURJTkdfQk9USFxuXHRcdFx0XHRcdDogVGFibGUuSEVBRElOR19DT0w7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhlYWRpbmdTZXR0aW5ncztcblx0fSxcblxuXHQvKipcblx0ICogUmVtb3ZlcyBhIHRhYmxlIGZyb20gdGhlIGVkaXRvci5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5UYWJsZVxuXHQgKiBAbWV0aG9kIHJlbW92ZVxuXHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSB0YWJsZSBUaGUgdGFibGUgZWxlbWVudCB3aGljaCB0YWJsZSBzdHlsZSBzaG91bGQgYmUgcmVtb3ZlZC5cblx0ICovXG5cdHJlbW92ZSh0YWJsZSkge1xuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuX2VkaXRvcjtcblxuXHRcdGlmICh0YWJsZSkge1xuXHRcdFx0dGFibGUucmVtb3ZlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhYmxlID0gZWRpdG9yLmVsZW1lbnRQYXRoKCkuY29udGFpbnMoJ3RhYmxlJywgMSk7XG5cblx0XHRcdGlmICh0YWJsZSkge1xuXHRcdFx0XHQvLyBJZiB0aGUgdGFibGUncyBwYXJlbnQgaGFzIG9ubHkgb25lIGNoaWxkIHJlbW92ZSBpdCBhcyB3ZWxsICh1bmxlc3MgaXQncyBhIHRhYmxlIGNlbGwsIG9yIHRoZSBlZGl0YWJsZSBlbGVtZW50KSAoIzU0MTYsICM2Mjg5LCAjMTIxMTApXG5cdFx0XHRcdGNvbnN0IHBhcmVudCA9IHRhYmxlLmdldFBhcmVudCgpO1xuXHRcdFx0XHRjb25zdCBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRwYXJlbnQuZ2V0Q2hpbGRDb3VudCgpID09PSAxICYmXG5cdFx0XHRcdFx0IXBhcmVudC5pcygndGQnLCAndGgnKSAmJlxuXHRcdFx0XHRcdCFwYXJlbnQuZXF1YWxzKGVkaXRhYmxlKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHR0YWJsZSA9IHBhcmVudDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHJhbmdlID0gZWRpdG9yLmNyZWF0ZVJhbmdlKCk7XG5cdFx0XHRcdHJhbmdlLm1vdmVUb1Bvc2l0aW9uKHRhYmxlLCBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO1xuXHRcdFx0XHR0YWJsZS5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIEFzc2lnbnMgcHJvdmlkZWQgYXR0cmlidXRlcyB0byBhIHRhYmxlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG5cdCAqIEBtZXRob2Qgc2V0QXR0cmlidXRlc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFibGUgVGhlIHRhYmxlIHRvIHdoaWNoIHRoZSBhdHRyaWJ1dGVzIHNob3VsZCBiZSBhc3NpZ25lZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgVGhlIGF0dHJpYnV0ZXMgd2hpY2ggaGF2ZSB0byBiZSBhc3NpZ25lZCB0byB0aGUgdGFibGVcblx0ICovXG5cdHNldEF0dHJpYnV0ZXModGFibGUsIGF0dHJzKSB7XG5cdFx0aWYgKGF0dHJzKSB7XG5cdFx0XHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChhdHRyID0+IHtcblx0XHRcdFx0dGFibGUuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJzW2F0dHJdKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogU2V0cyB0aGUgYXBwcm9wcmlhdGUgdGFibGUgaGVhZGluZyBzdHlsZSB0byBhIHRhYmxlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG5cdCAqIEBtZXRob2Qgc2V0SGVhZGluZ1xuXHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSB0YWJsZSBUaGUgdGFibGUgZWxlbWVudCB0byB3aGljaCB0aGUgaGVhZGluZyBzaG91bGQgYmUgc2V0LiBJZiBudWxsLCBpdCB3aWxsIGJlIHJldHJpZXZlZCBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGhlYWRpbmcgVGhlIHRhYmxlIGhlYWRpbmcgdG8gYmUgc2V0LiBBY2NlcHRlZCB2YWx1ZXMgYXJlOiBgQ0tFRElUT1IuVGFibGUuTk9ORWAsIGBDS0VESVRPUi5UYWJsZS5ST1dgLCBgQ0tFRElUT1IuVGFibGUuQ09MYCBhbmQgYENLRURJVE9SLlRhYmxlLkJPVEhgLlxuXHQgKi9cblx0c2V0SGVhZGluZyh0YWJsZSwgaGVhZGluZykge1xuXHRcdHRhYmxlID0gdGFibGUgfHwgdGhpcy5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cblx0XHRsZXQgaTtcblx0XHRsZXQgbmV3Q2VsbDtcblx0XHRsZXQgdGFibGVIZWFkO1xuXHRcdGNvbnN0IHRhYmxlQm9keSA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWcoJ3Rib2R5JykuZ2V0SXRlbSgwKTtcblxuXHRcdGxldCB0YWJsZUhlYWRpbmcgPSB0aGlzLmdldEhlYWRpbmcodGFibGUpO1xuXHRcdGNvbnN0IGhhZENvbEhlYWRpbmcgPVxuXHRcdFx0dGFibGVIZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0NPTCB8fFxuXHRcdFx0dGFibGVIZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0JPVEg7XG5cblx0XHRjb25zdCBuZWVkQ29sSGVhZGluZyA9XG5cdFx0XHRoZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0NPTCB8fCBoZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0JPVEg7XG5cdFx0Y29uc3QgbmVlZFJvd0hlYWRpbmcgPVxuXHRcdFx0aGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19ST1cgfHwgaGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19CT1RIO1xuXG5cdFx0Ly8gSWYgd2UgbmVlZCByb3cgaGVhZGluZyBhbmQgZG9uJ3QgaGF2ZSBhIDx0aGVhZD4gZWxlbWVudCB5ZXQsIG1vdmUgdGhlXG5cdFx0Ly8gZmlyc3Qgcm93IG9mIHRoZSB0YWJsZSB0byB0aGUgaGVhZCBhbmQgY29udmVydCB0aGUgbm9kZXMgdG8gPHRoPiBvbmVzLlxuXHRcdGlmICghdGFibGUuJC50SGVhZCAmJiBuZWVkUm93SGVhZGluZykge1xuXHRcdFx0Y29uc3QgdGFibGVGaXJzdFJvdyA9IHRhYmxlQm9keS5nZXRFbGVtZW50c0J5VGFnKCd0cicpLmdldEl0ZW0oMCk7XG5cdFx0XHRjb25zdCB0YWJsZUZpcnN0Um93Q2hpbGRDb3VudCA9IHRhYmxlRmlyc3RSb3cuZ2V0Q2hpbGRDb3VudCgpO1xuXG5cdFx0XHQvLyBDaGFuZ2UgVEQgdG8gVEg6XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgdGFibGVGaXJzdFJvd0NoaWxkQ291bnQ7IGkrKykge1xuXHRcdFx0XHRjb25zdCBjZWxsID0gdGFibGVGaXJzdFJvdy5nZXRDaGlsZChpKTtcblxuXHRcdFx0XHQvLyBTa2lwIGJvb2ttYXJrIG5vZGVzLiAoIzYxNTUpXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRjZWxsLnR5cGUgPT09IENLRURJVE9SLk5PREVfRUxFTUVOVCAmJlxuXHRcdFx0XHRcdCFjZWxsLmRhdGEoJ2NrZS1ib29rbWFyaycpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNlbGwucmVuYW1lTm9kZSgndGgnKTtcblx0XHRcdFx0XHRjZWxsLnNldEF0dHJpYnV0ZSgnc2NvcGUnLCAnY29sJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGFibGVIZWFkID0gdGhpcy5fY3JlYXRlRWxlbWVudCh0YWJsZS4kLmNyZWF0ZVRIZWFkKCkpO1xuXHRcdFx0dGFibGVIZWFkLmFwcGVuZCh0YWJsZUZpcnN0Um93LnJlbW92ZSgpKTtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBkb24ndCBuZWVkIHJvdyBoZWFkaW5nIGFuZCB3ZSBoYXZlIGEgPHRoZWFkPiBlbGVtZW50LCBtb3ZlIHRoZVxuXHRcdC8vIHJvdyBvdXQgb2YgdGhlcmUgYW5kIGludG8gdGhlIDx0Ym9keT4gZWxlbWVudC5cblx0XHRpZiAodGFibGUuJC50SGVhZCAhPT0gbnVsbCAmJiAhbmVlZFJvd0hlYWRpbmcpIHtcblx0XHRcdC8vIE1vdmUgdGhlIHJvdyBvdXQgb2YgdGhlIFRIZWFkIGFuZCBwdXQgaXQgaW4gdGhlIFRCb2R5OlxuXHRcdFx0dGFibGVIZWFkID0gdGhpcy5fY3JlYXRlRWxlbWVudCh0YWJsZS4kLnRIZWFkKTtcblxuXHRcdFx0Y29uc3QgcHJldmlvdXNGaXJzdFJvdyA9IHRhYmxlQm9keS5nZXRGaXJzdCgpO1xuXG5cdFx0XHR3aGlsZSAodGFibGVIZWFkLmdldENoaWxkQ291bnQoKSA+IDApIHtcblx0XHRcdFx0Y29uc3QgbmV3Rmlyc3RSb3cgPSB0YWJsZUhlYWQuZ2V0Rmlyc3QoKTtcblx0XHRcdFx0Y29uc3QgbmV3Rmlyc3RSb3dDaGlsZENvdW50ID0gbmV3Rmlyc3RSb3cuZ2V0Q2hpbGRDb3VudCgpO1xuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBuZXdGaXJzdFJvd0NoaWxkQ291bnQ7IGkrKykge1xuXHRcdFx0XHRcdG5ld0NlbGwgPSBuZXdGaXJzdFJvdy5nZXRDaGlsZChpKTtcblxuXHRcdFx0XHRcdGlmIChuZXdDZWxsLnR5cGUgPT09IENLRURJVE9SLk5PREVfRUxFTUVOVCkge1xuXHRcdFx0XHRcdFx0bmV3Q2VsbC5yZW5hbWVOb2RlKCd0ZCcpO1xuXHRcdFx0XHRcdFx0bmV3Q2VsbC5yZW1vdmVBdHRyaWJ1dGUoJ3Njb3BlJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bmV3Rmlyc3RSb3cuaW5zZXJ0QmVmb3JlKHByZXZpb3VzRmlyc3RSb3cpO1xuXHRcdFx0fVxuXG5cdFx0XHR0YWJsZUhlYWQucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0dGFibGVIZWFkaW5nID0gdGhpcy5nZXRIZWFkaW5nKHRhYmxlKTtcblx0XHRjb25zdCBoYXNDb2xIZWFkaW5nID1cblx0XHRcdHRhYmxlSGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19DT0wgfHxcblx0XHRcdHRhYmxlSGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19CT1RIO1xuXG5cdFx0Ly8gSWYgd2UgbmVlZCBjb2x1bW4gaGVhZGluZyBhbmQgdGhlIHRhYmxlIGRvZXNuJ3QgaGF2ZSBpdCwgY29udmVydCBldmVyeSBmaXJzdCBjZWxsIGluXG5cdFx0Ly8gZXZlcnkgcm93IGludG8gYSBgPHRoIHNjb3BlPVwicm93XCI+YCBlbGVtZW50LlxuXHRcdGlmICghaGFzQ29sSGVhZGluZyAmJiBuZWVkQ29sSGVhZGluZykge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IHRhYmxlLiQucm93cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAodGFibGUuJC5yb3dzW2ldLmNlbGxzWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICd0aCcpIHtcblx0XHRcdFx0XHRuZXdDZWxsID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFxuXHRcdFx0XHRcdFx0dGFibGUuJC5yb3dzW2ldLmNlbGxzWzBdXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRuZXdDZWxsLnJlbmFtZU5vZGUoJ3RoJyk7XG5cdFx0XHRcdFx0bmV3Q2VsbC5zZXRBdHRyaWJ1dGUoJ3Njb3BlJywgJ3JvdycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZG9uJ3QgbmVlZCBjb2x1bW4gaGVhZGluZyBidXQgdGhlIHRhYmxlIGhhcyBpdCwgY29udmVydCBldmVyeSBmaXJzdCBjZWxsIGluIGV2ZXJ5XG5cdFx0Ly8gcm93IGJhY2sgaW50byBhIGA8dGQ+YCBlbGVtZW50LlxuXHRcdGlmIChoYWRDb2xIZWFkaW5nICYmICFuZWVkQ29sSGVhZGluZykge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IHRhYmxlLiQucm93cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCByb3cgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGFibGUuJC5yb3dzW2ldKTtcblxuXHRcdFx0XHRpZiAocm93LmdldFBhcmVudCgpLmdldE5hbWUoKSA9PT0gJ3Rib2R5Jykge1xuXHRcdFx0XHRcdG5ld0NlbGwgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQocm93LiQuY2VsbHNbMF0pO1xuXHRcdFx0XHRcdG5ld0NlbGwucmVuYW1lTm9kZSgndGQnKTtcblx0XHRcdFx0XHRuZXdDZWxsLnJlbW92ZUF0dHJpYnV0ZSgnc2NvcGUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCB1c2luZyB0aGUgcGFzc2VkIHRhZyBuYW1lLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQG1ldGhvZCBfY3JlYXRlRWxlbWVudFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgdGFnIG5hbWUgZnJvbSB3aGljaCBhbiBlbGVtZW50IHNob3VsZCBiZSBjcmVhdGVkXG5cdCAqIEByZXR1cm4ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBJbnN0YW5jZSBvZiBDS0VESVRPUiBET00gZWxlbWVudCBjbGFzc1xuXHQgKi9cblx0X2NyZWF0ZUVsZW1lbnQobmFtZSkge1xuXHRcdHJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobmFtZSwgdGhpcy5fZWRpdG9yLmRvY3VtZW50KTtcblx0fSxcbn07XG5cbkNLRURJVE9SLm9uKCdpbnN0YW5jZVJlYWR5JywgZXZlbnQgPT4ge1xuXHRjb25zdCBoZWFkaW5nQ29tbWFuZHMgPSBbXG5cdFx0VGFibGUuSEVBRElOR19OT05FLFxuXHRcdFRhYmxlLkhFQURJTkdfUk9XLFxuXHRcdFRhYmxlLkhFQURJTkdfQ09MLFxuXHRcdFRhYmxlLkhFQURJTkdfQk9USCxcblx0XTtcblxuXHRjb25zdCB0YWJsZVV0aWxzID0gbmV3IFRhYmxlKGV2ZW50LmVkaXRvcik7XG5cblx0aGVhZGluZ0NvbW1hbmRzLmZvckVhY2goaGVhZGluZyA9PiB7XG5cdFx0ZXZlbnQuZWRpdG9yLmFkZENvbW1hbmQoJ3RhYmxlSGVhZGluZycgKyBoZWFkaW5nLCB7XG5cdFx0XHRleGVjKF9lZGl0b3IpIHtcblx0XHRcdFx0dGFibGVVdGlscy5zZXRIZWFkaW5nKG51bGwsIGhlYWRpbmcpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0fSk7XG59KTtcblxuQ0tFRElUT1IuVGFibGUgPSBDS0VESVRPUi5UYWJsZSB8fCBUYWJsZTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuLyoqXG4gKiBDS0VESVRPUi50b29scyBjbGFzcyB1dGlsaXR5IHdoaWNoIGFkZHMgYWRkaXRpb25hbCBtZXRob2RzIHRvIHRob3NlIG9mIENLRWRpdG9yLlxuICpcbiAqIEBjbGFzcyBDS0VESVRPUi50b29sc1xuICovXG5cbi8qKlxuICogU2VuZHMgYSByZXF1ZXN0IHVzaW5nIHRoZSBKU09OUCB0ZWNobmlxdWUuXG4gKlxuICogQG1lbWJlcm9mIENLRURJVE9SLnRvb2xzXG4gKiBAbWV0aG9kIGpzb25wXG4gKiBAcGFyYW0ge0NLRURJVE9SLnRlbXBsYXRlfSB1cmxUZW1wbGF0ZSBUaGUgdGVtcGxhdGUgb2YgdGhlIFVSTCB0byBiZSByZXF1ZXN0ZWQuIEFsbCBwcm9wZXJ0aWVzIHBhc3NlZCBpbiBgdXJsUGFyYW1zYCBjYW4gYmUgdXNlZCwgcGx1cyBhIGB7Y2FsbGJhY2t9YCwgd2hpY2ggcmVwcmVzZW50IGEgSlNPTlAgY2FsbGJhY2ssIG11c3QgYmUgZGVmaW5lZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGluIGNhc2Ugb2Ygc3VjY2Vzcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yQ2FsbGJhY2sgQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaW4gY2FzZSBvZiBmYWlsdXJlLlxuICogQHBhcmFtIHtPYmplY3R9IHVybFBhcmFtcyBQYXJhbWV0ZXJzIHRvIGJlIHBhc3NlZCB0byB0aGUgYHVybFRlbXBsYXRlYC5cbiAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogIC0gaWQ6IHRoZSB0cmFuc2FjdGlvbiBJRFxuICogIC0gYSBgY2FuY2VsKClgIG1ldGhvZFxuICogQHN0YXRpY1xuICovXG5DS0VESVRPUi50b29scy5qc29ucCA9IGZ1bmN0aW9uKFxuXHR1cmxUZW1wbGF0ZSxcblx0dXJsUGFyYW1zLFxuXHRjYWxsYmFjayxcblx0ZXJyb3JDYWxsYmFja1xuKSB7XG5cdGNvbnN0IGNhbGxiYWNrS2V5ID0gQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO1xuXG5cdHVybFBhcmFtcyA9IHVybFBhcmFtcyB8fCB7fTtcblx0dXJsUGFyYW1zLmNhbGxiYWNrID0gJ0NLRURJVE9SLl8uanNvbnBDYWxsYmFja3NbJyArIGNhbGxiYWNrS2V5ICsgJ10nO1xuXG5cdGlmICghQ0tFRElUT1IuXy5qc29ucENhbGxiYWNrcykge1xuXHRcdENLRURJVE9SLl8uanNvbnBDYWxsYmFja3MgPSB7fTtcblx0fVxuXG5cdENLRURJVE9SLl8uanNvbnBDYWxsYmFja3NbY2FsbGJhY2tLZXldID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGNsZWFuVXAoKTtcblxuXHRcdFx0Y2FsbGJhY2socmVzcG9uc2UpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdGxldCBzY3JpcHRFbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCdzY3JpcHQnKTtcblx0c2NyaXB0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybFRlbXBsYXRlLm91dHB1dCh1cmxQYXJhbXMpKTtcblx0c2NyaXB0RWxlbWVudC5vbignZXJyb3InLCAoKSA9PiB7XG5cdFx0Y2xlYW5VcCgpO1xuXG5cdFx0aWYgKGVycm9yQ2FsbGJhY2spIHtcblx0XHRcdGVycm9yQ2FsbGJhY2soKTtcblx0XHR9XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG5cdFx0aWYgKHNjcmlwdEVsZW1lbnQpIHtcblx0XHRcdHNjcmlwdEVsZW1lbnQucmVtb3ZlKCk7XG5cdFx0XHRkZWxldGUgQ0tFRElUT1IuXy5qc29ucENhbGxiYWNrc1tjYWxsYmFja0tleV07XG5cdFx0XHRzY3JpcHRFbGVtZW50ID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKHNjcmlwdEVsZW1lbnQpO1xuXG5cdHJldHVybiB7XG5cdFx0Y2FuY2VsOiBjbGVhblVwLFxuXHRcdGlkOiBjYWxsYmFja0tleSxcblx0fTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBvYmplY3QgY29udGFpbmluZyBhbGwgb2YgdGhlIHByb3BlcnRpZXMgb2YgYWxsIHRoZSBzdXBwbGllZFxuICogb2JqZWN0cy4gVGhlIHByb3BlcnRpZXMgZnJvbSBsYXRlciBvYmplY3RzIHdpbGwgb3ZlcndyaXRlIHRob3NlIGluIGVhcmxpZXJcbiAqIG9iamVjdHMuXG4gKlxuICogUGFzc2luZyBpbiBhIHNpbmdsZSBvYmplY3Qgd2lsbCBjcmVhdGUgYSBzaGFsbG93IGNvcHkgb2YgaXQuXG4gKlxuICogQG1lbWJlcm9mIENLRURJVE9SLnRvb2xzXG4gKiBAbWV0aG9kIG1lcmdlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0cyogT25lIG9yIG1vcmUgb2JqZWN0cyB0byBtZXJnZS5cbiAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgbWVyZ2VkIG9iamVjdC5cbiAqIEBzdGF0aWNcbiAqL1xuQ0tFRElUT1IudG9vbHMubWVyZ2UgPVxuXHRDS0VESVRPUi50b29scy5tZXJnZSB8fFxuXHRmdW5jdGlvbiguLi5hcmdzKSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0ge307XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcblx0XHRcdGNvbnN0IG9iaiA9IGFyZ3NbaV07XG5cblx0XHRcdGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuXHRcdFx0XHRcdHJlc3VsdFtrZXldID0gb2JqW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKipcbiAqIFNpbXVsYXRlcyBldmVudCBvbiBhIERPTSBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBDS0VESVRPUi50b29sc1xuICogQG1ldGhvZCBzaW11bGF0ZVxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IG9uIHdoaWNoIHRoZSBldmVudCBzaG91ZCBiZSBzaW11YWx0ZWQuXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHdoaWNoIGhhdmUgdG8gYmUgc2ltdWxhdGVkLlxuICogQHN0YXRpY1xuICovXG5DS0VESVRPUi50b29scy5zaW11bGF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50KSB7XG5cdGNvbnN0IGV2ZW50SW5zdGFuY2UgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnRzJyk7XG5cdGV2ZW50SW5zdGFuY2UuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCBmYWxzZSk7XG5cdGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudEluc3RhbmNlKTtcbn07XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3VpY29yZScpKSB7XG5cdC8qKlxuXHQgKiBVSUNvcmUgY2xhc3Mgd2hpY2ggd2lsbCBoYW5kbGUgdXNlciBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgZWRpdG9yLiBUaGVzZSBpbnRlcmFjdGlvbnNcblx0ICogbWlnaHQgYmUgdHJpZ2dlcmVkIHZpYSBtb3VzZSwga2V5Ym9hcmQgb3IgdG91Y2ggZGV2aWNlcy4gVGhlIGNsYXNzIGZpbGwgZmlyZSBhbiBldmVudCB2aWFcblx0ICogQ0tFZGl0b3IncyBldmVudCBzeXN0ZW0gLSBcImVkaXRvckludGVyYWN0aW9uXCIuIFRoZSBVSSBtYXkgbGlzdGVuIHRvIHRoaXMgZXZlbnQgYW5kXG5cdCAqIGV4ZWN1dGUgc29tZSBhY3Rpb25zIC0gZm9yIGV4YW1wbGUgdG8gc2hvdy9oaWRlIHRvb2xiYXJzLlxuXHQgKlxuXHQgKiBCeSBkZWZhdWx0IGlmIHVzZXIgcHJlc3NlcyB0aGUgRXNjIGtleSwgJ2VkaXRvckludGVyYWN0aW9uJyBldmVudCB3b24ndCBiZSBmaXJlZC4gSG93ZXZlciwgdGhpcyBiZWhhdmlvdXIgY2FuIGJlIGNoYW5nZWRcblx0ICogYnkgc2V0dGluZyB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3VpY29yZS9hbGxvd0VzYzphdHRyaWJ1dGVcIn19e3svY3Jvc3NMaW5rfX0gY29uZmlnIHByb3BlcnR5IGluIGVkaXRvcidzIGNvbmZpZ3VyYXRpb24gdG8gdHJ1ZS5cblx0ICpcblx0ICogQGNsYXNzIGFlX3VpY29yZVxuXHQgKi9cblxuXHQvKipcblx0ICogRmlyZWQgd2hlbiB1c2VyIGludGVyYWN0cyBzb21laG93IHdpdGggdGhlIGJyb3dzZXIuIFRoaXMgbWF5IGJlIGNsaWNraW5nIHdpdGggdGhlIG1vdXNlLCBwcmVzc2luZyBrZXlib2FyZCBidXR0b24sXG5cdCAqIG9yIHRvdWNoaW5nIHNjcmVlbi4gVGhpcyBldmVuIHdpbGwgYmUgbm90IGZpcmVkIGFmdGVyIGVhY2ggaW50ZXJhY3Rpb24uIEl0IHdpbGwgYmUgZGVib3VuY2VkLiBCeSBkZWZhdWx0IHRoZSB0aW1lb3V0XG5cdCAqIGlzIDUwbXMuIFRoaXMgdmFsdWUgY2FuIGJlIG92ZXJ3cml0dGVuIHZpYSB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3VpY29yZS90aW1lb3V0OmF0dHJpYnV0ZVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBwcm9wZXJ0eSBvZiBlZGl0b3IncyBjb25maWd1cmF0aW9uLCBsaWtlOiBlZGl0b3IuY29uZmlnLnVpY29yZS50aW1lb3V0ID0gMTAwXG5cdCAqXG5cdCAqIEBtZW1iZXJvZiBhZV91aWNvcmVcblx0ICogQGV2ZW50IGFlX3VpY29yZSNlZGl0b3JJbnRlcmFjdGlvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBBbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXHQgKiAtIG5hdGl2ZUV2ZW50IC0gVGhlIGV2ZW50IGFzIHJlY2VpdmVkIGZyb20gQ0tFZGl0b3IuXG5cdCAqIC0gc2VsZWN0aW9uRGF0YSAtIFRoZSBkYXRhLCByZXR1cm5lZCBmcm9tIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfc2VsZWN0aW9ucmVnaW9uL2dldFNlbGVjdGlvbkRhdGE6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBGaXJlZCBieSBVSSBlbGVtZW50cyBsaWtlIFRvb2xiYXJzIG9yIEJ1dHRvbnMgd2hlbiB0aGVpciBzdGF0ZSBjaGFuZ2VzLiBUaGUgbGlzdGVuZXIgdXBkYXRlcyB0aGUgbGl2ZSByZWdpb24gd2l0aCB0aGUgcHJvdmlkZWQgZGF0YS5cblx0ICpcblx0ICogQG1lbWJlcm9mIGFlX3VpY29yZVxuXHQgKiBAZXZlbnQgYWVfdWljb3JlI2FyaWFVcGRhdGVcblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGEgQW4gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcblx0ICogLSBtZXNzYWdlIC0gVGhlIHByb3ZpZGVkIG1lc3NhZ2UgZnJvbSB0aGUgVUkgZWxlbWVudC5cblx0ICovXG5cblx0LyoqXG5cdCAqIElmIHNldCB0byB0cnVlLCB0aGUgZWRpdG9yIHdpbGwgc3RpbGwgZmlyZSB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3VpY29yZS9lZGl0b3JJbnRlcmFjdGlvbjpldmVudFwifX17ey9jcm9zc0xpbmt9fSBldmVudCxcblx0ICogaWYgdXNlciBwcmVzc2VzIEVzYyBrZXkuXG5cdCAqXG5cdCAqIEBtZW1iZXJvZiBhZV91aWNvcmVcblx0ICogQGF0dHJpYnV0ZSBhbGxvd0VzY1xuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKiBAdHlwZSBCb29sZWFuXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBTcGVjaWZpZXMgdGhlIGRlZmF1bHQgdGltZW91dCBhZnRlciB3aGljaCB0aGUge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV91aWNvcmUvZWRpdG9ySW50ZXJhY3Rpb246ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnRcblx0ICogd2lsbCBiZSBmaXJlZC5cblx0ICpcblx0ICogQG1lbWJlcm9mIGFlX3VpY29yZVxuXHQgKiBAYXR0cmlidXRlIHRpbWVvdXRcblx0ICogQGRlZmF1bHQgNTAgKG1zKVxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cblx0Q0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX3VpY29yZScsIHtcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplciBsaWZlY3ljbGUgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBVSUNvcmUgcGx1Z2luLlxuXHRcdCAqXG5cdFx0ICogQG1lbWJlcm9mIGFlX3VpY29yZVxuXHRcdCAqIEBtZXRob2QgaW5pdFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgQ0tFZGl0b3IgaW5zdGFuY2UuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdGluaXQoZWRpdG9yKSB7XG5cdFx0XHRsZXQgYXJpYVN0YXRlID0gW107XG5cblx0XHRcdGNvbnN0IGFyaWFFbGVtZW50ID0gdGhpcy5fY3JlYXRlQXJpYUVsZW1lbnQoZWRpdG9yLmlkKTtcblxuXHRcdFx0Y29uc3QgdWlUYXNrc1RpbWVvdXQgPSBlZGl0b3IuY29uZmlnLnVpY29yZVxuXHRcdFx0XHQ/IGVkaXRvci5jb25maWcudWljb3JlLnRpbWVvdXRcblx0XHRcdFx0OiA1MDtcblxuXHRcdFx0Y29uc3QgaGFuZGxlVUkgPSBDS0VESVRPUi50b29scy5kZWJvdW5jZShldmVudCA9PiB7XG5cdFx0XHRcdGFyaWFTdGF0ZSA9IFtdO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRldmVudC5uYW1lICE9PSAna2V5dXAnIHx8XG5cdFx0XHRcdFx0ZXZlbnQuZGF0YS4kLmtleUNvZGUgIT09IDI3IHx8XG5cdFx0XHRcdFx0ZWRpdG9yLmNvbmZpZy5hbGxvd0VzY1xuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjb25zdCBzZWxlY3Rpb25EYXRhID0gZWRpdG9yLmdldFNlbGVjdGlvbkRhdGEoKTtcblxuXHRcdFx0XHRcdGlmIChzZWxlY3Rpb25EYXRhKSB7XG5cdFx0XHRcdFx0XHRlZGl0b3IuZmlyZSgnZWRpdG9ySW50ZXJhY3Rpb24nLCB7XG5cdFx0XHRcdFx0XHRcdG5hdGl2ZUV2ZW50OiBldmVudC5kYXRhLiQsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGlvbkRhdGEsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sIHVpVGFza3NUaW1lb3V0KTtcblxuXHRcdFx0Y29uc3QgaGFuZGxlQXJpYSA9IENLRURJVE9SLnRvb2xzLmRlYm91bmNlKF9ldmVudCA9PiB7XG5cdFx0XHRcdGFyaWFFbGVtZW50LmlubmVySFRNTCA9IGFyaWFTdGF0ZS5qb2luKCcuICcpO1xuXHRcdFx0fSwgdWlUYXNrc1RpbWVvdXQpO1xuXG5cdFx0XHRjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gQ0tFRElUT1IudG9vbHMuZGVib3VuY2UoZXZlbnQgPT4ge1xuXHRcdFx0XHRjb25zdCBhZVVJTm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWUtdWknKTtcblxuXHRcdFx0XHRsZXQgZm91bmQ7XG5cblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhZVVJTm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoYWVVSU5vZGVzW2ldLmNvbnRhaW5zKGV2ZW50LmRhdGEuJC5yZWxhdGVkVGFyZ2V0KSkge1xuXHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0XHRcdGhhbmRsZVVJKGV2ZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdWlUYXNrc1RpbWVvdXQpO1xuXG5cdFx0XHRlZGl0b3Iub24oJ2FyaWFVcGRhdGUnLCBldmVudCA9PiB7XG5cdFx0XHRcdC8vIGhhbmRsZUFyaWEgaXMgZGVib3VuY2VkIGZ1bmN0aW9uLCBzbyBpZiBpdCBpcyBiZWluZyBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGl0IHdpbGxcblx0XHRcdFx0Ly8gYmUgY2FuY2VsZWQgdW50aWwgc29tZSB0aW1lIHBhc3Nlcy5cblx0XHRcdFx0Ly8gRm9yIHRoYXQgcmVhc29uIGhlcmUgd2UgZXhwbGljaXRseSBhcHBlbmQgdGhlIGN1cnJlbnQgbWVzc2FnZSB0byB0aGUgbGlzdCBvZiBtZXNzYWdlc1xuXHRcdFx0XHQvLyBhbmQgY2FsbCBoYW5kbGVBcmlhLiBTaW5jZSBpdCBpcyBkZWJvdW5jZWQsIHdoZW4gc29tZSB0aW1lb3V0IHBhc3Nlcyxcblx0XHRcdFx0Ly8gYWxsIHRoZSBtZXNzYWdlcyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGxpdmUgcmVnaW9uIGFuZCBub3Qgb25seSB0aGUgbGFzdCBvbmUuXG5cblx0XHRcdFx0YXJpYVN0YXRlLnB1c2goZXZlbnQuZGF0YS5tZXNzYWdlKTtcblxuXHRcdFx0XHRoYW5kbGVBcmlhKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cblx0XHRcdFx0Y29uc3QgZm9jdXNIYW5kbGVyID0gZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoXG5cdFx0XHRcdFx0ZWRpdGFibGUsXG5cdFx0XHRcdFx0J2ZvY3VzJyxcblx0XHRcdFx0XHRldmVudCA9PiB7XG5cdFx0XHRcdFx0XHRmb2N1c0hhbmRsZXIucmVtb3ZlTGlzdGVuZXIoKTtcblxuXHRcdFx0XHRcdFx0ZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdrZXl1cCcsIGhhbmRsZVVJKTtcblx0XHRcdFx0XHRcdGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCAnbW91c2V1cCcsIGhhbmRsZVVJKTtcblx0XHRcdFx0XHRcdGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKFxuXHRcdFx0XHRcdFx0XHRlZGl0YWJsZSxcblx0XHRcdFx0XHRcdFx0J21vdXNlbGVhdmUnLFxuXHRcdFx0XHRcdFx0XHRoYW5kbGVNb3VzZUxlYXZlXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRoYW5kbGVVSShldmVudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGVkaXRvci5vbignZGVzdHJveScsIF9ldmVudCA9PiB7XG5cdFx0XHRcdGFyaWFFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYXJpYUVsZW1lbnQpO1xuXG5cdFx0XHRcdGhhbmRsZVVJLmRldGFjaCgpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYW5kIGFwcGxpZXMgYW4gSFRNTCBlbGVtZW50IHRvIHRoZSBib2R5IG9mIHRoZSBkb2N1bWVudCB3aGljaCB3aWxsIGNvbnRhaW4gQVJJQSBtZXNzYWdlcy5cblx0XHQgKlxuXHRcdCAqIEBtZW1iZXJvZiBhZV91aWNvcmVcblx0XHQgKiBAbWV0aG9kIF9jcmVhdGVBcmlhRWxlbWVudFxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgcHJvdmlkZWQgaWQgb2YgdGhlIGVsZW1lbnQuIEl0IHdpbGwgYmUgdXNlZCBhcyBwcmVmaXggZm9yIHRoZSBmaW5hbCBlbGVtZW50IElkLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIGNyZWF0ZWQgYW5kIGFwcGxpZWQgdG8gRE9NIGVsZW1lbnQuXG5cdFx0ICovXG5cdFx0X2NyZWF0ZUFyaWFFbGVtZW50KGlkKSB7XG5cdFx0XHRjb25zdCBzdGF0dXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblx0XHRcdHN0YXR1c0VsZW1lbnQuY2xhc3NOYW1lID0gJ2FlLXNyLW9ubHknO1xuXG5cdFx0XHRzdGF0dXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuXHRcdFx0c3RhdHVzRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnc3RhdHVzJyk7XG5cdFx0XHRzdGF0dXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBpZCArICdMaXZlUmVnaW9uJyk7XG5cblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3RhdHVzRWxlbWVudCk7XG5cblx0XHRcdHJldHVybiBzdGF0dXNFbGVtZW50O1xuXHRcdH0sXG5cdH0pO1xufVxuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgTGFuZyBmcm9tICcuL2xhbmcnO1xuXG4vKipcbiAqIEF0dHJpYnV0ZSBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAY2xhc3MgQXR0cmlidXRlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQXR0cmlidXRlKGNvbmZpZykge1xuXHR0aGlzLl9fY29uZmlnX18gPSBjb25maWcgfHwge307XG5cdHRoaXMuX19BVFRSU19fID0ge307XG59XG5cbkF0dHJpYnV0ZS5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBBdHRyaWJ1dGUsXG5cblx0LyoqXG5cdCAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuXHQgKiBAbWV0aG9kIGdldFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgYXR0cmlidXRlIHdoaWNoIHZhbHVlIHNob3VsZCBiZSByZXRyaWV2ZWQuXG5cdCAqIEByZXR1cm4ge0FueX0gVGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUuXG5cdCAqL1xuXHRnZXQoYXR0cikge1xuXHRcdGNvbnN0IGN1cnJlbnRBdHRyID0gdGhpcy5jb25zdHJ1Y3Rvci5BVFRSU1thdHRyXTtcblxuXHRcdGlmICghY3VycmVudEF0dHIpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuX2lzSW5pdGlhbGl6ZWQoYXR0cikpIHtcblx0XHRcdHRoaXMuX2luaXQoYXR0cik7XG5cdFx0fVxuXG5cdFx0bGV0IGN1clZhbHVlID0gdGhpcy5fX0FUVFJTX19bYXR0cl07XG5cblx0XHRpZiAoY3VycmVudEF0dHIuZ2V0dGVyKSB7XG5cdFx0XHRjdXJWYWx1ZSA9IHRoaXMuX2NhbGxTdHJpbmdPckZ1bmN0aW9uKGN1cnJlbnRBdHRyLmdldHRlciwgY3VyVmFsdWUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjdXJWYWx1ZTtcblx0fSxcblxuXHQvKipcblx0ICogU2V0cyB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuXHQgKiBAbWV0aG9kIHNldFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgYXR0cmlidXRlIHdoaWNoIHZhbHVlIHNob3VsZCBiZSBzZXQuXG5cdCAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggc2hvdWxkIGJlIHNldCB0byB0aGUgYXR0cmlidXRlLlxuXHQgKi9cblx0c2V0KGF0dHIsIHZhbHVlKSB7XG5cdFx0Y29uc3QgY3VycmVudEF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLkFUVFJTW2F0dHJdO1xuXG5cdFx0aWYgKCFjdXJyZW50QXR0cikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5faXNJbml0aWFsaXplZChhdHRyKSkge1xuXHRcdFx0dGhpcy5faW5pdChhdHRyKTtcblx0XHR9XG5cblx0XHRpZiAoY3VycmVudEF0dHIucmVhZE9ubHkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoY3VycmVudEF0dHIud3JpdGVPbmNlICYmIHRoaXMuX2lzSW5pdGlhbGl6ZWQoYXR0cikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHRjdXJyZW50QXR0ci52YWxpZGF0b3IgJiZcblx0XHRcdCF0aGlzLl9jYWxsU3RyaW5nT3JGdW5jdGlvbihjdXJyZW50QXR0ci52YWxpZGF0b3IsIHZhbHVlKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChjdXJyZW50QXR0ci5zZXR0ZXIpIHtcblx0XHRcdHZhbHVlID0gdGhpcy5fY2FsbFN0cmluZ09yRnVuY3Rpb24oY3VycmVudEF0dHIuc2V0dGVyLCB2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fX0FUVFJTX19bYXR0cl0gPSB2YWx1ZTtcblx0fSxcblxuXHQvKipcblx0ICogQ2FsbHMgdGhlIHByb3ZpZGVkIHBhcmFtIGFzIGZ1bmN0aW9uIHdpdGggdGhlIHN1cHBsaWVkIGFyZ3VtZW50cy5cblx0ICogSWYgcGFyYW0gcHJvdmlkZWQgYXMgc3RyaW5nLCBhIGNvcnJlc3BvbmRpbmcgZnVuY3Rpb24gaW4gdGhpcyBvYmplY3Qgd2lsbFxuXHQgKiBiZSBjYWxsZWQuIElmIHByb3ZpZGVkIHBhcmFtIGlzIGEgZnVuY3Rpb24sIGl0IHdpbGwgYmUgZGlyZWN0bHkgY2FsbGVkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuXHQgKiBAbWV0aG9kIF9jYWxsU3RyaW5nT3JGdW5jdGlvblxuXHQgKiBAcGFyYW0gIHtBbnl8QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHByb3ZpZGVkIHRvIHRoZSBjYWxsZWQgZnVuY3Rpb25cblx0ICogQHBhcmFtICB7U3RyaW5nfEZ1bmN0aW9ufSBzdHJpbmdPckZ1bmN0aW9uIFRoZSBmdW5jdGlvbiB3aGljaCBzaG91bGQgYmUgY2FsbGVkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7QW55fSBUaGUgcmV0dXJuZWQgdmFsdWUgZnJvbSB0aGUgY2FsbGVkIGZ1bmN0aW9uXG5cdCAqL1xuXHRfY2FsbFN0cmluZ09yRnVuY3Rpb24oc3RyaW5nT3JGdW5jdGlvbiwgYXJncykge1xuXHRcdGxldCByZXN1bHQgPSBudWxsO1xuXG5cdFx0aWYgKCFMYW5nLmlzQXJyYXkoYXJncykpIHtcblx0XHRcdGFyZ3MgPSBbYXJnc107XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0TGFuZy5pc1N0cmluZyhzdHJpbmdPckZ1bmN0aW9uKSAmJlxuXHRcdFx0TGFuZy5pc0Z1bmN0aW9uKHRoaXNbc3RyaW5nT3JGdW5jdGlvbl0pXG5cdFx0KSB7XG5cdFx0XHRyZXN1bHQgPSB0aGlzW3N0cmluZ09yRnVuY3Rpb25dKC4uLmFyZ3MpO1xuXHRcdH0gZWxzZSBpZiAoTGFuZy5pc0Z1bmN0aW9uKHN0cmluZ09yRnVuY3Rpb24pKSB7XG5cdFx0XHRyZXN1bHQgPSBzdHJpbmdPckZ1bmN0aW9uLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIGFuIGF0dHJpYnV0ZS4gU2V0cyBpdHMgZGVmYXVsdCB2YWx1ZSBkZXBlbmRpbmcgb24gdGhlIGZsYWdzIG9mIHRoZVxuXHQgKiBhdHRyaWJ1dGUgYW5kIHRoZSBwYXNzZWQgY29uZmlndXJhdGlvbiBvYmplY3QgdG8gdGhlIGNvbnN0cnVjdG9yLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuXHQgKiBAbWV0aG9kIF9pbml0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgd2hpY2ggaGF2ZSB0byBiZSBpbml0aWFsaXplZC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0X2luaXQoYXR0cikge1xuXHRcdGxldCB2YWx1ZTtcblxuXHRcdGNvbnN0IGN1cnJlbnRBdHRyID0gdGhpcy5jb25zdHJ1Y3Rvci5BVFRSU1thdHRyXTtcblxuXHRcdC8vIENoZWNrIGlmIHRoZXJlIGlzIGRlZmF1bHQgdmFsdWUgb3IgcGFzc2VkIG9uZSB2aWEgY29uZmlndXJhdGlvbiBvYmplY3Rcblx0XHRjb25zdCBoYXNEZWZhdWx0VmFsdWUgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG5cdFx0XHRjdXJyZW50QXR0cixcblx0XHRcdCd2YWx1ZSdcblx0XHQpO1xuXHRcdGNvbnN0IGhhc1Bhc3NlZFZhbHVlVmlhQ29uZmlnID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuXHRcdFx0dGhpcy5fX2NvbmZpZ19fLFxuXHRcdFx0YXR0clxuXHRcdCk7XG5cblx0XHQvLyBJZiB0aGVyZSBpcyB2YWx1ZUZuLCBzZXQgdGhlIHZhbHVlIHRvIGJlIHRoZSByZXN1bHQgb2YgaW52b2NhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uXG5cdFx0aWYgKGN1cnJlbnRBdHRyLnZhbHVlRm4pIHtcblx0XHRcdHZhbHVlID0gdGhpcy5fY2FsbFN0cmluZ09yRnVuY3Rpb24oY3VycmVudEF0dHIudmFsdWVGbiwgdmFsdWUpO1xuXG5cdFx0XHR0aGlzLl9fQVRUUlNfX1thdHRyXSA9IHZhbHVlO1xuXHRcdH1cblx0XHQvLyBlbHNlIGlmIHRoZSBhdHRyaWJ1dGUgaGFzIHJlYWRPbmx5IGZsYWcsIHNldCB0aGUgZGVmYXVsdCB2YWx1ZSBmcm9tIHRoZSBhdHRyaWJ1dGUsXG5cdFx0Ly8gcmVnYXJkbGVzcyBpZiB0aGVyZSBpcyB2YWx1ZSBvciBub3Rcblx0XHRlbHNlIGlmIChjdXJyZW50QXR0ci5yZWFkT25seSkge1xuXHRcdFx0dmFsdWUgPSBjdXJyZW50QXR0ci52YWx1ZTtcblx0XHR9XG5cdFx0Ly8gZWxzZSBpZiB0aGUgYXR0cmlidXRlIGhhcyB3cml0ZU9uY2UgdmFsdWUsIHNldCBpdCBmcm9tIHRoZSBwYXNzZWQgY29uZmlndXJhdGlvbiBvciBmcm9tIHRoZVxuXHRcdC8vIGRlZmF1bHQgdmFsdWUsIGluIHRoaXMgb3JkZXIuIE90aGVyd2lzZSwgcmV0dXJuIG1pc2VyYWJsZS5cblx0XHRlbHNlIGlmIChjdXJyZW50QXR0ci53cml0ZU9uY2UpIHtcblx0XHRcdGlmIChoYXNQYXNzZWRWYWx1ZVZpYUNvbmZpZykge1xuXHRcdFx0XHR2YWx1ZSA9IHRoaXMuX19jb25maWdfX1thdHRyXTtcblx0XHRcdH0gZWxzZSBpZiAoaGFzRGVmYXVsdFZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gY3VycmVudEF0dHIudmFsdWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIFRoZXNlIHR3byBjYXNlcyBiZWxvdyBhcmUgZWFzeSAtIHNldCB0aGUgdmFsdWUgdG8gYmUgZnJvbSB0aGUgcGFzc2VkIGNvbmZpZyBvclxuXHRcdC8vIGZyb20gdGhlIGRlZmF1bHQgdmFsdWUsIGluIHRoaXMgb3JkZXIuXG5cdFx0ZWxzZSBpZiAoaGFzUGFzc2VkVmFsdWVWaWFDb25maWcpIHtcblx0XHRcdHZhbHVlID0gdGhpcy5fX2NvbmZpZ19fW2F0dHJdO1xuXHRcdH0gZWxzZSBpZiAoaGFzRGVmYXVsdFZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IGN1cnJlbnRBdHRyLnZhbHVlO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGlzIHZhbGlkYXRvciwgYW5kIHVzZXIgcGFzc2VkIGNvbmZpZyBvYmplY3QgLSBjaGVjayB0aGUgcmV0dXJuZWQgdmFsdWUuXG5cdFx0Ly8gSWYgaXQgaXMgZmFsc2UsIHRoZW4gc2V0IGFzIGluaXRpYWwgdmFsdWUgdGhlIGRlZmF1bHQgb25lLlxuXHRcdC8vIEhvd2V2ZXIsIGlmIHRoZXJlIGlzIG5vIGRlZmF1bHQgdmFsdWUsIGp1c3QgcmV0dXJuLlxuXHRcdGlmIChcblx0XHRcdGN1cnJlbnRBdHRyLnZhbGlkYXRvciAmJlxuXHRcdFx0aGFzUGFzc2VkVmFsdWVWaWFDb25maWcgJiZcblx0XHRcdCF0aGlzLl9jYWxsU3RyaW5nT3JGdW5jdGlvbihjdXJyZW50QXR0ci52YWxpZGF0b3IsIHZhbHVlKVxuXHRcdCkge1xuXHRcdFx0aWYgKGhhc0RlZmF1bHRWYWx1ZSkge1xuXHRcdFx0XHR2YWx1ZSA9IGN1cnJlbnRBdHRyLnZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGlzIHNldHRlciBhbmQgdXNlciBwYXNzZWQgY29uZmlnIG9iamVjdCAtIHBhc3MgdGhlIHZhbHVlIHRob3VnaHQgdGhlIHNldHRlci5cblx0XHQvLyBUaGUgdmFsdWUgbWlnaHQgYmUgb25lIGZyb20gZGVmYXVsdEZuLCBkZWZhdWx0IHZhbHVlIG9yIHByb3ZpZGVkIGZyb20gdGhlIGNvbmZpZy5cblx0XHRpZiAoY3VycmVudEF0dHIuc2V0dGVyICYmIGhhc1Bhc3NlZFZhbHVlVmlhQ29uZmlnKSB7XG5cdFx0XHR2YWx1ZSA9IHRoaXMuX2NhbGxTdHJpbmdPckZ1bmN0aW9uKGN1cnJlbnRBdHRyLnNldHRlciwgdmFsdWUpO1xuXHRcdH1cblxuXHRcdC8vIEZpbmFsbHksIHNldCB0aGUgdmFsdWUgYXMgaW5pdGlhbCB2YWx1ZSB0byB0aGUgc3RvcmFnZSB3aXRoIHZhbHVlcy5cblx0XHR0aGlzLl9fQVRUUlNfX1thdHRyXSA9IHZhbHVlO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYW4gYXR0cmlidXRlIGlzIGluaXRpYWxpemVkLiBBbiBhdHRyaWJ1dGUgaXMgY29uc2lkZXJlZCBhcyBpbml0aWFsaXplZFxuXHQgKiB3aGVuIHRoZXJlIGlzIGFuIG93biBwcm9wZXJ0eSB3aXRoIHRoaXMgbmFtZSBpbiB0aGUgbG9jYWwgY29sbGVjdGlvbiBvZiBhdHRyaWJ1dGUgdmFsdWVzXG5cdCAqIGZvciB0aGUgY3VycmVudCBpbnN0YW5jZS5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBBdHRyaWJ1dGVcblx0ICogQG1ldGhvZCBfaXNJbml0aWFsaXplZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgYXR0cmlidXRlIHdoaWNoIHNob3VsZCBiZSBjaGVja2VkIGlmIGl0IGlzIGluaXRpYWxpemVkLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgYXR0cmlidXRlIGhhcyBiZWVuIGluaXRpYWxpemVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqL1xuXHRfaXNJbml0aWFsaXplZChhdHRyKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9fQVRUUlNfXywgYXR0cik7XG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBBdHRyaWJ1dGU7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBBdHRyaWJ1dGUgZnJvbSAnLi9hdHRyaWJ1dGUnO1xuaW1wb3J0IExhbmcgZnJvbSAnLi9sYW5nJztcbmltcG9ydCBleHRlbmQgZnJvbSAnLi9vb3AnO1xuXG4vKipcbiAqIFF1aWNrIGFuZCBkaXJ0eSBpbXBsIG9mIEJhc2UgY2xhc3MuXG4gKlxuICogQGNsYXNzIEJhc2VcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBCYXNlKGNvbmZpZykge1xuXHRCYXNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBjb25maWcpO1xuXG5cdHRoaXMuaW5pdChjb25maWcpO1xufVxuXG5leHRlbmQoQmFzZSwgQXR0cmlidXRlLCB7XG5cdC8qKlxuXHQgKiBDYWxscyB0aGUgYGluaXRpYWxpemVyYCBtZXRob2Qgb2YgZWFjaCBjbGFzcyB3aGljaCBleHRlbmRzIEJhc2Ugc3RhcnRpbmcgZnJvbSB0aGUgcGFyZW50IHRvIHRoZSBjaGlsZC5cblx0ICogV2lsbCBwYXNzIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBlYWNoIGluaXRpYWxpemVyIG1ldGhvZC5cblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBtZW1iZXJvZiBCYXNlXG5cdCAqIEBtZXRob2QgaW5pdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIENvbmZpZ3VyYXRpb24gb2JqZWN0XG5cdCAqL1xuXHRpbml0KGNvbmZpZykge1xuXHRcdHRoaXMuX2NhbGxDaGFpbignaW5pdGlhbGl6ZXInLCBjb25maWcpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDYWxscyB0aGUgYGRlc3RydWN0b3JgIG1ldGhvZCBvZiBlYWNoIGNsYXNzIHdoaWNoIGV4dGVuZHMgQmFzZSBzdGFydGluZyBmcm9tIHRoZSBwYXJlbnQgdG8gdGhlIGNoaWxkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJhc2Vcblx0ICogQG1ldGhvZCBkZXN0cm95XG5cdCAqL1xuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuX2NhbGxDaGFpbignZGVzdHJ1Y3RvcicpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDYWxscyBhIG1ldGhvZCBvZiBlYWNoIGNsYXNzLCB3aGljaCBpcyBiZWluZyBwcmVzZW50IGluIHRoZSBoaWVyYXJjaHkgc3RhcnRpbmcgZnJvbSBwYXJlbnQgdG8gdGhlIGNoaWxkLlxuXHQgKlxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIEJhc2Vcblx0ICogQG1ldGhvZCBfY2FsbENoYWluXG5cdCAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgd2l0aCB3aGljaCB0aGUgbWV0aG9kIHNob3VsZCBiZSBpbnZva2VkXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB3YXQgIFRoZSBtZXRob2QsIHdoaWNoIHNob3VsZCBiZSBpbnZva2VkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdF9jYWxsQ2hhaW4od2F0LCBhcmdzKSB7XG5cdFx0bGV0IGFyciA9IFtdO1xuXG5cdFx0bGV0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuXG5cdFx0d2hpbGUgKGN0b3IpIHtcblx0XHRcdGlmIChMYW5nLmlzRnVuY3Rpb24oY3Rvci5wcm90b3R5cGVbd2F0XSkpIHtcblx0XHRcdFx0YXJyLnB1c2goY3Rvci5wcm90b3R5cGVbd2F0XSk7XG5cdFx0XHR9XG5cblx0XHRcdGN0b3IgPSBjdG9yLnN1cGVyY2xhc3MgPyBjdG9yLnN1cGVyY2xhc3MuY29uc3RydWN0b3IgOiBudWxsO1xuXHRcdH1cblxuXHRcdGFyciA9IGFyci5yZXZlcnNlKCk7XG5cblx0XHRhcmdzID0gTGFuZy5pc0FycmF5KGFyZ3MpID8gYXJncyA6IFthcmdzXTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBpdGVtID0gYXJyW2ldO1xuXG5cdFx0XHRpdGVtLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHRcdH1cblx0fSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXNlO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG4vKipcbiAqIFByb3ZpZGVzIGNvcmUgbGFuZ3VhZ2UgdXRpbGl0aWVzLlxuICpcbiAqIEBjbGFzcyBMYW5nXG4gKi9cbmNvbnN0IExhbmcgPSB7XG5cdC8qKlxuXHQgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGFuIGFycmF5LlxuXHQgKlxuXHQgKiBAbWVtYmVyb2YgTGFuZ1xuXHQgKiBAbWV0aG9kIGlzQXJyYXlcblx0ICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBoYXZlIHRvIGJlIGNoZWNrZWQuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhbiBhcnJheSwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRpc0FycmF5KHZhbHVlKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYm9vbGVhbi5cblx0ICpcblx0ICogQG1lbWJlcm9mIExhbmdcblx0ICogQG1ldGhvZCBpc0Jvb2xlYW5cblx0ICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBoYXZlIHRvIGJlIGNoZWNrZWQuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBib29sZWFuLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdGlzQm9vbGVhbih2YWx1ZSkge1xuXHRcdHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcblx0fSxcblxuXHQvKipcblx0ICogQ2hlY2sgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAbWVtYmVyb2YgTGFuZ1xuXHQgKiBAbWV0aG9kIGlzRnVuY3Rpb25cblx0ICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBoYXZlIHRvIGJlIGNoZWNrZWQuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdGlzRnVuY3Rpb24odmFsdWUpIHtcblx0XHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIE5VTEwuXG5cdCAqXG5cdCAqIEBtZW1iZXJvZiBMYW5nXG5cdCAqIEBtZXRob2QgaXNOdWxsXG5cdCAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgTlVMTCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRpc051bGwodmFsdWUpIHtcblx0XHRyZXR1cm4gdmFsdWUgPT09IG51bGw7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgbnVtYmVyLlxuXHQgKlxuXHQgKiBAbWVtYmVyb2YgTGFuZ1xuXHQgKiBAbWV0aG9kIGlzTnVtYmVyXG5cdCAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgbnVtYmVyLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdGlzTnVtYmVyKHZhbHVlKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGFuIG9iamVjdFxuXHQgKlxuXHQgKiBAbWVtYmVyb2YgTGFuZ1xuXHQgKiBAbWV0aG9kIGlzT2JqZWN0XG5cdCAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYW4gb2JqZWN0LCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdGlzT2JqZWN0KHZhbHVlKSB7XG5cdFx0Y29uc3QgdmFsdWVUeXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0cmV0dXJuIHZhbHVlICYmICh2YWx1ZVR5cGUgPT09ICdvYmplY3QnIHx8IExhbmcuaXNGdW5jdGlvbih2YWx1ZSkpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGEgc3RyaW5nLlxuXHQgKlxuXHQgKiBAbWVtYmVyb2YgTGFuZ1xuXHQgKiBAbWV0aG9kIGlzU3RyaW5nXG5cdCAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYSBzdHJpbmcsIGZhbHNlIG90aGVyd2lzZS5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0aXNTdHJpbmcodmFsdWUpIHtcblx0XHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcblx0fSxcblxuXHQvKipcblx0ICogQWRkcyBhbGwgcHJvcGVydGllcyBmcm9tIHRoZSBzdXBwbGllciB0byB0aGUgcmVjZWl2ZXIuXG5cdCAqIFRoZSBmdW5jdGlvbiB3aWxsIGFkZCBhbGwgcHJvcGVydGllcywgbm90IG9ubHkgdGhlc2Ugb3duZWQgYnkgdGhlIHN1cHBsaWVyLlxuXHQgKlxuXHQgKiBAbWVtYmVyb2YgTGFuZ1xuXHQgKiBAbWV0aG9kIG1peFxuXHQgKiBAcGFyYW0ge09iamVjdH0gcmVjZWl2ZXIgVGhlIG9iamVjdCB3aGljaCB3aWxsIHJlY2VpdmUgcHJvcGVydGllcy5cblx0ICogQHBhcmFtIHtPYmplY3R9IHN1cHBsaWVyIFRoZSBvYmplY3Qgd2hpY2ggcHJvdmlkZXMgcHJvcGVydGllcy5cblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgbW9kaWZpZWQgcmVjZWl2ZXIuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdG1peChyZWNlaXZlciwgc3VwcGxpZXIpIHtcblx0XHRjb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzdXBwbGllcikge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoc3VwcGxpZXIsIGtleSkpIHtcblx0XHRcdFx0cmVjZWl2ZXJba2V5XSA9IHN1cHBsaWVyW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyB2YWx1ZSB0byBJbnRlZ2VyLlxuXHQgKlxuXHQgKiBAbWVtYmVyb2YgTGFuZ1xuXHQgKiBAbWV0aG9kIHRvSW50XG5cdCAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjb252ZXJ0ZWQgdG8gSW50ZWdlci5cblx0ICogQHJldHVybiB7SW50ZWdlcn0gVGhlIGNvbnZlcnRlZCB2YWx1ZS5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0dG9JbnQodmFsdWUpIHtcblx0XHRyZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcblx0fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExhbmc7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBMYW5nIGZyb20gJy4vbGFuZyc7XG5cbi8qKlxuICogU2V0cyB0aGUgcHJvdG90eXBlLCBjb25zdHJ1Y3RvciBhbmQgc3VwZXJjbGFzcyBwcm9wZXJ0aWVzIHRvIHN1cHBvcnQgYW4gaW5oZXJpdGFuY2Ugc3RyYXRlZ3lcbiAqIHRoYXQgY2FuIGNoYWluIGNvbnN0cnVjdG9ycyBhbmQgbWV0aG9kcy4gU3RhdGljIG1lbWJlcnMgd2lsbCBub3QgYmUgaW5oZXJpdGVkLlxuICpcbiAqIEBtZW1iZXJvZiBPT1BcbiAqIEBtZXRob2QgZXh0ZW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWNlaXZlciBUaGUgY2xhc3Mgd2hpY2ggd2lsbCBleHRlbmQgYW5vdGhlciBjbGFzcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1cHBsaWVyIFRoZSBjbGFzcyB3aGljaCB3aWxsIHByb3ZpZGUgdGhlIHByb3BlcnRpZXMgdGhlIGNoaWxkIGNsYXNzLlxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvUHJvcHMgUHJvdG90eXBlIHByb3BlcnRpZXMgdG8gYWRkL292ZXJyaWRlLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRpY1Byb3BzIFN0YXRpYyBwcm9wZXJ0aWVzIHRvIGFkZC9vdmVyd3JpdGUuXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGV4dGVuZGVkIGNsYXNzLlxuICogQHN0YXRpY1xuICovXG5jb25zdCBleHRlbmQgPSBmdW5jdGlvbihyZWNlaXZlciwgc3VwcGxpZXIsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdGlmICghc3VwcGxpZXIgfHwgIXJlY2VpdmVyKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdleHRlbmQgZmFpbGVkLCB2ZXJpZnkgZGVwZW5kZW5jaWVzJyk7XG5cdH1cblxuXHRjb25zdCBzdXBwbGllclByb3RvID0gc3VwcGxpZXIucHJvdG90eXBlO1xuXG5cdGNvbnN0IHJlY2VpdmVyUHJvdG8gPSBPYmplY3QuY3JlYXRlKHN1cHBsaWVyUHJvdG8pO1xuXHRyZWNlaXZlci5wcm90b3R5cGUgPSByZWNlaXZlclByb3RvO1xuXG5cdHJlY2VpdmVyUHJvdG8uY29uc3RydWN0b3IgPSByZWNlaXZlcjtcblx0cmVjZWl2ZXIuc3VwZXJjbGFzcyA9IHN1cHBsaWVyUHJvdG87XG5cblx0Ly8gYXNzaWduIGNvbnN0cnVjdG9yIHByb3BlcnR5XG5cdGlmIChcblx0XHRzdXBwbGllciAhPT0gT2JqZWN0ICYmXG5cdFx0c3VwcGxpZXJQcm90by5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvclxuXHQpIHtcblx0XHRzdXBwbGllclByb3RvLmNvbnN0cnVjdG9yID0gc3VwcGxpZXI7XG5cdH1cblxuXHQvLyBhZGQgcHJvdG90eXBlIG92ZXJyaWRlc1xuXHRpZiAocHJvdG9Qcm9wcykge1xuXHRcdExhbmcubWl4KHJlY2VpdmVyUHJvdG8sIHByb3RvUHJvcHMpO1xuXHR9XG5cblx0Ly8gYWRkIG9iamVjdCBvdmVycmlkZXNcblx0aWYgKHN0YXRpY1Byb3BzKSB7XG5cdFx0TGFuZy5taXgocmVjZWl2ZXIsIHN0YXRpY1Byb3BzKTtcblx0fVxuXG5cdHJldHVybiByZWNlaXZlcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGV4dGVuZDtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuY2xhc3MgRHJhZ0V2ZW50IHtcblx0Y29uc3RydWN0b3Iod2luZG93LCBkb2N1bWVudCkge1xuXHRcdHRoaXMuZG9jdW1lbnQgPSBkb2N1bWVudDtcblx0XHR0aGlzLndpbmRvdyA9IHdpbmRvdztcblxuXHRcdHRoaXMuZXZlbnRzID0ge1xuXHRcdFx0a2V5ZG93bjogdGhpcy5rZXlkb3duLmJpbmQodGhpcyksXG5cdFx0XHRtb3VzZW1vdmU6IHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcyksXG5cdFx0XHRtb3VzZXVwOiB0aGlzLm1vdXNldXAuYmluZCh0aGlzKSxcblx0XHR9O1xuXHR9XG5cblx0c3RhcnQoZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0dGhpcy50YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cblx0XHR0aGlzLmNsYXNzTmFtZSA9IHRoaXMudGFyZ2V0LmNsYXNzTmFtZTtcblxuXHRcdHRoaXMuc3RhcnRQb3MgPSB7XG5cdFx0XHR4OiBldmVudC5jbGllbnRYLFxuXHRcdFx0eTogZXZlbnQuY2xpZW50WSxcblx0XHR9O1xuXG5cdFx0dGhpcy51cGRhdGUoZXZlbnQpO1xuXG5cdFx0dGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5ldmVudHMua2V5ZG93biwgZmFsc2UpO1xuXHRcdHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHRcdCdtb3VzZW1vdmUnLFxuXHRcdFx0dGhpcy5ldmVudHMubW91c2Vtb3ZlLFxuXHRcdFx0ZmFsc2Vcblx0XHQpO1xuXHRcdHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuZXZlbnRzLm1vdXNldXAsIGZhbHNlKTtcblxuXHRcdHRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKGBkcmFnZ2luZy0ke3RoaXMuY2xhc3NOYW1lfWApO1xuXG5cdFx0aWYgKHR5cGVvZiB0aGlzLm9uU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRoaXMub25TdGFydCgpO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZShldmVudCkge1xuXHRcdHRoaXMuY3VycmVudFBvcyA9IHtcblx0XHRcdHg6IGV2ZW50LmNsaWVudFgsXG5cdFx0XHR5OiBldmVudC5jbGllbnRZLFxuXHRcdH07XG5cblx0XHR0aGlzLmRlbHRhID0ge1xuXHRcdFx0eDogZXZlbnQuY2xpZW50WCAtIHRoaXMuc3RhcnRQb3MueCxcblx0XHRcdHk6IGV2ZW50LmNsaWVudFkgLSB0aGlzLnN0YXJ0UG9zLnksXG5cdFx0fTtcblxuXHRcdHRoaXMua2V5cyA9IHtcblx0XHRcdGFsdDogZXZlbnQuYWx0S2V5LFxuXHRcdFx0Y3RybDogZXZlbnQuY3RybEtleSxcblx0XHRcdHNoaWZ0OiBldmVudC5zaGlmdEtleSxcblx0XHR9O1xuXHR9XG5cblx0bW91c2Vtb3ZlKGV2ZW50KSB7XG5cdFx0dGhpcy51cGRhdGUoZXZlbnQpO1xuXG5cdFx0aWYgKHR5cGVvZiB0aGlzLm9uRHJhZyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0dGhpcy5vbkRyYWcoKTtcblx0XHR9XG5cblx0XHRpZiAoZXZlbnQud2hpY2ggPT09IDApIHtcblx0XHRcdHRoaXMubW91c2V1cChldmVudCk7XG5cdFx0fVxuXHR9XG5cblx0a2V5ZG93bihldmVudCkge1xuXHRcdGlmIChldmVudC5rZXlDb2RlID09PSAyNykge1xuXHRcdFx0dGhpcy5yZWxlYXNlKCk7XG5cdFx0fVxuXHR9XG5cblx0bW91c2V1cChldmVudCkge1xuXHRcdHRoaXMudXBkYXRlKGV2ZW50KTtcblxuXHRcdHRoaXMucmVsZWFzZSgpO1xuXG5cdFx0aWYgKHR5cGVvZiB0aGlzLm9uQ29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRoaXMub25Db21wbGV0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdHJlbGVhc2UoKSB7XG5cdFx0dGhpcy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoYGRyYWdnaW5nLSR7dGhpcy5jbGFzc05hbWV9YCk7XG5cblx0XHR0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG5cdFx0XHQna2V5ZG93bicsXG5cdFx0XHR0aGlzLmV2ZW50cy5rZXlkb3duLFxuXHRcdFx0ZmFsc2Vcblx0XHQpO1xuXHRcdHRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcblx0XHRcdCdtb3VzZW1vdmUnLFxuXHRcdFx0dGhpcy5ldmVudHMubW91c2Vtb3ZlLFxuXHRcdFx0ZmFsc2Vcblx0XHQpO1xuXHRcdHRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcblx0XHRcdCdtb3VzZXVwJyxcblx0XHRcdHRoaXMuZXZlbnRzLm1vdXNldXAsXG5cdFx0XHRmYWxzZVxuXHRcdCk7XG5cblx0XHRpZiAodHlwZW9mIHRoaXMub25SZWxlYXNlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0aGlzLm9uUmVsZWFzZSgpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQge0RyYWdFdmVudH07XG5leHBvcnQgZGVmYXVsdCBEcmFnRXZlbnQ7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCBEcmFnRXZlbnQgZnJvbSAnLi9EcmFnRXZlbnQuZXMnO1xuXG5jb25zdCBJTUFHRV9IQU5ETEVTID0gWyd0bCcsICd0cicsICdibCcsICdiciddO1xuXG5jb25zdCBQT1NJVElPTl9FTEVNRU5UX0ZOID0ge1xuXHRibChoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG5cdFx0cG9zaXRpb25FbGVtZW50KGhhbmRsZSwgLTMgKyBsZWZ0LCBib3guaGVpZ2h0IC0gNCArIHRvcCk7XG5cdH0sXG5cdGJyKGhhbmRsZSwgbGVmdCwgdG9wLCBib3gpIHtcblx0XHRwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBib3gud2lkdGggLSA0ICsgbGVmdCwgYm94LmhlaWdodCAtIDQgKyB0b3ApO1xuXHR9LFxuXHRybShoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG5cdFx0cG9zaXRpb25FbGVtZW50KFxuXHRcdFx0aGFuZGxlLFxuXHRcdFx0Ym94LndpZHRoIC0gNCArIGxlZnQsXG5cdFx0XHRNYXRoLnJvdW5kKGJveC5oZWlnaHQgLyAyKSAtIDMgKyB0b3Bcblx0XHQpO1xuXHR9LFxuXHR0bChoYW5kbGUsIGxlZnQsIHRvcCwgX2JveCkge1xuXHRcdHBvc2l0aW9uRWxlbWVudChoYW5kbGUsIGxlZnQgLSAzLCB0b3AgLSAzKTtcblx0fSxcblx0dHIoaGFuZGxlLCBsZWZ0LCB0b3AsIGJveCkge1xuXHRcdHBvc2l0aW9uRWxlbWVudChoYW5kbGUsIGJveC53aWR0aCAtIDQgKyBsZWZ0LCAtMyArIHRvcCk7XG5cdH0sXG59O1xuXG5jb25zdCBwb3NpdGlvbkVsZW1lbnQgPSAoZWwsIGxlZnQsIHRvcCkgPT4ge1xuXHRlbC5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG5cdGVsLnN0eWxlLnRvcCA9IGAke3RvcH1weGA7XG59O1xuXG5jb25zdCBnZXRCb3VuZGluZ0JveCA9ICh3aW5kb3csIGVsKSA9PiB7XG5cdGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRyZXR1cm4ge1xuXHRcdGhlaWdodDogcmVjdC5oZWlnaHQsXG5cdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0LFxuXHRcdHRvcDogcmVjdC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQsXG5cdFx0d2lkdGg6IHJlY3Qud2lkdGgsXG5cdH07XG59O1xuXG5jbGFzcyBSZXNpemVyIHtcblx0Y29uc3RydWN0b3IoZWRpdG9yLCBjZmcgPSB7fSkge1xuXHRcdHRoaXMuY2ZnID0gY2ZnO1xuXHRcdHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuXG5cdFx0dGhpcy5kb2N1bWVudCA9IGVkaXRvci5kb2N1bWVudCA/IGVkaXRvci5kb2N1bWVudC4kIDogZG9jdW1lbnQ7XG5cdFx0dGhpcy53aW5kb3cgPSBlZGl0b3Iud2luZG93ID8gZWRpdG9yLndpbmRvdy4kIDogd2luZG93O1xuXG5cdFx0dGhpcy5ib3ggPSBudWxsO1xuXHRcdHRoaXMuY29udGFpbmVyID0gbnVsbDtcblx0XHR0aGlzLmhhbmRsZXMgPSB7fTtcblx0XHR0aGlzLnByZXZpZXcgPSBudWxsO1xuXHRcdHRoaXMucHJldmlld0JveCA9IG51bGw7XG5cdFx0dGhpcy5yZXN1bHQgPSBudWxsO1xuXG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRpbml0KCkge1xuXHRcdHRoaXMuY29udGFpbmVyID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aGlzLmNvbnRhaW5lci5pZCA9ICdja2ltZ3Jzeic7XG5cblx0XHR0aGlzLnByZXZpZXcgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuXHRcdHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucHJldmlldyk7XG5cblx0XHR0aGlzLmhhbmRsZXMgPSB7fTtcblxuXHRcdElNQUdFX0hBTkRMRVMuZm9yRWFjaChoYW5kbGVOYW1lID0+IHtcblx0XHRcdHRoaXMuaGFuZGxlc1toYW5kbGVOYW1lXSA9IHRoaXMuY3JlYXRlSGFuZGxlKGhhbmRsZU5hbWUpO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuaGFuZGxlcyk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaGFuZGxlc1trZXlzW2ldXSk7XG5cdFx0fVxuXHR9XG5cblx0Y3JlYXRlSGFuZGxlKG5hbWUpIHtcblx0XHRjb25zdCBlbCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuXG5cdFx0ZWwuY2xhc3NMaXN0LmFkZChuYW1lKTtcblxuXHRcdHJldHVybiBlbDtcblx0fVxuXG5cdGlzSGFuZGxlKGVsKSB7XG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuaGFuZGxlcyk7XG5cblx0XHRsZXQgcmVzdWx0ID0gZmFsc2U7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICh0aGlzLmhhbmRsZXNba2V5c1tpXV0gPT09IGVsKSB7XG5cdFx0XHRcdHJlc3VsdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdHNob3coZWwpIHtcblx0XHRjb25zdCB1aU5vZGUgPSB0aGlzLmVkaXRvci5jb25maWcudWlOb2RlIHx8IGRvY3VtZW50LmJvZHk7XG5cblx0XHR0aGlzLmVsID0gZWw7XG5cblx0XHR0aGlzLmJveCA9IGdldEJvdW5kaW5nQm94KHRoaXMud2luZG93LCB0aGlzLmVsKTtcblxuXHRcdHBvc2l0aW9uRWxlbWVudChcblx0XHRcdHRoaXMuY29udGFpbmVyLFxuXHRcdFx0dGhpcy5ib3gubGVmdCxcblx0XHRcdHRoaXMuYm94LnRvcCArIHVpTm9kZS5zY3JvbGxUb3Bcblx0XHQpO1xuXG5cdFx0dWlOb2RlLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcblxuXHRcdHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnY2tpbWdyc3onKTtcblxuXHRcdHRoaXMuc2hvd0hhbmRsZXMoKTtcblx0fVxuXG5cdGhpZGUoKSB7XG5cdFx0Y29uc3QgZWxlbWVudHMgPSB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NraW1ncnN6Jyk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRlbGVtZW50c1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdja2ltZ3JzeicpO1xuXHRcdH1cblxuXHRcdHRoaXMuaGlkZUhhbmRsZXMoKTtcblxuXHRcdGlmICh0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTtcblx0XHR9XG5cdH1cblxuXHRpbml0RHJhZyhldmVudCkge1xuXHRcdGlmIChldmVudC5idXR0b24gIT09IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBkcmFnID0gbmV3IERyYWdFdmVudCh0aGlzLndpbmRvdywgdGhpcy5kb2N1bWVudCk7XG5cblx0XHRkcmFnLm9uU3RhcnQgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnNob3dQcmV2aWV3KCk7XG5cblx0XHRcdHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG5cblx0XHRcdHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLmxvY2soKTtcblx0XHR9O1xuXG5cdFx0ZHJhZy5vbkRyYWcgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVNpemUoZHJhZyk7XG5cblx0XHRcdGNvbnN0IGVkaXRvckJvdW5kcyA9IHRoaXMuZWRpdG9yLmVsZW1lbnQuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0aWYgKHRoaXMucHJldmlld0JveC53aWR0aCA+PSBlZGl0b3JCb3VuZHMud2lkdGgpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnVwZGF0ZVByZXZpZXcoKTtcblxuXHRcdFx0Y29uc3QgYm94ID0gdGhpcy5wcmV2aWV3Qm94O1xuXG5cdFx0XHR0aGlzLnVwZGF0ZUhhbmRsZXMoYm94LCBib3gubGVmdCwgYm94LnRvcCk7XG5cdFx0fTtcblxuXHRcdGRyYWcub25SZWxlYXNlID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5oaWRlUHJldmlldygpO1xuXG5cdFx0XHR0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuXHRcdFx0dGhpcy5oaWRlKCk7XG5cblx0XHRcdHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLnVubG9jaygpO1xuXG5cdFx0XHR0aGlzLmVkaXRvci5maXJlKCdzYXZlU25hcHNob3QnKTtcblx0XHR9O1xuXG5cdFx0ZHJhZy5vbkNvbXBsZXRlID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5yZXNpemVDb21wbGV0ZSgpO1xuXG5cdFx0XHR0aGlzLmVkaXRvci5maXJlKCdzYXZlU25hcHNob3QnKTtcblx0XHR9O1xuXG5cdFx0ZHJhZy5zdGFydChldmVudCk7XG5cdH1cblxuXHR1cGRhdGVIYW5kbGVzKGJveCwgbGVmdCA9IDAsIHRvcCA9IDApIHtcblx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5oYW5kbGVzKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0UE9TSVRJT05fRUxFTUVOVF9GTltrZXlzW2ldXSh0aGlzLmhhbmRsZXNba2V5c1tpXV0sIGxlZnQsIHRvcCwgYm94KTtcblx0XHR9XG5cdH1cblxuXHRzaG93SGFuZGxlcygpIHtcblx0XHR0aGlzLnVwZGF0ZUhhbmRsZXModGhpcy5ib3gpO1xuXG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuaGFuZGxlcyk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuaGFuZGxlc1trZXlzW2ldXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHR9XG5cdH1cblxuXHRoaWRlSGFuZGxlcygpIHtcblx0XHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5oYW5kbGVzKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dGhpcy5oYW5kbGVzW2tleXNbaV1dLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0fVxuXHR9XG5cblx0c2hvd1ByZXZpZXcoKSB7XG5cdFx0dGhpcy5jYWxjdWxhdGVTaXplKCk7XG5cblx0XHR0aGlzLnVwZGF0ZVByZXZpZXcoKTtcblxuXHRcdHRoaXMucHJldmlldy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0fVxuXG5cdHVwZGF0ZVByZXZpZXcoKSB7XG5cdFx0cG9zaXRpb25FbGVtZW50KFxuXHRcdFx0dGhpcy5wcmV2aWV3LFxuXHRcdFx0dGhpcy5wcmV2aWV3Qm94LmxlZnQsXG5cdFx0XHR0aGlzLnByZXZpZXdCb3gudG9wXG5cdFx0KTtcblxuXHRcdHRoaXMucHJldmlldy5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnByZXZpZXdCb3guaGVpZ2h0fXB4YDtcblx0XHR0aGlzLnByZXZpZXcuc3R5bGUud2lkdGggPSBgJHt0aGlzLnByZXZpZXdCb3gud2lkdGh9cHhgO1xuXHR9XG5cblx0aGlkZVByZXZpZXcoKSB7XG5cdFx0Y29uc3QgYm94ID0gZ2V0Qm91bmRpbmdCb3godGhpcy53aW5kb3csIHRoaXMucHJldmlldyk7XG5cblx0XHR0aGlzLnJlc3VsdCA9IHtcblx0XHRcdGhlaWdodDogYm94LmhlaWdodCxcblx0XHRcdHdpZHRoOiBib3gud2lkdGgsXG5cdFx0fTtcblxuXHRcdHRoaXMucHJldmlldy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHR9XG5cblx0Y2FsY3VsYXRlU2l6ZShkYXRhKSB7XG5cdFx0dGhpcy5wcmV2aWV3Qm94ID0ge1xuXHRcdFx0aGVpZ2h0OiB0aGlzLmJveC5oZWlnaHQsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0dG9wOiAwLFxuXHRcdFx0d2lkdGg6IHRoaXMuYm94LndpZHRoLFxuXHRcdH07XG5cblx0XHRpZiAoIWRhdGEpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBjbGFzc05hbWUgPSBkYXRhLnRhcmdldC5jbGFzc05hbWU7XG5cblx0XHRpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ3InKSA+PSAwKSB7XG5cdFx0XHR0aGlzLnByZXZpZXdCb3gud2lkdGggPSBNYXRoLm1heCgzMiwgdGhpcy5ib3gud2lkdGggKyBkYXRhLmRlbHRhLngpO1xuXHRcdH1cblxuXHRcdGlmIChjbGFzc05hbWUuaW5kZXhPZignYicpID49IDApIHtcblx0XHRcdHRoaXMucHJldmlld0JveC5oZWlnaHQgPSBNYXRoLm1heChcblx0XHRcdFx0MzIsXG5cdFx0XHRcdHRoaXMuYm94LmhlaWdodCArIGRhdGEuZGVsdGEueVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ2wnKSA+PSAwKSB7XG5cdFx0XHR0aGlzLnByZXZpZXdCb3gud2lkdGggPSBNYXRoLm1heCgzMiwgdGhpcy5ib3gud2lkdGggLSBkYXRhLmRlbHRhLngpO1xuXHRcdH1cblxuXHRcdGlmIChjbGFzc05hbWUuaW5kZXhPZigndCcpID49IDApIHtcblx0XHRcdHRoaXMucHJldmlld0JveC5oZWlnaHQgPSBNYXRoLm1heChcblx0XHRcdFx0MzIsXG5cdFx0XHRcdHRoaXMuYm94LmhlaWdodCAtIGRhdGEuZGVsdGEueVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ20nKSA8IDAgJiYgIWRhdGEua2V5cy5zaGlmdCkge1xuXHRcdFx0Y29uc3QgcmF0aW8gPSB0aGlzLmJveC53aWR0aCAvIHRoaXMuYm94LmhlaWdodDtcblxuXHRcdFx0aWYgKHRoaXMucHJldmlld0JveC53aWR0aCAvIHRoaXMucHJldmlld0JveC5oZWlnaHQgPiByYXRpbykge1xuXHRcdFx0XHR0aGlzLnByZXZpZXdCb3guaGVpZ2h0ID0gTWF0aC5yb3VuZChcblx0XHRcdFx0XHR0aGlzLnByZXZpZXdCb3gud2lkdGggLyByYXRpb1xuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5wcmV2aWV3Qm94LndpZHRoID0gTWF0aC5yb3VuZChcblx0XHRcdFx0XHR0aGlzLnByZXZpZXdCb3guaGVpZ2h0ICogcmF0aW9cblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ2wnKSA+PSAwKSB7XG5cdFx0XHR0aGlzLnByZXZpZXdCb3gubGVmdCA9IHRoaXMuYm94LndpZHRoIC0gdGhpcy5wcmV2aWV3Qm94LndpZHRoO1xuXHRcdH1cblxuXHRcdGlmIChjbGFzc05hbWUuaW5kZXhPZigndCcpID49IDApIHtcblx0XHRcdHRoaXMucHJldmlld0JveC50b3AgPSB0aGlzLmJveC5oZWlnaHQgLSB0aGlzLnByZXZpZXdCb3guaGVpZ2h0O1xuXHRcdH1cblx0fVxuXG5cdHJlc2l6ZUNvbXBsZXRlKCkge1xuXHRcdHRoaXMuY2ZnLm9uQ29tcGxldGUodGhpcy5lbCwgdGhpcy5yZXN1bHQud2lkdGgsIHRoaXMucmVzdWx0LmhlaWdodCk7XG5cdH1cbn1cblxuZXhwb3J0IHtSZXNpemVyfTtcbmV4cG9ydCBkZWZhdWx0IFJlc2l6ZXI7XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmNvbnN0IGlzSUUgPSBDS0VESVRPUi5lbnYuaWU7XG5cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2FkZGltYWdlcycpKSB7XG5cdC8qKlxuXHQgKiBDS0VkaXRvciBwbHVnaW4gd2hpY2ggYWxsb3dzIERyYWcmRHJvcCBvZiBpbWFnZXMgZGlyZWN0bHkgaW50byB0aGUgZWRpdGFibGUgYXJlYS4gVGhlIGltYWdlIHdpbGwgYmUgZW5jb2RlZFxuXHQgKiBhcyBEYXRhIFVSSS4gQW4gZXZlbnQgYGJlZm9yZUltYWdlQWRkYCB3aWxsIGJlIGZpcmVkIHdpdGggdGhlIGxpc3Qgb2YgZHJvcHBlZCBpbWFnZXMuIElmIGFueSBvZiB0aGUgbGlzdGVuZXJzXG5cdCAqIHJldHVybnMgYGZhbHNlYCBvciBjYW5jZWxzIHRoZSBldmVudCwgdGhlIGltYWdlcyB3b24ndCBiZSBhZGRlZCB0byB0aGUgY29udGVudC4gT3RoZXJ3aXNlLFxuXHQgKiBhbiBldmVudCBgaW1hZ2VBZGRgIHdpbGwgYmUgZmlyZWQgd2l0aCB0aGUgaW5zZXJ0ZWQgZWxlbWVudCBpbnRvIHRoZSBlZGl0YWJsZSBhcmVhLlxuXHQgKlxuXHQgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcblx0ICovXG5cblx0LyoqXG5cdCAqIEZpcmVkIGJlZm9yZSBhZGRpbmcgaW1hZ2VzIHRvIHRoZSBlZGl0b3IuXG5cdCAqXG5cdCAqIEBldmVudCBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlcyNiZWZvcmVJbWFnZUFkZFxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGltYWdlRmlsZXMgQXJyYXkgb2YgaW1hZ2UgZmlsZXNcblx0ICovXG5cblx0LyoqXG5cdCAqIEZpcmVkIHdoZW4gYW4gaW1hZ2UgaXMgYmVpbmcgYWRkZWQgdG8gdGhlIGVkaXRvciBzdWNjZXNzZnVsbHkuXG5cdCAqXG5cdCAqIEBldmVudCBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlcyNpbWFnZUFkZFxuXHQgKiBAaW5zdGFuY2Vcblx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG5cdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGVsIFRoZSBjcmVhdGVkIGltYWdlIHdpdGggc3JjIGFzIERhdGEgVVJJXG5cdCAqIEBwYXJhbSB7RmlsZX0gZmlsZSBUaGUgaW1hZ2UgZmlsZVxuXHQgKi9cblxuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfYWRkaW1hZ2VzJywge1xuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cblx0XHQgKiBUaGUgZnVuY3Rpb24gcmVnaXN0ZXJzIGEgJ2RyYWdlbnRlcicsICdkcmFnb3ZlcicsICdkcm9wJyBhbmQgYHBhc3RlYCBldmVudHMgb24gdGhlIGVkaXRpbmcgYXJlYS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlc1xuXHRcdCAqIEBtZXRob2QgaW5pdFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0ICovXG5cdFx0aW5pdChlZGl0b3IpIHtcblx0XHRcdGVkaXRvci5vbmNlKCdjb250ZW50RG9tJywgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG5cdFx0XHRcdGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKFxuXHRcdFx0XHRcdGVkaXRhYmxlLFxuXHRcdFx0XHRcdCdkcmFnZW50ZXInLFxuXHRcdFx0XHRcdHRoaXMuX29uRHJhZ0VudGVyLFxuXHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0ZWRpdG9yLFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblxuXHRcdFx0XHRlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihcblx0XHRcdFx0XHRlZGl0YWJsZSxcblx0XHRcdFx0XHQnZHJhZ292ZXInLFxuXHRcdFx0XHRcdHRoaXMuX29uRHJhZ092ZXIsXG5cdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRlZGl0b3IsXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKFxuXHRcdFx0XHRcdGVkaXRhYmxlLFxuXHRcdFx0XHRcdCdkcm9wJyxcblx0XHRcdFx0XHR0aGlzLl9vbkRyYWdEcm9wLFxuXHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0ZWRpdG9yLFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblxuXHRcdFx0XHRlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihcblx0XHRcdFx0XHRlZGl0YWJsZSxcblx0XHRcdFx0XHQncGFzdGUnLFxuXHRcdFx0XHRcdHRoaXMuX29uUGFzdGUsXG5cdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRlZGl0b3IsXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEFjY2VwdHMgYW4gYXJyYXkgb2YgZHJvcHBlZCBmaWxlcyB0byB0aGUgZWRpdG9yLiBUaGVuLCBpdCBmaWx0ZXJzIHRoZSBpbWFnZXMgYW5kIHNlbmRzIHRoZW0gZm9yIGZ1cnRoZXJcblx0XHQgKiBwcm9jZXNzaW5nIHRvIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzL19wcm9jZXNzRmlsZTptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cblx0XHQgKlxuXHRcdCAqIEBmaXJlcyBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlcyNiZWZvcmVJbWFnZUFkZFxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlc1xuXHRcdCAqIEBtZXRob2QgX2hhbmRsZUZpbGVzXG5cdFx0ICogQHBhcmFtIHtBcnJheX0gZmlsZXMgQXJyYXkgb2YgZHJvcHBlZCBmaWxlcy4gT25seSB0aGUgaW1hZ2VzIGZyb20gdGhpcyBsaXN0IHdpbGwgYmUgcHJvY2Vzc2VkLlxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdF9oYW5kbGVGaWxlcyhmaWxlcywgZWRpdG9yKSB7XG5cdFx0XHRsZXQgZmlsZTtcblx0XHRcdGxldCBpO1xuXG5cdFx0XHRjb25zdCBpbWFnZUZpbGVzID0gW107XG5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRmaWxlID0gZmlsZXNbaV07XG5cblx0XHRcdFx0aWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG5cdFx0XHRcdFx0aW1hZ2VGaWxlcy5wdXNoKGZpbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlc3VsdCA9IGVkaXRvci5maXJlKCdiZWZvcmVJbWFnZUFkZCcsIHtcblx0XHRcdFx0aW1hZ2VGaWxlcyxcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAocmVzdWx0KSB7XG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBpbWFnZUZpbGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0ZmlsZSA9IGltYWdlRmlsZXNbaV07XG5cblx0XHRcdFx0XHR0aGlzLl9wcm9jZXNzRmlsZShmaWxlLCBlZGl0b3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogSGFuZGxlcyBkcmFnIGRyb3AgZXZlbnQuIFRoZSBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIHNlbGVjdGlvbiBmcm9tIHRoZSBjdXJyZW50XG5cdFx0ICogcG9pbnQgYW5kIHdpbGwgc2VuZCBhIGxpc3Qgb2YgZmlsZXMgdG8gYmUgcHJvY2Vzc2VkIHRvXG5cdFx0ICoge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXMvX2hhbmRsZUZpbGVzOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fSBtZXRob2QuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcblx0XHQgKiBAbWV0aG9kIF9vbkRyYWdEcm9wXG5cdFx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZXZlbnR9IGV2ZW50IGRyYWdkcm9wIGV2ZW50LCBhcyByZWNlaXZlZCBuYXRpdmVseSBmcm9tIENLRWRpdG9yXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdF9vbkRyYWdEcm9wKGV2ZW50KSB7XG5cdFx0XHRjb25zdCBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuJDtcblxuXHRcdFx0Y29uc3QgdHJhbnNmZXJGaWxlcyA9IG5hdGl2ZUV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcblxuXHRcdFx0aWYgKHRyYW5zZmVyRmlsZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRuZXcgQ0tFRElUT1IuZG9tLmV2ZW50KG5hdGl2ZUV2ZW50KS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdGNvbnN0IGVkaXRvciA9IGV2ZW50Lmxpc3RlbmVyRGF0YS5lZGl0b3I7XG5cblx0XHRcdFx0ZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvci5jcmVhdGVTZWxlY3Rpb25Gcm9tUG9pbnQoXG5cdFx0XHRcdFx0bmF0aXZlRXZlbnQuY2xpZW50WCxcblx0XHRcdFx0XHRuYXRpdmVFdmVudC5jbGllbnRZXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dGhpcy5faGFuZGxlRmlsZXModHJhbnNmZXJGaWxlcywgZWRpdG9yKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogSGFuZGxlcyBkcmFnIGVudGVyIGV2ZW50LiBJbiBjYXNlIG9mIElFLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcHJldmVudCB0aGUgZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcblx0XHQgKiBAbWV0aG9kIF9vbkRyYWdFbnRlclxuXHRcdCAqIEBwYXJhbSB7RE9NIGV2ZW50fSBldmVudCBkcmFnZW50ZXIgZXZlbnQsIGFzIHJlY2VpdmVkIG5hdGl2ZWx5IGZyb20gQ0tFZGl0b3Jcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0X29uRHJhZ0VudGVyKGV2ZW50KSB7XG5cdFx0XHRpZiAoaXNJRSkge1xuXHRcdFx0XHR0aGlzLl9wcmV2ZW50RXZlbnQoZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBIYW5kbGVzIGRyYWcgb3ZlciBldmVudC4gSW4gY2FzZSBvZiBJRSwgdGhpcyBmdW5jdGlvbiB3aWxsIHByZXZlbnQgdGhlIGV2ZW50LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG5cdFx0ICogQG1ldGhvZCBfb25EcmFnT3ZlclxuXHRcdCAqIEBwYXJhbSB7RE9NIGV2ZW50fSBldmVudCBkcmFnb3ZlciBldmVudCwgYXMgcmVjZWl2ZWQgbmF0aXZlbHkgZnJvbSBDS0VkaXRvclxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHRfb25EcmFnT3ZlcihldmVudCkge1xuXHRcdFx0aWYgKGlzSUUpIHtcblx0XHRcdFx0dGhpcy5fcHJldmVudEV2ZW50KGV2ZW50KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIGlmIHRoZSBwYXN0ZWQgZGF0YSBpcyBpbWFnZSBhbmQgcGFzc2VzIGl0IHRvXG5cdFx0ICoge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXMvX3Byb2Nlc3NGaWxlOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fSBmb3IgcHJvY2Vzc2luZy5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlc1xuXHRcdCAqIEBtZXRob2QgX29uUGFzdGVcblx0XHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5ldmVudH0gZXZlbnQgQSBgcGFzdGVgIGV2ZW50LCBhcyByZWNlaXZlZCBuYXRpdmVseSBmcm9tIENLRWRpdG9yXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdF9vblBhc3RlKGV2ZW50KSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGV2ZW50LmRhdGEgJiZcblx0XHRcdFx0ZXZlbnQuZGF0YS4kICYmXG5cdFx0XHRcdGV2ZW50LmRhdGEuJC5jbGlwYm9hcmREYXRhICYmXG5cdFx0XHRcdGV2ZW50LmRhdGEuJC5jbGlwYm9hcmREYXRhLml0ZW1zICYmXG5cdFx0XHRcdGV2ZW50LmRhdGEuJC5jbGlwYm9hcmREYXRhLml0ZW1zLmxlbmd0aCA+IDBcblx0XHRcdCkge1xuXHRcdFx0XHRjb25zdCBwYXN0ZWREYXRhID0gZXZlbnQuZGF0YS4kLmNsaXBib2FyZERhdGEuaXRlbXNbMF07XG5cblx0XHRcdFx0aWYgKHBhc3RlZERhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG5cdFx0XHRcdFx0Y29uc3QgaW1hZ2VGaWxlID0gcGFzdGVkRGF0YS5nZXRBc0ZpbGUoKTtcblxuXHRcdFx0XHRcdHRoaXMuX3Byb2Nlc3NGaWxlKGltYWdlRmlsZSwgZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUHJldmVudHMgYSBuYXRpdmUgZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcblx0XHQgKiBAbWV0aG9kIF9wcmV2ZW50RXZlbnRcblx0XHQgKiBAcGFyYW0ge0RPTSBldmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGJlIHByZXZlbnRlZC5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0X3ByZXZlbnRFdmVudChldmVudCkge1xuXHRcdFx0ZXZlbnQgPSBuZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGV2ZW50LmRhdGEuJCk7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUHJvY2Vzc2VzIGFuIGltYWdlIGZpbGUuIFRoZSBmdW5jdGlvbiBjcmVhdGVzIGFuIGltZyBlbGVtZW50IGFuZCBzZXRzIGFzIHNvdXJjZVxuXHRcdCAqIGEgRGF0YSBVUkksIHRoZW4gZmlyZXMgYW4gJ2ltYWdlQWRkJyBldmVudCB2aWEgQ0tFZGl0b3IncyBldmVudCBzeXN0ZW0uXG5cdFx0ICpcblx0XHQgKiBAZmlyZXMgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXMjaW1hZ2VBZGRcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcblx0XHQgKiBAbWV0aG9kIF9wcmV2ZW50RXZlbnRcblx0XHQgKiBAcGFyYW0ge0RPTSBldmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGJlIHByZXZlbnRlZC5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0X3Byb2Nlc3NGaWxlKGZpbGUsIGVkaXRvcikge1xuXHRcdFx0Y29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuXHRcdFx0cmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGJpbiA9IHJlYWRlci5yZXN1bHQ7XG5cblx0XHRcdFx0Y29uc3QgZWwgPSBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcblx0XHRcdFx0XHQnPGltZyBzcmM9XCInICsgYmluICsgJ1wiPidcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRlZGl0b3IuaW5zZXJ0RWxlbWVudChlbCk7XG5cblx0XHRcdFx0Y29uc3QgaW1hZ2VEYXRhID0ge1xuXHRcdFx0XHRcdGVsLFxuXHRcdFx0XHRcdGZpbGUsXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0ZWRpdG9yLmZpcmUoJ2ltYWdlQWRkJywgaW1hZ2VEYXRhKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcblx0XHR9LFxuXHR9KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfYXV0b2xpbmsnKSkge1xuXHQvLyBEaXNhYmxlcyB0aGUgYXV0byBVUkwgZGV0ZWN0aW9uIGZlYXR1cmUgaW4gSUUsIHRoZWlyIGxhY2tzIGZ1bmN0aW9uYWxpdHk6XG5cdC8vIFRoZXkgY29udmVydCB0aGUgbGlua3Mgb25seSBvbiBzcGFjZS4gV2UgZG8gb24gc3BhY2UsIGNvbW1hLCBzZW1pY29sb24gYW5kIEVudGVyLlxuXHRpZiAoL01TSUUgKFteO10qKXxUcmlkZW50Lio7IHJ2OihbMC05Ll0rKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdGRvY3VtZW50LmV4ZWNDb21tYW5kKCdBdXRvVXJsRGV0ZWN0JywgZmFsc2UsIGZhbHNlKTtcblx0fVxuXG5cdGNvbnN0IEtFWV9CQUNLID0gODtcblxuXHRjb25zdCBLRVlfQ09NTUEgPSAxODg7XG5cblx0Y29uc3QgS0VZX0VOVEVSID0gMTM7XG5cblx0Y29uc3QgS0VZX1NFTUlDT0xPTiA9IDE4NjtcblxuXHRjb25zdCBLRVlfU1BBQ0UgPSAzMjtcblxuXHRjb25zdCBERUxJTUlURVJTID0gW0tFWV9DT01NQSwgS0VZX0VOVEVSLCBLRVlfU0VNSUNPTE9OLCBLRVlfU1BBQ0VdO1xuXG5cdGNvbnN0IFJFR0VYX0xBU1RfV09SRCA9IC9bXlxcc10rL2dpbTtcblxuXHQvLyBTZWVuIGF0IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NzE3MTMzLzIxMDM5OTZcblx0Y29uc3QgUkVHRVhfVVJMID1cblx0XHQnXihodHRwcz86XFxcXC9cXFxcLyk/JyArIC8vIHByb3RvY29sXG5cdFx0JygoKFthLXpcXFxcZF0oW2EtelxcXFxkLV0qW2EtelxcXFxkXSkqKVxcXFwuKStbYS16XXsyLH18JyArIC8vIGRvbWFpbiBuYW1lXG5cdFx0JygoXFxcXGR7MSwzfVxcXFwuKXszfVxcXFxkezEsM30pKScgKyAvLyBPUiBpcCAodjQpIGFkZHJlc3Ncblx0XHQnKFxcXFw6XFxcXGQrKT8oXFxcXC9bLWEtelxcXFxkJV8ufitdKikqJyArIC8vIHBvcnQgYW5kIHBhdGhcblx0XHQnKFxcXFw/WzsmYS16XFxcXGQlXy5+Kz0tXSopPycgKyAvLyBxdWVyeSBzdHJpbmdcblx0XHQnKFxcXFwjWy1hLXpcXFxcZF9dKik/JCc7XG5cblx0Y29uc3QgUkVHRVhfRU1BSUwgPSAvW2EtekEtWjAtOS5fLV0rQFthLXpBLVowLTkuLV0rXFwuW2EtekEtWl17Miw0fS9pO1xuXG5cdC8qKlxuXHQgKiBDS0VkaXRvciBwbHVnaW4gd2hpY2ggYXV0b21hdGljYWxseSBnZW5lcmF0ZXMgbGlua3Mgd2hlbiB1c2VyIHR5cGVzIHRleHQgd2hpY2ggbG9va3MgbGlrZSBVUkwuXG5cdCAqXG5cdCAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Q0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX2F1dG9saW5rJywge1xuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cblx0XHQgKiBUaGUgZnVuY3Rpb24gcmVnaXN0ZXJzIHRoZSBga2V5dXBgIGV2ZW50IG9uIHRoZSBlZGl0aW5nIGFyZWEuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlua1xuXHRcdCAqIEBtZXRob2QgaW5pdFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0ICovXG5cdFx0aW5pdChlZGl0b3IpIHtcblx0XHRcdGVkaXRvci5vbmNlKCdjb250ZW50RG9tJywgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG5cdFx0XHRcdGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKFxuXHRcdFx0XHRcdGVkaXRhYmxlLFxuXHRcdFx0XHRcdCdrZXl1cCcsXG5cdFx0XHRcdFx0dGhpcy5fb25LZXlVcCxcblx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGVkaXRvcixcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZWRpdG9yLm9uKCdwYXN0ZScsIGV2ZW50ID0+IHtcblx0XHRcdFx0aWYgKGV2ZW50LmRhdGEubWV0aG9kID09PSAncGFzdGUnKSB7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0ZXZlbnQuZGF0YS5kYXRhVmFsdWUuaW5kZXhPZignPCcpID4gLTEgfHxcblx0XHRcdFx0XHRcdGV2ZW50LmRhdGEuZGF0YVZhbHVlLmluZGV4T2YoJyZsdDsnKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdGV2ZW50LmRhdGEuZGF0YVZhbHVlLmluZGV4T2YoJzx1Pjxmb250IGNvbG9yPVwiJykgPlxuXHRcdFx0XHRcdFx0XHQtMVxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LmRhdGEuZGF0YVZhbHVlID0gZXZlbnQuZGF0YS5kYXRhVmFsdWUucmVwbGFjZShcblx0XHRcdFx0XHRcdFx0XHQvPHU+PGZvbnQgY29sb3I9XCIjKC4qPylcIj58PFxcL2ZvbnQ+PFxcL3U+L2csXG5cdFx0XHRcdFx0XHRcdFx0Jydcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBpbnN0YW5jZSA9IHRoaXM7XG5cblx0XHRcdFx0XHRldmVudC5kYXRhLmRhdGFWYWx1ZSA9IGV2ZW50LmRhdGEuZGF0YVZhbHVlLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHRSZWdFeHAoUkVHRVhfVVJMLCAnZ2ltJyksXG5cdFx0XHRcdFx0XHR1cmwgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5zdGFuY2UuX2lzVmFsaWRVUkwodXJsKSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnN0YW5jZS5faXNWYWxpZEVtYWlsKHVybCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8YSBocmVmPVwibWFpbHRvOicgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR1cmwgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnXCI+JyArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHVybCArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCc8L2E+J1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRcdFx0JzxhIGhyZWY9XCInICsgdXJsICsgJ1wiPicgKyB1cmwgKyAnPC9hPidcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlcyB0aGUgbGFzdCB3b3JkIGludHJvZHVjZWQgYnkgdGhlIHVzZXIuIFJlYWRzIGZyb20gdGhlIGN1cnJlbnRcblx0XHQgKiBjYXJldCBwb3NpdGlvbiBiYWNrd2FyZHMgdW50aWwgaXQgZmluZHMgdGhlIGZpcnN0IHdoaXRlIHNwYWNlLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcblx0XHQgKiBAbWV0aG9kIF9nZXRMYXN0V29yZFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBsYXN0IHdvcmQgaW50cm9kdWNlZCBieSB1c2VyXG5cdFx0ICovXG5cdFx0X2dldExhc3RXb3JkKGVkaXRvcikge1xuXHRcdFx0Y29uc3QgcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07XG5cblx0XHRcdGlmICghcmFuZ2UpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBvZmZzZXQgPSByYW5nZS5zdGFydE9mZnNldDtcblxuXHRcdFx0bGV0IHByZXZpb3VzVGV4dCA9ICcnO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBwcmVzc2VkIEVudGVyLCBzbyB3ZSBoYXZlIHRvIGxvb2sgb24gdGhlIHByZXZpb3VzIG5vZGVcblx0XHRcdGlmICh0aGlzLl9jdXJyZW50S2V5Q29kZSA9PT0gS0VZX0VOVEVSKSB7XG5cdFx0XHRcdGxldCBwcmV2aW91c05vZGUgPSByYW5nZS5zdGFydENvbnRhaW5lci5nZXRQcmV2aW91cygpO1xuXG5cdFx0XHRcdGxldCBsYXN0Q2hpbGQ7XG5cblx0XHRcdFx0aWYgKHByZXZpb3VzTm9kZSkge1xuXHRcdFx0XHRcdC8vIElmIHByZXZpb3VzIG5vZGUgaXMgYSBTUEFDRSwgKGl0IGRvZXMgbm90IGhhdmUgJ2dldExhc3QnIG1ldGhvZCksXG5cdFx0XHRcdFx0Ly8gaWdub3JlIGl0IGFuZCBmaW5kIHRoZSBwcmV2aW91cyB0ZXh0IG5vZGVcblx0XHRcdFx0XHR3aGlsZSAoIXByZXZpb3VzTm9kZS5nZXRMYXN0KSB7XG5cdFx0XHRcdFx0XHRwcmV2aW91c05vZGUgPSBwcmV2aW91c05vZGUuZ2V0UHJldmlvdXMoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRsYXN0Q2hpbGQgPSBwcmV2aW91c05vZGUuZ2V0TGFzdCgpO1xuXG5cdFx0XHRcdFx0Ly8gRGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLCB0aGUgbGFzdCBjaGlsZCBub2RlIG1heSBiZSBhIDxCUj5cblx0XHRcdFx0XHQvLyAod2hpY2ggZG9lcyBub3QgaGF2ZSAnZ2V0VGV4dCcgbWV0aG9kKSxcblx0XHRcdFx0XHQvLyBzbyBpZ25vcmUgaXQgYW5kIGZpbmQgdGhlIHByZXZpb3VzIHRleHQgbm9kZVxuXHRcdFx0XHRcdHdoaWxlIChsYXN0Q2hpbGQgJiYgIWxhc3RDaGlsZC5nZXRUZXh0KCkpIHtcblx0XHRcdFx0XHRcdGxhc3RDaGlsZCA9IGxhc3RDaGlsZC5nZXRQcmV2aW91cygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENoZWNrIGlmIHRoZSBsYXN0Q2hpbGQgaXMgYWxyZWFkeSBhIGxpbmtcblx0XHRcdFx0aWYgKCEobGFzdENoaWxkICYmIGxhc3RDaGlsZC4kLmhyZWYpKSB7XG5cdFx0XHRcdFx0dGhpcy5fc3RhcnRDb250YWluZXIgPSBsYXN0Q2hpbGQ7XG5cdFx0XHRcdFx0cHJldmlvdXNUZXh0ID0gbGFzdENoaWxkID8gbGFzdENoaWxkLmdldFRleHQoKSA6ICcnO1xuXHRcdFx0XHRcdHRoaXMuX29mZnNldCA9IHByZXZpb3VzVGV4dC5sZW5ndGg7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3N0YXJ0Q29udGFpbmVyID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XG5cblx0XHRcdFx0Ly8gTGFzdCBjaGFyYWN0ZXIgaXMgdGhlIGRlbGltaXRlciwgaWdub3JlIGl0XG5cdFx0XHRcdHByZXZpb3VzVGV4dCA9IHRoaXMuX3N0YXJ0Q29udGFpbmVyXG5cdFx0XHRcdFx0LmdldFRleHQoKVxuXHRcdFx0XHRcdC5zdWJzdHJpbmcoMCwgb2Zmc2V0IC0gMSk7XG5cblx0XHRcdFx0dGhpcy5fb2Zmc2V0ID0gb2Zmc2V0IC0gMTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGxhc3RXb3JkID0gJyc7XG5cblx0XHRcdGNvbnN0IG1hdGNoID0gcHJldmlvdXNUZXh0Lm1hdGNoKFJFR0VYX0xBU1RfV09SRCk7XG5cblx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRsYXN0V29yZCA9IG1hdGNoLnBvcCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbGFzdFdvcmQ7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gbGluayBpcyBhIHZhbGlkIEVtYWlsLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcblx0XHQgKiBAbWV0aG9kIGlzVmFsaWRFbWFpbFxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBsaW5rIFRoZSBlbWFpbCB3ZSB3YW50IHRvIGtub3cgaWYgaXQgaXMgYSB2YWxpZCBFbWFpbFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGVtYWlsIGlzIGEgdmFsaWQgRW1haWwsIGZhbHNlIG90aGVyd2lzZVxuXHRcdCAqL1xuXHRcdF9pc1ZhbGlkRW1haWwoZW1haWwpIHtcblx0XHRcdHJldHVybiBSRUdFWF9FTUFJTC50ZXN0KGVtYWlsKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBsaW5rIGlzIGEgdmFsaWQgVVJMLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcblx0XHQgKiBAbWV0aG9kIGlzVmFsaWRVUkxcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gbGluayBUaGUgbGluayB3ZSB3YW50IHRvIGtub3cgaWYgaXQgaXMgYSB2YWxpZCBVUkxcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBsaW5rIGlzIGEgdmFsaWQgVVJMLCBmYWxzZSBvdGhlcndpc2Vcblx0XHQgKi9cblx0XHRfaXNWYWxpZFVSTChsaW5rKSB7XG5cdFx0XHRyZXR1cm4gUmVnRXhwKFJFR0VYX1VSTCwgJ2knKS50ZXN0KGxpbmspO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBMaXN0ZW5zIHRvIHRoZSBga2V5ZG93bmAgZXZlbnQgYW5kIGlmIHRoZSBrZXljb2RlIGlzIGBCYWNrc3BhY2VgLCByZW1vdmVzIHRoZSBwcmV2aW91c2x5XG5cdFx0ICogY3JlYXRlZCBsaW5rLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcblx0XHQgKiBAbWV0aG9kIF9vbktleURvd25cblx0XHQgKiBAcGFyYW0ge0V2ZW50RmFjYWRlfSBldmVudCBFdmVudEZhY2FkZSBvYmplY3Rcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0X29uS2V5RG93bihldmVudCkge1xuXHRcdFx0Y29uc3QgbmF0aXZlRXZlbnQgPSBldmVudC5kYXRhLiQ7XG5cblx0XHRcdGNvbnN0IGVkaXRvciA9IGV2ZW50Lmxpc3RlbmVyRGF0YS5lZGl0b3I7XG5cblx0XHRcdGNvbnN0IGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cblx0XHRcdGVkaXRhYmxlLnJlbW92ZUxpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuXHRcdFx0aWYgKG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IEtFWV9CQUNLKSB7XG5cdFx0XHRcdGV2ZW50LmNhbmNlbCgpO1xuXHRcdFx0XHRldmVudC5kYXRhLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dGhpcy5fcmVtb3ZlTGluayhlZGl0b3IpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9ja0xpbmsgPSBudWxsO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBMaXN0ZW5zIHRvIHRoZSBgRW50ZXJgIGFuZCBgU3BhY2VgIGtleSBldmVudHMgaW4gb3JkZXIgdG8gY2hlY2sgaWYgdGhlIGxhc3Qgd29yZFxuXHRcdCAqIGludHJvZHVjZWQgYnkgdGhlIHVzZXIgc2hvdWxkIGJlIHJlcGxhY2VkIGJ5IGEgbGluayBlbGVtZW50LlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcblx0XHQgKiBAbWV0aG9kIF9vbktleVVwXG5cdFx0ICogQHBhcmFtIHtFdmVudEZhY2FkZX0gZXZlbnQgRXZlbnRGYWNhZGUgb2JqZWN0XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdF9vbktleVVwKGV2ZW50KSB7XG5cdFx0XHRjb25zdCBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuJDtcblxuXHRcdFx0dGhpcy5fY3VycmVudEtleUNvZGUgPSBuYXRpdmVFdmVudC5rZXlDb2RlO1xuXG5cdFx0XHRpZiAoREVMSU1JVEVSUy5pbmRleE9mKHRoaXMuX2N1cnJlbnRLZXlDb2RlKSAhPT0gLTEpIHtcblx0XHRcdFx0Y29uc3QgZWRpdG9yID0gZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcjtcblxuXHRcdFx0XHRjb25zdCBsYXN0V29yZCA9IHRoaXMuX2dldExhc3RXb3JkKGVkaXRvcik7XG5cblx0XHRcdFx0aWYgKHRoaXMuX2lzVmFsaWRVUkwobGFzdFdvcmQpKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmVwbGFjZUNvbnRlbnRCeUxpbmsoZWRpdG9yLCBsYXN0V29yZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmVwbGFjZXMgY29udGVudCBieSBhIGxpbmsgZWxlbWVudC5cblx0XHQgKlxuXHRcdCAqIEBmaXJlcyBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rI2F1dG9saW5rQWRkXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcblx0XHQgKiBAbWV0aG9kIF9yZXBsYWNlQ29udGVudEJ5TGlua1xuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50IFRoZSB0ZXh0IHRoYXQgaGFzIHRvIGJlIHJlcGxhY2VkIGJ5IGFuIGxpbmsgZWxlbWVudFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHRfcmVwbGFjZUNvbnRlbnRCeUxpbmsoZWRpdG9yLCBjb250ZW50KSB7XG5cdFx0XHRsZXQgcmFuZ2UgPSBlZGl0b3IuY3JlYXRlUmFuZ2UoKTtcblx0XHRcdGNvbnN0IG5vZGUgPSBDS0VESVRPUi5kb20uZWxlbWVudC5nZXQodGhpcy5fc3RhcnRDb250YWluZXIpO1xuXHRcdFx0Y29uc3Qgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0O1xuXG5cdFx0XHQvLyBTZWxlY3QgdGhlIGNvbnRlbnQsIHNvIENLRURJVE9SLkxpbmsgY2FuIHByb3Blcmx5IHJlcGxhY2UgaXRcblx0XHRcdHJhbmdlLnNldFN0YXJ0KG5vZGUsIG9mZnNldCAtIGNvbnRlbnQubGVuZ3RoKTtcblx0XHRcdHJhbmdlLnNldEVuZChub2RlLCBvZmZzZXQpO1xuXHRcdFx0cmFuZ2Uuc2VsZWN0KCk7XG5cblx0XHRcdGNvbnN0IGNrTGluayA9IG5ldyBDS0VESVRPUi5MaW5rKGVkaXRvcik7XG5cdFx0XHRja0xpbmsuY3JlYXRlKGNvbnRlbnQpO1xuXHRcdFx0dGhpcy5fY2tMaW5rID0gY2tMaW5rO1xuXG5cdFx0XHRjb25zdCBsaW5rTm9kZSA9IGNrTGluay5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cdFx0XHRlZGl0b3IuZmlyZSgnYXV0b2xpbmtBZGQnLCBsaW5rTm9kZSk7XG5cblx0XHRcdHRoaXMuX3N1YnNjcmliZVRvS2V5RXZlbnQoZWRpdG9yKTtcblxuXHRcdFx0Ly8gTm93IHJhbmdlIGlzIG9uIHRoZSBsaW5rIGFuZCBpdCBpcyBzZWxlY3RlZC4gV2UgaGF2ZSB0b1xuXHRcdFx0Ly8gcmV0dXJuIGZvY3VzIHRvIHRoZSBjYXJldCBwb3NpdGlvbi5cblx0XHRcdHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO1xuXG5cdFx0XHQvLyBJZiB1c2VyIHByZXNzZWQgYEVudGVyYCwgZ2V0IHRoZSBuZXh0IGVkaXRhYmxlIG5vZGUgYXQgcG9zaXRpb24gMCxcblx0XHRcdC8vIG90aGVyd2lzZSBzZXQgdGhlIGN1cnNvciBhdCB0aGUgbmV4dCBjaGFyYWN0ZXIgb2YgdGhlIGxpbmsgKHRoZSB3aGl0ZSBzcGFjZSlcblx0XHRcdGlmICh0aGlzLl9jdXJyZW50S2V5Q29kZSA9PT0gS0VZX0VOVEVSKSB7XG5cdFx0XHRcdGNvbnN0IG5leHRFZGl0YWJsZU5vZGUgPSByYW5nZS5nZXROZXh0RWRpdGFibGVOb2RlKCk7XG5cblx0XHRcdFx0cmFuZ2Uuc2V0U3RhcnQobmV4dEVkaXRhYmxlTm9kZSwgMCk7XG5cdFx0XHRcdHJhbmdlLnNldEVuZChuZXh0RWRpdGFibGVOb2RlLCAwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGVuY2xvc2VkTm9kZSA9IHJhbmdlLmdldEVuY2xvc2VkTm9kZSgpO1xuXG5cdFx0XHRcdHJhbmdlLnNldFN0YXJ0KGVuY2xvc2VkTm9kZSwgMCk7XG5cdFx0XHRcdHJhbmdlLnNldEVuZChlbmNsb3NlZE5vZGUsIDApO1xuXHRcdFx0fVxuXG5cdFx0XHRyYW5nZS5zZWxlY3QoKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRmlyZWQgd2hlbiBhIFVSTCBpcyBkZXRlY3RlZCBpbiB0ZXh0IGFuZCBjb252ZXJ0ZWQgdG8gYSBsaW5rLlxuXHRcdCAqXG5cdFx0ICogQGV2ZW50IENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmsjYXV0b2xpbmtBZGRcblx0XHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlua1xuXHRcdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGVsIE5vZGUgb2YgdGhlIGNyZWF0ZWQgbGluay5cblx0XHQgKi9cblxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZXMgdGhlIGNyZWF0ZWQgbGluayBlbGVtZW50LCBhbmQgcmVwbGFjZXMgaXQgYnkgaXRzIHRleHQuXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlua1xuXHRcdCAqIEBtZXRob2QgX3JlbW92ZUxpbmtcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0X3JlbW92ZUxpbmsoZWRpdG9yKSB7XG5cdFx0XHRjb25zdCByYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtcblx0XHRcdGNvbnN0IGNhcmV0T2Zmc2V0ID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XG5cblx0XHRcdC8vIFNlbGVjdCB0aGUgbGluaywgc28gQ0tFRElUT1IuTGluayBjYW4gcHJvcGVybHkgcmVtb3ZlIGl0XG5cdFx0XHRjb25zdCBsaW5rTm9kZSA9XG5cdFx0XHRcdHRoaXMuX3N0YXJ0Q29udGFpbmVyLmdldE5leHQoKSB8fCB0aGlzLl9zdGFydENvbnRhaW5lcjtcblxuXHRcdFx0Y29uc3QgbmV3UmFuZ2UgPSBlZGl0b3IuY3JlYXRlUmFuZ2UoKTtcblx0XHRcdG5ld1JhbmdlLnNldFN0YXJ0KGxpbmtOb2RlLCAwKTtcblx0XHRcdG5ld1JhbmdlLnNldEVuZEFmdGVyKGxpbmtOb2RlKTtcblx0XHRcdG5ld1JhbmdlLnNlbGVjdCgpO1xuXG5cdFx0XHR0aGlzLl9ja0xpbmsucmVtb3ZlKCk7XG5cblx0XHRcdC8vIFJldHVybiBmb2N1cyB0byB0aGUgY2FyZXQgcG9zaXRpb25cblx0XHRcdHJhbmdlLnNldEVuZChyYW5nZS5zdGFydENvbnRhaW5lciwgY2FyZXRPZmZzZXQpO1xuXHRcdFx0cmFuZ2Uuc2V0U3RhcnQocmFuZ2Uuc3RhcnRDb250YWluZXIsIGNhcmV0T2Zmc2V0KTtcblxuXHRcdFx0cmFuZ2Uuc2VsZWN0KCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFN1YnNjcmliZSB0byBhIGtleSBldmVudCBvZiB0aGUgZWRpdGFibGUgYXJpYS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG5cdFx0ICogQG1ldGhvZCBfc3Vic2NyaWJlVG9LZXlFdmVudFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHRfc3Vic2NyaWJlVG9LZXlFdmVudChlZGl0b3IpIHtcblx0XHRcdGNvbnN0IGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cblx0XHRcdC8vIENoYW5nZSB0aGUgcHJpb3JpdHkgb2Yga2V5ZG93biBsaXN0ZW5lciAtIDEgbWVhbnMgdGhlIGhpZ2hlc3QgcHJpb3JpdHkuXG5cdFx0XHQvLyBJbiBDaHJvbWUgb24gcHJlc3NpbmcgYEVudGVyYCB0aGUgbGlzdGVuZXIgaXMgbm90IGJlaW5nIGludm9rZWQuXG5cdFx0XHQvLyBTZWUgaHR0cDovL2Rldi5ja2VkaXRvci5jb20vdGlja2V0LzExODYxIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHRcdFx0ZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoXG5cdFx0XHRcdGVkaXRhYmxlLFxuXHRcdFx0XHQna2V5ZG93bicsXG5cdFx0XHRcdHRoaXMuX29uS2V5RG93bixcblx0XHRcdFx0dGhpcyxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGVkaXRvcixcblx0XHRcdFx0fSxcblx0XHRcdFx0MVxuXHRcdFx0KTtcblx0XHR9LFxuXHR9KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfYXV0b2xpc3QnKSkge1xuXHRjb25zdCBLRVlfQkFDSyA9IDg7XG5cblx0Y29uc3QgS0VZX1NQQUNFID0gMzI7XG5cblx0Y29uc3QgREVGQVVMVF9DT05GSUcgPSBbXG5cdFx0e1xuXHRcdFx0cmVnZXg6IC9eXFwqJC8sXG5cdFx0XHR0eXBlOiAnYnVsbGV0ZWRsaXN0Jyxcblx0XHR9LFxuXHRcdHtcblx0XHRcdHJlZ2V4OiAvXjFcXC4kLyxcblx0XHRcdHR5cGU6ICdudW1iZXJlZGxpc3QnLFxuXHRcdH0sXG5cdF07XG5cblx0LyoqXG5cdCAqIENLRWRpdG9yIHBsdWdpbiB3aGljaCBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBvcmRlcmVkL3Vub3JkZXJlZCBsaXN0IHdoZW4gdXNlciB0eXBlcyB0ZXh0IHdoaWNoIGxvb2tzIGxpa2UgYSBsaXN0LlxuXHQgKlxuXHQgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlzdFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV9hdXRvbGlzdCcsIHtcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgcGx1Z2luLCBwYXJ0IG9mIENLZWRpdG9yIHBsdWdpbiBsaWZlY3ljbGUuXG5cdFx0ICogVGhlIGZ1bmN0aW9uIHJlZ2lzdGVycyB0aGUgYGtleWRvd25gIGV2ZW50IG9uIHRoZSBjb250ZW50IGVkaXRpbmcgYXJlYS5cblx0XHQgKlxuXHRcdCAqIEBpbnN0YW5jZVxuXHRcdCAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saXN0XG5cdFx0ICogQG1ldGhvZCBpbml0XG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2Vcblx0XHQgKi9cblx0XHRpbml0KGVkaXRvcikge1xuXHRcdFx0ZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cblx0XHRcdFx0ZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoXG5cdFx0XHRcdFx0ZWRpdGFibGUsXG5cdFx0XHRcdFx0J2tleWRvd24nLFxuXHRcdFx0XHRcdHRoaXMuX29uS2V5RG93bixcblx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGVkaXRvcixcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIGZvciBwcmVzc2luZyB0aGUgYEJhY2tzcGFjZWAga2V5IGluIG9yZGVyIHRvIHVuZG8gdGhlIGxpc3QgY3JlYXRpb24uXG5cdFx0ICpcblx0XHQgKiBAaW5zdGFuY2Vcblx0XHQgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlzdFxuXHRcdCAqIEBtZXRob2QgX2NoZWNrRm9yQmFja3NwYWNlQW5kVW5kb1xuXHRcdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IG9iamVjdFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHRfY2hlY2tGb3JCYWNrc3BhY2VBbmRVbmRvKGV2ZW50KSB7XG5cdFx0XHRjb25zdCBlZGl0b3IgPSBldmVudC5saXN0ZW5lckRhdGEuZWRpdG9yO1xuXG5cdFx0XHRjb25zdCBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuJDtcblxuXHRcdFx0Y29uc3QgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuXHRcdFx0ZWRpdGFibGUucmVtb3ZlTGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jaGVja0ZvckJhY2tzcGFjZUFuZFVuZG8pO1xuXG5cdFx0XHRpZiAobmF0aXZlRXZlbnQua2V5Q29kZSA9PT0gS0VZX0JBQ0spIHtcblx0XHRcdFx0ZWRpdG9yLmV4ZWNDb21tYW5kKCd1bmRvJyk7XG5cdFx0XHRcdGVkaXRvci5pbnNlcnRIdG1sKGV2ZW50Lmxpc3RlbmVyRGF0YS5idWxsZXQgKyAnJm5ic3A7Jyk7XG5cdFx0XHRcdGV2ZW50LmRhdGEucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIGN1cnJlbnQgbGluZSB0byBmaW5kIG1hdGNoIHdpdGggTUFUQ0hFUyBvYmplY3QgdG8gY3JlYXRlIE9MIG9yIFVMLlxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpc3Rcblx0XHQgKiBAbWV0aG9kIF9jaGVja0xpbmVcblx0XHQgKiBAcGFyYW0ge2VkaXRvcn0gRWRpdG9yIG9iamVjdFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAcmV0dXJuIHtPYmplY3R8bnVsbH0gUmV0dXJucyBhbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGRldGVjdGVkIGxpc3QgY29uZmlnIGlmIGFueVxuXHRcdCAqL1xuXHRcdF9nZXRMaXN0Q29uZmlnKGVkaXRvcikge1xuXHRcdFx0Y29uc3QgY29uZmlnUmVnZXggPSBlZGl0b3IuY29uZmlnLmF1dG9saXN0IHx8IERFRkFVTFRfQ09ORklHO1xuXG5cdFx0XHRjb25zdCByYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtcblxuXHRcdFx0Y29uc3QgdGV4dENvbnRhaW5lciA9IHJhbmdlLmVuZENvbnRhaW5lci5nZXRUZXh0KCk7XG5cblx0XHRcdGNvbnN0IGJ1bGxldCA9IHRleHRDb250YWluZXIuc3Vic3RyaW5nKDAsIHJhbmdlLnN0YXJ0T2Zmc2V0KTtcblxuXHRcdFx0Y29uc3QgdGV4dCA9IHRleHRDb250YWluZXIuc3Vic3RyaW5nKFxuXHRcdFx0XHRyYW5nZS5zdGFydE9mZnNldCxcblx0XHRcdFx0dGV4dENvbnRhaW5lci5sZW5ndGhcblx0XHRcdCk7XG5cblx0XHRcdGxldCBpbmRleCA9IDA7XG5cblx0XHRcdGNvbnN0IHJlZ2V4TGVuID0gY29uZmlnUmVnZXgubGVuZ3RoO1xuXG5cdFx0XHRsZXQgYXV0b2xpc3RDZmcgPSBudWxsO1xuXG5cdFx0XHR3aGlsZSAoIWF1dG9saXN0Q2ZnICYmIHJlZ2V4TGVuID4gaW5kZXgpIHtcblx0XHRcdFx0Y29uc3QgcmVnZXhJdGVtID0gY29uZmlnUmVnZXhbaW5kZXhdO1xuXG5cdFx0XHRcdGlmIChyZWdleEl0ZW0ucmVnZXgudGVzdChidWxsZXQpKSB7XG5cdFx0XHRcdFx0YXV0b2xpc3RDZmcgPSB7XG5cdFx0XHRcdFx0XHRidWxsZXQsXG5cdFx0XHRcdFx0XHRlZGl0b3IsXG5cdFx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdFx0dHlwZTogcmVnZXhJdGVtLnR5cGUsXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGF1dG9saXN0Q2ZnO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDcmVhdGUgbGlzdCB3aXRoIGRpZmZlcmVudCB0eXBlczogQnVsbGV0ZWQgb3IgTnVtYmVyZWQgbGlzdFxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpc3Rcblx0XHQgKiBAbWV0aG9kIF9jcmVhdGVMaXN0XG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGxpc3RDb25maWcgT2JqZWN0IHRoYXQgY29udGFpbnMgYnVsbGV0LCB0ZXh0IGFuZCB0eXBlIGZvciBjcmVhdGluZyB0aGUgbGlzdFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHRfY3JlYXRlTGlzdChsaXN0Q29uZmlnKSB7XG5cdFx0XHRjb25zdCBlZGl0b3IgPSBsaXN0Q29uZmlnLmVkaXRvcjtcblxuXHRcdFx0Y29uc3QgcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07XG5cblx0XHRcdHJhbmdlLmVuZENvbnRhaW5lci5zZXRUZXh0KGxpc3RDb25maWcudGV4dCk7XG5cdFx0XHRlZGl0b3IuZXhlY0NvbW1hbmQobGlzdENvbmZpZy50eXBlKTtcblxuXHRcdFx0Y29uc3QgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuXHRcdFx0Ly8gU3Vic2NyaWJlIHRvIGtleWRvd24gaW4gb3JkZXIgdG8gY2hlY2sgaWYgdGhlIG5leHQga2V5IHByZXNzIGlzIGBCYWNrc3BhY2VgLlxuXHRcdFx0Ly8gSWYgc28sIHRoZSBjcmVhdGlvbiBvZiB0aGUgbGlzdCB3aWxsIGJlIGRpc2NhcmRlZC5cblx0XHRcdGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKFxuXHRcdFx0XHRlZGl0YWJsZSxcblx0XHRcdFx0J2tleWRvd24nLFxuXHRcdFx0XHR0aGlzLl9jaGVja0ZvckJhY2tzcGFjZUFuZFVuZG8sXG5cdFx0XHRcdHRoaXMsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRlZGl0b3IsXG5cdFx0XHRcdFx0YnVsbGV0OiBsaXN0Q29uZmlnLmJ1bGxldCxcblx0XHRcdFx0fSxcblx0XHRcdFx0MVxuXHRcdFx0KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogTGlzdGVucyB0byB0aGUgYFNwYWNlYCBrZXkgZXZlbnRzIHRvIGNoZWNrIGlmIHRoZSBsYXN0IHdvcmRcblx0XHQgKiBpbnRyb2R1Y2VkIGJ5IHRoZSB1c2VyIHNob3VsZCBiZSByZXBsYWNlZCBieSBhIGxpc3QgKE9MIG9yIFVMKVxuXHRcdCAqXG5cdFx0ICogQGluc3RhbmNlXG5cdFx0ICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpc3Rcblx0XHQgKiBAbWV0aG9kIF9vbktleURvd25cblx0XHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudCBvYmplY3Rcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0X29uS2V5RG93bihldmVudCkge1xuXHRcdFx0Y29uc3QgbmF0aXZlRXZlbnQgPSBldmVudC5kYXRhLiQ7XG5cblx0XHRcdGlmIChuYXRpdmVFdmVudC5rZXlDb2RlID09PSBLRVlfU1BBQ0UpIHtcblx0XHRcdFx0Y29uc3QgbGlzdENvbmZpZyA9IHRoaXMuX2dldExpc3RDb25maWcoXG5cdFx0XHRcdFx0ZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvclxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChsaXN0Q29uZmlnKSB7XG5cdFx0XHRcdFx0ZXZlbnQuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHRoaXMuX2NyZWF0ZUxpc3QobGlzdENvbmZpZyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHR9KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuLyoqXG4gKiBDS0VkaXRvciBwbHVnaW46IERyYWdhYmxlIGltYWdlIHJlc2l6aW5nXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3N0dXIvY2stZHJhZ3Jlc2l6ZVxuICogLSBTaG93cyBzZW1pLXRyYW5zcGFyZW50IG92ZXJsYXkgd2hpbGUgcmVzaXppbmdcbiAqIC0gRW5mb3JjZXMgQXNwZWN0IFJhdGlvICh1bmxlc3MgaG9sZGluZyBzaGlmdClcbiAqIC0gU25hcCB0byBzaXplIG9mIG90aGVyIGltYWdlcyBpbiBlZGl0b3JcbiAqIC0gRXNjYXBlIHdoaWxlIGRyYWdnaW5nIGNhbmNlbHMgcmVzaXplXG4gKi9cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2RyYWdyZXNpemUnKSkge1xuXHRjb25zdCBJTUFHRV9IQU5ETEVTID0ge1xuXHRcdGJvdGg6IFsndGwnLCAndG0nLCAndHInLCAnbG0nLCAncm0nLCAnYmwnLCAnYm0nLCAnYnInXSxcblx0XHRoZWlnaHQ6IFsndGwnLCAndG0nLCAndHInLCAnYmwnLCAnYm0nLCAnYnInXSxcblx0XHRzY2FsZTogWyd0bCcsICd0cicsICdibCcsICdiciddLFxuXHRcdHdpZHRoOiBbJ3RsJywgJ3RyJywgJ2xtJywgJ3JtJywgJ2JsJywgJ2JyJ10sXG5cdH07XG5cblx0Y29uc3QgUE9TSVRJT05fRUxFTUVOVF9GTiA9IHtcblx0XHRibChoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG5cdFx0XHRwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCAtMyArIGxlZnQsIGJveC5oZWlnaHQgLSA0ICsgdG9wKTtcblx0XHR9LFxuXHRcdGJtKGhhbmRsZSwgbGVmdCwgdG9wLCBib3gpIHtcblx0XHRcdHBvc2l0aW9uRWxlbWVudChcblx0XHRcdFx0aGFuZGxlLFxuXHRcdFx0XHRNYXRoLnJvdW5kKGJveC53aWR0aCAvIDIpIC0gMyArIGxlZnQsXG5cdFx0XHRcdGJveC5oZWlnaHQgLSA0ICsgdG9wXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFx0YnIoaGFuZGxlLCBsZWZ0LCB0b3AsIGJveCkge1xuXHRcdFx0cG9zaXRpb25FbGVtZW50KGhhbmRsZSwgYm94LndpZHRoIC0gNCArIGxlZnQsIGJveC5oZWlnaHQgLSA0ICsgdG9wKTtcblx0XHR9LFxuXHRcdGxtKGhhbmRsZSwgbGVmdCwgdG9wLCBib3gpIHtcblx0XHRcdHBvc2l0aW9uRWxlbWVudChcblx0XHRcdFx0aGFuZGxlLFxuXHRcdFx0XHQtMyArIGxlZnQsXG5cdFx0XHRcdE1hdGgucm91bmQoYm94LmhlaWdodCAvIDIpIC0gMyArIHRvcFxuXHRcdFx0KTtcblx0XHR9LFxuXHRcdHRsKGhhbmRsZSwgbGVmdCwgdG9wLCBfYm94KSB7XG5cdFx0XHRwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBsZWZ0IC0gMywgdG9wIC0gMyk7XG5cdFx0fSxcblx0XHR0bShoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG5cdFx0XHRwb3NpdGlvbkVsZW1lbnQoXG5cdFx0XHRcdGhhbmRsZSxcblx0XHRcdFx0TWF0aC5yb3VuZChib3gud2lkdGggLyAyKSAtIDMgKyBsZWZ0LFxuXHRcdFx0XHQtMyArIHRvcFxuXHRcdFx0KTtcblx0XHR9LFxuXHRcdHRyKGhhbmRsZSwgbGVmdCwgdG9wLCBib3gpIHtcblx0XHRcdHBvc2l0aW9uRWxlbWVudChoYW5kbGUsIGJveC53aWR0aCAtIDQgKyBsZWZ0LCAtMyArIHRvcCk7XG5cdFx0fSxcblx0XHRybShoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG5cdFx0XHRwb3NpdGlvbkVsZW1lbnQoXG5cdFx0XHRcdGhhbmRsZSxcblx0XHRcdFx0Ym94LndpZHRoIC0gNCArIGxlZnQsXG5cdFx0XHRcdE1hdGgucm91bmQoYm94LmhlaWdodCAvIDIpIC0gMyArIHRvcFxuXHRcdFx0KTtcblx0XHR9LFxuXHR9O1xuXG5cdGNvbnN0IElNQUdFX1NOQVBfVE9fU0laRSA9IDc7XG5cblx0Y29uc3QgaXNGaXJlZm94ID0gJ01vekFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcblxuXHRjb25zdCBpc1dlYktpdCA9ICdXZWJraXRBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG5cblx0Y29uc3QgZW5hYmxlUGx1Z2luID0gaXNXZWJLaXQgfHwgaXNGaXJlZm94O1xuXG5cdGlmIChlbmFibGVQbHVnaW4pIHtcblx0XHQvLyBDU1MgaXMgYWRkZWQgaW4gYSBjb21wcmVzc2VkIGZvcm1cblx0XHRDS0VESVRPUi5hZGRDc3MoXG5cdFx0XHQnaW1nOjpzZWxlY3Rpb257Y29sb3I6cmdiYSgwLDAsMCwwKX1pbWcuY2tpbWdyc3p7b3V0bGluZToxcHggZGFzaGVkICMwMDB9I2NraW1ncnN6e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjA7aGVpZ2h0OjA7Y3Vyc29yOmRlZmF1bHQ7ei1pbmRleDoxMDAwMX0jY2tpbWdyc3ogc3BhbntkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjA7aGVpZ2h0OjA7YmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTtvcGFjaXR5Oi42NTtvdXRsaW5lOjFweCBkYXNoZWQgIzAwMH0jY2tpbWdyc3ogaXtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO3dpZHRoOjVweDtoZWlnaHQ6NXB4O2JhY2tncm91bmQ6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICMwMDB9I2NraW1ncnN6IGkuYWN0aXZlLCNja2ltZ3JzeiBpOmhvdmVye2JhY2tncm91bmQ6IzAwMH0jY2tpbWdyc3ogaS5iciwjY2tpbWdyc3ogaS50bHtjdXJzb3I6bndzZS1yZXNpemV9I2NraW1ncnN6IGkuYm0sI2NraW1ncnN6IGkudG17Y3Vyc29yOm5zLXJlc2l6ZX0jY2tpbWdyc3ogaS5ibCwjY2tpbWdyc3ogaS50cntjdXJzb3I6bmVzdy1yZXNpemV9I2NraW1ncnN6IGkubG0sI2NraW1ncnN6IGkucm17Y3Vyc29yOmV3LXJlc2l6ZX1ib2R5LmRyYWdnaW5nLWJyLGJvZHkuZHJhZ2dpbmctYnIgKixib2R5LmRyYWdnaW5nLXRsLGJvZHkuZHJhZ2dpbmctdGwgKntjdXJzb3I6bndzZS1yZXNpemUhaW1wb3J0YW50fWJvZHkuZHJhZ2dpbmctYm0sYm9keS5kcmFnZ2luZy1ibSAqLGJvZHkuZHJhZ2dpbmctdG0sYm9keS5kcmFnZ2luZy10bSAqe2N1cnNvcjpucy1yZXNpemUhaW1wb3J0YW50fWJvZHkuZHJhZ2dpbmctYmwsYm9keS5kcmFnZ2luZy1ibCAqLGJvZHkuZHJhZ2dpbmctdHIsYm9keS5kcmFnZ2luZy10ciAqe2N1cnNvcjpuZXN3LXJlc2l6ZSFpbXBvcnRhbnR9Ym9keS5kcmFnZ2luZy1sbSxib2R5LmRyYWdnaW5nLWxtICosYm9keS5kcmFnZ2luZy1ybSxib2R5LmRyYWdnaW5nLXJtICp7Y3Vyc29yOmV3LXJlc2l6ZSFpbXBvcnRhbnR9J1xuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIHBsdWdpblxuXHQgKi9cblx0Q0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX2RyYWdyZXNpemUnLCB7XG5cdFx0b25Mb2FkKCkge1xuXHRcdFx0aWYgKCFlbmFibGVQbHVnaW4pIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aW5pdChlZGl0b3IpIHtcblx0XHRcdGlmICghZW5hYmxlUGx1Z2luKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0ZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCBfZXZ0ID0+IHtcblx0XHRcdFx0aW5pdChlZGl0b3IpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0fSk7XG5cblx0ZnVuY3Rpb24gaW5pdChlZGl0b3IpIHtcblx0XHRjb25zdCB3aW5kb3cgPSBlZGl0b3Iud2luZG93LiQ7XG5cblx0XHRjb25zdCBkb2N1bWVudCA9IGVkaXRvci5kb2N1bWVudC4kO1xuXG5cdFx0aWYgKGlzRmlyZWZveCkge1xuXHRcdFx0Ly8gRGlzYWJsZSB0aGUgbmF0aXZlIGltYWdlIHJlc2l6aW5nXG5cdFx0XHRkb2N1bWVudC5leGVjQ29tbWFuZCgnZW5hYmxlT2JqZWN0UmVzaXppbmcnLCBmYWxzZSwgZmFsc2UpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHNuYXBUb1NpemUgPVxuXHRcdFx0dHlwZW9mIElNQUdFX1NOQVBfVE9fU0laRSA9PT0gJ3VuZGVmaW5lZCdcblx0XHRcdFx0PyBudWxsXG5cdFx0XHRcdDogSU1BR0VfU05BUF9UT19TSVpFO1xuXG5cdFx0ZWRpdG9yLmNvbmZpZy5pbWFnZVNjYWxlUmVzaXplID1cblx0XHRcdGVkaXRvci5jb25maWcuaW1hZ2VTY2FsZVJlc2l6ZSB8fCAnYm90aCc7XG5cblx0XHRjb25zdCByZXNpemVyID0gbmV3IFJlc2l6ZXIoZWRpdG9yLCB7XG5cdFx0XHRpbWFnZVNjYWxlUmVzaXplOiBlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemUsXG5cdFx0XHRzbmFwVG9TaXplLFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgbW91c2VEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRpZiAocmVzaXplci5pc0hhbmRsZShlLnRhcmdldCkpIHtcblx0XHRcdFx0cmVzaXplci5pbml0RHJhZyhlKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VEb3duTGlzdGVuZXIsIGZhbHNlKTtcblxuXHRcdGZ1bmN0aW9uIHNlbGVjdGlvbkNoYW5nZSgpIHtcblx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuXHRcdFx0aWYgKCFzZWxlY3Rpb24pIHJldHVybjtcblx0XHRcdC8vIElmIGFuIGVsZW1lbnQgaXMgc2VsZWN0ZWQgYW5kIHRoYXQgZWxlbWVudCBpcyBhbiBJTUdcblx0XHRcdGlmIChcblx0XHRcdFx0c2VsZWN0aW9uLmdldFR5cGUoKSAhPT0gQ0tFRElUT1IuU0VMRUNUSU9OX05PTkUgJiZcblx0XHRcdFx0c2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudCgpLmlzKCdpbWcnKVxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIEFuZCB3ZSdyZSBub3QgcmlnaHQgb3IgbWlkZGxlIGNsaWNraW5nIG9uIHRoZSBpbWFnZVxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0IXdpbmRvdy5ldmVudCB8fFxuXHRcdFx0XHRcdCF3aW5kb3cuZXZlbnQuYnV0dG9uIHx8XG5cdFx0XHRcdFx0d2luZG93LmV2ZW50LmJ1dHRvbiA9PT0gMFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXNpemVyLnNob3coc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudCgpLiQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXNpemVyLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRlZGl0b3Iub24oJ3NlbGVjdGlvbkNoYW5nZScsIHNlbGVjdGlvbkNoYW5nZSk7XG5cblx0XHRlZGl0b3Iub24oJ2dldERhdGEnLCBlID0+IHtcblx0XHRcdGxldCBodG1sID0gZS5kYXRhLmRhdGFWYWx1ZSB8fCAnJztcblx0XHRcdGh0bWwgPSBodG1sLnJlcGxhY2UoLzxkaXYgaWQ9XCJja2ltZ3JzelwiKFtcXHNcXFNdKj8pPFxcL2Rpdj4vaSwgJycpO1xuXHRcdFx0aHRtbCA9IGh0bWwucmVwbGFjZSgvXFxiKGNraW1ncnN6KVxcYi9nLCAnJyk7XG5cdFx0XHRlLmRhdGEuZGF0YVZhbHVlID0gaHRtbDtcblx0XHR9KTtcblxuXHRcdGVkaXRvci5vbignYmVmb3JlVW5kb0ltYWdlJywgKCkgPT4ge1xuXHRcdFx0Ly8gUmVtb3ZlIHRoZSBoYW5kbGVzIGJlZm9yZSB1bmRvIGltYWdlcyBhcmUgc2F2ZWRcblx0XHRcdHJlc2l6ZXIuaGlkZSgpO1xuXHRcdH0pO1xuXG5cdFx0ZWRpdG9yLm9uKCdhZnRlclVuZG9JbWFnZScsICgpID0+IHtcblx0XHRcdC8vIFJlc3RvcmUgdGhlIGhhbmRsZXMgYWZ0ZXIgdW5kbyBpbWFnZXMgYXJlIHNhdmVkXG5cdFx0XHRzZWxlY3Rpb25DaGFuZ2UoKTtcblx0XHR9KTtcblxuXHRcdGVkaXRvci5vbignYmx1cicsICgpID0+IHtcblx0XHRcdC8vIFJlbW92ZSB0aGUgaGFuZGxlcyB3aGVuIGVkaXRvciBsb3NlcyBmb2N1c1xuXHRcdFx0cmVzaXplci5oaWRlKCk7XG5cdFx0fSk7XG5cblx0XHRlZGl0b3Iub24oJ2JlZm9yZU1vZGVVbmxvYWQnLCBmdW5jdGlvbiBzZWxmKCkge1xuXHRcdFx0ZWRpdG9yLnJlbW92ZUxpc3RlbmVyKCdiZWZvcmVNb2RlVW5sb2FkJywgc2VsZik7XG5cdFx0XHRyZXNpemVyLmhpZGUoKTtcblx0XHR9KTtcblxuXHRcdGVkaXRvci5vbignZGVzdHJveScsICgpID0+IHtcblx0XHRcdGNvbnN0IHJlc2l6ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2tpbWdyc3onKTtcblxuXHRcdFx0aWYgKHJlc2l6ZUVsZW1lbnQpIHtcblx0XHRcdFx0cmVzaXplRWxlbWVudC5yZW1vdmUoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzRmlyZWZveCkge1xuXHRcdFx0XHRkb2N1bWVudC5leGVjQ29tbWFuZCgnZW5hYmxlT2JqZWN0UmVzaXppbmcnLCBmYWxzZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93bkxpc3RlbmVyKTtcblx0XHR9KTtcblxuXHRcdC8vIFVwZGF0ZSB0aGUgc2VsZWN0aW9uIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93IGlzIHJlc2l6ZWRcblx0XHRsZXQgcmVzaXplVGltZW91dDtcblx0XHRlZGl0b3Iud2luZG93Lm9uKCdyZXNpemUnLCAoKSA9PiB7XG5cdFx0XHQvLyBDYW5jZWwgYW55IHJlc2l6ZSB3YWl0aW5nIHRvIGhhcHBlblxuXHRcdFx0Y2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuXHRcdFx0Ly8gRGVsYXkgcmVzaXplIHRvIFwiZGVib3VuY2VcIlxuXHRcdFx0cmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoc2VsZWN0aW9uQ2hhbmdlLCA1MCk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBSZXNpemVyKGVkaXRvciwgY2ZnKSB7XG5cdFx0dGhpcy5lZGl0b3IgPSBlZGl0b3I7XG5cdFx0dGhpcy53aW5kb3cgPSBlZGl0b3Iud2luZG93LiQ7XG5cdFx0dGhpcy5kb2N1bWVudCA9IGVkaXRvci5kb2N1bWVudC4kO1xuXHRcdHRoaXMuY2ZnID0gY2ZnIHx8IHt9O1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0UmVzaXplci5wcm90b3R5cGUgPSB7XG5cdFx0aW5pdCgpIHtcblx0XHRcdGNvbnN0IGluc3RhbmNlID0gdGhpcztcblxuXHRcdFx0Y29uc3QgY29udGFpbmVyID0gKHRoaXMuY29udGFpbmVyID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHQnZGl2J1xuXHRcdFx0KSk7XG5cblx0XHRcdGNvbnRhaW5lci5pZCA9ICdja2ltZ3Jzeic7XG5cdFx0XHR0aGlzLnByZXZpZXcgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnByZXZpZXcpO1xuXG5cdFx0XHRjb25zdCBoYW5kbGVzID0gKHRoaXMuaGFuZGxlcyA9IHt9KTtcblxuXHRcdFx0SU1BR0VfSEFORExFU1t0aGlzLmNmZy5pbWFnZVNjYWxlUmVzaXplXS5mb3JFYWNoKGhhbmRsZU5hbWUgPT4ge1xuXHRcdFx0XHRoYW5kbGVzW2hhbmRsZU5hbWVdID0gaW5zdGFuY2UuaGFuZGxlc1tcblx0XHRcdFx0XHRoYW5kbGVOYW1lXG5cdFx0XHRcdF0gPSBpbnN0YW5jZS5jcmVhdGVIYW5kbGUoaGFuZGxlTmFtZSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Zm9yIChjb25zdCBuIGluIGhhbmRsZXMpIHtcblx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoYW5kbGVzLCBuKSkge1xuXHRcdFx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChoYW5kbGVzW25dKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y3JlYXRlSGFuZGxlKG5hbWUpIHtcblx0XHRcdGNvbnN0IGVsID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKG5hbWUpO1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH0sXG5cdFx0aXNIYW5kbGUoZWwpIHtcblx0XHRcdGNvbnN0IGhhbmRsZXMgPSB0aGlzLmhhbmRsZXM7XG5cdFx0XHRmb3IgKGNvbnN0IG4gaW4gaGFuZGxlcykge1xuXHRcdFx0XHRpZiAoaGFuZGxlc1tuXSA9PT0gZWwpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0c2hvdyhlbCkge1xuXHRcdFx0bGV0IHVpTm9kZSA9IHRoaXMuZWRpdG9yLmNvbmZpZy51aU5vZGU7XG5cblx0XHRcdGNvbnN0IHNjcm9sbFRvcCA9IHVpTm9kZSA/IHVpTm9kZS5zY3JvbGxUb3AgOiAwO1xuXG5cdFx0XHR0aGlzLmVsID0gZWw7XG5cdFx0XHRpZiAodGhpcy5jZmcuc25hcFRvU2l6ZSkge1xuXHRcdFx0XHR0aGlzLm90aGVySW1hZ2VzID0gdG9BcnJheShcblx0XHRcdFx0XHR0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKVxuXHRcdFx0XHQpO1xuXHRcdFx0XHR0aGlzLm90aGVySW1hZ2VzLnNwbGljZSh0aGlzLm90aGVySW1hZ2VzLmluZGV4T2YoZWwpLCAxKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGJveCA9ICh0aGlzLmJveCA9IGdldEJvdW5kaW5nQm94KHRoaXMud2luZG93LCBlbCkpO1xuXHRcdFx0cG9zaXRpb25FbGVtZW50KHRoaXMuY29udGFpbmVyLCBib3gubGVmdCwgYm94LnRvcCArIHNjcm9sbFRvcCk7XG5cblx0XHRcdHVpTm9kZSA9IHVpTm9kZSB8fCBkb2N1bWVudC5ib2R5O1xuXG5cdFx0XHR1aU5vZGUuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuXG5cdFx0XHR0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2NraW1ncnN6Jyk7XG5cdFx0XHR0aGlzLnNob3dIYW5kbGVzKCk7XG5cdFx0fSxcblx0XHRoaWRlKCkge1xuXHRcdFx0Ly8gUmVtb3ZlIGNsYXNzIGZyb20gYWxsIGltZy5ja2ltZ3JzelxuXHRcdFx0Y29uc3QgZWxlbWVudHMgPSB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NraW1ncnN6Jyk7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdGVsZW1lbnRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2NraW1ncnN6Jyk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmhpZGVIYW5kbGVzKCk7XG5cdFx0XHRpZiAodGhpcy5jb250YWluZXIucGFyZW50Tm9kZSkge1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGluaXREcmFnKGUpIHtcblx0XHRcdGlmIChlLmJ1dHRvbiAhPT0gMCkge1xuXHRcdFx0XHQvLyByaWdodC1jbGljayBvciBtaWRkbGUtY2xpY2tcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgcmVzaXplciA9IHRoaXM7XG5cdFx0XHRjb25zdCBkcmFnID0gbmV3IERyYWdFdmVudCh0aGlzLndpbmRvdywgdGhpcy5kb2N1bWVudCk7XG5cdFx0XHRkcmFnLm9uU3RhcnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmVzaXplci5zaG93UHJldmlldygpO1xuXHRcdFx0XHRyZXNpemVyLmlzRHJhZ2dpbmcgPSB0cnVlO1xuXHRcdFx0XHRyZXNpemVyLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5sb2NrKCk7XG5cdFx0XHR9O1xuXHRcdFx0ZHJhZy5vbkRyYWcgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmVzaXplci5jYWxjdWxhdGVTaXplKHRoaXMpO1xuXHRcdFx0XHRyZXNpemVyLnVwZGF0ZVByZXZpZXcoKTtcblx0XHRcdFx0Y29uc3QgYm94ID0gcmVzaXplci5wcmV2aWV3Qm94O1xuXHRcdFx0XHRyZXNpemVyLnVwZGF0ZUhhbmRsZXMoYm94LCBib3gubGVmdCwgYm94LnRvcCk7XG5cdFx0XHR9O1xuXHRcdFx0ZHJhZy5vblJlbGVhc2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmVzaXplci5pc0RyYWdnaW5nID0gZmFsc2U7XG5cdFx0XHRcdHJlc2l6ZXIuaGlkZVByZXZpZXcoKTtcblx0XHRcdFx0cmVzaXplci5oaWRlKCk7XG5cdFx0XHRcdHJlc2l6ZXIuZWRpdG9yLmdldFNlbGVjdGlvbigpLnVubG9jaygpO1xuXHRcdFx0XHQvLyBTYXZlIGFuIHVuZG8gc25hcHNob3QgYmVmb3JlIHRoZSBpbWFnZSBpcyBwZXJtYW5lbnRseSBjaGFuZ2VkXG5cdFx0XHRcdHJlc2l6ZXIuZWRpdG9yLmZpcmUoJ3NhdmVTbmFwc2hvdCcpO1xuXHRcdFx0fTtcblx0XHRcdGRyYWcub25Db21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXNpemVyLnJlc2l6ZUNvbXBsZXRlKCk7XG5cdFx0XHRcdC8vIFNhdmUgYW5vdGhlciBzbmFwc2hvdCBhZnRlciB0aGUgaW1hZ2UgaXMgY2hhbmdlZFxuXHRcdFx0XHRyZXNpemVyLmVkaXRvci5maXJlKCdzYXZlU25hcHNob3QnKTtcblx0XHRcdH07XG5cdFx0XHRkcmFnLnN0YXJ0KGUpO1xuXHRcdH0sXG5cdFx0dXBkYXRlSGFuZGxlcyhib3gsIGxlZnQsIHRvcCkge1xuXHRcdFx0bGVmdCA9IGxlZnQgfHwgMDtcblx0XHRcdHRvcCA9IHRvcCB8fCAwO1xuXHRcdFx0Y29uc3QgaGFuZGxlcyA9IHRoaXMuaGFuZGxlcztcblxuXHRcdFx0Zm9yIChjb25zdCBoYW5kbGUgaW4gaGFuZGxlcykge1xuXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhhbmRsZXMsIGhhbmRsZSkpIHtcblx0XHRcdFx0XHRQT1NJVElPTl9FTEVNRU5UX0ZOW2hhbmRsZV0oXG5cdFx0XHRcdFx0XHRoYW5kbGVzW2hhbmRsZV0sXG5cdFx0XHRcdFx0XHRsZWZ0LFxuXHRcdFx0XHRcdFx0dG9wLFxuXHRcdFx0XHRcdFx0Ym94XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2hvd0hhbmRsZXMoKSB7XG5cdFx0XHRjb25zdCBoYW5kbGVzID0gdGhpcy5oYW5kbGVzO1xuXHRcdFx0dGhpcy51cGRhdGVIYW5kbGVzKHRoaXMuYm94KTtcblx0XHRcdGZvciAoY29uc3QgbiBpbiBoYW5kbGVzKSB7XG5cdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaGFuZGxlcywgbikpIHtcblx0XHRcdFx0XHRoYW5kbGVzW25dLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRoaWRlSGFuZGxlcygpIHtcblx0XHRcdGNvbnN0IGhhbmRsZXMgPSB0aGlzLmhhbmRsZXM7XG5cdFx0XHRmb3IgKGNvbnN0IG4gaW4gaGFuZGxlcykge1xuXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhhbmRsZXMsIG4pKSB7XG5cdFx0XHRcdFx0aGFuZGxlc1tuXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzaG93UHJldmlldygpIHtcblx0XHRcdHRoaXMucHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKFwiJyArIHRoaXMuZWwuc3JjICsgJ1wiKSc7XG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVNpemUoKTtcblx0XHRcdHRoaXMudXBkYXRlUHJldmlldygpO1xuXHRcdFx0dGhpcy5wcmV2aWV3LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdH0sXG5cdFx0dXBkYXRlUHJldmlldygpIHtcblx0XHRcdGNvbnN0IGJveCA9IHRoaXMucHJldmlld0JveDtcblx0XHRcdHBvc2l0aW9uRWxlbWVudCh0aGlzLnByZXZpZXcsIGJveC5sZWZ0LCBib3gudG9wKTtcblx0XHRcdHRoaXMucHJldmlldy5zdHlsZS53aWR0aCA9IHRoaXMucHJldmlld0JveC53aWR0aCArICdweCc7XG5cdFx0XHR0aGlzLnByZXZpZXcuc3R5bGUuaGVpZ2h0ID0gdGhpcy5wcmV2aWV3Qm94LmhlaWdodCArICdweCc7XG5cdFx0fSxcblx0XHRoaWRlUHJldmlldygpIHtcblx0XHRcdGNvbnN0IGJveCA9IGdldEJvdW5kaW5nQm94KHRoaXMud2luZG93LCB0aGlzLnByZXZpZXcpO1xuXHRcdFx0dGhpcy5yZXN1bHQgPSB7XG5cdFx0XHRcdHdpZHRoOiBib3gud2lkdGgsXG5cdFx0XHRcdGhlaWdodDogYm94LmhlaWdodCxcblx0XHRcdH07XG5cdFx0XHR0aGlzLnByZXZpZXcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHR9LFxuXHRcdGNhbGN1bGF0ZVNpemUoZGF0YSkge1xuXHRcdFx0Y29uc3QgYm94ID0gKHRoaXMucHJldmlld0JveCA9IHtcblx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHR3aWR0aDogdGhpcy5ib3gud2lkdGgsXG5cdFx0XHRcdGhlaWdodDogdGhpcy5ib3guaGVpZ2h0LFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICghZGF0YSkgcmV0dXJuO1xuXG5cdFx0XHRjb25zdCBhdHRyID0gZGF0YS50YXJnZXQuY2xhc3NOYW1lO1xuXG5cdFx0XHRpZiAofmF0dHIuaW5kZXhPZigncicpKSB7XG5cdFx0XHRcdGJveC53aWR0aCA9IE1hdGgubWF4KDMyLCB0aGlzLmJveC53aWR0aCArIGRhdGEuZGVsdGEueCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAofmF0dHIuaW5kZXhPZignYicpKSB7XG5cdFx0XHRcdGJveC5oZWlnaHQgPSBNYXRoLm1heCgzMiwgdGhpcy5ib3guaGVpZ2h0ICsgZGF0YS5kZWx0YS55KTtcblx0XHRcdH1cblx0XHRcdGlmICh+YXR0ci5pbmRleE9mKCdsJykpIHtcblx0XHRcdFx0Ym94LndpZHRoID0gTWF0aC5tYXgoMzIsIHRoaXMuYm94LndpZHRoIC0gZGF0YS5kZWx0YS54KTtcblx0XHRcdH1cblx0XHRcdGlmICh+YXR0ci5pbmRleE9mKCd0JykpIHtcblx0XHRcdFx0Ym94LmhlaWdodCA9IE1hdGgubWF4KDMyLCB0aGlzLmJveC5oZWlnaHQgLSBkYXRhLmRlbHRhLnkpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgZHJhZ2dpbmcgY29ybmVyLCBlbmZvcmNlIGFzcGVjdCByYXRpbyAodW5sZXNzIHNoaWZ0IGtleSBpcyBiZWluZyBoZWxkKVxuXHRcdFx0aWYgKGF0dHIuaW5kZXhPZignbScpIDwgMCAmJiAhZGF0YS5rZXlzLnNoaWZ0KSB7XG5cdFx0XHRcdGNvbnN0IHJhdGlvID0gdGhpcy5ib3gud2lkdGggLyB0aGlzLmJveC5oZWlnaHQ7XG5cdFx0XHRcdGlmIChib3gud2lkdGggLyBib3guaGVpZ2h0ID4gcmF0aW8pIHtcblx0XHRcdFx0XHRib3guaGVpZ2h0ID0gTWF0aC5yb3VuZChib3gud2lkdGggLyByYXRpbyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ym94LndpZHRoID0gTWF0aC5yb3VuZChib3guaGVpZ2h0ICogcmF0aW8pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNuYXBUb1NpemUgPSB0aGlzLmNmZy5zbmFwVG9TaXplO1xuXG5cdFx0XHRpZiAoc25hcFRvU2l6ZSkge1xuXHRcdFx0XHRjb25zdCBvdGhlcnMgPSB0aGlzLm90aGVySW1hZ2VzO1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG90aGVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGNvbnN0IG90aGVyID0gZ2V0Qm91bmRpbmdCb3godGhpcy53aW5kb3csIG90aGVyc1tpXSk7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0TWF0aC5hYnMoYm94LndpZHRoIC0gb3RoZXIud2lkdGgpIDw9IHNuYXBUb1NpemUgJiZcblx0XHRcdFx0XHRcdE1hdGguYWJzKGJveC5oZWlnaHQgLSBvdGhlci5oZWlnaHQpIDw9IHNuYXBUb1NpemVcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGJveC53aWR0aCA9IG90aGVyLndpZHRoO1xuXHRcdFx0XHRcdFx0Ym94LmhlaWdodCA9IG90aGVyLmhlaWdodDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyByZWNhbGN1bGF0ZSBsZWZ0IG9yIHRvcCBwb3NpdGlvblxuXHRcdFx0aWYgKH5hdHRyLmluZGV4T2YoJ2wnKSkge1xuXHRcdFx0XHRib3gubGVmdCA9IHRoaXMuYm94LndpZHRoIC0gYm94LndpZHRoO1xuXHRcdFx0fVxuXHRcdFx0aWYgKH5hdHRyLmluZGV4T2YoJ3QnKSkge1xuXHRcdFx0XHRib3gudG9wID0gdGhpcy5ib3guaGVpZ2h0IC0gYm94LmhlaWdodDtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHJlc2l6ZUNvbXBsZXRlKCkge1xuXHRcdFx0cmVzaXplRWxlbWVudC5jYWxsKFxuXHRcdFx0XHR0aGlzLFxuXHRcdFx0XHR0aGlzLmVsLFxuXHRcdFx0XHR0aGlzLnJlc3VsdC53aWR0aCxcblx0XHRcdFx0dGhpcy5yZXN1bHQuaGVpZ2h0XG5cdFx0XHQpO1xuXHRcdH0sXG5cdH07XG5cblx0ZnVuY3Rpb24gRHJhZ0V2ZW50KHdpbmRvdywgZG9jdW1lbnQpIHtcblx0XHR0aGlzLndpbmRvdyA9IHdpbmRvdztcblx0XHR0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG5cdFx0dGhpcy5ldmVudHMgPSB7XG5cdFx0XHRtb3VzZW1vdmU6IGJpbmQodGhpcy5tb3VzZW1vdmUsIHRoaXMpLFxuXHRcdFx0a2V5ZG93bjogYmluZCh0aGlzLmtleWRvd24sIHRoaXMpLFxuXHRcdFx0bW91c2V1cDogYmluZCh0aGlzLm1vdXNldXAsIHRoaXMpLFxuXHRcdH07XG5cdH1cblxuXHREcmFnRXZlbnQucHJvdG90eXBlID0ge1xuXHRcdHN0YXJ0KGUpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR0aGlzLnRhcmdldCA9IGUudGFyZ2V0O1xuXHRcdFx0dGhpcy5hdHRyID0gZS50YXJnZXQuY2xhc3NOYW1lO1xuXHRcdFx0dGhpcy5zdGFydFBvcyA9IHtcblx0XHRcdFx0eDogZS5jbGllbnRYLFxuXHRcdFx0XHR5OiBlLmNsaWVudFksXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy51cGRhdGUoZSk7XG5cdFx0XHRjb25zdCBldmVudHMgPSB0aGlzLmV2ZW50cztcblx0XHRcdHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHRcdFx0J21vdXNlbW92ZScsXG5cdFx0XHRcdGV2ZW50cy5tb3VzZW1vdmUsXG5cdFx0XHRcdGZhbHNlXG5cdFx0XHQpO1xuXHRcdFx0dGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnRzLmtleWRvd24sIGZhbHNlKTtcblx0XHRcdHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGV2ZW50cy5tb3VzZXVwLCBmYWxzZSk7XG5cdFx0XHR0aGlzLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmctJyArIHRoaXMuYXR0cik7XG5cdFx0XHRpZiAodGhpcy5vblN0YXJ0KSB7XG5cdFx0XHRcdHRoaXMub25TdGFydCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dXBkYXRlKGUpIHtcblx0XHRcdHRoaXMuY3VycmVudFBvcyA9IHtcblx0XHRcdFx0eDogZS5jbGllbnRYLFxuXHRcdFx0XHR5OiBlLmNsaWVudFksXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5kZWx0YSA9IHtcblx0XHRcdFx0eDogZS5jbGllbnRYIC0gdGhpcy5zdGFydFBvcy54LFxuXHRcdFx0XHR5OiBlLmNsaWVudFkgLSB0aGlzLnN0YXJ0UG9zLnksXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5rZXlzID0ge1xuXHRcdFx0XHRzaGlmdDogZS5zaGlmdEtleSxcblx0XHRcdFx0Y3RybDogZS5jdHJsS2V5LFxuXHRcdFx0XHRhbHQ6IGUuYWx0S2V5LFxuXHRcdFx0fTtcblx0XHR9LFxuXHRcdG1vdXNlbW92ZShlKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZShlKTtcblx0XHRcdGlmICh0aGlzLm9uRHJhZykge1xuXHRcdFx0XHR0aGlzLm9uRHJhZygpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGUud2hpY2ggPT09IDApIHtcblx0XHRcdFx0Ly8gbW91c2UgYnV0dG9uIHJlbGVhc2VkIG91dHNpZGUgd2luZG93OyBtb3VzZXVwIHdhc24ndCBmaXJlZCAoQ2hyb21lKVxuXHRcdFx0XHR0aGlzLm1vdXNldXAoZSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRrZXlkb3duKGUpIHtcblx0XHRcdC8vIGVzY2FwZSBrZXkgY2FuY2VscyBkcmFnZ2luZ1xuXHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcblx0XHRcdFx0dGhpcy5yZWxlYXNlKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRtb3VzZXVwKGUpIHtcblx0XHRcdHRoaXMudXBkYXRlKGUpO1xuXHRcdFx0dGhpcy5yZWxlYXNlKCk7XG5cdFx0XHRpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG5cdFx0XHRcdHRoaXMub25Db21wbGV0ZSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVsZWFzZSgpIHtcblx0XHRcdHRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZy0nICsgdGhpcy5hdHRyKTtcblx0XHRcdGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xuXHRcdFx0dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuXHRcdFx0XHQnbW91c2Vtb3ZlJyxcblx0XHRcdFx0ZXZlbnRzLm1vdXNlbW92ZSxcblx0XHRcdFx0ZmFsc2Vcblx0XHRcdCk7XG5cdFx0XHR0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudHMua2V5ZG93biwgZmFsc2UpO1xuXHRcdFx0dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnRzLm1vdXNldXAsIGZhbHNlKTtcblx0XHRcdGlmICh0aGlzLm9uUmVsZWFzZSkge1xuXHRcdFx0XHR0aGlzLm9uUmVsZWFzZSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdH07XG5cblx0Ly8gaGVscGVyIGZ1bmN0aW9uc1xuXHRmdW5jdGlvbiB0b0FycmF5KG9iaikge1xuXHRcdGNvbnN0IGxlbiA9IG9iai5sZW5ndGg7XG5cblx0XHRjb25zdCBhcnIgPSBuZXcgQXJyYXkobGVuKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRhcnJbaV0gPSBvYmpbaV07XG5cdFx0fVxuXHRcdHJldHVybiBhcnI7XG5cdH1cblxuXHRmdW5jdGlvbiBiaW5kKGZuLCBjdHgpIHtcblx0XHRpZiAoZm4uYmluZCkge1xuXHRcdFx0cmV0dXJuIGZuLmJpbmQoY3R4KTtcblx0XHR9XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcblx0XHRcdGZuLmFwcGx5KGN0eCwgYXJncyk7XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBvc2l0aW9uRWxlbWVudChlbCwgbGVmdCwgdG9wKSB7XG5cdFx0ZWwuc3R5bGUubGVmdCA9IFN0cmluZyhsZWZ0KSArICdweCc7XG5cdFx0ZWwuc3R5bGUudG9wID0gU3RyaW5nKHRvcCkgKyAncHgnO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVzaXplRWxlbWVudChlbCwgd2lkdGgsIGhlaWdodCkge1xuXHRcdGNvbnN0IGltYWdlU2NhbGVSZXNpemUgPSB0aGlzLmVkaXRvci5jb25maWcuaW1hZ2VTY2FsZVJlc2l6ZTtcblx0XHRpZiAoaW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ2JvdGgnKSB7XG5cdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgU3RyaW5nKHdpZHRoKSk7XG5cdFx0XHRlbC5zdHlsZS53aWR0aCA9IFN0cmluZyh3aWR0aCkgKyAncHgnO1xuXHRcdFx0ZWwuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBTdHJpbmcoaGVpZ2h0KSk7XG5cdFx0XHRlbC5zdHlsZS5oZWlnaHQgPSBTdHJpbmcoaGVpZ2h0KSArICdweCc7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdGltYWdlU2NhbGVSZXNpemUgPT09ICd3aWR0aCcgfHxcblx0XHRcdGltYWdlU2NhbGVSZXNpemUgPT09ICdzY2FsZSdcblx0XHQpIHtcblx0XHRcdGVsLnJlbW92ZUF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XG5cdFx0XHRlbC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG5cdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgU3RyaW5nKHdpZHRoKSk7XG5cdFx0XHRlbC5zdHlsZS53aWR0aCA9IFN0cmluZyh3aWR0aCkgKyAncHgnO1xuXHRcdH0gZWxzZSBpZiAoaW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ2hlaWdodCcpIHtcblx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgU3RyaW5nKGhlaWdodCkpO1xuXHRcdFx0ZWwuc3R5bGUuaGVpZ2h0ID0gU3RyaW5nKGhlaWdodCkgKyAncHgnO1xuXHRcdFx0ZWwucmVtb3ZlQXR0cmlidXRlKCd3aWR0aCcpO1xuXHRcdFx0ZWwuc3R5bGUud2lkdGggPSAnYXV0byc7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Qm91bmRpbmdCb3god2luZG93LCBlbCkge1xuXHRcdGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0LFxuXHRcdFx0dG9wOiByZWN0LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCxcblx0XHRcdHdpZHRoOiByZWN0LndpZHRoLFxuXHRcdFx0aGVpZ2h0OiByZWN0LmhlaWdodCxcblx0XHR9O1xuXHR9XG59XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbi8qKlxuICogQ0tFZGl0b3IgcGx1Z2luOiBJbWFnZTJcbiAqIC0gU2hvdyBncmlwcGVyIHRvIHJlc2l6ZSBpbWFnZXMgb24gSUVcbiAqL1xuaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfZHJhZ3Jlc2l6ZV9pZScpKSB7XG5cdGNvbnN0IGFsaWdubWVudHNPYmogPSB7XG5cdFx0Y2VudGVyOiAxLFxuXHRcdGxlZnQ6IDAsXG5cdFx0cmlnaHQ6IDIsXG5cdH07XG5cblx0Lypcblx0ICogU2V0IGN1cnNvciBjc3MgZGVwZW5kIG9uIGltYWdlU2NhbGVSZXNpemUgY29uZmlnXG5cdCAqKi9cblxuXHRjb25zdCBjdXJzb3IgPSB7XG5cdFx0Ym90aDogJ253c2UtcmVzaXplJyxcblx0XHRoZWlnaHQ6ICducy1yZXNpemUnLFxuXHRcdHNjYWxlOiAnbndzZS1yZXNpemUnLFxuXHRcdHdpZHRoOiAnZXctcmVzaXplJyxcblx0fTtcblxuXHRjb25zdCByZWdleFBlcmNlbnQgPSAvXlxccyooXFxkKyUpXFxzKiQvaTtcblxuXHRjb25zdCB0ZW1wbGF0ZSA9ICc8aW1nIGFsdD1cIlwiIHNyYz1cIlwiIC8+JztcblxuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfZHJhZ3Jlc2l6ZV9pZScsIHtcblx0XHRoaWRwaTogdHJ1ZSxcblxuXHRcdGljb25zOiAnaW1hZ2UnLFxuXG5cdFx0aW5pdChlZGl0b3IpIHtcblx0XHRcdGNvbnN0IGltYWdlID0gd2lkZ2V0RGVmKGVkaXRvcik7XG5cblx0XHRcdC8vIFJlZ2lzdGVyIHRoZSB3aWRnZXQuXG5cdFx0XHRlZGl0b3Iud2lkZ2V0cy5hZGQoJ2ltYWdlJywgaW1hZ2UpO1xuXHRcdH0sXG5cblx0XHRvbkxvYWQoKSB7XG5cdFx0XHRDS0VESVRPUi5hZGRDc3MoXG5cdFx0XHRcdCcuY2tlX2ltYWdlX3Jlc2l6ZXJfbndzZS1yZXNpemV7JyArXG5cdFx0XHRcdFx0J2N1cnNvcjogbndzZS1yZXNpemU7JyArXG5cdFx0XHRcdFx0J30nICtcblx0XHRcdFx0XHQnLmNrZV9pbWFnZV9yZXNpemVyX25zLXJlc2l6ZXsnICtcblx0XHRcdFx0XHQnY3Vyc29yOiBucy1yZXNpemU7JyArXG5cdFx0XHRcdFx0J30nICtcblx0XHRcdFx0XHQnLmNrZV9pbWFnZV9yZXNpemVyX253c2UtcmVzaXpleycgK1xuXHRcdFx0XHRcdCdjdXJzb3I6IG53c2UtcmVzaXplOycgK1xuXHRcdFx0XHRcdCd9JyArXG5cdFx0XHRcdFx0Jy5ja2VfaW1hZ2VfcmVzaXplcl9ldy1yZXNpemV7JyArXG5cdFx0XHRcdFx0J2N1cnNvcjogZXctcmVzaXplOycgK1xuXHRcdFx0XHRcdCd9JyArXG5cdFx0XHRcdFx0Jy5ja2VfaW1hZ2Vfbm9jYXB0aW9ueycgK1xuXHRcdFx0XHRcdC8vIFRoaXMgaXMgdG8gcmVtb3ZlIHVud2FudGVkIHNwYWNlIHNvIHJlc2l6ZVxuXHRcdFx0XHRcdC8vIHdyYXBwZXIgaXMgZGlzcGxheWVkIHByb3BlcnR5LlxuXHRcdFx0XHRcdCdsaW5lLWhlaWdodDowJyArXG5cdFx0XHRcdFx0J30nICtcblx0XHRcdFx0XHQnLmNrZV9pbWFnZV9yZXNpemVyeycgK1xuXHRcdFx0XHRcdCdkaXNwbGF5Om5vbmU7JyArXG5cdFx0XHRcdFx0J3Bvc2l0aW9uOmFic29sdXRlOycgK1xuXHRcdFx0XHRcdCd3aWR0aDoxMHB4OycgK1xuXHRcdFx0XHRcdCdoZWlnaHQ6MTBweDsnICtcblx0XHRcdFx0XHQnYm90dG9tOi01cHg7JyArXG5cdFx0XHRcdFx0J3JpZ2h0Oi01cHg7JyArXG5cdFx0XHRcdFx0J2JhY2tncm91bmQ6IzAwMDsnICtcblx0XHRcdFx0XHQnb3V0bGluZToxcHggc29saWQgI2ZmZjsnICtcblx0XHRcdFx0XHQvLyBQcmV2ZW50IGRyYWcgaGFuZGxlciBmcm9tIGJlaW5nIG1pc3BsYWNlZCAoIzExMjA3KS5cblx0XHRcdFx0XHQnbGluZS1oZWlnaHQ6MDsnICtcblx0XHRcdFx0XHQnY3Vyc29yOm53c2UtcmVzaXplOycgK1xuXHRcdFx0XHRcdCd9JyArXG5cdFx0XHRcdFx0Jy5ja2VfaW1hZ2VfcmVzaXplcl93cmFwcGVyeycgK1xuXHRcdFx0XHRcdCdwb3NpdGlvbjpyZWxhdGl2ZTsnICtcblx0XHRcdFx0XHQnZGlzcGxheTppbmxpbmUtYmxvY2s7JyArXG5cdFx0XHRcdFx0J2xpbmUtaGVpZ2h0OjA7JyArXG5cdFx0XHRcdFx0J30nICtcblx0XHRcdFx0XHQnLmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlciAuY2tlX2ltYWdlX3Jlc2l6ZXIsJyArXG5cdFx0XHRcdFx0Jy5ja2VfaW1hZ2VfcmVzaXplci5ja2VfaW1hZ2VfcmVzaXppbmd7JyArXG5cdFx0XHRcdFx0J2Rpc3BsYXk6YmxvY2snICtcblx0XHRcdFx0XHQnfSdcblx0XHRcdCk7XG5cdFx0fSxcblxuXHRcdHJlcXVpcmVzOiAnd2lkZ2V0Jyxcblx0fSk7XG5cblx0Ly8gV2lkZ2V0IHN0YXRlcyAoZm9ybXMpIGRlcGVuZGluZyBvbiBhbGlnbm1lbnQgYW5kIGNvbmZpZ3VyYXRpb24uXG5cdC8vXG5cdC8vIE5vbi1jYXB0aW9uZWQgd2lkZ2V0IChpbmxpbmUgc3R5bGVzKVxuXHQvLyBcdFx04pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG5cdC8vIFx0XHTilIJBbGlnbiDilIJJbnRlcm5hbCBmb3JtICAgICAgICAgICAgICAgICAg4pSCRGF0YSAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgIOKUgjxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilIIgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG5cdC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpsZWZ04oCdPiAgIOKUgjxpbWcgc3R5bGU94oCdZmxvYXQ6bGVmdOKAnSAvPiAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCY2VudGVy4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgIOKUgjxwIHN0eWxlPeKAnXRleHQtYWxpZ246Y2VudGVy4oCdPuKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxwIHN0eWxlPeKAnXRleHQtYWxpZ246Y2VudGVy4oCdPiDilIIgIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCICAgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgIOKUgjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilIIgPC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG5cdC8vIFx0XHTilIJyaWdodCDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpyaWdodOKAnT4gIOKUgjxpbWcgc3R5bGU94oCdZmxvYXQ6cmlnaHTigJ0gLz4gIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuXHQvL1xuXHQvLyBOb24tY2FwdGlvbmVkIHdpZGdldCAoY29uZmlnLmltYWdlMl9hbGlnbkNsYXNzZXMgZGVmaW5lZClcblx0Ly8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuXHQvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcblx0Ly8gXHRcdOKUgm5vbmUgIOKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICDilII8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCbGVmdCAg4pSCPHdyYXBwZXIgY2xhc3M94oCdbGVmdOKAnT4gICAgICAgICDilII8aW1nIGNsYXNzPeKAnWxlZnTigJ0gLz4gICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcblx0Ly8gXHRcdOKUgmNlbnRlcuKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICDilII8cCBjbGFzcz3igJ1jZW50ZXLigJ0+ICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8cCBjbGFzcz3igJ1jZW50ZXLigJ0+ICAgICAgICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiAgIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICDilII8L3A+ICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCcmlnaHQg4pSCPHdyYXBwZXIgY2xhc3M94oCdcmlnaHTigJ0+ICAgICAgICDilII8aW1nIGNsYXNzPeKAnXJpZ2h04oCdIC8+ICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJTilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcblx0Ly9cblx0Ly8gQ2FwdGlvbmVkIHdpZGdldCAoaW5saW5lIHN0eWxlcylcblx0Ly8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuXHQvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG5cdC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpsZWZ04oCdPiAgICAgICAgICAgIOKUgjxmaWd1cmUgc3R5bGU94oCdZmxvYXQ6bGVmdOKAnSAvPiAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilIIgPGZpZ3VyZSAvPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCY2VudGVy4pSCPHdyYXBwZXIgc3R5bGU94oCddGV4dC1hbGlnbjpjZW50ZXLigJ0+ICAgICDilII8ZGl2IHN0eWxlPeKAnXRleHQtYWxpZ246Y2VudGVy4oCdPiAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgc3R5bGU94oCdZGlzcGxheTppbmxpbmUtYmxvY2vigJ0gLz7ilIIgPGZpZ3VyZSBzdHlsZT3igJ1kaXNwbGF5OmlubGluZS1ibG9ja+KAnSAvPuKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCcmlnaHQg4pSCPHdyYXBwZXIgc3R5bGU94oCdZmxvYXQ6cmlnaHTigJ0+ICAgICAgICAgICDilII8ZmlndXJlIHN0eWxlPeKAnWZsb2F0OnJpZ2h04oCdIC8+ICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJTilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcblx0Ly9cblx0Ly8gQ2FwdGlvbmVkIHdpZGdldCAoY29uZmlnLmltYWdlMl9hbGlnbkNsYXNzZXMgZGVmaW5lZClcblx0Ly8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuXHQvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG5cdC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBjbGFzcz3igJ1sZWZ04oCdPiAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgY2xhc3M94oCdbGVmdOKAnSAvPiAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilIIgPGZpZ3VyZSAvPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCY2VudGVy4pSCPHdyYXBwZXIgY2xhc3M94oCdY2VudGVy4oCdPiAgICAgICAgICAgICAgICDilII8ZGl2IGNsYXNzPeKAnWNlbnRlcuKAnT4gICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilII8L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcblx0Ly8gXHRcdOKUgnJpZ2h0IOKUgjx3cmFwcGVyIGNsYXNzPeKAnXJpZ2h04oCdPiAgICAgICAgICAgICAgICAg4pSCPGZpZ3VyZSBjbGFzcz3igJ1yaWdodOKAnSAvPiAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSU4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfVxuXHQvLyBAcmV0dXJucyB7T2JqZWN0fVxuXHRmdW5jdGlvbiB3aWRnZXREZWYoZWRpdG9yKSB7XG5cdFx0ZWRpdG9yLmNvbmZpZy5pbWFnZVNjYWxlUmVzaXplID1cblx0XHRcdGVkaXRvci5jb25maWcuaW1hZ2VTY2FsZVJlc2l6ZSB8fCAnYm90aCc7XG5cblx0XHRlZGl0b3Iub24oJ2ltYWdlQWRkJywgaW1hZ2VEYXRhID0+IHtcblx0XHRcdGVkaXRvci53aWRnZXRzLmluaXRPbihpbWFnZURhdGEuZGF0YS5lbCwgJ2ltYWdlJyk7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBhbGlnbkNsYXNzZXMgPSBlZGl0b3IuY29uZmlnLmltYWdlMl9hbGlnbkNsYXNzZXM7XG5cblx0XHRjb25zdCBjYXB0aW9uZWRDbGFzcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2NhcHRpb25lZENsYXNzO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGluaXQoKSB7XG5cdFx0XHRcdGNvbnN0IGhlbHBlcnMgPSBDS0VESVRPUi5wbHVnaW5zLmltYWdlMjtcblxuXHRcdFx0XHRjb25zdCBpbWFnZSA9IHRoaXMucGFydHMuaW1hZ2U7XG5cblx0XHRcdFx0Y29uc3QgZGF0YSA9IHtcblx0XHRcdFx0XHRhbHQ6IGltYWdlLmdldEF0dHJpYnV0ZSgnYWx0JykgfHwgJycsXG5cdFx0XHRcdFx0aGFzQ2FwdGlvbjogISF0aGlzLnBhcnRzLmNhcHRpb24sXG5cdFx0XHRcdFx0aGVpZ2h0OiBpbWFnZS5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpIHx8ICcnLFxuXHRcdFx0XHRcdC8vIExvY2sgcmF0aW8gaXMgb24gYnkgZGVmYXVsdCAoIzEwODMzKS5cblx0XHRcdFx0XHRsb2NrOiB0aGlzLnJlYWR5XG5cdFx0XHRcdFx0XHQ/IGhlbHBlcnMuY2hlY2tIYXNOYXR1cmFsUmF0aW8oaW1hZ2UpXG5cdFx0XHRcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0c3JjOiBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyYycpLFxuXHRcdFx0XHRcdHdpZHRoOiBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykgfHwgJycsXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gSWYgd2UgdXNlZCAnYScgaW4gd2lkZ2V0I3BhcnRzIGRlZmluaXRpb24sIGl0IGNvdWxkIGhhcHBlbiB0aGF0XG5cdFx0XHRcdC8vIHNlbGVjdGVkIGVsZW1lbnQgaXMgYSBjaGlsZCBvZiB3aWRnZXQucGFydHMjY2FwdGlvbi4gU2luY2UgdGhlcmUncyBubyBjbGV2ZXJcblx0XHRcdFx0Ly8gd2F5IHRvIHNvbHZlIGl0IHdpdGggQ1NTIHNlbGVjdG9ycywgaXQncyBkb25lIGxpa2UgdGhhdC4gKCMxMTc4MykuXG5cdFx0XHRcdGNvbnN0IGxpbmsgPSBpbWFnZS5nZXRBc2NlbmRhbnQoJ2EnKTtcblxuXHRcdFx0XHRpZiAobGluayAmJiB0aGlzLndyYXBwZXIuY29udGFpbnMobGluaykpIHtcblx0XHRcdFx0XHR0aGlzLnBhcnRzLmxpbmsgPSBsaW5rO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRGVwZW5kaW5nIG9uIGNvbmZpZ3VyYXRpb24sIHJlYWQgc3R5bGUvY2xhc3MgZnJvbSBlbGVtZW50IGFuZFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSBpdC4gUmVtb3ZlZCBzdHlsZS9jbGFzcyB3aWxsIGJlIHNldCBvbiB3cmFwcGVyIGluICNkYXRhIGxpc3RlbmVyLlxuXHRcdFx0XHQvLyBOb3RlOiBDZW50ZXIgYWxpZ25tZW50IGlzIGRldGVjdGVkIGR1cmluZyB1cGNhc3QsIHNvIG9ubHkgbGVmdC9yaWdodCBjYXNlc1xuXHRcdFx0XHQvLyBhcmUgY2hlY2tlZCBiZWxvdy5cblx0XHRcdFx0aWYgKCFkYXRhLmFsaWduKSB7XG5cdFx0XHRcdFx0Y29uc3QgYWxpZ25FbGVtZW50ID0gZGF0YS5oYXNDYXB0aW9uID8gdGhpcy5lbGVtZW50IDogaW1hZ2U7XG5cblx0XHRcdFx0XHQvLyBSZWFkIHRoZSBpbml0aWFsIGxlZnQvcmlnaHQgYWxpZ25tZW50IGZyb20gdGhlIGNsYXNzIHNldCBvbiBlbGVtZW50LlxuXHRcdFx0XHRcdGlmIChhbGlnbkNsYXNzZXMpIHtcblx0XHRcdFx0XHRcdGlmIChhbGlnbkVsZW1lbnQuaGFzQ2xhc3MoYWxpZ25DbGFzc2VzWzBdKSkge1xuXHRcdFx0XHRcdFx0XHRkYXRhLmFsaWduID0gJ2xlZnQnO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChhbGlnbkVsZW1lbnQuaGFzQ2xhc3MoYWxpZ25DbGFzc2VzWzJdKSkge1xuXHRcdFx0XHRcdFx0XHRkYXRhLmFsaWduID0gJ3JpZ2h0Jztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGRhdGEuYWxpZ24pIHtcblx0XHRcdFx0XHRcdFx0YWxpZ25FbGVtZW50LnJlbW92ZUNsYXNzKFxuXHRcdFx0XHRcdFx0XHRcdGFsaWduQ2xhc3Nlc1thbGlnbm1lbnRzT2JqW2RhdGEuYWxpZ25dXVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZGF0YS5hbGlnbiA9ICdub25lJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gUmVhZCBpbml0aWFsIGZsb2F0IHN0eWxlIGZyb20gZmlndXJlL2ltYWdlIGFuZCB0aGVuIHJlbW92ZSBpdC5cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGRhdGEuYWxpZ24gPSBhbGlnbkVsZW1lbnQuZ2V0U3R5bGUoJ2Zsb2F0JykgfHwgJ25vbmUnO1xuXHRcdFx0XHRcdFx0YWxpZ25FbGVtZW50LnJlbW92ZVN0eWxlKCdmbG9hdCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEdldCByaWQgb2YgZXh0cmEgdmVydGljYWwgc3BhY2Ugd2hlbiB0aGVyZSdzIG5vIGNhcHRpb24uXG5cdFx0XHRcdC8vIEl0IHdpbGwgaW1wcm92ZSB0aGUgbG9vayBvZiB0aGUgcmVzaXplci5cblx0XHRcdFx0dGhpcy53cmFwcGVyWyhkYXRhLmhhc0NhcHRpb24gPyAncmVtb3ZlJyA6ICdhZGQnKSArICdDbGFzcyddKFxuXHRcdFx0XHRcdCdja2VfaW1hZ2Vfbm9jYXB0aW9uJ1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMuc2V0RGF0YShkYXRhKTtcblxuXHRcdFx0XHRpZiAoZWRpdG9yLmNvbmZpZy5pbWFnZTJfZGlzYWJsZVJlc2l6ZXIgIT09IHRydWUpIHtcblx0XHRcdFx0XHRzZXR1cFJlc2l6ZXIodGhpcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8vIE92ZXJyaWRlcyBkZWZhdWx0IG1ldGhvZCB0byBoYW5kbGUgaW50ZXJuYWwgbXV0YWJpbGl0eSBvZiBJbWFnZTIuXG5cdFx0XHQvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I2FkZENsYXNzXG5cdFx0XHRhZGRDbGFzcyhjbGFzc05hbWUpIHtcblx0XHRcdFx0Z2V0U3R5bGVhYmxlRWxlbWVudCh0aGlzKS5hZGRDbGFzcyhjbGFzc05hbWUpO1xuXHRcdFx0fSxcblxuXHRcdFx0YWxsb3dlZENvbnRlbnQ6IGdldFdpZGdldEFsbG93ZWRDb250ZW50KGVkaXRvciksXG5cblx0XHRcdC8vIFRoaXMgd2lkZ2V0IGNvbnZlcnRzIHN0eWxlLWRyaXZlbiBkaW1lbnNpb25zIHRvIGF0dHJpYnV0ZXMuXG5cdFx0XHRjb250ZW50VHJhbnNmb3JtYXRpb25zOiBbWydpbWdbd2lkdGhdOiBzaXplVG9BdHRyaWJ1dGUnXV0sXG5cblx0XHRcdGRhdGEoKSB7XG5cdFx0XHRcdGNvbnN0IGZlYXR1cmVzID0gdGhpcy5mZWF0dXJlcztcblxuXHRcdFx0XHQvLyBJbWFnZSBjYW4ndCBiZSBjYXB0aW9uZWQgd2hlbiBmaWdjYXB0aW9uIGlzIGRpc2FsbG93ZWQgKCMxMTAwNCkuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLmRhdGEuaGFzQ2FwdGlvbiAmJlxuXHRcdFx0XHRcdCFlZGl0b3IuZmlsdGVyLmNoZWNrRmVhdHVyZShmZWF0dXJlcy5jYXB0aW9uKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHR0aGlzLmRhdGEuaGFzQ2FwdGlvbiA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSW1hZ2UgY2FuJ3QgYmUgYWxpZ25lZCB3aGVuIGZsb2F0aW5nIGlzIGRpc2FsbG93ZWQgKCMxMTAwNCkuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLmRhdGEuYWxpZ24gIT0gJ25vbmUnICYmXG5cdFx0XHRcdFx0IWVkaXRvci5maWx0ZXIuY2hlY2tGZWF0dXJlKGZlYXR1cmVzLmFsaWduKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHR0aGlzLmRhdGEuYWxpZ24gPSAnbm9uZSc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBVcGRhdGUgd2lkZ2V0LnBhcnRzLmxpbmsgc2luY2UgaXQgd2lsbCBub3QgYXV0by11cGRhdGUgdW5sZXNzIHdpZGdldFxuXHRcdFx0XHQvLyBpcyBkZXN0cm95ZWQgYW5kIHJlLWluaXRlZC5cblx0XHRcdFx0aWYgKCF0aGlzLmRhdGEubGluaykge1xuXHRcdFx0XHRcdGlmICh0aGlzLnBhcnRzLmxpbmspIHtcblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnBhcnRzLmxpbms7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICghdGhpcy5wYXJ0cy5saW5rKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnBhcnRzLmxpbmsgPSB0aGlzLnBhcnRzLmltYWdlLmdldFBhcmVudCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMucGFydHMuaW1hZ2Uuc2V0QXR0cmlidXRlcyh7XG5cdFx0XHRcdFx0YWx0OiB0aGlzLmRhdGEuYWx0LFxuXG5cdFx0XHRcdFx0Y29udGVudGVkaXRhYmxlOiB0aGlzLnBhcnRzLmltYWdlLmdldEF0dHJpYnV0ZShcblx0XHRcdFx0XHRcdCdjb250ZW50ZWRpdGFibGUnXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0PyB0aGlzLnBhcnRzLmltYWdlLmdldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJylcblx0XHRcdFx0XHRcdDogdHJ1ZSxcblxuXHRcdFx0XHRcdC8vIFRoaXMgaW50ZXJuYWwgaXMgcmVxdWlyZWQgYnkgdGhlIGVkaXRvci5cblx0XHRcdFx0XHQnZGF0YS1ja2Utc2F2ZWQtc3JjJzogdGhpcy5kYXRhLnNyYyxcblxuXHRcdFx0XHRcdHNyYzogdGhpcy5kYXRhLnNyYyxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gSWYgc2hpZnRpbmcgbm9uLWNhcHRpb25lZCAtPiBjYXB0aW9uZWQsIHJlbW92ZSBjbGFzc2VzXG5cdFx0XHRcdC8vIHJlbGF0ZWQgdG8gc3R5bGVzIGZyb20gPGltZy8+LlxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0dGhpcy5vbGREYXRhICYmXG5cdFx0XHRcdFx0IXRoaXMub2xkRGF0YS5oYXNDYXB0aW9uICYmXG5cdFx0XHRcdFx0dGhpcy5kYXRhLmhhc0NhcHRpb25cblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBjIGluIHRoaXMuZGF0YS5jbGFzc2VzKSB7XG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmRhdGEuY2xhc3Nlcyxcblx0XHRcdFx0XHRcdFx0XHRjXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBhcnRzLmltYWdlLnJlbW92ZUNsYXNzKGMpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFNldCBkaW1lbnNpb25zIG9mIHRoZSBpbWFnZSBhY2NvcmRpbmcgdG8gZ2F0aGVyZWQgZGF0YS5cblx0XHRcdFx0Ly8gRG8gaXQgb25seSB3aGVuIHRoZSBhdHRyaWJ1dGVzIGFyZSBhbGxvd2VkICgjMTEwMDQpLlxuXHRcdFx0XHRpZiAoZWRpdG9yLmZpbHRlci5jaGVja0ZlYXR1cmUoZmVhdHVyZXMuZGltZW5zaW9uKSkge1xuXHRcdFx0XHRcdHNldERpbWVuc2lvbnModGhpcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYWNoZSBjdXJyZW50IGRhdGEuXG5cdFx0XHRcdHRoaXMub2xkRGF0YSA9IENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSwgdGhpcy5kYXRhKTtcblx0XHRcdH0sXG5cblx0XHRcdGRvd25jYXN0OiBkb3duY2FzdFdpZGdldEVsZW1lbnQoZWRpdG9yKSxcblxuXHRcdFx0ZHJhZ2dhYmxlOiBmYWxzZSxcblxuXHRcdFx0Ly8gVGhpcyB3aWRnZXQgaGFzIGFuIGVkaXRhYmxlIGNhcHRpb24uXG5cdFx0XHRlZGl0YWJsZXM6IHtcblx0XHRcdFx0Y2FwdGlvbjoge1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAnZmlnY2FwdGlvbicsXG5cdFx0XHRcdFx0YWxsb3dlZENvbnRlbnQ6ICdiciBlbSBzdHJvbmcgc3ViIHN1cCB1IHM7IGFbIWhyZWYsdGFyZ2V0XScsXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXG5cdFx0XHRmZWF0dXJlczogZ2V0V2lkZ2V0RmVhdHVyZXMoZWRpdG9yKSxcblxuXHRcdFx0Ly8gT3ZlcnJpZGVzIGRlZmF1bHQgbWV0aG9kIHRvIGhhbmRsZSBpbnRlcm5hbCBtdXRhYmlsaXR5IG9mIEltYWdlMi5cblx0XHRcdC8vIEBzZWUgQ0tFRElUT1IucGx1Z2lucy53aWRnZXQjZ2V0Q2xhc3Nlc1xuXHRcdFx0Z2V0Q2xhc3NlczogKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zdCBjbGFzc1JlZ2V4ID0gbmV3IFJlZ0V4cChcblx0XHRcdFx0XHQnXignICtcblx0XHRcdFx0XHRcdFtdLmNvbmNhdChjYXB0aW9uZWRDbGFzcywgYWxpZ25DbGFzc2VzKS5qb2luKCd8JykgK1xuXHRcdFx0XHRcdFx0JykkJ1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjb25zdCBjbGFzc2VzID0gdGhpcy5yZXBvc2l0b3J5LnBhcnNlRWxlbWVudENsYXNzZXMoXG5cdFx0XHRcdFx0XHRnZXRTdHlsZWFibGVFbGVtZW50KHRoaXMpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKVxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHQvLyBOZWl0aGVyIGNvbmZpZy5pbWFnZTJfY2FwdGlvbmVkQ2xhc3Mgbm9yIGNvbmZpZy5pbWFnZTJfYWxpZ25DbGFzc2VzXG5cdFx0XHRcdFx0Ly8gZG8gbm90IGJlbG9uZyB0byBzdHlsZSBjbGFzc2VzLlxuXHRcdFx0XHRcdGZvciAoY29uc3QgYyBpbiBjbGFzc2VzKSB7XG5cdFx0XHRcdFx0XHRpZiAoY2xhc3NSZWdleC50ZXN0KGMpKSB7XG5cdFx0XHRcdFx0XHRcdGRlbGV0ZSBjbGFzc2VzW2NdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjbGFzc2VzO1xuXHRcdFx0XHR9O1xuXHRcdFx0fSkoKSxcblxuXHRcdFx0Z2V0TGFiZWwoKSB7XG5cdFx0XHRcdGNvbnN0IGxhYmVsID0gKHRoaXMuZGF0YS5hbHQgfHwgJycpICsgJyAnICsgdGhpcy5wYXRoTmFtZTtcblxuXHRcdFx0XHRyZXR1cm4gbGFiZWw7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBPdmVycmlkZXMgZGVmYXVsdCBtZXRob2QgdG8gaGFuZGxlIGludGVybmFsIG11dGFiaWxpdHkgb2YgSW1hZ2UyLlxuXHRcdFx0Ly8gQHNlZSBDS0VESVRPUi5wbHVnaW5zLndpZGdldCNoYXNDbGFzc1xuXHRcdFx0aGFzQ2xhc3MoY2xhc3NOYW1lKSB7XG5cdFx0XHRcdHJldHVybiBnZXRTdHlsZWFibGVFbGVtZW50KHRoaXMpLmhhc0NsYXNzKGNsYXNzTmFtZSk7XG5cdFx0XHR9LFxuXG5cdFx0XHRwYXJ0czoge1xuXHRcdFx0XHRjYXB0aW9uOiAnZmlnY2FwdGlvbicsXG5cdFx0XHRcdGltYWdlOiAnaW1nJyxcblx0XHRcdH0sXG5cblx0XHRcdC8vIE92ZXJyaWRlcyBkZWZhdWx0IG1ldGhvZCB0byBoYW5kbGUgaW50ZXJuYWwgbXV0YWJpbGl0eSBvZiBJbWFnZTIuXG5cdFx0XHQvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I3JlbW92ZUNsYXNzXG5cdFx0XHRyZW1vdmVDbGFzcyhjbGFzc05hbWUpIHtcblx0XHRcdFx0Z2V0U3R5bGVhYmxlRWxlbWVudCh0aGlzKS5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuXHRcdFx0fSxcblxuXHRcdFx0cmVxdWlyZWRDb250ZW50OiAnaW1nW3NyYyxhbHRdJyxcblxuXHRcdFx0c3R5bGVhYmxlRWxlbWVudHM6ICdpbWcgZmlndXJlJyxcblxuXHRcdFx0Ly8gVGVtcGxhdGUgb2YgdGhlIHdpZGdldDogcGxhaW4gaW1hZ2UuXG5cdFx0XHR0ZW1wbGF0ZSxcblxuXHRcdFx0dXBjYXN0OiB1cGNhc3RXaWRnZXRFbGVtZW50KGVkaXRvciksXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNldCBvZiBFbmhhbmNlZCBJbWFnZSAoaW1hZ2UyKSBwbHVnaW4gaGVscGVycy5cblx0ICpcblx0ICogQGNsYXNzXG5cdCAqIEBzaW5nbGV0b25cblx0ICovXG5cdENLRURJVE9SLnBsdWdpbnMuaW1hZ2UyID0ge1xuXHRcdC8qKlxuXHRcdCAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGltYWdlIHJhdGlvIG1hdGNoZXMgdGhlIG5hdHVyYWwgb25lXG5cdFx0ICogYnkgY29tcGFyaW5nIGRpbWVuc2lvbnMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBpbWFnZVxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0Y2hlY2tIYXNOYXR1cmFsUmF0aW8oaW1hZ2UpIHtcblx0XHRcdGNvbnN0ICQgPSBpbWFnZS4kO1xuXG5cdFx0XHRjb25zdCBuYXR1cmFsID0gdGhpcy5nZXROYXR1cmFsKGltYWdlKTtcblxuXHRcdFx0Ly8gVGhlIHJlYXNvbiBmb3IgdHdvIGFsdGVybmF0aXZlIGNvbXBhcmlzb25zIGlzIHRoYXQgdGhlIHJvdW5kaW5nIGNhbiBjb21lIGZyb21cblx0XHRcdC8vIGJvdGggZGltZW5zaW9ucywgZS5nLiB0aGVyZSBhcmUgdHdvIGNhc2VzOlxuXHRcdFx0Ly8gXHQxLiBoZWlnaHQgaXMgY29tcHV0ZWQgYXMgYSByb3VuZGVkIHJlbGF0aW9uIG9mIHRoZSByZWFsIGhlaWdodCBhbmQgdGhlIHZhbHVlIG9mIHdpZHRoLFxuXHRcdFx0Ly9cdDIuIHdpZHRoIGlzIGNvbXB1dGVkIGFzIGEgcm91bmRlZCByZWxhdGlvbiBvZiB0aGUgcmVhbCB3aWR0aCBhbmQgdGhlIHZhbHVlIG9mIGhlaWdoLlxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0TWF0aC5yb3VuZCgoJC5jbGllbnRXaWR0aCAvIG5hdHVyYWwud2lkdGgpICogbmF0dXJhbC5oZWlnaHQpID09XG5cdFx0XHRcdFx0JC5jbGllbnRIZWlnaHQgfHxcblx0XHRcdFx0TWF0aC5yb3VuZCgoJC5jbGllbnRIZWlnaHQgLyBuYXR1cmFsLmhlaWdodCkgKiBuYXR1cmFsLndpZHRoKSA9PVxuXHRcdFx0XHRcdCQuY2xpZW50V2lkdGhcblx0XHRcdCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgbmF0dXJhbCBkaW1lbnNpb25zIG9mIHRoZSBpbWFnZS4gRm9yIG1vZGVybiBicm93c2Vyc1xuXHRcdCAqIGl0IHVzZXMgbmF0dXJhbChXaWR0aHxIZWlnaHQpLiBGb3Igb2xkIG9uZXMgKElFOCkgaXQgY3JlYXRlc1xuXHRcdCAqIGEgbmV3IGltYWdlIGFuZCByZWFkcyB0aGUgZGltZW5zaW9ucy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGltYWdlXG5cdFx0ICogQHJldHVybiB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdGdldE5hdHVyYWwoaW1hZ2UpIHtcblx0XHRcdGxldCBkaW1lbnNpb25zO1xuXG5cdFx0XHRpZiAoaW1hZ2UuJC5uYXR1cmFsV2lkdGgpIHtcblx0XHRcdFx0ZGltZW5zaW9ucyA9IHtcblx0XHRcdFx0XHRoZWlnaHQ6IGltYWdlLiQubmF0dXJhbEhlaWdoLFxuXHRcdFx0XHRcdHdpZHRoOiBpbWFnZS4kLm5hdHVyYWxXaWR0aCxcblx0XHRcdFx0fTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuXG5cdFx0XHRcdGltZy5zcmMgPSBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuXG5cdFx0XHRcdGRpbWVuc2lvbnMgPSB7XG5cdFx0XHRcdFx0aGVpZ2h0OiBpbWcuaGVpZ2gsXG5cdFx0XHRcdFx0d2lkdGg6IGltZy53aWR0aCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRpbWVuc2lvbnM7XG5cdFx0fSxcblx0fTtcblxuXHQvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHdpZGdldHMgZnJvbSBhbGwgPGltZz4gYW5kXG5cdC8vIDxmaWd1cmUgY2xhc3M9XCJ7Y29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzc31cIj4gZWxlbWVudHMuXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfSBlZGl0b3Jcblx0Ly8gQHJldHVybnMge0Z1bmN0aW9ufVxuXHRmdW5jdGlvbiB1cGNhc3RXaWRnZXRFbGVtZW50KGVkaXRvcikge1xuXHRcdGNvbnN0IGlzQ2VudGVyV3JhcHBlciA9IGNlbnRlcldyYXBwZXJDaGVja2VyKGVkaXRvcik7XG5cblx0XHRjb25zdCBjYXB0aW9uZWRDbGFzcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2NhcHRpb25lZENsYXNzO1xuXG5cdFx0Ly8gQHBhcmFtIHtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnR9IGVsXG5cdFx0Ly8gQHBhcmFtIHtPYmplY3R9IGRhdGFcblx0XHRyZXR1cm4gZnVuY3Rpb24oZWwsIGRhdGEpIHtcblx0XHRcdGNvbnN0IGRpbWVuc2lvbnMgPSB7XG5cdFx0XHRcdGhlaWdodDogMSxcblx0XHRcdFx0d2lkdGg6IDEsXG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCBuYW1lID0gZWwubmFtZTtcblxuXHRcdFx0bGV0IGltYWdlO1xuXG5cdFx0XHQvLyAjMTExMTAgRG9uJ3QgaW5pdGlhbGl6ZSBvbiBwYXN0ZWQgZmFrZSBvYmplY3RzLlxuXHRcdFx0aWYgKGVsLmF0dHJpYnV0ZXNbJ2RhdGEtY2tlLXJlYWxlbGVtZW50J10pIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGNlbnRlciB3cmFwcGVyIGlzIGZvdW5kLCB0aGVyZSBhcmUgMyBwb3NzaWJsZSBjYXNlczpcblx0XHRcdC8vXG5cdFx0XHQvLyAxLiA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48ZmlndXJlPi4uLjwvZmlndXJlPjwvZGl2Pi5cblx0XHRcdC8vICAgIEluIHRoaXMgY2FzZSBjZW50ZXJpbmcgaXMgZG9uZSB3aXRoIGEgY2xhc3Mgc2V0IG9uIHdpZGdldC53cmFwcGVyLlxuXHRcdFx0Ly8gICAgU2ltcGx5IHJlcGxhY2UgY2VudGVyaW5nIHdyYXBwZXIgd2l0aCBmaWd1cmUgKGl0J3Mgbm8gbG9uZ2VyIG5lY2Vzc2FyeSkuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gMi4gPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxpbWcvPjwvcD4uXG5cdFx0XHQvLyAgICBOb3RoaW5nIHRvIGRvIGhlcmU6IDxwPiByZW1haW5zIGZvciBzdHlsaW5nIHB1cnBvc2VzLlxuXHRcdFx0Ly9cblx0XHRcdC8vIDMuIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxpbWcvPjwvZGl2Pi5cblx0XHRcdC8vICAgIE5vdGhpbmcgdG8gZG8gaGVyZSAoMi4pIGJ1dCB0aGF0IGNhc2UgaXMgb25seSBwb3NzaWJsZSBpbiBlbnRlck1vZGUgZGlmZmVyZW50XG5cdFx0XHQvLyAgICB0aGFuIEVOVEVSX1AuXG5cdFx0XHRpZiAoaXNDZW50ZXJXcmFwcGVyKGVsKSkge1xuXHRcdFx0XHRpZiAobmFtZSA9PSAnZGl2Jykge1xuXHRcdFx0XHRcdGNvbnN0IGZpZ3VyZSA9IGVsLmdldEZpcnN0KCdmaWd1cmUnKTtcblxuXHRcdFx0XHRcdC8vIENhc2UgIzEuXG5cdFx0XHRcdFx0aWYgKGZpZ3VyZSkge1xuXHRcdFx0XHRcdFx0ZWwucmVwbGFjZVdpdGgoZmlndXJlKTtcblx0XHRcdFx0XHRcdGVsID0gZmlndXJlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBDYXNlcyAjMiBhbmQgIzMgKGhhbmRsZWQgdHJhbnNwYXJlbnRseSlcblxuXHRcdFx0XHQvLyBJZiB0aGVyZSdzIGEgY2VudGVyaW5nIHdyYXBwZXIsIHNhdmUgaXQgaW4gZGF0YS5cblx0XHRcdFx0ZGF0YS5hbGlnbiA9ICdjZW50ZXInO1xuXG5cdFx0XHRcdC8vIEltYWdlIGNhbiBiZSB3cmFwcGVkIGluIGxpbmsgPGE+PGltZy8+PC9hPi5cblx0XHRcdFx0aW1hZ2UgPSBlbC5nZXRGaXJzdCgnaW1nJykgfHwgZWwuZ2V0Rmlyc3QoJ2EnKS5nZXRGaXJzdCgnaW1nJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5vIGNlbnRlciB3cmFwcGVyIGhhcyBiZWVuIGZvdW5kLlxuXHRcdFx0ZWxzZSBpZiAobmFtZSA9PSAnZmlndXJlJyAmJiBlbC5oYXNDbGFzcyhjYXB0aW9uZWRDbGFzcykpIHtcblx0XHRcdFx0aW1hZ2UgPSBlbC5nZXRGaXJzdCgnaW1nJykgfHwgZWwuZ2V0Rmlyc3QoJ2EnKS5nZXRGaXJzdCgnaW1nJyk7XG5cblx0XHRcdFx0Ly8gVXBjYXN0IGxpbmtlZCBpbWFnZSBsaWtlIDxhPjxpbWcvPjwvYT4uXG5cdFx0XHR9IGVsc2UgaWYgKGlzTGlua2VkT3JTdGFuZGFsb25lSW1hZ2UoZWwpKSB7XG5cdFx0XHRcdGltYWdlID0gZWwubmFtZSA9PSAnYScgPyBlbC5jaGlsZHJlblswXSA6IGVsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWltYWdlKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlcmUncyBhbiBpbWFnZSwgdGhlbiBjb29sLCB3ZSBnb3QgYSB3aWRnZXQuXG5cdFx0XHQvLyBOb3cganVzdCByZW1vdmUgZGltZW5zaW9uIGF0dHJpYnV0ZXMgZXhwcmVzc2VkIHdpdGggJS5cblx0XHRcdGZvciAoY29uc3QgZCBpbiBkaW1lbnNpb25zKSB7XG5cdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGltZW5zaW9ucywgZCkpIHtcblx0XHRcdFx0XHRjb25zdCBkaW1lbnNpb24gPSBpbWFnZS5hdHRyaWJ1dGVzW2RdO1xuXG5cdFx0XHRcdFx0aWYgKGRpbWVuc2lvbiAmJiBkaW1lbnNpb24ubWF0Y2gocmVnZXhQZXJjZW50KSkge1xuXHRcdFx0XHRcdFx0ZGVsZXRlIGltYWdlLmF0dHJpYnV0ZXNbZF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHR9XG5cblx0Ly8gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHdpZGdldCB0byB0aGUgZXh0ZXJuYWwgZm9ybWF0XG5cdC8vIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uLlxuXHQvL1xuXHQvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn1cblx0ZnVuY3Rpb24gZG93bmNhc3RXaWRnZXRFbGVtZW50KGVkaXRvcikge1xuXHRcdGNvbnN0IGFsaWduQ2xhc3NlcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2FsaWduQ2xhc3NlcztcblxuXHRcdC8vIEBwYXJhbSB7Q0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50fSBlbFxuXHRcdHJldHVybiBmdW5jdGlvbihlbCkge1xuXHRcdFx0Ly8gSW4gY2FzZSBvZiA8YT48aW1nLz48L2E+LCA8aW1nLz4gaXMgdGhlIGVsZW1lbnQgdG8gaG9sZFxuXHRcdFx0Ly8gaW5saW5lIHN0eWxlcyBvciBjbGFzc2VzIChpbWFnZTJfYWxpZ25DbGFzc2VzKS5cblx0XHRcdGNvbnN0IGF0dHJzSG9sZGVyID0gZWwubmFtZSA9PSAnYScgPyBlbC5nZXRGaXJzdCgpIDogZWw7XG5cblx0XHRcdGRlbGV0ZSBhdHRyc0hvbGRlci5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZTtcblxuXHRcdFx0Y29uc3QgYXR0cnMgPSBhdHRyc0hvbGRlci5hdHRyaWJ1dGVzO1xuXG5cdFx0XHRjb25zdCBhbGlnbiA9IHRoaXMuZGF0YS5hbGlnbjtcblxuXHRcdFx0Ly8gRGUtd3JhcCB0aGUgaW1hZ2UgZnJvbSByZXNpemUgaGFuZGxlIHdyYXBwZXIuXG5cdFx0XHQvLyBPbmx5IGJsb2NrIHdpZGdldHMgaGF2ZSBvbmUuXG5cdFx0XHRpZiAoIXRoaXMuaW5saW5lKSB7XG5cdFx0XHRcdGNvbnN0IHJlc2l6ZVdyYXBwZXIgPSBlbC5nZXRGaXJzdCgnc3BhbicpO1xuXG5cdFx0XHRcdGlmIChyZXNpemVXcmFwcGVyKSB7XG5cdFx0XHRcdFx0cmVzaXplV3JhcHBlci5yZXBsYWNlV2l0aChcblx0XHRcdFx0XHRcdHJlc2l6ZVdyYXBwZXIuZ2V0Rmlyc3Qoe1xuXHRcdFx0XHRcdFx0XHRhOiAxLFxuXHRcdFx0XHRcdFx0XHRpbWc6IDEsXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGFsaWduICYmIGFsaWduICE9ICdub25lJykge1xuXHRcdFx0XHRjb25zdCBzdHlsZXMgPSBDS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYXR0cnMuc3R5bGUgfHwgJycpO1xuXG5cdFx0XHRcdC8vIFdoZW4gdGhlIHdpZGdldCBpcyBjYXB0aW9uZWQgKDxmaWd1cmU+KSBhbmQgaW50ZXJuYWxseSBjZW50ZXJpbmcgaXMgZG9uZVxuXHRcdFx0XHQvLyB3aXRoIHdpZGdldCdzIHdyYXBwZXIgc3R5bGUvY2xhc3MsIGluIHRoZSBleHRlcm5hbCBkYXRhIHJlcHJlc2VudGF0aW9uLFxuXHRcdFx0XHQvLyA8ZmlndXJlPiBtdXN0IGJlIHdyYXBwZWQgd2l0aCBhbiBlbGVtZW50IGhvbGRpbmcgYW4gc3R5bGUvY2xhc3M6XG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIFx0PGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+XG5cdFx0XHRcdC8vIFx0XHQ8ZmlndXJlIGNsYXNzPVwiaW1hZ2VcIiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrXCI+Li4uPC9maWd1cmU+XG5cdFx0XHRcdC8vIFx0PC9kaXY+XG5cdFx0XHRcdC8vIG9yXG5cdFx0XHRcdC8vIFx0PGRpdiBjbGFzcz1cInNvbWUtY2VudGVyLWNsYXNzXCI+XG5cdFx0XHRcdC8vIFx0XHQ8ZmlndXJlIGNsYXNzPVwiaW1hZ2VcIj4uLi48L2ZpZ3VyZT5cblx0XHRcdFx0Ly8gXHQ8L2Rpdj5cblx0XHRcdFx0Ly9cblx0XHRcdFx0aWYgKGFsaWduID09ICdjZW50ZXInICYmIGVsLm5hbWUgPT0gJ2ZpZ3VyZScpIHtcblx0XHRcdFx0XHRlbCA9IGVsLndyYXBXaXRoKFxuXHRcdFx0XHRcdFx0bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcblx0XHRcdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0XHRcdGFsaWduQ2xhc3Nlc1xuXHRcdFx0XHRcdFx0XHRcdD8ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzczogYWxpZ25DbGFzc2VzWzFdLFxuXHRcdFx0XHRcdFx0XHRcdCAgfVxuXHRcdFx0XHRcdFx0XHRcdDoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZTogJ3RleHQtYWxpZ246Y2VudGVyJyxcblx0XHRcdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgbGVmdC9yaWdodCwgYWRkIGZsb2F0IHN0eWxlIHRvIHRoZSBkb3duY2FzdGVkIGVsZW1lbnQuXG5cdFx0XHRcdGVsc2UgaWYgKFxuXHRcdFx0XHRcdGFsaWduIGluXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bGVmdDogMSxcblx0XHRcdFx0XHRcdHJpZ2h0OiAxLFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0aWYgKGFsaWduQ2xhc3Nlcykge1xuXHRcdFx0XHRcdFx0YXR0cnNIb2xkZXIuYWRkQ2xhc3MoXG5cdFx0XHRcdFx0XHRcdGFsaWduQ2xhc3Nlc1thbGlnbm1lbnRzT2JqW2FsaWduXV1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN0eWxlc1snZmxvYXQnXSA9IGFsaWduO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFVwZGF0ZSBlbGVtZW50IHN0eWxlcy5cblx0XHRcdFx0aWYgKCFhbGlnbkNsYXNzZXMgJiYgIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoc3R5bGVzKSkge1xuXHRcdFx0XHRcdGF0dHJzLnN0eWxlID0gQ0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KHN0eWxlcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdH1cblxuXHQvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgYW4gZWxlbWVudCBpcyBhIGNlbnRlcmluZyB3cmFwcGVyLlxuXHQvL1xuXHQvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn0gZWRpdG9yXG5cdC8vIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ZnVuY3Rpb24gY2VudGVyV3JhcHBlckNoZWNrZXIoZWRpdG9yKSB7XG5cdFx0Y29uc3QgY2FwdGlvbmVkQ2xhc3MgPSBlZGl0b3IuY29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzcztcblxuXHRcdGNvbnN0IGFsaWduQ2xhc3NlcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2FsaWduQ2xhc3NlcztcblxuXHRcdGNvbnN0IHZhbGlkQ2hpbGRyZW4gPSB7XG5cdFx0XHRhOiAxLFxuXHRcdFx0ZmlndXJlOiAxLFxuXHRcdFx0aW1nOiAxLFxuXHRcdH07XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oZWwpIHtcblx0XHRcdC8vIFdyYXBwZXIgbXVzdCBiZSBlaXRoZXIgPGRpdj4gb3IgPHA+LlxuXHRcdFx0aWYgKFxuXHRcdFx0XHQhKFxuXHRcdFx0XHRcdGVsLm5hbWUgaW5cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRkaXY6IDEsXG5cdFx0XHRcdFx0XHRwOiAxLFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcblxuXHRcdFx0Ly8gQ2VudGVyaW5nIHdyYXBwZXIgY2FuIGhhdmUgb25seSBvbmUgY2hpbGQuXG5cdFx0XHRpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgY2hpbGQgPSBjaGlsZHJlblswXTtcblxuXHRcdFx0Ly8gT25seSA8ZmlndXJlPiBvciA8aW1nIC8+IGNhbiBiZSBmaXJzdCAob25seSkgY2hpbGQgb2YgY2VudGVyaW5nIHdyYXBwZXIsXG5cdFx0XHQvLyByZWdhcmRsZXNzIG9mIGl0cyB0eXBlLlxuXHRcdFx0aWYgKCEoY2hpbGQubmFtZSBpbiB2YWxpZENoaWxkcmVuKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGNlbnRlcmluZyB3cmFwcGVyIGlzIDxwPiwgb25seSA8aW1nIC8+IGNhbiBiZSB0aGUgY2hpbGQuXG5cdFx0XHQvLyAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48aW1nIC8+PC9wPlxuXHRcdFx0aWYgKGVsLm5hbWUgPT0gJ3AnKSB7XG5cdFx0XHRcdGlmICghaXNMaW5rZWRPclN0YW5kYWxvbmVJbWFnZShjaGlsZCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIENlbnRlcmluZyA8ZGl2PiBjYW4gaG9sZCA8aW1nLz4gb3IgPGZpZ3VyZT4sIGRlcGVuZGluZyBvbiBlbnRlck1vZGUuXG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Ly8gSWYgYSA8ZmlndXJlPiBpcyB0aGUgZmlyc3QgKG9ubHkpIGNoaWxkLCBpdCBtdXN0IGhhdmUgYSBjbGFzcy5cblx0XHRcdFx0Ly8gICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48ZmlndXJlPi4uLjwvZmlndXJlPjxkaXY+XG5cdFx0XHRcdGlmIChjaGlsZC5uYW1lID09ICdmaWd1cmUnKSB7XG5cdFx0XHRcdFx0aWYgKCFjaGlsZC5oYXNDbGFzcyhjYXB0aW9uZWRDbGFzcykpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gQ2VudGVyaW5nIDxkaXY+IGNhbiBob2xkIDxpbWcvPiBvciA8YT48aW1nLz48L2E+IG9ubHkgd2hlbiBlbnRlck1vZGVcblx0XHRcdFx0XHQvLyBpcyBFTlRFUl8oQlJ8RElWKS5cblx0XHRcdFx0XHQvLyAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxpbWcgLz48L2Rpdj5cblx0XHRcdFx0XHQvLyAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxhPjxpbWcgLz48L2E+PC9kaXY+XG5cdFx0XHRcdFx0aWYgKGVkaXRvci5lbnRlck1vZGUgPT0gQ0tFRElUT1IuRU5URVJfUCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFJlZ2FyZGxlc3Mgb2YgZW50ZXJNb2RlLCBhIGNoaWxkIHdoaWNoIGlzIG5vdCA8ZmlndXJlPiBtdXN0IGJlXG5cdFx0XHRcdFx0Ly8gZWl0aGVyIDxpbWcvPiBvciA8YT48aW1nLz48L2E+LlxuXHRcdFx0XHRcdGlmICghaXNMaW5rZWRPclN0YW5kYWxvbmVJbWFnZShjaGlsZCkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2VudGVyaW5nIHdyYXBwZXIgZ290IHRvIGJlLi4uIGNlbnRlcmluZy4gSWYgaW1hZ2UyX2FsaWduQ2xhc3NlcyBhcmUgZGVmaW5lZCxcblx0XHRcdC8vIGNoZWNrIGZvciBjZW50ZXJpbmcgY2xhc3MuIE90aGVyd2lzZSwgY2hlY2sgdGhlIHN0eWxlLlxuXHRcdFx0aWYgKFxuXHRcdFx0XHRhbGlnbkNsYXNzZXNcblx0XHRcdFx0XHQ/IGVsLmhhc0NsYXNzKGFsaWduQ2xhc3Nlc1sxXSlcblx0XHRcdFx0XHQ6IENLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChcblx0XHRcdFx0XHRcdFx0ZWwuYXR0cmlidXRlcy5zdHlsZSB8fCAnJyxcblx0XHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdCAgKVsndGV4dC1hbGlnbiddID09ICdjZW50ZXInXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXHR9XG5cblx0Ly8gQ2hlY2tzIHdoZXRoZXIgZWxlbWVudCBpcyA8aW1nLz4gb3IgPGE+PGltZy8+PC9hPi5cblx0Ly9cblx0Ly8gQHBhcmFtIHtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnR9XG5cdGZ1bmN0aW9uIGlzTGlua2VkT3JTdGFuZGFsb25lSW1hZ2UoZWwpIHtcblx0XHRpZiAoZWwubmFtZSA9PSAnaW1nJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIGlmIChlbC5uYW1lID09ICdhJykge1xuXHRcdFx0cmV0dXJuIGVsLmNoaWxkcmVuLmxlbmd0aCA9PSAxICYmIGVsLmdldEZpcnN0KCdpbWcnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBTZXRzIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHdpZGdldCBpbWFnZSBhY2NvcmRpbmcgdG8gY3VycmVudCB3aWRnZXQgZGF0YS5cblx0Ly9cblx0Ly8gQHBhcmFtIHtDS0VESVRPUi5wbHVnaW5zLndpZGdldH0gd2lkZ2V0XG5cdGZ1bmN0aW9uIHNldERpbWVuc2lvbnMod2lkZ2V0KSB7XG5cdFx0Y29uc3QgZGF0YSA9IHdpZGdldC5kYXRhO1xuXG5cdFx0Y29uc3QgZGltZW5zaW9ucyA9IHtcblx0XHRcdGhlaWdodDogZGF0YS5oZWlnaHQsXG5cdFx0XHR3aWR0aDogZGF0YS53aWR0aCxcblx0XHR9O1xuXG5cdFx0Y29uc3QgaW1hZ2UgPSB3aWRnZXQucGFydHMuaW1hZ2U7XG5cblx0XHRmb3IgKGNvbnN0IGQgaW4gZGltZW5zaW9ucykge1xuXHRcdFx0aWYgKGRpbWVuc2lvbnNbZF0pIHtcblx0XHRcdFx0aW1hZ2Uuc2V0QXR0cmlidXRlKGQsIGRpbWVuc2lvbnNbZF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aW1hZ2UucmVtb3ZlQXR0cmlidXRlKGQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIERlZmluZXMgYWxsIGZlYXR1cmVzIHJlbGF0ZWQgdG8gZHJhZy1kcml2ZW4gaW1hZ2UgcmVzaXppbmcuXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IucGx1Z2lucy53aWRnZXR9IHdpZGdldFxuXHRmdW5jdGlvbiBzZXR1cFJlc2l6ZXIod2lkZ2V0KSB7XG5cdFx0Y29uc3QgZWRpdG9yID0gd2lkZ2V0LmVkaXRvcjtcblxuXHRcdGNvbnN0IGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cblx0XHRjb25zdCBkb2MgPSBlZGl0b3IuZG9jdW1lbnQ7XG5cblx0XHQvLyBTdG9yZSB0aGUgcmVzaXplciBpbiBhIHdpZGdldCBmb3IgdGVzdGluZyAoIzExMDA0KS5cblx0XHRjb25zdCByZXNpemVyID0gKHdpZGdldC5yZXNpemVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSk7XG5cblx0XHRyZXNpemVyLmFkZENsYXNzKCdja2VfaW1hZ2VfcmVzaXplcicpO1xuXHRcdHJlc2l6ZXIuYWRkQ2xhc3MoXG5cdFx0XHQnY2tlX2ltYWdlX3Jlc2l6ZXJfJyArIGN1cnNvcltlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemVdXG5cdFx0KTtcblx0XHRyZXNpemVyLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoJ1xcdTIwMGInLCBkb2MpKTtcblxuXHRcdC8vIElubGluZSB3aWRnZXRzIGRvbid0IG5lZWQgYSByZXNpemVyIHdyYXBwZXIgYXMgYW4gaW1hZ2Ugc3BhbnMgdGhlIGVudGlyZSB3aWRnZXQuXG5cdFx0aWYgKCF3aWRnZXQuaW5saW5lKSB7XG5cdFx0XHRjb25zdCBpbWFnZU9yTGluayA9IHdpZGdldC5wYXJ0cy5saW5rIHx8IHdpZGdldC5wYXJ0cy5pbWFnZTtcblxuXHRcdFx0Y29uc3Qgb2xkUmVzaXplV3JhcHBlciA9IGltYWdlT3JMaW5rLmdldFBhcmVudCgpO1xuXG5cdFx0XHRjb25zdCByZXNpemVXcmFwcGVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuXHRcdFx0cmVzaXplV3JhcHBlci5hZGRDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXJfd3JhcHBlcicpO1xuXHRcdFx0cmVzaXplV3JhcHBlci5hcHBlbmQoaW1hZ2VPckxpbmspO1xuXHRcdFx0cmVzaXplV3JhcHBlci5hcHBlbmQocmVzaXplcik7XG5cdFx0XHR3aWRnZXQuZWxlbWVudC5hcHBlbmQocmVzaXplV3JhcHBlciwgdHJ1ZSk7XG5cblx0XHRcdC8vIFJlbW92ZSB0aGUgb2xkIHdyYXBwZXIgd2hpY2ggY291bGQgY2FtZSBmcm9tIGUuZy4gcGFzdGVkIEhUTUxcblx0XHRcdC8vIGFuZCB3aGljaCBjb3VsZCBiZSBjb3JydXB0ZWQgKGUuZy4gcmVzaXplciBzcGFuIGhhcyBiZWVuIGxvc3QpLlxuXHRcdFx0aWYgKG9sZFJlc2l6ZVdyYXBwZXIuaXMoJ3NwYW4nKSkge1xuXHRcdFx0XHRvbGRSZXNpemVXcmFwcGVyLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aWRnZXQud3JhcHBlci5hcHBlbmQocmVzaXplcik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHZhbHVlcyBvZiBzaXplIHZhcmlhYmxlcyBhbmQgbW91c2Ugb2Zmc2V0cy5cblx0XHRyZXNpemVyLm9uKCdtb3VzZWRvd24nLCBldnQgPT4ge1xuXHRcdFx0Y29uc3QgaW1hZ2UgPSB3aWRnZXQucGFydHMuaW1hZ2U7XG5cblx0XHRcdC8vIFwiZmFjdG9yXCIgY2FuIGJlIGVpdGhlciAxIG9yIC0xLiBJLmUuOiBGb3IgcmlnaHQtYWxpZ25lZCBpbWFnZXMsIHdlIG5lZWQgdG9cblx0XHRcdC8vIHN1YnRyYWN0IHRoZSBkaWZmZXJlbmNlIHRvIGdldCBwcm9wZXIgd2lkdGgsIGV0Yy4gV2l0aG91dCBcImZhY3RvclwiLFxuXHRcdFx0Ly8gcmVzaXplciBzdGFydHMgd29ya2luZyB0aGUgb3Bwb3NpdGUgd2F5LlxuXHRcdFx0Y29uc3QgZmFjdG9yID0gd2lkZ2V0LmRhdGEuYWxpZ24gPT0gJ3JpZ2h0JyA/IC0xIDogMTtcblxuXHRcdFx0Ly8gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgbW91c2UgcmVsYXRpdmUgdG8gdGhlIHNjcmVlblxuXHRcdFx0Ly8gd2hlbiBidXR0b24gZ2V0cyBwcmVzc2VkLlxuXHRcdFx0Y29uc3Qgc3RhcnRYID0gZXZ0LmRhdGEuJC5zY3JlZW5YO1xuXG5cdFx0XHRjb25zdCBzdGFydFkgPSBldnQuZGF0YS4kLnNjcmVlblk7XG5cblx0XHRcdC8vIFRoZSBpbml0aWFsIGRpbWVuc2lvbnMgYW5kIGFzcGVjdCByYXRpbyBvZiB0aGUgaW1hZ2UuXG5cdFx0XHRjb25zdCBzdGFydFdpZHRoID0gaW1hZ2UuJC5jbGllbnRXaWR0aDtcblxuXHRcdFx0Y29uc3Qgc3RhcnRIZWlnaHQgPSBpbWFnZS4kLmNsaWVudEhlaWdodDtcblxuXHRcdFx0Y29uc3QgbGlzdGVuZXJzID0gW107XG5cblx0XHRcdC8vIEEgY2xhc3MgYXBwbGllZCB0byBlZGl0YWJsZSBkdXJpbmcgcmVzaXppbmcuXG5cdFx0XHRjb25zdCBjdXJzb3JDbGFzcyA9ICdja2VfaW1hZ2VfcycgKyAoIX5mYWN0b3IgPyAndycgOiAnZScpO1xuXG5cdFx0XHRsZXQgbmF0aXZlRXZ0O1xuXHRcdFx0bGV0IG5ld1dpZHRoO1xuXHRcdFx0bGV0IG5ld0hlaWdodDtcblx0XHRcdGxldCB1cGRhdGVEYXRhO1xuXG5cdFx0XHRsZXQgbW92ZURpZmZYO1xuXHRcdFx0bGV0IG1vdmVEaWZmWTtcblxuXHRcdFx0Ly8gU2F2ZSB0aGUgdW5kbyBzbmFwc2hvdCBmaXJzdDogYmVmb3JlIHJlc2l6aW5nLlxuXHRcdFx0ZWRpdG9yLmZpcmUoJ3NhdmVTbmFwc2hvdCcpO1xuXG5cdFx0XHQvLyBNb3VzZW1vdmUgbGlzdGVuZXJzIGFyZSByZW1vdmVkIG9uIG1vdXNldXAuXG5cdFx0XHRhdHRhY2hUb0RvY3VtZW50cygnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGxpc3RlbmVycyk7XG5cblx0XHRcdC8vIENsZWFuIHVwIHRoZSBtb3VzZW1vdmUgbGlzdGVuZXIuIFVwZGF0ZSB3aWRnZXQgZGF0YSBpZiB2YWxpZC5cblx0XHRcdGF0dGFjaFRvRG9jdW1lbnRzKCdtb3VzZXVwJywgb25Nb3VzZVVwLCBsaXN0ZW5lcnMpO1xuXG5cdFx0XHQvLyBUaGUgZW50aXJlIGVkaXRhYmxlIHdpbGwgaGF2ZSB0aGUgc3BlY2lhbCBjdXJzb3Igd2hpbGUgcmVzaXppbmcgZ29lcyBvbi5cblx0XHRcdGVkaXRhYmxlLmFkZENsYXNzKGN1cnNvckNsYXNzKTtcblxuXHRcdFx0Ly8gVGhpcyBpcyB0byBhbHdheXMga2VlcCB0aGUgcmVzaXplciBlbGVtZW50IHZpc2libGUgd2hpbGUgcmVzaXppbmcuXG5cdFx0XHRyZXNpemVyLmFkZENsYXNzKCdja2VfaW1hZ2VfcmVzaXppbmcnKTtcblxuXHRcdFx0Ly8gQXR0YWNoZXMgYW4gZXZlbnQgdG8gYSBnbG9iYWwgZG9jdW1lbnQgaWYgaW5saW5lIGVkaXRvci5cblx0XHRcdC8vIEFkZGl0aW9uYWxseSwgaWYgY2xhc3NpYyAoYGlmcmFtZWAtYmFzZWQpIGVkaXRvciwgYWxzbyBhdHRhY2hlcyB0aGUgc2FtZSBldmVudCB0byBgaWZyYW1lYCdzIGRvY3VtZW50LlxuXHRcdFx0ZnVuY3Rpb24gYXR0YWNoVG9Eb2N1bWVudHMobmFtZSwgY2FsbGJhY2ssIGNvbGxlY3Rpb24pIHtcblx0XHRcdFx0Y29uc3QgZ2xvYmFsRG9jID0gQ0tFRElUT1IuZG9jdW1lbnQ7XG5cblx0XHRcdFx0Y29uc3QgbGlzdGVuZXJzID0gW107XG5cblx0XHRcdFx0aWYgKCFkb2MuZXF1YWxzKGdsb2JhbERvYykpIHtcblx0XHRcdFx0XHRsaXN0ZW5lcnMucHVzaChnbG9iYWxEb2Mub24obmFtZSwgY2FsbGJhY2spKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxpc3RlbmVycy5wdXNoKGRvYy5vbihuYW1lLCBjYWxsYmFjaykpO1xuXG5cdFx0XHRcdGlmIChjb2xsZWN0aW9uKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IGxpc3RlbmVycy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnB1c2gobGlzdGVuZXJzLnBvcCgpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhpcyBpcyBob3cgdmFyaWFibGVzIHJlZmVyIHRvIHRoZSBnZW9tZXRyeS5cblx0XHRcdC8vIE5vdGU6IHggY29ycmVzcG9uZHMgdG8gbW92ZU9mZnNldCwgdGhpcyBpcyB0aGUgcG9zaXRpb24gb2YgbW91c2Vcblx0XHRcdC8vIE5vdGU6IG8gY29ycmVzcG9uZHMgdG8gW3N0YXJ0WCwgc3RhcnRZXS5cblx0XHRcdC8vXG5cdFx0XHQvLyBcdCstLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLStcblx0XHRcdC8vIFx0fCAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuXHRcdFx0Ly8gXHR8ICAgICAgSSAgICAgICB8ICAgICAgSUkgICAgICB8XG5cdFx0XHQvLyBcdHwgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcblx0XHRcdC8vIFx0Ky0tLS0tLS0tLS0tLS0gbyAtLS0tLS0tLS0tLS0tKyBfIF8gX1xuXHRcdFx0Ly8gXHR8ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8ICAgICAgXlxuXG5cdFx0XHQvLyBcdHwgICAgICBWSSAgICAgIHwgICAgIElJSSAgICAgIHwgICAgICB8IG1vdmVEaWZmWVxuXHRcdFx0Ly8gXHR8ICAgICAgICAgICAgICB8ICAgICAgICAgeCBfIF8gXyBfIF8gdlxuXHRcdFx0Ly8gXHQrLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tfC0tLS0rXG5cdFx0XHQvLyBcdCAgICAgICAgICAgICAgIHwgICAgICAgICB8XG5cdFx0XHQvLyBcdCAgICAgICAgICAgICAgICA8LS0tLS0tLT5cblx0XHRcdC8vIFx0ICAgICAgICAgICAgICAgIG1vdmVEaWZmWFxuXHRcdFx0ZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG5cdFx0XHRcdGNvbnN0IGltYWdlU2NhbGVSZXNpemUgPSBlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemU7XG5cblx0XHRcdFx0bmF0aXZlRXZ0ID0gZXZ0LmRhdGEuJDtcblxuXHRcdFx0XHQvLyBUaGlzIGlzIGhvdyBmYXIgdGhlIG1vdXNlIGlzIGZyb20gdGhlIHBvaW50IHRoZSBidXR0b24gd2FzIHByZXNzZWQuXG5cdFx0XHRcdG1vdmVEaWZmWCA9IG5hdGl2ZUV2dC5zY3JlZW5YIC0gc3RhcnRYO1xuXHRcdFx0XHRtb3ZlRGlmZlkgPSBzdGFydFkgLSBuYXRpdmVFdnQuc2NyZWVuWTtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0aW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ3dpZHRoJyB8fFxuXHRcdFx0XHRcdGltYWdlU2NhbGVSZXNpemUgPT09ICdib3RoJyB8fFxuXHRcdFx0XHRcdGltYWdlU2NhbGVSZXNpemUgPT09ICdzY2FsZSdcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0bmV3V2lkdGggPSBzdGFydFdpZHRoICsgZmFjdG9yICogbW92ZURpZmZYO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGltYWdlU2NhbGVSZXNpemUgPT09ICdoZWlnaHQnIHx8XG5cdFx0XHRcdFx0aW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ2JvdGgnXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdG5ld0hlaWdodCA9IHN0YXJ0SGVpZ2h0IC0gbW92ZURpZmZZO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGltYWdlU2NhbGVSZXNpemUgPT09ICdzY2FsZScpIHtcblx0XHRcdFx0XHRuZXdIZWlnaHQgPSAnYXV0byc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRuZXdXaWR0aCA9IG5ld1dpZHRoIHx8IHN0YXJ0V2lkdGg7XG5cdFx0XHRcdG5ld0hlaWdodCA9IG5ld0hlaWdodCB8fCBzdGFydEhlaWdodDtcblxuXHRcdFx0XHQvLyBEb24ndCB1cGRhdGUgYXR0cmlidXRlcyBpZiBsZXNzIHRoYW4gMTAuXG5cdFx0XHRcdC8vIFRoaXMgaXMgdG8gcHJldmVudCBpbWFnZXMgdG8gdmlzdWFsbHkgZGlzYXBwZWFyLlxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0bmV3V2lkdGggPj0gMTUgJiZcblx0XHRcdFx0XHQobmV3SGVpZ2h0ID49IDE1IHx8IG5ld0hlaWdodCA9PT0gJ2F1dG8nKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRpbWFnZS4kLnN0eWxlLndpZHRoID0gbmV3V2lkdGggKyAncHgnO1xuXHRcdFx0XHRcdGltYWdlLiQuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4JztcblxuXHRcdFx0XHRcdHVwZGF0ZURhdGEgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHVwZGF0ZURhdGEgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBvbk1vdXNlVXAoKSB7XG5cdFx0XHRcdGxldCBsO1xuXG5cdFx0XHRcdHdoaWxlICgobCA9IGxpc3RlbmVycy5wb3AoKSkpIHtcblx0XHRcdFx0XHRsLnJlbW92ZUxpc3RlbmVyKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXN0b3JlIGRlZmF1bHQgY3Vyc29yIGJ5IHJlbW92aW5nIHNwZWNpYWwgY2xhc3MuXG5cdFx0XHRcdGVkaXRhYmxlLnJlbW92ZUNsYXNzKGN1cnNvckNsYXNzKTtcblxuXHRcdFx0XHQvLyBUaGlzIGlzIHRvIGJyaW5nIGJhY2sgdGhlIHJlZ3VsYXIgYmVoYXZpb3VyIG9mIHRoZSByZXNpemVyLlxuXHRcdFx0XHRyZXNpemVyLnJlbW92ZUNsYXNzKCdja2VfaW1hZ2VfcmVzaXppbmcnKTtcblxuXHRcdFx0XHRpZiAodXBkYXRlRGF0YSkge1xuXHRcdFx0XHRcdHdpZGdldC5zZXREYXRhKHtcblx0XHRcdFx0XHRcdGhlaWdodDogbmV3SGVpZ2h0LFxuXHRcdFx0XHRcdFx0d2lkdGg6IG5ld1dpZHRoLFxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Ly8gU2F2ZSBhbm90aGVyIHVuZG8gc25hcHNob3Q6IGFmdGVyIHJlc2l6aW5nLlxuXHRcdFx0XHRcdGVkaXRvci5maXJlKCdzYXZlU25hcHNob3QnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIERvbid0IHVwZGF0ZSBkYXRhIHR3aWNlIG9yIG1vcmUuXG5cdFx0XHRcdHVwZGF0ZURhdGEgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIENoYW5nZSB0aGUgcG9zaXRpb24gb2YgdGhlIHdpZGdldCByZXNpemVyIHdoZW4gZGF0YSBjaGFuZ2VzLlxuXHRcdHdpZGdldC5vbignZGF0YScsICgpID0+IHtcblx0XHRcdHJlc2l6ZXJbd2lkZ2V0LmRhdGEuYWxpZ24gPT0gJ3JpZ2h0JyA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShcblx0XHRcdFx0J2NrZV9pbWFnZV9yZXNpemVyX2xlZnQnXG5cdFx0XHQpO1xuXHRcdH0pO1xuXG5cdFx0d2lkZ2V0LnBhcnRzLmltYWdlLm9uKCdjbGljaycsICgpID0+IHtcblx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuXHRcdFx0aWYgKHNlbGVjdGlvbikge1xuXHRcdFx0XHRjb25zdCBlbGVtZW50ID0gc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudCgpO1xuXG5cdFx0XHRcdGlmIChlbGVtZW50KSB7XG5cdFx0XHRcdFx0Y29uc3Qgd2lkZ2V0RWxlbWVudCA9IGVsZW1lbnQuZmluZE9uZSgnaW1nJyk7XG5cblx0XHRcdFx0XHRpZiAod2lkZ2V0RWxlbWVudCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcmVnaW9uID0gZWxlbWVudC5nZXRDbGllbnRSZWN0KCk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gbmV3IENLRURJVE9SLmRvbS53aW5kb3coXG5cdFx0XHRcdFx0XHRcdHdpbmRvd1xuXHRcdFx0XHRcdFx0KS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuXHRcdFx0XHRcdFx0cmVnaW9uLmxlZnQgLT0gc2Nyb2xsUG9zaXRpb24ueDtcblx0XHRcdFx0XHRcdHJlZ2lvbi50b3AgKz0gc2Nyb2xsUG9zaXRpb24ueTtcblxuXHRcdFx0XHRcdFx0cmVnaW9uLmRpcmVjdGlvbiA9IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QO1xuXG5cdFx0XHRcdFx0XHRlZGl0b3IuZmlyZSgnZWRpdG9ySW50ZXJhY3Rpb24nLCB7XG5cdFx0XHRcdFx0XHRcdG5hdGl2ZUV2ZW50OiBldmVudCxcblx0XHRcdFx0XHRcdFx0c2VsZWN0aW9uRGF0YToge1xuXHRcdFx0XHRcdFx0XHRcdGVsZW1lbnQ6IHdpZGdldEVsZW1lbnQsXG5cdFx0XHRcdFx0XHRcdFx0cmVnaW9uLFxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBSZXR1cm5zIGEgc2V0IG9mIHdpZGdldCBhbGxvd2VkQ29udGVudCBydWxlcywgZGVwZW5kaW5nXG5cdC8vIG9uIGNvbmZpZ3VyYXRpb25zIGxpa2UgY29uZmlnI2ltYWdlMl9hbGlnbkNsYXNzZXMgb3Jcblx0Ly8gY29uZmlnI2ltYWdlMl9jYXB0aW9uZWRDbGFzcy5cblx0Ly9cblx0Ly8gQHBhcmFtIHtDS0VESVRPUi5lZGl0b3J9XG5cdC8vIEByZXR1cm5zIHtPYmplY3R9XG5cdGZ1bmN0aW9uIGdldFdpZGdldEFsbG93ZWRDb250ZW50KGVkaXRvcikge1xuXHRcdGNvbnN0IHJ1bGVzID0ge1xuXHRcdFx0ZmlnY2FwdGlvbjogdHJ1ZSxcblx0XHRcdGZpZ3VyZToge1xuXHRcdFx0XHRjbGFzc2VzOiAnIScgKyBlZGl0b3IuY29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzcyxcblx0XHRcdH0sXG5cdFx0XHRpbWc6IHtcblx0XHRcdFx0YXR0cmlidXRlczogJyFzcmMsYWx0LHdpZHRoLGhlaWdodCcsXG5cdFx0XHR9LFxuXHRcdH07XG5cblx0XHRyZXR1cm4gcnVsZXM7XG5cdH1cblxuXHQvLyBSZXR1cm5zIGEgc2V0IG9mIHdpZGdldCBmZWF0dXJlIHJ1bGVzLCBkZXBlbmRpbmdcblx0Ly8gb24gZWRpdG9yIGNvbmZpZ3VyYXRpb24uIE5vdGUgdGhhdCB0aGUgZm9sbG93aW5nIG1heSBub3QgY292ZXJcblx0Ly8gYWxsIHRoZSBwb3NzaWJsZSBjYXNlcyBzaW5jZSByZXF1aXJlZENvbnRlbnQgc3VwcG9ydHMgYSBzaW5nbGVcblx0Ly8gdGFnIG9ubHkuXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfVxuXHQvLyBAcmV0dXJucyB7T2JqZWN0fVxuXHRmdW5jdGlvbiBnZXRXaWRnZXRGZWF0dXJlcyhlZGl0b3IpIHtcblx0XHRjb25zdCBhbGlnbkNsYXNzZXMgPSBlZGl0b3IuY29uZmlnLmltYWdlMl9hbGlnbkNsYXNzZXM7XG5cblx0XHRjb25zdCBmZWF0dXJlcyA9IHtcblx0XHRcdGFsaWduOiB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDpcblx0XHRcdFx0XHQnaW1nJyArXG5cdFx0XHRcdFx0KGFsaWduQ2xhc3NlcyA/ICcoJyArIGFsaWduQ2xhc3Nlc1swXSArICcpJyA6ICd7ZmxvYXR9JyksXG5cdFx0XHR9LFxuXHRcdFx0Y2FwdGlvbjoge1xuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICdmaWdjYXB0aW9uJyxcblx0XHRcdH0sXG5cdFx0XHRkaW1lbnNpb246IHtcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAnaW1nW3dpZHRoLGhlaWdodF0nLFxuXHRcdFx0fSxcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGZlYXR1cmVzO1xuXHR9XG5cblx0Ly8gUmV0dXJucyBlbGVtZW50IHdoaWNoIGlzIHN0eWxlZCwgY29uc2lkZXJpbmcgY3VycmVudFxuXHQvLyBzdGF0ZSBvZiB0aGUgd2lkZ2V0LlxuXHQvL1xuXHQvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I2FwcGx5U3R5bGVcblx0Ly8gQHBhcmFtIHtDS0VESVRPUi5wbHVnaW5zLndpZGdldH0gd2lkZ2V0XG5cdC8vIEByZXR1cm5zIHtDS0VESVRPUi5kb20uZWxlbWVudH1cblx0ZnVuY3Rpb24gZ2V0U3R5bGVhYmxlRWxlbWVudCh3aWRnZXQpIHtcblx0XHRyZXR1cm4gd2lkZ2V0LmRhdGEuaGFzQ2FwdGlvbiA/IHdpZGdldC5lbGVtZW50IDogd2lkZ2V0LnBhcnRzLmltYWdlO1xuXHR9XG59XG5cbkNLRURJVE9SLmNvbmZpZy5pbWFnZTJfY2FwdGlvbmVkQ2xhc3MgPSAnaW1hZ2UnO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE3LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXHRpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2RyYWdyZXNpemVfaWUxMScpKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgdGVtcGxhdGUgPSAnPGltZyBhbHQ9XCJcIiBzcmM9XCJcIiAvPic7XG5cblx0Y29uc3QgdGVtcGxhdGVCbG9jayA9IG5ldyBDS0VESVRPUi50ZW1wbGF0ZShcblx0XHQnPGZpZ3VyZSBjbGFzcz1cIntjYXB0aW9uZWRDbGFzc31cIj4nICtcblx0XHRcdHRlbXBsYXRlICtcblx0XHRcdCc8ZmlnY2FwdGlvbj57Y2FwdGlvblBsYWNlaG9sZGVyfTwvZmlnY2FwdGlvbj4nICtcblx0XHRcdCc8L2ZpZ3VyZT4nXG5cdCk7XG5cblx0Y29uc3QgYWxpZ25tZW50c09iaiA9IHtsZWZ0OiAwLCBjZW50ZXI6IDEsIHJpZ2h0OiAyfTtcblxuXHRjb25zdCByZWdleFBlcmNlbnQgPSAvXlxccyooXFxkKyUpXFxzKiQvaTtcblxuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfZHJhZ3Jlc2l6ZV9pZTExJywge1xuXHRcdHJlcXVpcmVzOiAnd2lkZ2V0Jyxcblx0XHRvbkxvYWQoKSB7XG5cdFx0XHRDS0VESVRPUi5hZGRDc3MoXG5cdFx0XHRcdCcuY2tlX2ltYWdlX25vY2FwdGlvbnsnICtcblx0XHRcdFx0XHQvLyBUaGlzIGlzIHRvIHJlbW92ZSB1bndhbnRlZCBzcGFjZSBzbyByZXNpemVcblx0XHRcdFx0XHQvLyB3cmFwcGVyIGlzIGRpc3BsYXllZCBwcm9wZXJ0eS5cblx0XHRcdFx0XHQnbGluZS1oZWlnaHQ6MCcgK1xuXHRcdFx0XHRcdCd9JyArXG5cdFx0XHRcdFx0Jy5ja2VfZWRpdGFibGUuY2tlX2ltYWdlX25lLCAuY2tlX2VkaXRhYmxlLmNrZV9pbWFnZV9uZSAqe2N1cnNvcjpuZS1yZXNpemUgIWltcG9ydGFudH0nICtcblx0XHRcdFx0XHQnLmNrZV9lZGl0YWJsZS5ja2VfaW1hZ2VfbncsIC5ja2VfZWRpdGFibGUuY2tlX2ltYWdlX253ICp7Y3Vyc29yOm53LXJlc2l6ZSAhaW1wb3J0YW50fScgK1xuXHRcdFx0XHRcdCcuY2tlX2VkaXRhYmxlLmNrZV9pbWFnZV9zdywgLmNrZV9lZGl0YWJsZS5ja2VfaW1hZ2Vfc3cgKntjdXJzb3I6c3ctcmVzaXplICFpbXBvcnRhbnR9JyArXG5cdFx0XHRcdFx0Jy5ja2VfZWRpdGFibGUuY2tlX2ltYWdlX3NlLCAuY2tlX2VkaXRhYmxlLmNrZV9pbWFnZV9zZSAqe2N1cnNvcjpzZS1yZXNpemUgIWltcG9ydGFudH0nICtcblx0XHRcdFx0XHQnLmNrZV9pbWFnZV9yZXNpemVyeycgK1xuXHRcdFx0XHRcdCdkaXNwbGF5Om5vbmU7JyArXG5cdFx0XHRcdFx0J3Bvc2l0aW9uOmFic29sdXRlOycgK1xuXHRcdFx0XHRcdCd3aWR0aDoxMHB4OycgK1xuXHRcdFx0XHRcdCdoZWlnaHQ6MTBweDsnICtcblx0XHRcdFx0XHQnYmFja2dyb3VuZDojMDAwOycgK1xuXHRcdFx0XHRcdCdvdXRsaW5lOjFweCBzb2xpZCAjZmZmOycgK1xuXHRcdFx0XHRcdC8vIFByZXZlbnQgZHJhZyBoYW5kbGVyIGZyb20gYmVpbmcgbWlzcGxhY2VkICgjMTEyMDcpLlxuXHRcdFx0XHRcdCdsaW5lLWhlaWdodDowOycgK1xuXHRcdFx0XHRcdCdjdXJzb3I6c2UtcmVzaXplOycgK1xuXHRcdFx0XHRcdCd9JyArXG5cdFx0XHRcdFx0Jy5ja2VfaW1hZ2VfcmVzaXplcl93cmFwcGVyeycgK1xuXHRcdFx0XHRcdCdwb3NpdGlvbjpyZWxhdGl2ZTsnICtcblx0XHRcdFx0XHQnZGlzcGxheTppbmxpbmUtYmxvY2s7JyArXG5cdFx0XHRcdFx0J2xpbmUtaGVpZ2h0OjA7JyArXG5cdFx0XHRcdFx0J30nICtcblx0XHRcdFx0XHQvLyBUb3AtcmlnaHQgY29ybmVyIHN0eWxlIG9mIHRoZSByZXNpemVyLlxuXHRcdFx0XHRcdCcuY2tlX2ltYWdlX3Jlc2l6ZXIuY2tlX2ltYWdlX3Jlc2l6ZXJfbmV7JyArXG5cdFx0XHRcdFx0J2N1cnNvcjpuZS1yZXNpemU7JyArXG5cdFx0XHRcdFx0J2xlZnQ6YXV0bzsnICtcblx0XHRcdFx0XHQncmlnaHQ6LTVweDsnICtcblx0XHRcdFx0XHQndG9wOi01cHg7JyArXG5cdFx0XHRcdFx0J30nICtcblx0XHRcdFx0XHQvLyBUb3AtbGVmdCBjb3JuZXIgc3R5bGUgb2YgdGhlIHJlc2l6ZXIuXG5cdFx0XHRcdFx0Jy5ja2VfaW1hZ2VfcmVzaXplci5ja2VfaW1hZ2VfcmVzaXplcl9ud3snICtcblx0XHRcdFx0XHQnY3Vyc29yOm53LXJlc2l6ZTsnICtcblx0XHRcdFx0XHQnbGVmdDotNXB4OycgK1xuXHRcdFx0XHRcdCdyaWdodDphdXRvOycgK1xuXHRcdFx0XHRcdCd0b3A6LTVweDsnICtcblx0XHRcdFx0XHQnfScgK1xuXHRcdFx0XHRcdC8vIEJvdHRvbS1yaWdodCBjb3JuZXIgc3R5bGUgb2YgdGhlIHJlc2l6ZXIuXG5cdFx0XHRcdFx0Jy5ja2VfaW1hZ2VfcmVzaXplci5ja2VfaW1hZ2VfcmVzaXplcl9zZXsnICtcblx0XHRcdFx0XHQnYm90dG9tOi01cHg7JyArXG5cdFx0XHRcdFx0J2N1cnNvcjpzZS1yZXNpemU7JyArXG5cdFx0XHRcdFx0J2xlZnQ6YXV0bzsnICtcblx0XHRcdFx0XHQncmlnaHQ6LTVweDsnICtcblx0XHRcdFx0XHQnfScgK1xuXHRcdFx0XHRcdC8vIEJvdHRvbS1sZWZ0IGNvcm5lciBzdHlsZSBvZiB0aGUgcmVzaXplci5cblx0XHRcdFx0XHQnLmNrZV9pbWFnZV9yZXNpemVyLmNrZV9pbWFnZV9yZXNpemVyX3N3eycgK1xuXHRcdFx0XHRcdCdib3R0b206LTVweDsnICtcblx0XHRcdFx0XHQnY3Vyc29yOnN3LXJlc2l6ZTsnICtcblx0XHRcdFx0XHQnbGVmdDotNXB4OycgK1xuXHRcdFx0XHRcdCdyaWdodDphdXRvOycgK1xuXHRcdFx0XHRcdCd9JyArXG5cdFx0XHRcdFx0Jy5ja2Vfd2lkZ2V0X3dyYXBwZXI6aG92ZXIgLmNrZV9pbWFnZV9yZXNpemVyLCcgK1xuXHRcdFx0XHRcdCcuY2tlX2ltYWdlX3Jlc2l6aW5nPi5ja2VfaW1hZ2VfcmVzaXplcnsnICtcblx0XHRcdFx0XHQnZGlzcGxheTpibG9jaycgK1xuXHRcdFx0XHRcdCd9JyArXG5cdFx0XHRcdFx0Ly8gRXhwYW5kIHdpZGdldCB3cmFwcGVyIHdoZW4gbGlua2VkIGlubGluZSBpbWFnZS5cblx0XHRcdFx0XHQnLmNrZV93aWRnZXRfd3JhcHBlcj5heycgK1xuXHRcdFx0XHRcdCdkaXNwbGF5OmlubGluZS1ibG9jaycgK1xuXHRcdFx0XHRcdCd9J1xuXHRcdFx0KTtcblx0XHR9LFxuXG5cdFx0aW5pdChlZGl0b3IpIHtcblx0XHRcdC8vIEFkYXB0cyBjb25maWd1cmF0aW9uIGZyb20gb3JpZ2luYWwgaW1hZ2UgcGx1Z2luLiBTaG91bGQgYmUgcmVtb3ZlZFxuXHRcdFx0Ly8gd2hlbiB3ZSdsbCByZW5hbWUgYWVfZHJhZ3Jlc2l6ZV9pZTExIHRvIGltYWdlLlxuXG5cdFx0XHRjb25zdCBpbWFnZSA9IHdpZGdldERlZihlZGl0b3IpO1xuXG5cdFx0XHQvLyBSZWdpc3RlciB0aGUgd2lkZ2V0LlxuXHRcdFx0ZWRpdG9yLndpZGdldHMuYWRkKCdpbWFnZScsIGltYWdlKTtcblxuXHRcdFx0Ly8gQWRkIGEgbGlzdGVuZXIgdG8gaGFuZGxlIHNlbGVjdGlvbiBjaGFuZ2UgZXZlbnRzIGFuZCBwcm9wZXJseSBkZXRlY3QgZWRpdG9yXG5cdFx0XHQvLyBpbnRlcmFjdGlvbnMgb24gdGhlIHdpZGdldHMgd2l0aG91dCBtZXNzaW5nIHdpdGggd2lkZ2V0IG5hdGl2ZSBzZWxlY3Rpb25cblx0XHRcdGVkaXRvci5vbignc2VsZWN0aW9uQ2hhbmdlJywgX2V2ZW50ID0+IHtcblx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG5cdFx0XHRcdGlmIChzZWxlY3Rpb24pIHtcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50ID0gc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO1xuXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHdpZGdldEVsZW1lbnQgPSBlbGVtZW50LmZpbmRPbmUoJ2ltZycpO1xuXG5cdFx0XHRcdFx0XHRpZiAod2lkZ2V0RWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCByZWdpb24gPSBlbGVtZW50LmdldENsaWVudFJlY3QoKTtcblxuXHRcdFx0XHRcdFx0XHRjb25zdCBzY3JvbGxQb3NpdGlvbiA9IG5ldyBDS0VESVRPUi5kb20ud2luZG93KFxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvd1xuXHRcdFx0XHRcdFx0XHQpLmdldFNjcm9sbFBvc2l0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdHJlZ2lvbi5sZWZ0IC09IHNjcm9sbFBvc2l0aW9uLng7XG5cdFx0XHRcdFx0XHRcdHJlZ2lvbi50b3AgKz0gc2Nyb2xsUG9zaXRpb24ueTtcblxuXHRcdFx0XHRcdFx0XHRyZWdpb24uZGlyZWN0aW9uID0gQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1A7XG5cblx0XHRcdFx0XHRcdFx0ZWRpdG9yLmZpcmUoJ2VkaXRvckludGVyYWN0aW9uJywge1xuXHRcdFx0XHRcdFx0XHRcdG5hdGl2ZUV2ZW50OiB7fSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3Rpb25EYXRhOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlbGVtZW50OiB3aWRnZXRFbGVtZW50LFxuXHRcdFx0XHRcdFx0XHRcdFx0cmVnaW9uLFxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFmdGVySW5pdChlZGl0b3IpIHtcblx0XHRcdC8vIEludGVncmF0ZSB3aXRoIGFsaWduIGNvbW1hbmRzIChqdXN0aWZ5IHBsdWdpbikuXG5cdFx0XHRjb25zdCBhbGlnbiA9IHtsZWZ0OiAxLCByaWdodDogMSwgY2VudGVyOiAxLCBibG9jazogMX07XG5cblx0XHRcdGNvbnN0IGludGVncmF0ZSA9IGFsaWduQ29tbWFuZEludGVncmF0b3IoZWRpdG9yKTtcblxuXHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBpbiBhbGlnbikge1xuXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFsaWduLCB2YWx1ZSkpIHtcblx0XHRcdFx0XHRpbnRlZ3JhdGUodmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0fSk7XG5cblx0Ly8gV2lkZ2V0IHN0YXRlcyAoZm9ybXMpIGRlcGVuZGluZyBvbiBhbGlnbm1lbnQgYW5kIGNvbmZpZ3VyYXRpb24uXG5cdC8vXG5cdC8vIE5vbi1jYXB0aW9uZWQgd2lkZ2V0IChpbmxpbmUgc3R5bGVzKVxuXHQvLyBcdFx04pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG5cdC8vIFx0XHTilIJBbGlnbiDilIJJbnRlcm5hbCBmb3JtICAgICAgICAgICAgICAgICAg4pSCRGF0YSAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgIOKUgjxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilIIgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG5cdC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpsZWZ04oCdPiAgIOKUgjxpbWcgc3R5bGU94oCdZmxvYXQ6bGVmdOKAnSAvPiAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCY2VudGVy4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgIOKUgjxwIHN0eWxlPeKAnXRleHQtYWxpZ246Y2VudGVy4oCdPuKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxwIHN0eWxlPeKAnXRleHQtYWxpZ246Y2VudGVy4oCdPiDilIIgIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCICAgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgIOKUgjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilIIgPC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG5cdC8vIFx0XHTilIJyaWdodCDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpyaWdodOKAnT4gIOKUgjxpbWcgc3R5bGU94oCdZmxvYXQ6cmlnaHTigJ0gLz4gIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuXHQvL1xuXHQvLyBOb24tY2FwdGlvbmVkIHdpZGdldCAoY29uZmlnLmFlX2RyYWdyZXNpemVfaWUxMV9hbGlnbkNsYXNzZXMgZGVmaW5lZClcblx0Ly8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuXHQvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcblx0Ly8gXHRcdOKUgm5vbmUgIOKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICDilII8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCbGVmdCAg4pSCPHdyYXBwZXIgY2xhc3M94oCdbGVmdOKAnT4gICAgICAgICDilII8aW1nIGNsYXNzPeKAnWxlZnTigJ0gLz4gICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcblx0Ly8gXHRcdOKUgmNlbnRlcuKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICDilII8cCBjbGFzcz3igJ1jZW50ZXLigJ0+ICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8cCBjbGFzcz3igJ1jZW50ZXLigJ0+ICAgICAgICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiAgIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICDilII8L3A+ICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCcmlnaHQg4pSCPHdyYXBwZXIgY2xhc3M94oCdcmlnaHTigJ0+ICAgICAgICDilII8aW1nIGNsYXNzPeKAnXJpZ2h04oCdIC8+ICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJTilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcblx0Ly9cblx0Ly8gQ2FwdGlvbmVkIHdpZGdldCAoaW5saW5lIHN0eWxlcylcblx0Ly8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuXHQvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG5cdC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpsZWZ04oCdPiAgICAgICAgICAgIOKUgjxmaWd1cmUgc3R5bGU94oCdZmxvYXQ6bGVmdOKAnSAvPiAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilIIgPGZpZ3VyZSAvPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCY2VudGVy4pSCPHdyYXBwZXIgc3R5bGU94oCddGV4dC1hbGlnbjpjZW50ZXLigJ0+ICAgICDilII8ZGl2IHN0eWxlPeKAnXRleHQtYWxpZ246Y2VudGVy4oCdPiAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgc3R5bGU94oCdZGlzcGxheTppbmxpbmUtYmxvY2vigJ0gLz7ilIIgPGZpZ3VyZSBzdHlsZT3igJ1kaXNwbGF5OmlubGluZS1ibG9ja+KAnSAvPuKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCcmlnaHQg4pSCPHdyYXBwZXIgc3R5bGU94oCdZmxvYXQ6cmlnaHTigJ0+ICAgICAgICAgICDilII8ZmlndXJlIHN0eWxlPeKAnWZsb2F0OnJpZ2h04oCdIC8+ICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJTilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcblx0Ly9cblx0Ly8gQ2FwdGlvbmVkIHdpZGdldCAoY29uZmlnLmFlX2RyYWdyZXNpemVfaWUxMV9hbGlnbkNsYXNzZXMgZGVmaW5lZClcblx0Ly8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuXHQvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG5cdC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBjbGFzcz3igJ1sZWZ04oCdPiAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgY2xhc3M94oCdbGVmdOKAnSAvPiAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilIIgPGZpZ3VyZSAvPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuXHQvLyBcdFx04pSCY2VudGVy4pSCPHdyYXBwZXIgY2xhc3M94oCdY2VudGVy4oCdPiAgICAgICAgICAgICAgICDilII8ZGl2IGNsYXNzPeKAnWNlbnRlcuKAnT4gICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilII8L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcblx0Ly8gXHRcdOKUgnJpZ2h0IOKUgjx3cmFwcGVyIGNsYXNzPeKAnXJpZ2h04oCdPiAgICAgICAgICAgICAgICAg4pSCPGZpZ3VyZSBjbGFzcz3igJ1yaWdodOKAnSAvPiAgICAgICAgICAgICAgICDilIJcblx0Ly8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG5cdC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuXHQvLyBcdFx04pSU4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfVxuXHQvLyBAcmV0dXJucyB7T2JqZWN0fVxuXHRmdW5jdGlvbiB3aWRnZXREZWYoZWRpdG9yKSB7XG5cdFx0Y29uc3QgYWxpZ25DbGFzc2VzID0gZWRpdG9yLmNvbmZpZy5hZV9kcmFncmVzaXplX2llMTFfYWxpZ25DbGFzc2VzO1xuXG5cdFx0Y29uc3QgY2FwdGlvbmVkQ2xhc3MgPSBlZGl0b3IuY29uZmlnLmFlX2RyYWdyZXNpemVfaWUxMV9jYXB0aW9uZWRDbGFzcztcblxuXHRcdGZ1bmN0aW9uIGRlZmxhdGUoKSB7XG5cdFx0XHRpZiAodGhpcy5kZWZsYXRlZCkgcmV0dXJuO1xuXG5cdFx0XHQvLyBSZW1lbWJlciB3aGV0aGVyIHdpZGdldCB3YXMgZm9jdXNlZCBiZWZvcmUgZGVzdHJveWVkLlxuXHRcdFx0aWYgKGVkaXRvci53aWRnZXRzLmZvY3VzZWQgPT0gdGhpcy53aWRnZXQpIHRoaXMuZm9jdXNlZCA9IHRydWU7XG5cblx0XHRcdGVkaXRvci53aWRnZXRzLmRlc3Ryb3kodGhpcy53aWRnZXQpO1xuXG5cdFx0XHQvLyBNYXJrIHdpZGdldCB3YXMgZGVzdHJveWVkLlxuXHRcdFx0dGhpcy5kZWZsYXRlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaW5mbGF0ZSgpIHtcblx0XHRcdGNvbnN0IGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cblx0XHRcdGNvbnN0IGRvYyA9IGVkaXRvci5kb2N1bWVudDtcblxuXHRcdFx0Ly8gQ3JlYXRlIGEgbmV3IHdpZGdldC4gVGhpcyB3aWRnZXQgd2lsbCBiZSBlaXRoZXIgY2FwdGlvbmVkXG5cdFx0XHQvLyBub24tY2FwdGlvbmVkLCBibG9jayBvciBpbmxpbmUgYWNjb3JkaW5nIHRvIHdoYXQgaXMgdGhlXG5cdFx0XHQvLyBuZXcgc3RhdGUgb2YgdGhlIHdpZGdldC5cblx0XHRcdGlmICh0aGlzLmRlZmxhdGVkKSB7XG5cdFx0XHRcdHRoaXMud2lkZ2V0ID0gZWRpdG9yLndpZGdldHMuaW5pdE9uKFxuXHRcdFx0XHRcdHRoaXMuZWxlbWVudCxcblx0XHRcdFx0XHQnaW1hZ2UnLFxuXHRcdFx0XHRcdHRoaXMud2lkZ2V0LmRhdGFcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBPbmNlIHdpZGdldCB3YXMgcmUtY3JlYXRlZCwgaXQgbWF5IGJlY29tZSBhbiBpbmxpbmUgZWxlbWVudCB3aXRob3V0XG5cdFx0XHRcdC8vIGJsb2NrIHdyYXBwZXIgKGkuZS4gd2hlbiB1bmFsaWduZWQsIGVuZCBub3QgY2FwdGlvbmVkKS4gTGV0J3MgZG8gc29tZVxuXHRcdFx0XHQvLyBzb3J0IG9mIGF1dG9wYXJhZ3JhcGhpbmcgaGVyZSAoIzEwODUzKS5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHRoaXMud2lkZ2V0LmlubGluZSAmJlxuXHRcdFx0XHRcdCFuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMud2lkZ2V0LndyYXBwZXIsIGVkaXRhYmxlKVxuXHRcdFx0XHRcdFx0LmJsb2NrXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbnN0IGJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRlZGl0b3IuYWN0aXZlRW50ZXJNb2RlID09IENLRURJVE9SLkVOVEVSX1AgPyAncCcgOiAnZGl2J1xuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YmxvY2sucmVwbGFjZSh0aGlzLndpZGdldC53cmFwcGVyKTtcblx0XHRcdFx0XHR0aGlzLndpZGdldC53cmFwcGVyLm1vdmUoYmxvY2spO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVGhlIGZvY3VzIG11c3QgYmUgdHJhbnNmZXJyZWQgZnJvbSB0aGUgb2xkIG9uZSAoZGVzdHJveWVkKVxuXHRcdFx0XHQvLyB0byB0aGUgbmV3IG9uZSAoanVzdCBjcmVhdGVkKS5cblx0XHRcdFx0aWYgKHRoaXMuZm9jdXNlZCkge1xuXHRcdFx0XHRcdHRoaXMud2lkZ2V0LmZvY3VzKCk7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuZm9jdXNlZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmRlZmxhdGVkO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBub3cgd2lkZ2V0IHdhcyBkZXN0cm95ZWQganVzdCB1cGRhdGUgd3JhcHBlcidzIGFsaWdubWVudC5cblx0XHRcdC8vIEFjY29yZGluZyB0byB0aGUgbmV3IHN0YXRlLlxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHNldFdyYXBwZXJBbGlnbih0aGlzLndpZGdldCwgYWxpZ25DbGFzc2VzKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0YWxsb3dlZENvbnRlbnQ6IGdldFdpZGdldEFsbG93ZWRDb250ZW50KGVkaXRvciksXG5cblx0XHRcdHJlcXVpcmVkQ29udGVudDogJ2ltZ1tzcmMsYWx0XScsXG5cblx0XHRcdGZlYXR1cmVzOiBnZXRXaWRnZXRGZWF0dXJlcyhlZGl0b3IpLFxuXG5cdFx0XHRzdHlsZWFibGVFbGVtZW50czogJ2ltZyBmaWd1cmUnLFxuXG5cdFx0XHQvLyBUaGlzIHdpZGdldCBjb252ZXJ0cyBzdHlsZS1kcml2ZW4gZGltZW5zaW9ucyB0byBhdHRyaWJ1dGVzLlxuXHRcdFx0Y29udGVudFRyYW5zZm9ybWF0aW9uczogW1snaW1nW3dpZHRoXTogc2l6ZVRvQXR0cmlidXRlJ11dLFxuXG5cdFx0XHQvLyBUaGlzIHdpZGdldCBoYXMgYW4gZWRpdGFibGUgY2FwdGlvbi5cblx0XHRcdGVkaXRhYmxlczoge1xuXHRcdFx0XHRjYXB0aW9uOiB7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICdmaWdjYXB0aW9uJyxcblx0XHRcdFx0XHRhbGxvd2VkQ29udGVudDogJ2JyIGVtIHN0cm9uZyBzdWIgc3VwIHUgczsgYVshaHJlZix0YXJnZXRdJyxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cblx0XHRcdHBhcnRzOiB7XG5cdFx0XHRcdGltYWdlOiAnaW1nJyxcblx0XHRcdFx0Y2FwdGlvbjogJ2ZpZ2NhcHRpb24nLFxuXHRcdFx0XHQvLyBwYXJ0cyNsaW5rIGRlZmluZWQgaW4gd2lkZ2V0I2luaXRcblx0XHRcdH0sXG5cblx0XHRcdC8vIFRlbXBsYXRlIG9mIHRoZSB3aWRnZXQ6IHBsYWluIGltYWdlLlxuXHRcdFx0dGVtcGxhdGUsXG5cblx0XHRcdGRhdGEoKSB7XG5cdFx0XHRcdGNvbnN0IGZlYXR1cmVzID0gdGhpcy5mZWF0dXJlcztcblxuXHRcdFx0XHQvLyBJbWFnZSBjYW4ndCBiZSBjYXB0aW9uZWQgd2hlbiBmaWdjYXB0aW9uIGlzIGRpc2FsbG93ZWQgKCMxMTAwNCkuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLmRhdGEuaGFzQ2FwdGlvbiAmJlxuXHRcdFx0XHRcdCFlZGl0b3IuZmlsdGVyLmNoZWNrRmVhdHVyZShmZWF0dXJlcy5jYXB0aW9uKVxuXHRcdFx0XHQpXG5cdFx0XHRcdFx0dGhpcy5kYXRhLmhhc0NhcHRpb24gPSBmYWxzZTtcblxuXHRcdFx0XHQvLyBJbWFnZSBjYW4ndCBiZSBhbGlnbmVkIHdoZW4gZmxvYXRpbmcgaXMgZGlzYWxsb3dlZCAoIzExMDA0KS5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHRoaXMuZGF0YS5hbGlnbiAhPSAnbm9uZScgJiZcblx0XHRcdFx0XHQhZWRpdG9yLmZpbHRlci5jaGVja0ZlYXR1cmUoZmVhdHVyZXMuYWxpZ24pXG5cdFx0XHRcdClcblx0XHRcdFx0XHR0aGlzLmRhdGEuYWxpZ24gPSAnbm9uZSc7XG5cblx0XHRcdFx0Ly8gQ29udmVydCB0aGUgaW50ZXJuYWwgZm9ybSBvZiB0aGUgd2lkZ2V0IGZyb20gdGhlIG9sZCBzdGF0ZSB0byB0aGUgbmV3IG9uZS5cblx0XHRcdFx0dGhpcy5zaGlmdFN0YXRlKHtcblx0XHRcdFx0XHR3aWRnZXQ6IHRoaXMsXG5cdFx0XHRcdFx0ZWxlbWVudDogdGhpcy5lbGVtZW50LFxuXHRcdFx0XHRcdG9sZERhdGE6IHRoaXMub2xkRGF0YSxcblx0XHRcdFx0XHRuZXdEYXRhOiB0aGlzLmRhdGEsXG5cdFx0XHRcdFx0ZGVmbGF0ZSxcblx0XHRcdFx0XHRpbmZsYXRlLFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBVcGRhdGUgd2lkZ2V0LnBhcnRzLmxpbmsgc2luY2UgaXQgd2lsbCBub3QgYXV0by11cGRhdGUgdW5sZXNzIHdpZGdldFxuXHRcdFx0XHQvLyBpcyBkZXN0cm95ZWQgYW5kIHJlLWluaXRlZC5cblx0XHRcdFx0aWYgKCF0aGlzLmRhdGEubGluaykge1xuXHRcdFx0XHRcdGlmICh0aGlzLnBhcnRzLmxpbmspIGRlbGV0ZSB0aGlzLnBhcnRzLmxpbms7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCF0aGlzLnBhcnRzLmxpbmspXG5cdFx0XHRcdFx0XHR0aGlzLnBhcnRzLmxpbmsgPSB0aGlzLnBhcnRzLmltYWdlLmdldFBhcmVudCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5wYXJ0cy5pbWFnZS5zZXRBdHRyaWJ1dGVzKHtcblx0XHRcdFx0XHRzcmM6IHRoaXMuZGF0YS5zcmMsXG5cblx0XHRcdFx0XHQvLyBUaGlzIGludGVybmFsIGlzIHJlcXVpcmVkIGJ5IHRoZSBlZGl0b3IuXG5cdFx0XHRcdFx0J2RhdGEtY2tlLXNhdmVkLXNyYyc6IHRoaXMuZGF0YS5zcmMsXG5cblx0XHRcdFx0XHRhbHQ6IHRoaXMuZGF0YS5hbHQsXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIElmIHNoaWZ0aW5nIG5vbi1jYXB0aW9uZWQgLT4gY2FwdGlvbmVkLCByZW1vdmUgY2xhc3Nlc1xuXHRcdFx0XHQvLyByZWxhdGVkIHRvIHN0eWxlcyBmcm9tIDxpbWcvPi5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHRoaXMub2xkRGF0YSAmJlxuXHRcdFx0XHRcdCF0aGlzLm9sZERhdGEuaGFzQ2FwdGlvbiAmJlxuXHRcdFx0XHRcdHRoaXMuZGF0YS5oYXNDYXB0aW9uXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgYyBpbiB0aGlzLmRhdGEuY2xhc3Nlcykge1xuXHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5kYXRhLmNsYXNzZXMsXG5cdFx0XHRcdFx0XHRcdFx0Y1xuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wYXJ0cy5pbWFnZS5yZW1vdmVDbGFzcyhjKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgZGltZW5zaW9ucyBvZiB0aGUgaW1hZ2UgYWNjb3JkaW5nIHRvIGdhdGhlcmVkIGRhdGEuXG5cdFx0XHRcdC8vIERvIGl0IG9ubHkgd2hlbiB0aGUgYXR0cmlidXRlcyBhcmUgYWxsb3dlZCAoIzExMDA0KS5cblx0XHRcdFx0aWYgKGVkaXRvci5maWx0ZXIuY2hlY2tGZWF0dXJlKGZlYXR1cmVzLmRpbWVuc2lvbikpXG5cdFx0XHRcdFx0c2V0RGltZW5zaW9ucyh0aGlzKTtcblxuXHRcdFx0XHQvLyBDYWNoZSBjdXJyZW50IGRhdGEuXG5cdFx0XHRcdHRoaXMub2xkRGF0YSA9IENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSwgdGhpcy5kYXRhKTtcblx0XHRcdH0sXG5cblx0XHRcdGluaXQoKSB7XG5cdFx0XHRcdGNvbnN0IGhlbHBlcnMgPSBDS0VESVRPUi5wbHVnaW5zLmFlX2RyYWdyZXNpemVfaWUxMTtcblxuXHRcdFx0XHRjb25zdCBpbWFnZSA9IHRoaXMucGFydHMuaW1hZ2U7XG5cblx0XHRcdFx0Y29uc3QgZGF0YSA9IHtcblx0XHRcdFx0XHRoYXNDYXB0aW9uOiAhIXRoaXMucGFydHMuY2FwdGlvbixcblx0XHRcdFx0XHRzcmM6IGltYWdlLmdldEF0dHJpYnV0ZSgnc3JjJyksXG5cdFx0XHRcdFx0YWx0OiBpbWFnZS5nZXRBdHRyaWJ1dGUoJ2FsdCcpIHx8ICcnLFxuXHRcdFx0XHRcdHdpZHRoOiBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykgfHwgJycsXG5cdFx0XHRcdFx0aGVpZ2h0OiBpbWFnZS5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpIHx8ICcnLFxuXG5cdFx0XHRcdFx0Ly8gTG9jayByYXRpbyBpcyBvbiBieSBkZWZhdWx0ICgjMTA4MzMpLlxuXHRcdFx0XHRcdGxvY2s6IHRoaXMucmVhZHlcblx0XHRcdFx0XHRcdD8gaGVscGVycy5jaGVja0hhc05hdHVyYWxSYXRpbyhpbWFnZSlcblx0XHRcdFx0XHRcdDogdHJ1ZSxcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBJZiB3ZSB1c2VkICdhJyBpbiB3aWRnZXQjcGFydHMgZGVmaW5pdGlvbiwgaXQgY291bGQgaGFwcGVuIHRoYXRcblx0XHRcdFx0Ly8gc2VsZWN0ZWQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIHdpZGdldC5wYXJ0cyNjYXB0aW9uLiBTaW5jZSB0aGVyZSdzIG5vIGNsZXZlclxuXHRcdFx0XHQvLyB3YXkgdG8gc29sdmUgaXQgd2l0aCBDU1Mgc2VsZWN0b3JzLCBpdCdzIGRvbmUgbGlrZSB0aGF0LiAoIzExNzgzKS5cblx0XHRcdFx0Y29uc3QgbGluayA9IGltYWdlLmdldEFzY2VuZGFudCgnYScpO1xuXG5cdFx0XHRcdGlmIChsaW5rICYmIHRoaXMud3JhcHBlci5jb250YWlucyhsaW5rKSkgdGhpcy5wYXJ0cy5saW5rID0gbGluaztcblxuXHRcdFx0XHQvLyBEZXBlbmRpbmcgb24gY29uZmlndXJhdGlvbiwgcmVhZCBzdHlsZS9jbGFzcyBmcm9tIGVsZW1lbnQgYW5kXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIGl0LiBSZW1vdmVkIHN0eWxlL2NsYXNzIHdpbGwgYmUgc2V0IG9uIHdyYXBwZXIgaW4gI2RhdGEgbGlzdGVuZXIuXG5cdFx0XHRcdC8vIE5vdGU6IENlbnRlciBhbGlnbm1lbnQgaXMgZGV0ZWN0ZWQgZHVyaW5nIHVwY2FzdCwgc28gb25seSBsZWZ0L3JpZ2h0IGNhc2VzXG5cdFx0XHRcdC8vIGFyZSBjaGVja2VkIGJlbG93LlxuXHRcdFx0XHRpZiAoIWRhdGEuYWxpZ24pIHtcblx0XHRcdFx0XHRjb25zdCBhbGlnbkVsZW1lbnQgPSBkYXRhLmhhc0NhcHRpb24gPyB0aGlzLmVsZW1lbnQgOiBpbWFnZTtcblxuXHRcdFx0XHRcdC8vIFJlYWQgdGhlIGluaXRpYWwgbGVmdC9yaWdodCBhbGlnbm1lbnQgZnJvbSB0aGUgY2xhc3Mgc2V0IG9uIGVsZW1lbnQuXG5cdFx0XHRcdFx0aWYgKGFsaWduQ2xhc3Nlcykge1xuXHRcdFx0XHRcdFx0aWYgKGFsaWduRWxlbWVudC5oYXNDbGFzcyhhbGlnbkNsYXNzZXNbMF0pKSB7XG5cdFx0XHRcdFx0XHRcdGRhdGEuYWxpZ24gPSAnbGVmdCc7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGFsaWduRWxlbWVudC5oYXNDbGFzcyhhbGlnbkNsYXNzZXNbMl0pKSB7XG5cdFx0XHRcdFx0XHRcdGRhdGEuYWxpZ24gPSAncmlnaHQnO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoZGF0YS5hbGlnbikge1xuXHRcdFx0XHRcdFx0XHRhbGlnbkVsZW1lbnQucmVtb3ZlQ2xhc3MoXG5cdFx0XHRcdFx0XHRcdFx0YWxpZ25DbGFzc2VzW2FsaWdubWVudHNPYmpbZGF0YS5hbGlnbl1dXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRkYXRhLmFsaWduID0gJ25vbmUnO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBSZWFkIGluaXRpYWwgZmxvYXQgc3R5bGUgZnJvbSBmaWd1cmUvaW1hZ2UgYW5kIHRoZW4gcmVtb3ZlIGl0LlxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGF0YS5hbGlnbiA9IGFsaWduRWxlbWVudC5nZXRTdHlsZSgnZmxvYXQnKSB8fCAnbm9uZSc7XG5cdFx0XHRcdFx0XHRhbGlnbkVsZW1lbnQucmVtb3ZlU3R5bGUoJ2Zsb2F0Jyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVXBkYXRlIGRhdGEubGluayBvYmplY3Qgd2l0aCBhdHRyaWJ1dGVzIGlmIHRoZSBsaW5rIGhhcyBiZWVuIGRpc2NvdmVyZWQuXG5cdFx0XHRcdGlmIChlZGl0b3IucGx1Z2lucy5saW5rICYmIHRoaXMucGFydHMubGluaykge1xuXHRcdFx0XHRcdGRhdGEubGluayA9IGhlbHBlcnMuZ2V0TGlua0F0dHJpYnV0ZXNQYXJzZXIoKShcblx0XHRcdFx0XHRcdGVkaXRvcixcblx0XHRcdFx0XHRcdHRoaXMucGFydHMubGlua1xuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHQvLyBHZXQgcmlkIG9mIGNrZV93aWRnZXRfKiBjbGFzc2VzIGluIGRhdGEuIE90aGVyd2lzZVxuXHRcdFx0XHRcdC8vIHRoZXkgbWlnaHQgYXBwZWFyIGluIGxpbmsgZGlhbG9nLlxuXHRcdFx0XHRcdGNvbnN0IGFkdmFuY2VkID0gZGF0YS5saW5rLmFkdmFuY2VkO1xuXHRcdFx0XHRcdGlmIChhZHZhbmNlZCAmJiBhZHZhbmNlZC5hZHZDU1NDbGFzc2VzKSB7XG5cdFx0XHRcdFx0XHRhZHZhbmNlZC5hZHZDU1NDbGFzc2VzID0gQ0tFRElUT1IudG9vbHMudHJpbShcblx0XHRcdFx0XHRcdFx0YWR2YW5jZWQuYWR2Q1NTQ2xhc3Nlcy5yZXBsYWNlKC9ja2VfXFxTKy8sICcnKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgcmlkIG9mIGV4dHJhIHZlcnRpY2FsIHNwYWNlIHdoZW4gdGhlcmUncyBubyBjYXB0aW9uLlxuXHRcdFx0XHQvLyBJdCB3aWxsIGltcHJvdmUgdGhlIGxvb2sgb2YgdGhlIHJlc2l6ZXIuXG5cdFx0XHRcdHRoaXMud3JhcHBlclsoZGF0YS5oYXNDYXB0aW9uID8gJ3JlbW92ZScgOiAnYWRkJykgKyAnQ2xhc3MnXShcblx0XHRcdFx0XHQnY2tlX2ltYWdlX25vY2FwdGlvbidcblx0XHRcdFx0KTtcblxuXHRcdFx0XHR0aGlzLnNldERhdGEoZGF0YSk7XG5cblx0XHRcdFx0Ly8gU2V0dXAgZHluYW1pYyBpbWFnZSByZXNpemluZyB3aXRoIG1vdXNlLlxuXHRcdFx0XHQvLyBEb24ndCBpbml0aWFsaXplIHJlc2l6ZXIgd2hlbiBkaW1lbnNpb25zIGFyZSBkaXNhbGxvd2VkICgjMTEwMDQpLlxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0ZWRpdG9yLmZpbHRlci5jaGVja0ZlYXR1cmUodGhpcy5mZWF0dXJlcy5kaW1lbnNpb24pICYmXG5cdFx0XHRcdFx0ZWRpdG9yLmNvbmZpZy5hZV9kcmFncmVzaXplX2llMTFfZGlzYWJsZVJlc2l6ZXIgIT09IHRydWVcblx0XHRcdFx0KVxuXHRcdFx0XHRcdHNldHVwUmVzaXplcih0aGlzKTtcblxuXHRcdFx0XHRjb25zdCBkcmFnSGFuZGxlclN0eWxlID0gdGhpcy5kcmFnSGFuZGxlckNvbnRhaW5lci4kLnN0eWxlO1xuXHRcdFx0XHRkcmFnSGFuZGxlclN0eWxlLnNldEF0dHJpYnV0ZShcblx0XHRcdFx0XHQnYmFja2dyb3VuZENvbG9yJyxcblx0XHRcdFx0XHQncmdiYSgyNTUsIDI1NSwgMjU1LCAxJ1xuXHRcdFx0XHQpO1xuXHRcdFx0XHRkcmFnSGFuZGxlclN0eWxlLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsICcxJyk7XG5cblx0XHRcdFx0dGhpcy5zaGlmdFN0YXRlID0gaGVscGVycy5zdGF0ZVNoaWZ0ZXIodGhpcy5lZGl0b3IpO1xuXG5cdFx0XHRcdC8vIEFkZCB3aWRnZXQgZWRpdGluZyBvcHRpb24gdG8gaXRzIGNvbnRleHQgbWVudS5cblx0XHRcdFx0dGhpcy5vbignY29udGV4dE1lbnUnLCBmdW5jdGlvbihldnQpIHtcblx0XHRcdFx0XHRldnQuZGF0YS5pbWFnZSA9IENLRURJVE9SLlRSSVNUQVRFX09GRjtcblxuXHRcdFx0XHRcdC8vIEludGVncmF0ZSBjb250ZXh0IG1lbnUgaXRlbXMgZm9yIGxpbmsuXG5cdFx0XHRcdFx0Ly8gTm90ZSB0aGF0IHdpZGdldCBtYXkgYmUgd3JhcHBlZCBpbiBhIGxpbmssIHdoaWNoXG5cdFx0XHRcdFx0Ly8gZG9lcyBub3QgYmVsb25nIHRvIHRoYXQgd2lkZ2V0ICgjMTE4MTQpLlxuXHRcdFx0XHRcdGlmICh0aGlzLnBhcnRzLmxpbmsgfHwgdGhpcy53cmFwcGVyLmdldEFzY2VuZGFudCgnYScpKVxuXHRcdFx0XHRcdFx0ZXZ0LmRhdGEubGluayA9IGV2dC5kYXRhLnVubGluayA9IENLRURJVE9SLlRSSVNUQVRFX09GRjtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBPdmVycmlkZXMgZGVmYXVsdCBtZXRob2QgdG8gaGFuZGxlIGludGVybmFsIG11dGFiaWxpdHkgb2YgYWVfZHJhZ3Jlc2l6ZV9pZTExLlxuXHRcdFx0Ly8gQHNlZSBDS0VESVRPUi5wbHVnaW5zLndpZGdldCNhZGRDbGFzc1xuXHRcdFx0YWRkQ2xhc3MoY2xhc3NOYW1lKSB7XG5cdFx0XHRcdGdldFN0eWxlYWJsZUVsZW1lbnQodGhpcykuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcblx0XHRcdH0sXG5cblx0XHRcdC8vIE92ZXJyaWRlcyBkZWZhdWx0IG1ldGhvZCB0byBoYW5kbGUgaW50ZXJuYWwgbXV0YWJpbGl0eSBvZiBhZV9kcmFncmVzaXplX2llMTEuXG5cdFx0XHQvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I2hhc0NsYXNzXG5cdFx0XHRoYXNDbGFzcyhjbGFzc05hbWUpIHtcblx0XHRcdFx0cmV0dXJuIGdldFN0eWxlYWJsZUVsZW1lbnQodGhpcykuaGFzQ2xhc3MoY2xhc3NOYW1lKTtcblx0XHRcdH0sXG5cblx0XHRcdC8vIE92ZXJyaWRlcyBkZWZhdWx0IG1ldGhvZCB0byBoYW5kbGUgaW50ZXJuYWwgbXV0YWJpbGl0eSBvZiBhZV9kcmFncmVzaXplX2llMTEuXG5cdFx0XHQvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I3JlbW92ZUNsYXNzXG5cdFx0XHRyZW1vdmVDbGFzcyhjbGFzc05hbWUpIHtcblx0XHRcdFx0Z2V0U3R5bGVhYmxlRWxlbWVudCh0aGlzKS5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gT3ZlcnJpZGVzIGRlZmF1bHQgbWV0aG9kIHRvIGhhbmRsZSBpbnRlcm5hbCBtdXRhYmlsaXR5IG9mIGFlX2RyYWdyZXNpemVfaWUxMS5cblx0XHRcdC8vIEBzZWUgQ0tFRElUT1IucGx1Z2lucy53aWRnZXQjZ2V0Q2xhc3Nlc1xuXHRcdFx0Z2V0Q2xhc3NlczogKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zdCBjbGFzc1JlZ2V4ID0gbmV3IFJlZ0V4cChcblx0XHRcdFx0XHQnXignICtcblx0XHRcdFx0XHRcdFtdLmNvbmNhdChjYXB0aW9uZWRDbGFzcywgYWxpZ25DbGFzc2VzKS5qb2luKCd8JykgK1xuXHRcdFx0XHRcdFx0JykkJ1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjb25zdCBjbGFzc2VzID0gdGhpcy5yZXBvc2l0b3J5LnBhcnNlRWxlbWVudENsYXNzZXMoXG5cdFx0XHRcdFx0XHRnZXRTdHlsZWFibGVFbGVtZW50KHRoaXMpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKVxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHQvLyBOZWl0aGVyIGNvbmZpZy5hZV9kcmFncmVzaXplX2llMTFfY2FwdGlvbmVkQ2xhc3Mgbm9yIGNvbmZpZy5hZV9kcmFncmVzaXplX2llMTFfYWxpZ25DbGFzc2VzXG5cdFx0XHRcdFx0Ly8gZG8gbm90IGJlbG9uZyB0byBzdHlsZSBjbGFzc2VzLlxuXHRcdFx0XHRcdGZvciAoY29uc3QgYyBpbiBjbGFzc2VzKSB7XG5cdFx0XHRcdFx0XHRpZiAoY2xhc3NSZWdleC50ZXN0KGMpKSBkZWxldGUgY2xhc3Nlc1tjXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY2xhc3Nlcztcblx0XHRcdFx0fTtcblx0XHRcdH0pKCksXG5cblx0XHRcdHVwY2FzdDogdXBjYXN0V2lkZ2V0RWxlbWVudChlZGl0b3IpLFxuXHRcdFx0ZG93bmNhc3Q6IGRvd25jYXN0V2lkZ2V0RWxlbWVudChlZGl0b3IpLFxuXG5cdFx0XHRnZXRMYWJlbCgpIHtcblx0XHRcdFx0Y29uc3QgbGFiZWwgPSAodGhpcy5kYXRhLmFsdCB8fCAnJykgKyAnICcgKyB0aGlzLnBhdGhOYW1lO1xuXG5cdFx0XHRcdHJldHVybiB0aGlzLmVkaXRvci5sYW5nLndpZGdldC5sYWJlbC5yZXBsYWNlKC8lMS8sIGxhYmVsKTtcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNldCBvZiBFbmhhbmNlZCBJbWFnZSAoYWVfZHJhZ3Jlc2l6ZV9pZTExKSBwbHVnaW4gaGVscGVycy5cblx0ICpcblx0ICogQGNsYXNzXG5cdCAqIEBzaW5nbGV0b25cblx0ICovXG5cdENLRURJVE9SLnBsdWdpbnMuYWVfZHJhZ3Jlc2l6ZV9pZTExID0ge1xuXHRcdHN0YXRlU2hpZnRlcihlZGl0b3IpIHtcblx0XHRcdC8vIFRhZyBuYW1lIHVzZWQgZm9yIGNlbnRlcmluZyBub24tY2FwdGlvbmVkIHdpZGdldHMuXG5cdFx0XHRjb25zdCBkb2MgPSBlZGl0b3IuZG9jdW1lbnQ7XG5cblx0XHRcdGNvbnN0IGFsaWduQ2xhc3NlcyA9IGVkaXRvci5jb25maWcuYWVfZHJhZ3Jlc2l6ZV9pZTExX2FsaWduQ2xhc3NlcztcblxuXHRcdFx0Y29uc3QgY2FwdGlvbmVkQ2xhc3MgPVxuXHRcdFx0XHRlZGl0b3IuY29uZmlnLmFlX2RyYWdyZXNpemVfaWUxMV9jYXB0aW9uZWRDbGFzcztcblxuXHRcdFx0Y29uc3QgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuXHRcdFx0Ly8gVGhlIG9yZGVyIHRoYXQgc3RhdGVBY3Rpb25zIGdldCBleGVjdXRlZC4gSXQgbWF0dGVycyFcblxuXHRcdFx0Y29uc3Qgc2hpZnRhYmxlcyA9IFsnaGFzQ2FwdGlvbicsICdhbGlnbicsICdsaW5rJ107XG5cblx0XHRcdC8vIEF0b21pYyBwcm9jZWR1cmVzLCBvbmUgcGVyIHN0YXRlIHZhcmlhYmxlLlxuXHRcdFx0Y29uc3Qgc3RhdGVBY3Rpb25zID0ge1xuXHRcdFx0XHRhbGlnbihzaGlmdCwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG5cdFx0XHRcdFx0Y29uc3QgZWwgPSBzaGlmdC5lbGVtZW50O1xuXG5cdFx0XHRcdFx0Ly8gQWxpZ25tZW50IGNoYW5nZWQuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0c2hpZnQuY2hhbmdlZC5hbGlnbiB8fFxuXHRcdFx0XHRcdFx0KGVsLiQuc3R5bGUubWFyZ2luTGVmdCA9PT0gJ2F1dG8nICYmXG5cdFx0XHRcdFx0XHRcdGVsLiQuc3R5bGUubWFyZ2luUmlnaHQgPT09ICdhdXRvJylcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdC8vIE5vIGNhcHRpb24gaW4gdGhlIG5ldyBzdGF0ZS5cblx0XHRcdFx0XHRcdGlmICghc2hpZnQubmV3RGF0YS5oYXNDYXB0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdC8vIENoYW5nZWQgdG8gXCJjZW50ZXJcIiAobm9uLWNhcHRpb25lZCkuXG5cdFx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0XHRuZXdWYWx1ZSA9PSAnY2VudGVyJyB8fFxuXHRcdFx0XHRcdFx0XHRcdChlbC4kLnN0eWxlLm1hcmdpbkxlZnQgPT09ICdhdXRvJyAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0ZWwuJC5zdHlsZS5tYXJnaW5SaWdodCA9PT0gJ2F1dG8nKVxuXHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHRzaGlmdC5kZWZsYXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0c2hpZnQuZWxlbWVudCA9IHdyYXBJbkNlbnRlcmluZyhlZGl0b3IsIGVsKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIENoYW5nZWQgdG8gXCJub24tY2VudGVyXCIgZnJvbSBcImNlbnRlclwiIHdoaWxlIGNhcHRpb24gcmVtb3ZlZC5cblx0XHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHRcdCFzaGlmdC5jaGFuZ2VkLmhhc0NhcHRpb24gJiZcblx0XHRcdFx0XHRcdFx0XHRvbGRWYWx1ZSA9PSAnY2VudGVyJyAmJlxuXHRcdFx0XHRcdFx0XHRcdG5ld1ZhbHVlICE9ICdjZW50ZXInXG5cdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdHNoaWZ0LmRlZmxhdGUoKTtcblx0XHRcdFx0XHRcdFx0XHRzaGlmdC5lbGVtZW50ID0gdW53cmFwRnJvbUNlbnRlcmluZyhlbCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBBbGlnbm1lbnQgcmVtYWlucyBhbmQgXCJjZW50ZXJcIiByZW1vdmVkIGNhcHRpb24uXG5cdFx0XHRcdFx0ZWxzZSBpZiAoXG5cdFx0XHRcdFx0XHRuZXdWYWx1ZSA9PSAnY2VudGVyJyAmJlxuXHRcdFx0XHRcdFx0c2hpZnQuY2hhbmdlZC5oYXNDYXB0aW9uICYmXG5cdFx0XHRcdFx0XHQhc2hpZnQubmV3RGF0YS5oYXNDYXB0aW9uXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRzaGlmdC5kZWZsYXRlKCk7XG5cdFx0XHRcdFx0XHRzaGlmdC5lbGVtZW50ID0gd3JhcEluQ2VudGVyaW5nKGVkaXRvciwgZWwpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEZpbmFsbHkgc2V0IGRpc3BsYXkgZm9yIGZpZ3VyZS5cblx0XHRcdFx0XHRpZiAoIWFsaWduQ2xhc3NlcyAmJiBlbC5pcygnZmlndXJlJykpIHtcblx0XHRcdFx0XHRcdGlmIChuZXdWYWx1ZSA9PSAnY2VudGVyJylcblx0XHRcdFx0XHRcdFx0ZWwuc2V0U3R5bGUoJ2Rpc3BsYXknLCAnaW5saW5lLWJsb2NrJyk7XG5cdFx0XHRcdFx0XHRlbHNlIGVsLnJlbW92ZVN0eWxlKCdkaXNwbGF5Jyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdGhhc0NhcHRpb24oc2hpZnQsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0XHRcdC8vIFRoaXMgYWN0aW9uIGlzIGZvciByZWFsIHN0YXRlIGNoYW5nZSBvbmx5LlxuXHRcdFx0XHRcdGlmICghc2hpZnQuY2hhbmdlZC5oYXNDYXB0aW9uKSByZXR1cm47XG5cblx0XHRcdFx0XHQvLyBHZXQgPGltZy8+IG9yIDxhPjxpbWcvPjwvYT4gZnJvbSB3aWRnZXQuIE5vdGUgdGhhdCB3aWRnZXQgZWxlbWVudCBtaWdodCBpdHNlbGZcblx0XHRcdFx0XHQvLyBiZSB3aGF0IHdlJ3JlIGxvb2tpbmcgZm9yLiBBbHNvIGVsZW1lbnQgY2FuIGJlIDxwIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48YT4uLi48L2E+PC9wPi5cblx0XHRcdFx0XHRsZXQgaW1hZ2VPckxpbms7XG5cdFx0XHRcdFx0aWYgKHNoaWZ0LmVsZW1lbnQuaXMoe2ltZzogMSwgYTogMX0pKVxuXHRcdFx0XHRcdFx0aW1hZ2VPckxpbmsgPSBzaGlmdC5lbGVtZW50O1xuXHRcdFx0XHRcdGVsc2UgaW1hZ2VPckxpbmsgPSBzaGlmdC5lbGVtZW50LmZpbmRPbmUoJ2EsaW1nJyk7XG5cblx0XHRcdFx0XHQvLyBTd2l0Y2hpbmcgaGFzQ2FwdGlvbiBhbHdheXMgZGVzdHJveXMgdGhlIHdpZGdldC5cblx0XHRcdFx0XHRzaGlmdC5kZWZsYXRlKCk7XG5cblx0XHRcdFx0XHQvLyBUaGVyZSB3YXMgbm8gY2FwdGlvbiwgYnV0IHRoZSBjYXB0aW9uIGlzIHRvIGJlIGFkZGVkLlxuXHRcdFx0XHRcdGlmIChuZXdWYWx1ZSkge1xuXHRcdFx0XHRcdFx0Ly8gQ3JlYXRlIG5ldyA8ZmlndXJlPiBmcm9tIHdpZGdldCB0ZW1wbGF0ZS5cblx0XHRcdFx0XHRcdGNvbnN0IGZpZ3VyZSA9IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZUJsb2NrLm91dHB1dCh7XG5cdFx0XHRcdFx0XHRcdFx0Y2FwdGlvbmVkQ2xhc3MsXG5cdFx0XHRcdFx0XHRcdFx0Y2FwdGlvblBsYWNlaG9sZGVyOlxuXHRcdFx0XHRcdFx0XHRcdFx0ZWRpdG9yLmxhbmcuYWVfZHJhZ3Jlc2l6ZV9pZTExXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5jYXB0aW9uUGxhY2Vob2xkZXIsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHRkb2Ncblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIFJlcGxhY2UgZWxlbWVudCB3aXRoIDxmaWd1cmU+LlxuXHRcdFx0XHRcdFx0cmVwbGFjZVNhZmVseShmaWd1cmUsIHNoaWZ0LmVsZW1lbnQpO1xuXG5cdFx0XHRcdFx0XHQvLyBVc2Ugb2xkIDxpbWcvPiBvciA8YT48aW1nLz48L2E+IGluc3RlYWQgb2YgdGhlIG9uZSBmcm9tIHRoZSB0ZW1wbGF0ZSxcblx0XHRcdFx0XHRcdC8vIHNvIHdlIHdvbid0IGxvc2UgYWRkaXRpb25hbCBhdHRyaWJ1dGVzLlxuXHRcdFx0XHRcdFx0aW1hZ2VPckxpbmsucmVwbGFjZShmaWd1cmUuZmluZE9uZSgnaW1nJykpO1xuXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgd2lkZ2V0J3MgZWxlbWVudC5cblx0XHRcdFx0XHRcdHNoaWZ0LmVsZW1lbnQgPSBmaWd1cmU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVGhlIGNhcHRpb24gd2FzIHByZXNlbnQsIGJ1dCBub3cgaXQncyB0byBiZSByZW1vdmVkLlxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gVW53cmFwIDxpbWcvPiBvciA8YT48aW1nLz48L2E+IGZyb20gZmlndXJlLlxuXHRcdFx0XHRcdFx0aW1hZ2VPckxpbmsucmVwbGFjZShzaGlmdC5lbGVtZW50KTtcblxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHdpZGdldCdzIGVsZW1lbnQuXG5cdFx0XHRcdFx0XHRzaGlmdC5lbGVtZW50ID0gaW1hZ2VPckxpbms7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdGxpbmsoc2hpZnQsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0XHRcdGlmIChzaGlmdC5jaGFuZ2VkLmxpbmspIHtcblx0XHRcdFx0XHRcdGNvbnN0IGltZyA9IHNoaWZ0LmVsZW1lbnQuaXMoJ2ltZycpXG5cdFx0XHRcdFx0XHRcdD8gc2hpZnQuZWxlbWVudFxuXHRcdFx0XHRcdFx0XHQ6IHNoaWZ0LmVsZW1lbnQuZmluZE9uZSgnaW1nJyk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGxpbmsgPSBzaGlmdC5lbGVtZW50LmlzKCdhJylcblx0XHRcdFx0XHRcdFx0PyBzaGlmdC5lbGVtZW50XG5cdFx0XHRcdFx0XHRcdDogc2hpZnQuZWxlbWVudC5maW5kT25lKCdhJyk7XG5cblx0XHRcdFx0XHRcdC8vIFdoeSBkZWZsYXRlOlxuXHRcdFx0XHRcdFx0Ly8gSWYgZWxlbWVudCBpcyA8aW1nLz4sIGl0IHdpbGwgYmUgd3JhcHBlZCBpbnRvIDxhPixcblx0XHRcdFx0XHRcdC8vIHdoaWNoIGJlY29tZXMgYSBuZXcgd2lkZ2V0LmVsZW1lbnQuXG5cdFx0XHRcdFx0XHQvLyBJZiBlbGVtZW50IGlzIDxhPjxpbWcvPjwvYT4sIGl0IHdpbGwgYmUgdW5saW5rZWRcblx0XHRcdFx0XHRcdC8vIHNvIDxpbWcvPiBiZWNvbWVzIGEgbmV3IHdpZGdldC5lbGVtZW50LlxuXG5cdFx0XHRcdFx0XHRjb25zdCBuZWVkc0RlZmxhdGUgPVxuXHRcdFx0XHRcdFx0XHQoc2hpZnQuZWxlbWVudC5pcygnYScpICYmICFuZXdWYWx1ZSkgfHxcblx0XHRcdFx0XHRcdFx0KHNoaWZ0LmVsZW1lbnQuaXMoJ2ltZycpICYmIG5ld1ZhbHVlKTtcblxuXHRcdFx0XHRcdFx0bGV0IG5ld0VsO1xuXG5cdFx0XHRcdFx0XHRpZiAobmVlZHNEZWZsYXRlKSBzaGlmdC5kZWZsYXRlKCk7XG5cblx0XHRcdFx0XHRcdC8vIElmIHVubGlua2VkIHRoZSBpbWFnZSwgcmV0dXJuZWQgZWxlbWVudCBpcyA8aW1nPi5cblx0XHRcdFx0XHRcdGlmICghbmV3VmFsdWUpIG5ld0VsID0gdW53cmFwRnJvbUxpbmsobGluayk7XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gSWYgbGlua2VkIHRoZSBpbWFnZSwgcmV0dXJuZWQgZWxlbWVudCBpcyA8YT4uXG5cdFx0XHRcdFx0XHRcdGlmICghb2xkVmFsdWUpXG5cdFx0XHRcdFx0XHRcdFx0bmV3RWwgPSB3cmFwSW5MaW5rKGltZywgc2hpZnQubmV3RGF0YS5saW5rKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZXQgYW5kIHJlbW92ZSBhbGwgYXR0cmlidXRlcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBzdGF0ZS5cblx0XHRcdFx0XHRcdFx0Y29uc3QgYXR0cmlidXRlcyA9IENLRURJVE9SLnBsdWdpbnMuYWVfZHJhZ3Jlc2l6ZV9pZTExLmdldExpbmtBdHRyaWJ1dGVzR2V0dGVyKCkoXG5cdFx0XHRcdFx0XHRcdFx0ZWRpdG9yLFxuXHRcdFx0XHRcdFx0XHRcdG5ld1ZhbHVlXG5cdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCFDS0VESVRPUi50b29scy5pc0VtcHR5KGF0dHJpYnV0ZXMuc2V0KSlcblx0XHRcdFx0XHRcdFx0XHQobmV3RWwgfHwgbGluaykuc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzLnNldCk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGF0dHJpYnV0ZXMucmVtb3ZlZC5sZW5ndGgpXG5cdFx0XHRcdFx0XHRcdFx0KG5ld0VsIHx8IGxpbmspLnJlbW92ZUF0dHJpYnV0ZXMoXG5cdFx0XHRcdFx0XHRcdFx0XHRhdHRyaWJ1dGVzLnJlbW92ZWRcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAobmVlZHNEZWZsYXRlKSBzaGlmdC5lbGVtZW50ID0gbmV3RWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblxuXHRcdFx0ZnVuY3Rpb24gd3JhcEluQ2VudGVyaW5nKGVkaXRvciwgZWxlbWVudCkge1xuXHRcdFx0XHRjb25zdCBhdHRyaWJzQW5kU3R5bGVzID0ge307XG5cblx0XHRcdFx0aWYgKGFsaWduQ2xhc3Nlcylcblx0XHRcdFx0XHRhdHRyaWJzQW5kU3R5bGVzLmF0dHJpYnV0ZXMgPSB7Y2xhc3M6IGFsaWduQ2xhc3Nlc1sxXX07XG5cdFx0XHRcdGVsc2UgYXR0cmlic0FuZFN0eWxlcy5zdHlsZXMgPSB7J3RleHQtYWxpZ24nOiAnY2VudGVyJ307XG5cblx0XHRcdFx0Ly8gVGhlcmUncyBubyBnZW50bGUgd2F5IHRvIGNlbnRlciBpbmxpbmUgZWxlbWVudCB3aXRoIENTUywgc28gY3JlYXRlIHAvZGl2XG5cdFx0XHRcdC8vIHRoYXQgd3JhcHMgd2lkZ2V0IGNvbnRlbnRzIGFuZCBkb2VzIHRoZSB0cmljayBlaXRoZXIgd2l0aCBzdHlsZSBvciBjbGFzcy5cblx0XHRcdFx0Y29uc3QgY2VudGVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0ZWRpdG9yLmFjdGl2ZUVudGVyTW9kZSA9PSBDS0VESVRPUi5FTlRFUl9QID8gJ3AnIDogJ2RpdicsXG5cdFx0XHRcdFx0YXR0cmlic0FuZFN0eWxlc1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIFJlcGxhY2UgZWxlbWVudCB3aXRoIGNlbnRlcmluZyB3cmFwcGVyLlxuXHRcdFx0XHRyZXBsYWNlU2FmZWx5KGNlbnRlciwgZWxlbWVudCk7XG5cdFx0XHRcdGVsZW1lbnQubW92ZShjZW50ZXIpO1xuXG5cdFx0XHRcdHJldHVybiBjZW50ZXI7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIHVud3JhcEZyb21DZW50ZXJpbmcoZWxlbWVudCkge1xuXHRcdFx0XHRjb25zdCBpbWFnZU9yTGluayA9IGVsZW1lbnQuZmluZE9uZSgnYSxpbWcnKTtcblxuXHRcdFx0XHRpbWFnZU9yTGluay5yZXBsYWNlKGVsZW1lbnQpO1xuXG5cdFx0XHRcdHJldHVybiBpbWFnZU9yTGluaztcblx0XHRcdH1cblxuXHRcdFx0Ly8gV3JhcHMgPGltZy8+IC0+IDxhPjxpbWcvPjwvYT4uXG5cdFx0XHQvLyBSZXR1cm5zIHJlZmVyZW5jZSB0byA8YT4uXG5cdFx0XHQvL1xuXHRcdFx0Ly8gQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gaW1nXG5cdFx0XHQvLyBAcGFyYW0ge09iamVjdH0gbGlua0RhdGFcblx0XHRcdC8vIEByZXR1cm5zIHtDS0VESVRPUi5kb20uZWxlbWVudH1cblx0XHRcdGZ1bmN0aW9uIHdyYXBJbkxpbmsoaW1nLCBsaW5rRGF0YSkge1xuXHRcdFx0XHRjb25zdCBsaW5rID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG5cdFx0XHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRcdFx0aHJlZjogbGlua0RhdGEudXJsLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGxpbmsucmVwbGFjZShpbWcpO1xuXHRcdFx0XHRpbWcubW92ZShsaW5rKTtcblxuXHRcdFx0XHRyZXR1cm4gbGluaztcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGUtd3JhcHMgPGE+PGltZy8+PC9hPiAtPiA8aW1nLz4uXG5cdFx0XHQvLyBSZXR1cm5zIHRoZSByZWZlcmVuY2UgdG8gPGltZy8+XG5cdFx0XHQvL1xuXHRcdFx0Ly8gQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gbGlua1xuXHRcdFx0Ly8gQHJldHVybnMge0NLRURJVE9SLmRvbS5lbGVtZW50fVxuXHRcdFx0ZnVuY3Rpb24gdW53cmFwRnJvbUxpbmsobGluaykge1xuXHRcdFx0XHRjb25zdCBpbWcgPSBsaW5rLmZpbmRPbmUoJ2ltZycpO1xuXG5cdFx0XHRcdGltZy5yZXBsYWNlKGxpbmspO1xuXG5cdFx0XHRcdHJldHVybiBpbWc7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIHJlcGxhY2VTYWZlbHkocmVwbGFjaW5nLCByZXBsYWNlZCkge1xuXHRcdFx0XHRpZiAocmVwbGFjZWQuZ2V0UGFyZW50KCkpIHtcblx0XHRcdFx0XHRjb25zdCByYW5nZSA9IGVkaXRvci5jcmVhdGVSYW5nZSgpO1xuXG5cdFx0XHRcdFx0cmFuZ2UubW92ZVRvUG9zaXRpb24oXG5cdFx0XHRcdFx0XHRyZXBsYWNlZCxcblx0XHRcdFx0XHRcdENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHQvLyBSZW1vdmUgb2xkIGVsZW1lbnQuIERvIGl0IGJlZm9yZSBpbnNlcnRpb24gdG8gYXZvaWQgYSBjYXNlIHdoZW5cblx0XHRcdFx0XHQvLyBlbGVtZW50IGlzIG1vdmVkIGZyb20gJ3JlcGxhY2VkJyBlbGVtZW50IGJlZm9yZSBpdCwgd2hhdCBjcmVhdGVzXG5cdFx0XHRcdFx0Ly8gYSB0cmlja3kgY2FzZSB3aGljaCBpbnNlcnRFbGVtZW50SW50b3JSYW5nZSBkb2VzIG5vdCBoYW5kbGUuXG5cdFx0XHRcdFx0cmVwbGFjZWQucmVtb3ZlKCk7XG5cblx0XHRcdFx0XHRlZGl0YWJsZS5pbnNlcnRFbGVtZW50SW50b1JhbmdlKHJlcGxhY2luZywgcmFuZ2UpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlcGxhY2luZy5yZXBsYWNlKHJlcGxhY2VkKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oc2hpZnQpIHtcblx0XHRcdFx0bGV0IG5hbWU7XG5cdFx0XHRcdGxldCBpO1xuXG5cdFx0XHRcdHNoaWZ0LmNoYW5nZWQgPSB7fTtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgc2hpZnRhYmxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdG5hbWUgPSBzaGlmdGFibGVzW2ldO1xuXG5cdFx0XHRcdFx0c2hpZnQuY2hhbmdlZFtuYW1lXSA9IHNoaWZ0Lm9sZERhdGFcblx0XHRcdFx0XHRcdD8gc2hpZnQub2xkRGF0YVtuYW1lXSAhPT0gc2hpZnQubmV3RGF0YVtuYW1lXVxuXHRcdFx0XHRcdFx0OiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEl0ZXJhdGUgb3ZlciBwb3NzaWJsZSBzdGF0ZSB2YXJpYWJsZXMuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBzaGlmdGFibGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0bmFtZSA9IHNoaWZ0YWJsZXNbaV07XG5cblx0XHRcdFx0XHRzdGF0ZUFjdGlvbnNbbmFtZV0oXG5cdFx0XHRcdFx0XHRzaGlmdCxcblx0XHRcdFx0XHRcdHNoaWZ0Lm9sZERhdGEgPyBzaGlmdC5vbGREYXRhW25hbWVdIDogbnVsbCxcblx0XHRcdFx0XHRcdHNoaWZ0Lm5ld0RhdGFbbmFtZV1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2hpZnQuaW5mbGF0ZSgpO1xuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIHdoZXRoZXIgdGhlIGN1cnJlbnQgaW1hZ2UgcmF0aW8gbWF0Y2hlcyB0aGUgbmF0dXJhbCBvbmVcblx0XHQgKiBieSBjb21wYXJpbmcgZGltZW5zaW9ucy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGltYWdlXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHRjaGVja0hhc05hdHVyYWxSYXRpbyhpbWFnZSkge1xuXHRcdFx0Y29uc3QgJCA9IGltYWdlLiQ7XG5cblx0XHRcdGNvbnN0IG5hdHVyYWwgPSB0aGlzLmdldE5hdHVyYWwoaW1hZ2UpO1xuXG5cdFx0XHQvLyBUaGUgcmVhc29uIGZvciB0d28gYWx0ZXJuYXRpdmUgY29tcGFyaXNvbnMgaXMgdGhhdCB0aGUgcm91bmRpbmcgY2FuIGNvbWUgZnJvbVxuXHRcdFx0Ly8gYm90aCBkaW1lbnNpb25zLCBlLmcuIHRoZXJlIGFyZSB0d28gY2FzZXM6XG5cdFx0XHQvLyBcdDEuIGhlaWdodCBpcyBjb21wdXRlZCBhcyBhIHJvdW5kZWQgcmVsYXRpb24gb2YgdGhlIHJlYWwgaGVpZ2h0IGFuZCB0aGUgdmFsdWUgb2Ygd2lkdGgsXG5cdFx0XHQvL1x0Mi4gd2lkdGggaXMgY29tcHV0ZWQgYXMgYSByb3VuZGVkIHJlbGF0aW9uIG9mIHRoZSByZWFsIHdpZHRoIGFuZCB0aGUgdmFsdWUgb2YgaGVpZ2guXG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRNYXRoLnJvdW5kKCgkLmNsaWVudFdpZHRoIC8gbmF0dXJhbC53aWR0aCkgKiBuYXR1cmFsLmhlaWdodCkgPT1cblx0XHRcdFx0XHQkLmNsaWVudEhlaWdodCB8fFxuXHRcdFx0XHRNYXRoLnJvdW5kKCgkLmNsaWVudEhlaWdodCAvIG5hdHVyYWwuaGVpZ2h0KSAqIG5hdHVyYWwud2lkdGgpID09XG5cdFx0XHRcdFx0JC5jbGllbnRXaWR0aFxuXHRcdFx0KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBuYXR1cmFsIGRpbWVuc2lvbnMgb2YgdGhlIGltYWdlLiBGb3IgbW9kZXJuIGJyb3dzZXJzXG5cdFx0ICogaXQgdXNlcyBuYXR1cmFsKFdpZHRofEhlaWdodCkuIEZvciBvbGQgb25lcyAoSUU4KSBpdCBjcmVhdGVzXG5cdFx0ICogYSBuZXcgaW1hZ2UgYW5kIHJlYWRzIHRoZSBkaW1lbnNpb25zLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gaW1hZ2Vcblx0XHQgKiBAcmV0dXJuIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0Z2V0TmF0dXJhbChpbWFnZSkge1xuXHRcdFx0bGV0IGRpbWVuc2lvbnM7XG5cblx0XHRcdGlmIChpbWFnZS4kLm5hdHVyYWxXaWR0aCkge1xuXHRcdFx0XHRkaW1lbnNpb25zID0ge1xuXHRcdFx0XHRcdHdpZHRoOiBpbWFnZS4kLm5hdHVyYWxXaWR0aCxcblx0XHRcdFx0XHRoZWlnaHQ6IGltYWdlLiQubmF0dXJhbEhlaWdodCxcblx0XHRcdFx0fTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuXHRcdFx0XHRpbWcuc3JjID0gaW1hZ2UuZ2V0QXR0cmlidXRlKCdzcmMnKTtcblxuXHRcdFx0XHRkaW1lbnNpb25zID0ge1xuXHRcdFx0XHRcdHdpZHRoOiBpbWcud2lkdGgsXG5cdFx0XHRcdFx0aGVpZ2h0OiBpbWcuaGVpZ2h0LFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGltZW5zaW9ucztcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBhbiBhdHRyaWJ1dGUgZ2V0dGVyIGZ1bmN0aW9uLiBEZWZhdWx0IGdldHRlciBjb21lcyBmcm9tIHRoZSBMaW5rIHBsdWdpblxuXHRcdCAqIGFuZCBpcyBkb2N1bWVudGVkIGJ5IHtAbGluayBDS0VESVRPUi5wbHVnaW5zLmxpbmsjZ2V0TGlua0F0dHJpYnV0ZXN9LlxuXHRcdCAqXG5cdFx0ICogKipOb3RlOioqIEl0IGlzIHBvc3NpYmxlIHRvIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGFuZCB1c2UgYSBjdXN0b20gZ2V0dGVyIGUuZy5cblx0XHQgKiBpbiB0aGUgYWJzZW5jZSBvZiB0aGUgTGluayBwbHVnaW4uXG5cdFx0ICpcblx0XHQgKiAqKk5vdGU6KiogSWYgYSBjdXN0b20gZ2V0dGVyIGlzIHVzZWQsIGEgZGF0YSBtb2RlbCBmb3JtYXQgaXQgcHJvZHVjZXNcblx0XHQgKiBtdXN0IGJlIGNvbXBhdGlibGUgd2l0aCB7QGxpbmsgQ0tFRElUT1IucGx1Z2lucy5saW5rI2dldExpbmtBdHRyaWJ1dGVzfS5cblx0XHQgKlxuXHRcdCAqICoqTm90ZToqKiBBIGN1c3RvbSBnZXR0ZXIgbXVzdCB1bmRlcnN0YW5kIHRoZSBkYXRhIG1vZGVsIGZvcm1hdCBwcm9kdWNlZCBieVxuXHRcdCAqIHtAbGluayAjZ2V0TGlua0F0dHJpYnV0ZXNQYXJzZXJ9IHRvIHdvcmsgY29ycmVjdGx5LlxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdGhhdCBnZXRzIChjb21wb3NlcykgbGluayBhdHRyaWJ1dGVzLlxuXHRcdCAqIEBzaW5jZSA0LjUuNVxuXHRcdCAqL1xuXHRcdGdldExpbmtBdHRyaWJ1dGVzR2V0dGVyKCkge1xuXHRcdFx0Ly8gIzEzODg1XG5cdFx0XHRyZXR1cm4gQ0tFRElUT1IucGx1Z2lucy5saW5rLmdldExpbmtBdHRyaWJ1dGVzO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGFuIGF0dHJpYnV0ZSBwYXJzZXIgZnVuY3Rpb24uIERlZmF1bHQgcGFyc2VyIGNvbWVzIGZyb20gdGhlIExpbmsgcGx1Z2luXG5cdFx0ICogYW5kIGlzIGRvY3VtZW50ZWQgYnkge0BsaW5rIENLRURJVE9SLnBsdWdpbnMubGluayNwYXJzZUxpbmtBdHRyaWJ1dGVzfS5cblx0XHQgKlxuXHRcdCAqICoqTm90ZToqKiBJdCBpcyBwb3NzaWJsZSB0byBvdmVycmlkZSB0aGlzIG1ldGhvZCBhbmQgdXNlIGEgY3VzdG9tIHBhcnNlciBlLmcuXG5cdFx0ICogaW4gdGhlIGFic2VuY2Ugb2YgdGhlIExpbmsgcGx1Z2luLlxuXHRcdCAqXG5cdFx0ICogKipOb3RlOioqIElmIGEgY3VzdG9tIHBhcnNlciBpcyB1c2VkLCBhIGRhdGEgbW9kZWwgZm9ybWF0IHByb2R1Y2VkIGJ5IHRoZSBwYXJzZXJcblx0XHQgKiBtdXN0IGJlIGNvbXBhdGlibGUgd2l0aCB7QGxpbmsgI2dldExpbmtBdHRyaWJ1dGVzR2V0dGVyfS5cblx0XHQgKlxuXHRcdCAqICoqTm90ZToqKiBJZiBhIGN1c3RvbSBwYXJzZXIgaXMgdXNlZCwgaXQgc2hvdWxkIGJlIGNvbXBhdGlibGUgd2l0aCB0aGVcblx0XHQgKiB7QGxpbmsgQ0tFRElUT1IucGx1Z2lucy5saW5rI3BhcnNlTGlua0F0dHJpYnV0ZXN9IGRhdGEgbW9kZWwgZm9ybWF0LiBPdGhlcndpc2UgdGhlXG5cdFx0ICogTGluayBwbHVnaW4gZGlhbG9nIG1heSBub3QgYmUgcG9wdWxhdGVkIGNvcnJlY3RseSB3aXRoIHBhcnNlZCBkYXRhLiBIb3dldmVyXG5cdFx0ICogYXMgbG9uZyBhcyBFbmhhbmNlZCBJbWFnZSBpcyAqKm5vdCoqIHVzZWQgd2l0aCB0aGUgTGluayBwbHVnaW4gZGlhbG9nLCBhbnkgY3VzdG9tIGRhdGEgbW9kZWxcblx0XHQgKiB3aWxsIHdvcmssIGJlaW5nIHN0b3JlZCBhcyBhbiBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBFbmhhbmNlZCBJbWFnZSB3aWRnZXQncyBkYXRhIG9ubHkuXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhdHRyaWJ1dGVzLlxuXHRcdCAqIEBzaW5jZSA0LjUuNVxuXHRcdCAqL1xuXHRcdGdldExpbmtBdHRyaWJ1dGVzUGFyc2VyKCkge1xuXHRcdFx0Ly8gIzEzODg1XG5cdFx0XHRyZXR1cm4gQ0tFRElUT1IucGx1Z2lucy5saW5rLnBhcnNlTGlua0F0dHJpYnV0ZXM7XG5cdFx0fSxcblx0fTtcblxuXHRmdW5jdGlvbiBzZXRXcmFwcGVyQWxpZ24od2lkZ2V0LCBhbGlnbkNsYXNzZXMpIHtcblx0XHRjb25zdCB3cmFwcGVyID0gd2lkZ2V0LndyYXBwZXI7XG5cblx0XHRjb25zdCBhbGlnbiA9IHdpZGdldC5kYXRhLmFsaWduO1xuXG5cdFx0Y29uc3QgaGFzQ2FwdGlvbiA9IHdpZGdldC5kYXRhLmhhc0NhcHRpb247XG5cblx0XHRpZiAoYWxpZ25DbGFzc2VzKSB7XG5cdFx0XHQvLyBSZW1vdmUgYWxsIGFsaWduIGNsYXNzZXMgZmlyc3QuXG5cdFx0XHRmb3IgKGxldCBpID0gMzsgaS0tOyApIHdyYXBwZXIucmVtb3ZlQ2xhc3MoYWxpZ25DbGFzc2VzW2ldKTtcblxuXHRcdFx0aWYgKGFsaWduID09ICdjZW50ZXInKSB7XG5cdFx0XHRcdC8vIEF2b2lkIHRvdWNoaW5nIG5vbi1jYXB0aW9uZWQsIGNlbnRlcmVkIHdpZGdldHMgYmVjYXVzZVxuXHRcdFx0XHQvLyB0aGV5IGhhdmUgdGhlIGNsYXNzIHNldCBvbiB0aGUgZWxlbWVudCBpbnN0ZWFkIG9mIHdyYXBwZXI6XG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIFx0PGRpdiBjbGFzcz1cImNrZV93aWRnZXRfd3JhcHBlclwiPlxuXHRcdFx0XHQvLyBcdFx0PHAgY2xhc3M9XCJjZW50ZXItY2xhc3NcIj5cblx0XHRcdFx0Ly8gXHRcdFx0PGltZyAvPlxuXHRcdFx0XHQvLyBcdFx0PC9wPlxuXHRcdFx0XHQvLyBcdDwvZGl2PlxuXHRcdFx0XHRpZiAoaGFzQ2FwdGlvbikge1xuXHRcdFx0XHRcdHdyYXBwZXIuYWRkQ2xhc3MoYWxpZ25DbGFzc2VzWzFdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhbGlnbiAhPSAnbm9uZScpIHtcblx0XHRcdFx0d3JhcHBlci5hZGRDbGFzcyhhbGlnbkNsYXNzZXNbYWxpZ25tZW50c09ialthbGlnbl1dKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGFsaWduID09ICdjZW50ZXInKSB7XG5cdFx0XHRcdGlmIChoYXNDYXB0aW9uKSB3cmFwcGVyLnNldFN0eWxlKCd0ZXh0LWFsaWduJywgJ2NlbnRlcicpO1xuXHRcdFx0XHRlbHNlIHdyYXBwZXIucmVtb3ZlU3R5bGUoJ3RleHQtYWxpZ24nKTtcblxuXHRcdFx0XHR3cmFwcGVyLnJlbW92ZVN0eWxlKCdmbG9hdCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKGFsaWduID09ICdub25lJykgd3JhcHBlci5yZW1vdmVTdHlsZSgnZmxvYXQnKTtcblx0XHRcdFx0ZWxzZSB3cmFwcGVyLnNldFN0eWxlKCdmbG9hdCcsIGFsaWduKTtcblxuXHRcdFx0XHR3cmFwcGVyLnJlbW92ZVN0eWxlKCd0ZXh0LWFsaWduJyk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGltYWdlID0gd3JhcHBlci4kLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuXG5cdFx0XHRjb25zdCBpbWFnZVN0eWxlcyA9IGltYWdlLmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcblxuXHRcdFx0aWYgKGltYWdlU3R5bGVzKSB7XG5cdFx0XHRcdGxldCBzdHlsZXMgPSAnJztcblxuXHRcdFx0XHRjb25zdCBoZWlnaHRTdHlsZXMgPSAvKGhlaWdodDouKz87KS8uZXhlYyhpbWFnZVN0eWxlcyk7XG5cdFx0XHRcdGlmIChoZWlnaHRTdHlsZXMpIHtcblx0XHRcdFx0XHRzdHlsZXMgKz0gaGVpZ2h0U3R5bGVzWzBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3Qgd2lkdGhTdHlsZXMgPSAvKHdpZHRoOi4rPzspLy5leGVjKGltYWdlU3R5bGVzKTtcblx0XHRcdFx0aWYgKHdpZHRoU3R5bGVzKSB7XG5cdFx0XHRcdFx0c3R5bGVzICs9IHdpZHRoU3R5bGVzWzBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aW1hZ2Uuc2V0QXR0cmlidXRlKCdzdHlsZScsIHN0eWxlcyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB3aWRnZXRzIGZyb20gYWxsIDxpbWc+IGFuZFxuXHQvLyA8ZmlndXJlIGNsYXNzPVwie2NvbmZpZy5hZV9kcmFncmVzaXplX2llMTFfY2FwdGlvbmVkQ2xhc3N9XCI+IGVsZW1lbnRzLlxuXHQvL1xuXHQvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn0gZWRpdG9yXG5cdC8vIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ZnVuY3Rpb24gdXBjYXN0V2lkZ2V0RWxlbWVudChlZGl0b3IpIHtcblx0XHRjb25zdCBpc0NlbnRlcldyYXBwZXIgPSBjZW50ZXJXcmFwcGVyQ2hlY2tlcihlZGl0b3IpO1xuXG5cdFx0Y29uc3QgY2FwdGlvbmVkQ2xhc3MgPSBlZGl0b3IuY29uZmlnLmFlX2RyYWdyZXNpemVfaWUxMV9jYXB0aW9uZWRDbGFzcztcblxuXHRcdC8vIEBwYXJhbSB7Q0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50fSBlbFxuXHRcdC8vIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGVsLCBkYXRhKSB7XG5cdFx0XHRjb25zdCBkaW1lbnNpb25zID0ge3dpZHRoOiAxLCBoZWlnaHQ6IDF9O1xuXG5cdFx0XHRjb25zdCBuYW1lID0gZWwubmFtZTtcblxuXHRcdFx0bGV0IGltYWdlO1xuXG5cdFx0XHQvLyAjMTExMTAgRG9uJ3QgaW5pdGlhbGl6ZSBvbiBwYXN0ZWQgZmFrZSBvYmplY3RzLlxuXHRcdFx0aWYgKGVsLmF0dHJpYnV0ZXNbJ2RhdGEtY2tlLXJlYWxlbGVtZW50J10pIHJldHVybjtcblxuXHRcdFx0Ly8gSWYgYSBjZW50ZXIgd3JhcHBlciBpcyBmb3VuZCwgdGhlcmUgYXJlIDMgcG9zc2libGUgY2FzZXM6XG5cdFx0XHQvL1xuXHRcdFx0Ly8gMS4gPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+PGZpZ3VyZT4uLi48L2ZpZ3VyZT48L2Rpdj4uXG5cdFx0XHQvLyAgICBJbiB0aGlzIGNhc2UgY2VudGVyaW5nIGlzIGRvbmUgd2l0aCBhIGNsYXNzIHNldCBvbiB3aWRnZXQud3JhcHBlci5cblx0XHRcdC8vICAgIFNpbXBseSByZXBsYWNlIGNlbnRlcmluZyB3cmFwcGVyIHdpdGggZmlndXJlIChpdCdzIG5vIGxvbmdlciBuZWNlc3NhcnkpLlxuXHRcdFx0Ly9cblx0XHRcdC8vIDIuIDxwIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48aW1nLz48L3A+LlxuXHRcdFx0Ly8gICAgTm90aGluZyB0byBkbyBoZXJlOiA8cD4gcmVtYWlucyBmb3Igc3R5bGluZyBwdXJwb3Nlcy5cblx0XHRcdC8vXG5cdFx0XHQvLyAzLiA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48aW1nLz48L2Rpdj4uXG5cdFx0XHQvLyAgICBOb3RoaW5nIHRvIGRvIGhlcmUgKDIuKSBidXQgdGhhdCBjYXNlIGlzIG9ubHkgcG9zc2libGUgaW4gZW50ZXJNb2RlIGRpZmZlcmVudFxuXHRcdFx0Ly8gICAgdGhhbiBFTlRFUl9QLlxuXHRcdFx0aWYgKGlzQ2VudGVyV3JhcHBlcihlbCkpIHtcblx0XHRcdFx0aWYgKG5hbWUgPT0gJ2RpdicpIHtcblx0XHRcdFx0XHRjb25zdCBmaWd1cmUgPSBlbC5nZXRGaXJzdCgnZmlndXJlJyk7XG5cblx0XHRcdFx0XHQvLyBDYXNlICMxLlxuXHRcdFx0XHRcdGlmIChmaWd1cmUpIHtcblx0XHRcdFx0XHRcdGVsLnJlcGxhY2VXaXRoKGZpZ3VyZSk7XG5cdFx0XHRcdFx0XHRlbCA9IGZpZ3VyZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gQ2FzZXMgIzIgYW5kICMzIChoYW5kbGVkIHRyYW5zcGFyZW50bHkpXG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUncyBhIGNlbnRlcmluZyB3cmFwcGVyLCBzYXZlIGl0IGluIGRhdGEuXG5cdFx0XHRcdGRhdGEuYWxpZ24gPSAnY2VudGVyJztcblxuXHRcdFx0XHQvLyBJbWFnZSBjYW4gYmUgd3JhcHBlZCBpbiBsaW5rIDxhPjxpbWcvPjwvYT4uXG5cdFx0XHRcdGltYWdlID0gZWwuZ2V0Rmlyc3QoJ2ltZycpIHx8IGVsLmdldEZpcnN0KCdhJykuZ2V0Rmlyc3QoJ2ltZycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBObyBjZW50ZXIgd3JhcHBlciBoYXMgYmVlbiBmb3VuZC5cblx0XHRcdGVsc2UgaWYgKG5hbWUgPT0gJ2ZpZ3VyZScgJiYgZWwuaGFzQ2xhc3MoY2FwdGlvbmVkQ2xhc3MpKSB7XG5cdFx0XHRcdGltYWdlID0gZWwuZ2V0Rmlyc3QoJ2ltZycpIHx8IGVsLmdldEZpcnN0KCdhJykuZ2V0Rmlyc3QoJ2ltZycpO1xuXG5cdFx0XHRcdC8vIFVwY2FzdCBsaW5rZWQgaW1hZ2UgbGlrZSA8YT48aW1nLz48L2E+LlxuXHRcdFx0fSBlbHNlIGlmIChpc0xpbmtlZE9yU3RhbmRhbG9uZUltYWdlKGVsKSkge1xuXHRcdFx0XHRpbWFnZSA9IGVsLm5hbWUgPT0gJ2EnID8gZWwuY2hpbGRyZW5bMF0gOiBlbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFpbWFnZSkgcmV0dXJuO1xuXG5cdFx0XHQvLyBJZiB0aGVyZSdzIGFuIGltYWdlLCB0aGVuIGNvb2wsIHdlIGdvdCBhIHdpZGdldC5cblx0XHRcdC8vIE5vdyBqdXN0IHJlbW92ZSBkaW1lbnNpb24gYXR0cmlidXRlcyBleHByZXNzZWQgd2l0aCAlLlxuXHRcdFx0Zm9yIChjb25zdCBkIGluIGRpbWVuc2lvbnMpIHtcblx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkaW1lbnNpb25zLCBkKSkge1xuXHRcdFx0XHRcdGNvbnN0IGRpbWVuc2lvbiA9IGltYWdlLmF0dHJpYnV0ZXNbZF07XG5cdFx0XHRcdFx0aWYgKGRpbWVuc2lvbiAmJiBkaW1lbnNpb24ubWF0Y2gocmVnZXhQZXJjZW50KSlcblx0XHRcdFx0XHRcdGRlbGV0ZSBpbWFnZS5hdHRyaWJ1dGVzW2RdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHR9XG5cblx0Ly8gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHdpZGdldCB0byB0aGUgZXh0ZXJuYWwgZm9ybWF0XG5cdC8vIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uLlxuXHQvL1xuXHQvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn1cblx0ZnVuY3Rpb24gZG93bmNhc3RXaWRnZXRFbGVtZW50KGVkaXRvcikge1xuXHRcdGNvbnN0IGFsaWduQ2xhc3NlcyA9IGVkaXRvci5jb25maWcuYWVfZHJhZ3Jlc2l6ZV9pZTExX2FsaWduQ2xhc3NlcztcblxuXHRcdC8vIEBwYXJhbSB7Q0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50fSBlbFxuXHRcdHJldHVybiBmdW5jdGlvbihlbCkge1xuXHRcdFx0Ly8gSW4gY2FzZSBvZiA8YT48aW1nLz48L2E+LCA8aW1nLz4gaXMgdGhlIGVsZW1lbnQgdG8gaG9sZFxuXHRcdFx0Ly8gaW5saW5lIHN0eWxlcyBvciBjbGFzc2VzIChhZV9kcmFncmVzaXplX2llMTFfYWxpZ25DbGFzc2VzKS5cblx0XHRcdGNvbnN0IGF0dHJzSG9sZGVyID0gZWwubmFtZSA9PSAnYScgPyBlbC5nZXRGaXJzdCgpIDogZWw7XG5cblx0XHRcdGNvbnN0IGF0dHJzID0gYXR0cnNIb2xkZXIuYXR0cmlidXRlcztcblxuXHRcdFx0Y29uc3QgYWxpZ24gPSB0aGlzLmRhdGEuYWxpZ247XG5cblx0XHRcdC8vIERlLXdyYXAgdGhlIGltYWdlIGZyb20gcmVzaXplIGhhbmRsZSB3cmFwcGVyLlxuXHRcdFx0Ly8gT25seSBibG9jayB3aWRnZXRzIGhhdmUgb25lLlxuXHRcdFx0aWYgKCF0aGlzLmlubGluZSkge1xuXHRcdFx0XHRjb25zdCByZXNpemVXcmFwcGVyID0gZWwuZ2V0Rmlyc3QoJ3NwYW4nKTtcblxuXHRcdFx0XHRpZiAocmVzaXplV3JhcHBlcilcblx0XHRcdFx0XHRyZXNpemVXcmFwcGVyLnJlcGxhY2VXaXRoKFxuXHRcdFx0XHRcdFx0cmVzaXplV3JhcHBlci5nZXRGaXJzdCh7aW1nOiAxLCBhOiAxfSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYWxpZ24gJiYgYWxpZ24gIT0gJ25vbmUnKSB7XG5cdFx0XHRcdGNvbnN0IHN0eWxlcyA9IENLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhdHRycy5zdHlsZSB8fCAnJyk7XG5cblx0XHRcdFx0Ly8gV2hlbiB0aGUgd2lkZ2V0IGlzIGNhcHRpb25lZCAoPGZpZ3VyZT4pIGFuZCBpbnRlcm5hbGx5IGNlbnRlcmluZyBpcyBkb25lXG5cdFx0XHRcdC8vIHdpdGggd2lkZ2V0J3Mgd3JhcHBlciBzdHlsZS9jbGFzcywgaW4gdGhlIGV4dGVybmFsIGRhdGEgcmVwcmVzZW50YXRpb24sXG5cdFx0XHRcdC8vIDxmaWd1cmU+IG11c3QgYmUgd3JhcHBlZCB3aXRoIGFuIGVsZW1lbnQgaG9sZGluZyBhbiBzdHlsZS9jbGFzczpcblx0XHRcdFx0Ly9cblx0XHRcdFx0Ly8gXHQ8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj5cblx0XHRcdFx0Ly8gXHRcdDxmaWd1cmUgY2xhc3M9XCJpbWFnZVwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2tcIj4uLi48L2ZpZ3VyZT5cblx0XHRcdFx0Ly8gXHQ8L2Rpdj5cblx0XHRcdFx0Ly8gb3Jcblx0XHRcdFx0Ly8gXHQ8ZGl2IGNsYXNzPVwic29tZS1jZW50ZXItY2xhc3NcIj5cblx0XHRcdFx0Ly8gXHRcdDxmaWd1cmUgY2xhc3M9XCJpbWFnZVwiPi4uLjwvZmlndXJlPlxuXHRcdFx0XHQvLyBcdDwvZGl2PlxuXHRcdFx0XHQvL1xuXHRcdFx0XHRpZiAoYWxpZ24gPT0gJ2NlbnRlcicgJiYgZWwubmFtZSA9PSAnZmlndXJlJykge1xuXHRcdFx0XHRcdGVsID0gZWwud3JhcFdpdGgoXG5cdFx0XHRcdFx0XHRuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFxuXHRcdFx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHRcdFx0YWxpZ25DbGFzc2VzXG5cdFx0XHRcdFx0XHRcdFx0PyB7Y2xhc3M6IGFsaWduQ2xhc3Nlc1sxXX1cblx0XHRcdFx0XHRcdFx0XHQ6IHtzdHlsZTogJ3RleHQtYWxpZ246Y2VudGVyJ31cblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgbGVmdC9yaWdodCwgYWRkIGZsb2F0IHN0eWxlIHRvIHRoZSBkb3duY2FzdGVkIGVsZW1lbnQuXG5cdFx0XHRcdGVsc2UgaWYgKGFsaWduIGluIHtsZWZ0OiAxLCByaWdodDogMX0pIHtcblx0XHRcdFx0XHRpZiAoYWxpZ25DbGFzc2VzKVxuXHRcdFx0XHRcdFx0YXR0cnNIb2xkZXIuYWRkQ2xhc3MoXG5cdFx0XHRcdFx0XHRcdGFsaWduQ2xhc3Nlc1thbGlnbm1lbnRzT2JqW2FsaWduXV1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0ZWxzZSBzdHlsZXNbJ2Zsb2F0J10gPSBhbGlnbjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFVwZGF0ZSBlbGVtZW50IHN0eWxlcy5cblx0XHRcdFx0aWYgKCFhbGlnbkNsYXNzZXMgJiYgIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoc3R5bGVzKSlcblx0XHRcdFx0XHRhdHRycy5zdHlsZSA9IENLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChzdHlsZXMpICsgJzsnO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0fVxuXG5cdC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhbiBlbGVtZW50IGlzIGEgY2VudGVyaW5nIHdyYXBwZXIuXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfSBlZGl0b3Jcblx0Ly8gQHJldHVybnMge0Z1bmN0aW9ufVxuXHRmdW5jdGlvbiBjZW50ZXJXcmFwcGVyQ2hlY2tlcihlZGl0b3IpIHtcblx0XHRjb25zdCBjYXB0aW9uZWRDbGFzcyA9IGVkaXRvci5jb25maWcuYWVfZHJhZ3Jlc2l6ZV9pZTExX2NhcHRpb25lZENsYXNzO1xuXG5cdFx0Y29uc3QgYWxpZ25DbGFzc2VzID0gZWRpdG9yLmNvbmZpZy5hZV9kcmFncmVzaXplX2llMTFfYWxpZ25DbGFzc2VzO1xuXG5cdFx0Y29uc3QgdmFsaWRDaGlsZHJlbiA9IHtmaWd1cmU6IDEsIGE6IDEsIGltZzogMX07XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oZWwpIHtcblx0XHRcdC8vIFdyYXBwZXIgbXVzdCBiZSBlaXRoZXIgPGRpdj4gb3IgPHA+LlxuXHRcdFx0aWYgKCEoZWwubmFtZSBpbiB7ZGl2OiAxLCBwOiAxfSkpIHJldHVybiBmYWxzZTtcblxuXHRcdFx0Y29uc3QgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcblxuXHRcdFx0Ly8gQ2VudGVyaW5nIHdyYXBwZXIgY2FuIGhhdmUgb25seSBvbmUgY2hpbGQuXG5cdFx0XHRpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSByZXR1cm4gZmFsc2U7XG5cblx0XHRcdGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bMF07XG5cblx0XHRcdC8vIE9ubHkgPGZpZ3VyZT4gb3IgPGltZyAvPiBjYW4gYmUgZmlyc3QgKG9ubHkpIGNoaWxkIG9mIGNlbnRlcmluZyB3cmFwcGVyLFxuXHRcdFx0Ly8gcmVnYXJkbGVzcyBvZiBpdHMgdHlwZS5cblx0XHRcdGlmICghKGNoaWxkLm5hbWUgaW4gdmFsaWRDaGlsZHJlbikpIHJldHVybiBmYWxzZTtcblxuXHRcdFx0Ly8gSWYgY2VudGVyaW5nIHdyYXBwZXIgaXMgPHA+LCBvbmx5IDxpbWcgLz4gY2FuIGJlIHRoZSBjaGlsZC5cblx0XHRcdC8vICAgPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxpbWcgLz48L3A+XG5cdFx0XHRpZiAoZWwubmFtZSA9PSAncCcpIHtcblx0XHRcdFx0aWYgKCFpc0xpbmtlZE9yU3RhbmRhbG9uZUltYWdlKGNoaWxkKSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gQ2VudGVyaW5nIDxkaXY+IGNhbiBob2xkIDxpbWcvPiBvciA8ZmlndXJlPiwgZGVwZW5kaW5nIG9uIGVudGVyTW9kZS5cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQvLyBJZiBhIDxmaWd1cmU+IGlzIHRoZSBmaXJzdCAob25seSkgY2hpbGQsIGl0IG11c3QgaGF2ZSBhIGNsYXNzLlxuXHRcdFx0XHQvLyAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxmaWd1cmU+Li4uPC9maWd1cmU+PGRpdj5cblx0XHRcdFx0aWYgKGNoaWxkLm5hbWUgPT0gJ2ZpZ3VyZScpIHtcblx0XHRcdFx0XHRpZiAoIWNoaWxkLmhhc0NsYXNzKGNhcHRpb25lZENsYXNzKSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIENlbnRlcmluZyA8ZGl2PiBjYW4gaG9sZCA8aW1nLz4gb3IgPGE+PGltZy8+PC9hPiBvbmx5IHdoZW4gZW50ZXJNb2RlXG5cdFx0XHRcdFx0Ly8gaXMgRU5URVJfKEJSfERJVikuXG5cdFx0XHRcdFx0Ly8gICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48aW1nIC8+PC9kaXY+XG5cdFx0XHRcdFx0Ly8gICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48YT48aW1nIC8+PC9hPjwvZGl2PlxuXHRcdFx0XHRcdGlmIChlZGl0b3IuZW50ZXJNb2RlID09IENLRURJVE9SLkVOVEVSX1ApIHJldHVybiBmYWxzZTtcblxuXHRcdFx0XHRcdC8vIFJlZ2FyZGxlc3Mgb2YgZW50ZXJNb2RlLCBhIGNoaWxkIHdoaWNoIGlzIG5vdCA8ZmlndXJlPiBtdXN0IGJlXG5cdFx0XHRcdFx0Ly8gZWl0aGVyIDxpbWcvPiBvciA8YT48aW1nLz48L2E+LlxuXHRcdFx0XHRcdGlmICghaXNMaW5rZWRPclN0YW5kYWxvbmVJbWFnZShjaGlsZCkpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBDZW50ZXJpbmcgd3JhcHBlciBnb3QgdG8gYmUuLi4gY2VudGVyaW5nLiBJZiBhZV9kcmFncmVzaXplX2llMTFfYWxpZ25DbGFzc2VzIGFyZSBkZWZpbmVkLFxuXHRcdFx0Ly8gY2hlY2sgZm9yIGNlbnRlcmluZyBjbGFzcy4gT3RoZXJ3aXNlLCBjaGVjayB0aGUgc3R5bGUuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGFsaWduQ2xhc3Nlc1xuXHRcdFx0XHRcdD8gZWwuaGFzQ2xhc3MoYWxpZ25DbGFzc2VzWzFdKVxuXHRcdFx0XHRcdDogQ0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KFxuXHRcdFx0XHRcdFx0XHRlbC5hdHRyaWJ1dGVzLnN0eWxlIHx8ICcnLFxuXHRcdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0ICApWyd0ZXh0LWFsaWduJ10gPT0gJ2NlbnRlcidcblx0XHRcdClcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXHR9XG5cblx0Ly8gQ2hlY2tzIHdoZXRoZXIgZWxlbWVudCBpcyA8aW1nLz4gb3IgPGE+PGltZy8+PC9hPi5cblx0Ly9cblx0Ly8gQHBhcmFtIHtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnR9XG5cdGZ1bmN0aW9uIGlzTGlua2VkT3JTdGFuZGFsb25lSW1hZ2UoZWwpIHtcblx0XHRpZiAoZWwubmFtZSA9PSAnaW1nJykgcmV0dXJuIHRydWU7XG5cdFx0ZWxzZSBpZiAoZWwubmFtZSA9PSAnYScpXG5cdFx0XHRyZXR1cm4gZWwuY2hpbGRyZW4ubGVuZ3RoID09IDEgJiYgZWwuZ2V0Rmlyc3QoJ2ltZycpO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gU2V0cyB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB3aWRnZXQgaW1hZ2UgYWNjb3JkaW5nIHRvIGN1cnJlbnQgd2lkZ2V0IGRhdGEuXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IucGx1Z2lucy53aWRnZXR9IHdpZGdldFxuXHRmdW5jdGlvbiBzZXREaW1lbnNpb25zKHdpZGdldCkge1xuXHRcdGNvbnN0IGRhdGEgPSB3aWRnZXQuZGF0YTtcblxuXHRcdGNvbnN0IGRpbWVuc2lvbnMgPSB7d2lkdGg6IGRhdGEud2lkdGgsIGhlaWdodDogZGF0YS5oZWlnaHR9O1xuXG5cdFx0Y29uc3QgaW1hZ2UgPSB3aWRnZXQucGFydHMuaW1hZ2U7XG5cblx0XHRmb3IgKGNvbnN0IGQgaW4gZGltZW5zaW9ucykge1xuXHRcdFx0aWYgKGRpbWVuc2lvbnNbZF0pIGltYWdlLnNldEF0dHJpYnV0ZShkLCBkaW1lbnNpb25zW2RdKTtcblx0XHRcdGVsc2UgaW1hZ2UucmVtb3ZlQXR0cmlidXRlKGQpO1xuXHRcdH1cblx0fVxuXG5cdC8vIERlZmluZXMgYWxsIGZlYXR1cmVzIHJlbGF0ZWQgdG8gZHJhZy1kcml2ZW4gaW1hZ2UgcmVzaXppbmcuXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IucGx1Z2lucy53aWRnZXR9IHdpZGdldFxuXHRmdW5jdGlvbiBzZXR1cFJlc2l6ZXIod2lkZ2V0KSB7XG5cdFx0Y29uc3QgZWRpdG9yID0gd2lkZ2V0LmVkaXRvcjtcblxuXHRcdGNvbnN0IGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cblx0XHRjb25zdCBkb2MgPSBlZGl0b3IuZG9jdW1lbnQ7XG5cblx0XHQvLyBTdG9yZSB0aGUgcmVzaXplciBpbiBhIHdpZGdldCBmb3IgdGVzdGluZyAoIzExMDA0KS5cblxuXHRcdGNvbnN0IHJlc2l6ZXIgPSAod2lkZ2V0LnJlc2l6ZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpKTtcblxuXHRcdC8vIENyZWF0ZSByZXNpemVyIGZvciBlYWNoIGNvcm5lciAoTkUsIE5XLCBTRSwgU1cpXG5cblx0XHRjb25zdCByZXNpemVyTkUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG5cdFx0Y29uc3QgcmVzaXplck5XID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuXHRcdGNvbnN0IHJlc2l6ZXJTRSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cblx0XHRjb25zdCByZXNpemVyU1cgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG5cdFx0cmVzaXplck5FLmFkZENsYXNzKCdja2VfaW1hZ2VfcmVzaXplcicpO1xuXHRcdHJlc2l6ZXJORS5hZGRDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXJfbmUnKTtcblxuXHRcdHJlc2l6ZXJOVy5hZGRDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXInKTtcblx0XHRyZXNpemVyTlcuYWRkQ2xhc3MoJ2NrZV9pbWFnZV9yZXNpemVyX253Jyk7XG5cblx0XHRyZXNpemVyU0UuYWRkQ2xhc3MoJ2NrZV9pbWFnZV9yZXNpemVyJyk7XG5cdFx0cmVzaXplclNFLmFkZENsYXNzKCdja2VfaW1hZ2VfcmVzaXplcl9zZScpO1xuXG5cdFx0cmVzaXplclNXLmFkZENsYXNzKCdja2VfaW1hZ2VfcmVzaXplcicpO1xuXHRcdHJlc2l6ZXJTVy5hZGRDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXJfc3cnKTtcblxuXHRcdC8vIEFkZCBlYWNoIGRpcmVjdGlvbmFsIHJlc2l6ZXIgYXMgYSBjaGlsZCBvZiByZXNpemVyXG5cdFx0cmVzaXplci5hcHBlbmQocmVzaXplck5FKTtcblx0XHRyZXNpemVyLmFwcGVuZChyZXNpemVyTlcpO1xuXHRcdHJlc2l6ZXIuYXBwZW5kKHJlc2l6ZXJTRSk7XG5cdFx0cmVzaXplci5hcHBlbmQocmVzaXplclNXKTtcblxuXHRcdC8vIHJlc2l6ZXIuc2V0QXR0cmlidXRlKCAndGl0bGUnLCBlZGl0b3IubGFuZy5hZV9kcmFncmVzaXplX2llMTEucmVzaXplciApO1xuXHRcdHJlc2l6ZXIuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dCgnXFx1MjAwYicsIGRvYykpO1xuXG5cdFx0Ly8gSW5saW5lIHdpZGdldHMgZG9uJ3QgbmVlZCBhIHJlc2l6ZXIgd3JhcHBlciBhcyBhbiBpbWFnZSBzcGFucyB0aGUgZW50aXJlIHdpZGdldC5cblx0XHRpZiAoIXdpZGdldC5pbmxpbmUpIHtcblx0XHRcdGNvbnN0IGltYWdlT3JMaW5rID0gd2lkZ2V0LnBhcnRzLmxpbmsgfHwgd2lkZ2V0LnBhcnRzLmltYWdlO1xuXG5cdFx0XHRjb25zdCBvbGRSZXNpemVXcmFwcGVyID0gaW1hZ2VPckxpbmsuZ2V0UGFyZW50KCk7XG5cblx0XHRcdGNvbnN0IHJlc2l6ZVdyYXBwZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG5cdFx0XHRyZXNpemVXcmFwcGVyLmFkZENsYXNzKCdja2VfaW1hZ2VfcmVzaXplcl93cmFwcGVyJyk7XG5cdFx0XHRyZXNpemVXcmFwcGVyLmFwcGVuZChpbWFnZU9yTGluayk7XG5cdFx0XHRyZXNpemVXcmFwcGVyLmFwcGVuZChyZXNpemVyKTtcblx0XHRcdHdpZGdldC5lbGVtZW50LmFwcGVuZChyZXNpemVXcmFwcGVyLCB0cnVlKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIHRoZSBvbGQgd3JhcHBlciB3aGljaCBjb3VsZCBjYW1lIGZyb20gZS5nLiBwYXN0ZWQgSFRNTFxuXHRcdFx0Ly8gYW5kIHdoaWNoIGNvdWxkIGJlIGNvcnJ1cHRlZCAoZS5nLiByZXNpemVyIHNwYW4gaGFzIGJlZW4gbG9zdCkuXG5cdFx0XHRpZiAob2xkUmVzaXplV3JhcHBlci5pcygnc3BhbicpKSBvbGRSZXNpemVXcmFwcGVyLnJlbW92ZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aWRnZXQud3JhcHBlci5hcHBlbmQocmVzaXplcik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHZhbHVlcyBvZiBzaXplIHZhcmlhYmxlcyBhbmQgbW91c2Ugb2Zmc2V0cy5cblx0XHRyZXNpemVyLm9uKCdtb3VzZWRvd24nLCBldnQgPT4ge1xuXHRcdFx0Y29uc3QgaW1hZ2UgPSB3aWRnZXQucGFydHMuaW1hZ2U7XG5cblx0XHRcdC8vIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIG1vdXNlIHJlbGF0aXZlIHRvIHRoZSBzY3JlZW5cblx0XHRcdC8vIHdoZW4gYnV0dG9uIGdldHMgcHJlc3NlZC5cblxuXHRcdFx0Y29uc3Qgc3RhcnRYID0gZXZ0LmRhdGEuJC5zY3JlZW5YO1xuXG5cdFx0XHRjb25zdCBzdGFydFkgPSBldnQuZGF0YS4kLnNjcmVlblk7XG5cblx0XHRcdC8vIFRoZSBpbml0aWFsIGRpbWVuc2lvbnMgYW5kIGFzcGVjdCByYXRpbyBvZiB0aGUgaW1hZ2UuXG5cblx0XHRcdGNvbnN0IHN0YXJ0V2lkdGggPSBpbWFnZS4kLmNsaWVudFdpZHRoO1xuXG5cdFx0XHRjb25zdCBzdGFydEhlaWdodCA9IGltYWdlLiQuY2xpZW50SGVpZ2h0O1xuXG5cdFx0XHRjb25zdCByYXRpbyA9IHN0YXJ0V2lkdGggLyBzdGFydEhlaWdodDtcblxuXHRcdFx0Y29uc3QgbGlzdGVuZXJzID0gW107XG5cblx0XHRcdGNvbnN0IHRhcmdldCA9IGV2dC5kYXRhLmdldFRhcmdldCgpO1xuXG5cdFx0XHRsZXQgZmFjdG9yWDtcblxuXHRcdFx0bGV0IGZhY3Rvclk7XG5cblx0XHRcdGxldCBtb3ZlRGlmZlg7XG5cblx0XHRcdGxldCBtb3ZlRGlmZlk7XG5cblx0XHRcdGxldCBuYXRpdmVFdnQ7XG5cblx0XHRcdGxldCBuZXdIZWlnaHQ7XG5cblx0XHRcdGxldCBuZXdXaWR0aDtcblxuXHRcdFx0bGV0IHVwZGF0ZURhdGE7XG5cblx0XHRcdC8vIFwiZmFjdG9yWFwiIGFuZCBcImZhY3RvcllcIiBjYW4gYmUgZWl0aGVyIDEgb3IgLTEuIEkuZS46IFdlIG5lZWQgdG9cblx0XHRcdC8vIGFkZC9zdWJ0cmFjdCB0aGUgZGlmZmVyZW5jZSB0byBnZXQgcHJvcGVyIHdpZHRoLCBldGMuIFdpdGhvdXQgXCJmYWN0b3JYXCJcblx0XHRcdC8vIGFuZCBcImZhY3RvcllcIiwgcmVzaXplciBzdGFydHMgd29ya2luZyB0aGUgb3Bwb3NpdGUgd2F5LlxuXHRcdFx0aWYgKHRhcmdldC5oYXNDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXJfbmUnKSkge1xuXHRcdFx0XHRmYWN0b3JYID0gMTtcblx0XHRcdFx0ZmFjdG9yWSA9IDE7XG5cdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5oYXNDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXJfbncnKSkge1xuXHRcdFx0XHRmYWN0b3JYID0gLTE7XG5cdFx0XHRcdGZhY3RvclkgPSAxO1xuXHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ2NrZV9pbWFnZV9yZXNpemVyX3NlJykpIHtcblx0XHRcdFx0ZmFjdG9yWCA9IDE7XG5cdFx0XHRcdGZhY3RvclkgPSAtMTtcblx0XHRcdH0gZWxzZSBpZiAodGFyZ2V0Lmhhc0NsYXNzKCdja2VfaW1hZ2VfcmVzaXplcl9zdycpKSB7XG5cdFx0XHRcdGZhY3RvclggPSAtMTtcblx0XHRcdFx0ZmFjdG9yWSA9IC0xO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBIGNsYXNzIGFwcGxpZWQgdG8gZWRpdGFibGUgZHVyaW5nIHJlc2l6aW5nLlxuXHRcdFx0Y29uc3QgY3Vyc29yQ2xhc3MgPVxuXHRcdFx0XHQnY2tlX2ltYWdlXycgK1xuXHRcdFx0XHQoIX5mYWN0b3JZID8gJ3MnIDogJ24nKSArXG5cdFx0XHRcdCghfmZhY3RvclggPyAndycgOiAnZScpO1xuXG5cdFx0XHQvLyBTYXZlIHRoZSB1bmRvIHNuYXBzaG90IGZpcnN0OiBiZWZvcmUgcmVzaXppbmcuXG5cdFx0XHRlZGl0b3IuZmlyZSgnc2F2ZVNuYXBzaG90Jyk7XG5cblx0XHRcdC8vIE1vdXNlbW92ZSBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgb24gbW91c2V1cC5cblx0XHRcdGF0dGFjaFRvRG9jdW1lbnRzKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgbGlzdGVuZXJzKTtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgdGhlIG1vdXNlbW92ZSBsaXN0ZW5lci4gVXBkYXRlIHdpZGdldCBkYXRhIGlmIHZhbGlkLlxuXHRcdFx0YXR0YWNoVG9Eb2N1bWVudHMoJ21vdXNldXAnLCBvbk1vdXNlVXAsIGxpc3RlbmVycyk7XG5cblx0XHRcdC8vIFRoZSBlbnRpcmUgZWRpdGFibGUgd2lsbCBoYXZlIHRoZSBzcGVjaWFsIGN1cnNvciB3aGlsZSByZXNpemluZyBnb2VzIG9uLlxuXHRcdFx0ZWRpdGFibGUuYWRkQ2xhc3MoY3Vyc29yQ2xhc3MpO1xuXG5cdFx0XHQvLyBUaGlzIGlzIHRvIGFsd2F5cyBrZWVwIHRoZSByZXNpemVyIGVsZW1lbnQgdmlzaWJsZSB3aGlsZSByZXNpemluZy5cblx0XHRcdHJlc2l6ZXIuYWRkQ2xhc3MoJ2NrZV9pbWFnZV9yZXNpemluZycpO1xuXG5cdFx0XHQvLyBBdHRhY2hlcyBhbiBldmVudCB0byBhIGdsb2JhbCBkb2N1bWVudCBpZiBpbmxpbmUgZWRpdG9yLlxuXHRcdFx0Ly8gQWRkaXRpb25hbGx5LCBpZiBjbGFzc2ljIChgaWZyYW1lYC1iYXNlZCkgZWRpdG9yLCBhbHNvIGF0dGFjaGVzIHRoZSBzYW1lIGV2ZW50IHRvIGBpZnJhbWVgJ3MgZG9jdW1lbnQuXG5cdFx0XHRmdW5jdGlvbiBhdHRhY2hUb0RvY3VtZW50cyhuYW1lLCBjYWxsYmFjaywgY29sbGVjdGlvbikge1xuXHRcdFx0XHRjb25zdCBnbG9iYWxEb2MgPSBDS0VESVRPUi5kb2N1bWVudDtcblxuXHRcdFx0XHRjb25zdCBsaXN0ZW5lcnMgPSBbXTtcblxuXHRcdFx0XHRpZiAoIWRvYy5lcXVhbHMoZ2xvYmFsRG9jKSlcblx0XHRcdFx0XHRsaXN0ZW5lcnMucHVzaChnbG9iYWxEb2Mub24obmFtZSwgY2FsbGJhY2spKTtcblxuXHRcdFx0XHRsaXN0ZW5lcnMucHVzaChkb2Mub24obmFtZSwgY2FsbGJhY2spKTtcblxuXHRcdFx0XHRpZiAoY29sbGVjdGlvbikge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpLS07IClcblx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucHVzaChsaXN0ZW5lcnMucG9wKCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGN1bGF0ZSB3aWR0aCBmaXJzdCwgYW5kIHRoZW4gYWRqdXN0IGhlaWdodCwgcHJlc2VydmluZyByYXRpby5cblx0XHRcdGZ1bmN0aW9uIGFkanVzdFRvWCgpIHtcblx0XHRcdFx0bmV3V2lkdGggPSBzdGFydFdpZHRoICsgZmFjdG9yWCAqIG1vdmVEaWZmWDtcblx0XHRcdFx0bmV3SGVpZ2h0ID0gTWF0aC5yb3VuZChuZXdXaWR0aCAvIHJhdGlvKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FsY3VsYXRlIGhlaWdodCBmaXJzdCwgYW5kIHRoZW4gYWRqdXN0IHdpZHRoLCBwcmVzZXJ2aW5nIHJhdGlvLlxuXHRcdFx0ZnVuY3Rpb24gYWRqdXN0VG9ZKCkge1xuXHRcdFx0XHRuZXdIZWlnaHQgPSBzdGFydEhlaWdodCArIGZhY3RvclkgKiBtb3ZlRGlmZlk7XG5cdFx0XHRcdG5ld1dpZHRoID0gTWF0aC5yb3VuZChuZXdIZWlnaHQgKiByYXRpbyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoaXMgaXMgaG93IHZhcmlhYmxlcyByZWZlciB0byB0aGUgZ2VvbWV0cnkuXG5cdFx0XHQvLyBOb3RlOiB4IGNvcnJlc3BvbmRzIHRvIG1vdmVPZmZzZXQsIHRoaXMgaXMgdGhlIHBvc2l0aW9uIG9mIG1vdXNlXG5cdFx0XHQvLyBOb3RlOiBvIGNvcnJlc3BvbmRzIHRvIFtzdGFydFgsIHN0YXJ0WV0uXG5cdFx0XHQvL1xuXHRcdFx0Ly8gXHQrLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0rXG5cdFx0XHQvLyBcdHwgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcblx0XHRcdC8vIFx0fCAgICAgIEkgICAgICAgfCAgICAgIElJICAgICAgfFxuXHRcdFx0Ly8gXHR8ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG5cdFx0XHQvLyBcdCstLS0tLS0tLS0tLS0tIG8gLS0tLS0tLS0tLS0tLSsgXyBfIF9cblx0XHRcdC8vIFx0fCAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfCAgICAgIF5cblx0XHRcdC8vIFx0fCAgICAgIFZJICAgICAgfCAgICAgSUlJICAgICAgfCAgICAgIHwgbW92ZURpZmZZXG5cdFx0XHQvLyBcdHwgICAgICAgICAgICAgIHwgICAgICAgICB4IF8gXyBfIF8gXyB2XG5cdFx0XHQvLyBcdCstLS0tLS0tLS0tLS0tLSstLS0tLS0tLS18LS0tLStcblx0XHRcdC8vIFx0ICAgICAgICAgICAgICAgfCAgICAgICAgIHxcblx0XHRcdC8vIFx0ICAgICAgICAgICAgICAgIDwtLS0tLS0tPlxuXHRcdFx0Ly8gXHQgICAgICAgICAgICAgICAgbW92ZURpZmZYXG5cdFx0XHRmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcblx0XHRcdFx0bmF0aXZlRXZ0ID0gZXZ0LmRhdGEuJDtcblxuXHRcdFx0XHQvLyBUaGlzIGlzIGhvdyBmYXIgdGhlIG1vdXNlIGlzIGZyb20gdGhlIHBvaW50IHRoZSBidXR0b24gd2FzIHByZXNzZWQuXG5cdFx0XHRcdG1vdmVEaWZmWCA9IG5hdGl2ZUV2dC5zY3JlZW5YIC0gc3RhcnRYO1xuXHRcdFx0XHRtb3ZlRGlmZlkgPSBzdGFydFkgLSBuYXRpdmVFdnQuc2NyZWVuWTtcblxuXHRcdFx0XHQvLyBSZXNpemUgd2l0aCBORSwgU0UgZHJhZyBoYW5kbGVzXG5cdFx0XHRcdGlmIChmYWN0b3JYID09IDEpIHtcblx0XHRcdFx0XHRpZiAobW92ZURpZmZYIDw9IDApIHtcblx0XHRcdFx0XHRcdGFkanVzdFRvWSgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRhZGp1c3RUb1goKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gUmVzaXplIHdpdGggTlcsIFNXIGRyYWcgaGFuZGxlc1xuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRpZiAobW92ZURpZmZYIDw9IDApIHtcblx0XHRcdFx0XHRcdGFkanVzdFRvWCgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRhZGp1c3RUb1koKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBEb24ndCB1cGRhdGUgYXR0cmlidXRlcyBpZiBsZXNzIHRoYW4gMTAuXG5cdFx0XHRcdC8vIFRoaXMgaXMgdG8gcHJldmVudCBpbWFnZXMgdG8gdmlzdWFsbHkgZGlzYXBwZWFyLlxuXHRcdFx0XHRpZiAobmV3V2lkdGggPj0gMTUgJiYgbmV3SGVpZ2h0ID49IDE1KSB7XG5cdFx0XHRcdFx0aW1hZ2UuJC5zdHlsZS53aWR0aCA9IG5ld1dpZHRoICsgJ3B4Jztcblx0XHRcdFx0XHRpbWFnZS4kLnN0eWxlLmhlaWdodCA9IG5ld0hlaWdodCArICdweCc7XG5cblx0XHRcdFx0XHR1cGRhdGVEYXRhID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR1cGRhdGVEYXRhID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gb25Nb3VzZVVwKCkge1xuXHRcdFx0XHRsZXQgbDtcblxuXHRcdFx0XHR3aGlsZSAoKGwgPSBsaXN0ZW5lcnMucG9wKCkpKSBsLnJlbW92ZUxpc3RlbmVyKCk7XG5cblx0XHRcdFx0Ly8gUmVzdG9yZSBkZWZhdWx0IGN1cnNvciBieSByZW1vdmluZyBzcGVjaWFsIGNsYXNzLlxuXHRcdFx0XHRlZGl0YWJsZS5yZW1vdmVDbGFzcyhjdXJzb3JDbGFzcyk7XG5cblx0XHRcdFx0Ly8gVGhpcyBpcyB0byBicmluZyBiYWNrIHRoZSByZWd1bGFyIGJlaGF2aW91ciBvZiB0aGUgcmVzaXplci5cblx0XHRcdFx0cmVzaXplci5yZW1vdmVDbGFzcygnY2tlX2ltYWdlX3Jlc2l6aW5nJyk7XG5cblx0XHRcdFx0aWYgKHVwZGF0ZURhdGEpIHtcblx0XHRcdFx0XHR3aWRnZXQuc2V0RGF0YSh7XG5cdFx0XHRcdFx0XHRoZWlnaHQ6IG5ld0hlaWdodCxcblx0XHRcdFx0XHRcdHdpZHRoOiBuZXdXaWR0aCxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIFNhdmUgYW5vdGhlciB1bmRvIHNuYXBzaG90OiBhZnRlciByZXNpemluZy5cblx0XHRcdFx0XHRlZGl0b3IuZmlyZSgnc2F2ZVNuYXBzaG90Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBEb24ndCB1cGRhdGUgZGF0YSB0d2ljZSBvciBtb3JlLlxuXHRcdFx0XHR1cGRhdGVEYXRhID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyB0aGUgYWxpZ25tZW50IHZhbHVlIG9mIGFuIGltYWdlXG5cdCAqXG5cdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGltYWdlIFRoZSBpbWFnZSBlbGVtZW50XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZUFsaWdubWVudCBUaGUgaW1hZ2UgYWxpZ25tZW50IHZhbHVlIHRvIGJlIHJlbW92ZWRcblx0ICovXG5cdGNvbnN0IHJlbW92ZVdpZGdldEFsaWdubWVudCA9IGZ1bmN0aW9uKHdpZGdldCwgaW1hZ2VBbGlnbm1lbnQpIHtcblx0XHRpZiAoaW1hZ2VBbGlnbm1lbnQgPT09ICdsZWZ0JyB8fCBpbWFnZUFsaWdubWVudCA9PT0gJ3JpZ2h0Jykge1xuXHRcdFx0d2lkZ2V0LndyYXBwZXIucmVtb3ZlU3R5bGUoJ2Zsb2F0Jyk7XG5cdFx0fSBlbHNlIGlmIChpbWFnZUFsaWdubWVudCA9PT0gJ2NlbnRlcicpIHtcblx0XHRcdHdpZGdldC5lZGl0b3IuZXhlY0NvbW1hbmQoJ2p1c3RpZnlsZWZ0Jyk7XG5cdFx0XHR3aWRnZXQuZWRpdG9yLmV4ZWNDb21tYW5kKCdqdXN0aWZ5bGVmdCcpO1xuXHRcdH1cblx0fTtcblxuXHQvLyBJbnRlZ3JhdGVzIHdpZGdldCBhbGlnbm1lbnQgc2V0dGluZyB3aXRoIGp1c3RpZnlcblx0Ly8gcGx1Z2luJ3MgY29tbWFuZHMgKGV4ZWN1dGlvbiBhbmQgcmVmcmVzaG1lbnQpLlxuXHQvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn0gZWRpdG9yXG5cdC8vIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSAnbGVmdCcsICdyaWdodCcsICdjZW50ZXInIG9yICdibG9jaydcblx0ZnVuY3Rpb24gYWxpZ25Db21tYW5kSW50ZWdyYXRvcihlZGl0b3IpIHtcblx0XHRjb25zdCBleGVjQ2FsbGJhY2tzID0gW107XG5cblx0XHRsZXQgZW5hYmxlZDtcblxuXHRcdHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0Y29uc3QgY29tbWFuZCA9IGVkaXRvci5nZXRDb21tYW5kKCdqdXN0aWZ5JyArIHZhbHVlKTtcblxuXHRcdFx0Ly8gTW9zdCBsaWtlbHksIHRoZSBqdXN0aWZ5IHBsdWdpbiBpc24ndCBsb2FkZWQuXG5cdFx0XHRpZiAoIWNvbW1hbmQpIHJldHVybjtcblxuXHRcdFx0Ly8gVGhpcyBjb21tYW5kIHdpbGwgYmUgbWFudWFsbHkgcmVmcmVzaGVkIGFsb25nIHdpdGhcblx0XHRcdC8vIG90aGVyIGNvbW1hbmRzIGFmdGVyIGV4ZWMuXG5cdFx0XHRleGVjQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRjb21tYW5kLnJlZnJlc2goZWRpdG9yLCBlZGl0b3IuZWxlbWVudFBhdGgoKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKHZhbHVlIGluIHtyaWdodDogMSwgbGVmdDogMSwgY2VudGVyOiAxfSkge1xuXHRcdFx0XHRjb21tYW5kLm9uKCdleGVjJywgZXZ0ID0+IHtcblx0XHRcdFx0XHRjb25zdCB3aWRnZXQgPSBnZXRGb2N1c2VkV2lkZ2V0KGVkaXRvcik7XG5cblx0XHRcdFx0XHRpZiAod2lkZ2V0KSB7XG5cdFx0XHRcdFx0XHRpZiAod2lkZ2V0LmRhdGEuYWxpZ24gPT09IHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHJlbW92ZVdpZGdldEFsaWdubWVudCh3aWRnZXQsIHZhbHVlKTtcblxuXHRcdFx0XHRcdFx0XHRkZWxldGUgd2lkZ2V0LmRhdGEuYWxpZ247XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR3aWRnZXQuc2V0RGF0YSgnYWxpZ24nLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE9uY2UgdGhlIHdpZGdldCBjaGFuZ2VkIGl0cyBhbGlnbiwgYWxsIHRoZSBhbGlnbiBjb21tYW5kc1xuXHRcdFx0XHRcdFx0Ly8gbXVzdCBiZSByZWZyZXNoZWQ6IHRoZSBldmVudCBpcyB0byBiZSBjYW5jZWxsZWQuXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gZXhlY0NhbGxiYWNrcy5sZW5ndGg7IGktLTsgKVxuXHRcdFx0XHRcdFx0XHRleGVjQ2FsbGJhY2tzW2ldKCk7XG5cblx0XHRcdFx0XHRcdGV2dC5jYW5jZWwoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRjb21tYW5kLm9uKCdyZWZyZXNoJywgZnVuY3Rpb24oZXZ0KSB7XG5cdFx0XHRcdGNvbnN0IHdpZGdldCA9IGdldEZvY3VzZWRXaWRnZXQoZWRpdG9yKTtcblxuXHRcdFx0XHRjb25zdCBhbGxvd2VkID0ge3JpZ2h0OiAxLCBsZWZ0OiAxLCBjZW50ZXI6IDF9O1xuXG5cdFx0XHRcdGlmICghd2lkZ2V0KSByZXR1cm47XG5cblx0XHRcdFx0Ly8gQ2FjaGUgXCJlbmFibGVkXCIgb24gZmlyc3QgdXNlLiBUaGlzIGlzIGJlY2F1c2UgZmlsdGVyI2NoZWNrRmVhdHVyZSBtYXlcblx0XHRcdFx0Ly8gbm90IGJlIGF2YWlsYWJsZSBkdXJpbmcgcGx1Z2luJ3MgYWZ0ZXJJbml0IGluIHRoZSBmdXR1cmUg4oCUIGEgbW9tZW50IHdoZW5cblx0XHRcdFx0Ly8gYWxpZ25Db21tYW5kSW50ZWdyYXRvciBpcyBjYWxsZWQuXG5cdFx0XHRcdGlmIChlbmFibGVkID09PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0ZW5hYmxlZCA9IGVkaXRvci5maWx0ZXIuY2hlY2tGZWF0dXJlKFxuXHRcdFx0XHRcdFx0ZWRpdG9yLndpZGdldHMucmVnaXN0ZXJlZC5pbWFnZS5mZWF0dXJlcy5hbGlnblxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYWxsb3cganVzdGlmeSBjb21tYW5kcyB3aGVuIHdpZGdldCBhbGlnbm1lbnQgaXMgZGlzYWJsZWQgKCMxMTAwNCkuXG5cdFx0XHRcdGlmICghZW5hYmxlZCkgdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoXG5cdFx0XHRcdFx0XHR3aWRnZXQuZGF0YS5hbGlnbiA9PSB2YWx1ZVxuXHRcdFx0XHRcdFx0XHQ/IENLRURJVE9SLlRSSVNUQVRFX09OXG5cdFx0XHRcdFx0XHRcdDogdmFsdWUgaW4gYWxsb3dlZFxuXHRcdFx0XHRcdFx0XHQ/IENLRURJVE9SLlRSSVNUQVRFX09GRlxuXHRcdFx0XHRcdFx0XHQ6IENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGV2dC5jYW5jZWwoKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdH1cblxuXHQvLyBSZXR1cm5zIHRoZSBmb2N1c2VkIHdpZGdldCwgaWYgb2YgdGhlIHR5cGUgc3BlY2lmaWMgZm9yIHRoaXMgcGx1Z2luLlxuXHQvLyBJZiBubyB3aWRnZXQgaXMgZm9jdXNlZCwgYG51bGxgIGlzIHJldHVybmVkLlxuXHQvL1xuXHQvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn1cblx0Ly8gQHJldHVybnMge0NLRURJVE9SLnBsdWdpbnMud2lkZ2V0fVxuXHRmdW5jdGlvbiBnZXRGb2N1c2VkV2lkZ2V0KGVkaXRvcikge1xuXHRcdGNvbnN0IHdpZGdldCA9IGVkaXRvci53aWRnZXRzLmZvY3VzZWQ7XG5cblx0XHRpZiAod2lkZ2V0ICYmIHdpZGdldC5uYW1lID09ICdpbWFnZScpIHJldHVybiB3aWRnZXQ7XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFJldHVybnMgYSBzZXQgb2Ygd2lkZ2V0IGFsbG93ZWRDb250ZW50IHJ1bGVzLCBkZXBlbmRpbmdcblx0Ly8gb24gY29uZmlndXJhdGlvbnMgbGlrZSBjb25maWcjYWVfZHJhZ3Jlc2l6ZV9pZTExX2FsaWduQ2xhc3NlcyBvclxuXHQvLyBjb25maWcjYWVfZHJhZ3Jlc2l6ZV9pZTExX2NhcHRpb25lZENsYXNzLlxuXHQvL1xuXHQvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn1cblx0Ly8gQHJldHVybnMge09iamVjdH1cblx0ZnVuY3Rpb24gZ2V0V2lkZ2V0QWxsb3dlZENvbnRlbnQoZWRpdG9yKSB7XG5cdFx0Y29uc3QgYWxpZ25DbGFzc2VzID0gZWRpdG9yLmNvbmZpZy5hZV9kcmFncmVzaXplX2llMTFfYWxpZ25DbGFzc2VzO1xuXG5cdFx0Y29uc3QgcnVsZXMgPSB7XG5cdFx0XHQvLyBXaWRnZXQgbWF5IG5lZWQgPGRpdj4gb3IgPHA+IGNlbnRlcmluZyB3cmFwcGVyLlxuXHRcdFx0ZGl2OiB7XG5cdFx0XHRcdG1hdGNoOiBjZW50ZXJXcmFwcGVyQ2hlY2tlcihlZGl0b3IpLFxuXHRcdFx0fSxcblx0XHRcdHA6IHtcblx0XHRcdFx0bWF0Y2g6IGNlbnRlcldyYXBwZXJDaGVja2VyKGVkaXRvciksXG5cdFx0XHR9LFxuXHRcdFx0aW1nOiB7XG5cdFx0XHRcdGF0dHJpYnV0ZXM6ICchc3JjLGFsdCx3aWR0aCxoZWlnaHQnLFxuXHRcdFx0fSxcblx0XHRcdGZpZ3VyZToge1xuXHRcdFx0XHRjbGFzc2VzOiAnIScgKyBlZGl0b3IuY29uZmlnLmFlX2RyYWdyZXNpemVfaWUxMV9jYXB0aW9uZWRDbGFzcyxcblx0XHRcdH0sXG5cdFx0XHRmaWdjYXB0aW9uOiB0cnVlLFxuXHRcdH07XG5cblx0XHRpZiAoYWxpZ25DbGFzc2VzKSB7XG5cdFx0XHQvLyBDZW50ZXJpbmcgY2xhc3MgZnJvbSB0aGUgY29uZmlnLlxuXHRcdFx0cnVsZXMuZGl2LmNsYXNzZXMgPSBhbGlnbkNsYXNzZXNbMV07XG5cdFx0XHRydWxlcy5wLmNsYXNzZXMgPSBydWxlcy5kaXYuY2xhc3NlcztcblxuXHRcdFx0Ly8gTGVmdC9yaWdodCBjbGFzc2VzIGZyb20gdGhlIGNvbmZpZy5cblx0XHRcdHJ1bGVzLmltZy5jbGFzc2VzID0gYWxpZ25DbGFzc2VzWzBdICsgJywnICsgYWxpZ25DbGFzc2VzWzJdO1xuXHRcdFx0cnVsZXMuZmlndXJlLmNsYXNzZXMgKz0gJywnICsgcnVsZXMuaW1nLmNsYXNzZXM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIENlbnRlcmluZyB3aXRoIHRleHQtYWxpZ24uXG5cdFx0XHRydWxlcy5kaXYuc3R5bGVzID0gJ3RleHQtYWxpZ24nO1xuXHRcdFx0cnVsZXMucC5zdHlsZXMgPSAndGV4dC1hbGlnbic7XG5cblx0XHRcdHJ1bGVzLmltZy5zdHlsZXMgPSAnZmxvYXQnO1xuXHRcdFx0cnVsZXMuZmlndXJlLnN0eWxlcyA9ICdmbG9hdCxkaXNwbGF5Jztcblx0XHR9XG5cblx0XHRyZXR1cm4gcnVsZXM7XG5cdH1cblxuXHQvLyBSZXR1cm5zIGEgc2V0IG9mIHdpZGdldCBmZWF0dXJlIHJ1bGVzLCBkZXBlbmRpbmdcblx0Ly8gb24gZWRpdG9yIGNvbmZpZ3VyYXRpb24uIE5vdGUgdGhhdCB0aGUgZm9sbG93aW5nIG1heSBub3QgY292ZXJcblx0Ly8gYWxsIHRoZSBwb3NzaWJsZSBjYXNlcyBzaW5jZSByZXF1aXJlZENvbnRlbnQgc3VwcG9ydHMgYSBzaW5nbGVcblx0Ly8gdGFnIG9ubHkuXG5cdC8vXG5cdC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfVxuXHQvLyBAcmV0dXJucyB7T2JqZWN0fVxuXHRmdW5jdGlvbiBnZXRXaWRnZXRGZWF0dXJlcyhlZGl0b3IpIHtcblx0XHRjb25zdCBhbGlnbkNsYXNzZXMgPSBlZGl0b3IuY29uZmlnLmFlX2RyYWdyZXNpemVfaWUxMV9hbGlnbkNsYXNzZXM7XG5cblx0XHRjb25zdCBmZWF0dXJlcyA9IHtcblx0XHRcdGRpbWVuc2lvbjoge1xuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICdpbWdbd2lkdGgsaGVpZ2h0XScsXG5cdFx0XHR9LFxuXHRcdFx0YWxpZ246IHtcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OlxuXHRcdFx0XHRcdCdpbWcnICtcblx0XHRcdFx0XHQoYWxpZ25DbGFzc2VzID8gJygnICsgYWxpZ25DbGFzc2VzWzBdICsgJyknIDogJ3tmbG9hdH0nKSxcblx0XHRcdH0sXG5cdFx0XHRjYXB0aW9uOiB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ2ZpZ2NhcHRpb24nLFxuXHRcdFx0fSxcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGZlYXR1cmVzO1xuXHR9XG5cblx0Ly8gUmV0dXJucyBlbGVtZW50IHdoaWNoIGlzIHN0eWxlZCwgY29uc2lkZXJpbmcgY3VycmVudFxuXHQvLyBzdGF0ZSBvZiB0aGUgd2lkZ2V0LlxuXHQvL1xuXHQvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I2FwcGx5U3R5bGVcblx0Ly8gQHBhcmFtIHtDS0VESVRPUi5wbHVnaW5zLndpZGdldH0gd2lkZ2V0XG5cdC8vIEByZXR1cm5zIHtDS0VESVRPUi5kb20uZWxlbWVudH1cblx0ZnVuY3Rpb24gZ2V0U3R5bGVhYmxlRWxlbWVudCh3aWRnZXQpIHtcblx0XHRyZXR1cm4gd2lkZ2V0LmRhdGEuaGFzQ2FwdGlvbiA/IHdpZGdldC5lbGVtZW50IDogd2lkZ2V0LnBhcnRzLmltYWdlO1xuXHR9XG59KSgpO1xuXG4vKipcbiAqIEEgQ1NTIGNsYXNzIGFwcGxpZWQgdG8gdGhlIGA8ZmlndXJlPmAgZWxlbWVudCBvZiBhIGNhcHRpb25lZCBpbWFnZS5cbiAqXG4gKiBSZWFkIG1vcmUgaW4gdGhlIFtkb2N1bWVudGF0aW9uXSgjIS9ndWlkZS9kZXZfY2FwdGlvbmVkaW1hZ2UpIGFuZCBzZWUgdGhlXG4gKiBbU0RLIHNhbXBsZV0oaHR0cDovL3Nkay5ja2VkaXRvci5jb20vc2FtcGxlcy9jYXB0aW9uZWRpbWFnZS5odG1sKS5cbiAqXG4gKlx0XHQvLyBDaGFuZ2VzIHRoZSBjbGFzcyB0byBcImNhcHRpb25lZEltYWdlXCIuXG4gKlx0XHRjb25maWcuYWVfZHJhZ3Jlc2l6ZV9pZTExX2NhcHRpb25lZENsYXNzID0gJ2NhcHRpb25lZEltYWdlJztcbiAqXG4gKiBAY2ZnIHtTdHJpbmd9IFthZV9kcmFncmVzaXplX2llMTFfY2FwdGlvbmVkQ2xhc3M9J2ltYWdlJ11cbiAqIEBtZW1iZXIgQ0tFRElUT1IuY29uZmlnXG4gKi9cbkNLRURJVE9SLmNvbmZpZy5hZV9kcmFncmVzaXplX2llMTFfY2FwdGlvbmVkQ2xhc3MgPSAnaW1hZ2UnO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQge0hJR0hfUFJJT1JJVFl9IGZyb20gJy4vcHJpb3JpdGllcyc7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfZW1iZWQnKSkge1xuXHRjb25zdCBSRUdFWF9IVFRQID0gL15odHRwcz8vO1xuXG5cdGNvbnN0IFJFR0VYX0RFRkFVTFRfTElOSyA9IC88YSBocmVmPS87XG5cblx0Q0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9VUkxfVFBMID1cblx0XHQnaHR0cDovL2FsbG95LmlmcmFtZS5seS9hcGkvb2VtYmVkP3VybD17dXJsfSZjYWxsYmFjaz17Y2FsbGJhY2t9Jztcblx0Q0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9XSURHRVRfVFBMID1cblx0XHQnPGRpdiBkYXRhLWFlLWVtYmVkLXVybD1cInt1cmx9XCI+PC9kaXY+Jztcblx0Q0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9ERUZBVUxUX0xJTktfVFBMID0gJzxhIGhyZWY9XCJ7dXJsfVwiPnt1cmx9PC9hPic7XG5cdC8qKlxuXHQgKiBDS0VkaXRvciBwbHVnaW4gd2hpY2ggYWRkcyB0aGUgaW5mcmFzdHJ1Y3R1cmUgdG8gZW1iZWQgdXJscyBhcyBtZWRpYSBvYmplY3RzIHVzaW5nIGFuIG9lbWJlZFxuXHQgKiBzZXJ2aWNlLiBCeSBkZWZhdWx0LCBhbmQgZm9yIGRlbW9pbmcgcHVycG9zZXMgb25seSwgdGhlIG9lbWJlZCBzZXJ2aWNlIGlzIGhvc3RlZCBpbiBpZnJhbWUubHlcblx0ICogYXQgLy9hbGxveS5pZnJhbWUubHkvYXBpL29lbWJlZD91cmw9e3VybH0mY2FsbGJhY2s9e2NhbGxiYWNrfS4gTm90ZSB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkIHRvXG5cdCAqIGEgc2VsZi1ob3N0ZWQgb3IgcGFpZCBzZXJ2aWNlIGluIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzLiBBY2Nlc3MgdG8gdGhlIGFsbG95LmlmcmFtZS5seSBlbmRwb2ludFxuXHQgKiBtYXkgYmUgcmVzdHJpY3RlZCBwZXIgZG9tYWluIGR1ZSB0byBzaWduaWZpY2FudCB0cmFmZmljLlxuXHQgKlxuXHQgKiBUaGlzIHBsdWdpbiBhZGRzIGFuIGBlbWJlZFVybGAgY29tbWFuZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGVhc2lseSBlbWJlZCBhIFVSTCBhbmQgdHJhbnNmb3JtIGl0XG5cdCAqIHRvIGFuIGVtYmVkZGVkIGNvbnRlbnQuXG5cdCAqXG5cdCAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmFlX2VtYmVkXG5cdCAqL1xuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfZW1iZWQnLCB7XG5cdFx0cmVxdWlyZXM6ICd3aWRnZXQnLFxuXHRcdGluaXQoZWRpdG9yKSB7XG5cdFx0XHRjb25zdCBBRV9FTUJFRF9VUkxfVFBMID0gbmV3IENLRURJVE9SLnRlbXBsYXRlKFxuXHRcdFx0XHRlZGl0b3IuY29uZmlnLmVtYmVkVXJsVGVtcGxhdGUgfHxcblx0XHRcdFx0XHRDS0VESVRPUi5ERUZBVUxUX0FFX0VNQkVEX1VSTF9UUExcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBBRV9FTUJFRF9XSURHRVRfVFBMID0gbmV3IENLRURJVE9SLnRlbXBsYXRlKFxuXHRcdFx0XHRlZGl0b3IuY29uZmlnLmVtYmVkV2lkZ2V0VHBsIHx8XG5cdFx0XHRcdFx0Q0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9XSURHRVRfVFBMXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgQUVfRU1CRURfREVGQVVMVF9MSU5LX1RQTCA9IG5ldyBDS0VESVRPUi50ZW1wbGF0ZShcblx0XHRcdFx0ZWRpdG9yLmNvbmZpZy5lbWJlZExpbmtEZWZhdWx0VHBsIHx8XG5cdFx0XHRcdFx0Q0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9ERUZBVUxUX0xJTktfVFBMXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBEZWZhdWx0IGZ1bmN0aW9uIHRvIHVwY2FzdCBET00gZWxlbWVudHMgdG8gZW1iZWQgd2lkZ2V0cy5cblx0XHRcdC8vIEl0IG1hdGNoZXMgQ0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9XSURHRVRfVFBMXG5cdFx0XHRjb25zdCBkZWZhdWx0RW1iZWRXaWRnZXRVcGNhc3RGbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGRhdGEpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGVsZW1lbnQubmFtZSA9PT0gJ2RpdicgJiZcblx0XHRcdFx0XHRlbGVtZW50LmF0dHJpYnV0ZXNbJ2RhdGEtYWUtZW1iZWQtdXJsJ11cblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0ZGF0YS51cmwgPSBlbGVtZW50LmF0dHJpYnV0ZXNbJ2RhdGEtYWUtZW1iZWQtdXJsJ107XG5cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gQ3JlYXRlIGEgZW1iZWRVcmwgY29tbWFuZCB0aGF0IGNhbiBiZSBpbnZva2VkIHRvIGVhc2lseSBlbWJlZCBtZWRpYSBVUkxzXG5cdFx0XHRlZGl0b3IuYWRkQ29tbWFuZCgnZW1iZWRVcmwnLCB7XG5cdFx0XHRcdGV4ZWMoZWRpdG9yLCBkYXRhKSB7XG5cdFx0XHRcdFx0ZWRpdG9yLmluc2VydEh0bWwoXG5cdFx0XHRcdFx0XHRBRV9FTUJFRF9XSURHRVRfVFBMLm91dHB1dCh7XG5cdFx0XHRcdFx0XHRcdHVybDogZGF0YS51cmwsXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQ3JlYXRlIGEgd2lkZ2V0IHRvIHByb3Blcmx5IGhhbmRsZSBlbWJlZCBvcGVyYXRpb25zXG5cdFx0XHRlZGl0b3Iud2lkZ2V0cy5hZGQoJ2FlX2VtYmVkJywge1xuXHRcdFx0XHRtYXNrOiB0cnVlLFxuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICdkaXZbZGF0YS1hZS1lbWJlZC11cmxdJyxcblxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogTGlzdGVuZXIgdG8gYmUgZXhlY3V0ZWQgZXZlcnkgdGltZSB0aGUgd2lkZ2V0J3MgZGF0YSBjaGFuZ2VzLiBJdCB0YWtlcyBjYXJlIG9mXG5cdFx0XHRcdCAqIHJlcXVlc3RpbmcgdGhlIGVtYmVkIG9iamVjdCB0byB0aGUgY29uZmlndXJlZCBvZW1iZWQgc2VydmljZSBhbmQgcmVuZGVyIGl0IGluXG5cdFx0XHRcdCAqIHRoZSBlZGl0b3Jcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQG1ldGhvZCBkYXRhXG5cdFx0XHRcdCAqIEBwYXJhbSB7ZXZlbnR9IGV2ZW50IERhdGEgY2hhbmdlIGV2ZW50XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRkYXRhKGV2ZW50KSB7XG5cdFx0XHRcdFx0Y29uc3Qgd2lkZ2V0ID0gdGhpcztcblxuXHRcdFx0XHRcdGNvbnN0IHVybCA9IGV2ZW50LmRhdGEudXJsO1xuXG5cdFx0XHRcdFx0aWYgKHVybCkge1xuXHRcdFx0XHRcdFx0Q0tFRElUT1IudG9vbHMuanNvbnAoXG5cdFx0XHRcdFx0XHRcdEFFX0VNQkVEX1VSTF9UUEwsXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR1cmw6IGVuY29kZVVSSUNvbXBvbmVudCh1cmwpLFxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlLmh0bWwpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0XHRcdFx0UkVHRVhfREVGQVVMVF9MSU5LLnRlc3QocmVzcG9uc2UuaHRtbClcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aWRnZXQuY3JlYXRlQVRhZyh1cmwpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkZ2V0LmVsZW1lbnQuc2V0SHRtbChyZXNwb25zZS5odG1sKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0d2lkZ2V0LmNyZWF0ZUFUYWcodXJsKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdF9tc2cgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHdpZGdldC5jcmVhdGVBVGFnKHVybCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdGNyZWF0ZUFUYWcodXJsKSB7XG5cdFx0XHRcdFx0dGhpcy5lZGl0b3IuZXhlY0NvbW1hbmQoJ3VuZG8nKTtcblxuXHRcdFx0XHRcdGNvbnN0IGFUYWdIdG1sID0gQUVfRU1CRURfREVGQVVMVF9MSU5LX1RQTC5vdXRwdXQoe1xuXHRcdFx0XHRcdFx0dXJsLFxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0dGhpcy5lZGl0b3IuaW5zZXJ0SHRtbChhVGFnSHRtbCk7XG5cdFx0XHRcdFx0dGhpcy5lZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIEZ1bmN0aW9uIHVzZWQgdG8gdXBjYXN0IGFuIGVsZW1lbnQgdG8gYWVfZW1iZWQgd2lkZ2V0cy5cblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQG1ldGhvZCB1cGNhc3Rcblx0XHRcdFx0ICogQHBhcmFtIHtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYmUgY2hlY2tlZFxuXHRcdFx0XHQgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIHdpZGdldFxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dXBjYXN0KGVsZW1lbnQsIGRhdGEpIHtcblx0XHRcdFx0XHRjb25zdCBlbWJlZFdpZGdldFVwY2FzdEZuID1cblx0XHRcdFx0XHRcdGVkaXRvci5jb25maWcuZW1iZWRXaWRnZXRVcGNhc3RGbiB8fFxuXHRcdFx0XHRcdFx0ZGVmYXVsdEVtYmVkV2lkZ2V0VXBjYXN0Rm47XG5cblx0XHRcdFx0XHRyZXR1cm4gZW1iZWRXaWRnZXRVcGNhc3RGbihlbGVtZW50LCBkYXRhKTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBZGQgYSBsaXN0ZW5lciB0byBoYW5kbGUgcGFzdGUgZXZlbnRzIGFuZCB0dXJuIGxpbmtzIGludG8gZW1iZWQgb2JqZWN0c1xuXHRcdFx0ZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCAoKSA9PiB7XG5cdFx0XHRcdGVkaXRvci5vbihcblx0XHRcdFx0XHQncGFzdGUnLFxuXHRcdFx0XHRcdGV2ZW50ID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGxpbmsgPSBldmVudC5kYXRhLmRhdGFWYWx1ZTtcblxuXHRcdFx0XHRcdFx0aWYgKFJFR0VYX0hUVFAudGVzdChsaW5rKSkge1xuXHRcdFx0XHRcdFx0XHRldmVudC5zdG9wKCk7XG5cblx0XHRcdFx0XHRcdFx0ZWRpdG9yLmV4ZWNDb21tYW5kKCdlbWJlZFVybCcsIHtcblx0XHRcdFx0XHRcdFx0XHR1cmw6IGV2ZW50LmRhdGEuZGF0YVZhbHVlLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XHQvLyBNYWtlIHN1cmUgd2UgcnVuIGJlZm9yZSBhdXRvbGluaydzIHBhc3RlIGhhbmRsZXIsXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHRoZSBsaW5rIHdpbGwgYmUgdHVybmVkIGludG8gYW4gYW5jaG9yIGFuZCBvdXJcblx0XHRcdFx0XHQvLyBSRUdFWF9IVFRQIHRlc3Qgd2lsbCBmYWlsLlxuXHRcdFx0XHRcdEhJR0hfUFJJT1JJVFlcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBZGQgYSBsaXN0ZW5lciB0byBoYW5kbGUgc2VsZWN0aW9uIGNoYW5nZSBldmVudHMgYW5kIHByb3Blcmx5IGRldGVjdCBlZGl0b3Jcblx0XHRcdC8vIGludGVyYWN0aW9ucyBvbiB0aGUgd2lkZ2V0cyB3aXRob3V0IG1lc3Npbmcgd2l0aCB3aWRnZXQgbmF0aXZlIHNlbGVjdGlvblxuXHRcdFx0ZWRpdG9yLm9uKCdzZWxlY3Rpb25DaGFuZ2UnLCBfZXZlbnQgPT4ge1xuXHRcdFx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cblx0XHRcdFx0aWYgKHNlbGVjdGlvbikge1xuXHRcdFx0XHRcdGNvbnN0IGVsZW1lbnQgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7XG5cblx0XHRcdFx0XHRpZiAoZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgd2lkZ2V0RWxlbWVudCA9IGVsZW1lbnQuZmluZE9uZShcblx0XHRcdFx0XHRcdFx0J1tkYXRhLXdpZGdldD1cImFlX2VtYmVkXCJdJ1xuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0aWYgKHdpZGdldEVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcmVnaW9uID0gZWxlbWVudC5nZXRDbGllbnRSZWN0KCk7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3Qgc2Nyb2xsUG9zaXRpb24gPSBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyhcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3dcblx0XHRcdFx0XHRcdFx0KS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuXHRcdFx0XHRcdFx0XHRyZWdpb24ubGVmdCAtPSBzY3JvbGxQb3NpdGlvbi54O1xuXHRcdFx0XHRcdFx0XHRyZWdpb24udG9wICs9IHNjcm9sbFBvc2l0aW9uLnk7XG5cblx0XHRcdFx0XHRcdFx0cmVnaW9uLmRpcmVjdGlvbiA9IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QO1xuXG5cdFx0XHRcdFx0XHRcdGVkaXRvci5maXJlKCdlZGl0b3JJbnRlcmFjdGlvbicsIHtcblx0XHRcdFx0XHRcdFx0XHRuYXRpdmVFdmVudDoge30sXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0aW9uRGF0YToge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbWVudDogd2lkZ2V0RWxlbWVudCxcblx0XHRcdFx0XHRcdFx0XHRcdHJlZ2lvbixcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBZGQgYSBmaWx0ZXIgdG8gc2tpcCBmaWx0ZXJpbmcgd2lkZ2V0IGVsZW1lbnRzXG5cdFx0XHRlZGl0b3IuZmlsdGVyLmFkZEVsZW1lbnRDYWxsYmFjayhlbGVtZW50ID0+IHtcblx0XHRcdFx0aWYgKCdkYXRhLWFlLWVtYmVkLXVybCcgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIENLRURJVE9SLkZJTFRFUl9TS0lQX1RSRUU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdH0pO1xufVxuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVzaXplciBmcm9tICcuL1Jlc2l6ZXIuZXMnO1xuXG5pZiAoIUNLRURJVE9SLnBsdWdpbnMuZ2V0KCdlbWJlZHVybCcpKSB7XG5cdGNvbnN0IFJFR0VYX0hUVFAgPSAvXmh0dHBzPy87XG5cblx0Q0tFRElUT1IuREVGQVVMVF9MRlJfRU1CRURfV0lER0VUX1RQTCA9XG5cdFx0JzxkaXYgZGF0YS1lbWJlZC11cmw9XCJ7dXJsfVwiIGNsYXNzPVwiZW1iZWQtcmVzcG9uc2l2ZSBlbWJlZC1yZXNwb25zaXZlLTE2Ynk5XCI+e2NvbnRlbnR9PGRpdiBjbGFzcz1cImVtYmVkLWhlbHAtbWVzc2FnZVwiPntoZWxwTWVzc2FnZUljb259PHNwYW4+IHtoZWxwTWVzc2FnZX08L3NwYW4+PC9kaXY+PC9kaXY+PGJyPic7XG5cblx0LyoqXG5cdCAqIEVudW0gZm9yIHN1cHBvcnRlZCBlbWJlZCBhbGlnbm1lbnRzXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqL1xuXG5cdGNvbnN0IEVNQkVEX0FMSUdOTUVOVCA9IHtcblx0XHRDRU5URVI6ICdjZW50ZXInLFxuXHRcdExFRlQ6ICdsZWZ0Jyxcblx0XHRSSUdIVDogJ3JpZ2h0Jyxcblx0fTtcblxuXHQvKipcblx0ICogRW51bSB2YWx1ZXMgZm9yIHN1cHBvcnRlZCBlbWJlZCBhbGlnbm1lbnRzXG5cdCAqIEB0eXBlIHtBcnJheX1cblx0ICovXG5cblx0Y29uc3QgQUxJR05fVkFMVUVTID0gW1xuXHRcdEVNQkVEX0FMSUdOTUVOVC5DRU5URVIsXG5cdFx0RU1CRURfQUxJR05NRU5ULkxFRlQsXG5cdFx0RU1CRURfQUxJR05NRU5ULlJJR0hULFxuXHRdO1xuXG5cdC8qKlxuXHQgKiBOZWNlc3Nhcnkgc3R5bGVzIGZvciB0aGUgY2VudGVyIGFsaWdubWVudFxuXHQgKiBAdHlwZSB7QXJyYXkuPE9iamVjdD59XG5cdCAqL1xuXG5cdGNvbnN0IENFTlRFUkVEX0VNQkVEX1NUWUxFID0gW1xuXHRcdHtcblx0XHRcdG5hbWU6ICdkaXNwbGF5Jyxcblx0XHRcdHZhbHVlOiAnYmxvY2snLFxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0bmFtZTogJ21hcmdpbi1sZWZ0Jyxcblx0XHRcdHZhbHVlOiAnYXV0bycsXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRuYW1lOiAnbWFyZ2luLXJpZ2h0Jyxcblx0XHRcdHZhbHVlOiAnYXV0bycsXG5cdFx0fSxcblx0XTtcblxuXHQvKipcblx0ICogUmV0cmlldmVzIHRoZSBhbGlnbm1lbnQgdmFsdWUgb2YgYW4gZW1iZWQgZWxlbWVudC5cblx0ICpcblx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gZW1iZWQgVGhlIGVtYmVkIGVsZW1lbnRcblx0ICogQHJldHVybiB7U3RyaW5nfSBUaGUgYWxpZ25tZW50IHZhbHVlXG5cdCAqL1xuXG5cdGNvbnN0IGdldEVtYmVkQWxpZ25tZW50ID0gZnVuY3Rpb24oZW1iZWQpIHtcblx0XHRsZXQgZW1iZWRBbGlnbm1lbnQgPSBlbWJlZC5nZXRTdHlsZSgnZmxvYXQnKTtcblxuXHRcdGlmIChcblx0XHRcdCFlbWJlZEFsaWdubWVudCB8fFxuXHRcdFx0ZW1iZWRBbGlnbm1lbnQgPT09ICdpbmhlcml0JyB8fFxuXHRcdFx0ZW1iZWRBbGlnbm1lbnQgPT09ICdub25lJ1xuXHRcdCkge1xuXHRcdFx0ZW1iZWRBbGlnbm1lbnQgPSBlbWJlZC5nZXRBdHRyaWJ1dGUoJ2FsaWduJyk7XG5cdFx0fVxuXG5cdFx0aWYgKCFlbWJlZEFsaWdubWVudCkge1xuXHRcdFx0Y29uc3QgY2VudGVyZWRFbWJlZCA9IENFTlRFUkVEX0VNQkVEX1NUWUxFLmV2ZXJ5KHN0eWxlID0+IHtcblx0XHRcdFx0bGV0IHN0eWxlQ2hlY2sgPSBlbWJlZC5nZXRTdHlsZShzdHlsZS5uYW1lKSA9PT0gc3R5bGUudmFsdWU7XG5cblx0XHRcdFx0aWYgKCFzdHlsZUNoZWNrICYmIHN0eWxlLnZlbmRvclByZWZpeGVzKSB7XG5cdFx0XHRcdFx0c3R5bGVDaGVjayA9IHN0eWxlLnZlbmRvclByZWZpeGVzLnNvbWUoXG5cdFx0XHRcdFx0XHR2ZW5kb3JQcmVmaXggPT5cblx0XHRcdFx0XHRcdFx0ZW1iZWQuZ2V0U3R5bGUodmVuZG9yUHJlZml4ICsgc3R5bGUubmFtZSkgPT09XG5cdFx0XHRcdFx0XHRcdHN0eWxlLnZhbHVlXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBzdHlsZUNoZWNrO1xuXHRcdFx0fSk7XG5cblx0XHRcdGVtYmVkQWxpZ25tZW50ID0gY2VudGVyZWRFbWJlZCA/IEVNQkVEX0FMSUdOTUVOVC5DRU5URVIgOiBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiBlbWJlZEFsaWdubWVudDtcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlcyB0aGUgYWxpZ25tZW50IHZhbHVlIG9mIGFuIGVtYmVkXG5cdCAqXG5cdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGVtYmVkIFRoZSBlbWJlZCBlbGVtZW50XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBlbWJlZEFsaWdubWVudCBUaGUgZW1iZWQgYWxpZ25tZW50IHZhbHVlIHRvIGJlIHJlbW92ZWRcblx0ICovXG5cblx0Y29uc3QgcmVtb3ZlRW1iZWRBbGlnbm1lbnQgPSBmdW5jdGlvbihlbWJlZCwgZW1iZWRBbGlnbm1lbnQpIHtcblx0XHRpZiAoXG5cdFx0XHRlbWJlZEFsaWdubWVudCA9PT0gRU1CRURfQUxJR05NRU5ULkxFRlQgfHxcblx0XHRcdGVtYmVkQWxpZ25tZW50ID09PSBFTUJFRF9BTElHTk1FTlQuUklHSFRcblx0XHQpIHtcblx0XHRcdGVtYmVkLnJlbW92ZVN0eWxlKCdmbG9hdCcpO1xuXG5cdFx0XHRpZiAoZW1iZWRBbGlnbm1lbnQgPT09IGdldEVtYmVkQWxpZ25tZW50KGVtYmVkKSkge1xuXHRcdFx0XHRlbWJlZC5yZW1vdmVBdHRyaWJ1dGUoJ2FsaWduJyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChlbWJlZEFsaWdubWVudCA9PT0gRU1CRURfQUxJR05NRU5ULkNFTlRFUikge1xuXHRcdFx0Q0VOVEVSRURfRU1CRURfU1RZTEUuZm9yRWFjaChzdHlsZSA9PiB7XG5cdFx0XHRcdGVtYmVkLnJlbW92ZVN0eWxlKHN0eWxlLm5hbWUpO1xuXG5cdFx0XHRcdGlmIChzdHlsZS52ZW5kb3JQcmVmaXhlcykge1xuXHRcdFx0XHRcdHN0eWxlLnZlbmRvclByZWZpeGVzLmZvckVhY2godmVuZG9yUHJlZml4ID0+XG5cdFx0XHRcdFx0XHRlbWJlZC5yZW1vdmVTdHlsZSh2ZW5kb3JQcmVmaXggKyBzdHlsZS5uYW1lKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogU2V0cyB0aGUgYWxpZ25tZW50IHZhbHVlIG9mIGFuIGVtYmVkXG5cdCAqXG5cdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGVtYmVkIFRoZSBlbWJlZCBlbGVtZW50XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBlbWJlZEFsaWdubWVudCBUaGUgZW1iZWQgYWxpZ25tZW50IHZhbHVlIHRvIGJlIHNldFxuXHQgKi9cblxuXHRjb25zdCBzZXRFbWJlZEFsaWdubWVudCA9IGZ1bmN0aW9uKGVtYmVkLCBlbWJlZEFsaWdubWVudCkge1xuXHRcdHJlbW92ZUVtYmVkQWxpZ25tZW50KGVtYmVkLCBnZXRFbWJlZEFsaWdubWVudChlbWJlZCkpO1xuXG5cdFx0aWYgKFxuXHRcdFx0ZW1iZWRBbGlnbm1lbnQgPT09IEVNQkVEX0FMSUdOTUVOVC5MRUZUIHx8XG5cdFx0XHRlbWJlZEFsaWdubWVudCA9PT0gRU1CRURfQUxJR05NRU5ULlJJR0hUXG5cdFx0KSB7XG5cdFx0XHRlbWJlZC5zZXRTdHlsZSgnZmxvYXQnLCBlbWJlZEFsaWdubWVudCk7XG5cdFx0fSBlbHNlIGlmIChlbWJlZEFsaWdubWVudCA9PT0gRU1CRURfQUxJR05NRU5ULkNFTlRFUikge1xuXHRcdFx0Q0VOVEVSRURfRU1CRURfU1RZTEUuZm9yRWFjaChzdHlsZSA9PiB7XG5cdFx0XHRcdGVtYmVkLnNldFN0eWxlKHN0eWxlLm5hbWUsIHN0eWxlLnZhbHVlKTtcblxuXHRcdFx0XHRpZiAoc3R5bGUudmVuZG9yUHJlZml4ZXMpIHtcblx0XHRcdFx0XHRzdHlsZS52ZW5kb3JQcmVmaXhlcy5mb3JFYWNoKHZlbmRvclByZWZpeCA9PlxuXHRcdFx0XHRcdFx0ZW1iZWQuc2V0U3R5bGUodmVuZG9yUHJlZml4ICsgc3R5bGUubmFtZSwgc3R5bGUudmFsdWUpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IGdldFNlbGVjdGVkRWxlbWVudCA9IGZ1bmN0aW9uKGVkaXRvcikge1xuXHRcdGNvbnN0IHJlc3VsdCA9IHtcblx0XHRcdGFsaWdubWVudDogbnVsbCxcblx0XHRcdGVsZW1lbnQ6IG51bGwsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuXHRcdGlmIChzZWxlY3Rpb24pIHtcblx0XHRcdGNvbnN0IHNlbGVjdGVkRWxlbWVudCA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRzZWxlY3RlZEVsZW1lbnQgJiZcblx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXInKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJlc3VsdC5hbGlnbm1lbnQgPSBnZXRFbWJlZEFsaWdubWVudChzZWxlY3RlZEVsZW1lbnQpO1xuXHRcdFx0XHRyZXN1bHQuZWxlbWVudCA9IHNlbGVjdGVkRWxlbWVudDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdGNvbnN0IHJlc2l6ZUVsZW1lbnQgPSBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkge1xuXHRcdGNvbnN0IHdyYXBwZXJFbGVtZW50ID0gZWwucGFyZW50RWxlbWVudDtcblxuXHRcdGlmICh3cmFwcGVyRWxlbWVudCAmJiB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCkge1xuXHRcdFx0Y29uc3QgcmVjdCA9IHdyYXBwZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRjb25zdCBwd2lkdGggPVxuXHRcdFx0XHR3aWR0aCA+PSByZWN0LndpZHRoXG5cdFx0XHRcdFx0PyAxMDBcblx0XHRcdFx0XHQ6IE1hdGguZmxvb3IoKHdpZHRoIC8gcmVjdC53aWR0aCkgKiAxMDApO1xuXHRcdFx0Y29uc3Qgc3R5bGUgPSBgd2lkdGg6JHtwd2lkdGh9JTtgO1xuXG5cdFx0XHR3cmFwcGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgc3R5bGUpO1xuXG5cdFx0XHRjb25zdCB3aWRnZXRFbGVtZW50ID0gd3JhcHBlckVsZW1lbnQucXVlcnlTZWxlY3Rvcihcblx0XHRcdFx0J1tkYXRhLXdpZGdldD1cImVtYmVkdXJsXCJdJ1xuXHRcdFx0KTtcblxuXHRcdFx0aWYgKHdpZGdldEVsZW1lbnQpIHtcblx0XHRcdFx0Y29uc3Qgc3R5bGVzID1cblx0XHRcdFx0XHRKU09OLnBhcnNlKHdpZGdldEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0eWxlcycpKSB8fCB7fTtcblxuXHRcdFx0XHRzdHlsZXMud2lkdGggPSBgJHt3aWR0aH1weGA7XG5cdFx0XHRcdHN0eWxlcy5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuXG5cdFx0XHRcdHdpZGdldEVsZW1lbnQuc2V0QXR0cmlidXRlKFxuXHRcdFx0XHRcdCdkYXRhLXN0eWxlcycsXG5cdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkoc3R5bGVzKVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGNvbnN0IGlmcmFtZUVsZW1lbnQgPSB3aWRnZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xuXG5cdFx0XHRcdGlmIChpZnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdFx0aWZyYW1lRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xuXHRcdFx0XHRcdGlmcmFtZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IHNlbGVjdFdpZGdldCA9IGZ1bmN0aW9uKGVkaXRvcikge1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG5cdFx0XHRpZiAoc2VsZWN0aW9uKSB7XG5cdFx0XHRcdGNvbnN0IHdyYXBwZXJFbGVtZW50ID0gc2VsZWN0aW9uLnJvb3QuZmluZChcblx0XHRcdFx0XHQnW2RhdGEtY2tlLXdpZGdldC13cmFwcGVyXSdcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAod3JhcHBlckVsZW1lbnQpIHtcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50TGlzdCA9IHdyYXBwZXJFbGVtZW50LiQ7XG5cdFx0XHRcdFx0aWYgKGVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IGxhc3RFbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRlbGVtZW50TGlzdFtlbGVtZW50TGlzdC5sZW5ndGggLSAxXVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Y29uc3QgaW1hZ2VFbGVtZW50ID0gbGFzdEVsZW1lbnQuZmluZE9uZSgnaW1nJyk7XG5cdFx0XHRcdFx0XHRjb25zdCB3aWRnZXRFbGVtZW50ID0gbGFzdEVsZW1lbnQuZmluZE9uZShcblx0XHRcdFx0XHRcdFx0J1tkYXRhLXdpZGdldD1cImVtYmVkdXJsXCJdJ1xuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0aWYgKGltYWdlRWxlbWVudCAmJiB3aWRnZXRFbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJhbmdlID0gZWRpdG9yLmNyZWF0ZVJhbmdlKCk7XG5cblx0XHRcdFx0XHRcdFx0cmFuZ2Uuc2V0U3RhcnQod2lkZ2V0RWxlbWVudCwgMCk7XG5cdFx0XHRcdFx0XHRcdHJhbmdlLnNldEVuZChpbWFnZUVsZW1lbnQsIDEpO1xuXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGlvbi5zZWxlY3RSYW5nZXMoW3JhbmdlXSk7XG5cdFx0XHRcdFx0XHRcdHNlbGVjdGlvbi5zZWxlY3RFbGVtZW50KGxhc3RFbGVtZW50KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LCAwKTtcblx0fTtcblxuXHRsZXQgY3VycmVudEFsaWdubWVudCA9IG51bGw7XG5cdGxldCBjdXJyZW50RWxlbWVudCA9IG51bGw7XG5cdGxldCByZXNpemVyID0gbnVsbDtcblxuXHQvKipcblx0ICogQ0tFZGl0b3IgcGx1Z2luIHdoaWNoIGFkZHMgdGhlIGluZnJhc3RydWN0dXJlIHRvIGVtYmVkIHVybHMgYXMgbWVkaWEgb2JqZWN0c1xuXHQgKlxuXHQgKiBUaGlzIHBsdWdpbiBhZGRzIGFuIGBlbWJlZFVybGAgY29tbWFuZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGVhc2lseSBlbWJlZCBhIFVSTCBhbmQgdHJhbnNmb3JtIGl0XG5cdCAqIHRvIGFuIGVtYmVkZGVkIGNvbnRlbnQuXG5cdCAqXG5cdCAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmVtYmVkdXJsXG5cdCAqL1xuXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdlbWJlZHVybCcsIHtcblx0XHRyZXF1aXJlczogJ3dpZGdldCcsXG5cblx0XHRpbml0OiBlZGl0b3IgPT4ge1xuXHRcdFx0Y29uc3QgTEZSX0VNQkVEX1dJREdFVF9UUEwgPSBuZXcgQ0tFRElUT1IudGVtcGxhdGUoXG5cdFx0XHRcdGVkaXRvci5jb25maWcuZW1iZWRXaWRnZXRUcGwgfHxcblx0XHRcdFx0XHRDS0VESVRPUi5ERUZBVUxUX0xGUl9FTUJFRF9XSURHRVRfVFBMXG5cdFx0XHQpO1xuXG5cdFx0XHRsZXQgcHJvdmlkZXJzID0gZWRpdG9yLmNvbmZpZy5lbWJlZFByb3ZpZGVycyB8fCBbXTtcblxuXHRcdFx0cHJvdmlkZXJzID0gcHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0aWQ6IHByb3ZpZGVyLmlkLFxuXHRcdFx0XHRcdHRwbDogbmV3IENLRURJVE9SLnRlbXBsYXRlKFxuXHRcdFx0XHRcdFx0YDxkaXYgZGF0YS1lbWJlZC1pZD1cIntlbWJlZElkfVwiPiR7cHJvdmlkZXIudHBsfTwvZGl2PmBcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdHR5cGU6IHByb3ZpZGVyLnR5cGUsXG5cdFx0XHRcdFx0dXJsU2NoZW1lczogcHJvdmlkZXIudXJsU2NoZW1lcy5tYXAoXG5cdFx0XHRcdFx0XHRzY2hlbWUgPT4gbmV3IFJlZ0V4cChzY2hlbWUpXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBnZW5lcmF0ZUVtYmVkQ29udGVudCA9ICh1cmwsIGNvbnRlbnQpID0+IHtcblx0XHRcdFx0cmV0dXJuIExGUl9FTUJFRF9XSURHRVRfVFBMLm91dHB1dCh7XG5cdFx0XHRcdFx0Y29udGVudCxcblx0XHRcdFx0XHRoZWxwTWVzc2FnZTogQWxsb3lFZGl0b3IuU3RyaW5ncy52aWRlb1BsYXliYWNrRGlzYWJsZWQsXG5cdFx0XHRcdFx0aGVscE1lc3NhZ2VJY29uOiBMaWZlcmF5LlV0aWwuZ2V0TGV4aWNvbkljb25UcGwoXG5cdFx0XHRcdFx0XHQnaW5mby1jaXJjbGUnXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0XHR1cmwsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3QgZGVmYXVsdEVtYmVkV2lkZ2V0VXBjYXN0Rm4gPSAoZWxlbWVudCwgZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgdXBjYXN0V2lkZ2V0ID0gZmFsc2U7XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGVsZW1lbnQubmFtZSA9PT0gJ2RpdicgJiZcblx0XHRcdFx0XHRlbGVtZW50LmF0dHJpYnV0ZXNbJ2RhdGEtZW1iZWQtdXJsJ11cblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0ZGF0YS51cmwgPSBlbGVtZW50LmF0dHJpYnV0ZXNbJ2RhdGEtZW1iZWQtdXJsJ107XG5cblx0XHRcdFx0XHR1cGNhc3RXaWRnZXQgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRcdGVsZW1lbnQubmFtZSA9PT0gJ2RpdicgJiZcblx0XHRcdFx0XHRlbGVtZW50LmF0dHJpYnV0ZXNbJ2RhdGEtZW1iZWQtaWQnXVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjb25zdCBpZnJhbWUgPSBlbGVtZW50LmNoaWxkcmVuWzBdO1xuXG5cdFx0XHRcdFx0ZGF0YS51cmwgPSBpZnJhbWUuYXR0cmlidXRlcy5zcmM7XG5cblx0XHRcdFx0XHRkZWxldGUgZWxlbWVudC5hdHRyaWJ1dGVzLnN0eWxlO1xuXG5cdFx0XHRcdFx0Y29uc3QgZW1iZWRDb250ZW50ID0gZ2VuZXJhdGVFbWJlZENvbnRlbnQoXG5cdFx0XHRcdFx0XHRkYXRhLnVybCxcblx0XHRcdFx0XHRcdGVsZW1lbnQuZ2V0T3V0ZXJIdG1sKClcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0Y29uc3Qgd2lkZ2V0RnJhZ21lbnQgPSBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChcblx0XHRcdFx0XHRcdGVtYmVkQ29udGVudFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHR1cGNhc3RXaWRnZXQgPSB3aWRnZXRGcmFnbWVudC5jaGlsZHJlblswXTtcblxuXHRcdFx0XHRcdHVwY2FzdFdpZGdldC5hdHRyaWJ1dGVzWydkYXRhLXN0eWxlcyddID1cblx0XHRcdFx0XHRcdGVsZW1lbnQuYXR0cmlidXRlc1snZGF0YS1zdHlsZXMnXTtcblx0XHRcdFx0XHR1cGNhc3RXaWRnZXQucmVtb3ZlQ2xhc3MoJ2VtYmVkLXJlc3BvbnNpdmUnKTtcblx0XHRcdFx0XHR1cGNhc3RXaWRnZXQucmVtb3ZlQ2xhc3MoJ2VtYmVkLXJlc3BvbnNpdmUtMTZieTknKTtcblxuXHRcdFx0XHRcdGVsZW1lbnQucmVwbGFjZVdpdGgodXBjYXN0V2lkZ2V0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB1cGNhc3RXaWRnZXQ7XG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCBzaG93RXJyb3IgPSBlcnJvck1zZyA9PiB7XG5cdFx0XHRcdGVkaXRvci5maXJlKCdlcnJvcicsIGVycm9yTXNnKTtcblxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRlZGl0b3IuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cblx0XHRcdFx0XHRlZGl0b3IuZm9jdXMoKTtcblxuXHRcdFx0XHRcdHJlc2l6ZXIuaGlkZSgpO1xuXHRcdFx0XHR9LCAwKTtcblx0XHRcdH07XG5cblx0XHRcdGVkaXRvci5hZGRDb21tYW5kKCdlbWJlZFVybCcsIHtcblx0XHRcdFx0ZXhlYzogKGVkaXRvciwgZGF0YSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHR5cGUgPSBkYXRhLnR5cGU7XG5cdFx0XHRcdFx0Y29uc3QgdXJsID0gZGF0YS51cmw7XG5cdFx0XHRcdFx0bGV0IGNvbnRlbnQ7XG5cblx0XHRcdFx0XHRpZiAoUkVHRVhfSFRUUC50ZXN0KHVybCkpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHZhbGlkUHJvdmlkZXIgPSBwcm92aWRlcnNcblx0XHRcdFx0XHRcdFx0LmZpbHRlcihwcm92aWRlciA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHR5cGUgPyBwcm92aWRlci50eXBlID09PSB0eXBlIDogdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0LnNvbWUocHJvdmlkZXIgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHNjaGVtZSA9IHByb3ZpZGVyLnVybFNjaGVtZXMuZmluZChcblx0XHRcdFx0XHRcdFx0XHRcdHNjaGVtZSA9PiBzY2hlbWUudGVzdCh1cmwpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChzY2hlbWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGVtYmVkSWQgPSBzY2hlbWUuZXhlYyh1cmwpWzFdO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZW50ID0gcHJvdmlkZXIudHBsLm91dHB1dCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVtYmVkSWQsXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2NoZW1lO1xuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0aWYgKHZhbGlkUHJvdmlkZXIpIHtcblx0XHRcdFx0XHRcdFx0ZWRpdG9yLl9zZWxlY3RFbWJlZFdpZGdldCA9IHVybDtcblxuXHRcdFx0XHRcdFx0XHRjb25zdCBlbWJlZENvbnRlbnQgPSBnZW5lcmF0ZUVtYmVkQ29udGVudChcblx0XHRcdFx0XHRcdFx0XHR1cmwsXG5cdFx0XHRcdFx0XHRcdFx0Y29udGVudFxuXHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdGVkaXRvci5pbnNlcnRIdG1sKGVtYmVkQ29udGVudCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRzaG93RXJyb3IoQWxsb3lFZGl0b3IuU3RyaW5ncy5wbGF0Zm9ybU5vdFN1cHBvcnRlZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNob3dFcnJvcihBbGxveUVkaXRvci5TdHJpbmdzLmVudGVyVmFsaWRVcmwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHRlZGl0b3Iud2lkZ2V0cy5hZGQoJ2VtYmVkdXJsJywge1xuXHRcdFx0XHRkcmFnZ2FibGU6IGZhbHNlLFxuXHRcdFx0XHRtYXNrOiB0cnVlLFxuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICdkaXZbZGF0YS1lbWJlZC11cmxdJyxcblxuXHRcdFx0XHRkYXRhKGV2ZW50KSB7XG5cdFx0XHRcdFx0Y29uc3QgaW5zdGFuY2UgPSB0aGlzO1xuXG5cdFx0XHRcdFx0Ly8gU3luYyBkaW1lbnNpb25zIGFuZCBhbGlnbm1lbnQgd2l0aCBlZGl0b3Igd3JhcHBlclxuXG5cdFx0XHRcdFx0bGV0IHN0eWxlcyA9IG51bGw7XG5cblx0XHRcdFx0XHRjb25zdCBzdHlsZXNKU09OID0gaW5zdGFuY2UuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXG5cdFx0XHRcdFx0XHQnZGF0YS1zdHlsZXMnXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGlmIChzdHlsZXNKU09OKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRzdHlsZXMgPSBKU09OLnBhcnNlKHN0eWxlc0pTT04pO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoX2Vycm9yKSB7XG5cdFx0XHRcdFx0XHRcdHN0eWxlcyA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFzdHlsZXMpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGlmcmFtZSA9IGluc3RhbmNlLndyYXBwZXIuZmluZE9uZSgnaWZyYW1lJyk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGJvdW5kcyA9IGluc3RhbmNlLndyYXBwZXIuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0XHRcdGNvbnN0IHdpZHRoID0gaWZyYW1lLmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcblxuXHRcdFx0XHRcdFx0Y29uc3QgcHdpZHRoID1cblx0XHRcdFx0XHRcdFx0d2lkdGggPj0gYm91bmRzLndpZHRoXG5cdFx0XHRcdFx0XHRcdFx0PyAxMDBcblx0XHRcdFx0XHRcdFx0XHQ6IE1hdGgucm91bmQoKHdpZHRoIC8gYm91bmRzLndpZHRoKSAqIDEwMCk7XG5cblx0XHRcdFx0XHRcdHN0eWxlcyA9IHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6IGAke3B3aWR0aH0lYCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aW5zdGFuY2Uud3JhcHBlci5zZXRBdHRyaWJ1dGUoXG5cdFx0XHRcdFx0XHQnc3R5bGUnLFxuXHRcdFx0XHRcdFx0Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KHN0eWxlcylcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0aWYgKGVkaXRvci5fc2VsZWN0RW1iZWRXaWRnZXQgPT09IGV2ZW50LmRhdGEudXJsKSB7XG5cdFx0XHRcdFx0XHRzZWxlY3RXaWRnZXQoZWRpdG9yKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0ZG93bmNhc3Qod2lkZ2V0KSB7XG5cdFx0XHRcdFx0Y29uc3QgZW1iZWRDb250ZW50ID0gd2lkZ2V0LmNoaWxkcmVuWzBdO1xuXG5cdFx0XHRcdFx0ZW1iZWRDb250ZW50LmF0dHJpYnV0ZXMuY2xhc3MgPVxuXHRcdFx0XHRcdFx0J2VtYmVkLXJlc3BvbnNpdmUgZW1iZWQtcmVzcG9uc2l2ZS0xNmJ5OSc7XG5cblx0XHRcdFx0XHRlbWJlZENvbnRlbnQuYXR0cmlidXRlc1snZGF0YS1zdHlsZXMnXSA9IEpTT04uc3RyaW5naWZ5KFxuXHRcdFx0XHRcdFx0Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KFxuXHRcdFx0XHRcdFx0XHR3aWRnZXQucGFyZW50LmF0dHJpYnV0ZXMuc3R5bGVcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0ZW1iZWRDb250ZW50LmF0dHJpYnV0ZXMuc3R5bGUgPVxuXHRcdFx0XHRcdFx0d2lkZ2V0LnBhcmVudC5hdHRyaWJ1dGVzLnN0eWxlO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGVtYmVkQ29udGVudDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHR1cGNhc3QoZWxlbWVudCwgZGF0YSkge1xuXHRcdFx0XHRcdGNvbnN0IGVtYmVkV2lkZ2V0VXBjYXN0Rm4gPVxuXHRcdFx0XHRcdFx0ZWRpdG9yLmNvbmZpZy5lbWJlZFdpZGdldFVwY2FzdEZuIHx8XG5cdFx0XHRcdFx0XHRkZWZhdWx0RW1iZWRXaWRnZXRVcGNhc3RGbjtcblxuXHRcdFx0XHRcdHJldHVybiBlbWJlZFdpZGdldFVwY2FzdEZuKGVsZW1lbnQsIGRhdGEpO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuXHRcdFx0XHQncmVzaXplJyxcblx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdHJlc2l6ZXIuaGlkZSgpO1xuXHRcdFx0XHRcdHNlbGVjdFdpZGdldChlZGl0b3IpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRmYWxzZVxuXHRcdFx0KTtcblxuXHRcdFx0ZWRpdG9yLm9uKCdzZWxlY3Rpb25DaGFuZ2UnLCBfZXZlbnQgPT4ge1xuXHRcdFx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cblx0XHRcdFx0aWYgKHNlbGVjdGlvbikge1xuXHRcdFx0XHRcdGNvbnN0IGVsZW1lbnQgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7XG5cblx0XHRcdFx0XHRpZiAoZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgd2lkZ2V0RWxlbWVudCA9IGVsZW1lbnQuZmluZE9uZShcblx0XHRcdFx0XHRcdFx0J1tkYXRhLXdpZGdldD1cImVtYmVkdXJsXCJdJ1xuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0aWYgKHdpZGdldEVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qgc2Nyb2xsUG9zaXRpb24gPSBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyhcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3dcblx0XHRcdFx0XHRcdFx0KS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJlZ2lvbiA9IGVsZW1lbnQuZ2V0Q2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdFx0XHRcdHJlZ2lvbi5kaXJlY3Rpb24gPSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUDtcblx0XHRcdFx0XHRcdFx0cmVnaW9uLmxlZnQgLT0gc2Nyb2xsUG9zaXRpb24ueDtcblx0XHRcdFx0XHRcdFx0cmVnaW9uLnRvcCArPSBzY3JvbGxQb3NpdGlvbi55O1xuXG5cdFx0XHRcdFx0XHRcdGVkaXRvci5maXJlKCdlZGl0b3JJbnRlcmFjdGlvbicsIHtcblx0XHRcdFx0XHRcdFx0XHRuYXRpdmVFdmVudDoge30sXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0aW9uRGF0YToge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbWVudDogd2lkZ2V0RWxlbWVudCxcblx0XHRcdFx0XHRcdFx0XHRcdHJlZ2lvbixcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29uc3QgaW1hZ2VFbGVtZW50ID0gZWxlbWVudC5maW5kT25lKFxuXHRcdFx0XHRcdFx0XHQnaW1nLmNrZV93aWRnZXRfbWFzaydcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdGlmIChpbWFnZUVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0cmVzaXplci5zaG93KGltYWdlRWxlbWVudC4kKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzaXplci5oaWRlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0ZWRpdG9yLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCByZXNpemVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NraW1ncnN6Jyk7XG5cblx0XHRcdFx0aWYgKHJlc2l6ZUVsZW1lbnQpIHtcblx0XHRcdFx0XHRyZXNpemVFbGVtZW50LnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VEb3duTGlzdGVuZXIpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGVkaXRvci5vbignYmx1cicsICgpID0+IHtcblx0XHRcdFx0cmVzaXplci5oaWRlKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZWRpdG9yLmZpbHRlci5hZGRFbGVtZW50Q2FsbGJhY2soZWxlbWVudCA9PiB7XG5cdFx0XHRcdGlmICgnZGF0YS1lbWJlZC11cmwnIGluIGVsZW1lbnQuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdHJldHVybiBDS0VESVRPUi5GSUxURVJfU0tJUF9UUkVFO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgbW91c2VEb3duTGlzdGVuZXIgPSBldmVudCA9PiB7XG5cdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGdldFNlbGVjdGVkRWxlbWVudChlZGl0b3IpO1xuXG5cdFx0XHRcdGN1cnJlbnRBbGlnbm1lbnQgPSByZXN1bHQuYWxpZ25tZW50O1xuXHRcdFx0XHRjdXJyZW50RWxlbWVudCA9IHJlc3VsdC5lbGVtZW50O1xuXG5cdFx0XHRcdGlmIChyZXNpemVyLmlzSGFuZGxlKGV2ZW50LnRhcmdldCkpIHtcblx0XHRcdFx0XHRyZXNpemVyLmluaXREcmFnKGV2ZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0cmVzaXplciA9IG5ldyBSZXNpemVyKGVkaXRvciwge1xuXHRcdFx0XHRvbkNvbXBsZXRlKGVsZW1lbnQsIHdpZHRoLCBoZWlnaHQpIHtcblx0XHRcdFx0XHRyZXNpemVFbGVtZW50KGVsZW1lbnQsIHdpZHRoLCBoZWlnaHQpO1xuXG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRBbGlnbm1lbnQgJiYgY3VycmVudEVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdHNldEVtYmVkQWxpZ25tZW50KGN1cnJlbnRFbGVtZW50LCBjdXJyZW50QWxpZ25tZW50KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZWN0V2lkZ2V0KGVkaXRvcik7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VEb3duTGlzdGVuZXIsIGZhbHNlKTtcblx0XHR9LFxuXG5cdFx0YWZ0ZXJJbml0OiBlZGl0b3IgPT4ge1xuXHRcdFx0QUxJR05fVkFMVUVTLmZvckVhY2goYWxpZ25WYWx1ZSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNvbW1hbmQgPSBlZGl0b3IuZ2V0Q29tbWFuZCgnanVzdGlmeScgKyBhbGlnblZhbHVlKTtcblxuXHRcdFx0XHRpZiAoY29tbWFuZCkge1xuXHRcdFx0XHRcdGNvbW1hbmQub24oJ2V4ZWMnLCBldmVudCA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3RlZEVsZW1lbnQgPSBlZGl0b3Jcblx0XHRcdFx0XHRcdFx0LmdldFNlbGVjdGlvbigpXG5cdFx0XHRcdFx0XHRcdC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtcblxuXHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZEVsZW1lbnQgJiZcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50LmdldEF0dHJpYnV0ZShcblx0XHRcdFx0XHRcdFx0XHQnZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXInXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBzZWxlY3RlZEVtYmVkID0gc2VsZWN0ZWRFbGVtZW50LmZpbmRPbmUoXG5cdFx0XHRcdFx0XHRcdFx0J1tkYXRhLXdpZGdldD1cImVtYmVkdXJsXCJdIFtkYXRhLWVtYmVkLWlkXSdcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoc2VsZWN0ZWRFbWJlZCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGVtYmVkQWxpZ25tZW50ID0gZ2V0RW1iZWRBbGlnbm1lbnQoXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZEVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGVtYmVkQWxpZ25tZW50ID09PSBhbGlnblZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZW1vdmVFbWJlZEFsaWdubWVudChcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhbGlnblZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzZXRFbWJlZEFsaWdubWVudChcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhbGlnblZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRFbGVtZW50ID0gc2VsZWN0ZWRFbGVtZW50O1xuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRBbGlnbm1lbnQgPSBnZXRFbWJlZEFsaWdubWVudChcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkRWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCBpbWFnZUVsZW1lbnQgPSBzZWxlY3RlZEVsZW1lbnQuZmluZE9uZShcblx0XHRcdFx0XHRcdFx0XHRcdCdpbWcnXG5cdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbWFnZUVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlc2l6ZXIuc2hvdyhpbWFnZUVsZW1lbnQuJCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCBlbGVtZW50UGF0aCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZEVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0QUxJR05fVkFMVUVTLmZvckVhY2goYWxpZ25WYWx1ZSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBjb21tYW5kID0gZWRpdG9yLmdldENvbW1hbmQoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdqdXN0aWZ5JyArIGFsaWduVmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIChjb21tYW5kKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbW1hbmQucmVmcmVzaChlZGl0b3IsIGVsZW1lbnRQYXRoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Y29tbWFuZC5vbigncmVmcmVzaCcsIGV2ZW50ID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGxhc3RFbGVtZW50ID0gZXZlbnQuZGF0YS5wYXRoLmxhc3RFbGVtZW50O1xuXG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdGxhc3RFbGVtZW50ICYmXG5cdFx0XHRcdFx0XHRcdGxhc3RFbGVtZW50LmdldEF0dHJpYnV0ZShcblx0XHRcdFx0XHRcdFx0XHQnZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXInXG5cdFx0XHRcdFx0XHRcdCkgJiZcblx0XHRcdFx0XHRcdFx0bGFzdEVsZW1lbnQuZmluZE9uZSgnW2RhdGEtd2lkZ2V0XSBbZGF0YS1lbWJlZC1pZF0nKVxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGVtYmVkQWxpZ25tZW50ID0gZ2V0RW1iZWRBbGlnbm1lbnQoXG5cdFx0XHRcdFx0XHRcdFx0bGFzdEVsZW1lbnRcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRldmVudC5zZW5kZXIuc2V0U3RhdGUoXG5cdFx0XHRcdFx0XHRcdFx0ZW1iZWRBbGlnbm1lbnQgPT09IGFsaWduVmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdD8gQ0tFRElUT1IuVFJJU1RBVEVfT05cblx0XHRcdFx0XHRcdFx0XHRcdDogQ0tFRElUT1IuVFJJU1RBVEVfT0ZGXG5cdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDS0VESVRPUi5wbHVnaW5zLmdldCgnZW1iZWR1cmwnKTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFNlbGVjdGlvblRlc3QgZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb24tdGVzdCc7XG5cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2ltYWdlYWxpZ25tZW50JykpIHtcblx0LyoqXG5cdCAqIEVudW0gZm9yIHN1cHBvcnRlZCBpbWFnZSBhbGlnbm1lbnRzXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqL1xuXHRjb25zdCBJTUFHRV9BTElHTk1FTlQgPSB7XG5cdFx0Q0VOVEVSOiAnY2VudGVyJyxcblx0XHRMRUZUOiAnbGVmdCcsXG5cdFx0UklHSFQ6ICdyaWdodCcsXG5cdH07XG5cblx0LyoqXG5cdCAqIEVudW0gdmFsdWVzIGZvciBzdXBwb3J0ZWQgaW1hZ2UgYWxpZ25tZW50c1xuXHQgKiBAdHlwZSB7QXJyYXl9XG5cdCAqL1xuXHRjb25zdCBBTElHTl9WQUxVRVMgPSBbXG5cdFx0SU1BR0VfQUxJR05NRU5ULkxFRlQsXG5cdFx0SU1BR0VfQUxJR05NRU5ULlJJR0hULFxuXHRcdElNQUdFX0FMSUdOTUVOVC5DRU5URVIsXG5cdF07XG5cblx0LyoqXG5cdCAqIE5lY2Vzc2FyeSBzdHlsZXMgZm9yIHRoZSBsZWZ0fGNlbnRlcnxyaWdodCBhbGlnbm1lbnRcblx0ICogQHR5cGUge0FycmF5LjxPYmplY3Q+fVxuXHQgKi9cblx0Y29uc3QgSU1BR0VfU1RZTEVfQUxJR05NRU5UID0ge1xuXHRcdFtJTUFHRV9BTElHTk1FTlQuTEVGVF06IFtcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ2Rpc3BsYXknLFxuXHRcdFx0XHR2YWx1ZTogJ2lubGluZS1ibG9jaycsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnZmxvYXQnLFxuXHRcdFx0XHR2YWx1ZTogJ2xlZnQnLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ21hcmdpbi1yaWdodCcsXG5cdFx0XHRcdHZhbHVlOiAnMS4ycmVtJyxcblx0XHRcdH0sXG5cdFx0XSxcblx0XHRbSU1BR0VfQUxJR05NRU5ULkNFTlRFUl06IFtcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ2Rpc3BsYXknLFxuXHRcdFx0XHR2YWx1ZTogJ2Jsb2NrJyxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6ICdtYXJnaW4tbGVmdCcsXG5cdFx0XHRcdHZhbHVlOiAnYXV0bycsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnbWFyZ2luLXJpZ2h0Jyxcblx0XHRcdFx0dmFsdWU6ICdhdXRvJyxcblx0XHRcdH0sXG5cdFx0XSxcblx0XHRbSU1BR0VfQUxJR05NRU5ULlJJR0hUXTogW1xuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiAnZGlzcGxheScsXG5cdFx0XHRcdHZhbHVlOiAnaW5saW5lLWJsb2NrJyxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6ICdmbG9hdCcsXG5cdFx0XHRcdHZhbHVlOiAncmlnaHQnLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogJ21hcmdpbi1sZWZ0Jyxcblx0XHRcdFx0dmFsdWU6ICcxLjJyZW0nLFxuXHRcdFx0fSxcblx0XHRdLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZXMgdGhlIGFsaWdubWVudCB2YWx1ZSBvZiBhbiBpbWFnZS5cblx0ICpcblx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gaW1hZ2UgVGhlIGltYWdlIGVsZW1lbnRcblx0ICogQHJldHVybiB7U3RyaW5nfSBUaGUgYWxpZ25tZW50IHZhbHVlXG5cdCAqL1xuXHRjb25zdCBnZXRJbWFnZUFsaWdubWVudCA9IGZ1bmN0aW9uKGltYWdlKSB7XG5cdFx0bGV0IGltYWdlQWxpZ25tZW50ID0gaW1hZ2UuZ2V0U3R5bGUoJ2Zsb2F0Jyk7XG5cblx0XHRpZiAoXG5cdFx0XHQhaW1hZ2VBbGlnbm1lbnQgfHxcblx0XHRcdGltYWdlQWxpZ25tZW50ID09PSAnaW5oZXJpdCcgfHxcblx0XHRcdGltYWdlQWxpZ25tZW50ID09PSAnbm9uZSdcblx0XHQpIHtcblx0XHRcdGltYWdlQWxpZ25tZW50ID0gaW1hZ2UuZ2V0QXR0cmlidXRlKCdhbGlnbicpO1xuXHRcdH1cblxuXHRcdGlmICghaW1hZ2VBbGlnbm1lbnQpIHtcblx0XHRcdGxldCBjZW50ZXJlZEltYWdlID0gSU1BR0VfU1RZTEVfQUxJR05NRU5UW1xuXHRcdFx0XHRJTUFHRV9BTElHTk1FTlQuQ0VOVEVSXG5cdFx0XHRdLmV2ZXJ5KHN0eWxlID0+IHtcblx0XHRcdFx0bGV0IHN0eWxlQ2hlY2sgPSBpbWFnZS5nZXRTdHlsZShzdHlsZS5uYW1lKSA9PT0gc3R5bGUudmFsdWU7XG5cblx0XHRcdFx0aWYgKCFzdHlsZUNoZWNrICYmIHN0eWxlLnZlbmRvclByZWZpeGVzKSB7XG5cdFx0XHRcdFx0c3R5bGVDaGVjayA9IHN0eWxlLnZlbmRvclByZWZpeGVzLnNvbWUodmVuZG9yUHJlZml4ID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdGltYWdlLmdldFN0eWxlKHZlbmRvclByZWZpeCArIHN0eWxlLm5hbWUpID09PVxuXHRcdFx0XHRcdFx0XHRzdHlsZS52YWx1ZVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBzdHlsZUNoZWNrO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICghaW1hZ2VBbGlnbm1lbnQpIHtcblx0XHRcdFx0Y29uc3QgaW1hZ2VDb250YWluZXIgPSBpbWFnZS4kLnBhcmVudE5vZGU7XG5cblx0XHRcdFx0aWYgKGltYWdlQ29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9PSBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSKSB7XG5cdFx0XHRcdFx0SU1BR0VfU1RZTEVfQUxJR05NRU5UW0lNQUdFX0FMSUdOTUVOVC5DRU5URVJdLmZvckVhY2goXG5cdFx0XHRcdFx0XHRzdHlsZSA9PiB7XG5cdFx0XHRcdFx0XHRcdGltYWdlLnNldFN0eWxlKHN0eWxlLm5hbWUsIHN0eWxlLnZhbHVlKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoc3R5bGUudmVuZG9yUHJlZml4ZXMpIHtcblx0XHRcdFx0XHRcdFx0XHRzdHlsZS52ZW5kb3JQcmVmaXhlcy5mb3JFYWNoKHZlbmRvclByZWZpeCA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpbWFnZS5zZXRTdHlsZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmVuZG9yUHJlZml4ICsgc3R5bGUubmFtZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGUudmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGNlbnRlcmVkSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdGltYWdlQ29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9ICcnO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGltYWdlQWxpZ25tZW50ID0gY2VudGVyZWRJbWFnZSA/IElNQUdFX0FMSUdOTUVOVC5DRU5URVIgOiBudWxsO1xuXHRcdH1cblxuXHRcdGlmICghQ0tFRElUT1IuZW52LmVkZ2UgJiYgQ0tFRElUT1IuZW52LmllKSB7XG5cdFx0XHRjb25zdCBwID0gaW1hZ2UuZmluZE9uZSgncCcpO1xuXHRcdFx0aWYgKHApIHtcblx0XHRcdFx0aW1hZ2VBbGlnbm1lbnQgPSBwLmdldFN0eWxlKCd0ZXh0LWFsaWduJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGltYWdlQWxpZ25tZW50O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIHRoZSBhbGlnbm1lbnQgdmFsdWUgb2YgYW4gaW1hZ2Vcblx0ICpcblx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gaW1hZ2UgVGhlIGltYWdlIGVsZW1lbnRcblx0ICogQHBhcmFtIHtTdHJpbmd9IGltYWdlQWxpZ25tZW50IFRoZSBpbWFnZSBhbGlnbm1lbnQgdmFsdWUgdG8gYmUgcmVtb3ZlZFxuXHQgKi9cblx0Y29uc3QgcmVtb3ZlSW1hZ2VBbGlnbm1lbnQgPSBmdW5jdGlvbihpbWFnZSwgaW1hZ2VBbGlnbm1lbnQpIHtcblx0XHRpZiAoXG5cdFx0XHRpbWFnZUFsaWdubWVudCA9PT0gSU1BR0VfQUxJR05NRU5ULkxFRlQgfHxcblx0XHRcdGltYWdlQWxpZ25tZW50ID09PSBJTUFHRV9BTElHTk1FTlQuUklHSFRcblx0XHQpIHtcblx0XHRcdGlmIChpbWFnZUFsaWdubWVudCA9PT0gZ2V0SW1hZ2VBbGlnbm1lbnQoaW1hZ2UpKSB7XG5cdFx0XHRcdGltYWdlLnJlbW92ZUF0dHJpYnV0ZSgnYWxpZ24nKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGltYWdlQWxpZ25tZW50ID09PSBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSKSB7XG5cdFx0XHRjb25zdCBpbWFnZUNvbnRhaW5lciA9IGltYWdlLiQucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKGltYWdlQ29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9PSBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSKSB7XG5cdFx0XHRcdGltYWdlQ29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9ICcnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IHN0eWxlcyA9IElNQUdFX1NUWUxFX0FMSUdOTUVOVFtpbWFnZUFsaWdubWVudF07XG5cblx0XHRpZiAoc3R5bGVzKSB7XG5cdFx0XHRzdHlsZXMuZm9yRWFjaChzdHlsZSA9PiB7XG5cdFx0XHRcdGltYWdlLnJlbW92ZVN0eWxlKHN0eWxlLm5hbWUpO1xuXG5cdFx0XHRcdGlmIChzdHlsZS52ZW5kb3JQcmVmaXhlcykge1xuXHRcdFx0XHRcdHN0eWxlLnZlbmRvclByZWZpeGVzLmZvckVhY2godmVuZG9yUHJlZml4ID0+IHtcblx0XHRcdFx0XHRcdGltYWdlLnJlbW92ZVN0eWxlKHZlbmRvclByZWZpeCArIHN0eWxlLm5hbWUpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIGFsaWdubWVudCB2YWx1ZSBvZiBhbiBpbWFnZVxuXHQgKlxuXHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBpbWFnZSBUaGUgaW1hZ2UgZWxlbWVudFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VBbGlnbm1lbnQgVGhlIGltYWdlIGFsaWdubWVudCB2YWx1ZSB0byBiZSBzZXRcblx0ICovXG5cdGNvbnN0IHNldEltYWdlQWxpZ25tZW50ID0gZnVuY3Rpb24oaW1hZ2UsIGltYWdlQWxpZ25tZW50KSB7XG5cdFx0cmVtb3ZlSW1hZ2VBbGlnbm1lbnQoaW1hZ2UsIGdldEltYWdlQWxpZ25tZW50KGltYWdlKSk7XG5cblx0XHRjb25zdCBzdHlsZXMgPSBJTUFHRV9TVFlMRV9BTElHTk1FTlRbaW1hZ2VBbGlnbm1lbnRdO1xuXG5cdFx0aWYgKHN0eWxlcykge1xuXHRcdFx0c3R5bGVzLmZvckVhY2goc3R5bGUgPT4ge1xuXHRcdFx0XHRpbWFnZS5zZXRTdHlsZShzdHlsZS5uYW1lLCBzdHlsZS52YWx1ZSk7XG5cblx0XHRcdFx0aWYgKHN0eWxlLnZlbmRvclByZWZpeGVzKSB7XG5cdFx0XHRcdFx0c3R5bGUudmVuZG9yUHJlZml4ZXMuZm9yRWFjaCh2ZW5kb3JQcmVmaXggPT4ge1xuXHRcdFx0XHRcdFx0aW1hZ2Uuc2V0U3R5bGUodmVuZG9yUHJlZml4ICsgc3R5bGUubmFtZSwgc3R5bGUudmFsdWUpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENLRWRpdG9yIHBsdWdpbiB3aGljaCBtb2RpZmllcyB0aGUganVzdGlmeSBjb21tYW5kcyB0byBwcm9wZXJseSBhbGlnbiBpbWFnZXMuIFRoaXNcblx0ICogcGx1Z2luIGlzIGFuIGV4Y2VycHQgb2YgQ0tFZGl0b3IncyBvcmlnaW5hbCBpbWFnZSBvbmUgdGhhdCBjYW4gYmUgZm91bmQgYXRcblx0ICogaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yLWRldi9ibG9iL21hc3Rlci9wbHVnaW5zL2ltYWdlL3BsdWdpbi5qc1xuXHQgKlxuXHQgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9pbWFnZWFsaWdubWVudFxuXHQgKi9cblx0Q0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX2ltYWdlYWxpZ25tZW50Jywge1xuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cblx0XHQgKiBUaGUgZnVuY3Rpb24gcmVnaXN0ZXJzIGEgJ3Bhc3RlJyBldmVudCBvbiB0aGUgZWRpdGluZyBhcmVhLlxuXHRcdCAqXG5cdFx0ICogQG1ldGhvZCBhZnRlckluaXRcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuXHRcdCAqL1xuXHRcdGFmdGVySW5pdChlZGl0b3IpIHtcblx0XHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRBTElHTl9WQUxVRVMuZm9yRWFjaCh2YWx1ZSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNvbW1hbmQgPSBlZGl0b3IuZ2V0Q29tbWFuZCgnanVzdGlmeScgKyB2YWx1ZSk7XG5cblx0XHRcdFx0aWYgKGNvbW1hbmQpIHtcblx0XHRcdFx0XHRjb21tYW5kLm9uKCdleGVjJywgZXZlbnQgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uRGF0YSA9IGVkaXRvci5nZXRTZWxlY3Rpb25EYXRhKCk7XG5cblx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0c2VsZWN0aW9uRGF0YSAmJlxuXHRcdFx0XHRcdFx0XHRTZWxlY3Rpb25UZXN0LmltYWdlKHtcblx0XHRcdFx0XHRcdFx0XHRkYXRhOiB7c2VsZWN0aW9uRGF0YX0sXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW1hZ2UgPSBzZWxlY3Rpb25EYXRhLmVsZW1lbnQ7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgaW1hZ2VBbGlnbm1lbnQgPSBnZXRJbWFnZUFsaWdubWVudChpbWFnZSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGltYWdlQWxpZ25tZW50ID09PSB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdHJlbW92ZUltYWdlQWxpZ25tZW50KGltYWdlLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0SW1hZ2VBbGlnbm1lbnQoaW1hZ2UsIHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGV2ZW50LmNhbmNlbCgpO1xuXG5cdFx0XHRcdFx0XHRcdHNlbGYucmVmcmVzaENvbW1hbmRzKFxuXHRcdFx0XHRcdFx0XHRcdGVkaXRvcixcblx0XHRcdFx0XHRcdFx0XHRuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGltYWdlKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Y29tbWFuZC5vbigncmVmcmVzaCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3Rpb25EYXRhID0ge1xuXHRcdFx0XHRcdFx0XHRlbGVtZW50OiBldmVudC5kYXRhLnBhdGgubGFzdEVsZW1lbnQsXG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdFNlbGVjdGlvblRlc3QuaW1hZ2Uoe1xuXHRcdFx0XHRcdFx0XHRcdGRhdGE6IHtzZWxlY3Rpb25EYXRhfSxcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBpbWFnZUFsaWdubWVudCA9IGdldEltYWdlQWxpZ25tZW50KFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGlvbkRhdGEuZWxlbWVudFxuXHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoXG5cdFx0XHRcdFx0XHRcdFx0aW1hZ2VBbGlnbm1lbnQgPT09IHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHQ/IENLRURJVE9SLlRSSVNUQVRFX09OXG5cdFx0XHRcdFx0XHRcdFx0XHQ6IENLRURJVE9SLlRSSVNUQVRFX09GRlxuXHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdGV2ZW50LmNhbmNlbCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRm9yY2VzIGEgcmVmcmVzaCBvZiB0aGUgbW9kaWZpZWQganVzdGlmeSBjb21tYW5kcy4gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYXBwbGllZCBjaGFuZ2VzXG5cdFx0ICogZG8gbm90IG1vZGlmeSB0aGUgc2VsZWN0aW9uLCBzbyB0aGUgcmVmcmVzaCBpcyBuZXZlciB0cmlnZ2VyZWQgYW5kIHRoZSBVSSBkb2VzIG5vdCB1cGRhdGVcblx0XHQgKiBwcm9wZXJseSB1bnRpbCB0aGUgbmV4dCBzZWxlY3Rpb25DaGFuZ2UgZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn0gZWRpdG9yIFRoZSBlZGl0b3IgaW5zdGFuY2Vcblx0XHQgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50UGF0aH0gZWxlbWVudFBhdGggVGhlIHBhdGggb2YgdGhlIHNlbGVjdGVkIGltYWdlXG5cdFx0ICovXG5cdFx0cmVmcmVzaENvbW1hbmRzKGVkaXRvciwgZWxlbWVudFBhdGgpIHtcblx0XHRcdEFMSUdOX1ZBTFVFUy5mb3JFYWNoKHZhbHVlID0+IHtcblx0XHRcdFx0Y29uc3QgY29tbWFuZCA9IGVkaXRvci5nZXRDb21tYW5kKCdqdXN0aWZ5JyArIHZhbHVlKTtcblxuXHRcdFx0XHRpZiAoY29tbWFuZCkge1xuXHRcdFx0XHRcdGNvbW1hbmQucmVmcmVzaChlZGl0b3IsIGVsZW1lbnRQYXRoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblx0fSk7XG59XG4iLCIvKipcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTQgTGlmZXJheSwgSW5jLiA8aHR0cHM6Ly9saWZlcmF5LmNvbT5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBMR1BMLTMuMC1vci1sYXRlclxuICovXG5cbmltcG9ydCAnLi9hZGRpbWFnZXMnO1xuXG5pbXBvcnQgJy4vYXV0b2xpbmsnO1xuXG5pbXBvcnQgJy4vYXV0b2xpc3QnO1xuXG5pbXBvcnQgJy4vZHJhZ3Jlc2l6ZSc7XG5cbmltcG9ydCAnLi9kcmFncmVzaXplX2llJztcblxuaW1wb3J0ICcuL2RyYWdyZXNpemVfaWUxMSc7XG5cbmltcG9ydCAnLi9lbWJlZCc7XG5pbXBvcnQgZW1iZWR1cmwgZnJvbSAnLi9lbWJlZHVybCc7XG5cbmltcG9ydCAnLi9pbWFnZWFsaWdubWVudCc7XG5cbmltcG9ydCAnLi9wYXN0ZWltYWdlcyc7XG5cbmltcG9ydCAnLi9wbGFjZWhvbGRlcic7XG5cbmltcG9ydCAnLi9zZWxlY3Rpb25rZXlzdHJva2VzJztcblxuaW1wb3J0ICcuL3RhYmxlcmVzaXplJztcblxuaW1wb3J0ICcuL3RhYmxldG9vbHMnO1xuXG5leHBvcnQge2VtYmVkdXJsfTtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfcGFzdGVpbWFnZXMnKSkge1xuXHQvKipcblx0ICogQ0tFZGl0b3IgcGx1Z2luIHdoaWNoIGFsbG93cyBwYXN0aW5nIGltYWdlcyBkaXJlY3RseSBpbnRvIHRoZSBlZGl0YWJsZSBhcmVhLiBUaGUgaW1hZ2Ugd2lsbCBiZSBlbmNvZGVkXG5cdCAqIGFzIERhdGEgVVJJLiBBbiBldmVudCBgYmVmb3JlSW1hZ2VBZGRgIHdpbGwgYmUgZmlyZWQgd2l0aCB0aGUgbGlzdCBvZiBwYXN0ZWQgaW1hZ2VzLiBJZiBhbnkgb2YgdGhlIGxpc3RlbmVyc1xuXHQgKiByZXR1cm5zIGBmYWxzZWAgb3IgY2FuY2VscyB0aGUgZXZlbnQsIHRoZSBpbWFnZXMgd29uJ3QgYmUgYWRkZWQgdG8gdGhlIGNvbnRlbnQuIE90aGVyd2lzZSxcblx0ICogYW4gZXZlbnQgYGltYWdlQWRkYCB3aWxsIGJlIGZpcmVkIHdpdGggdGhlIGluc2VydGVkIGVsZW1lbnQgaW50byB0aGUgZWRpdGFibGUgYXJlYS5cblx0ICpcblx0ICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfcGFzdGVpbWFnZXNcblx0ICovXG5cblx0LyoqXG5cdCAqIEZpcmVkIGJlZm9yZSBhZGRpbmcgaW1hZ2VzIHRvIHRoZSBlZGl0b3IuXG5cdCAqIEBldmVudCBiZWZvcmVJbWFnZUFkZFxuXHQgKiBAcGFyYW0ge0FycmF5fSBpbWFnZUZpbGVzIEFycmF5IG9mIGltYWdlIGZpbGVzXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBGaXJlZCB3aGVuIGFuIGltYWdlIGlzIGJlaW5nIGFkZGVkIHRvIHRoZSBlZGl0b3Igc3VjY2Vzc2Z1bGx5LlxuXHQgKlxuXHQgKiBAZXZlbnQgaW1hZ2VBZGRcblx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gZWwgVGhlIGNyZWF0ZWQgaW1hZ2Ugd2l0aCBzcmMgYXMgRGF0YSBVUklcblx0ICogQHBhcmFtIHtGaWxlfSBmaWxlIFRoZSBpbWFnZSBmaWxlXG5cdCAqL1xuXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV9wYXN0ZWltYWdlcycsIHtcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgcGx1Z2luLCBwYXJ0IG9mIENLRWRpdG9yIHBsdWdpbiBsaWZlY3ljbGUuXG5cdFx0ICogVGhlIGZ1bmN0aW9uIHJlZ2lzdGVycyBhICdwYXN0ZScgZXZlbnQgb24gdGhlIGVkaXRpbmcgYXJlYS5cblx0XHQgKlxuXHRcdCAqIEBtZXRob2QgaW5pdFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG5cdFx0ICovXG5cdFx0aW5pdChlZGl0b3IpIHtcblx0XHRcdGVkaXRvci5vbmNlKCdjb250ZW50RG9tJywgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG5cdFx0XHRcdGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKFxuXHRcdFx0XHRcdGVkaXRhYmxlLFxuXHRcdFx0XHRcdCdwYXN0ZScsXG5cdFx0XHRcdFx0dGhpcy5fb25QYXN0ZSxcblx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGVkaXRvcixcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGZ1bmN0aW9uIGNyZWF0ZXMgYW4gaW1nIGVsZW1lbnQgd2l0aCBzcmMgdGhlIGltYWdlIGRhdGEgYXMgRGF0YSBVUkkuXG5cdFx0ICogVGhlbiwgaXQgZmlyZXMgYW4gJ2ltYWdlQWRkJyBldmVudCB2aWEgQ0tFZGl0b3IncyBldmVudCBzeXN0ZW0uIFRoZSBwYXNzZWRcblx0XHQgKiBwYXJhbXMgd2lsbCBiZTpcblx0XHQgKiAtIGBlbGAgLSB0aGUgY3JlYXRlZCBpbWcgZWxlbWVudFxuXHRcdCAqIC0gYGZpbGVgIC0gdGhlIG9yaWdpbmFsIHBhc3RlZCBkYXRhXG5cdFx0ICpcblx0XHQgKiBAbWV0aG9kIF9vblBhc3RlXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmV2ZW50fSBldmVudCBBIGBwYXN0ZWAgZXZlbnQsIGFzIHJlY2VpdmVkIG5hdGl2ZWx5IGZyb20gQ0tFZGl0b3Jcblx0XHQgKi9cblx0XHRfb25QYXN0ZShldmVudCkge1xuXHRcdFx0aWYgKGV2ZW50LmRhdGEuJC5jbGlwYm9hcmREYXRhKSB7XG5cdFx0XHRcdGNvbnN0IHBhc3RlZERhdGEgPSBldmVudC5kYXRhLiQuY2xpcGJvYXJkRGF0YS5pdGVtc1swXTtcblx0XHRcdFx0Y29uc3QgZWRpdG9yID0gZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcjtcblxuXHRcdFx0XHRpZiAocGFzdGVkRGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcblx0XHRcdFx0XHRjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRcdGNvbnN0IGltYWdlRmlsZSA9IHBhc3RlZERhdGEuZ2V0QXNGaWxlKCk7XG5cblx0XHRcdFx0XHRyZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IGVkaXRvci5maXJlKCdiZWZvcmVJbWFnZUFkZCcsIHtcblx0XHRcdFx0XHRcdFx0aW1hZ2VGaWxlczogaW1hZ2VGaWxlLFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGlmIChyZXN1bHQpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZWwgPSBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcblx0XHRcdFx0XHRcdFx0XHQnPGltZyBzcmM9XCInICsgZXZlbnQudGFyZ2V0LnJlc3VsdCArICdcIj4nXG5cdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0ZWRpdG9yLmluc2VydEVsZW1lbnQoZWwpO1xuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGltYWdlRGF0YSA9IHtcblx0XHRcdFx0XHRcdFx0XHRlbCxcblx0XHRcdFx0XHRcdFx0XHRmaWxlOiBpbWFnZUZpbGUsXG5cdFx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdFx0ZWRpdG9yLmZpcmUoJ2ltYWdlQWRkJywgaW1hZ2VEYXRhKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1hZ2VGaWxlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdH0pO1xufVxuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pZiAoIUNLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9wbGFjZWhvbGRlcicpKSB7XG5cdC8qKlxuXHQgKiBDS0VESVRPUiBlbnRlck1vZGUgY29uZmlnIHNldCB0aGUgYmVoYXZpb3Igb2YgcGFyYWdyYXBoc1xuXHQgKiBXaGVuIHRoZSBjb250ZW50IGlzIGVtcHR5IENLRURJVE9SIGtlZXBzIHRoZSBlbnRlck1vZGUgc3RyaW5nXG5cdCAqIGludG8gdGhlIGNvbnRlbnRcblx0ICogQHByb3BlcnR5XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRjb25zdCBickZpbGxlciA9IENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyID8gJzxicj4nIDogJyc7XG5cblx0Y29uc3QgZW50ZXJNb2RlRW1wdHlWYWx1ZSA9IHtcblx0XHQxOiBbJzxwPicgKyBickZpbGxlciArICc8L3A+J10sXG5cdFx0MjogWycnLCAnICcsIGJyRmlsbGVyXSxcblx0XHQzOiBbJzxkaXY+JyArIGJyRmlsbGVyICsgJzwvZGl2PiddLFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDS0VkaXRvciBwbHVnaW4gd2hpY2ggYWxsb3dzIGFkZGluZyBhIHBsYWNlaG9sZGVyIHRvIHRoZSBlZGl0b3IuIEluIHRoaXMgY2FzZSwgaWYgdGhlcmVcblx0ICogaXMgbm8gY29udGVudCB0byB0aGUgZWRpdG9yLCB0aGVyZSB3aWxsIGJlIGhpbnQgdG8gdGhlIHVzZXIuXG5cdCAqXG5cdCAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmFlX3BsYWNlaG9sZGVyXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBTcGVjaWZpZXMgdGhlIHBsYWNlaG9sZGVyIGNsYXNzIHdoaWNoIGhhdmUgdG8gYmUgYWRlZCB0byBlZGl0b3Igd2hlbiBlZGl0b3IgaXMgbm90IGZvY3VzZWQuXG5cdCAqXG5cdCAqIEBhdHRyaWJ1dGUgcGxhY2Vob2xkZXJDbGFzc1xuXHQgKiBAZGVmYXVsdCBhZV9wbGFjZWhvbGRlclxuXHQgKiBAdHlwZSBTdHJpbmdcblx0ICovXG5cblx0Q0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX3BsYWNlaG9sZGVyJywge1xuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cblx0XHQgKiBUaGUgZnVuY3Rpb24gcmVnaXN0ZXJzIGEgJ2JsdXInIGFuZCAnY29udGVudERvbScgZXZlbnQgbGlzdGVuZXJzLlxuXHRcdCAqXG5cdFx0ICogQG1ldGhvZCBpbml0XG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2Vcblx0XHQgKi9cblx0XHRpbml0KGVkaXRvcikge1xuXHRcdFx0ZWRpdG9yLm9uKCdibHVyJywgdGhpcy5fY2hlY2tFbXB0eURhdGEsIHRoaXMpO1xuXHRcdFx0ZWRpdG9yLm9uKCdjaGFuZ2UnLCB0aGlzLl9jaGVja0VtcHR5RGF0YSwgdGhpcyk7XG5cdFx0XHRlZGl0b3Iub24oJ2ZvY3VzJywgdGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJDbGFzcywgdGhpcyk7XG5cdFx0XHRlZGl0b3Iub25jZSgnY29udGVudERvbScsIHRoaXMuX2NoZWNrRW1wdHlEYXRhLCB0aGlzKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlcyBhbnkgZGF0YSBmcm9tIHRoZSBjb250ZW50IGFuZCBhZGRzIGEgY2xhc3MsXG5cdFx0ICogc3BlY2lmaWVkIGJ5IHRoZSBcInBsYWNlaG9sZGVyQ2xhc3NcIiBjb25maWcgYXR0cmlidXRlLlxuXHRcdCAqXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEBtZXRob2QgX2NoZWNrRW1wdHlEYXRhXG5cdFx0ICogQHBhcmFtIHtDS0VESVRPUi5kb20uZXZlbnR9IGVkaXRvciBldmVudCwgZmlyZWQgZnJvbSBDS0VkaXRvclxuXHRcdCAqL1xuXHRcdF9jaGVja0VtcHR5RGF0YShldmVudCkge1xuXHRcdFx0Y29uc3QgZWRpdG9yID0gZXZlbnQuZWRpdG9yO1xuXG5cdFx0XHRjb25zdCBlZGl0YWJsZU5vZGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuXHRcdFx0Y29uc3QgaW5uZXJIdG1sID0gZWRpdGFibGVOb2RlLiQuaW5uZXJIVE1MLnRyaW0oKTtcblxuXHRcdFx0Y29uc3QgaXNFbXB0eSA9IGVudGVyTW9kZUVtcHR5VmFsdWVbZWRpdG9yLmNvbmZpZy5lbnRlck1vZGVdLnNvbWUoXG5cdFx0XHRcdGVsZW1lbnQgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBpbm5lckh0bWwgPT09IGVsZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cblx0XHRcdGlmIChpc0VtcHR5KSB7XG5cdFx0XHRcdGVkaXRhYmxlTm9kZS5hZGRDbGFzcyhlZGl0b3IuY29uZmlnLnBsYWNlaG9sZGVyQ2xhc3MpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWRpdGFibGVOb2RlLnJlbW92ZUNsYXNzKGVkaXRvci5jb25maWcucGxhY2Vob2xkZXJDbGFzcyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuICAgICAgICAgICAgICogUmVtb3ZlIHBsYWNlaG9sZGVyIGNsYXNzIHdoZW4gaW5wdXQgaXMgZm9jdXNlZFxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqIEBtZXRob2QgX3JlbW92ZVBsYWNlaG9sZGVyQ2xhc3NcbiAgICAgICAgICAgICArIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmV2ZW50fSBlZGl0b3IgZXZlbnQsIGZpcmVkIGZyb20gQ0tFZGl0b3JcbiAgICAgICAgICAgICAqL1xuXHRcdF9yZW1vdmVQbGFjZWhvbGRlckNsYXNzKGV2ZW50KSB7XG5cdFx0XHRjb25zdCBlZGl0b3IgPSBldmVudC5lZGl0b3I7XG5cblx0XHRcdGNvbnN0IGVkaXRvck5vZGUgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZWRpdG9yLmVsZW1lbnQuJCk7XG5cblx0XHRcdGVkaXRvck5vZGUucmVtb3ZlQ2xhc3MoZWRpdG9yLmNvbmZpZy5wbGFjZWhvbGRlckNsYXNzKTtcblx0XHR9LFxuXHR9KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuLyoqXG4gKiBQcmlvcml0aWVzIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29udHJvbCB0aGUgb3JkZXIgaW4gd2hpY2ggZXZlbnQgaGFuZGxlcnMgcnVuLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9ja2VkaXRvci5jb20vZG9jcy9ja2VkaXRvcjQvbGF0ZXN0L2FwaS9DS0VESVRPUl9ldmVudC5odG1sI21ldGhvZC1vblxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QUklPUklUWSA9IDEwO1xuZXhwb3J0IGNvbnN0IEhJR0hfUFJJT1JJVFkgPSA1O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pZiAoIUNLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9zZWxlY3Rpb25rZXlzdHJva2VzJykpIHtcblx0LyoqXG5cdCAqIENLRWRpdG9yIHBsdWdpbiB0aGF0IHNpbXVsYXRlcyBlZGl0b3IgaW50ZXJhY3Rpb24gZXZlbnRzIGJhc2VkIG9uIG1hbnVhbCBrZXlzdHJva2VzLiBUaGlzXG5cdCAqIGNhbiBiZSB1c2VkIHRvIHRyaWdnZXIgZGlmZmVyZW50IHJlYWN0aW9ucyBpbiB0aGUgZWRpdG9yLlxuXHQgKlxuXHQgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25rZXlzdHJva2VzXG5cdCAqL1xuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfc2VsZWN0aW9ua2V5c3Ryb2tlcycsIHtcblx0XHRyZXF1aXJlczogJ2FlX3NlbGVjdGlvbnJlZ2lvbicsXG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgcGx1Z2luLCBwYXJ0IG9mIENLRWRpdG9yIHBsdWdpbiBsaWZlY3ljbGUuXG5cdFx0ICogVGhlIGZ1bmN0aW9uIGFkZHMgYSBjb21tYW5kIHRvIHRoZSBlZGl0b3IgZm9yIGV2ZXJ5IGRlZmluZWQgc2VsZWN0aW9uS2V5c3Ryb2tlXG5cdFx0ICogaW4gdGhlIGNvbmZpZ3VyYXRpb24gYW5kIG1hcHMgaXQgdG8gdGhlIHNwZWNpZmllZCBrZXlzdHJva2UuXG5cdFx0ICpcblx0XHQgKiBAbWV0aG9kIGluaXRcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuXHRcdCAqL1xuXHRcdGluaXQoZWRpdG9yKSB7XG5cdFx0XHRpZiAoZWRpdG9yLmNvbmZpZy5zZWxlY3Rpb25LZXlzdHJva2VzKSB7XG5cdFx0XHRcdGVkaXRvci5jb25maWcuc2VsZWN0aW9uS2V5c3Ryb2tlcy5mb3JFYWNoKFxuXHRcdFx0XHRcdHNlbGVjdGlvbktleXN0cm9rZSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBjb21tYW5kID0gbmV3IENLRURJVE9SLmNvbW1hbmQoZWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdGV4ZWMoZWRpdG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWRpdG9yLmZpcmUoJ2VkaXRvckludGVyYWN0aW9uJywge1xuXHRcdFx0XHRcdFx0XHRcdFx0bWFudWFsU2VsZWN0aW9uOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3Rpb25LZXlzdHJva2Uuc2VsZWN0aW9uLFxuXHRcdFx0XHRcdFx0XHRcdFx0bmF0aXZlRXZlbnQ6IHt9LFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0aW9uRGF0YTogZWRpdG9yLmdldFNlbGVjdGlvbkRhdGEoKSxcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBjb21tYW5kTmFtZSA9XG5cdFx0XHRcdFx0XHRcdCdzZWxlY3Rpb25LZXlzdHJva2UnICsgc2VsZWN0aW9uS2V5c3Ryb2tlLnNlbGVjdGlvbjtcblxuXHRcdFx0XHRcdFx0ZWRpdG9yLmFkZENvbW1hbmQoY29tbWFuZE5hbWUsIGNvbW1hbmQpO1xuXHRcdFx0XHRcdFx0ZWRpdG9yLnNldEtleXN0cm9rZShcblx0XHRcdFx0XHRcdFx0c2VsZWN0aW9uS2V5c3Ryb2tlLmtleXMsXG5cdFx0XHRcdFx0XHRcdGNvbW1hbmROYW1lXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9LFxuXHR9KTtcbn1cbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAxNSwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHA6Ly9ja2VkaXRvci5jb20vbGljZW5zZVxuICovXG5cbmlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3RhYmxlcmVzaXplJykpIHtcblx0Y29uc3QgcHhVbml0ID0gQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoO1xuXG5cdGZ1bmN0aW9uIGdldFdpZHRoKGVsKSB7XG5cdFx0cmV0dXJuIENLRURJVE9SLmVudi5pZVxuXHRcdFx0PyBlbC4kLmNsaWVudFdpZHRoXG5cdFx0XHQ6IHBhcnNlSW50KGVsLmdldENvbXB1dGVkU3R5bGUoJ3dpZHRoJyksIDEwKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEJvcmRlcldpZHRoKGVsZW1lbnQsIHNpZGUpIHtcblx0XHRsZXQgY29tcHV0ZWQgPSBlbGVtZW50LmdldENvbXB1dGVkU3R5bGUoJ2JvcmRlci0nICsgc2lkZSArICctd2lkdGgnKTtcblxuXHRcdGNvbnN0IGJvcmRlck1hcCA9IHtcblx0XHRcdHRoaW46ICcwcHgnLFxuXHRcdFx0bWVkaXVtOiAnMXB4Jyxcblx0XHRcdHRoaWNrOiAnMnB4Jyxcblx0XHR9O1xuXG5cdFx0aWYgKGNvbXB1dGVkLmluZGV4T2YoJ3B4JykgPCAwKSB7XG5cdFx0XHQvLyBsb29rIHVwIGtleXdvcmRzXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNvbXB1dGVkIGluIGJvcmRlck1hcCAmJlxuXHRcdFx0XHRlbGVtZW50LmdldENvbXB1dGVkU3R5bGUoJ2JvcmRlci1zdHlsZScpICE9ICdub25lJ1xuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gYm9yZGVyTWFwW2NvbXB1dGVkXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcGFyc2VJbnQoY29tcHV0ZWQsIDEwKTtcblx0fVxuXG5cdC8vIEdldHMgdGhlIHRhYmxlIHJvdyB0aGF0IGNvbnRhaW5zIHRoZSBtb3N0IGNvbHVtbnMuXG5cdGZ1bmN0aW9uIGdldE1hc3RlclBpbGxhclJvdyh0YWJsZSkge1xuXHRcdGNvbnN0ICRyb3dzID0gdGFibGUuJC5yb3dzO1xuXG5cdFx0bGV0IG1heENlbGxzID0gMDtcblxuXHRcdGxldCBjZWxsc0NvdW50O1xuXG5cdFx0bGV0ICRlbGVjdGVkO1xuXG5cdFx0bGV0ICR0cjtcblxuXHRcdGZvciAobGV0IGkgPSAwLCBsZW4gPSAkcm93cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0JHRyID0gJHJvd3NbaV07XG5cdFx0XHRjZWxsc0NvdW50ID0gJHRyLmNlbGxzLmxlbmd0aDtcblxuXHRcdFx0aWYgKGNlbGxzQ291bnQgPiBtYXhDZWxscykge1xuXHRcdFx0XHRtYXhDZWxscyA9IGNlbGxzQ291bnQ7XG5cdFx0XHRcdCRlbGVjdGVkID0gJHRyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiAkZWxlY3RlZDtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ1aWxkVGFibGVDb2x1bW5QaWxsYXJzKHRhYmxlKSB7XG5cdFx0Y29uc3QgcGlsbGFycyA9IFtdO1xuXG5cdFx0bGV0IHBpbGxhckluZGV4ID0gLTE7XG5cblx0XHRjb25zdCBydGwgPSB0YWJsZS5nZXRDb21wdXRlZFN0eWxlKCdkaXJlY3Rpb24nKSA9PT0gJ3J0bCc7XG5cblx0XHQvLyBHZXQgdGhlIHJhdyByb3cgZWxlbWVudCB0aGF0IGNvaW50YWlucyB0aGUgbW9zdCBjb2x1bW5zLlxuXHRcdGNvbnN0ICR0ciA9IGdldE1hc3RlclBpbGxhclJvdyh0YWJsZSk7XG5cblx0XHQvLyBHZXQgdGhlIHRib2R5IGVsZW1lbnQgYW5kIHBvc2l0aW9uLCB3aGljaCB3aWxsIGJlIHVzZWQgdG8gc2V0IHRoZVxuXHRcdC8vIHRvcCBhbmQgYm90dG9tIGJvdW5kYXJpZXMuXG5cdFx0Y29uc3QgdGJvZHkgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGFibGUuJC50Qm9kaWVzWzBdKTtcblxuXHRcdGNvbnN0IHRib2R5UG9zaXRpb24gPSB0Ym9keS5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG5cblx0XHQvLyBMb29wIHRob3J1Z2ggYWxsIGNlbGxzLCBidWlsZGluZyBwaWxsYXJzIGFmdGVyIGVhY2ggb25lIG9mIHRoZW0uXG5cdFx0Zm9yIChsZXQgaSA9IDAsIGxlbiA9ICR0ci5jZWxscy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0Ly8gQm90aCB0aGUgY3VycmVudCBjZWxsIGFuZCB0aGUgc3VjY2Vzc2l2ZSBvbmUgd2lsbCBiZSB1c2VkIGluIHRoZVxuXHRcdFx0Ly8gcGlsbGFyIHNpemUgY2FsY3VsYXRpb24uXG5cdFx0XHRjb25zdCB0ZCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCgkdHIuY2VsbHNbaV0pO1xuXG5cdFx0XHRjb25zdCBuZXh0VGQgPVxuXHRcdFx0XHQkdHIuY2VsbHNbaSArIDFdICYmIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCgkdHIuY2VsbHNbaSArIDFdKTtcblxuXHRcdFx0cGlsbGFySW5kZXggKz0gdGQuJC5jb2xTcGFuIHx8IDE7XG5cblx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgcGlsbGFyIGJvdW5kYXJ5IHBvc2l0aW9ucy5cblx0XHRcdGxldCBwaWxsYXJMZWZ0O1xuXHRcdFx0bGV0IHBpbGxhclJpZ2h0O1xuXG5cdFx0XHRsZXQgeCA9IHRkLmdldERvY3VtZW50UG9zaXRpb24oKS54O1xuXG5cdFx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb25zIGJhc2VkIG9uIHRoZSBjdXJyZW50IGNlbGwuXG5cdFx0XHRpZiAocnRsKSB7XG5cdFx0XHRcdHBpbGxhclJpZ2h0ID0geCArIGdldEJvcmRlcldpZHRoKHRkLCAnbGVmdCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGlsbGFyTGVmdCA9IHggKyB0ZC4kLm9mZnNldFdpZHRoIC0gZ2V0Qm9yZGVyV2lkdGgodGQsICdyaWdodCcpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb25zIGJhc2VkIG9uIHRoZSBuZXh0IGNlbGwsIGlmIGF2YWlsYWJsZS5cblx0XHRcdGlmIChuZXh0VGQpIHtcblx0XHRcdFx0eCA9IG5leHRUZC5nZXREb2N1bWVudFBvc2l0aW9uKCkueDtcblxuXHRcdFx0XHRpZiAocnRsKSB7XG5cdFx0XHRcdFx0cGlsbGFyTGVmdCA9XG5cdFx0XHRcdFx0XHR4ICtcblx0XHRcdFx0XHRcdG5leHRUZC4kLm9mZnNldFdpZHRoIC1cblx0XHRcdFx0XHRcdGdldEJvcmRlcldpZHRoKG5leHRUZCwgJ3JpZ2h0Jyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cGlsbGFyUmlnaHQgPSB4ICsgZ2V0Qm9yZGVyV2lkdGgobmV4dFRkLCAnbGVmdCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBPdGhlcndpc2UgY2FsY3VsYXRlIHBvc2l0aW9ucyBiYXNlZCBvbiB0aGUgdGFibGUgKGZvciBsYXN0IGNlbGwpLlxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHggPSB0YWJsZS5nZXREb2N1bWVudFBvc2l0aW9uKCkueDtcblxuXHRcdFx0XHRpZiAocnRsKSB7XG5cdFx0XHRcdFx0cGlsbGFyTGVmdCA9IHg7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cGlsbGFyUmlnaHQgPSB4ICsgdGFibGUuJC5vZmZzZXRXaWR0aDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwaWxsYXJXaWR0aCA9IE1hdGgubWF4KHBpbGxhclJpZ2h0IC0gcGlsbGFyTGVmdCwgNCk7XG5cblx0XHRcdC8vIFRoZSBwaWxsYXIgc2hvdWxkIHJlZmxlY3RzIGV4YWN0bHkgdGhlIHNoYXBlIG9mIHRoZSBob3ZlcmVkXG5cdFx0XHQvLyBjb2x1bW4gYm9yZGVyIGxpbmUuXG5cdFx0XHRwaWxsYXJzLnB1c2goe1xuXHRcdFx0XHR0YWJsZSxcblx0XHRcdFx0aW5kZXg6IHBpbGxhckluZGV4LFxuXHRcdFx0XHR4OiBwaWxsYXJMZWZ0LFxuXHRcdFx0XHR5OiB0Ym9keVBvc2l0aW9uLnksXG5cdFx0XHRcdHdpZHRoOiBwaWxsYXJXaWR0aCxcblx0XHRcdFx0aGVpZ2h0OiB0Ym9keS4kLm9mZnNldEhlaWdodCxcblx0XHRcdFx0cnRsLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBpbGxhcnM7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRQaWxsYXJBdFBvc2l0aW9uKHBpbGxhcnMsIHBvc2l0aW9uWCkge1xuXHRcdGZvciAobGV0IGkgPSAwLCBsZW4gPSBwaWxsYXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRjb25zdCBwaWxsYXIgPSBwaWxsYXJzW2ldO1xuXG5cdFx0XHRpZiAocG9zaXRpb25YID49IHBpbGxhci54ICYmIHBvc2l0aW9uWCA8PSBwaWxsYXIueCArIHBpbGxhci53aWR0aCkge1xuXHRcdFx0XHRyZXR1cm4gcGlsbGFyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FuY2VsKGV2dCkge1xuXHRcdChldnQuZGF0YSB8fCBldnQpLnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBDb2x1bW5SZXNpemVyKGVkaXRvciwgcGlsbGFyKSB7XG5cdFx0bGV0IGN1cnJlbnRTaGlmdDtcblx0XHRsZXQgbGVmdFNoaWZ0Qm91bmRhcnk7XG5cdFx0bGV0IGxlZnRTaWRlQ2VsbHM7XG5cdFx0bGV0IHJlc2l6aW5nO1xuXHRcdGxldCByaWdodFNoaWZ0Qm91bmRhcnk7XG5cdFx0bGV0IHJpZ2h0U2lkZUNlbGxzO1xuXHRcdGxldCBzdGFydE9mZnNldDtcblxuXHRcdGNvbnN0IGRvY3VtZW50ID0gZWRpdG9yLmRvY3VtZW50O1xuXG5cdFx0Y29uc3QgcmVzaXplciA9IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFxuXHRcdFx0JzxkaXYgZGF0YS1ja2UtdGVtcD0xIGNvbnRlbnRlZGl0YWJsZT1mYWxzZSB1bnNlbGVjdGFibGU9b24gJyArXG5cdFx0XHRcdCdzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2N1cnNvcjpjb2wtcmVzaXplO2ZpbHRlcjphbHBoYShvcGFjaXR5PTApO29wYWNpdHk6MDsnICtcblx0XHRcdFx0J3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiMwMDQ7YmFja2dyb3VuZC1pbWFnZTpub25lO2JvcmRlcjowcHggbm9uZTt6LWluZGV4OjEwXCI+PC9kaXY+Jyxcblx0XHRcdGRvY3VtZW50XG5cdFx0KTtcblxuXHRcdGNvbnN0IGlzUmVzaXppbmcgPSAodGhpcy5pc1Jlc2l6aW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcmVzaXppbmc7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBtb3ZlID0gKHRoaXMubW92ZSA9IGZ1bmN0aW9uKHBvc1gpIHtcblx0XHRcdGxldCByZXNpemVyTmV3UG9zaXRpb24gPVxuXHRcdFx0XHRwb3NYIC0gTWF0aC5yb3VuZChyZXNpemVyLiQub2Zmc2V0V2lkdGggLyAyKTtcblxuXHRcdFx0aWYgKGlzUmVzaXppbmcpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHJlc2l6ZXJOZXdQb3NpdGlvbiA9PT0gbGVmdFNoaWZ0Qm91bmRhcnkgfHxcblx0XHRcdFx0XHRyZXNpemVyTmV3UG9zaXRpb24gPT09IHJpZ2h0U2hpZnRCb3VuZGFyeVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXNpemVyTmV3UG9zaXRpb24gPSBNYXRoLm1heChcblx0XHRcdFx0XHRyZXNpemVyTmV3UG9zaXRpb24sXG5cdFx0XHRcdFx0bGVmdFNoaWZ0Qm91bmRhcnlcblx0XHRcdFx0KTtcblx0XHRcdFx0cmVzaXplck5ld1Bvc2l0aW9uID0gTWF0aC5taW4oXG5cdFx0XHRcdFx0cmVzaXplck5ld1Bvc2l0aW9uLFxuXHRcdFx0XHRcdHJpZ2h0U2hpZnRCb3VuZGFyeVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGN1cnJlbnRTaGlmdCA9IHJlc2l6ZXJOZXdQb3NpdGlvbiAtIHN0YXJ0T2Zmc2V0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXNpemVyLnNldFN0eWxlKCdsZWZ0JywgcHhVbml0KHJlc2l6ZXJOZXdQb3NpdGlvbikpO1xuXHRcdH0pO1xuXG5cdFx0ZnVuY3Rpb24gZGV0YWNoKCkge1xuXHRcdFx0cmVzaXplci5yZW1vdmVMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XG5cdFx0XHRyZXNpemVyLnJlbW92ZUxpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG5cdFx0XHRyZXNpemVyLnJlbW92ZUxpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVzaXplU3RhcnQoKSB7XG5cdFx0XHQvLyBCZWZvcmUgc3RhcnRpbmcgdG8gcmVzaXplLCBmaWd1cmUgb3V0IHdoaWNoIGNlbGxzIHRvIGNoYW5nZVxuXHRcdFx0Ly8gYW5kIHRoZSBib3VuZGFyaWVzIG9mIHRoaXMgcmVzaXppbmcgc2hpZnQuXG5cblx0XHRcdGNvbnN0IGNvbHVtbkluZGV4ID0gcGlsbGFyLmluZGV4O1xuXG5cdFx0XHRjb25zdCBtYXAgPSBDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKHBpbGxhci50YWJsZSk7XG5cblx0XHRcdGNvbnN0IGxlZnRDb2x1bW5DZWxscyA9IFtdO1xuXG5cdFx0XHRjb25zdCByaWdodENvbHVtbkNlbGxzID0gW107XG5cblx0XHRcdGxldCBsZWZ0TWluU2l6ZSA9IE51bWJlci5NQVhfVkFMVUU7XG5cblx0XHRcdGxldCByaWdodE1pblNpemUgPSBsZWZ0TWluU2l6ZTtcblxuXHRcdFx0Y29uc3QgcnRsID0gcGlsbGFyLnJ0bDtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDAsIGxlbiA9IG1hcC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRjb25zdCByb3cgPSBtYXBbaV07XG5cblx0XHRcdFx0bGV0IGxlZnRDZWxsID0gcm93W2NvbHVtbkluZGV4ICsgKHJ0bCA/IDEgOiAwKV07XG5cblx0XHRcdFx0bGV0IHJpZ2h0Q2VsbCA9IHJvd1tjb2x1bW5JbmRleCArIChydGwgPyAwIDogMSldO1xuXG5cdFx0XHRcdGxlZnRDZWxsID0gbGVmdENlbGwgJiYgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGxlZnRDZWxsKTtcblx0XHRcdFx0cmlnaHRDZWxsID0gcmlnaHRDZWxsICYmIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChyaWdodENlbGwpO1xuXG5cdFx0XHRcdGlmICghbGVmdENlbGwgfHwgIXJpZ2h0Q2VsbCB8fCAhbGVmdENlbGwuZXF1YWxzKHJpZ2h0Q2VsbCkpIHtcblx0XHRcdFx0XHRpZiAobGVmdENlbGwpIHtcblx0XHRcdFx0XHRcdGxlZnRNaW5TaXplID0gTWF0aC5taW4obGVmdE1pblNpemUsIGdldFdpZHRoKGxlZnRDZWxsKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChyaWdodENlbGwpIHtcblx0XHRcdFx0XHRcdHJpZ2h0TWluU2l6ZSA9IE1hdGgubWluKFxuXHRcdFx0XHRcdFx0XHRyaWdodE1pblNpemUsXG5cdFx0XHRcdFx0XHRcdGdldFdpZHRoKHJpZ2h0Q2VsbClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGVmdENvbHVtbkNlbGxzLnB1c2gobGVmdENlbGwpO1xuXHRcdFx0XHRcdHJpZ2h0Q29sdW1uQ2VsbHMucHVzaChyaWdodENlbGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhY2hlIHRoZSBsaXN0IG9mIGNlbGxzIHRvIGJlIHJlc2l6ZWQuXG5cdFx0XHRsZWZ0U2lkZUNlbGxzID0gbGVmdENvbHVtbkNlbGxzO1xuXHRcdFx0cmlnaHRTaWRlQ2VsbHMgPSByaWdodENvbHVtbkNlbGxzO1xuXG5cdFx0XHQvLyBDYWNoZSB0aGUgcmVzaXplIGxpbWl0IGJvdW5kYXJpZXMuXG5cdFx0XHRsZWZ0U2hpZnRCb3VuZGFyeSA9IHBpbGxhci54IC0gbGVmdE1pblNpemU7XG5cdFx0XHRyaWdodFNoaWZ0Qm91bmRhcnkgPSBwaWxsYXIueCArIHJpZ2h0TWluU2l6ZTtcblxuXHRcdFx0cmVzaXplci5zZXRPcGFjaXR5KDAuNSk7XG5cdFx0XHRzdGFydE9mZnNldCA9IHBhcnNlSW50KHJlc2l6ZXIuZ2V0U3R5bGUoJ2xlZnQnKSwgMTApO1xuXHRcdFx0Y3VycmVudFNoaWZ0ID0gMDtcblx0XHRcdHJlc2l6aW5nID0gMTtcblxuXHRcdFx0cmVzaXplci5vbignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRoZSBuYXRpdmUgZHJhZyBiZWhhdmlvciBvdGhlcndpc2UgJ21vdXNlbW92ZScgd29uJ3QgZmlyZS5cblx0XHRcdGRvY3VtZW50Lm9uKCdkcmFnc3RhcnQnLCBjYW5jZWwpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlc2l6ZUVuZCgpIHtcblx0XHRcdHJlc2l6aW5nID0gMDtcblxuXHRcdFx0cmVzaXplci5zZXRPcGFjaXR5KDApO1xuXG5cdFx0XHRpZiAoY3VycmVudFNoaWZ0KSB7XG5cdFx0XHRcdHJlc2l6ZUNvbHVtbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0YWJsZSA9IHBpbGxhci50YWJsZTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHR0YWJsZS5yZW1vdmVDdXN0b21EYXRhKCdfY2tlX3RhYmxlX3BpbGxhcnMnKTtcblx0XHRcdH0sIDApO1xuXG5cdFx0XHRkb2N1bWVudC5yZW1vdmVMaXN0ZW5lcignZHJhZ3N0YXJ0JywgY2FuY2VsKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZXNpemVDb2x1bW4oKSB7XG5cdFx0XHRjb25zdCBydGwgPSBwaWxsYXIucnRsO1xuXG5cdFx0XHRjb25zdCBjZWxsc0NvdW50ID0gcnRsXG5cdFx0XHRcdD8gcmlnaHRTaWRlQ2VsbHMubGVuZ3RoXG5cdFx0XHRcdDogbGVmdFNpZGVDZWxscy5sZW5ndGg7XG5cblx0XHRcdC8vIFBlcmZvcm0gdGhlIGFjdHVhbCByZXNpemUgdG8gdGFibGUgY2VsbHMsIG9ubHkgZm9yIHRob3NlIGJ5IHNpZGUgb2YgdGhlIHBpbGxhci5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbHNDb3VudDsgaSsrKSB7XG5cdFx0XHRcdGNvbnN0IGxlZnRDZWxsID0gbGVmdFNpZGVDZWxsc1tpXTtcblxuXHRcdFx0XHRjb25zdCByaWdodENlbGwgPSByaWdodFNpZGVDZWxsc1tpXTtcblxuXHRcdFx0XHRjb25zdCB0YWJsZSA9IHBpbGxhci50YWJsZTtcblxuXHRcdFx0XHQvLyBEZWZlciB0aGUgcmVzaXppbmcgdG8gYXZvaWQgYW55IGludGVyZmVyZW5jZSBhbW9uZyBjZWxscy5cblx0XHRcdFx0Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChcblx0XHRcdFx0XHQoXG5cdFx0XHRcdFx0XHRsZWZ0Q2VsbCxcblx0XHRcdFx0XHRcdGxlZnRPbGRXaWR0aCxcblx0XHRcdFx0XHRcdHJpZ2h0Q2VsbCxcblx0XHRcdFx0XHRcdHJpZ2h0T2xkV2lkdGgsXG5cdFx0XHRcdFx0XHR0YWJsZVdpZHRoLFxuXHRcdFx0XHRcdFx0c2l6ZVNoaWZ0XG5cdFx0XHRcdFx0KSA9PiB7XG5cdFx0XHRcdFx0XHQvLyAxcHggaXMgdGhlIG1pbmltdW0gdmFsaWQgd2lkdGggKCMxMTYyNikuXG5cdFx0XHRcdFx0XHRpZiAobGVmdENlbGwpIHtcblx0XHRcdFx0XHRcdFx0bGVmdENlbGwuc2V0U3R5bGUoXG5cdFx0XHRcdFx0XHRcdFx0J3dpZHRoJyxcblx0XHRcdFx0XHRcdFx0XHRweFVuaXQoTWF0aC5tYXgobGVmdE9sZFdpZHRoICsgc2l6ZVNoaWZ0LCAxKSlcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChyaWdodENlbGwpIHtcblx0XHRcdFx0XHRcdFx0cmlnaHRDZWxsLnNldFN0eWxlKFxuXHRcdFx0XHRcdFx0XHRcdCd3aWR0aCcsXG5cdFx0XHRcdFx0XHRcdFx0cHhVbml0KE1hdGgubWF4KHJpZ2h0T2xkV2lkdGggLSBzaXplU2hpZnQsIDEpKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJZiB3ZSdyZSBpbiB0aGUgbGFzdCBjZWxsLCB3ZSBuZWVkIHRvIHJlc2l6ZSB0aGUgdGFibGUgYXMgd2VsbFxuXHRcdFx0XHRcdFx0aWYgKHRhYmxlV2lkdGgpIHtcblx0XHRcdFx0XHRcdFx0dGFibGUuc2V0U3R5bGUoXG5cdFx0XHRcdFx0XHRcdFx0J3dpZHRoJyxcblx0XHRcdFx0XHRcdFx0XHRweFVuaXQodGFibGVXaWR0aCArIHNpemVTaGlmdCAqIChydGwgPyAtMSA6IDEpKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0MCxcblx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFtcblx0XHRcdFx0XHRcdGxlZnRDZWxsLFxuXHRcdFx0XHRcdFx0bGVmdENlbGwgJiYgZ2V0V2lkdGgobGVmdENlbGwpLFxuXHRcdFx0XHRcdFx0cmlnaHRDZWxsLFxuXHRcdFx0XHRcdFx0cmlnaHRDZWxsICYmIGdldFdpZHRoKHJpZ2h0Q2VsbCksXG5cdFx0XHRcdFx0XHQoIWxlZnRDZWxsIHx8ICFyaWdodENlbGwpICYmXG5cdFx0XHRcdFx0XHRcdGdldFdpZHRoKHRhYmxlKSArXG5cdFx0XHRcdFx0XHRcdFx0Z2V0Qm9yZGVyV2lkdGgodGFibGUsICdsZWZ0JykgK1xuXHRcdFx0XHRcdFx0XHRcdGdldEJvcmRlcldpZHRoKHRhYmxlLCAncmlnaHQnKSxcblx0XHRcdFx0XHRcdGN1cnJlbnRTaGlmdCxcblx0XHRcdFx0XHRdXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gb25Nb3VzZURvd24oZXZ0KSB7XG5cdFx0XHRjYW5jZWwoZXZ0KTtcblxuXHRcdFx0cmVzaXplU3RhcnQoKTtcblxuXHRcdFx0ZG9jdW1lbnQub24oJ21vdXNldXAnLCBvbk1vdXNlVXAsIHRoaXMpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIG9uTW91c2VVcChldnQpIHtcblx0XHRcdGV2dC5yZW1vdmVMaXN0ZW5lcigpO1xuXG5cdFx0XHRyZXNpemVFbmQoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcblx0XHRcdG1vdmUoZXZ0LmRhdGEuZ2V0UGFnZU9mZnNldCgpLngpO1xuXHRcdH1cblxuXHRcdC8vIENsZWFuIERPTSB3aGVuIGVkaXRvciBpcyBkZXN0cm95ZWQuXG5cdFx0ZWRpdG9yLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuXHRcdFx0ZGV0YWNoKCk7XG5cblx0XHRcdHJlc2l6ZXIucmVtb3ZlKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBQbGFjZSB0aGUgcmVzaXplciBhZnRlciBib2R5IHRvIHByZXZlbnQgaXRcblx0XHQvLyBmcm9tIGJlaW5nIGVkaXRhYmxlLlxuXHRcdGRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLmFwcGVuZChyZXNpemVyKTtcblxuXHRcdHJlc2l6ZXIuc2V0U3R5bGVzKHtcblx0XHRcdHdpZHRoOiBweFVuaXQocGlsbGFyLndpZHRoKSxcblx0XHRcdGhlaWdodDogcHhVbml0KHBpbGxhci5oZWlnaHQpLFxuXHRcdFx0bGVmdDogcHhVbml0KHBpbGxhci54KSxcblx0XHRcdHRvcDogcHhVbml0KHBpbGxhci55KSxcblx0XHR9KTtcblxuXHRcdHJlc2l6ZXIub24oJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCB0aGlzKTtcblxuXHRcdGRvY3VtZW50LmdldEJvZHkoKS5zZXRTdHlsZSgnY3Vyc29yJywgJ2NvbC1yZXNpemUnKTtcblxuXHRcdC8vIERpc3BsYXkgdGhlIHJlc2l6ZXIgdG8gcmVjZWl2ZSBldmVudHMgYnV0IGRvbid0IHNob3cgaXQsXG5cdFx0Ly8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciB0byByZXNpemFibGUgc2hhcGUuXG5cdFx0cmVzaXplci5zaG93KCk7XG5cblx0XHR0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblx0XHRcdGRldGFjaCgpO1xuXG5cdFx0XHRkb2N1bWVudC5nZXRCb2R5KCkuc2V0U3R5bGUoJ2N1cnNvcicsICdhdXRvJyk7XG5cblx0XHRcdHJlc2l6ZXIucmVtb3ZlKCk7XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsZWFyUGlsbGFyc0NhY2hlKGV2dCkge1xuXHRcdGNvbnN0IHRhcmdldCA9IGV2dC5kYXRhLmdldFRhcmdldCgpO1xuXG5cdFx0aWYgKGV2dC5uYW1lID09PSAnbW91c2VvdXQnKSB7XG5cdFx0XHQvLyBCeXBhc3MgaW50ZXJhbCBtb3VzZSBtb3ZlLlxuXHRcdFx0aWYgKCF0YXJnZXQuaXMoJ3RhYmxlJykpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgZGVzdCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcblx0XHRcdFx0ZXZ0LmRhdGEuJC5yZWxhdGVkVGFyZ2V0IHx8IGV2dC5kYXRhLiQudG9FbGVtZW50XG5cdFx0XHQpO1xuXHRcdFx0d2hpbGUgKGRlc3QgJiYgZGVzdC4kICYmICFkZXN0LmVxdWFscyh0YXJnZXQpICYmICFkZXN0LmlzKCdib2R5JykpIHtcblx0XHRcdFx0ZGVzdCA9IGRlc3QuZ2V0UGFyZW50KCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWRlc3QgfHwgZGVzdC5lcXVhbHModGFyZ2V0KSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGFyZ2V0LmdldEFzY2VuZGFudCgndGFibGUnLCAxKS5yZW1vdmVDdXN0b21EYXRhKCdfY2tlX3RhYmxlX3BpbGxhcnMnKTtcblx0XHRldnQucmVtb3ZlTGlzdGVuZXIoKTtcblx0fVxuXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV90YWJsZXJlc2l6ZScsIHtcblx0XHRyZXF1aXJlczogJ2FlX3RhYmxldG9vbHMnLFxuXG5cdFx0aW5pdChlZGl0b3IpIHtcblx0XHRcdGVkaXRvci5vbignY29udGVudERvbScsICgpID0+IHtcblx0XHRcdFx0bGV0IHJlc2l6ZXI7XG5cblx0XHRcdFx0Y29uc3QgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuXHRcdFx0XHQvLyBJbiBDbGFzc2ljIGVkaXRvciBpdCBpcyBiZXR0ZXIgdG8gdXNlIGRvY3VtZW50XG5cdFx0XHRcdC8vIGluc3RlYWQgb2YgZWRpdGFibGUgc28gZXZlbnQgd2lsbCB3b3JrIGJlbG93IGJvZHkuXG5cdFx0XHRcdGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKFxuXHRcdFx0XHRcdGVkaXRhYmxlLmlzSW5saW5lKCkgPyBlZGl0YWJsZSA6IGVkaXRvci5kb2N1bWVudCxcblx0XHRcdFx0XHQnbW91c2Vtb3ZlJyxcblx0XHRcdFx0XHRldnQgPT4ge1xuXHRcdFx0XHRcdFx0ZXZ0ID0gZXZ0LmRhdGE7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHRhcmdldCA9IGV2dC5nZXRUYXJnZXQoKTtcblxuXHRcdFx0XHRcdFx0Ly8gRkYgbWF5IHJldHVybiBkb2N1bWVudCBhbmQgSUU4IHNvbWUgVUZPIChvYmplY3Qgd2l0aCBubyBub2RlVHlwZSBwcm9wZXJ0eS4uLilcblx0XHRcdFx0XHRcdC8vIGluc3RlYWQgb2YgYW4gZWxlbWVudCAoIzExODIzKS5cblx0XHRcdFx0XHRcdGlmICh0YXJnZXQudHlwZSAhPT0gQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29uc3QgcGFnZVggPSBldnQuZ2V0UGFnZU9mZnNldCgpLng7XG5cblx0XHRcdFx0XHRcdC8vIElmIHdlJ3JlIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBwaWxsYXIsIHNpbXBseSBtb3ZlIHRoZVxuXHRcdFx0XHRcdFx0Ly8gcmVzaXplci5cblx0XHRcdFx0XHRcdGlmIChyZXNpemVyKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChyZXNpemVyLmlzUmVzaXppbmcoKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc2l6ZXIubW92ZShwYWdlWCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYW5jZWwoZXZ0KTtcblxuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNpemVyLmRlc3Ryb3koKTtcblxuXHRcdFx0XHRcdFx0XHRcdHJlc2l6ZXIgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIENvbnNpZGVyaW5nIHRhYmxlLCB0ciwgdGQsIHRib2R5IGJ1dCBub3RoaW5nIGVsc2UuXG5cdFx0XHRcdFx0XHRsZXQgcGlsbGFycztcblxuXHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHQhdGFyZ2V0LmlzKCd0YWJsZScpICYmXG5cdFx0XHRcdFx0XHRcdCF0YXJnZXQuZ2V0QXNjZW5kYW50KCd0Ym9keScsIDEpXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb25zdCB0YWJsZSA9IHRhcmdldC5nZXRBc2NlbmRhbnQoJ3RhYmxlJywgMSk7XG5cblx0XHRcdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGUgdGFibGUgd2UgZm91bmQgaXMgaW5zaWRlIHRoZSBjb250YWluZXJcblx0XHRcdFx0XHRcdC8vIChlZy4gd2Ugc2hvdWxkIG5vdCB1c2UgdGFibGVzIHRoZSBlZGl0b3IgaXMgZW1iZWRkZWQgd2l0aGluKVxuXHRcdFx0XHRcdFx0aWYgKCFlZGl0b3IuZWRpdGFibGUoKS5jb250YWlucyh0YWJsZSkpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdCEocGlsbGFycyA9IHRhYmxlLmdldEN1c3RvbURhdGEoXG5cdFx0XHRcdFx0XHRcdFx0J19ja2VfdGFibGVfcGlsbGFycydcblx0XHRcdFx0XHRcdFx0KSlcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0YWJsZSBwaWxsYXJzIGNhbGN1bGF0aW9uIHJlc3VsdC5cblx0XHRcdFx0XHRcdFx0dGFibGUuc2V0Q3VzdG9tRGF0YShcblx0XHRcdFx0XHRcdFx0XHQnX2NrZV90YWJsZV9waWxsYXJzJyxcblx0XHRcdFx0XHRcdFx0XHQocGlsbGFycyA9IGJ1aWxkVGFibGVDb2x1bW5QaWxsYXJzKHRhYmxlKSlcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0dGFibGUub24oJ21vdXNlb3V0JywgY2xlYXJQaWxsYXJzQ2FjaGUpO1xuXHRcdFx0XHRcdFx0XHR0YWJsZS5vbignbW91c2Vkb3duJywgY2xlYXJQaWxsYXJzQ2FjaGUpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb25zdCBwaWxsYXIgPSBnZXRQaWxsYXJBdFBvc2l0aW9uKHBpbGxhcnMsIHBhZ2VYKTtcblxuXHRcdFx0XHRcdFx0aWYgKHBpbGxhcikge1xuXHRcdFx0XHRcdFx0XHRyZXNpemVyID0gbmV3IENvbHVtblJlc2l6ZXIoZWRpdG9yLCBwaWxsYXIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdH0pO1xufVxuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE1LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlXG4gKi9cblxuaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfdGFibGV0b29scycpKSB7XG5cdGNvbnN0IGNlbGxOb2RlUmVnZXggPSAvXig/OnRkfHRoKSQvO1xuXG5cdGZ1bmN0aW9uIGdldFNlbGVjdGVkQ2VsbHMoc2VsZWN0aW9uKSB7XG5cdFx0Y29uc3QgcmFuZ2VzID0gc2VsZWN0aW9uLmdldFJhbmdlcygpO1xuXHRcdGNvbnN0IHJldHZhbCA9IFtdO1xuXHRcdGNvbnN0IGRhdGFiYXNlID0ge307XG5cblx0XHRmdW5jdGlvbiBtb3ZlT3V0T2ZDZWxsR3VhcmQobm9kZSkge1xuXHRcdFx0Ly8gQXBwbHkgdG8gdGhlIGZpcnN0IGNlbGwgb25seS5cblx0XHRcdGlmIChyZXR2YWwubGVuZ3RoID4gMCkgcmV0dXJuO1xuXG5cdFx0XHQvLyBJZiB3ZSBhcmUgZXhpdGluZyBmcm9tIHRoZSBmaXJzdCA8L3RkPiwgdGhlbiB0aGUgdGQgc2hvdWxkIGRlZmluaXRlbHkgYmVcblx0XHRcdC8vIGluY2x1ZGVkLlxuXHRcdFx0aWYgKFxuXHRcdFx0XHRub2RlLnR5cGUgPT0gQ0tFRElUT1IuTk9ERV9FTEVNRU5UICYmXG5cdFx0XHRcdGNlbGxOb2RlUmVnZXgudGVzdChub2RlLmdldE5hbWUoKSkgJiZcblx0XHRcdFx0IW5vZGUuZ2V0Q3VzdG9tRGF0YSgnc2VsZWN0ZWRfY2VsbCcpXG5cdFx0XHQpIHtcblx0XHRcdFx0Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKFxuXHRcdFx0XHRcdGRhdGFiYXNlLFxuXHRcdFx0XHRcdG5vZGUsXG5cdFx0XHRcdFx0J3NlbGVjdGVkX2NlbGwnLFxuXHRcdFx0XHRcdHRydWVcblx0XHRcdFx0KTtcblx0XHRcdFx0cmV0dmFsLnB1c2gobm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHJhbmdlID0gcmFuZ2VzW2ldO1xuXG5cdFx0XHRpZiAocmFuZ2UuY29sbGFwc2VkKSB7XG5cdFx0XHRcdC8vIFdhbGtlciBkb2VzIG5vdCBoYW5kbGUgY29sbGFwc2VkIHJhbmdlcyB5ZXQgLSBmYWxsIGJhY2sgdG8gb2xkIEFQSS5cblx0XHRcdFx0Y29uc3Qgc3RhcnROb2RlID0gcmFuZ2UuZ2V0Q29tbW9uQW5jZXN0b3IoKTtcblx0XHRcdFx0Y29uc3QgbmVhcmVzdENlbGwgPVxuXHRcdFx0XHRcdHN0YXJ0Tm9kZS5nZXRBc2NlbmRhbnQoJ3RkJywgdHJ1ZSkgfHxcblx0XHRcdFx0XHRzdGFydE5vZGUuZ2V0QXNjZW5kYW50KCd0aCcsIHRydWUpO1xuXHRcdFx0XHRpZiAobmVhcmVzdENlbGwpIHJldHZhbC5wdXNoKG5lYXJlc3RDZWxsKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHdhbGtlciA9IG5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHJhbmdlKTtcblx0XHRcdFx0bGV0IG5vZGU7XG5cdFx0XHRcdHdhbGtlci5ndWFyZCA9IG1vdmVPdXRPZkNlbGxHdWFyZDtcblxuXHRcdFx0XHR3aGlsZSAoKG5vZGUgPSB3YWxrZXIubmV4dCgpKSkge1xuXHRcdFx0XHRcdC8vIElmIG1heSBiZSBwb3NzaWJsZSBmb3IgdXMgdG8gaGF2ZSBhIHJhbmdlIGxpa2UgdGhpczpcblx0XHRcdFx0XHQvLyA8dGQ+XjE8L3RkPjx0ZD5eMjwvdGQ+XG5cdFx0XHRcdFx0Ly8gVGhlIDJuZCB0ZCBzaG91bGRuJ3QgYmUgaW5jbHVkZWQuXG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHQvLyBTbyB3ZSBoYXZlIHRvIHRha2UgY2FyZSB0byBpbmNsdWRlIGEgdGQgd2UndmUgZW50ZXJlZCBvbmx5IHdoZW4gd2UndmVcblx0XHRcdFx0XHQvLyB3YWxrZWQgaW50byBpdHMgY2hpbGRyZW4uXG5cblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRub2RlLnR5cGUgIT0gQ0tFRElUT1IuTk9ERV9FTEVNRU5UIHx8XG5cdFx0XHRcdFx0XHQhbm9kZS5pcyhDS0VESVRPUi5kdGQudGFibGUpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwYXJlbnQgPVxuXHRcdFx0XHRcdFx0XHRub2RlLmdldEFzY2VuZGFudCgndGQnLCB0cnVlKSB8fFxuXHRcdFx0XHRcdFx0XHRub2RlLmdldEFzY2VuZGFudCgndGgnLCB0cnVlKTtcblx0XHRcdFx0XHRcdGlmIChwYXJlbnQgJiYgIXBhcmVudC5nZXRDdXN0b21EYXRhKCdzZWxlY3RlZF9jZWxsJykpIHtcblx0XHRcdFx0XHRcdFx0Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKFxuXHRcdFx0XHRcdFx0XHRcdGRhdGFiYXNlLFxuXHRcdFx0XHRcdFx0XHRcdHBhcmVudCxcblx0XHRcdFx0XHRcdFx0XHQnc2VsZWN0ZWRfY2VsbCcsXG5cdFx0XHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRyZXR2YWwucHVzaChwYXJlbnQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhkYXRhYmFzZSk7XG5cblx0XHRyZXR1cm4gcmV0dmFsO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Rm9jdXNFbGVtZW50QWZ0ZXJEZWxDZWxscyhjZWxsc1RvRGVsZXRlKSB7XG5cdFx0bGV0IGkgPSAwO1xuXG5cdFx0Y29uc3QgbGFzdCA9IGNlbGxzVG9EZWxldGUubGVuZ3RoIC0gMTtcblxuXHRcdGNvbnN0IGRhdGFiYXNlID0ge307XG5cblx0XHRsZXQgY2VsbDtcblxuXHRcdGxldCBmb2N1c2VkQ2VsbDtcblxuXHRcdGxldCB0cjtcblxuXHRcdHdoaWxlICgoY2VsbCA9IGNlbGxzVG9EZWxldGVbaSsrXSkpXG5cdFx0XHRDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZGF0YWJhc2UsIGNlbGwsICdkZWxldGVfY2VsbCcsIHRydWUpO1xuXG5cdFx0Ly8gMS5maXJzdCB3ZSBjaGVjayBsZWZ0IG9yIHJpZ2h0IHNpZGUgZm9jdXNhYmxlIGNlbGwgcm93IGJ5IHJvdztcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoKGNlbGwgPSBjZWxsc1RvRGVsZXRlW2krK10pKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCgoZm9jdXNlZENlbGwgPSBjZWxsLmdldFByZXZpb3VzKCkpICYmXG5cdFx0XHRcdFx0IWZvY3VzZWRDZWxsLmdldEN1c3RvbURhdGEoJ2RlbGV0ZV9jZWxsJykpIHx8XG5cdFx0XHRcdCgoZm9jdXNlZENlbGwgPSBjZWxsLmdldE5leHQoKSkgJiZcblx0XHRcdFx0XHQhZm9jdXNlZENlbGwuZ2V0Q3VzdG9tRGF0YSgnZGVsZXRlX2NlbGwnKSlcblx0XHRcdCkge1xuXHRcdFx0XHRDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoZGF0YWJhc2UpO1xuXHRcdFx0XHRyZXR1cm4gZm9jdXNlZENlbGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGRhdGFiYXNlKTtcblxuXHRcdC8vIDIuIHRoZW4gd2UgY2hlY2sgdGhlIHRvcHBlc3Qgcm93IChvdXRzaWRlIHRoZSBzZWxlY3Rpb24gYXJlYSBzcXVhcmUpIGZvY3VzYWJsZSBjZWxsXG5cdFx0dHIgPSBjZWxsc1RvRGVsZXRlWzBdLmdldFBhcmVudCgpO1xuXHRcdGlmICgodHIgPSB0ci5nZXRQcmV2aW91cygpKSkgcmV0dXJuIHRyLmdldExhc3QoKTtcblxuXHRcdC8vIDMuIGxhc3Qgd2UgY2hlY2sgdGhlIGxvd2VyZXN0ICByb3cgZm9jdXNhYmxlIGNlbGxcblx0XHR0ciA9IGNlbGxzVG9EZWxldGVbbGFzdF0uZ2V0UGFyZW50KCk7XG5cdFx0aWYgKCh0ciA9IHRyLmdldE5leHQoKSkpIHJldHVybiB0ci5nZXRDaGlsZCgwKTtcblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5zZXJ0Um93KGVkaXRvciwgaW5zZXJ0QmVmb3JlKSB7XG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG5cdFx0Y29uc3QgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKHNlbGVjdGlvbik7XG5cblx0XHRjb25zdCBmaXJzdENlbGwgPSBjZWxsc1swXTtcblxuXHRcdGNvbnN0IHRhYmxlID0gZmlyc3RDZWxsLmdldEFzY2VuZGFudCgndGFibGUnKTtcblxuXHRcdGNvbnN0IGRvYyA9IGZpcnN0Q2VsbC5nZXREb2N1bWVudCgpO1xuXG5cdFx0Y29uc3Qgc3RhcnRSb3cgPSBjZWxsc1swXS5nZXRQYXJlbnQoKTtcblxuXHRcdGNvbnN0IHN0YXJ0Um93SW5kZXggPSBzdGFydFJvdy4kLnJvd0luZGV4O1xuXG5cdFx0Y29uc3QgbGFzdENlbGwgPSBjZWxsc1tjZWxscy5sZW5ndGggLSAxXTtcblxuXHRcdGNvbnN0IGVuZFJvd0luZGV4ID1cblx0XHRcdGxhc3RDZWxsLmdldFBhcmVudCgpLiQucm93SW5kZXggKyBsYXN0Q2VsbC4kLnJvd1NwYW4gLSAxO1xuXG5cdFx0Y29uc3QgZW5kUm93ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRhYmxlLiQucm93c1tlbmRSb3dJbmRleF0pO1xuXG5cdFx0Y29uc3Qgcm93SW5kZXggPSBpbnNlcnRCZWZvcmUgPyBzdGFydFJvd0luZGV4IDogZW5kUm93SW5kZXg7XG5cblx0XHRjb25zdCByb3cgPSBpbnNlcnRCZWZvcmUgPyBzdGFydFJvdyA6IGVuZFJvdztcblxuXHRcdGNvbnN0IG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAodGFibGUpO1xuXG5cdFx0Y29uc3QgY2xvbmVSb3cgPSBtYXBbcm93SW5kZXhdO1xuXG5cdFx0Y29uc3QgbmV4dFJvdyA9IGluc2VydEJlZm9yZSA/IG1hcFtyb3dJbmRleCAtIDFdIDogbWFwW3Jvd0luZGV4ICsgMV07XG5cblx0XHRjb25zdCB3aWR0aCA9IG1hcFswXS5sZW5ndGg7XG5cblx0XHRjb25zdCBuZXdSb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcblx0XHRmb3IgKGxldCBpID0gMDsgY2xvbmVSb3dbaV0gJiYgaSA8IHdpZHRoOyBpKyspIHtcblx0XHRcdGxldCBjZWxsO1xuXHRcdFx0Ly8gQ2hlY2sgd2hldGhlciB0aGVyZSdzIGEgc3Bhbm5pbmcgcm93IGhlcmUsIGRvIG5vdCBicmVhayBpdC5cblx0XHRcdGlmIChcblx0XHRcdFx0Y2xvbmVSb3dbaV0ucm93U3BhbiA+IDEgJiZcblx0XHRcdFx0bmV4dFJvdyAmJlxuXHRcdFx0XHRjbG9uZVJvd1tpXSA9PSBuZXh0Um93W2ldXG5cdFx0XHQpIHtcblx0XHRcdFx0Y2VsbCA9IGNsb25lUm93W2ldO1xuXHRcdFx0XHRjZWxsLnJvd1NwYW4gKz0gMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNlbGwgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY2xvbmVSb3dbaV0pLmNsb25lKCk7XG5cdFx0XHRcdGNlbGwucmVtb3ZlQXR0cmlidXRlKCdyb3dTcGFuJyk7XG5cdFx0XHRcdGNlbGwuYXBwZW5kQm9ndXMoKTtcblx0XHRcdFx0bmV3Um93LmFwcGVuZChjZWxsKTtcblx0XHRcdFx0Y2VsbCA9IGNlbGwuJDtcblx0XHRcdH1cblxuXHRcdFx0aSArPSBjZWxsLmNvbFNwYW4gLSAxO1xuXHRcdH1cblxuXHRcdGlmIChpbnNlcnRCZWZvcmUpIHtcblx0XHRcdG5ld1Jvdy5pbnNlcnRCZWZvcmUocm93KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3Um93Lmluc2VydEFmdGVyKHJvdyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgY2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuZXdSb3cuJCkuZ2V0Q2hpbGQoXG5cdFx0XHRjZWxsc1swXSA/IGNlbGxzWzBdLiQuY2VsbEluZGV4IDogMFxuXHRcdCk7XG5cdFx0c2VsZWN0RWxlbWVudChlZGl0b3IsIGNlbGwpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVsZXRlUm93cyhzZWxlY3Rpb25PclJvdykge1xuXHRcdGlmIChzZWxlY3Rpb25PclJvdyBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24pIHtcblx0XHRcdGNvbnN0IGNlbGxzID0gZ2V0U2VsZWN0ZWRDZWxscyhzZWxlY3Rpb25PclJvdyk7XG5cblx0XHRcdGNvbnN0IGZpcnN0Q2VsbCA9IGNlbGxzWzBdO1xuXG5cdFx0XHRjb25zdCB0YWJsZSA9IGZpcnN0Q2VsbC5nZXRBc2NlbmRhbnQoJ3RhYmxlJyk7XG5cblx0XHRcdGNvbnN0IG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAodGFibGUpO1xuXG5cdFx0XHRjb25zdCBzdGFydFJvdyA9IGNlbGxzWzBdLmdldFBhcmVudCgpO1xuXG5cdFx0XHRjb25zdCBzdGFydFJvd0luZGV4ID0gc3RhcnRSb3cuJC5yb3dJbmRleDtcblxuXHRcdFx0Y29uc3QgbGFzdENlbGwgPSBjZWxsc1tjZWxscy5sZW5ndGggLSAxXTtcblxuXHRcdFx0Y29uc3QgZW5kUm93SW5kZXggPVxuXHRcdFx0XHRsYXN0Q2VsbC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4ICsgbGFzdENlbGwuJC5yb3dTcGFuIC0gMTtcblxuXHRcdFx0Y29uc3Qgcm93c1RvRGVsZXRlID0gW107XG5cblx0XHRcdC8vIERlbGV0ZSBjZWxsIG9yIHJlZHVjZSBjZWxsIHNwYW5zIGJ5IGNoZWNraW5nIHRocm91Z2ggdGhlIHRhYmxlIG1hcC5cblx0XHRcdGZvciAobGV0IGkgPSBzdGFydFJvd0luZGV4OyBpIDw9IGVuZFJvd0luZGV4OyBpKyspIHtcblx0XHRcdFx0Y29uc3QgbWFwUm93ID0gbWFwW2ldO1xuXG5cdFx0XHRcdGNvbnN0IHJvdyA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0YWJsZS4kLnJvd3NbaV0pO1xuXG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbWFwUm93Lmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChtYXBSb3dbal0pO1xuXG5cdFx0XHRcdFx0Y29uc3QgY2VsbFJvd0luZGV4ID0gY2VsbC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4O1xuXG5cdFx0XHRcdFx0aWYgKGNlbGwuJC5yb3dTcGFuID09IDEpIGNlbGwucmVtb3ZlKCk7XG5cdFx0XHRcdFx0Ly8gUm93IHNwYW5uZWQgY2VsbC5cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdC8vIFNwYW4gcm93IG9mIHRoZSBjZWxsLCByZWR1Y2Ugc3Bhbm5pbmcuXG5cdFx0XHRcdFx0XHRjZWxsLiQucm93U3BhbiAtPSAxO1xuXHRcdFx0XHRcdFx0Ly8gUm9vdCByb3cgb2YgdGhlIGNlbGwsIHJvb3QgY2VsbCB0byBuZXh0IHJvdy5cblx0XHRcdFx0XHRcdGlmIChjZWxsUm93SW5kZXggPT0gaSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBuZXh0TWFwUm93ID0gbWFwW2kgKyAxXTtcblx0XHRcdFx0XHRcdFx0aWYgKG5leHRNYXBSb3dbaiAtIDFdKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2VsbC5pbnNlcnRBZnRlcihcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuZXh0TWFwUm93W2ogLSAxXSlcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcblx0XHRcdFx0XHRcdFx0XHRcdHRhYmxlLiQucm93c1tpICsgMV1cblx0XHRcdFx0XHRcdFx0XHQpLmFwcGVuZChjZWxsLCAxKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGogKz0gY2VsbC4kLmNvbFNwYW4gLSAxO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cm93c1RvRGVsZXRlLnB1c2gocm93KTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgcm93cyA9IHRhYmxlLiQucm93cztcblxuXHRcdFx0Ly8gV2hlcmUgdG8gcHV0IHRoZSBjdXJzb3IgYWZ0ZXIgcm93cyBiZWVuIGRlbGV0ZWQ/XG5cdFx0XHQvLyAxLiBJbnRvIG5leHQgc2libGluZyByb3cgaWYgYW55O1xuXHRcdFx0Ly8gMi4gSW50byBwcmV2aW91cyBzaWJsaW5nIHJvdyBpZiBhbnk7XG5cdFx0XHQvLyAzLiBJbnRvIHRhYmxlJ3MgcGFyZW50IGVsZW1lbnQgaWYgaXQncyB0aGUgdmVyeSBsYXN0IHJvdy5cblx0XHRcdGNvbnN0IGN1cnNvclBvc2l0aW9uID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFxuXHRcdFx0XHRyb3dzW2VuZFJvd0luZGV4ICsgMV0gfHxcblx0XHRcdFx0XHQoc3RhcnRSb3dJbmRleCA+IDAgPyByb3dzW3N0YXJ0Um93SW5kZXggLSAxXSA6IG51bGwpIHx8XG5cdFx0XHRcdFx0dGFibGUuJC5wYXJlbnROb2RlXG5cdFx0XHQpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gcm93c1RvRGVsZXRlLmxlbmd0aDsgaSA+PSAwOyBpLS0pXG5cdFx0XHRcdGRlbGV0ZVJvd3Mocm93c1RvRGVsZXRlW2ldKTtcblxuXHRcdFx0cmV0dXJuIGN1cnNvclBvc2l0aW9uO1xuXHRcdH0gZWxzZSBpZiAoc2VsZWN0aW9uT3JSb3cgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCkge1xuXHRcdFx0Y29uc3QgdGFibGUgPSBzZWxlY3Rpb25PclJvdy5nZXRBc2NlbmRhbnQoJ3RhYmxlJyk7XG5cblx0XHRcdGlmICh0YWJsZS4kLnJvd3MubGVuZ3RoID09IDEpIHRhYmxlLnJlbW92ZSgpO1xuXHRcdFx0ZWxzZSBzZWxlY3Rpb25PclJvdy5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldENlbGxDb2xJbmRleChjZWxsLCBpc1N0YXJ0KSB7XG5cdFx0Y29uc3Qgcm93ID0gY2VsbC5nZXRQYXJlbnQoKTtcblxuXHRcdGNvbnN0IHJvd0NlbGxzID0gcm93LiQuY2VsbHM7XG5cblx0XHRsZXQgY29sSW5kZXggPSAwO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcm93Q2VsbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG1hcENlbGwgPSByb3dDZWxsc1tpXTtcblx0XHRcdGNvbEluZGV4ICs9IGlzU3RhcnQgPyAxIDogbWFwQ2VsbC5jb2xTcGFuO1xuXHRcdFx0aWYgKG1hcENlbGwgPT0gY2VsbC4kKSBicmVhaztcblx0XHR9XG5cblx0XHRyZXR1cm4gY29sSW5kZXggLSAxO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Q29sdW1uc0luZGljZXMoY2VsbHMsIGlzU3RhcnQpIHtcblx0XHRsZXQgcmV0dmFsID0gaXNTdGFydCA/IEluZmluaXR5IDogMDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjb2xJbmRleCA9IGdldENlbGxDb2xJbmRleChjZWxsc1tpXSwgaXNTdGFydCk7XG5cdFx0XHRpZiAoaXNTdGFydCA/IGNvbEluZGV4IDwgcmV0dmFsIDogY29sSW5kZXggPiByZXR2YWwpXG5cdFx0XHRcdHJldHZhbCA9IGNvbEluZGV4O1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0dmFsO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5zZXJ0Q29sdW1uKGVkaXRvciwgaW5zZXJ0QmVmb3JlKSB7XG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG5cdFx0Y29uc3QgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKHNlbGVjdGlvbik7XG5cblx0XHRjb25zdCBmaXJzdENlbGwgPSBjZWxsc1swXTtcblxuXHRcdGNvbnN0IHRhYmxlID0gZmlyc3RDZWxsLmdldEFzY2VuZGFudCgndGFibGUnKTtcblxuXHRcdGNvbnN0IHN0YXJ0Q29sID0gZ2V0Q29sdW1uc0luZGljZXMoY2VsbHMsIDEpO1xuXG5cdFx0Y29uc3QgbGFzdENvbCA9IGdldENvbHVtbnNJbmRpY2VzKGNlbGxzKTtcblxuXHRcdGNvbnN0IGNvbEluZGV4ID0gaW5zZXJ0QmVmb3JlID8gc3RhcnRDb2wgOiBsYXN0Q29sO1xuXG5cdFx0Y29uc3QgbWFwID0gQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCh0YWJsZSk7XG5cblx0XHRjb25zdCBjbG9uZUNvbCA9IFtdO1xuXG5cdFx0Y29uc3QgbmV4dENvbCA9IFtdO1xuXG5cdFx0Y29uc3QgaGVpZ2h0ID0gbWFwLmxlbmd0aDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaGVpZ2h0OyBpKyspIHtcblx0XHRcdGNsb25lQ29sLnB1c2gobWFwW2ldW2NvbEluZGV4XSk7XG5cdFx0XHRjb25zdCBuZXh0Q2VsbCA9IGluc2VydEJlZm9yZVxuXHRcdFx0XHQ/IG1hcFtpXVtjb2xJbmRleCAtIDFdXG5cdFx0XHRcdDogbWFwW2ldW2NvbEluZGV4ICsgMV07XG5cdFx0XHRuZXh0Q29sLnB1c2gobmV4dENlbGwpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGluc2VydGVkQ2VsbHMgPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGhlaWdodDsgaSsrKSB7XG5cdFx0XHRsZXQgY2VsbDtcblxuXHRcdFx0aWYgKCFjbG9uZUNvbFtpXSkgY29udGludWU7XG5cblx0XHRcdC8vIENoZWNrIHdoZXRoZXIgdGhlcmUncyBhIHNwYW5uaW5nIGNvbHVtbiBoZXJlLCBkbyBub3QgYnJlYWsgaXQuXG5cdFx0XHRpZiAoY2xvbmVDb2xbaV0uY29sU3BhbiA+IDEgJiYgbmV4dENvbFtpXSA9PSBjbG9uZUNvbFtpXSkge1xuXHRcdFx0XHRjZWxsID0gY2xvbmVDb2xbaV07XG5cdFx0XHRcdGNlbGwuY29sU3BhbiArPSAxO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjbG9uZUNvbFtpXSkuY2xvbmUoKTtcblx0XHRcdFx0Y2VsbC5yZW1vdmVBdHRyaWJ1dGUoJ2NvbFNwYW4nKTtcblx0XHRcdFx0Y2VsbC5hcHBlbmRCb2d1cygpO1xuXHRcdFx0XHRjZWxsW2luc2VydEJlZm9yZSA/ICdpbnNlcnRCZWZvcmUnIDogJ2luc2VydEFmdGVyJ10uY2FsbChcblx0XHRcdFx0XHRjZWxsLFxuXHRcdFx0XHRcdG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjbG9uZUNvbFtpXSlcblx0XHRcdFx0KTtcblx0XHRcdFx0Y2VsbCA9IGNlbGwuJDtcblx0XHRcdH1cblxuXHRcdFx0aW5zZXJ0ZWRDZWxsc1tpXSA9IGNlbGw7XG5cblx0XHRcdGkgKz0gY2VsbC5yb3dTcGFuIC0gMTtcblx0XHR9XG5cblx0XHRjb25zdCBjZWxsID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFxuXHRcdFx0aW5zZXJ0ZWRDZWxsc1tmaXJzdENlbGwuZ2V0UGFyZW50KCkuJC5yb3dJbmRleF1cblx0XHQpO1xuXHRcdHNlbGVjdEVsZW1lbnQoZWRpdG9yLCBjZWxsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNlbGVjdEVsZW1lbnQoZWRpdG9yLCBlbGVtZW50KSB7XG5cdFx0Y29uc3QgcmFuZ2UgPSBlZGl0b3IuY3JlYXRlUmFuZ2UoKTtcblxuXHRcdHJhbmdlLm1vdmVUb1Bvc2l0aW9uKGVsZW1lbnQsIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtcblx0XHRlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtyYW5nZV0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVsZXRlQ29sdW1ucyhzZWxlY3Rpb25PckNlbGwpIHtcblx0XHRjb25zdCBjZWxscyA9IGdldFNlbGVjdGVkQ2VsbHMoc2VsZWN0aW9uT3JDZWxsKTtcblxuXHRcdGNvbnN0IGZpcnN0Q2VsbCA9IGNlbGxzWzBdO1xuXG5cdFx0Y29uc3QgbGFzdENlbGwgPSBjZWxsc1tjZWxscy5sZW5ndGggLSAxXTtcblxuXHRcdGNvbnN0IHRhYmxlID0gZmlyc3RDZWxsLmdldEFzY2VuZGFudCgndGFibGUnKTtcblxuXHRcdGNvbnN0IG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAodGFibGUpO1xuXG5cdFx0bGV0IHN0YXJ0Q29sSW5kZXg7XG5cblx0XHRsZXQgZW5kQ29sSW5kZXg7XG5cblx0XHRjb25zdCByb3dzVG9EZWxldGUgPSBbXTtcblxuXHRcdGxldCByb3dzO1xuXG5cdFx0Ly8gRmlndXJlIG91dCBzZWxlY3RlZCBjZWxscycgY29sdW1uIGluZGljZXMuXG5cdFx0Zm9yIChsZXQgaSA9IDAsIHJvd3MgPSBtYXAubGVuZ3RoOyBpIDwgcm93czsgaSsrKSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc29ydC12YXJzXG5cdFx0XHRmb3IgKGxldCBqID0gMCwgY29scyA9IG1hcFtpXS5sZW5ndGg7IGogPCBjb2xzOyBqKyspIHtcblx0XHRcdFx0aWYgKG1hcFtpXVtqXSA9PSBmaXJzdENlbGwuJCkgc3RhcnRDb2xJbmRleCA9IGo7XG5cdFx0XHRcdGlmIChtYXBbaV1bal0gPT0gbGFzdENlbGwuJCkgZW5kQ29sSW5kZXggPSBqO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIERlbGV0ZSBjZWxsIG9yIHJlZHVjZSBjZWxsIHNwYW5zIGJ5IGNoZWNraW5nIHRocm91Z2ggdGhlIHRhYmxlIG1hcC5cblx0XHRmb3IgKGxldCBpID0gc3RhcnRDb2xJbmRleDsgaSA8PSBlbmRDb2xJbmRleDsgaSsrKSB7XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG1hcC5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRjb25zdCBtYXBSb3cgPSBtYXBbal07XG5cblx0XHRcdFx0Y29uc3Qgcm93ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRhYmxlLiQucm93c1tqXSk7XG5cblx0XHRcdFx0Y29uc3QgY2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChtYXBSb3dbaV0pO1xuXG5cdFx0XHRcdGlmIChjZWxsLiQpIHtcblx0XHRcdFx0XHRpZiAoY2VsbC4kLmNvbFNwYW4gPT0gMSkgY2VsbC5yZW1vdmUoKTtcblx0XHRcdFx0XHQvLyBSZWR1Y2UgdGhlIGNvbCBzcGFucy5cblx0XHRcdFx0XHRlbHNlIGNlbGwuJC5jb2xTcGFuIC09IDE7XG5cblx0XHRcdFx0XHRqICs9IGNlbGwuJC5yb3dTcGFuIC0gMTtcblxuXHRcdFx0XHRcdGlmICghcm93LiQuY2VsbHMubGVuZ3RoKSByb3dzVG9EZWxldGUucHVzaChyb3cpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlyc3RSb3dDZWxscyA9IHRhYmxlLiQucm93c1swXSAmJiB0YWJsZS4kLnJvd3NbMF0uY2VsbHM7XG5cblx0XHQvLyBXaGVyZSB0byBwdXQgdGhlIGN1cnNvciBhZnRlciBjb2x1bW5zIGJlZW4gZGVsZXRlZD9cblx0XHQvLyAxLiBJbnRvIG5leHQgY2VsbCBvZiB0aGUgZmlyc3Qgcm93IGlmIGFueTtcblx0XHQvLyAyLiBJbnRvIHByZXZpb3VzIGNlbGwgb2YgdGhlIGZpcnN0IHJvdyBpZiBhbnk7XG5cdFx0Ly8gMy4gSW50byB0YWJsZSdzIHBhcmVudCBlbGVtZW50O1xuXHRcdGNvbnN0IGN1cnNvclBvc2l0aW9uID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFxuXHRcdFx0Zmlyc3RSb3dDZWxsc1tzdGFydENvbEluZGV4XSB8fFxuXHRcdFx0XHQoc3RhcnRDb2xJbmRleFxuXHRcdFx0XHRcdD8gZmlyc3RSb3dDZWxsc1tzdGFydENvbEluZGV4IC0gMV1cblx0XHRcdFx0XHQ6IHRhYmxlLiQucGFyZW50Tm9kZSlcblx0XHQpO1xuXG5cdFx0Ly8gRGVsZXRlIHRhYmxlIHJvd3Mgb25seSBpZiBhbGwgY29sdW1ucyBhcmUgZ29uZSAoZG8gbm90IHJlbW92ZSBlbXB0eSByb3cpLlxuXHRcdGlmIChyb3dzVG9EZWxldGUubGVuZ3RoID09IHJvd3MpIHRhYmxlLnJlbW92ZSgpO1xuXG5cdFx0cmV0dXJuIGN1cnNvclBvc2l0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5zZXJ0Q2VsbChzZWxlY3Rpb24sIGluc2VydEJlZm9yZSkge1xuXHRcdGNvbnN0IHN0YXJ0RWxlbWVudCA9IHNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnQoKTtcblx0XHRjb25zdCBjZWxsID1cblx0XHRcdHN0YXJ0RWxlbWVudC5nZXRBc2NlbmRhbnQoJ3RkJywgMSkgfHxcblx0XHRcdHN0YXJ0RWxlbWVudC5nZXRBc2NlbmRhbnQoJ3RoJywgMSk7XG5cblx0XHRpZiAoIWNlbGwpIHJldHVybjtcblxuXHRcdC8vIENyZWF0ZSB0aGUgbmV3IGNlbGwgZWxlbWVudCB0byBiZSBhZGRlZC5cblx0XHRjb25zdCBuZXdDZWxsID0gY2VsbC5jbG9uZSgpO1xuXHRcdG5ld0NlbGwuYXBwZW5kQm9ndXMoKTtcblxuXHRcdGlmIChpbnNlcnRCZWZvcmUpIG5ld0NlbGwuaW5zZXJ0QmVmb3JlKGNlbGwpO1xuXHRcdGVsc2UgbmV3Q2VsbC5pbnNlcnRBZnRlcihjZWxsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlbGV0ZUNlbGxzKHNlbGVjdGlvbk9yQ2VsbCkge1xuXHRcdGlmIChzZWxlY3Rpb25PckNlbGwgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uc2VsZWN0aW9uKSB7XG5cdFx0XHRjb25zdCBjZWxsc1RvRGVsZXRlID0gZ2V0U2VsZWN0ZWRDZWxscyhzZWxlY3Rpb25PckNlbGwpO1xuXHRcdFx0Y29uc3QgdGFibGUgPVxuXHRcdFx0XHRjZWxsc1RvRGVsZXRlWzBdICYmIGNlbGxzVG9EZWxldGVbMF0uZ2V0QXNjZW5kYW50KCd0YWJsZScpO1xuXHRcdFx0Y29uc3QgY2VsbFRvRm9jdXMgPSBnZXRGb2N1c0VsZW1lbnRBZnRlckRlbENlbGxzKGNlbGxzVG9EZWxldGUpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gY2VsbHNUb0RlbGV0ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcblx0XHRcdFx0ZGVsZXRlQ2VsbHMoY2VsbHNUb0RlbGV0ZVtpXSk7XG5cblx0XHRcdGlmIChjZWxsVG9Gb2N1cykgcGxhY2VDdXJzb3JJbkNlbGwoY2VsbFRvRm9jdXMsIHRydWUpO1xuXHRcdFx0ZWxzZSBpZiAodGFibGUpIHRhYmxlLnJlbW92ZSgpO1xuXHRcdH0gZWxzZSBpZiAoc2VsZWN0aW9uT3JDZWxsIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQpIHtcblx0XHRcdGNvbnN0IHRyID0gc2VsZWN0aW9uT3JDZWxsLmdldFBhcmVudCgpO1xuXHRcdFx0aWYgKHRyLmdldENoaWxkQ291bnQoKSA9PSAxKSB0ci5yZW1vdmUoKTtcblx0XHRcdGVsc2Ugc2VsZWN0aW9uT3JDZWxsLnJlbW92ZSgpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSBmaWxsZXIgYXQgZW5kIGFuZCBlbXB0eSBzcGFjZXMgYXJvdW5kIHRoZSBjZWxsIGNvbnRlbnQuXG5cdGZ1bmN0aW9uIHRyaW1DZWxsKGNlbGwpIHtcblx0XHRjb25zdCBib2d1cyA9IGNlbGwuZ2V0Qm9ndXMoKTtcblx0XHRpZiAoYm9ndXMpIHtcblx0XHRcdGJvZ3VzLnJlbW92ZSgpO1xuXHRcdH1cblx0XHRjZWxsLnRyaW0oKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBsYWNlQ3Vyc29ySW5DZWxsKGNlbGwsIHBsYWNlQXRFbmQpIHtcblx0XHRjb25zdCBkb2NJbm5lciA9IGNlbGwuZ2V0RG9jdW1lbnQoKTtcblxuXHRcdGNvbnN0IGRvY091dGVyID0gQ0tFRElUT1IuZG9jdW1lbnQ7XG5cblx0XHQvLyBGaXhpbmcgXCJVbnNwZWNpZmllZCBlcnJvclwiIHRocm93biBpbiBJRTEwIGJ5IHJlc2V0dGluZ1xuXHRcdC8vIHNlbGVjdGlvbiB0aGUgZGlydHkgYW5kIHNoYW1lZnVsIHdheSAoIzEwMzA4KS5cblx0XHQvLyBXZSBjYW4gbm90IGFwcGx5IHRoaXMgaGFjayB0byBJRTggYmVjYXVzZVxuXHRcdC8vIGl0IGNhdXNlcyBlcnJvciAoIzExMDU4KS5cblx0XHRpZiAoQ0tFRElUT1IuZW52LmllICYmIENLRURJVE9SLmVudi52ZXJzaW9uID09IDEwKSB7XG5cdFx0XHRkb2NPdXRlci5mb2N1cygpO1xuXHRcdFx0ZG9jSW5uZXIuZm9jdXMoKTtcblx0XHR9XG5cblx0XHRjb25zdCByYW5nZSA9IG5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZG9jSW5uZXIpO1xuXHRcdGlmIChcblx0XHRcdCFyYW5nZVsnbW92ZVRvRWxlbWVudEVkaXQnICsgKHBsYWNlQXRFbmQgPyAnRW5kJyA6ICdTdGFydCcpXShjZWxsKVxuXHRcdCkge1xuXHRcdFx0cmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGNlbGwpO1xuXHRcdFx0cmFuZ2UuY29sbGFwc2UocGxhY2VBdEVuZCA/IGZhbHNlIDogdHJ1ZSk7XG5cdFx0fVxuXHRcdHJhbmdlLnNlbGVjdCh0cnVlKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNlbGxJblJvdyh0YWJsZU1hcCwgcm93SW5kZXgsIGNlbGwpIHtcblx0XHRjb25zdCBvUm93ID0gdGFibGVNYXBbcm93SW5kZXhdO1xuXHRcdGlmICh0eXBlb2YgY2VsbCA9PSAndW5kZWZpbmVkJykgcmV0dXJuIG9Sb3c7XG5cblx0XHRmb3IgKGxldCBjID0gMDsgb1JvdyAmJiBjIDwgb1Jvdy5sZW5ndGg7IGMrKykge1xuXHRcdFx0aWYgKGNlbGwuaXMgJiYgb1Jvd1tjXSA9PSBjZWxsLiQpIHJldHVybiBjO1xuXHRcdFx0ZWxzZSBpZiAoYyA9PSBjZWxsKSByZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KG9Sb3dbY10pO1xuXHRcdH1cblx0XHRyZXR1cm4gY2VsbC5pcyA/IC0xIDogbnVsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGNlbGxJbkNvbCh0YWJsZU1hcCwgY29sSW5kZXgpIHtcblx0XHRjb25zdCBvQ29sID0gW107XG5cdFx0Zm9yIChsZXQgciA9IDA7IHIgPCB0YWJsZU1hcC5sZW5ndGg7IHIrKykge1xuXHRcdFx0Y29uc3Qgcm93ID0gdGFibGVNYXBbcl07XG5cdFx0XHRvQ29sLnB1c2gocm93W2NvbEluZGV4XSk7XG5cblx0XHRcdC8vIEF2b2lkIGFkZGluZyBkdXBsaWNhdGUgY2VsbHMuXG5cdFx0XHRpZiAocm93W2NvbEluZGV4XS5yb3dTcGFuID4gMSkgciArPSByb3dbY29sSW5kZXhdLnJvd1NwYW4gLSAxO1xuXHRcdH1cblx0XHRyZXR1cm4gb0NvbDtcblx0fVxuXG5cdGZ1bmN0aW9uIG1lcmdlQ2VsbHMoc2VsZWN0aW9uLCBtZXJnZURpcmVjdGlvbiwgaXNEZXRlY3QpIHtcblx0XHRjb25zdCBjZWxscyA9IGdldFNlbGVjdGVkQ2VsbHMoc2VsZWN0aW9uKTtcblxuXHRcdC8vIEludmFsaWQgbWVyZ2UgcmVxdWVzdCBpZjpcblx0XHQvLyAxLiBJbiBiYXRjaCBtb2RlIGRlc3BpdGUgdGhhdCBsZXNzIHRoYW4gdHdvIHNlbGVjdGVkLlxuXHRcdC8vIDIuIEluIHNvbG8gbW9kZSB3aGlsZSBub3QgZXhhY3RseSBvbmx5IG9uZSBzZWxlY3RlZC5cblx0XHQvLyAzLiBDZWxscyBkaXN0cmlidXRlZCBpbiBkaWZmZXJlbnQgdGFibGUgZ3JvdXBzIChlLmcuIGZyb20gYm90aCB0aGVhZCBhbmQgdGJvZHkpLlxuXHRcdGxldCBjb21tb25BbmNlc3Rvcjtcblx0XHRpZiAoXG5cdFx0XHQobWVyZ2VEaXJlY3Rpb24gPyBjZWxscy5sZW5ndGggIT0gMSA6IGNlbGxzLmxlbmd0aCA8IDIpIHx8XG5cdFx0XHQoKGNvbW1vbkFuY2VzdG9yID0gc2VsZWN0aW9uLmdldENvbW1vbkFuY2VzdG9yKCkpICYmXG5cdFx0XHRcdGNvbW1vbkFuY2VzdG9yLnR5cGUgPT0gQ0tFRElUT1IuTk9ERV9FTEVNRU5UICYmXG5cdFx0XHRcdGNvbW1vbkFuY2VzdG9yLmlzKCd0YWJsZScpKVxuXHRcdClcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdGxldCBjZWxsO1xuXG5cdFx0Y29uc3QgZmlyc3RDZWxsID0gY2VsbHNbMF07XG5cblx0XHRjb25zdCB0YWJsZSA9IGZpcnN0Q2VsbC5nZXRBc2NlbmRhbnQoJ3RhYmxlJyk7XG5cblx0XHRjb25zdCBtYXAgPSBDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKHRhYmxlKTtcblxuXHRcdGNvbnN0IG1hcEhlaWdodCA9IG1hcC5sZW5ndGg7XG5cblx0XHRjb25zdCBtYXBXaWR0aCA9IG1hcFswXS5sZW5ndGg7XG5cblx0XHRjb25zdCBzdGFydFJvdyA9IGZpcnN0Q2VsbC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4O1xuXG5cdFx0Y29uc3Qgc3RhcnRDb2x1bW4gPSBjZWxsSW5Sb3cobWFwLCBzdGFydFJvdywgZmlyc3RDZWxsKTtcblxuXHRcdGlmIChtZXJnZURpcmVjdGlvbikge1xuXHRcdFx0bGV0IHRhcmdldENlbGw7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByb3dzcGFuID1cblx0XHRcdFx0XHRwYXJzZUludChmaXJzdENlbGwuZ2V0QXR0cmlidXRlKCdyb3dzcGFuJyksIDEwKSB8fCAxO1xuXHRcdFx0XHRjb25zdCBjb2xzcGFuID1cblx0XHRcdFx0XHRwYXJzZUludChmaXJzdENlbGwuZ2V0QXR0cmlidXRlKCdjb2xzcGFuJyksIDEwKSB8fCAxO1xuXG5cdFx0XHRcdHRhcmdldENlbGwgPVxuXHRcdFx0XHRcdG1hcFtcblx0XHRcdFx0XHRcdG1lcmdlRGlyZWN0aW9uID09ICd1cCdcblx0XHRcdFx0XHRcdFx0PyBzdGFydFJvdyAtIHJvd3NwYW5cblx0XHRcdFx0XHRcdFx0OiBtZXJnZURpcmVjdGlvbiA9PSAnZG93bidcblx0XHRcdFx0XHRcdFx0PyBzdGFydFJvdyArIHJvd3NwYW5cblx0XHRcdFx0XHRcdFx0OiBzdGFydFJvd1xuXHRcdFx0XHRcdF1bXG5cdFx0XHRcdFx0XHRtZXJnZURpcmVjdGlvbiA9PSAnbGVmdCdcblx0XHRcdFx0XHRcdFx0PyBzdGFydENvbHVtbiAtIGNvbHNwYW5cblx0XHRcdFx0XHRcdFx0OiBtZXJnZURpcmVjdGlvbiA9PSAncmlnaHQnXG5cdFx0XHRcdFx0XHRcdD8gc3RhcnRDb2x1bW4gKyBjb2xzcGFuXG5cdFx0XHRcdFx0XHRcdDogc3RhcnRDb2x1bW5cblx0XHRcdFx0XHRdO1xuXHRcdFx0fSBjYXRjaCAoZXIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyAxLiBObyBjZWxsIGNvdWxkIGJlIG1lcmdlZC5cblx0XHRcdC8vIDIuIFNhbWUgY2VsbCBhY3R1YWxseS5cblx0XHRcdGlmICghdGFyZ2V0Q2VsbCB8fCBmaXJzdENlbGwuJCA9PSB0YXJnZXRDZWxsKSByZXR1cm4gZmFsc2U7XG5cblx0XHRcdC8vIFNvcnQgaW4gbWFwIG9yZGVyIHJlZ2FyZGxlc3Mgb2YgdGhlIERPTSBzZXF1ZW5jZS5cblx0XHRcdGNlbGxzW1xuXHRcdFx0XHRtZXJnZURpcmVjdGlvbiA9PSAndXAnIHx8IG1lcmdlRGlyZWN0aW9uID09ICdsZWZ0J1xuXHRcdFx0XHRcdD8gJ3Vuc2hpZnQnXG5cdFx0XHRcdFx0OiAncHVzaCdcblx0XHRcdF0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRhcmdldENlbGwpKTtcblx0XHR9XG5cblx0XHQvLyBTdGFydCBmcm9tIGhlcmUgYXJlIG1lcmdpbmcgd2F5IGlnbm9yYW5jZSAobWVyZ2UgdXAvcmlnaHQsIGJhdGNoIG1lcmdlKS5cblx0XHRjb25zdCBkb2MgPSBmaXJzdENlbGwuZ2V0RG9jdW1lbnQoKTtcblxuXHRcdGxldCBsYXN0Um93SW5kZXggPSBzdGFydFJvdztcblxuXHRcdGxldCB0b3RhbFJvd1NwYW4gPSAwO1xuXG5cdFx0bGV0IHRvdGFsQ29sU3BhbiA9IDA7XG5cblx0XHQvLyBVc2UgYSBkb2N1bWVudEZyYWdtZW50IGFzIGJ1ZmZlciB3aGVuIGFwcGVuZGluZyBjZWxsIGNvbnRlbnRzLlxuXG5cdFx0Y29uc3QgZnJhZyA9ICFpc0RldGVjdCAmJiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoZG9jKTtcblxuXHRcdGxldCBkaW1lbnNpb24gPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjZWxscy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y2VsbCA9IGNlbGxzW2ldO1xuXG5cdFx0XHRjb25zdCB0ciA9IGNlbGwuZ2V0UGFyZW50KCk7XG5cblx0XHRcdGNvbnN0IGNlbGxGaXJzdENoaWxkID0gY2VsbC5nZXRGaXJzdCgpO1xuXG5cdFx0XHRjb25zdCBjb2xTcGFuID0gY2VsbC4kLmNvbFNwYW47XG5cblx0XHRcdGNvbnN0IHJvd1NwYW4gPSBjZWxsLiQucm93U3BhbjtcblxuXHRcdFx0Y29uc3Qgcm93SW5kZXggPSB0ci4kLnJvd0luZGV4O1xuXG5cdFx0XHRjb25zdCBjb2xJbmRleCA9IGNlbGxJblJvdyhtYXAsIHJvd0luZGV4LCBjZWxsKTtcblxuXHRcdFx0Ly8gQWNjdW11bGF0ZWQgdGhlIGFjdHVhbCBwbGFjZXMgdGFrZW4gYnkgYWxsIHNlbGVjdGVkIGNlbGxzLlxuXHRcdFx0ZGltZW5zaW9uICs9IGNvbFNwYW4gKiByb3dTcGFuO1xuXHRcdFx0Ly8gQWNjdW11bGF0ZWQgdGhlIG1heGltdW0gdmlydHVhbCBzcGFucyBmcm9tIGNvbHVtbiBhbmQgcm93LlxuXHRcdFx0dG90YWxDb2xTcGFuID0gTWF0aC5tYXgoXG5cdFx0XHRcdHRvdGFsQ29sU3Bhbixcblx0XHRcdFx0Y29sSW5kZXggLSBzdGFydENvbHVtbiArIGNvbFNwYW5cblx0XHRcdCk7XG5cdFx0XHR0b3RhbFJvd1NwYW4gPSBNYXRoLm1heChcblx0XHRcdFx0dG90YWxSb3dTcGFuLFxuXHRcdFx0XHRyb3dJbmRleCAtIHN0YXJ0Um93ICsgcm93U3BhblxuXHRcdFx0KTtcblxuXHRcdFx0aWYgKCFpc0RldGVjdCkge1xuXHRcdFx0XHQvLyBUcmltIGFsbCBjZWxsIGZpbGxlcnMgYW5kIGNoZWNrIHRvIHJlbW92ZSBlbXB0eSBjZWxscy5cblx0XHRcdFx0aWYgKCh0cmltQ2VsbChjZWxsKSwgY2VsbC5nZXRDaGlsZHJlbigpLmNvdW50KCkpKSB7XG5cdFx0XHRcdFx0Ly8gTWVyZ2UgdmVydGljYWxseSBjZWxscyBhcyB0d28gc2VwYXJhdGVkIHBhcmFncmFwaHMuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0cm93SW5kZXggIT0gbGFzdFJvd0luZGV4ICYmXG5cdFx0XHRcdFx0XHRjZWxsRmlyc3RDaGlsZCAmJlxuXHRcdFx0XHRcdFx0IShcblx0XHRcdFx0XHRcdFx0Y2VsbEZpcnN0Q2hpbGQuaXNCbG9ja0JvdW5kYXJ5ICYmXG5cdFx0XHRcdFx0XHRcdGNlbGxGaXJzdENoaWxkLmlzQmxvY2tCb3VuZGFyeSh7YnI6IDF9KVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgbGFzdCA9IGZyYWcuZ2V0TGFzdChcblx0XHRcdFx0XHRcdFx0Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyh0cnVlKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGlmIChsYXN0ICYmICEobGFzdC5pcyAmJiBsYXN0LmlzKCdicicpKSlcblx0XHRcdFx0XHRcdFx0ZnJhZy5hcHBlbmQoJ2JyJyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y2VsbC5tb3ZlQ2hpbGRyZW4oZnJhZyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGkpIHtcblx0XHRcdFx0XHRjZWxsLnJlbW92ZSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNlbGwuc2V0SHRtbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGxhc3RSb3dJbmRleCA9IHJvd0luZGV4O1xuXHRcdH1cblxuXHRcdGlmICghaXNEZXRlY3QpIHtcblx0XHRcdGZyYWcubW92ZUNoaWxkcmVuKGZpcnN0Q2VsbCk7XG5cblx0XHRcdGZpcnN0Q2VsbC5hcHBlbmRCb2d1cygpO1xuXG5cdFx0XHRpZiAodG90YWxDb2xTcGFuID49IG1hcFdpZHRoKSBmaXJzdENlbGwucmVtb3ZlQXR0cmlidXRlKCdyb3dTcGFuJyk7XG5cdFx0XHRlbHNlIGZpcnN0Q2VsbC4kLnJvd1NwYW4gPSB0b3RhbFJvd1NwYW47XG5cblx0XHRcdGlmICh0b3RhbFJvd1NwYW4gPj0gbWFwSGVpZ2h0KSBmaXJzdENlbGwucmVtb3ZlQXR0cmlidXRlKCdjb2xTcGFuJyk7XG5cdFx0XHRlbHNlIGZpcnN0Q2VsbC4kLmNvbFNwYW4gPSB0b3RhbENvbFNwYW47XG5cblx0XHRcdC8vIFN3aXAgZW1wdHkgPHRyPiBsZWZ0IGF0IHRoZSBlbmQgb2YgdGFibGUgZHVlIHRvIHRoZSBtZXJnaW5nLlxuXHRcdFx0Y29uc3QgdHJzID0gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0YWJsZS4kLnJvd3MpO1xuXG5cdFx0XHRsZXQgY291bnQgPSB0cnMuY291bnQoKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IGNvdW50IC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0Y29uc3QgdGFpbFRyID0gdHJzLmdldEl0ZW0oaSk7XG5cdFx0XHRcdGlmICghdGFpbFRyLiQuY2VsbHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dGFpbFRyLnJlbW92ZSgpO1xuXHRcdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZpcnN0Q2VsbDtcblx0XHR9XG5cdFx0Ly8gQmUgYWJsZSB0byBtZXJnZSBjZWxscyBvbmx5IGlmIGFjdHVhbCBkaW1lbnNpb24gb2Ygc2VsZWN0ZWRcblx0XHQvLyBjZWxscyBlcXVhbHMgdG8gdGhlIGNhY3VsYXRlZCByZWN0YW5nbGUuXG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXR1cm4gdG90YWxSb3dTcGFuICogdG90YWxDb2xTcGFuID09IGRpbWVuc2lvbjtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB2ZXJ0aWNhbFNwbGl0Q2VsbChzZWxlY3Rpb24sIGlzRGV0ZWN0KSB7XG5cdFx0Y29uc3QgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKHNlbGVjdGlvbik7XG5cdFx0aWYgKGNlbGxzLmxlbmd0aCA+IDEpIHJldHVybiBmYWxzZTtcblx0XHRlbHNlIGlmIChpc0RldGVjdCkgcmV0dXJuIHRydWU7XG5cblx0XHRjb25zdCBjZWxsID0gY2VsbHNbMF07XG5cblx0XHRjb25zdCB0ciA9IGNlbGwuZ2V0UGFyZW50KCk7XG5cblx0XHRjb25zdCB0YWJsZSA9IHRyLmdldEFzY2VuZGFudCgndGFibGUnKTtcblxuXHRcdGNvbnN0IG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAodGFibGUpO1xuXG5cdFx0Y29uc3Qgcm93SW5kZXggPSB0ci4kLnJvd0luZGV4O1xuXG5cdFx0Y29uc3QgY29sSW5kZXggPSBjZWxsSW5Sb3cobWFwLCByb3dJbmRleCwgY2VsbCk7XG5cblx0XHRjb25zdCByb3dTcGFuID0gY2VsbC4kLnJvd1NwYW47XG5cblx0XHRsZXQgbmV3Q2VsbDtcblxuXHRcdGxldCBuZXdSb3dTcGFuO1xuXG5cdFx0bGV0IG5ld0NlbGxSb3dTcGFuO1xuXG5cdFx0bGV0IG5ld1Jvd0luZGV4O1xuXG5cdFx0aWYgKHJvd1NwYW4gPiAxKSB7XG5cdFx0XHRuZXdSb3dTcGFuID0gTWF0aC5jZWlsKHJvd1NwYW4gLyAyKTtcblx0XHRcdG5ld0NlbGxSb3dTcGFuID0gTWF0aC5mbG9vcihyb3dTcGFuIC8gMik7XG5cdFx0XHRuZXdSb3dJbmRleCA9IHJvd0luZGV4ICsgbmV3Um93U3Bhbjtcblx0XHRcdGNvbnN0IG5ld0NlbGxUciA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcblx0XHRcdFx0dGFibGUuJC5yb3dzW25ld1Jvd0luZGV4XVxuXHRcdFx0KTtcblxuXHRcdFx0Y29uc3QgbmV3Q2VsbFJvdyA9IGNlbGxJblJvdyhtYXAsIG5ld1Jvd0luZGV4KTtcblxuXHRcdFx0bGV0IGNhbmRpZGF0ZUNlbGw7XG5cblx0XHRcdG5ld0NlbGwgPSBjZWxsLmNsb25lKCk7XG5cblx0XHRcdC8vIEZpZ3VyZSBvdXQgd2hlcmUgdG8gaW5zZXJ0IHRoZSBuZXcgY2VsbCBieSBjaGVja2luZyB0aGUgdml0dWFsIHJvdy5cblx0XHRcdGZvciAobGV0IGMgPSAwOyBjIDwgbmV3Q2VsbFJvdy5sZW5ndGg7IGMrKykge1xuXHRcdFx0XHRjYW5kaWRhdGVDZWxsID0gbmV3Q2VsbFJvd1tjXTtcblx0XHRcdFx0Ly8gQ2F0Y2ggZmlyc3QgY2VsbCBhY3R1YWxseSBmb2xsb3dpbmcgdGhlIGNvbHVtbi5cblx0XHRcdFx0aWYgKGNhbmRpZGF0ZUNlbGwucGFyZW50Tm9kZSA9PSBuZXdDZWxsVHIuJCAmJiBjID4gY29sSW5kZXgpIHtcblx0XHRcdFx0XHRuZXdDZWxsLmluc2VydEJlZm9yZShcblx0XHRcdFx0XHRcdG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjYW5kaWRhdGVDZWxsKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2FuZGlkYXRlQ2VsbCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlIGRlc3RpbmF0aW9uIHJvdyBpcyBlbXB0eSwgYXBwZW5kIGF0IHdpbGwuXG5cdFx0XHRpZiAoIWNhbmRpZGF0ZUNlbGwpIG5ld0NlbGxUci5hcHBlbmQobmV3Q2VsbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ld0NlbGxSb3dTcGFuID0gbmV3Um93U3BhbiA9IDE7XG5cblx0XHRcdGNvbnN0IG5ld0NlbGxUciA9IHRyLmNsb25lKCk7XG5cdFx0XHRuZXdDZWxsVHIuaW5zZXJ0QWZ0ZXIodHIpO1xuXHRcdFx0bmV3Q2VsbFRyLmFwcGVuZCgobmV3Q2VsbCA9IGNlbGwuY2xvbmUoKSkpO1xuXG5cdFx0XHRjb25zdCBjZWxsc0luU2FtZVJvdyA9IGNlbGxJblJvdyhtYXAsIHJvd0luZGV4KTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbHNJblNhbWVSb3cubGVuZ3RoOyBpKyspXG5cdFx0XHRcdGNlbGxzSW5TYW1lUm93W2ldLnJvd1NwYW4rKztcblx0XHR9XG5cblx0XHRuZXdDZWxsLmFwcGVuZEJvZ3VzKCk7XG5cblx0XHRjZWxsLiQucm93U3BhbiA9IG5ld1Jvd1NwYW47XG5cdFx0bmV3Q2VsbC4kLnJvd1NwYW4gPSBuZXdDZWxsUm93U3Bhbjtcblx0XHRpZiAobmV3Um93U3BhbiA9PSAxKSBjZWxsLnJlbW92ZUF0dHJpYnV0ZSgncm93U3BhbicpO1xuXHRcdGlmIChuZXdDZWxsUm93U3BhbiA9PSAxKSBuZXdDZWxsLnJlbW92ZUF0dHJpYnV0ZSgncm93U3BhbicpO1xuXG5cdFx0cmV0dXJuIG5ld0NlbGw7XG5cdH1cblxuXHRmdW5jdGlvbiBob3Jpem9udGFsU3BsaXRDZWxsKHNlbGVjdGlvbiwgaXNEZXRlY3QpIHtcblx0XHRjb25zdCBjZWxscyA9IGdldFNlbGVjdGVkQ2VsbHMoc2VsZWN0aW9uKTtcblx0XHRpZiAoY2VsbHMubGVuZ3RoID4gMSkgcmV0dXJuIGZhbHNlO1xuXHRcdGVsc2UgaWYgKGlzRGV0ZWN0KSByZXR1cm4gdHJ1ZTtcblxuXHRcdGNvbnN0IGNlbGwgPSBjZWxsc1swXTtcblxuXHRcdGNvbnN0IHRyID0gY2VsbC5nZXRQYXJlbnQoKTtcblxuXHRcdGNvbnN0IHRhYmxlID0gdHIuZ2V0QXNjZW5kYW50KCd0YWJsZScpO1xuXG5cdFx0Y29uc3QgbWFwID0gQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCh0YWJsZSk7XG5cblx0XHRjb25zdCByb3dJbmRleCA9IHRyLiQucm93SW5kZXg7XG5cblx0XHRjb25zdCBjb2xJbmRleCA9IGNlbGxJblJvdyhtYXAsIHJvd0luZGV4LCBjZWxsKTtcblxuXHRcdGNvbnN0IGNvbFNwYW4gPSBjZWxsLiQuY29sU3BhbjtcblxuXHRcdGxldCBuZXdDb2xTcGFuO1xuXG5cdFx0bGV0IG5ld0NlbGxDb2xTcGFuO1xuXG5cdFx0aWYgKGNvbFNwYW4gPiAxKSB7XG5cdFx0XHRuZXdDb2xTcGFuID0gTWF0aC5jZWlsKGNvbFNwYW4gLyAyKTtcblx0XHRcdG5ld0NlbGxDb2xTcGFuID0gTWF0aC5mbG9vcihjb2xTcGFuIC8gMik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ld0NlbGxDb2xTcGFuID0gbmV3Q29sU3BhbiA9IDE7XG5cdFx0XHRjb25zdCBjZWxsc0luU2FtZUNvbCA9IGNlbGxJbkNvbChtYXAsIGNvbEluZGV4KTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbHNJblNhbWVDb2wubGVuZ3RoOyBpKyspXG5cdFx0XHRcdGNlbGxzSW5TYW1lQ29sW2ldLmNvbFNwYW4rKztcblx0XHR9XG5cdFx0Y29uc3QgbmV3Q2VsbCA9IGNlbGwuY2xvbmUoKTtcblx0XHRuZXdDZWxsLmluc2VydEFmdGVyKGNlbGwpO1xuXHRcdG5ld0NlbGwuYXBwZW5kQm9ndXMoKTtcblxuXHRcdGNlbGwuJC5jb2xTcGFuID0gbmV3Q29sU3Bhbjtcblx0XHRuZXdDZWxsLiQuY29sU3BhbiA9IG5ld0NlbGxDb2xTcGFuO1xuXHRcdGlmIChuZXdDb2xTcGFuID09IDEpIGNlbGwucmVtb3ZlQXR0cmlidXRlKCdjb2xTcGFuJyk7XG5cdFx0aWYgKG5ld0NlbGxDb2xTcGFuID09IDEpIG5ld0NlbGwucmVtb3ZlQXR0cmlidXRlKCdjb2xTcGFuJyk7XG5cblx0XHRyZXR1cm4gbmV3Q2VsbDtcblx0fVxuXG5cdENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV90YWJsZXRvb2xzJywge1xuXHRcdGluaXQoZWRpdG9yKSB7XG5cdFx0XHRmdW5jdGlvbiBjcmVhdGVEZWYoZGVmKSB7XG5cdFx0XHRcdHJldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoZGVmIHx8IHt9LCB7XG5cdFx0XHRcdFx0Y29udGV4dFNlbnNpdGl2ZTogMSxcblx0XHRcdFx0XHRyZWZyZXNoKGVkaXRvciwgcGF0aCkge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRTdGF0ZShcblx0XHRcdFx0XHRcdFx0cGF0aC5jb250YWlucyh7dGQ6IDEsIHRoOiAxfSwgMSlcblx0XHRcdFx0XHRcdFx0XHQ/IENLRURJVE9SLlRSSVNUQVRFX09GRlxuXHRcdFx0XHRcdFx0XHRcdDogQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRURcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRmdW5jdGlvbiBhZGRDbWQobmFtZSwgZGVmKSB7XG5cdFx0XHRcdGxldCBjbWQgPSBlZGl0b3IuZ2V0Q29tbWFuZChuYW1lKTtcblxuXHRcdFx0XHRpZiAoY21kKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y21kID0gZWRpdG9yLmFkZENvbW1hbmQobmFtZSwgZGVmKTtcblx0XHRcdFx0ZWRpdG9yLmFkZEZlYXR1cmUoY21kKTtcblx0XHRcdH1cblxuXHRcdFx0YWRkQ21kKFxuXHRcdFx0XHQncm93RGVsZXRlJyxcblx0XHRcdFx0Y3JlYXRlRGVmKHtcblx0XHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0YWJsZScsXG5cdFx0XHRcdFx0ZXhlYyhlZGl0b3IpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRcdHBsYWNlQ3Vyc29ySW5DZWxsKGRlbGV0ZVJvd3Moc2VsZWN0aW9uKSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRcdGFkZENtZChcblx0XHRcdFx0J3Jvd0luc2VydEJlZm9yZScsXG5cdFx0XHRcdGNyZWF0ZURlZih7XG5cdFx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRcdGV4ZWMoZWRpdG9yKSB7XG5cdFx0XHRcdFx0XHRpbnNlcnRSb3coZWRpdG9yLCB0cnVlKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdFx0YWRkQ21kKFxuXHRcdFx0XHQncm93SW5zZXJ0QWZ0ZXInLFxuXHRcdFx0XHRjcmVhdGVEZWYoe1xuXHRcdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0XHRleGVjKGVkaXRvcikge1xuXHRcdFx0XHRcdFx0aW5zZXJ0Um93KGVkaXRvcik7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRcdGFkZENtZChcblx0XHRcdFx0J2NvbHVtbkRlbGV0ZScsXG5cdFx0XHRcdGNyZWF0ZURlZih7XG5cdFx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRcdGV4ZWMoZWRpdG9yKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0XHRjb25zdCBlbGVtZW50ID0gZGVsZXRlQ29sdW1ucyhzZWxlY3Rpb24pO1xuXHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoZWxlbWVudCwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRcdGFkZENtZChcblx0XHRcdFx0J2NvbHVtbkluc2VydEJlZm9yZScsXG5cdFx0XHRcdGNyZWF0ZURlZih7XG5cdFx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRcdGV4ZWMoZWRpdG9yKSB7XG5cdFx0XHRcdFx0XHRpbnNlcnRDb2x1bW4oZWRpdG9yLCB0cnVlKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdFx0YWRkQ21kKFxuXHRcdFx0XHQnY29sdW1uSW5zZXJ0QWZ0ZXInLFxuXHRcdFx0XHRjcmVhdGVEZWYoe1xuXHRcdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0XHRleGVjKGVkaXRvcikge1xuXHRcdFx0XHRcdFx0aW5zZXJ0Q29sdW1uKGVkaXRvcik7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRcdGFkZENtZChcblx0XHRcdFx0J2NlbGxEZWxldGUnLFxuXHRcdFx0XHRjcmVhdGVEZWYoe1xuXHRcdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0XHRleGVjKGVkaXRvcikge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdFx0ZGVsZXRlQ2VsbHMoc2VsZWN0aW9uKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdFx0YWRkQ21kKFxuXHRcdFx0XHQnY2VsbE1lcmdlJyxcblx0XHRcdFx0Y3JlYXRlRGVmKHtcblx0XHRcdFx0XHRhbGxvd2VkQ29udGVudDogJ3RkW2NvbHNwYW4scm93c3Bhbl0nLFxuXHRcdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RkW2NvbHNwYW4scm93c3Bhbl0nLFxuXHRcdFx0XHRcdGV4ZWMoZWRpdG9yKSB7XG5cdFx0XHRcdFx0XHRwbGFjZUN1cnNvckluQ2VsbChcblx0XHRcdFx0XHRcdFx0bWVyZ2VDZWxscyhlZGl0b3IuZ2V0U2VsZWN0aW9uKCkpLFxuXHRcdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0XHRhZGRDbWQoXG5cdFx0XHRcdCdjZWxsTWVyZ2VSaWdodCcsXG5cdFx0XHRcdGNyZWF0ZURlZih7XG5cdFx0XHRcdFx0YWxsb3dlZENvbnRlbnQ6ICd0ZFtjb2xzcGFuXScsXG5cdFx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGRbY29sc3Bhbl0nLFxuXHRcdFx0XHRcdGV4ZWMoZWRpdG9yKSB7XG5cdFx0XHRcdFx0XHRwbGFjZUN1cnNvckluQ2VsbChcblx0XHRcdFx0XHRcdFx0bWVyZ2VDZWxscyhlZGl0b3IuZ2V0U2VsZWN0aW9uKCksICdyaWdodCcpLFxuXHRcdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0XHRhZGRDbWQoXG5cdFx0XHRcdCdjZWxsTWVyZ2VEb3duJyxcblx0XHRcdFx0Y3JlYXRlRGVmKHtcblx0XHRcdFx0XHRhbGxvd2VkQ29udGVudDogJ3RkW3Jvd3NwYW5dJyxcblx0XHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0ZFtyb3dzcGFuXScsXG5cdFx0XHRcdFx0ZXhlYyhlZGl0b3IpIHtcblx0XHRcdFx0XHRcdHBsYWNlQ3Vyc29ySW5DZWxsKFxuXHRcdFx0XHRcdFx0XHRtZXJnZUNlbGxzKGVkaXRvci5nZXRTZWxlY3Rpb24oKSwgJ2Rvd24nKSxcblx0XHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdFx0YWRkQ21kKFxuXHRcdFx0XHQnY2VsbFZlcnRpY2FsU3BsaXQnLFxuXHRcdFx0XHRjcmVhdGVEZWYoe1xuXHRcdFx0XHRcdGFsbG93ZWRDb250ZW50OiAndGRbcm93c3Bhbl0nLFxuXHRcdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RkW3Jvd3NwYW5dJyxcblx0XHRcdFx0XHRleGVjKGVkaXRvcikge1xuXHRcdFx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoXG5cdFx0XHRcdFx0XHRcdHZlcnRpY2FsU3BsaXRDZWxsKGVkaXRvci5nZXRTZWxlY3Rpb24oKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRcdGFkZENtZChcblx0XHRcdFx0J2NlbGxIb3Jpem9udGFsU3BsaXQnLFxuXHRcdFx0XHRjcmVhdGVEZWYoe1xuXHRcdFx0XHRcdGFsbG93ZWRDb250ZW50OiAndGRbY29sc3Bhbl0nLFxuXHRcdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RkW2NvbHNwYW5dJyxcblx0XHRcdFx0XHRleGVjKGVkaXRvcikge1xuXHRcdFx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoXG5cdFx0XHRcdFx0XHRcdGhvcml6b250YWxTcGxpdENlbGwoZWRpdG9yLmdldFNlbGVjdGlvbigpKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdFx0YWRkQ21kKFxuXHRcdFx0XHQnY2VsbEluc2VydEJlZm9yZScsXG5cdFx0XHRcdGNyZWF0ZURlZih7XG5cdFx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRcdGV4ZWMoZWRpdG9yKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0XHRpbnNlcnRDZWxsKHNlbGVjdGlvbiwgdHJ1ZSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRcdGFkZENtZChcblx0XHRcdFx0J2NlbGxJbnNlcnRBZnRlcicsXG5cdFx0XHRcdGNyZWF0ZURlZih7XG5cdFx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRcdGV4ZWMoZWRpdG9yKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0XHRpbnNlcnRDZWxsKHNlbGVjdGlvbik7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cdFx0fSxcblxuXHRcdGdldFNlbGVjdGVkQ2VsbHMsXG5cdH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHR3by1kaW1lbnNpb24gYXJyYXkgdGhhdCByZWZsZWN0cyB0aGUgYWN0dWFsIGxheW91dCBvZiB0YWJsZSBjZWxscyxcbiAqIHdpdGggY2VsbCBzcGFucywgd2l0aCBtYXBwaW5ncyB0byB0aGUgb3JpZ2luYWwgdGQgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gdGFibGVcbiAqIEBtZW1iZXIgQ0tFRElUT1IudG9vbHNcbiAqL1xuQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCA9IGZ1bmN0aW9uKHRhYmxlKSB7XG5cdGNvbnN0IGFSb3dzID0gdGFibGUuJC5yb3dzO1xuXG5cdC8vIFJvdyBhbmQgQ29sdW1uIGNvdW50ZXJzLlxuXHRsZXQgciA9IC0xO1xuXG5cdGNvbnN0IGFNYXAgPSBbXTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGFSb3dzLmxlbmd0aDsgaSsrKSB7XG5cdFx0cisrO1xuXHRcdGlmICghYU1hcFtyXSkge1xuXHRcdFx0YU1hcFtyXSA9IFtdO1xuXHRcdH1cblxuXHRcdGxldCBjID0gLTE7XG5cblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGFSb3dzW2ldLmNlbGxzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRjb25zdCBvQ2VsbCA9IGFSb3dzW2ldLmNlbGxzW2pdO1xuXG5cdFx0XHRjKys7XG5cdFx0XHR3aGlsZSAoYU1hcFtyXVtjXSkgYysrO1xuXG5cdFx0XHRjb25zdCBpQ29sU3BhbiA9IGlzTmFOKG9DZWxsLmNvbFNwYW4pID8gMSA6IG9DZWxsLmNvbFNwYW47XG5cdFx0XHRjb25zdCBpUm93U3BhbiA9IGlzTmFOKG9DZWxsLnJvd1NwYW4pID8gMSA6IG9DZWxsLnJvd1NwYW47XG5cblx0XHRcdGZvciAobGV0IHJzID0gMDsgcnMgPCBpUm93U3BhbjsgcnMrKykge1xuXHRcdFx0XHRpZiAoIWFNYXBbciArIHJzXSkgYU1hcFtyICsgcnNdID0gW107XG5cblx0XHRcdFx0Zm9yIChsZXQgY3MgPSAwOyBjcyA8IGlDb2xTcGFuOyBjcysrKSB7XG5cdFx0XHRcdFx0YU1hcFtyICsgcnNdW2MgKyBjc10gPSBhUm93c1tpXS5jZWxsc1tqXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjICs9IGlDb2xTcGFuIC0gMTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGFNYXA7XG59O1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5jb25zdCB0YWJsZVNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlcyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gJ2FlLWFycm93LWJveCBhZS1hcnJvdy1ib3gtYm90dG9tJztcbn07XG5cbmNvbnN0IFNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlcyA9IHtcblx0dGFibGU6IHRhYmxlU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzO1xuIiwiLyoqXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiDCqSAyMDE0IExpZmVyYXksIEluYy4gPGh0dHBzOi8vbGlmZXJheS5jb20+XG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTEdQTC0zLjAtb3ItbGF0ZXJcbiAqL1xuXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuLy8gRGVmYXVsdCBndXR0ZXIgdmFsdWUgZm9yIHRvb2xiYXIgcG9zaXRpb25pbmdcbmNvbnN0IERFRkFVTFRfR1VUVEVSID0ge1xuXHRsZWZ0OiAwLFxuXHR0b3A6IDAsXG59O1xuXG4vKipcbiAqIENlbnRlcnMgYSBUb29sYmFyIGFjY29yZGluZyB0byBnaXZlbiByZWN0YW5nbGVcbiAqXG4gKiBAbWV0aG9kIGNlbnRlclRvb2xiYXJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b29sYmFyIFRoZSB0b29sYmFyIHRvIGJlIGNlbnRlcmVkXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCBUaGUgcmVjdGFuZ2xlIGFjY29yZGluZyB0byB3aGljaCB0aGUgVG9vbGJhciB3aWxsIGJlIGNlbnRlcmVkXG4gKi9cbmNvbnN0IGNlbnRlclRvb2xiYXIgPSBmdW5jdGlvbih0b29sYmFyLCByZWN0KSB7XG5cdGNvbnN0IHRvb2xiYXJOb2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodG9vbGJhcik7XG5cblx0Y29uc3QgbmF0aXZlRWRpdG9yID0gdG9vbGJhci5jb250ZXh0LmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXHRjb25zdCB1aU5vZGUgPSBuYXRpdmVFZGl0b3IuY29uZmlnLnVpTm9kZSB8fCBkb2N1bWVudC5ib2R5O1xuXHRjb25zdCB1aU5vZGVTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodWlOb2RlKTtcblx0Y29uc3QgdWlOb2RlTWFyZ2luTGVmdCA9IHBhcnNlSW50KFxuXHRcdHVpTm9kZVN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1sZWZ0JyksXG5cdFx0MTBcblx0KTtcblx0Y29uc3QgdWlOb2RlTWFyZ2luUmlnaHQgPSBwYXJzZUludChcblx0XHR1aU5vZGVTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tcmlnaHQnKSxcblx0XHQxMFxuXHQpO1xuXHRjb25zdCB0b3RhbFdpZHRoID1cblx0XHR1aU5vZGVNYXJnaW5MZWZ0ICsgdWlOb2RlLmNsaWVudFdpZHRoICsgdWlOb2RlTWFyZ2luUmlnaHQ7XG5cblx0Y29uc3QgaGFsZk5vZGVXaWR0aCA9IHRvb2xiYXJOb2RlLm9mZnNldFdpZHRoIC8gMjtcblx0Y29uc3Qgc2Nyb2xsUG9zaXRpb24gPSBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh3aW5kb3cpLmdldFNjcm9sbFBvc2l0aW9uKCk7XG5cblx0Y29uc3QgZ3V0dGVyID0gdG9vbGJhci5wcm9wcy5ndXR0ZXIgfHwgREVGQVVMVF9HVVRURVI7XG5cblx0Y29uc3Qgd2lkZ2V0WFkgPSB0b29sYmFyLmdldFdpZGdldFhZUG9pbnQoXG5cdFx0cmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIgLSBzY3JvbGxQb3NpdGlvbi54LFxuXHRcdHJlY3QudG9wICsgc2Nyb2xsUG9zaXRpb24ueSxcblx0XHRDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUFxuXHQpO1xuXG5cdGNvbnN0IGNhcmV0UG9zaXRpb24gPSBuYXRpdmVFZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdGNvbnN0IHJhbmdlcyA9IGNhcmV0UG9zaXRpb24uZ2V0UmFuZ2VzKCk7XG5cdGxldCBvZmZzZXRIZWlnaHQgPSAwO1xuXG5cdGlmIChyYW5nZXMgJiYgcmFuZ2VzLmxlbmd0aCA9PT0gMSkge1xuXHRcdGxldCBzdGFydENvbnRhaW5lciA9IHJhbmdlc1swXS5zdGFydENvbnRhaW5lcjtcblx0XHRpZiAoc3RhcnRDb250YWluZXIuJC5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcblx0XHRcdHN0YXJ0Q29udGFpbmVyID0gc3RhcnRDb250YWluZXIuZ2V0UGFyZW50KCk7XG5cdFx0fVxuXHRcdGlmIChzdGFydENvbnRhaW5lcikge1xuXHRcdFx0Y29uc3Qgc3RhcnRDb250YWluZXJDbGllbnRSZWN0ID0gc3RhcnRDb250YWluZXIuZ2V0Q2xpZW50UmVjdCgpO1xuXHRcdFx0b2Zmc2V0SGVpZ2h0ID0gc3RhcnRDb250YWluZXJDbGllbnRSZWN0LnkgLSByZWN0LnRvcDtcblx0XHR9XG5cdH1cblxuXHRjb25zdCBlbmRQb3NpdGlvbiA9IFtcblx0XHRyZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIGhhbGZOb2RlV2lkdGggLSBzY3JvbGxQb3NpdGlvbi54LFxuXHRcdHJlY3QudG9wICtcblx0XHRcdG9mZnNldEhlaWdodCAtXG5cdFx0XHR0b29sYmFyTm9kZS5vZmZzZXRIZWlnaHQgK1xuXHRcdFx0c2Nyb2xsUG9zaXRpb24ueSAtXG5cdFx0XHRndXR0ZXIudG9wLFxuXHRdO1xuXG5cdGlmIChlbmRQb3NpdGlvblswXSA8IDApIHtcblx0XHRlbmRQb3NpdGlvblswXSA9IDA7XG5cdH0gZWxzZSBpZiAoZW5kUG9zaXRpb25bMF0gPiB0b3RhbFdpZHRoIC0gdG9vbGJhck5vZGUub2Zmc2V0V2lkdGgpIHtcblx0XHRlbmRQb3NpdGlvblswXSA9IHRvdGFsV2lkdGggLSB0b29sYmFyTm9kZS5vZmZzZXRXaWR0aDtcblx0fVxuXG5cdHRvb2xiYXIubW92ZVRvUG9pbnQod2lkZ2V0WFksIGVuZFBvc2l0aW9uKTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgcG9zaXRpb24gb2YgYSB0b29sYmFyIGFjY29yZGluZyB0byB0aGUgcG9zaXRpb24gb2YgdGhlIHNlbGVjdGVkIGltYWdlXG4gKlxuICogQG1ldGhvZCBpbWFnZVNlbGVjdGlvblNldFBvc2l0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBQYXlsb2FkLCBzaG91bGQgY29udGFpbiB0aGUgc2VsZWN0aW9uIGRhdGEgZm9yIHJldHJpZXZpbmcgdGhlXG4gKiBjbGllbnQgcmVjdGFuZ2xlIG9mIHRoZSBzZWxlY3RlZCBpbWFnZVxuICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSwgaW4gYWxsIGNhc2VzXG4gKi9cbmNvbnN0IGltYWdlU2VsZWN0aW9uU2V0UG9zaXRpb24gPSBmdW5jdGlvbihwYXlsb2FkKSB7XG5cdGNvbnN0IHNlbGVjdGlvbkRhdGEgPSBwYXlsb2FkLnNlbGVjdGlvbkRhdGFcblx0XHQ/IHBheWxvYWQuc2VsZWN0aW9uRGF0YVxuXHRcdDogcGF5bG9hZC5lZGl0b3JFdmVudFxuXHRcdD8gcGF5bG9hZC5lZGl0b3JFdmVudC5kYXRhLnNlbGVjdGlvbkRhdGFcblx0XHQ6IG51bGw7XG5cblx0aWYgKHNlbGVjdGlvbkRhdGEgJiYgc2VsZWN0aW9uRGF0YS5lbGVtZW50KSB7XG5cdFx0Y29uc3QgbmF0aXZlRWRpdG9yID0gcGF5bG9hZC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0XHRjb25zdCB1aU5vZGUgPSBuYXRpdmVFZGl0b3IuY29uZmlnLnVpTm9kZTtcblxuXHRcdGNvbnN0IHNjcm9sbFRvcCA9IHVpTm9kZSA/IHVpTm9kZS5zY3JvbGxUb3AgOiAwO1xuXG5cdFx0Y29uc3QgcmVjdCA9IHNlbGVjdGlvbkRhdGEuZWxlbWVudC5nZXRDbGllbnRSZWN0KCk7XG5cdFx0cmVjdC50b3AgKz0gc2Nyb2xsVG9wO1xuXG5cdFx0Y2VudGVyVG9vbGJhcih0aGlzLCByZWN0KTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIGEgdG9vbGJhciBhY2NvcmRpbmcgdG8gdGhlIHBvc2l0aW9uIG9mIHRoZSBzZWxlY3RlZCBpbWFnZVxuICpcbiAqIEBtZXRob2QgdGFibGVTZWxlY3Rpb25TZXRQb3NpdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgT2JqZWN0LCB3aGljaCBjb250YWlucyB0aGUgc2VsZWN0aW9uIGRhdGEgZm9yIHJldHJpZXZpbmcgdGhlXG4gKiBjbGllbnQgcmVjdGFuZ2xlIG9mIHRoZSBzZWxlY3RlZCB0YWJsZVxuICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSwgaW4gYWxsIGNhc2VzXG4gKi9cbmNvbnN0IHRhYmxlU2VsZWN0aW9uU2V0UG9zaXRpb24gPSBmdW5jdGlvbihwYXlsb2FkKSB7XG5cdGNvbnN0IG5hdGl2ZUVkaXRvciA9IHBheWxvYWQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdGNvbnN0IHVpTm9kZSA9IG5hdGl2ZUVkaXRvci5jb25maWcudWlOb2RlO1xuXG5cdGNvbnN0IHNjcm9sbFRvcCA9IHVpTm9kZSA/IHVpTm9kZS5zY3JvbGxUb3AgOiAwO1xuXG5cdGNvbnN0IHRhYmxlID0gbmV3IENLRURJVE9SLlRhYmxlKG5hdGl2ZUVkaXRvcikuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXHRjb25zdCByZWN0ID0gdGFibGUuZ2V0Q2xpZW50UmVjdCgpO1xuXHRyZWN0LnRvcCArPSBzY3JvbGxUb3A7XG5cblx0Y2VudGVyVG9vbGJhcih0aGlzLCByZWN0KTtcblxuXHRyZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IFNlbGVjdGlvblNldFBvc2l0aW9uID0ge1xuXHRpbWFnZTogaW1hZ2VTZWxlY3Rpb25TZXRQb3NpdGlvbixcblx0dGFibGU6IHRhYmxlU2VsZWN0aW9uU2V0UG9zaXRpb24sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3Rpb25TZXRQb3NpdGlvbjtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuY29uc3QgX2lzUmFuZ2VBdEVsZW1lbnRFbmQgPSBmdW5jdGlvbihyYW5nZSwgZWxlbWVudCkge1xuXHQvLyBGaW5kaW5nIGlmIGEgcmFuZ2UgaXMgYXQgdGhlIGVuZCBvZiBhbiBlbGVtZW50IGlzIHNvbWV3aGF0IHRyaWNreVxuXHQvLyBkdWUgdG8gaG93IENLRWRpdG9yIGhhbmRsZXMgcmFuZ2VzLiBJdCBtaWdodCBkZXBlbmQgb24gd2hldGhlciBhXG5cdC8vIHNvdXJjZSBub2RlIGluc2lkZSB0aGUgZWxlbWVudCBpcyBzZWxlY3RlZCBvciBub3QuIEZvciBub3csIHdlXG5cdC8vIG5lZWQgdG8gY292ZXIgdGhlIGZvbGxvd2luZyBjYXNlczpcblx0Ly9cblx0Ly8gLSBUaGUgdGV4dCBsZW5ndGggb2YgdGhlIGVsZW1lbnQgaXMgdGhlIHNhbWUgYXMgdGhlIGVuZE9mZnNldCBvZlxuXHQvLyAgIHRoZSByYW5nZS5cblx0Ly8gLSBCb3RoIHN0YXJ0IGFuZCBlbmQgY29udGFpbmVycyBtYXRjaCB0aGUgZWxlbWVudCBhbmQgdGhlIHN0YXJ0XG5cdC8vICAgYW5kIGVuZCBvZmZzZXRzIGFyZSAxLlxuXG5cdHJldHVybiAoXG5cdFx0ZWxlbWVudC5nZXRUZXh0KCkubGVuZ3RoID09PSByYW5nZS5lbmRPZmZzZXQgfHxcblx0XHQoZWxlbWVudC5lcXVhbHMocmFuZ2Uuc3RhcnRDb250YWluZXIpICYmXG5cdFx0XHRlbGVtZW50LmVxdWFscyhyYW5nZS5lbmRDb250YWluZXIpICYmXG5cdFx0XHRyYW5nZS5zdGFydE9mZnNldCA9PT0gcmFuZ2UuZW5kT2Zmc2V0ICYmXG5cdFx0XHRyYW5nZS5lbmRPZmZzZXQgPT09IDEpXG5cdCk7XG59O1xuXG5jb25zdCBlbWJlZFNlbGVjdGlvblRlc3QgPSBmdW5jdGlvbihwYXlsb2FkKSB7XG5cdGNvbnN0IHNlbGVjdGlvbkRhdGEgPSBwYXlsb2FkLmRhdGEuc2VsZWN0aW9uRGF0YTtcblxuXHRyZXR1cm4gISEoXG5cdFx0c2VsZWN0aW9uRGF0YS5lbGVtZW50ICYmXG5cdFx0c2VsZWN0aW9uRGF0YS5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS13aWRnZXQnKSA9PT0gJ2FlX2VtYmVkJ1xuXHQpO1xufTtcblxuY29uc3QgZW1iZWRVcmxTZWxlY3Rpb25UZXN0ID0gZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRjb25zdCBzZWxlY3Rpb25EYXRhID0gcGF5bG9hZC5kYXRhLnNlbGVjdGlvbkRhdGE7XG5cblx0cmV0dXJuICEhKFxuXHRcdHNlbGVjdGlvbkRhdGEuZWxlbWVudCAmJlxuXHRcdHNlbGVjdGlvbkRhdGEuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2lkZ2V0JykgPT09ICdlbWJlZHVybCdcblx0KTtcbn07XG5cbmNvbnN0IGhlYWRpbmdUZXh0U2VsZWN0aW9uVGVzdCA9IGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0Y29uc3QgaGVhZGluZ3MgPSBbJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2J107XG5cdGNvbnN0IG5hdGl2ZUVkaXRvciA9IHBheWxvYWQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cdGNvbnN0IHNlbGVjdGlvbkRhdGEgPSBwYXlsb2FkLmRhdGEuc2VsZWN0aW9uRGF0YTtcblx0Y29uc3Qgc2VsZWN0aW9uRW1wdHkgPSBuYXRpdmVFZGl0b3IuaXNTZWxlY3Rpb25FbXB0eSgpO1xuXG5cdHJldHVybiAhIShcblx0XHQhc2VsZWN0aW9uRGF0YS5lbGVtZW50ICYmXG5cdFx0c2VsZWN0aW9uRGF0YS5yZWdpb24gJiZcblx0XHQhc2VsZWN0aW9uRW1wdHkgJiZcblx0XHQhbmF0aXZlRWRpdG9yXG5cdFx0XHQuZ2V0U2VsZWN0aW9uKClcblx0XHRcdC5nZXRDb21tb25BbmNlc3RvcigpXG5cdFx0XHQuaXNSZWFkT25seSgpICYmXG5cdFx0bmF0aXZlRWRpdG9yLmVsZW1lbnRQYXRoKCkuY29udGFpbnMoaGVhZGluZ3MpXG5cdCk7XG59O1xuXG5jb25zdCBsaW5rU2VsZWN0aW9uVGVzdCA9IGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0Y29uc3QgbmF0aXZlRWRpdG9yID0gcGF5bG9hZC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblx0Y29uc3QgcmFuZ2UgPSBuYXRpdmVFZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07XG5cdGNvbnN0IHNlbGVjdGlvbkRhdGEgPSBwYXlsb2FkLmRhdGEuc2VsZWN0aW9uRGF0YTtcblxuXHRjb25zdCBlbGVtZW50ID0gbmV3IENLRURJVE9SLkxpbmsobmF0aXZlRWRpdG9yKS5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cdGNvbnN0IGlzU2VsZWN0aW9uRW1wdHkgPSBuYXRpdmVFZGl0b3IuaXNTZWxlY3Rpb25FbXB0eSgpO1xuXHRjb25zdCBlbGVtZW50SXNOb3RJbWFnZSA9IHNlbGVjdGlvbkRhdGEuZWxlbWVudFxuXHRcdD8gc2VsZWN0aW9uRGF0YS5lbGVtZW50LmdldE5hbWUoKSAhPT0gJ2ltZydcblx0XHQ6IHRydWU7XG5cblx0cmV0dXJuICEhKFxuXHRcdGlzU2VsZWN0aW9uRW1wdHkgJiZcblx0XHRlbGVtZW50SXNOb3RJbWFnZSAmJlxuXHRcdGVsZW1lbnQgJiZcblx0XHRlbGVtZW50LmdldFRleHQoKS5sZW5ndGggIT09IHJhbmdlLmVuZE9mZnNldCAmJlxuXHRcdGVsZW1lbnQgJiZcblx0XHQhZWxlbWVudC5pc1JlYWRPbmx5KCkgJiZcblx0XHQhX2lzUmFuZ2VBdEVsZW1lbnRFbmQocmFuZ2UsIGVsZW1lbnQpXG5cdCk7XG59O1xuXG5jb25zdCBpbWFnZVNlbGVjdGlvblRlc3QgPSBmdW5jdGlvbihwYXlsb2FkKSB7XG5cdGNvbnN0IHNlbGVjdGlvbkRhdGEgPSBwYXlsb2FkLmRhdGEuc2VsZWN0aW9uRGF0YTtcblx0Y29uc3QgZWxlbWVudCA9IHNlbGVjdGlvbkRhdGEuZWxlbWVudDtcblx0Y29uc3QgaGFzSW1hZ2UgPSAhIWVsZW1lbnQgJiYgISFlbGVtZW50LmZpbmRPbmUoJ2ltZycpO1xuXHRjb25zdCBpc0ltYWdlID0gISFlbGVtZW50ICYmIGVsZW1lbnQuZ2V0TmFtZSgpID09PSAnaW1nJztcblxuXHRyZXR1cm4gISEoZWxlbWVudCAmJiAoaGFzSW1hZ2UgfHwgaXNJbWFnZSkpO1xufTtcblxuY29uc3QgdGV4dFNlbGVjdGlvblRlc3QgPSBmdW5jdGlvbihwYXlsb2FkKSB7XG5cdGNvbnN0IG5hdGl2ZUVkaXRvciA9IHBheWxvYWQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cblx0Y29uc3Qgc2VsZWN0aW9uRW1wdHkgPSBuYXRpdmVFZGl0b3IuaXNTZWxlY3Rpb25FbXB0eSgpO1xuXG5cdGNvbnN0IHNlbGVjdGlvbkRhdGEgPSBwYXlsb2FkLmRhdGEuc2VsZWN0aW9uRGF0YTtcblxuXHRyZXR1cm4gISEoXG5cdFx0IXNlbGVjdGlvbkRhdGEuZWxlbWVudCAmJlxuXHRcdHNlbGVjdGlvbkRhdGEucmVnaW9uICYmXG5cdFx0IXNlbGVjdGlvbkVtcHR5ICYmXG5cdFx0IW5hdGl2ZUVkaXRvclxuXHRcdFx0LmdldFNlbGVjdGlvbigpXG5cdFx0XHQuZ2V0Q29tbW9uQW5jZXN0b3IoKVxuXHRcdFx0LmlzUmVhZE9ubHkoKVxuXHQpO1xufTtcblxuY29uc3QgdGFibGVTZWxlY3Rpb25UZXN0ID0gZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRjb25zdCBuYXRpdmVFZGl0b3IgPSBwYXlsb2FkLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG5cdGNvbnN0IHRhYmxlID0gbmV3IENLRURJVE9SLlRhYmxlKG5hdGl2ZUVkaXRvcik7XG5cdGNvbnN0IGVsZW1lbnQgPSB0YWJsZS5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cblx0cmV0dXJuICEhKGVsZW1lbnQgJiYgdGFibGUuaXNFZGl0YWJsZShlbGVtZW50KSk7XG59O1xuXG5jb25zdCBTZWxlY3Rpb25UZXN0ID0ge1xuXHRlbWJlZDogZW1iZWRTZWxlY3Rpb25UZXN0LFxuXHRlbWJlZFVybDogZW1iZWRVcmxTZWxlY3Rpb25UZXN0LFxuXHRoZWFkZXI6IGhlYWRpbmdUZXh0U2VsZWN0aW9uVGVzdCxcblx0aW1hZ2U6IGltYWdlU2VsZWN0aW9uVGVzdCxcblx0bGluazogbGlua1NlbGVjdGlvblRlc3QsXG5cdHRhYmxlOiB0YWJsZVNlbGVjdGlvblRlc3QsXG5cdHRleHQ6IHRleHRTZWxlY3Rpb25UZXN0LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uVGVzdDtcbiIsIi8qKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogwqkgMjAxNCBMaWZlcmF5LCBJbmMuIDxodHRwczovL2xpZmVyYXkuY29tPlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMy4wLW9yLWxhdGVyXG4gKi9cblxuaW1wb3J0IFNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlcyBmcm9tICcuL3NlbGVjdGlvbi1hcnJvd2JveCc7XG5pbXBvcnQgU2VsZWN0aW9uU2V0UG9zaXRpb24gZnJvbSAnLi9zZWxlY3Rpb24tcG9zaXRpb24nO1xuaW1wb3J0IFNlbGVjdGlvblRlc3QgZnJvbSAnLi9zZWxlY3Rpb24tdGVzdCc7XG5cbmNvbnN0IFNlbGVjdGlvbnMgPSBbXG5cdHtcblx0XHRuYW1lOiAnZW1iZWQnLFxuXHRcdGJ1dHRvbnM6IFsnZW1iZWRSZW1vdmUnLCAnZW1iZWRFZGl0J10sXG5cdFx0dGVzdDogU2VsZWN0aW9uVGVzdC5lbWJlZCxcblx0fSxcblx0e1xuXHRcdG5hbWU6ICdlbWJlZFVybCcsXG5cdFx0YnV0dG9uczogWydlbWJlZFZpZGVvJywgJ2VtYmVkVmlkZW9FZGl0J10sXG5cdFx0dGVzdDogU2VsZWN0aW9uVGVzdC5lbWJlZFVybCxcblx0fSxcblx0e1xuXHRcdG5hbWU6ICdsaW5rJyxcblx0XHRidXR0b25zOiBbJ2xpbmtFZGl0J10sXG5cdFx0dGVzdDogU2VsZWN0aW9uVGVzdC5saW5rLFxuXHR9LFxuXHR7XG5cdFx0bmFtZTogJ2ltYWdlJyxcblx0XHRidXR0b25zOiBbJ2ltYWdlTGVmdCcsICdpbWFnZUNlbnRlcicsICdpbWFnZVJpZ2h0JywgJ3JlbW92ZUltYWdlJ10sXG5cdFx0c2V0UG9zaXRpb246IFNlbGVjdGlvblNldFBvc2l0aW9uLmltYWdlLFxuXHRcdHRlc3Q6IFNlbGVjdGlvblRlc3QuaW1hZ2UsXG5cdH0sXG5cdHtcblx0XHRuYW1lOiAndGV4dCcsXG5cdFx0YnV0dG9uczoge1xuXHRcdFx0ZnVsbDogW1xuXHRcdFx0XHRbXG5cdFx0XHRcdFx0J0ZvbnQnLFxuXHRcdFx0XHRcdCdGb250U2l6ZScsXG5cdFx0XHRcdFx0J3NlcGFyYXRvcicsXG5cdFx0XHRcdFx0J2JvbGQnLFxuXHRcdFx0XHRcdCdpdGFsaWMnLFxuXHRcdFx0XHRcdCd1bmRlcmxpbmUnLFxuXHRcdFx0XHRcdCdzdHJpa2UnLFxuXHRcdFx0XHRcdCdzZXBhcmF0b3InLFxuXHRcdFx0XHRcdCdsaW5rJyxcblx0XHRcdFx0XSxcblx0XHRcdFx0W1xuXHRcdFx0XHRcdCdwYXJhZ3JhcGhBbGlnbicsXG5cdFx0XHRcdFx0J3NlcGFyYXRvcicsXG5cdFx0XHRcdFx0J3VsJyxcblx0XHRcdFx0XHQnb2wnLFxuXHRcdFx0XHRcdCdzZXBhcmF0b3InLFxuXHRcdFx0XHRcdCdoMScsXG5cdFx0XHRcdFx0J2gyJyxcblx0XHRcdFx0XHQnc2VwYXJhdG9yJyxcblx0XHRcdFx0XHQnaW5kZW50QmxvY2snLFxuXHRcdFx0XHRcdCdvdXRkZW50QmxvY2snLFxuXHRcdFx0XHRcdCdzZXBhcmF0b3InLFxuXHRcdFx0XHRcdCdUZXh0Q29sb3InLFxuXHRcdFx0XHRcdCdCR0NvbG9yJyxcblx0XHRcdFx0XHQnc2VwYXJhdG9yJyxcblx0XHRcdFx0XHQnY29kZScsXG5cdFx0XHRcdFx0J3F1b3RlJyxcblx0XHRcdFx0XHQnc2VwYXJhdG9yJyxcblx0XHRcdFx0XHQncmVtb3ZlRm9ybWF0Jyxcblx0XHRcdFx0XSxcblx0XHRcdF0sXG5cblx0XHRcdHNpbXBsZTogWydzdHlsZXMnLCAnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ2xpbmsnXSxcblx0XHR9LFxuXHRcdHRlc3Q6IFNlbGVjdGlvblRlc3QudGV4dCxcblx0fSxcblx0e1xuXHRcdG5hbWU6ICd0YWJsZScsXG5cdFx0YnV0dG9uczogW1xuXHRcdFx0J3RhYmxlSGVhZGluZycsXG5cdFx0XHQndGFibGVSb3cnLFxuXHRcdFx0J3RhYmxlQ29sdW1uJyxcblx0XHRcdCd0YWJsZUNlbGwnLFxuXHRcdFx0J3RhYmxlUmVtb3ZlJyxcblx0XHRdLFxuXHRcdGdldEFycm93Qm94Q2xhc3NlczogU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzLnRhYmxlLFxuXHRcdHNldFBvc2l0aW9uOiBTZWxlY3Rpb25TZXRQb3NpdGlvbi50YWJsZSxcblx0XHR0ZXN0OiBTZWxlY3Rpb25UZXN0LnRhYmxlLFxuXHR9LFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9ucztcbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9kb21fXzsiXSwic291cmNlUm9vdCI6IiJ9