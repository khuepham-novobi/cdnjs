/*! UIkit 3.6.8 | https://www.getuikit.com | (c) 2014 - 2021 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitfilter",["uikit-util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitFilter=e(t.UIkit.util)}(this,function(d){"use strict";function e(t){return function(t,e,n){for(var i=[[]],r=0;r<t.length;r++){var o=t[r];if(d.isVisible(o))for(var a=f(o),s=i.length-1;0<=s;s--){var u=i[s];if(!u[0]){u.push(o);break}var c=void 0;if(c=u[0].offsetParent===o.offsetParent?f(u[0]):(a=f(o,!0),f(u[0],!0)),a[e]>=c[n]-1&&a[e]!==c[e]){i.push([o]);break}if(a[n]-1>c[e]||a[e]===c[e]){u.push(o);break}if(0===s){i.unshift([o]);break}}}return i}(t,"top","bottom")}function f(t,e){void 0===e&&(e=!1);var n=t.offsetTop,i=t.offsetLeft,r=t.offsetHeight,o=t.offsetWidth;return e&&(n=(t=d.offsetPosition(t))[0],i=t[1]),{top:n,left:i,bottom:n+r,right:i+o}}var i="uk-transition-leave",h="uk-transition-enter";function r(t,a,s,u){void 0===u&&(u=0);var c=p(a,!0),f={opacity:1},l={opacity:0},e=function(t){return function(){return c===p(a)?t():d.Promise.reject()}},n=e(function(){return d.addClass(a,i),d.Promise.all(m(a).map(function(e,n){return new d.Promise(function(t){return setTimeout(function(){return d.Transition.start(e,l,s/2,"ease").then(t)},n*u)})})).then(function(){return d.removeClass(a,i)})}),e=e(function(){var o=d.height(a);return d.addClass(a,h),t(),d.css(d.children(a),{opacity:0}),new d.Promise(function(r){return requestAnimationFrame(function(){var t=d.children(a),e=d.height(a);d.height(a,o);var n=m(a);d.css(t,l);var i=n.map(function(e,n){return new d.Promise(function(t){return setTimeout(function(){return d.Transition.start(e,f,s/2,"ease").then(t)},n*u)})});o!==e&&i.push(d.Transition.start(a,{height:e},s/2+n.length*u,"ease")),d.Promise.all(i).then(function(){d.removeClass(a,h),c===p(a)&&(d.css(a,"height",""),d.css(t,{opacity:""}),delete a.dataset.transition),r()})})})});return(d.hasClass(a,i)?o(a):d.hasClass(a,h)?o(a).then(n):n()).then(e)}function p(t,e){return e&&(t.dataset.transition=1+p(t)),d.toNumber(t.dataset.transition)||0}function o(t){return d.Promise.all(d.children(t).filter(d.Transition.inProgress).map(function(e){return new d.Promise(function(t){return d.once(e,"transitionend transitioncanceled",t)})}))}function m(t){return e(d.children(t)).reduce(function(t,e){return t.concat(d.sortBy(e.filter(function(t){return d.isInView(t)}),"offsetLeft"))},[])}var n,g="uk-animation-target";function a(t,u,c){n=n||!!d.append(document.head,"<style> ."+g+" > * {\n            margin-top: 0 !important;\n            transform: none !important;\n        } </style>");var f=d.children(u),l=f.map(function(t){return v(t,!0)}),h=d.height(u);return d.Transition.cancel(u),f.forEach(d.Transition.cancel),d.removeClass(u,g),y(u),t(),f=f.concat(d.children(u).filter(function(t){return!d.includes(f,t)})),d.Promise.resolve().then(function(){d.fastdom.flush();var n,i,r,t,e,o=d.height(u),e=(n=u,r=l,t=(i=f).map(function(t,e){return!!(d.parent(t)&&e in r)&&(r[e]?d.isVisible(t)?w(t):{opacity:0}:{opacity:d.isVisible(t)?1:0})}),e=t.map(function(t,e){e=d.parent(i[e])===n&&(r[e]||v(i[e]));return!!e&&(t?"opacity"in t||(e.opacity%1?t.opacity=1:delete e.opacity):delete e.opacity,e)}),[t,e]),a=e[0],s=e[1];return d.addClass(u,g),f.forEach(function(t,e){return s[e]&&d.css(t,s[e])}),d.css(u,{height:h,display:"block"}),new d.Promise(function(e){return requestAnimationFrame(function(){var t=f.map(function(t,e){return d.Transition.start(t,a[e],c,"ease")}).concat(d.Transition.start(u,{height:o},c,"ease"));d.Promise.all(t).then(function(){f.forEach(function(t,e){return d.css(t,"display",0===a[e].opacity?"none":"")}),y(u)},d.noop).then(e)})})})}function v(t,e){var n=d.css(t,"zIndex");return!!d.isVisible(t)&&d.assign({display:"",opacity:e?d.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===n?d.index(t):n},w(t))}function y(t){d.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:"",zIndex:""}),d.removeClass(t,g),d.css(t,{height:"",display:""})}function w(t){var e=d.offset(t),n=e.height,e=e.width,t=d.position(t);return{top:t.top,left:t.left,height:n,width:e}}var t={mixins:[{props:{duration:Number,animation:String},data:{duration:150,animation:"slide"},methods:{animate:function(t,e){void 0===e&&(e=this.$el);var n=this.animation;return("fade"===n?r:"delayed-fade"===n?function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r.apply(void 0,t.concat([40]))}:a)(t,e,this.duration).then(function(){return d.trigger(d.toWindow(e),"resize")},d.noop)}}}],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",duration:250},computed:{toggles:{get:function(t,e){t.attrItem;return d.$$("["+this.attrItem+"],[data-"+this.attrItem+"]",e)},watch:function(){var e,n=this;this.updateState(),!1!==this.selActive&&(e=d.$$(this.selActive,this.$el),this.toggles.forEach(function(t){return d.toggleClass(t,n.cls,d.includes(e,t))}))},immediate:!0},children:{get:function(t,e){t=t.target;return d.$$(t+" > *",e)},watch:function(t,e){var n;n=e,(t=t).length===n.length&&t.every(function(t){return~n.indexOf(t)})||this.updateState()}}},events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.apply(t.current)}}],methods:{apply:function(t){var e,n,i=this.getState(),t=u(t,this.attrItem,this.getState());e=i,n=t,["filter","sort"].every(function(t){return d.isEqual(e[t],n[t])})||this.setState(t)},getState:function(){var n=this;return this.toggles.filter(function(t){return d.hasClass(t,n.cls)}).reduce(function(t,e){return u(e,n.attrItem,t)},{filter:{"":""},sort:[]})},setState:function(n,i){var r=this;void 0===i&&(i=!0),n=d.assign({filter:{"":""},sort:[]},n),d.trigger(this.$el,"beforeFilter",[this,n]),this.toggles.forEach(function(t){return d.toggleClass(t,r.cls,!!function(t,e,n){var i=n.filter;void 0===i&&(i={"":""});var r=n.sort,o=r[0],a=r[1],n=s(t,e),r=n.filter;void 0===r&&(r="");t=n.group;void 0===t&&(t="");e=n.sort,n=n.order;void 0===n&&(n="asc");return d.isUndefined(e)?t in i&&r===i[t]||!r&&t&&!(t in i)&&!i[""]:o===e&&a===n}(t,r.attrItem,n))}),d.Promise.all(d.$$(this.target,this.$el).map(function(t){function e(){!function(t,e,n){var i=function(t){var t=t.filter,e="";return d.each(t,function(t){return e+=t||""}),e}(t);n.forEach(function(t){return d.css(t,"display",i&&!d.matches(t,i)?"none":"")});var t=(r=t.sort)[0],r=r[1];t&&(r=function(t,n,i){return d.assign([],t).sort(function(t,e){return d.data(t,n).localeCompare(d.data(e,n),void 0,{numeric:!0})*("asc"===i||-1)})}(n,t,r),d.isEqual(r,n)||d.append(e,r))}(n,t,d.children(t)),r.$update(r.$el)}return i?r.animate(e,t):e()})).then(function(){return d.trigger(r.$el,"afterFilter",[r])})},updateState:function(){var t=this;d.fastdom.write(function(){return t.setState(t.getState(),!1)})}}};function s(t,e){return d.parseOptions(d.data(t,e),["filter"])}function u(t,e,n){var i=s(t,e),r=i.filter,t=i.group,e=i.sort,i=i.order;return void 0===i&&(i="asc"),(r||d.isUndefined(e))&&(t?r?(delete n.filter[""],n.filter[t]=r):(delete n.filter[t],(d.isEmpty(n.filter)||""in n.filter)&&(n.filter={"":r||""})):n.filter={"":r||""}),d.isUndefined(e)||(n.sort=[e,i]),n}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("filter",t),t});