!function(n,e,t,r){"function"==typeof define&&define.amd?(t=Object.keys(t).map(n=>n.replace(/^\.\//,"")),define(n,t,r)):"undefined"!=typeof module&&module.exports?(t=Object.keys(t).map(n=>require(n)),module.exports=r(...t)):(t=Object.values(t).map(n=>e[n]),e[n]=r(...t))}("IOHelpers","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./io.js":"IO","./maybe.js":"Maybe","./either.js":"Either"},function(n,e,t,r){"use strict";var{isFunction:i,isPromise:u,isMonad:o}=n,f=new WeakSet;let a={};function c(n,t,...r){return e(i=>d(i,n).chain(function(n){return n?(Array.isArray(t)?t:[t]).reduce((n,t)=>n.chain(n=>d(i,n).chain(n=>f.has(n)?e.of(n):d(i,t))),e.of()).chain(t=>d(i,t).chain(t=>e.of(f.has(t)?t:n))):e.of(n)}).chain(function n(t){return r=>!r&&t.length>0?d(i,t[0]).chain(n(t.slice(1))):e.of(r)}(r)).run(i))}function d(n,u){if(o(u)){if(e.is(u))return u;if(r.Left.is(u)||t.Nothing.is(u)){let n={returned:u};return f.add(n),e.of(n)}{let n=u.chain(e.of);return e.is(n)?n:e.of(u)}}return i(u)?d(n,u(n)):u&&"object"==typeof u&&i(u.next)?e.do(u):e.of(u)}return a.applyIO=function(n,t){return e(()=>n.run(t))},a.doIO=function(n,...t){return t.length>0?e(r=>e.do(n(r,...t)).run(r)):e.do(n)},a.doIOBind=function(n,t){var r=e(()=>e.do(n).run(t));return(...i)=>i.length>0?e(()=>e.do(n(t,...i)).run(t)):r},a.filterIOList=function(n,t){return t.reduce((e,t)=>e.chain(e=>n(t).map(n=>n?[...e,t]:e)),e.of([]))},a.concatIOList=function(n){return n.reduce((n,e)=>n.map(n=>[...n,e]),e.of([]))},a.iif=c,a.elif=function(n,e){return c(n,e)},a.els=function(n){return c(!0,n)},a.iNot=function(n){return e(e=>d(e,n).map(n=>!n).run(e))},a.iReturn=function(n){return e(e=>d(e,n).map(n=>{var e={returned:n};return f.add(e),e}).run(e))},a.wasReturned=function(n){return f.has(n)},a});