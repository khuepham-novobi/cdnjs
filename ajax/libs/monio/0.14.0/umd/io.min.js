!function(n,t,e,r){"function"==typeof define&&define.amd?(e=Object.keys(e).map(n=>n.replace(/^\.\//,"")),define(n,e,r)):"undefined"!=typeof module&&module.exports?(e=Object.keys(e).map(n=>require(n)),module.exports=r(...e)):(e=Object.values(e).map(n=>t[n]),t[n]=r(...e))}("IO","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var{isFunction:e,isPromise:r}=n,i={};let u={};function o(n){var t={map:function(t){return o(e=>{var i=n(e);return r(i)?i.then(t):t(i)})},chain:u,flatMap:u,bind:u,ap:function(t){return t.map(n)},concat:function(t){return o(e=>{var i=n(e),u=t.run(e);return r(i)||r(u)?Promise.all([i,u]).then(([n,t])=>n.concat(t)):i.concat(u)})},run:function(t){return n(t)},_inspect:function(){return`${t[Symbol.toStringTag]}(${e(n)?n.name||"anonymous function":n&&e(n._inspect)?n._inspect():val})`},_is:function(n){return n===i},[Symbol.toStringTag]:"IO"};return t;function u(t){return o(e=>{var i=n(e);return r(i)?i.then(t).then(n=>n.run(e)):t(i).run(e)})}}function a(n,e,i,u=!1){return new Promise(async function(a,c){try{let f=function(n,t){return getMonadFlatMap(n).call(n,t)}(r(e)?await e:e,t=>o(()=>n(t).then(a,c)));o.is(f)?await f.run(i):u&&t.Left.is(f)?c(f):a(f)}catch(n){c(n)}})}function c(n,t){return e(n)?n(t):n&&"object"==typeof n&&e(n.next)?n:void 0}return(u=Object.assign(o,{of:function(n){return o(()=>n)},is:function(n){return n&&e(n._is)&&n._is(i)},do:function(n){return o(t=>{var e=c(n,t);return async function n(i){var u=e.next(r(i)?await i:i);return(u=r(u)?await u:u).done?u.value:a(n,u.value,t,!1)}()})},doEither:function(n){return o(e=>{var i=c(n,e);return async function n(u){try{u=r(u)?await u:u;let o=t.Left.is(u)?u.fold(n=>i.throw(n),()=>{}):i.next(u),c=(o=r(o)?await o:o).done&&r(o.value)?await o.value:o.value;if(o.done){if(t.Left.is(c))throw c;return t.Right.is(c)?c:t.Right(c)}return a(n,c,e,!0).catch(n)}catch(u){throw t.Left.is(u)?u:t.Left(u)}}()})}})).RIO=o,u.Reader=o,u});