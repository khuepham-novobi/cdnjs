!function(n,t,e,i){"function"==typeof define&&define.amd?(e=Object.keys(e).map(n=>n.replace(/^\.\//,"")),define(n,e,i)):"undefined"!=typeof module&&module.exports?(e=Object.keys(e).map(n=>require(n)),module.exports=i(...e)):(e=Object.values(e).map(n=>t[n]),t[n]=i(...e))}("IO","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var{isPromise:e}=n,i={};let r={};function o(n){var t={map:function(t){return o(i=>{var r=n(i);return e(r)?r.then(t):t(r)})},chain:r,flatMap:r,bind:r,ap:function(t){return t.map(n)},concat:function(t){return o(i=>{var r=n(i),o=t.run(i);return e(r)||e(o)?Promise.all([r,o]).then(([n,t])=>n.concat(t)):r.concat(o)})},run:function(t){return n(t)},_inspect:function(){return`${t[Symbol.toStringTag]}(${"function"==typeof n?n.name||"anonymous function":n&&"function"==typeof n._inspect?n._inspect():val})`},_is:function(n){return n===i},[Symbol.toStringTag]:"IO"};return t;function r(t){return o(i=>{var r=n(i);return e(r)?r.then(t).then(n=>n.run(i)):t(r).run(i)})}}function u(n,i,r,u=!1){return new Promise(async function(a,f){try{let c=function(n,t){return n["flatMap"in n?"flatMap":"chain"in n?"chain":"bind"](t)}(e(i)?await i:i,t=>o(()=>n(t).then(a,f)));o.is(c)?await c.run(r):u&&t.Left.is(c)?f(c):a(c)}catch(n){f(n)}})}function a(n,t){return"function"==typeof n?n(t):n&&"object"==typeof n&&"function"==typeof n.next?n:void 0}return(r=Object.assign(o,{of:function(n){return o(()=>n)},is:function(n){return n&&"function"==typeof n._is&&n._is(i)},do:function(n){return o(t=>{var i=a(n,t);return async function n(r){var o=i.next(e(r)?await r:r);return(o=e(o)?await o:o).done?o.value:u(n,o.value,t,!1)}()})},doEither:function(n){return o(i=>{var r=a(n,i);return async function n(o){try{o=e(o)?await o:o;let a=t.Left.is(o)?o.fold(n=>r.throw(n),()=>{}):r.next(o),f=(a=e(a)?await a:a).done&&e(a.value)?await a.value:a.value;if(a.done){if(t.Left.is(f))throw f;return t.Right.is(f)?f:t.Right(f)}return u(n,f,i,!0).catch(n)}catch(o){throw t.Left.is(o)?o:t.Left(o)}}()})}})).RIO=o,r.Reader=o,r});