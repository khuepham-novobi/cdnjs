!function(n,e,t,i){"function"==typeof define&&define.amd?(t=Object.keys(t).map(n=>n.replace(/^\.\//,"")),define(n,t,i)):"undefined"!=typeof module&&module.exports?(t=Object.keys(t).map(n=>require(n)),module.exports=i(...t)):(t=Object.values(t).map(n=>e[n]),e[n]=i(...t))}("IOHelpers","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./io.js":"IO","./maybe.js":"Maybe","./either.js":"Either"},function(n,e,t,i){"use strict";var{isPromise:r}=n,o=new WeakSet;let u={};function f(n,t,...i){return e(r=>c(r,n).chain(function(n){return n?(Array.isArray(t)?t:[t]).reduce((n,t)=>n.chain(n=>c(r,n).chain(n=>o.has(n)?e.of(n):c(r,t))),e.of()).chain(t=>c(r,t).chain(t=>e.of(o.has(t)?t:n))):e.of(n)}).chain(function n(t){return i=>!i&&t.length>0?c(r,t[0]).chain(n(t.slice(1))):e.of(i)}(i)).run(r))}function c(n,r){if(r&&"object"==typeof r&&"function"==typeof r.chain){if(e.is(r))return r;if(i.Left.is(r)||t.Nothing.is(r)){let n={returned:r};return o.add(n),e.of(n)}{let n=r.chain(e.of);return e.is(n)?n:e.of(r)}}return"function"==typeof r?c(n,r(n)):r&&"object"==typeof r&&"function"==typeof r.next?e.do(r):e.of(r)}return u.applyIO=function(n,t){return e(()=>n.run(t))},u.doIO=function(n,...t){return t.length>0?e(i=>e.do(n(i,...t)).run(i)):e.do(n)},u.doIOBind=function(n,t){var i=e(()=>e.do(n).run(t));return(...r)=>r.length>0?e(()=>e.do(n(t,...r)).run(t)):i},u.filterIOList=function(n,t){return t.reduce((e,t)=>e.chain(e=>n(t).map(n=>n?[...e,t]:e)),e.of([]))},u.concatIOList=function(n){return n.reduce((n,e)=>n.map(n=>[...n,e]),e.of([]))},u.iif=f,u.elif=function(n,e){return f(n,e)},u.els=function(n){return f(!0,n)},u.iNot=function(n){return e(t=>c(t,n).chain(n=>e.of(!n)).run(t))},u.iReturn=function(n){return e(t=>c(t,n).chain(n=>{var t={returned:n};return o.add(t),e.of(t)}).run(t))},u.wasReturned=function(n){return o.has(n)},u});