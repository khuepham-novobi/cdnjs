!function(e,n,t,r){"function"==typeof define&&define.amd?(t=Object.keys(t).map(e=>e.replace(/^\.\//,"")),define(e,t,r)):"undefined"!=typeof module&&module.exports?(t=Object.keys(t).map(e=>require(e)),module.exports=r(...t)):(t=Object.values(t).map(e=>n[e]),n[e]=r(...t))}("AsyncEither","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(e,n){"use strict";var{isPromise:t}=e,r={};let i={};function o(e){return u(n.Right(e))}function u(e){return f(t(e)?e:n.Left.is(e)?Promise.reject(e):Promise.resolve(e))}function f(e){e=s(e);var i={map:function(n){var r=e=>{var r=n=>{var r=e.chain(n);return t(r)?s(r):e._is_right()?r:Promise.reject(r)};return t(n)?n.then(r):r(n)};return u(e.then(r,r))},chain:o,flatMap:o,bind:o,ap:function(n){return n.map(e)},concat:function(n){return n.map(n=>e.then(e=>e.concat(n)))},fold:function(n,t){var r=e=>n=>n.fold(n=>Promise.reject(e(n)),e);return e.then(r(t),r(n))},_inspect:function(){return`${i[Symbol.toStringTag]}(Promise)`},_is:function(e){return e===r},[Symbol.toStringTag]:"AsyncEither"};return i;function o(r){var i=e=>{var i=t=>{var r=e.chain(t);return c(r)?r.fold(e=>e,e=>e):n.is(r)?r.fold(e=>Promise.reject(e),e=>e):r};return t(r)?r.then(i):i(r)};return u(e.then(i,i))}}function c(e){return e&&"function"==typeof e._is&&e._is(r)}function s(e){return e.then(e=>n.is(e)?e:n.Right(e),e=>Promise.reject(n.is(e)?e:n.Left(e)))}return i=Object.assign(u,{Left:function(e){return u(n.Left(e))},Right:o,of:o,pure:o,unit:o,is:c,fromFoldable:function(e){return e.fold(u.Left,u.Right)},fromPromise:f})});