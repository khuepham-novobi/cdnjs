!function(n,t){for(let[r,e,i]of t)"function"==typeof define&&define.amd?(e=Object.keys(e).map(n=>n.replace(/^\.\//,"")),define(r,e,i)):"undefined"!=typeof module&&module.exports?(e=Object.keys(e).map(n=>require(n)),module.exports[r]=i(...e)):(e=Object.values(e).map(t=>n[t]),n[r]=i(...e))}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),[["Nothing",{},function(){"use strict";var n={};let t={};function r(){var t={map:r,chain:r,flatMap:r,bind:r,ap:r,concat:r,_inspect:function(){return`${t[Symbol.toStringTag]}()`},_is:function(t){return t===n},[Symbol.toStringTag]:"Nothing"};return t;function r(){return t}}return t=Object.assign(r,{of:r,pure:r,unit:r,is:function(t){return t&&"function"==typeof t._is&&t._is(n)},isEmpty:function(n){return null==n}})}],["Just",{},function(){"use strict";var n={};let t={};function r(t){var e={map:function(n){return r(n(t))},chain:i,flatMap:i,bind:i,ap:function(n){return n.map(t)},concat:function(n){return n.map(n=>t.concat(n))},_inspect:function(){return`${e[Symbol.toStringTag]}(${function n(t){return"string"==typeof t?`"${t}"`:void 0===t?"":"function"==typeof t?t.name||"anonymous function":t&&"function"==typeof t._inspect?t._inspect():Array.isArray(t)?`[${t.map(t=>null==t?String(t):n(t))}]`:String(t)}(t)})`},_is:function(t){return t===n},[Symbol.toStringTag]:"Just"};return e;function i(n){return n(t)}}return t=Object.assign(r,{of:r,pure:r,unit:r,is:function(t){return t&&"function"==typeof t._is&&t._is(n)}})}],["Maybe",{"./just.js":"Just","./nothing.js":"Nothing"},function(n,t){"use strict";var r={};Object.assign(i,n),Object.assign(u,t);let e={};function i(n){return o(n)}function u(){return o(t())}function o(t){var e=t,f=i.is(e)&&!c(e),a=u.is(e)&&!c(e);f||a?t=f?e.chain(n=>n):void 0:(e=n(t),f=!0);var s={map:function(n){return f?o(e.map(n)):s},chain:l,flatMap:l,bind:l,ap:function(n){return f?n.map(t):s},concat:function(n){return f?n.map(n=>t.concat(n)):s},fold:function(n,r){return f?r(t):n(t)},_inspect:function(){var n=f?e._inspect().match(/^Just\((.*)\)$/)[1]:"";return`${s[Symbol.toStringTag]}(${n})`},_is:function(n){return n===r||e._is(n)},get[Symbol.toStringTag](){return`Maybe:${e[Symbol.toStringTag]}`}};return s;function l(n){return f?e.chain(n):s}}function c(n){return n&&"function"==typeof n._is&&n._is(r)}return e=Object.assign(o,{Just:i,Nothing:u,of:o,pure:o,unit:o,is:c,from:function(n){return u.isEmpty(n)?u():o(n)}})}],["MonioUtil",{},function(){"use strict";let n={};function t(n){return n&&"function"==typeof n}function r(n){return n&&"function"==typeof n.then}function e(n,t=n.length){return function r(e){return(...i)=>{var u=[...e,...i];return u.length>=t?n(...u):r(u)}}([])}return(n={isFunction:t,isPromise:r,curry:e}).isFunction=t,n.isPromise=r,n.curry=e,n}],["Either",{"./just.js":"Just"},function(n){"use strict";var t={};e.is=function(n){return o(n)&&!n._is_right()},i.is=function(n){return o(n)&&n._is_right()};let r={};function e(n){return u(n,!1)}function i(n){return u(n,!0)}function u(r,e=!0){var i={map:function(n){return e?u(n(r),e):i},chain:o,flatMap:o,bind:o,ap:function(n){return e?n.map(r):i},concat:function(n){return e?n.map(n=>r.concat(n)):i},fold:function(n,t){return e?t(r):n(r)},_inspect:function(){var t=n(r)._inspect().match(/^Just\((.*)\)$/)[1];return`${i[Symbol.toStringTag]}(${t})`},_is:function(n){return n===t},_is_right:function(){return e},get[Symbol.toStringTag](){return"Either:"+(e?"Right":"Left")}};return i;function o(n){return e?n(r):i}}function o(n){return n&&"function"==typeof n._is&&n._is(t)}return r=Object.assign(function(n){return u(n,!0)},{Left:e,Right:i,of:i,pure:i,unit:i,is:o,fromFoldable:function(n){return n.fold(e,i)}})}],["IO",{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var{isPromise:r}=n,e={};let i={};function u(n){var t={map:function(t){return u(e=>{var i=n(e);return r(i)?i.then(t):t(i)})},chain:i,flatMap:i,bind:i,ap:function(t){return t.map(n)},concat:function(t){return u(e=>{var i=n(e),u=t.run(e);return r(i)||r(u)?Promise.all([i,u]).then(([n,t])=>n.concat(t)):i.concat(u)})},run:function(t){return n(t)},_inspect:function(){return`${t[Symbol.toStringTag]}(${"function"==typeof n?n.name||"anonymous function":n&&"function"==typeof n._inspect?n._inspect():val})`},_is:function(n){return n===e},[Symbol.toStringTag]:"IO"};return t;function i(t){return u(e=>{var i=n(e);return r(i)?i.then(t).then(n=>n.run(e)):t(i).run(e)})}}function o(n,e,i,o=!1){return new Promise(async function(c,f){try{let a=function(n,t){return n["flatMap"in n?"flatMap":"chain"in n?"chain":"bind"](t)}(r(e)?await e:e,t=>u(()=>n(t).then(c,f)));u.is(a)?await a.run(i):o&&t.Left.is(a)?f(a):c(a)}catch(n){f(n)}})}function c(n,t){return"function"==typeof n?n(t):n&&"object"==typeof n&&"function"==typeof n.next?n:void 0}return(i=Object.assign(u,{of:function(n){return u(()=>n)},is:function(n){return n&&"function"==typeof n._is&&n._is(e)},do:function(n){return u(t=>{var e=c(n,t);return async function n(i){var u=e.next(r(i)?await i:i);return(u=r(u)?await u:u).done?u.value:o(n,u.value,t,!1)}()})},doEither:function(n){return u(e=>{var i=c(n,e);return async function n(u){try{u=r(u)?await u:u;let c=t.Left.is(u)?u.fold(n=>i.throw(n),()=>{}):i.next(u),f=(c=r(c)?await c:c).done&&r(c.value)?await c.value:c.value;if(c.done){if(t.Left.is(f))throw f;return t.Right.is(f)?f:t.Right(f)}return o(n,f,e,!0).catch(n)}catch(u){throw t.Left.is(u)?u:t.Left(u)}}()})}})).RIO=u,i.Reader=u,i}],["IOHelpers",{"./lib/util.js":"MonioUtil","./io.js":"IO","./maybe.js":"Maybe","./either.js":"Either"},function(n,t,r,e){"use strict";var{isPromise:i}=n,u=new WeakSet;let o={};function c(n,r,...e){return t(i=>f(i,n).chain(function(n){return n?(Array.isArray(r)?r:[r]).reduce((n,r)=>n.chain(n=>f(i,n).chain(n=>u.has(n)?t.of(n):f(i,r))),t.of()).chain(r=>f(i,r).chain(r=>t.of(u.has(r)?r:n))):t.of(n)}).chain(function n(r){return e=>!e&&r.length>0?f(i,r[0]).chain(n(r.slice(1))):t.of(e)}(e)).run(i))}function f(n,i){if(i&&"object"==typeof i&&"function"==typeof i.chain){if(t.is(i))return i;if(e.Left.is(i)||r.Nothing.is(i)){let n={returned:i};return u.add(n),t.of(n)}{let n=i.chain(t.of);return t.is(n)?n:t.of(i)}}return"function"==typeof i?f(n,i(n)):i&&"object"==typeof i&&"function"==typeof i.next?t.do(i):t.of(i)}return o.applyIO=function(n,r){return t(()=>n.run(r))},o.doIO=function(n,...r){return r.length>0?t(e=>t.do(n(e,...r)).run(e)):t.do(n)},o.doIOBind=function(n,r){var e=t(()=>t.do(n).run(r));return(...i)=>i.length>0?t(()=>t.do(n(r,...i)).run(r)):e},o.filterIOList=function(n,r){return r.reduce((t,r)=>t.chain(t=>n(r).map(n=>n?[...t,r]:t)),t.of([]))},o.concatIOList=function(n){return n.reduce((n,t)=>n.map(n=>[...n,t]),t.of([]))},o.iif=c,o.elif=function(n,t){return c(n,t)},o.els=function(n){return c(!0,n)},o.iNot=function(n){return t(r=>f(r,n).chain(n=>t.of(!n)).run(r))},o.iReturn=function(n){return t(r=>f(r,n).chain(n=>{var r={returned:n};return u.add(r),t.of(r)}).run(r))},o.wasReturned=function(n){return u.has(n)},o}],["IOEventStream",{"./lib/util.js":"MonioUtil","./io.js":"IO"},function(n,t){"use strict";var{isFunction:r,curry:e}=n;let i={};function u(n){return n.map(function(t,r){return t&&"function"==typeof t.next?(n[r]=async function(){var e=t.next();try{let i=await e;return n[r]=[r,t,i]}catch(t){return n[r]=null,e}}(),n[r]):t}).filter(Boolean)}function o(...n){return t(()=>Promise.all(n.map(async function(n){if(n&&"function"==typeof n.return)try{return await n.return()}catch(n){}})))}function c(){var n;return{pr:new Promise(t=>n=t),next:n}}return(i=e(function(n,e,i={}){var{bufferSize:u=100,throwBufferOverflow:o=!1,evtOpts:f={}}=i;return t(()=>{var t,i,a=Symbol("force closed"),{pr:s,next:l}=c(),h=async function*(){t=[],i=[],r(n.addEventListener)?n.addEventListener(e,y,f):r(n.addListener)?n.addListener(e,y):r(n.on)&&n.on(e,y);try{for(;;){if(0==t.length){let{pr:n,next:r}=c();t.push(n),i.push(r)}let n=await Promise.race([s,t.shift()]);if(n==a)return;yield n}}finally{r(n.removeEventListener)?n.removeEventListener(e,y,f):r(n.removeListener)?n.removeListener(e,y):r(n.off)&&n.off(e,y),t.length=i.length=0}}(),p=h.return;return h.return=function(...n){var t=p.apply(h,n);return l(a),h.return=p,t},h;function y(n){if(i.length>0)i.shift()(n);else if(t.length<u){let{pr:r,next:e}=c();t.push(r),e(n)}else if(o){let t=new Error("Event stream buffer overflow");throw t.evt=n,t}}})})).merge=function(...n){return t(()=>(async function*(){try{for(;;){let t=u(n);if(!(t.length>0))return;try{if(1==t.length){let[r,e,i]=await t[0];if(i.done)return void(n[r]=null);n[r]=e,yield i.value}else{let[r,e,i]=await Promise.race(t);n[r]=null,i.done||(n.push(e),yield i.value)}}catch(n){return Promise.reject(n)}}}finally{await o(n)}})())},i.zip=function(...n){return t(()=>(async function*(){try{for(;;){let t=u(n);if(!(t.length>0))return;try{let r=(await Promise.all(t)).reduce(function(t,r){var[e,i,u]=r;return u.done?(n[e]=null,t):(n[e]=i,[...t,u.value])},[]);if(!(r.length>0))return;yield r}catch(n){return Promise.reject(n)}}}finally{await o(...n).run()}})())},i.close=o,i}],["AsyncEither",{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var{isPromise:r}=n,e={};let i={};function u(n){return o(t.Right(n))}function o(n){return c(r(n)?n:t.Left.is(n)?Promise.reject(n):Promise.resolve(n))}function c(n){n=a(n);var i={map:function(t){var e=n=>{var e=t=>{var e=n.chain(t);return r(e)?a(e):n._is_right()?e:Promise.reject(e)};return r(t)?t.then(e):e(t)};return o(n.then(e,e))},chain:u,flatMap:u,bind:u,ap:function(t){return t.map(n)},concat:function(t){return t.map(t=>n.then(n=>n.concat(t)))},fold:function(t,r){var e=n=>t=>t.fold(t=>Promise.reject(n(t)),n);return n.then(e(r),e(t))},_inspect:function(){return`${i[Symbol.toStringTag]}(Promise)`},_is:function(n){return n===e},[Symbol.toStringTag]:"AsyncEither"};return i;function u(e){var i=n=>{var i=r=>{var e=n.chain(r);return f(e)?e.fold(n=>n,n=>n):t.is(e)?e.fold(n=>Promise.reject(n),n=>n):e};return r(e)?e.then(i):i(e)};return o(n.then(i,i))}}function f(n){return n&&"function"==typeof n._is&&n._is(e)}function a(n){return n.then(n=>t.is(n)?n:t.Right(n),n=>Promise.reject(t.is(n)?n:t.Left(n)))}return i=Object.assign(o,{Left:function(n){return o(t.Left(n))},Right:u,of:u,pure:u,unit:u,is:f,fromFoldable:function(n){return n.fold(o.Left,o.Right)},fromPromise:c})}],["Monio",{"./just.js":"Just","./nothing.js":"Nothing","./maybe.js":"Maybe","./either.js":"Either","./async-either.js":"AsyncEither","./io.js":"IO","./io-helpers.js":"IOHelpers","./io-event-stream.js":"IOEventStream"},function(n,t,r,e,i,u,o,c){"use strict";let f={};return f.Just=n,f.Nothing=t,f.Maybe=r,f.Either=e,f.AsyncEither=i,f.IO=u,f.Reader=u,f.RIO=u,f.IOHelpers=o,f.IOEventStream=c,f}]]);