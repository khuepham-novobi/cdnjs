!function(t,e){t.getElementById("livereloadscript")||((e=t.createElement("script")).async=1,e.src="//"+(window.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e))}(window.document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).auth0={})}(this,function(t){"use strict";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}function r(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r}function b(t,e){g.apply(t,T(e)?e:[e])}function w(t,e,r,n,i,o,s,a,u,c,p,h,l){var d=t;if("function"==typeof s?d=s(e,d):d instanceof Date?d=c(d):"comma"===r&&T(d)&&(d=_.maybeMap(d,function(t){return t instanceof Date?c(t):t}).join(",")),null===d){if(n)return o&&!h?o(e,k.encoder,l,"key"):e;d=""}if(t=d,"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t||_.isBuffer(d))return o?[p(h?e:o(e,k.encoder,l,"key"))+"="+p(o(d,k.encoder,l,"value"))]:[p(e)+"="+p(String(d))];var f,y=[];if(void 0===d)return y;f=T(s)?s:(t=Object.keys(d),a?t.sort(a):t);for(var m=0;m<f.length;++m){var g=f[m],v=d[g];i&&null===v||(g=T(d)?"function"==typeof r?r(e,g):e:e+(u?"."+g:"["+g+"]"),b(y,w(v,g,r,n,i,o,s,a,u,c,p,h,l)))}return y}function h(t,e){return t&&"string"==typeof t&&e.comma&&-1<t.indexOf(",")?t.split(","):t}function u(t,e){var r,n,i,o,s={},a=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,t=e.parameterLimit===1/0?void 0:e.parameterLimit,u=a.split(e.delimiter,t),c=-1,p=e.charset;if(e.charsetSentinel)for(r=0;r<u.length;++r)0===u[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[r]?p="utf-8":"utf8=%26%2310003%3B"===u[r]&&(p="iso-8859-1"),c=r,r=u.length);for(r=0;r<u.length;++r)r!==c&&((o=-1===(o=-1===(o=(n=u[r]).indexOf("]="))?n.indexOf("="):o+1)?(i=e.decoder(n,C.decoder,p,"key"),e.strictNullHandling?null:""):(i=e.decoder(n.slice(0,o),C.decoder,p,"key"),_.maybeMap(h(n.slice(o+1),e),function(t){return e.decoder(t,C.decoder,p,"value")})))&&e.interpretNumericEntities&&"iso-8859-1"===p&&(o=o.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})),-1<n.indexOf("[]=")&&(o=S(o)?[o]:o),A.call(s,i)?s[i]=_.combine(s[i],o):s[i]=o);return s}function c(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,s=0<r.depth&&/(\[[^[\]]*])/.exec(i),t=s?i.slice(0,s.index):i,a=[];if(t){if(!r.plainObjects&&A.call(Object.prototype,t)&&!r.allowPrototypes)return;a.push(t)}for(var u=0;0<r.depth&&null!==(s=o.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&A.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;a.push(s[1])}return s&&a.push("["+i.slice(s.index)+"]"),function(t,e,r,n){for(var i=n?e:h(e,r),o=t.length-1;0<=o;--o){var s,a,u,c=t[o];"[]"===c&&r.parseArrays?s=[].concat(i):(s=r.plainObjects?Object.create(null):{},a="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,u=parseInt(a,10),r.parseArrays||""!==a?!isNaN(u)&&c!==a&&String(u)===a&&0<=u&&r.parseArrays&&u<=r.arrayLimit?(s=[])[u]=i:s[a]=i:s={0:i}),i=s}return i}(a,e,r,n)}}var a=e(function(t){var e,r;e=n,r=function(){return function(){var t="object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments);return function(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);t[0].match(/^[^/:]+:\/*$/)&&1<t.length&&(o=t.shift(),t[0]=o+t[0]),t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var n=t[r];if("string"!=typeof n)throw new TypeError("Url must be a string. Received "+n);""!==n&&(0<r&&(n=n.replace(/^[\/]+/,"")),n=r<t.length-1?n.replace(/[\/]+$/,""):n.replace(/[\/]+$/,"/"),e.push(n))}var i=e.join("/"),o=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return i=o.shift()+(0<o.length?"?":"")+o.join("&")}(t)}},t.exports?t.exports=r():e.urljoin=r()}),p=Object.prototype.hasOwnProperty,l=Array.isArray,d=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),_={arrayToObject:r,assign:function(t,r){return Object.keys(r).reduce(function(t,e){return t[e]=r[e],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var u=s[a],c=o[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:o,prop:u}),r.push(c))}return function(t){for(;1<t.length;){var e=t.pop(),r=e.obj[e.prop];if(l(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r){if(0===t.length)return t;var n=t;if("symbol"==typeof t?n=Symbol.prototype.toString.call(t):"string"!=typeof t&&(n=String(t)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var i="",o=0;o<n.length;++o){var s=n.charCodeAt(o);45===s||46===s||95===s||126===s||48<=s&&s<=57||65<=s&&s<=90||97<=s&&s<=122?i+=n.charAt(o):s<128?i+=d[s]:s<2048?i+=d[192|s>>6]+d[128|63&s]:s<55296||57344<=s?i+=d[224|s>>12]+d[128|s>>6&63]+d[128|63&s]:(o+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(o)),i+=d[240|s>>18]+d[128|s>>12&63]+d[128|s>>6&63]+d[128|63&s])}return i},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(l(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function n(i,o,s){if(!o)return i;if("object"!=typeof o){if(l(i))i.push(o);else{if(!i||"object"!=typeof i)return[i,o];(s&&(s.plainObjects||s.allowPrototypes)||!p.call(Object.prototype,o))&&(i[o]=!0)}return i}if(!i||"object"!=typeof i)return[i].concat(o);var t=i;return l(i)&&!l(o)&&(t=r(i,s)),l(i)&&l(o)?(o.forEach(function(t,e){var r;p.call(i,e)?(r=i[e])&&"object"==typeof r&&t&&"object"==typeof t?i[e]=n(r,t,s):i.push(t):i[e]=t}),i):Object.keys(o).reduce(function(t,e){var r=o[e];return p.call(t,e)?t[e]=n(t[e],r,s):t[e]=r,t},t)}},i=String.prototype.replace,o=/%20/g,s={RFC1738:"RFC1738",RFC3986:"RFC3986"},f=_.assign({default:s.RFC3986,formatters:{RFC1738:function(t){return i.call(t,o,"+")},RFC3986:function(t){return String(t)}}},s),y=Object.prototype.hasOwnProperty,m={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},T=Array.isArray,g=Array.prototype.push,v=Date.prototype.toISOString,O=f.default,k={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:_.encode,encodeValuesOnly:!1,format:O,formatter:f.formatters[O],indices:!1,serializeDate:function(t){return v.call(t)},skipNulls:!1,strictNullHandling:!1},A=Object.prototype.hasOwnProperty,S=Array.isArray,C={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:_.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},D=function(t,e){var r=function(t){if(!t)return C;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=(void 0===t.charset?C:t).charset;return{allowDots:void 0===t.allowDots?C.allowDots:!!t.allowDots,allowPrototypes:("boolean"==typeof t.allowPrototypes?t:C).allowPrototypes,arrayLimit:("number"==typeof t.arrayLimit?t:C).arrayLimit,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:C).charsetSentinel,comma:("boolean"==typeof t.comma?t:C).comma,decoder:("function"==typeof t.decoder?t:C).decoder,delimiter:("string"==typeof t.delimiter||_.isRegExp(t.delimiter)?t:C).delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:C.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof t.interpretNumericEntities?t:C).interpretNumericEntities,parameterLimit:("number"==typeof t.parameterLimit?t:C).parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:("boolean"==typeof t.plainObjects?t:C).plainObjects,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:C).strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?u(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s)var a=o[s],a=c(a,n[a],r,"string"==typeof t),i=_.merge(i,a,r);return _.compact(i)},x=function(t,e){var r=t,n=function(t){if(!t)return k;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||k.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=f.default;if(void 0!==t.format){if(!y.call(f.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=f.formatters[r],r=k.filter;return"function"!=typeof t.filter&&!T(t.filter)||(r=t.filter),{addQueryPrefix:("boolean"==typeof t.addQueryPrefix?t:k).addQueryPrefix,allowDots:void 0===t.allowDots?k.allowDots:!!t.allowDots,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:k).charsetSentinel,delimiter:(void 0===t.delimiter?k:t).delimiter,encode:("boolean"==typeof t.encode?t:k).encode,encoder:("function"==typeof t.encoder?t:k).encoder,encodeValuesOnly:("boolean"==typeof t.encodeValuesOnly?t:k).encodeValuesOnly,filter:r,formatter:n,serializeDate:("function"==typeof t.serializeDate?t:k).serializeDate,skipNulls:("boolean"==typeof t.skipNulls?t:k).skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:k).strictNullHandling}}(e);"function"==typeof n.filter?r=(0,n.filter)("",r):T(n.filter)&&(s=n.filter);var i=[];if("object"!=typeof r||null===r)return"";t=e&&e.arrayFormat in m?e.arrayFormat:!(e&&"indices"in e)||e.indices?"indices":"repeat";var o=m[t],s=s||Object.keys(r);n.sort&&s.sort(n.sort);for(var a=0;a<s.length;++a){var u=s[a];n.skipNulls&&null===r[u]||b(i,w(r[u],u,o,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}e=i.join(n.delimiter),t=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?t+="utf8=%26%2310003%3B&":t+="utf8=%E2%9C%93&"),0<e.length?t+e:""},j=e(function(t){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}(t.exports=r).prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),E=U;(U.default=U).stable=R,U.stableStringify=R;var q=[],I=[];function U(t,e,r){for(!function t(e,r,n,i){var o;if("object"==typeof e&&null!==e){for(o=0;o<n.length;o++)if(n[o]===e){var s=Object.getOwnPropertyDescriptor(i,r);return void(void 0!==s.get?s.configurable?(Object.defineProperty(i,r,{value:"[Circular]"}),q.push([i,r,e,s])):I.push([e,r]):(i[r]="[Circular]",q.push([i,r,e])))}if(n.push(e),Array.isArray(e))for(o=0;o<e.length;o++)t(e[o],o,n,e);else{var a=Object.keys(e);for(o=0;o<a.length;o++){var u=a[o];t(e[u],u,n,e)}}n.pop()}}(t,"",[],void 0),r=0===I.length?JSON.stringify(t,e,r):JSON.stringify(t,M(e),r);0!==q.length;){var n=q.pop();4===n.length?Object.defineProperty(n[0],n[1],n[3]):n[0][n[1]]=n[2]}return r}function P(t,e){return t<e?-1:e<t?1:0}function R(t,e,r){for(t=function t(e,r,n,i){var o;if("object"==typeof e&&null!==e){for(o=0;o<n.length;o++)if(n[o]===e){var s=Object.getOwnPropertyDescriptor(i,r);return void(void 0!==s.get?s.configurable?(Object.defineProperty(i,r,{value:"[Circular]"}),q.push([i,r,e,s])):I.push([e,r]):(i[r]="[Circular]",q.push([i,r,e])))}if("function"!=typeof e.toJSON){if(n.push(e),Array.isArray(e))for(o=0;o<e.length;o++)t(e[o],o,n,e);else{var a={},u=Object.keys(e).sort(P);for(o=0;o<u.length;o++){var c=u[o];t(e[c],c,n,e),a[c]=e[c]}if(void 0===i)return a;q.push([i,r,e]),i[r]=a}n.pop()}}}(t,"",[],void 0)||t,r=0===I.length?JSON.stringify(t,e,r):JSON.stringify(t,M(e),r);0!==q.length;){var n=q.pop();4===n.length?Object.defineProperty(n[0],n[1],n[3]):n[0][n[1]]=n[2]}return r}function M(i){return i=void 0!==i?i:function(t,e){return e},function(t,e){if(0<I.length)for(var r=0;r<I.length;r++){var n=I[r];if(n[1]===t&&n[0]===e){e="[Circular]",I.splice(r,1);break}}return i.call(this,t,e)}}function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var L=function(t){return null!==t&&"object"===B(t)};function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var H=W;function W(t){if(t)return function(t){for(var e in W.prototype)Object.prototype.hasOwnProperty.call(W.prototype,e)&&(t[e]=W.prototype[e]);return t}(t)}W.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},W.prototype.parse=function(t){return this._parser=t,this},W.prototype.responseType=function(t){return this._responseType=t,this},W.prototype.serialize=function(t){return this._serializer=t,this},W.prototype.timeout=function(t){if(!t||"object"!==N(t))return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},W.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var z=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];W.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(t){console.error(t)}if(e&&e.status&&500<=e.status&&501!==e.status)return!0;if(t){if(t.code&&z.includes(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},W.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},W.prototype.then=function(t,e){var i,o=this;return this._fullfilledPromise||((i=this)._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(r,n){i.on("abort",function(){var t;o._maxRetries&&o._maxRetries>o._retries||(o.timedout&&o.timedoutError?n(o.timedoutError):((t=new Error("Aborted")).code="ABORTED",t.status=o.status,t.method=o.method,t.url=o.url,n(t)))}),i.end(function(t,e){t?n(t):r(e)})})),this._fullfilledPromise.then(t,e)},W.prototype.catch=function(t){return this.then(void 0,t)},W.prototype.use=function(t){return t(this),this},W.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},W.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):200<=t.status&&t.status<300)},W.prototype.getHeader=W.prototype.get=function(t){return this._header[t.toLowerCase()]},W.prototype.set=function(t,e){if(L(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},W.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},W.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(L(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(r,t[r]);return this}if(Array.isArray(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(t,e[n]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),this._getFormData().append(t,e),this},W.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},W.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},W.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},W.prototype.redirects=function(t){return this._maxRedirects=t,this},W.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},W.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},W.prototype.send=function(t){var e=L(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&L(this._data))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this._data[n]=t[n]);else"string"==typeof t?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"===r?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||r||this.type("json"),this},W.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},W.prototype._finalizeQueryString=function(){var t,e=this._query.join("&");e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,!this._sort||0<=(t=this.url.indexOf("?"))&&(e=this.url.slice(t+1).split("&"),"function"==typeof this._sort?e.sort(this._sort):e.sort(),this.url=this.url.slice(0,t)+"?"+e.join("&"))},W.prototype._appendQueryString=function(){console.warn("Unsupported")},W.prototype._timeoutError=function(t,e,r){this._aborted||((t=new Error("".concat(t+e,"ms exceeded"))).timeout=e,t.code="ECONNABORTED",t.errno=r,this.timedout=!0,this.timedoutError=t,this.abort(),this.callback(t))},W.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var V=function(t){return t.split(/ *; */).shift()},F=function(t){return t.split(/ *; */).reduce(function(t,e){var r=e.split(/ *= */),e=r.shift(),r=r.shift();return e&&r&&(t[e]=r),t},{})},J=function(t){return t.split(/ *, */).reduce(function(t,e){var r=e.split(/ *; */),e=r[0].slice(1,-1);return t[r[1].split(/ *= */)[1].slice(1,-1)]=e,t},{})},$=X;function X(t){if(t)return function(t){for(var e in X.prototype)Object.prototype.hasOwnProperty.call(X.prototype,e)&&(t[e]=X.prototype[e]);return t}(t)}function Q(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K(){this._defaults=[]}X.prototype.get=function(t){return this.header[t.toLowerCase()]},X.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=V(e);var r,n=F(e);for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(this[r]=n[r]);this.links={};try{t.link&&(this.links=J(t.link))}catch(t){}},X.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(n){K.prototype[n]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._defaults.push({fn:n,args:e}),this}}),K.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,Q(t.args))})};for(var G=K,Y=e(function(t,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var e;function i(){}e="undefined"!=typeof window?window:"undefined"==typeof self?void console.warn("Using browser-only version of superagent in non-browser environment"):self,t.exports=function(t,e){return"function"==typeof e?new r.Request("GET",t).end(e):1===arguments.length?new r.Request("GET",t):new r.Request(t,e)};var a=r=t.exports;r.Request=h,a.getXHR=function(){if(e.XMLHttpRequest&&(!e.location||"file:"!==e.location.protocol||!e.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var u="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function o(t){if(!L(t))return t;var e,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&!function e(r,n,t){if(void 0===t)return;if(null===t)return void r.push(encodeURI(n));if(Array.isArray(t))t.forEach(function(t){e(r,n,t)});else if(L(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(r,"".concat(n,"[").concat(i,"]"),t[i]);else r.push(encodeURI(n)+"="+encodeURIComponent(t))}(r,e,t[e]);return r.join("&")}function s(t){for(var e,r,n={},i=t.split("&"),o=0,s=i.length;o<s;++o)-1===(r=(e=i[o]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return n}function c(t){return/[/+]json($|[^-\w])/.test(t)}function p(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){for(var e,r,n,i=t.split(/\r?\n/),o={},s=0,a=i.length;s<a;++s)-1!==(n=(e=i[s]).indexOf(":"))&&(r=e.slice(0,n).toLowerCase(),n=u(e.slice(n+1)),o[r]=n);return o}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text||this.xhr.response)}function h(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e,r=null,t=null;try{t=new p(n)}catch(t){return(r=new Error("Parser is unable to parse the response")).parse=!0,r.original=t,n.xhr?(r.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,r.status=n.xhr.status||null,r.statusCode=r.status):(r.rawResponse=null,r.status=null),n.callback(r)}n.emit("response",t);try{n._isResponseOK(t)||(e=new Error(t.statusText||t.text||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=r,e.response=t,e.status=t.status,n.callback(e,t)):n.callback(null,t)})}function l(t,e,r){t=a("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&t.send(e),r&&t.end(r),t}a.serializeObject=o,a.parseString=s,a.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},a.serialize={"application/x-www-form-urlencoded":o,"application/json":E},a.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},$(p.prototype),p.prototype._parseBody=function(t){var e=a.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&c(this.type)&&(e=a.parse["application/json"]),e&&t&&(0<t.length||t instanceof Object)?e(t):null)},p.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,t="cannot ".concat(e," ").concat(r," (").concat(this.status,")"),t=new Error(t);return t.status=this.status,t.method=e,t.url=r,t},a.Response=p,j(h.prototype),H(h.prototype),h.prototype.type=function(t){return this.set("Content-Type",a.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",a.types[t]||t),this},h.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"===n(e)&&null!==e&&(r=e,e=""),r=r||{type:"function"==typeof btoa?"basic":"auto"};return this._auth(t,e,r,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},h.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},h.prototype._getFormData=function(){return this._formData||(this._formData=new e.FormData),this._formData},h.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.buffer=h.prototype.ca=h.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},h.prototype.pipe=h.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},h.prototype._isHost=function(t){return t&&"object"===n(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},h.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||i,this._finalizeQueryString(),this._end()},h.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},h.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var r=this;this.xhr=a.getXHR();var n=this.xhr,t=this._formData||this._data;this._setTimeouts(),n.onreadystatechange=function(){var e,t=n.readyState;if(2<=t&&r._responseTimeoutTimer&&clearTimeout(r._responseTimeoutTimer),4===t){try{e=n.status}catch(t){e=0}if(!e)return r.timedout||r._aborted?void 0:r.crossDomainError();r.emit("end")}};function e(t,e){0<e.total&&(e.percent=e.loaded/e.total*100,100===e.percent&&clearTimeout(r._uploadTimeoutTimer)),e.direction=t,r.emit("progress",e)}var i,o,s;if(this.hasListeners("progress"))try{n.addEventListener("progress",e.bind(null,"download")),n.upload&&n.upload.addEventListener("progress",e.bind(null,"upload"))}catch(t){}n.upload&&this._setUploadTimeout();try{this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0)}catch(t){return this.callback(t)}for(s in this._withCredentials&&(n.withCredentials=!0),this._formData||"GET"===this.method||"HEAD"===this.method||"string"==typeof t||this._isHost(t)||(i=this._header["content-type"],!(o=this._serializer||a.serialize[i?i.split(";")[0]:""])&&c(i)&&(o=a.serialize["application/json"]),o&&(t=o(t))),this.header)null!==this.header[s]&&Object.prototype.hasOwnProperty.call(this.header,s)&&n.setRequestHeader(s,this.header[s]);this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0===t?null:t)},a.agent=function(){return new G},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(r){G.prototype[r.toLowerCase()]=function(t,e){t=new a.Request(r,t);return this._setDefaults(t),e&&t.end(e),t}}),G.prototype.del=G.prototype.delete,a.get=function(t,e,r){t=a("GET",t);return"function"==typeof e&&(r=e,e=null),e&&t.query(e),r&&t.end(r),t},a.head=function(t,e,r){t=a("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&t.query(e),r&&t.end(r),t},a.options=function(t,e,r){t=a("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&t.send(e),r&&t.end(r),t},a.del=l,a.delete=l,a.patch=function(t,e,r){t=a("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&t.send(e),r&&t.end(r),t},a.post=function(t,e,r){t=a("POST",t);return"function"==typeof e&&(r=e,e=null),e&&t.send(e),r&&t.end(r),t},a.put=function(t,e,r){t=a("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&t.send(e),r&&t.end(r),t}}),tt=(Y.Request,function(t){var e=at(t),t=e[0],e=e[1];return 3*(t+e)/4-e}),s=function(t){var e,r,n=at(t),i=n[0],n=n[1],o=new nt(function(t,e){return 3*(t+e)/4-e}(i,n)),s=0,a=0<n?i-4:i;for(r=0;r<a;r+=4)e=rt[t.charCodeAt(r)]<<18|rt[t.charCodeAt(r+1)]<<12|rt[t.charCodeAt(r+2)]<<6|rt[t.charCodeAt(r+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=255&e;2===n&&(e=rt[t.charCodeAt(r)]<<2|rt[t.charCodeAt(r+1)]>>4,o[s++]=255&e);1===n&&(e=rt[t.charCodeAt(r)]<<10|rt[t.charCodeAt(r+1)]<<4|rt[t.charCodeAt(r+2)]>>2,o[s++]=e>>8&255,o[s++]=255&e);return o},O=function(t){for(var e,r=t.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(function(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(function(t){return et[t>>18&63]+et[t>>12&63]+et[t>>6&63]+et[63&t]}(n));return i.join("")}(t,o,s<o+16383?s:o+16383));1==n?(e=t[r-1],i.push(et[e>>2]+et[e<<4&63]+"==")):2==n&&(e=(t[r-2]<<8)+t[r-1],i.push(et[e>>10]+et[e>>4&63]+et[e<<2&63]+"="));return i.join("")},et=[],rt=[],nt="undefined"!=typeof Uint8Array?Uint8Array:Array,it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ot=0,st=it.length;ot<st;++ot)et[ot]=it[ot],rt[it.charCodeAt(ot)]=ot;function at(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return-1===t&&(t=e),[t,t===e?0:4-t%4]}rt["-".charCodeAt(0)]=62,rt["_".charCodeAt(0)]=63;var ut={byteLength:tt,toByteArray:s,fromByteArray:O};var ct={encode:function(t){return ut.fromByteArray(function(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(t)).replace(/\+/g,"-").replace(/\//g,"_")},decode:function(t){var e,r;return t=(0==(r=(e=t).length%4)?e:e+new Array(1+(4-r)).join("=")).replace(/-/g,"+").replace(/_/g,"/"),function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}(ut.toByteArray(t))}},pt={raw:"9.13.4"},ht=Object.prototype.toString;function lt(t,e,r,n){if(r="array"===r?"object":r,t&&typeof t[e]!==r)throw new Error(n)}function dt(t,e,r){if(typeof t!==e)throw new Error(r)}function ft(t,e,r){if(-1===e.indexOf(t))throw new Error(r)}var yt={check:function(t,e,r){if(e.optional&&!t||dt(t,e.type,e.message),"object"===e.type&&r)for(var n=Object.keys(r),i=0;i<n.length;i++){var o=n[i];r[o].optional&&!t[o]||r[o].condition&&!r[o].condition(t)||(lt(t,o,r[o].type,r[o].message),r[o].values&&ft(t[o],r[o].values,r[o].value_message))}},attribute:lt,variable:dt,value:ft,isArray:function(t){return this.supportsIsArray()?Array.isArray(t):"[object Array]"===ht.call(t)},supportsIsArray:function(){return null!=Array.isArray}};function mt(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i=Object.keys(Object(n)),o=0,s=i.length;o<s;o++){var a=i[o],u=Object.getOwnPropertyDescriptor(n,a);void 0!==u&&u.enumerable&&(e[a]=n[a])}}return e}var gt={get:function(){return Object.assign||mt},objectAssignPolyfill:mt};function vt(r,t){return t.reduce(function(t,e){return r[e]&&(t[e]=r[e]),t},{})}function bt(){var t=function(t){var e,r=[];for(e in t)r.push(t[e]);return r}(arguments);return t.unshift({}),gt.get().apply(void 0,t)}function wt(t){var e=t.match(/^(https?:|file:|chrome-extension:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}}function _t(t,e){var r=bt(t);return t[e]&&(r[e]=t[e].trim()),r}var Tt={toSnakeCase:function r(n,i){return"object"!=typeof n||yt.isArray(n)||null===n?n:(i=i||[],Object.keys(n).reduce(function(t,e){return t[-1===i.indexOf(e)?function(t){for(var e,r="",n=0,i=!0,o=!0;n<t.length;)e=t.charCodeAt(n),(!o&&65<=e&&e<=90||!i&&48<=e&&e<=57)&&(r+="_"),r+=t[n].toLowerCase(),i=48<=e&&e<=57,o=65<=e&&e<=90,n++;return r}(e):e]=r(n[e]),t},{}))},toCamelCase:function n(i,o,s){return"object"!=typeof i||yt.isArray(i)||null===i?i:(o=o||[],s=s||{},Object.keys(i).reduce(function(t,e){var r=-1===o.indexOf(e)?(r=(r=e).split("_")).reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)},r.shift()):e;return t[r]=n(i[r]||i[e],[],s),s.keepOriginal&&(t[e]=n(i[e],[],s)),t},{}))},blacklist:function(r,n){return Object.keys(r).reduce(function(t,e){return-1===n.indexOf(e)&&(t[e]=r[e]),t},{})},merge:function(t,e){return{base:e?vt(t,e):t,with:function(t,e){return t=e?vt(t,e):t,bt(this.base,t)}}},pick:vt,getKeysNotIn:function(t,e){var r,n=[];for(r in t)-1===e.indexOf(r)&&n.push(r);return n},extend:bt,getOriginFromUrl:function(t){if(t){var e=wt(t);if(!e)return null;t=e.protocol+"//"+e.hostname;return e.port&&(t+=":"+e.port),t}},getLocationFromUrl:wt,trimUserDetails:function(t){return["username","email","phoneNumber"].reduce(_t,t)},updatePropertyOn:function t(e,r,n){"string"==typeof r&&(r=r.split("."));var i=r[0];e.hasOwnProperty(i)&&(1===r.length?e[i]=n:t(e[i],r.slice(1),n))}};function Ot(t){this.request=t,this.method=t.method,this.url=t.url,this.body=t._data,this.headers=t._header}function kt(t){this.request=t}function At(t){this._sendTelemetry=!1!==t._sendTelemetry||t._sendTelemetry,this._telemetryInfo=t._telemetryInfo||null,this._timesToRetryFailedRequests=t._timesToRetryFailedRequests,this.headers=t.headers||{},this._universalLoginPage=t.universalLoginPage}function St(){return window}Ot.prototype.abort=function(){this.request.abort()},Ot.prototype.getMethod=function(){return this.method},Ot.prototype.getBody=function(){return this.body},Ot.prototype.getUrl=function(){return this.url},Ot.prototype.getHeaders=function(){return this.headers},kt.prototype.set=function(t,e){return this.request=this.request.set(t,e),this},kt.prototype.send=function(t){return this.request=this.request.send(Tt.trimUserDetails(t)),this},kt.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},kt.prototype.end=function(t){return this.request.end(t),new Ot(this.request)},At.prototype.setCommonConfiguration=function(t,e){if(e=e||{},0<this._timesToRetryFailedRequests&&(t=t.retry(this._timesToRetryFailedRequests)),e.noHeaders)return t;var r=this.headers;t=t.set("Content-Type","application/json");for(var n=Object.keys(this.headers),i=0;i<n.length;i++)t=t.set(n[i],r[n[i]]);return this._sendTelemetry&&(t=t.set("Auth0-Client",this.getTelemetryData())),t},At.prototype.getTelemetryData=function(){var t=this._universalLoginPage?"auth0.js-ulp":"auth0.js",e={name:t,version:pt.raw};this._telemetryInfo&&((e=Tt.extend({},this._telemetryInfo)).env=Tt.extend({},this._telemetryInfo.env),e.env[t]=pt.raw);e=JSON.stringify(e);return ct.encode(e)},At.prototype.get=function(t,e){return new kt(this.setCommonConfiguration(Y.get(t),e))},At.prototype.post=function(t,e){return new kt(this.setCommonConfiguration(Y.post(t),e))},At.prototype.patch=function(t,e){return new kt(this.setCommonConfiguration(Y.patch(t),e))};var Ct={redirect:function(t){St().location=t},getDocument:function(){return St().document},getWindow:St,getOrigin:function(){var t=St().location;return t.origin||Tt.getOriginFromUrl(t.href)}};function Dt(){}Dt.prototype.getItem=function(){return null},Dt.prototype.removeItem=function(){},Dt.prototype.setItem=function(){};var xt=e(function(t,e){var r;r=function(){function a(){for(var t=0,e={};t<arguments.length;t++){var r,n=arguments[t];for(r in n)e[r]=n[r]}return e}function c(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(u){function s(){}function r(t,e,r){if("undefined"!=typeof document){"number"==typeof(r=a({path:"/"},s.defaults,r)).expires&&(r.expires=new Date(+new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var n=JSON.stringify(e);/^[\{\[]/.test(n)&&(e=n)}catch(t){}e=u.write?u.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i,o="";for(i in r)r[i]&&(o+="; "+i,!0!==r[i]&&(o+="="+r[i].split(";")[0]));return document.cookie=t+"="+e+o}}function e(t,e){if("undefined"!=typeof document){for(var r={},n=document.cookie?document.cookie.split("; "):[],i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");e||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var a=c(o[0]),s=(u.read||u)(s,a)||c(s);if(e)try{s=JSON.parse(s)}catch(t){}if(r[a]=s,t===a)break}catch(t){}}return t?r[t]:r}}return s.set=r,s.get=function(t){return e(t,!1)},s.getJSON=function(t){return e(t,!0)},s.remove=function(t,e){r(t,"",a(e,{expires:-1}))},s.defaults={},s.withConverter=t,s}(function(){})},t.exports=r()});function jt(){}function Et(t){this.disableWarnings=t.disableWarnings}function qt(t){if(this.warn=new Et({}),this.storage=new jt,!0===t.__tryLocalStorageFirst)try{var e=Ct.getWindow().localStorage;e&&(this.storage=e)}catch(t){this.warn.warning(t),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function It(t){this.handler=new qt(t)}function Ut(t){this.storage=new It(t)}function Pt(t,e){return{error:t,errorDescription:e}}jt.prototype.getItem=function(t){return xt.get(t)},jt.prototype.removeItem=function(t){xt.remove(t)},jt.prototype.setItem=function(t,e,r){r=Tt.extend({expires:1},r);xt.set(t,e,r)},Et.prototype.warning=function(t){this.disableWarnings||console.warn(t)},qt.prototype.failover=function(){this.storage instanceof Dt?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof jt?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new Dt):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new jt)},qt.prototype.getItem=function(e){try{return this.storage.getItem(e)}catch(t){return this.warn.warning(t),this.failover(),this.getItem(e)}},qt.prototype.removeItem=function(e){try{return this.storage.removeItem(e)}catch(t){return this.warn.warning(t),this.failover(),this.removeItem(e)}},qt.prototype.setItem=function(e,r,n){try{return this.storage.setItem(e,r,n)}catch(t){return this.warn.warning(t),this.failover(),this.setItem(e,r,n)}},It.prototype.getItem=function(t){var e=this.handler.getItem(t);try{return JSON.parse(e)}catch(t){return e}},It.prototype.removeItem=function(t){return this.handler.removeItem(t)},It.prototype.setItem=function(t,e,r){e=JSON.stringify(e);return this.handler.setItem(t,e,r)},Ut.prototype.set=function(t,e){e={lastUsedConnection:t,lastUsedSub:e};this.storage.setItem("auth0.ssodata",JSON.stringify(e))},Ut.prototype.get=function(){var t=this.storage.getItem("auth0.ssodata");if(t)return JSON.parse(t)};var Rt={buildResponse:Pt,invalidToken:function(t){return Pt("invalid_token",t)}};function Mt(n,i){return(i=i||{}).ignoreCasing=i.ignoreCasing||!1,function(t,e){var r;return t||e?(!t&&e.err&&(t=e.err,e=null),!t&&e.error&&(t=e,e=null),t?(r={original:t},Tt.updatePropertyOn(r,"original.response.req._data.password","*****"),t.response&&t.response.statusCode&&(r.statusCode=t.response.statusCode),t.response&&t.response.statusText&&(r.statusText=t.response.statusText),t.response&&t.response.body&&(t=t.response.body),t.err&&(t=t.err),r.code=t.code||t.error||t.error_code||t.status||null,r.description=t.errorDescription||t.error_description||t.description||t.error||t.details||t.err||null,i.forceLegacyError&&(r.error=r.code,r.error_description=r.description),t.error_codes&&t.error_details&&(r.errorDetails={codes:t.error_codes,details:t.error_details}),t.name&&(r.name=t.name),t.policy&&(r.policy=t.policy),n(r)):!e.type||"text/html"!==e.type&&"text/plain"!==e.type?i.ignoreCasing?n(null,e.body||e):n(null,Tt.toCamelCase(e.body||e,[],{keepOriginal:i.keepOriginalCasing})):n(null,e.text)):n(Rt.buildResponse("generic_error","Something went wrong"))}}var Bt=["realm","audience","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],Lt=["connection","connection_scope","auth0Client","owp","device","realm","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","screen_hint","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"];var Nt={oauthTokenParams:function(t,e){return Tt.pick(e,Bt)},oauthAuthorizeParams:function(t,e){var r=Tt.getKeysNotIn(e,Lt);return 0<r.length&&t.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+r.join(",")+"]"),e}},Ht="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Wt(t,e,r){return t(r={path:e,exports:{},require:function(t,e){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},r.exports),r.exports}var s=Wt(function(t,e){t.exports=function(){function u(t){return"function"==typeof t}var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,e=void 0,i=void 0,a=function(t,e){h[n]=t,h[n+1]=e,2===(n+=2)&&(i?i(l):m())},t="undefined"!=typeof window?window:void 0,o=t||{},s=o.MutationObserver||o.WebKitMutationObserver,c="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),o="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(l,1)}}var h=new Array(1e3);function l(){for(var t=0;t<n;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;n=0}var d,f,y,m=void 0;function g(t,e){var r=this,n=new this.constructor(w);void 0===n[b]&&j(n);var i,o=r._state;return o?(i=arguments[o-1],a(function(){return D(o,n,i,r._result)})):S(r,n,t,e),n}function v(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(w);return T(e,t),e}m=c?function(){return process.nextTick(l)}:s?(f=0,s=new s(l),y=document.createTextNode(""),s.observe(y,{characterData:!0}),function(){y.data=f=++f%2}):o?((d=new MessageChannel).port1.onmessage=l,function(){return d.port2.postMessage(0)}):(void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(l)}:p()}catch(t){return p()}}:p)();var b=Math.random().toString(36).substring(2);function w(){}function _(t,e,r){var i,o,n,s;e.constructor===t.constructor&&r===g&&e.constructor.resolve===v?(n=t,1===(s=e)._state?k(n,s._result):2===s._state?A(n,s._result):S(s,void 0,function(t){return T(n,t)},function(t){return A(n,t)})):void 0!==r&&u(r)?(i=e,o=r,a(function(r){var n=!1,t=function(t,e){try{t.call(e,function(t){n||(n=!0,(i!==t?T:k)(r,t))},function(t){n||(n=!0,A(r,t))})}catch(t){return t}}(o,i);!n&&t&&(n=!0,A(r,t))},t)):k(t,e)}function T(t,e){if(t===e)A(t,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof e,null===e||"object"!=n&&"function"!=n)k(t,e);else{var r=void 0;try{r=e.then}catch(e){return void A(t,e)}_(t,e,r)}var n}function O(t){t._onerror&&t._onerror(t._result),C(t)}function k(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&a(C,t))}function A(t,e){void 0===t._state&&(t._state=2,t._result=e,a(O,t))}function S(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+1]=r,i[o+2]=n,0===o&&t._state&&a(C,t)}function C(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n,i=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s+r],(n=e[s])?D(r,n,i,o):i(o);t._subscribers.length=0}}function D(t,e,r,n){var i=u(r),o=void 0,s=void 0,a=!0;if(i){try{o=r(n)}catch(t){a=!1,s=t}if(e===o)return void A(e,new TypeError("A promises callback cannot return that same promise."))}else o=n;void 0!==e._state||(i&&a?T(e,o):!1===a?A(e,s):1===t?k(e,o):2===t&&A(e,o))}var x=0;function j(t){t[b]=x++,t._state=void 0,t._result=void 0,t._subscribers=[]}var E=(U.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},U.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===v){var i,o=void 0,s=void 0,a=!1;try{o=e.then}catch(e){a=!0,s=e}o===g&&void 0!==e._state?this._settledAt(e._state,t,e._result):"function"!=typeof o?(this._remaining--,this._result[t]=e):r===q?(i=new r(w),a?A(i,s):_(i,e,o),this._willSettleAt(i,t)):this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},U.prototype._settledAt=function(t,e,r){var n=this.promise;void 0===n._state&&(this._remaining--,2===t?A(n,r):this._result[e]=r),0===this._remaining&&k(n,this._result)},U.prototype._willSettleAt=function(t,e){var r=this;S(t,void 0,function(t){return r._settledAt(1,e,t)},function(t){return r._settledAt(2,e,t)})},U),q=(I.prototype.catch=function(t){return this.then(null,t)},I.prototype.finally=function(e){var r=this.constructor;return u(e)?this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):this.then(e,e)},I);function I(t){this[b]=x++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof I?function(e,t){try{t(function(t){T(e,t)},function(t){A(e,t)})}catch(t){A(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function U(t,e){this._instanceConstructor=t,this.promise=new t(w),this.promise[b]||j(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&k(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}return q.prototype.then=g,q.all=function(t){return new E(this,t).promise},q.race=function(i){var o=this;return r(i)?new o(function(t,e){for(var r=i.length,n=0;n<r;n++)o.resolve(i[n]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},q.resolve=v,q.reject=function(t){var e=new this(w);return A(e,t),e},q._setScheduler=function(t){i=t},q._setAsap=function(t){a=t},q._asap=a,q.polyfill=function(){var t=void 0,e=(t=Ht).Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=q},q.Promise=q}()}),zt=Wt(function(t,e){var c,r,n,i,o,p,s,a,u,h,l;function d(){}t.exports=(c=Math,r=Object.create||function(t){return d.prototype=t,t=new d,d.prototype=null,t},i=(n={}).lib={},o=i.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},p=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++)e[n+o>>>2]|=(r[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else for(o=0;o<i;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=c.ceil(e/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4){var n=function(e){var r=987654321,n=4294967295;return function(){var t=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return t/=4294967296,(t+=.5)*(.5<c.random()?1:-1)}}(4294967296*(i||c.random())),i=987654071*n();e.push(4294967296*n()|0)}return new p.init(e,t)}}),t=n.enc={},s=t.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new p.init(r,e/2)}},a=t.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new p.init(r,e)}},u=t.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,r=e.words,n=e.sigBytes,i=this.blockSize,o=n/(4*i),s=(o=t?c.ceil(o):c.max((0|o)-this._minBufferSize,0))*i,n=c.min(4*s,n);if(s){for(var a=0;a<s;a+=i)this._doProcessBlock(r,a);var u=r.splice(0,s);e.sigBytes-=n}return new p.init(u,n)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),i.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(r){return function(t,e){return new r.init(e).finalize(t)}},_createHmacHelper:function(r){return function(t,e){return new l.HMAC.init(r,e).finalize(t)}}}),l=n.algo={},n)}),Vt=Wt(function(t,e){var s;t.exports=(s=zt,function(i){var t=s,e=t.lib,r=e.WordArray,n=e.Hasher,e=t.algo,o=[],f=[];!function(){function t(t){return 4294967296*(t-(0|t))|0}for(var e=2,r=0;r<64;)!function(t){for(var e=i.sqrt(t),r=2;r<=e;r++)if(!(t%r))return;return 1}(e)||(r<8&&(o[r]=t(i.pow(e,.5))),f[r]=t(i.pow(e,1/3)),r++),e++}();var y=[],e=e.SHA256=n.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],c=r[6],p=r[7],h=0;h<64;h++){h<16?y[h]=0|t[e+h]:(l=y[h-15],d=y[h-2],y[h]=((l<<25|l>>>7)^(l<<14|l>>>18)^l>>>3)+y[h-7]+((d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10)+y[h-16]);var l=n&i^n&o^i&o,d=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&c)+f[h]+y[h],p=c,c=u,u=a,a=s+d|0,s=o,o=i,i=n,n=d+(((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+l)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+p|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(64+n>>>9<<4)]=i.floor(r/4294967296),e[15+(64+n>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA256=n._createHelper(e),t.HmacSHA256=n._createHmacHelper(e)}(Math),s.SHA256)}),Ft=Wt(function(t,e){var u;t.exports=(u=(t=zt).lib.WordArray,t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var o=r.charAt(64);return!o||-1!==(o=t.indexOf(o))&&(e=o),function(t,e,r){for(var n,i,o=[],s=0,a=0;a<e;a++)a%4&&(n=r[t.charCodeAt(a-1)]<<a%4*2,i=r[t.charCodeAt(a)]>>>6-a%4*2,o[s>>>2]|=(n|i)<<24-s%4*8,s++);return u.create(o,s)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64)}),Jt=Wt(function(t,e){t.exports=zt.enc.Hex}),$t=Wt(function(E,t){(function(){function g(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function v(){return new g(null)}var t="undefined"!=typeof navigator,t=t&&"Microsoft Internet Explorer"==navigator.appName?(g.prototype.am=function(t,e,r,n,i,o){for(var s=32767&e,a=e>>15;0<=--o;){var u=32767&this[t],c=this[t++]>>15,p=a*u+c*s;i=((u=s*u+((32767&p)<<15)+r[n]+(1073741823&i))>>>30)+(p>>>15)+a*c+(i>>>30),r[n++]=1073741823&u}return i},30):t&&"Netscape"!=navigator.appName?(g.prototype.am=function(t,e,r,n,i,o){for(;0<=--o;){var s=e*this[t++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},26):(g.prototype.am=function(t,e,r,n,i,o){for(var s=16383&e,a=e>>14;0<=--o;){var u=16383&this[t],c=this[t++]>>14,p=a*u+c*s;i=((u=s*u+((16383&p)<<14)+r[n]+i)>>28)+(p>>14)+a*c,r[n++]=268435455&u}return i},28);g.prototype.DB=t,g.prototype.DM=(1<<t)-1,g.prototype.DV=1<<t,g.prototype.FV=Math.pow(2,52),g.prototype.F1=52-t,g.prototype.F2=2*t-52;for(var r=new Array,e="0".charCodeAt(0),n=0;n<=9;++n)r[e++]=n;for(e="a".charCodeAt(0),n=10;n<36;++n)r[e++]=n;for(e="A".charCodeAt(0),n=10;n<36;++n)r[e++]=n;function u(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function c(t,e){e=r[t.charCodeAt(e)];return null==e?-1:e}function m(t){var e=v();return e.fromInt(t),e}function b(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function w(t){this.m=t}function _(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function i(t,e){return t&e}function o(t,e){return t|e}function s(t,e){return t^e}function a(t,e){return t&~e}function p(){}function h(t){return t}function T(t){this.r2=v(),this.q3=v(),g.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}w.prototype.convert=function(t){return t.s<0||0<=t.compareTo(this.m)?t.mod(this.m):t},w.prototype.revert=function(t){return t},w.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},w.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},w.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},_.prototype.convert=function(t){var e=v();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&0<e.compareTo(g.ZERO)&&this.m.subTo(e,e),e},_.prototype.revert=function(t){var e=v();return t.copyTo(e),this.reduce(e),e},_.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)},_.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},_.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s},g.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},g.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;0<=--n;){var s=8==r?255&t[n]:c(t,n);s<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,0<o&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&g.ZERO.subTo(this,this)},g.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t},g.prototype.dlShiftTo=function(t,e){for(var r=this.t-1;0<=r;--r)e[r+t]=this[r];for(r=t-1;0<=r;--r)e[r]=0;e.t=this.t+t,e.s=this.s},g.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},g.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),s=this.s<<r&this.DM,a=this.t-1;0<=a;--a)e[a+o+1]=this[a]>>n|s,s=(this[a]&i)<<r;for(a=o-1;0<=a;--a)e[a]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()},g.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;0<n&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},g.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:0<n&&(e[r++]=n),e.t=r,e.clamp()},g.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;0<=--i;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&g.ZERO.subTo(e,e)},g.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;0<=--r;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},g.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=v());var o=v(),s=this.s,a=t.s,t=this.DB-b(n[n.t-1]);0<t?(n.lShiftTo(t,o),i.lShiftTo(t,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,c=o[u-1];if(0!=c){var i=c*(1<<this.F1)+(1<u?o[u-2]>>this.F2:0),p=this.FV/i,h=(1<<this.F1)/i,l=1<<this.F2,d=r.t,f=d-u,y=null==e?v():e;for(o.dlShiftTo(f,y),0<=r.compareTo(y)&&(r[r.t++]=1,r.subTo(y,r)),g.ONE.dlShiftTo(u,y),y.subTo(o,o);o.t<u;)o[o.t++]=0;for(;0<=--f;){var m=r[--d]==c?this.DM:Math.floor(r[d]*p+(r[d-1]+l)*h);if((r[d]+=o.am(0,m,r,f,0,u))<m)for(o.dlShiftTo(f,y),r.subTo(y,r);r[d]<--m;)r.subTo(y,r)}null!=e&&(r.drShiftTo(u,e),s!=a&&g.ZERO.subTo(e,e)),r.t=u,r.clamp(),0<t&&r.rShiftTo(t,r),s<0&&g.ZERO.subTo(r,r)}}},g.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},g.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},g.prototype.exp=function(t,e){if(4294967295<t||t<1)return g.ONE;var r,n=v(),i=v(),o=e.convert(this),s=b(t)-1;for(o.copyTo(n);0<=--s;)e.sqrTo(n,i),0<(t&1<<s)?e.mulTo(i,o,n):(r=n,n=i,i=r);return e.revert(n)},g.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(0<s--)for(a<this.DB&&0<(r=this[s]>>a)&&(i=!0,o=u(r));0<=s;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),0<r&&(i=!0),i&&(o+=u(r));return i?o:"0"},g.prototype.negate=function(){var t=v();return g.ZERO.subTo(this,t),t},g.prototype.abs=function(){return this.s<0?this.negate():this},g.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;0<=--r;)if(0!=(e=this[r]-t[r]))return e;return 0},g.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+b(this[this.t-1]^this.s&this.DM)},g.prototype.mod=function(t){var e=v();return this.abs().divRemTo(t,null,e),this.s<0&&0<e.compareTo(g.ZERO)&&t.subTo(e,e),e},g.prototype.modPowInt=function(t,e){e=new(t<256||e.isEven()?w:_)(e);return this.exp(t,e)},g.ZERO=m(0),g.ONE=m(1),p.prototype.convert=h,p.prototype.revert=h,p.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},p.prototype.sqrTo=function(t,e){t.squareTo(e)},T.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=v();return t.copyTo(e),this.reduce(e),e},T.prototype.revert=function(t){return t},T.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);0<=t.compareTo(this.m);)t.subTo(this.m,t)},T.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},T.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var l,d=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],f=(1<<26)/d[d.length-1];function y(){var t=(new Date).getTime();O[k++]^=255&t,O[k++]^=t>>8&255,O[k++]^=t>>16&255,O[k++]^=t>>24&255,j<=k&&(k-=j)}if(g.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},g.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||36<t)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=m(r),i=v(),o=v(),s="";for(this.divRemTo(n,i,o);0<i.signum();)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s},g.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,s=0,a=0;a<t.length;++a){var u=c(t,a);u<0?"-"==t.charAt(a)&&0==this.signum()&&(i=!0):(s=e*s+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),s=o=0))}0<o&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&g.ZERO.subTo(this,this)},g.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(g.ONE.shiftLeft(t-1),o,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(g.ONE.shiftLeft(t-1),this);else{var n=new Array,r=7&t;n.length=1+(t>>3),e.nextBytes(n),0<r?n[0]&=(1<<r)-1:n[0]=0,this.fromString(n,256)}},g.prototype.bitwiseTo=function(t,e,r){for(var n,i=Math.min(t.t,this.t),o=0;o<i;++o)r[o]=e(this[o],t[o]);if(t.t<this.t){for(n=t.s&this.DM,o=i;o<this.t;++o)r[o]=e(this[o],n);r.t=this.t}else{for(n=this.s&this.DM,o=i;o<t.t;++o)r[o]=e(n,t[o]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},g.prototype.changeBit=function(t,e){t=g.ONE.shiftLeft(t);return this.bitwiseTo(t,e,t),t},g.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,0<n?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},g.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},g.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},g.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;0<i;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},g.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;0<=--n;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},g.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(0<this.t)if(0==e)r=this[0]%t;else for(var n=this.t-1;0<=n;--n)r=(e*r+this[n])%t;return r},g.prototype.millerRabin=function(t){var e=this.subtract(g.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);(t=t+1>>1)>d.length&&(t=d.length);for(var i=v(),o=0;o<t;++o){i.fromInt(d[Math.floor(Math.random()*d.length)]);var s=i.modPow(n,this);if(0!=s.compareTo(g.ONE)&&0!=s.compareTo(e)){for(var a=1;a++<r&&0!=s.compareTo(e);)if(0==(s=s.modPowInt(2,this)).compareTo(g.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},g.prototype.clone=function(){var t=v();return this.copyTo(t),t},g.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},g.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},g.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},g.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},g.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(0<t--)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);0<=t;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(0<i||r!=this.s)&&(e[i++]=r);return e},g.prototype.equals=function(t){return 0==this.compareTo(t)},g.prototype.min=function(t){return this.compareTo(t)<0?this:t},g.prototype.max=function(t){return 0<this.compareTo(t)?this:t},g.prototype.and=function(t){var e=v();return this.bitwiseTo(t,i,e),e},g.prototype.or=function(t){var e=v();return this.bitwiseTo(t,o,e),e},g.prototype.xor=function(t){var e=v();return this.bitwiseTo(t,s,e),e},g.prototype.andNot=function(t){var e=v();return this.bitwiseTo(t,a,e),e},g.prototype.not=function(){for(var t=v(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},g.prototype.shiftLeft=function(t){var e=v();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},g.prototype.shiftRight=function(t){var e=v();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},g.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+function(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}(this[t]);return this.s<0?this.t*this.DB:-1},g.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=function(t){for(var e=0;0!=t;)t&=t-1,++e;return e}(this[r]^e);return t},g.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},g.prototype.setBit=function(t){return this.changeBit(t,o)},g.prototype.clearBit=function(t){return this.changeBit(t,a)},g.prototype.flipBit=function(t){return this.changeBit(t,s)},g.prototype.add=function(t){var e=v();return this.addTo(t,e),e},g.prototype.subtract=function(t){var e=v();return this.subTo(t,e),e},g.prototype.multiply=function(t){var e=v();return this.multiplyTo(t,e),e},g.prototype.divide=function(t){var e=v();return this.divRemTo(t,e,null),e},g.prototype.remainder=function(t){var e=v();return this.divRemTo(t,null,e),e},g.prototype.divideAndRemainder=function(t){var e=v(),r=v();return this.divRemTo(t,e,r),new Array(e,r)},g.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),o=m(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=new(i<8?w:e.isEven()?T:_)(e);var s=new Array,a=3,u=r-1,c=(1<<r)-1;if(s[1]=n.convert(this),1<r){var p=v();for(n.sqrTo(s[1],p);a<=c;)s[a]=v(),n.mulTo(p,s[a-2],s[a]),a+=2}for(var h,l,d=t.t-1,f=!0,y=v(),i=b(t[d])-1;0<=d;){for(u<=i?h=t[d]>>i-u&c:(h=(t[d]&(1<<i+1)-1)<<u-i,0<d&&(h|=t[d-1]>>this.DB+i-u)),a=r;0==(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--d),f)s[h].copyTo(o),f=!1;else{for(;1<a;)n.sqrTo(o,y),n.sqrTo(y,o),a-=2;0<a?n.sqrTo(o,y):(l=o,o=y,y=l),n.mulTo(y,s[h],o)}for(;0<=d&&0==(t[d]&1<<i);)n.sqrTo(o,y),l=o,o=y,y=l,--i<0&&(i=this.DB-1,--d)}return n.revert(o)},g.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return g.ZERO;for(var r=t.clone(),n=this.clone(),i=m(1),o=m(0),s=m(0),a=m(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);0<=r.compareTo(n)?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(a,o)):(n.subTo(r,n),e&&s.subTo(i,s),a.subTo(o,a))}return 0!=n.compareTo(g.ONE)?g.ZERO:0<=a.compareTo(t)?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a},g.prototype.pow=function(t){return this.exp(t,new p)},g.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();e.compareTo(r)<0&&(i=e,e=r,r=i);var n=e.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return e;for(n<i&&(i=n),0<i&&(e.rShiftTo(i,e),r.rShiftTo(i,r));0<e.signum();)0<(n=e.getLowestSetBit())&&e.rShiftTo(n,e),0<(n=r.getLowestSetBit())&&r.rShiftTo(n,r),0<=e.compareTo(r)?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return 0<i&&r.lShiftTo(i,r),r},g.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=d[d.length-1]){for(e=0;e<d.length;++e)if(r[0]==d[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<d.length;){for(var n=d[e],i=e+1;i<d.length&&n<f;)n*=d[i++];for(n=r.modInt(n);e<i;)if(n%d[e++]==0)return!1}return r.millerRabin(t)},g.prototype.square=function(){var t=v();return this.squareTo(t),t},g.prototype.Barrett=T,null==O){var O=new Array,k=0;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var A=new Uint8Array(32);for(window.crypto.getRandomValues(A),C=0;C<32;++C)O[k++]=A[C]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5")for(var S=window.crypto.random(32),C=0;C<S.length;++C)O[k++]=255&S.charCodeAt(C);for(;k<j;)C=Math.floor(65536*Math.random()),O[k++]=C>>>8,O[k++]=255&C;k=0,y()}function D(){}function x(){this.i=0,this.j=0,this.S=new Array}D.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=function(){if(null==l){for(y(),(l=new x).init(O),k=0;k<O.length;++k)O[k]=0;k=0}return l.next()}()},x.prototype.init=function(t){for(var e,r,n=0;n<256;++n)this.S[n]=n;for(n=e=0;n<256;++n)r=this.S[n],this.S[n]=this.S[e=e+this.S[n]+t[n%t.length]&255],this.S[e]=r;this.i=0,this.j=0},x.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var j=256;E.exports={default:g,BigInteger:g,SecureRandom:D}}).call(Ht)}),Xt={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},Qt={sha256:Vt};function Zt(t,e){if(this.n=null,this.e=0,!(null!=t&&null!=e&&0<t.length&&0<e.length))throw new Error("Invalid key data");this.n=new $t.BigInteger(t,16),this.e=parseInt(e,16)}Zt.prototype.verify=function(t,e){e=e.replace(/[^0-9a-f]|[\s\n]]/gi,"");e=new $t.BigInteger(e,16);if(e.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");e=function(t){for(var e in Xt){var r=Xt[e],n=r.length;if(t.substring(0,n)===r)return{alg:e,hash:t.substring(n)}}return[]}(e.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(0===e.length)return!1;if(!Qt.hasOwnProperty(e.alg))throw new Error("Hashing algorithm is not supported.");t=Qt[e.alg](t).toString();return e.hash===t};for(var Kt=[],Gt=[],Yt="undefined"!=typeof Uint8Array?Uint8Array:Array,te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ee=0,re=te.length;ee<re;++ee)Kt[ee]=te[ee],Gt[te.charCodeAt(ee)]=ee;Gt["-".charCodeAt(0)]=62,Gt["_".charCodeAt(0)]=63;function ne(t){for(var e,r=(n=function(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return-1===t&&(t=e),[t,t===e?0:4-t%4]}(t))[0],n=n[1],i=new Yt(3*(r+n)/4-n),o=0,s=0<n?r-4:r,a=0;a<s;a+=4)e=Gt[t.charCodeAt(a)]<<18|Gt[t.charCodeAt(a+1)]<<12|Gt[t.charCodeAt(a+2)]<<6|Gt[t.charCodeAt(a+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=255&e;return 2===n&&(e=Gt[t.charCodeAt(a)]<<2|Gt[t.charCodeAt(a+1)]>>4,i[o++]=255&e),1===n&&(e=Gt[t.charCodeAt(a)]<<10|Gt[t.charCodeAt(a+1)]<<4|Gt[t.charCodeAt(a+2)]>>2,i[o++]=e>>8&255,i[o++]=255&e),i}function ie(t){var e=t.length%4;return 0==e?t:t+new Array(4-e+1).join("=")}function oe(t){return t=ie(t).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}(ne(t)).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function se(t){return function(t){for(var e="",r=0;r<t.length;r++){var n=t[r].toString(16);e+=2===n.length?n:"0"+n}return e}(ne(ie(t)))}var ae=Wt(function(t){var e=Ht,r=function(){return function(){return function(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);t[0].match(/^[^/:]+:\/*$/)&&1<t.length&&(i=t.shift(),t[0]=i+t[0]),t[0]=t[0].match(/^file:\/\/\//)?t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var n=t[r];if("string"!=typeof n)throw new TypeError("Url must be a string. Received "+n);""!==n&&(0<r&&(n=n.replace(/^[\/]+/,"")),n=n.replace(/[\/]+$/,r<t.length-1?"":"/"),e.push(n))}var i=e.join("/").replace(/\/(\?|&|#[^!])/g,"$1").split("?");return i.shift()+(0<i.length?"?":"")+i.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}};t.exports?t.exports=r():e.urljoin=r()});function ue(t){if(t.ok)return t.json();var e=new Error(t.statusText);return e.response=t,Promise.reject(e)}function ce(t){this.name="ConfigurationError",this.message=t||""}function pe(t){this.name="TokenValidationError",this.message=t||""}ce.prototype=Error.prototype,pe.prototype=Error.prototype;var he=((O=le.prototype).get=function(){return null},O.has=function(){return null},O.set=function(){return null},le);function le(){}s.polyfill();function de(t){return"number"==typeof t}function fe(){return new Date}function ye(t){t=t||{};if(this.jwksCache=t.jwksCache||new he,this.expectedAlg=t.expectedAlg||"RS256",this.issuer=t.issuer,this.audience=t.audience,this.leeway=0===t.leeway?0:t.leeway||60,this.jwksURI=t.jwksURI,this.maxAge=t.maxAge,this.__clock="function"==typeof t.__clock?t.__clock:fe,this.leeway<0||300<this.leeway)throw new ce("The leeway should be positive and lower than five minutes.");if("RS256"!==this.expectedAlg)throw new ce('Signature algorithm of "'+this.expectedAlg+'" is not supported. Expected the ID token to be signed with "RS256".')}function me(t,e){this.plugins=e;for(var r=0;r<this.plugins.length;r++){if(this.plugins[r].version!==pt.raw){var n="";throw this.plugins[r].constructor&&this.plugins[r].constructor.name&&(n=this.plugins[r].constructor.name),new Error("Plugin "+n+" version ("+this.plugins[r].version+") is not compatible with the SDK version ("+pt.raw+")")}this.plugins[r].setWebAuth(t)}}ye.prototype.verify=function(t,i,o){if(!t)return o(new pe("ID token is required but missing"),!1);var s=this.decode(t);if(s instanceof Error)return o(new pe("ID token could not be decoded"),!1);var a=s.encoded.header+"."+s.encoded.payload,u=se(s.encoded.signature),e=s.header.alg,t=s.header.kid,c=s.payload.aud,p=s.payload.sub,h=s.payload.iss,l=s.payload.exp,d=s.payload.nbf,f=s.payload.iat,y=s.payload.azp,m=s.payload.auth_time,g=s.payload.nonce,v=this.__clock(),b=this;if(b.expectedAlg!==e)return o(new pe('Signature algorithm of "'+e+'" is not supported. Expected the ID token to be signed with "RS256".'),!1);this.getRsaVerifier(h,t,function(t,e){if(t)return o(t);if(!e.verify(a,u))return o(new pe("Invalid ID token signature."));if(!h||"string"!=typeof h)return o(new pe("Issuer (iss) claim must be a string present in the ID token"));if(b.issuer!==h)return o(new pe('Issuer (iss) claim mismatch in the ID token, expected "'+b.issuer+'", found "'+h+'"'),!1);if(!p||"string"!=typeof p)return o(new pe("Subject (sub) claim must be a string present in the ID token"),!1);if(!c||"string"!=typeof c&&!Array.isArray(c))return o(new pe("Audience (aud) claim must be a string or array of strings present in the ID token"));if(Array.isArray(c)&&!c.includes(b.audience))return o(new pe('Audience (aud) claim mismatch in the ID token; expected "'+b.audience+'" but was not one of "'+c.join(", ")+'"'));if("string"==typeof c&&b.audience!==c)return o(new pe('Audience (aud) claim mismatch in the ID token; expected "'+b.audience+'" but found "'+c+'"'),!1);if(i){if(!g||"string"!=typeof g)return o(new pe("Nonce (nonce) claim must be a string present in the ID token"),!1);if(g!==i)return o(new pe('Nonce (nonce) claim value mismatch in the ID token; expected "'+i+'", found "'+g+'"'),!1)}if(Array.isArray(c)&&1<c.length){if(!y||"string"!=typeof y)return o(new pe("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values"));if(y!==b.audience)return o(new pe('Authorized Party (azp) claim mismatch in the ID token; expected "'+b.audience+'", found "'+y+'"'))}if(!l||!de(l))return o(new pe("Expiration Time (exp) claim must be a number present in the ID token"));if(!f||!de(f))return o(new pe("Issued At (iat) claim must be a number present in the ID token"));t=l+b.leeway,e=new Date(0);if(e.setUTCSeconds(t),e<v)return o(new pe('Expiration Time (exp) claim error in the ID token; current time "'+v+'" is after expiration time "'+e+'"'));if(d&&de(d)){var r=d-b.leeway,n=new Date(0);if(n.setUTCSeconds(r),v<n)return o(new pe('Not Before Time (nbf) claim error in the ID token; current time "'+v+'" is before the not before time "'+n+'"'))}if(b.maxAge){if(!m||!de(m))return o(new pe("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified"));r=m+b.maxAge+b.leeway,n=new Date(0);if(n.setUTCSeconds(r),n<v)return o(new pe('Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time "'+v+'" is after last auth time at "'+n+'"'))}return o(null,s.payload)})},ye.prototype.getRsaVerifier=function(e,r,n){var i=this,s=e+r;Promise.resolve(this.jwksCache.has(s)).then(function(t){return t?i.jwksCache.get(s):(o={jwksURI:i.jwksURI,iss:e,kid:r},("undefined"==typeof fetch?function(u,c){return c=c||{},new Promise(function(t,e){var r,n=new XMLHttpRequest,i=[],o=[],s={},a=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:a,headers:{keys:function(){return i},entries:function(){return o},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(r in n.open(c.method||"get",u,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(t,e,r){i.push(e=e.toLowerCase()),o.push([e,r]),s[e]=s[e]?s[e]+","+r:r}),t(a())},n.onerror=e,n.withCredentials="include"==c.credentials,c.headers)n.setRequestHeader(r,c.headers[r]);n.send(c.body||null)})}:fetch)(o.jwksURI||ae(o.iss,".well-known","jwks.json")).then(ue).then(function(t){for(var e,r,n=null,i=0;i<t.keys.length&&null===n;i++)(e=t.keys[i]).kid===o.kid&&(n=e);return n?{modulus:se((r=n).n),exp:se(r.e)}:(void 0)(new Error('Could not find a public key for Key ID (kid) "'+o.kid+'"'))}).catch(function(t){throw t}));var o}).then(function(t){if(!t||!t.modulus||!t.exp)throw new Error("Empty keyInfo in response");return Promise.resolve(i.jwksCache.set(s,t)).then(function(){n&&n(null,new Zt(t.modulus,t.exp))})}).catch(function(t){n&&n(t)})},ye.prototype.decode=function(t){var e,r,n=t.split(".");if(3!==n.length)return new pe("Cannot decode a malformed JWT");try{e=JSON.parse(oe(n[0])),r=JSON.parse(oe(n[1]))}catch(t){return new pe("Token header or payload is not valid JSON")}return{header:e,payload:r,encoded:{header:n[0],payload:n[1],signature:n[2]}}},ye.prototype.validateAccessToken=function(t,e,r,n){if(this.expectedAlg!==e)return n(new pe('Signature algorithm of "'+e+'" is not supported. Expected "'+this.expectedAlg+'"'));var i,t=Vt(t),t=Jt.stringify(t),t=t.substring(0,t.length/2),t=Jt.parse(t),t=Ft.stringify(t);return n((i={"+":"-","/":"_","=":""},t.replace(/[+/=]/g,function(t){return i[t]})!==r?new pe("Invalid access_token"):null))},me.prototype.get=function(t){for(var e=0;e<this.plugins.length;e++)if(this.plugins[e].supports(t))return this.plugins[e].init();return null};var ge={randomString:function(t){var e=new Uint8Array(t),r=[],n="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~";if(!(t=Ct.getWindow().crypto||Ct.getWindow().msCrypto))return null;for(var i=t.getRandomValues(e),o=0;o<i.length;o++)r.push(n[i[o]%n.length]);return r.join("")}},ve="com.auth0.auth.";function be(t){var e=t.transaction||{};this.namespace=e.namespace||ve,this.keyLength=e.keyLength||32,this.storage=new It(t),this.options=t}function we(t){if(this.url=t.url,this.callback=t.callback,this.timeout=t.timeout||6e4,this.timeoutCallback=t.timeoutCallback||null,this.eventListenerType=t.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=t.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw new Error("options.callback must be a function")}function _e(t){this.webAuth=t,this.warn=new Et(t.baseOptions)}function Te(t,e){this.webAuth=t,this.baseOptions=e,this.request=new At(e),this.webMessageHandler=new _e(t),this.storage=new It(e)}function Oe(t,e){return["co/verifier",encodeURIComponent(t),encodeURIComponent(e)].join("/")}function ke(t,e){this.webAuth=t,this.baseOptions=e,this.crossOriginAuthentication=new Te(t,this.baseOptions),this.warn=new Et({disableWarnings:!!e._disableDeprecationWarnings})}be.prototype.process=function(t){if(!t.responseType)throw new Error("responseType is required");var e=t.realm||t.connection,r=-1!==t.responseType.indexOf("id_token"),e=this.generateTransaction(t.appState,t.state,t.nonce,e,r);return t.state||(t.state=e.state),r&&!t.nonce&&(t.nonce=e.nonce),t},be.prototype.generateTransaction=function(t,e,r,n,i){return e=e||ge.randomString(this.keyLength),r=r||(i?ge.randomString(this.keyLength):null),Ct.getWindow().location.host===this.options.domain||this.storage.setItem(this.namespace+e,{nonce:r,appState:t,state:e,lastUsedConnection:n},{expires:1/48}),{state:e,nonce:r}},be.prototype.getStoredTransaction=function(t){var e=this.storage.getItem(this.namespace+t);return this.clearTransaction(t),e},be.prototype.clearTransaction=function(t){this.storage.removeItem(this.namespace+t)},we.prototype.init=function(){var e=this,t=Ct.getWindow();switch(this.iframe=t.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(t){e.eventListener(t)},this.eventListenerType){case"message":this.eventSourceObject=t;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),t.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout(function(){e.timeoutHandler()},this.timeout)},we.prototype.eventListener=function(t){t={event:t,sourceObject:this.eventSourceObject};this.eventValidator.isValid(t)&&(this.destroy(),this.callback(t))},we.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},we.prototype.destroy=function(){var t=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){t.eventSourceObject.removeEventListener(t.eventListenerType,t.proxyEventListener,!1),t.iframe.parentNode&&t.iframe.parentNode.removeChild(t.iframe)},0)},_e.prototype.run=function(n,i){var o=this;n.responseMode="web_message",n.prompt="none";var e,r,t=Ct.getOrigin(),s=Tt.getOriginFromUrl(n.redirectUri);if(s&&t!==s)return i({error:"origin_mismatch",error_description:"The redirectUri's origin ("+s+") should match the window's origin ("+t+")."});t=this.webAuth.client.buildAuthorizeUrl(n),r=function(t,e){var r=t;if(!t&&e.event.data.response.error&&(r=e.event.data.response),r)return"consent_required"===r.error&&"localhost"===Ct.getWindow().location.hostname&&o.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),o.webAuth.transactionManager.clearTransaction(r.state),i(Tt.pick(r,["error","error_description"]));e=e.event.data.response;return o.webAuth.validateAuthenticationResponse(n,e,i)},new we({url:t,eventListenerType:"message",callback:function(t){r(null,t)},timeout:(e=n).timeout,eventValidator:{isValid:function(t){return"authorization_response"===t.event.data.type&&e.state===t.event.data.response.state}},timeoutCallback:function(){r({error:"timeout",error_description:"Timeout during executing web_message communication",state:e.state})}}).init()},Te.prototype.login=function(i,o){var s=this,t=a(this.baseOptions.rootUrl,"/co/authenticate");i.username=i.username||i.email,delete i.email;var e={client_id:i.clientID||this.baseOptions.clientID,username:i.username};i.password&&(e.password=i.password),i.otp&&(e.otp=i.otp);var r,n=i.realm||this.baseOptions.realm;n?(r=i.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm",e.realm=n,e.credential_type=r):e.credential_type="password",this.request.post(t).withCredentials().send(e).end(function(t,e){if(t){var r=t.response&&t.response.body||{error:"request_error",error_description:JSON.stringify(t)};return Mt(o,{forceLegacyError:!0})(r)}var n=!0===i.popup;i=Tt.blacklist(i,["password","credentialType","otp","popup"]);t=Tt.merge(i).with({loginTicket:e.body.login_ticket}),r=Oe(s.baseOptions.rootUrl,e.body.co_id);s.storage.setItem(r,e.body.co_verifier,{expires:1/96}),n?s.webMessageHandler.run(t,Mt(o,{forceLegacyError:!0})):s.webAuth.authorize(t)})},Te.prototype.callback=function(){var t=decodeURIComponent(function(t){if(2===(t=("&"+Ct.getWindow().location.hash.substring(1)).split("&"+t+"=")).length)return t.pop().split("&").shift()}("origin")),e=Ct.getWindow(),r=this;e.addEventListener("message",function(t){var e;"co_verifier_request"===t.data.type&&(e=Oe(t.origin,t.data.request.id),e=function(t,e){try{var r=t.getItem(e);return t.removeItem(e),r||""}catch(t){return""}}(r.storage,e),t.source.postMessage({type:"co_verifier_response",response:{verifier:e}},t.origin))}),e.parent.postMessage({type:"ready"},t)},ke.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,delete t.connection,this.crossOriginAuthentication.login(t,e)},ke.prototype.signupAndLogin=function(e,r){var n=this;return this.webAuth.client.dbConnection.signup(e,function(t){return t?r(t):(e.realm=e.realm||e.connection,delete e.connection,n.webAuth.login(e,r))})};var Ae=e(function(t){var h,l,e=(h="__winchan_relay_frame",l=function(){if("undefined"==typeof navigator)return!1;var t=-1,e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)):-1<e.indexOf("Trident")&&null!==new RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)),8<=t}(),"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(t,r){if(!r)throw"missing required callback argument";var e,n;t.url||(e="missing required 'url' parameter"),t.relay_url||(e="missing required 'relay_url' parameter"),e&&setTimeout(function(){r(e)},0),t.window_name||(t.window_name=null),t.window_features&&!function(){try{var t=navigator.userAgent;return-1!=t.indexOf("Fennec/")||-1!=t.indexOf("Firefox/")&&-1!=t.indexOf("Android")}catch(t){}}()||(t.window_features=void 0);var i,o=t.origin||y(t.url);if(o!==y(t.relay_url))return setTimeout(function(){r("invalid arguments: origin of url and relay_url must match")},0);l&&((n=document.createElement("iframe")).setAttribute("src",t.relay_url),n.style.display="none",n.setAttribute("name",h),document.body.appendChild(n),i=n.contentWindow);var s=t.popup||window.open(t.url,t.window_name,t.window_features);t.popup&&(s.location.href=t.url),i=i||s;var a=setInterval(function(){s&&s.closed&&(c(),r&&(r("User closed the popup window"),r=null))},500),u=JSON.stringify({a:"request",d:t.params});function c(){if(n&&document.body.removeChild(n),n=void 0,a=a&&clearInterval(a),f(window,"message",p),f(window,"unload",c),s)try{s.close()}catch(t){i.postMessage("die",o)}s=i=void 0}function p(t){if(t.origin===o){try{var e=JSON.parse(t.data)}catch(t){if(r)return r(t);throw t}"ready"===e.a?i.postMessage(u,o):"error"===e.a?(c(),r&&(r(e.d),r=null)):"response"===e.a&&(c(),r&&(r(null,e.d),r=null))}}return d(window,"unload",c),d(window,"message",p),{originalPopup:s,close:c,focus:function(){if(s)try{s.focus()}catch(t){}}}},onOpen:function(n){var i="*",e=l?function(){for(var t=window.opener.frames,e=t.length-1;0<=e;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&t[e].name===h)return t[e]}catch(t){}}():window.opener;if(!e)throw"can't find relay frame";function o(t){t=JSON.stringify(t),l?e.doPost(t,i):e.postMessage(t,i)}function t(t){if("die"===t.data)try{window.close()}catch(t){}}d(l?e:window,"message",function t(e){var r;try{r=JSON.parse(e.data)}catch(t){}r&&"request"===r.a&&(f(window,"message",t),i=e.origin,n&&setTimeout(function(){n(i,r.d,function(t){n=void 0,o({a:"response",d:t})})},0))}),d(l?e:window,"message",t);try{o({a:"ready"})}catch(t){d(e,"load",function(t){o({a:"ready"})})}function r(){try{f(l?e:window,"message",t)}catch(t){}n&&o({a:"error",d:"client closed window"}),n=void 0;try{window.close()}catch(t){}}return d(window,"unload",r),{detach:function(){f(window,"unload",r)}}}}:{open:function(t,e,r,n){setTimeout(function(){n("unsupported browser")},0)},onOpen:function(t){setTimeout(function(){t("unsupported browser")},0)}});function d(t,e,r){t.attachEvent?t.attachEvent("on"+e,r):t.addEventListener&&t.addEventListener(e,r,!1)}function f(t,e,r){t.detachEvent?t.detachEvent("on"+e,r):t.removeEventListener&&t.removeEventListener(e,r,!1)}function y(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}t.exports&&(t.exports=e)});var Se={extractOrigin:function(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(t);return e?e[1]:t}};function Ce(){this._current_popup=null}function De(t,e){this.baseOptions=e,this.baseOptions.popupOrigin=e.popupOrigin,this.client=t.client,this.webAuth=t,this.transactionManager=new be(this.baseOptions),this.crossOriginAuthentication=new Te(t,this.baseOptions),this.warn=new Et({disableWarnings:!!e._disableDeprecationWarnings})}function xe(t){this.authenticationUrl=t.authenticationUrl,this.timeout=t.timeout||6e4,this.handler=null,this.postMessageDataType=t.postMessageDataType||!1,this.postMessageOrigin=t.postMessageOrigin||Ct.getWindow().location.origin||Ct.getWindow().location.protocol+"//"+Ct.getWindow().location.hostname+(Ct.getWindow().location.port?":"+Ct.getWindow().location.port:"")}function je(t){this.baseOptions=t,this.request=new At(t),this.transactionManager=new be(this.baseOptions)}function Ee(t,e){this.baseOptions=e,this.client=t,this.baseOptions.universalLoginPage=!0,this.request=new At(this.baseOptions),this.warn=new Et({disableWarnings:!!e._disableDeprecationWarnings})}Ce.prototype.calculatePosition=function(t){var e=t.width||500,r=t.height||600,n=Ct.getWindow(),i=void 0!==n.screenX?n.screenX:n.screenLeft,o=void 0!==n.screenY?n.screenY:n.screenTop,s=void 0!==n.outerWidth?n.outerWidth:n.document.body.clientWidth,n=void 0!==n.outerHeight?n.outerHeight:n.document.body.clientHeight;return{width:e,height:r,left:t.left||i+(s-e)/2,top:t.top||o+(n-r)/2}},Ce.prototype.preload=function(t){var e=this,r=Ct.getWindow(),n=this.calculatePosition(t.popupOptions||{}),n=Tt.merge(n).with(t.popupOptions),t=t.url||"about:blank",n=x(n,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=r.open(t,"auth0_signup_popup",n),this._current_popup.kill=function(){this.close(),e._current_popup=null}),this._current_popup},Ce.prototype.load=function(t,e,r,n){var i=this,o=this.calculatePosition(r.popupOptions||{}),o=Tt.merge(o).with(r.popupOptions),r=Tt.merge({url:t,relay_url:e,window_features:x(o,{delimiter:",",encode:!1}),popup:this._current_popup}).with(r),r=Ae.open(r,function(t,e){if(!t||"SyntaxError"!==t.name)return i._current_popup=null,n(t,e)});return r.focus(),r},De.prototype.buildPopupHandler=function(){var t=this.baseOptions.plugins.get("popup.getPopupHandler");return t?t.getPopupHandler():new Ce},De.prototype.preload=function(t){t=t||{};var e=this.buildPopupHandler();return e.preload(t),e},De.prototype.getPopupHandler=function(t,e){return t.popupHandler||(e?this.preload(t):this.buildPopupHandler())},De.prototype.callback=function(n){var i=this,e=Ct.getWindow(),o=(n=n||{}).popupOrigin||this.baseOptions.popupOrigin||Ct.getOrigin();e.opener?Ae.onOpen(function(t,e,r){return t!==o?r({error:"origin_mismatch",error_description:"The popup's origin ("+t+") should match the `popupOrigin` parameter ("+o+")."}):void i.webAuth.parseHash(n||{},function(t,e){return r(t||e)})}):e.doPost=function(t){e.parent&&e.parent.postMessage(t,o)}},De.prototype.authorize=function(t,e){var r,n={},i=this.baseOptions.plugins.get("popup.authorize"),o=Tt.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce"]).with(Tt.blacklist(t,["popupHandler"]));return yt.check(o,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=a(this.baseOptions.rootUrl,"relay.html"),t.owp?o.owp=!0:(n.origin=Se.extractOrigin(o.redirectUri),r=o.redirectUri),t.popupOptions&&(n.popupOptions=Tt.pick(t.popupOptions,["width","height","top","left"])),i&&(o=i.processParams(o)),(o=this.transactionManager.process(o)).scope=o.scope||"openid profile email",delete o.domain,o=this.client.buildAuthorizeUrl(o),this.getPopupHandler(t).load(o,r,n,Mt(e,{keepOriginalCasing:!0}))},De.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,t.popup=!0,t=Tt.merge(this.baseOptions,["redirectUri","responseType","state","nonce"]).with(Tt.blacklist(t,["popupHandler","connection"])),t=this.transactionManager.process(t),this.crossOriginAuthentication.login(t,e)},De.prototype.passwordlessVerify=function(e,r){var n=this;return this.client.passwordless.verify(Tt.blacklist(e,["popupHandler"]),function(t){return t?r(t):(e.username=e.phoneNumber||e.email,e.password=e.verificationCode,delete e.email,delete e.phoneNumber,delete e.verificationCode,delete e.type,void n.client.loginWithResourceOwner(e,r))})},De.prototype.signupAndLogin=function(e,r){var n=this;return this.client.dbConnection.signup(e,function(t){return t?r(t):void n.loginWithCredentials(e,r)})},xe.create=function(t){return new xe(t)},xe.prototype.login=function(t,e){this.handler=new we({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:t?"message":"load",callback:this.getCallbackHandler(e,t),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){e(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:t||!1}),this.handler.init()},xe.prototype.getEventValidator=function(){var e=this;return{isValid:function(t){switch(t.event.type){case"message":return t.event.origin!==e.postMessageOrigin||t.event.source!==e.handler.iframe.contentWindow?!1:!1===e.postMessageDataType||t.event.data.type&&t.event.data.type===e.postMessageDataType;case"load":if("about:"===t.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},xe.prototype.getCallbackHandler=function(e,r){return function(t){t=r?"object"==typeof t.event.data&&t.event.data.hash?t.event.data.hash:t.event.data:t.sourceObject.contentWindow.location.hash;e(null,t)}},je.prototype.login=function(t,e){var r=a(this.baseOptions.rootUrl,"usernamepassword","login");return t.username=t.username||t.email,t=Tt.blacklist(t,["email"]),t=Tt.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(t),t=this.transactionManager.process(t),t=Tt.toSnakeCase(t,["auth0Client"]),this.request.post(r).send(t).end(Mt(e))},je.prototype.callback=function(t){var e=Ct.getDocument(),r=e.createElement("div");r.innerHTML=t,e.body.appendChild(r).children[0].submit()},Ee.prototype.login=function(t,r){if(Ct.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var n,t=Tt.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return yt.check(t,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(n=new je(this.baseOptions)).login(t,function(t,e){return t?r(t):n.callback(e)})},Ee.prototype.signupAndLogin=function(e,r){var n=this;return n.client.client.dbConnection.signup(e,function(t){return t?r(t):n.login(e,r)})},Ee.prototype.getSSOData=function(t,e){var r="";return"function"==typeof t&&(e=t,t=!1),yt.check(t,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),t&&(r="?"+x({ldaps:1,client_id:this.baseOptions.clientID})),r=a(this.baseOptions.rootUrl,"user","ssodata",r),this.request.get(r,{noHeaders:!0}).withCredentials().end(Mt(e))};function qe(){}var Ie={lang:"en",templates:{auth0:function(t){var e="code"===t.type?"Enter the code shown above":"Solve the formula shown above";return'<div class="captcha-challenge">\n  <img src="'+t.image+'" />\n  <button type="button" class="captcha-reload">↺</button>\n</div>\n<input type="text" name="captcha"\n  class="form-control captcha-control"\n  placeholder="'+e+'" />'},recaptcha_v2:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},error:function(){return'<div class="error" style="color: red;">Error getting the bot detection challenge. Please contact the system administrator.</div>'}}};function Ue(e,t,r){var n=e.hasAttribute("data-wid")&&e.getAttribute("data-wid");function i(t){e.querySelector('input[name="captcha"]').value=t||""}if(n)return i(),void window.grecaptcha.reset(n);e.innerHTML=t.templates[r.provider](r);var o=e.querySelector(".recaptcha");!function(t,e){var r="recaptchaCallback_"+Math.floor(1000001*Math.random());window[r]=function(){delete window[r],e()};var n=window.document.createElement("script");n.src="https://www.google.com/recaptcha/api.js?hl="+t+"&onload="+r,n.async=!0,window.document.body.appendChild(n)}(t.lang,function(){n=window.grecaptcha.render(o,{callback:i,"expired-callback":function(){i()},"error-callback":function(){i()},sitekey:r.siteKey}),e.setAttribute("data-wid",n)})}var Pe={render:function(t,s,a,e){function u(o){o=o||qe,t.getChallenge(function(t,e){return t?(s.innerHTML=a.templates.error(t),o(t)):e.required?(s.style.display="","auth0"===e.provider?(r=a,n=e,i=u,(t=s).innerHTML=r.templates[n.provider](n),t.querySelector(".captcha-reload").addEventListener("click",function(t){t.preventDefault(),i()})):"recaptcha_v2"===e.provider&&Ue(s,a,e),void o()):(s.style.display="none",void(s.innerHTML=""));var r,n,i})}return a=Tt.merge(Ie).with(a||{}),u(e),{reload:u,getValue:function(){var t=s.querySelector('input[name="captcha"]');if(t)return t.value}}}};function Re(){return new Date}function Me(t){yt.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},maxAge:{optional:!0,type:"number",message:"maxAge is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),t.overrides&&yt.check(t.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=t,this.baseOptions.plugins=new me(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=t._timesToRetryFailedRequests?parseInt(t._timesToRetryFailedRequests,0):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,this.transactionManager=new be(this.baseOptions),this.client=new Ne(this.baseOptions),this.redirect=new ke(this,this.baseOptions),this.popup=new De(this,this.baseOptions),this.crossOriginAuthentication=new Te(this,this.baseOptions),this.webMessageHandler=new _e(this),this._universalLogin=new Ee(this,this.baseOptions),this.ssodataStorage=new Ut(this.baseOptions)}function Be(t,e){this.baseOptions=e,this.request=t}function Le(t,e){this.baseOptions=e,this.request=t}function Ne(t,e){2===arguments.length?this.auth0=t:e=t,yt.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=e,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl="https://"+this.baseOptions.domain,this.request=new At(this.baseOptions),this.passwordless=new Be(this.request,this.baseOptions),this.dbConnection=new Le(this.request,this.baseOptions),this.warn=new Et({disableWarnings:!!e._disableDeprecationWarnings}),this.ssodataStorage=new Ut(this.baseOptions)}function He(t){yt.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new At(this.baseOptions),this.baseOptions.rootUrl=a("https://"+this.baseOptions.domain,"api","v2")}Me.prototype.parseHash=function(t,e){t=e||"function"!=typeof t?t||{}:(e=t,{});var r=Ct.getWindow(),r=(r=(void 0===t.hash?r.location:t).hash).replace(/^#?\/?/,"");if((r=D(r)).hasOwnProperty("error"))return n=Rt.buildResponse(r.error,r.error_description),r.state&&(n.state=r.state),e(n);if(!r.hasOwnProperty("access_token")&&!r.hasOwnProperty("id_token")&&!r.hasOwnProperty("refresh_token"))return e(null,null);var n=(this.baseOptions.responseType||t.responseType||"").split(" ");return 0<n.length&&-1!==n.indexOf("token")&&!r.hasOwnProperty("access_token")?e(Rt.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):0<n.length&&-1!==n.indexOf("id_token")&&!r.hasOwnProperty("id_token")?e(Rt.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(t,r,e)},Me.prototype.validateAuthenticationResponse=function(t,n,i){var o=this;t.__enableIdPInitiatedLogin=t.__enableIdPInitiatedLogin||t.__enableImpersonation;var e=n.state,s=this.transactionManager.getStoredTransaction(e),r=t.state||s&&s.state||null,a=r===e;if(!(!e&&!r&&t.__enableIdPInitiatedLogin)&&!a)return i({error:"invalid_token",errorDescription:"`state` does not match."});function u(t,e){return t?i(t):(s&&s.lastUsedConnection&&(e&&(r=e.sub),o.ssodataStorage.set(s.lastUsedConnection,r)),i(null,(t=p,r=e,{accessToken:(e=n).access_token||null,idToken:e.id_token||null,idTokenPayload:r||null,appState:t||null,refreshToken:e.refresh_token||null,state:e.state||null,expiresIn:e.expires_in?parseInt(e.expires_in,10):null,tokenType:e.token_type||null,scope:e.scope||null})));var r}var c=t.nonce||s&&s.nonce||null,p=t.state||s&&s.appState||null;return n.id_token?this.validateToken(n.id_token,c,function(t,e){if(!t)return n.access_token&&e.at_hash?(new ye).validateAccessToken(n.access_token,"RS256",e.at_hash,function(t){return t?u(Rt.invalidToken(t.message)):u(null,e)}):u(null,e);if("invalid_token"!==t.error||t.errorDescription&&-1<t.errorDescription.indexOf("Nonce (nonce) claim value mismatch in the ID token"))return u(t);var r=(new ye).decode(n.id_token);if("HS256"!==r.header.alg)return u(t);if((r.payload.nonce||null)!==c)return u({error:"invalid_token",errorDescription:'Nonce (nonce) claim value mismatch in the ID token; expected "'+c+'", found "'+r.payload.nonce+'"'});if(n.access_token)return o.client.userInfo(n.access_token,function(t,e){return t?u(t):u(null,e)});return u({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) can’t store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"})}):u(null,null)},Me.prototype.validateToken=function(t,e,r){new ye({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||60,maxAge:this.baseOptions.maxAge,__clock:this.baseOptions.__clock||Re}).verify(t,e,function(t,e){return t?r(Rt.invalidToken(t.message)):void r(null,e)})},Me.prototype.renewAuth=function(t,r){var e=!!t.usePostMessage,n=t.postMessageDataType||!1,i=t.postMessageOrigin||Ct.getWindow().origin,o=t.timeout,s=this,t=Tt.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(t);t.responseType=t.responseType||"token",t.responseMode=t.responseMode||"fragment",t=this.transactionManager.process(t),yt.check(t,{type:"object",message:"options parameter is not valid"}),yt.check(r,{type:"function",message:"cb parameter is not valid"}),t.prompt="none",t=Tt.blacklist(t,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),xe.create({authenticationUrl:this.client.buildAuthorizeUrl(t),postMessageDataType:n,postMessageOrigin:i,timeout:o}).login(e,function(t,e){return"object"==typeof e?r(t,e):void s.parseHash({hash:e},r)})},Me.prototype.checkSession=function(t,e){var r=Tt.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return"code"===r.responseType?e({error:"error",error_description:"responseType can't be `code`"}):(t.nonce||(r=this.transactionManager.process(r)),r.redirectUri?(yt.check(r,{type:"object",message:"options parameter is not valid"}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=Tt.blacklist(r,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(r,Mt(e,{forceLegacyError:!0,ignoreCasing:!0}))):e({error:"error",error_description:"redirectUri can't be empty"}))},Me.prototype.changePassword=function(t,e){return this.client.dbConnection.changePassword(t,e)},Me.prototype.passwordlessStart=function(t,e){var r=Tt.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t.authParams);return t.authParams=this.transactionManager.process(r),this.client.passwordless.start(t,e)},Me.prototype.signup=function(t,e){return this.client.dbConnection.signup(t,e)},Me.prototype.authorize=function(t){t=Tt.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);yt.check(t,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(t=this.transactionManager.process(t)).scope=t.scope||"openid profile email",Ct.redirect(this.client.buildAuthorizeUrl(t))},Me.prototype.signupAndAuthorize=function(e,r){var n=this;return this.client.dbConnection.signup(Tt.blacklist(e,["popupHandler"]),function(t){return t?r(t):(e.realm=e.connection,e.username||(e.username=e.email),void n.client.login(e,r))})},Me.prototype.login=function(t,e){t=Tt.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t),t=this.transactionManager.process(t);Ct.getWindow().location.host===this.baseOptions.domain?(t.connection=t.realm,delete t.realm,this._universalLogin.login(t,e)):this.crossOriginAuthentication.login(t,e)},Me.prototype.passwordlessLogin=function(t,e){t=Tt.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t),t=this.transactionManager.process(t);Ct.getWindow().location.host===this.baseOptions.domain?this.passwordlessVerify(t,e):(t=Tt.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:t.connection,username:t.email||t.phoneNumber,otp:t.verificationCode},Tt.blacklist(t,["connection","email","phoneNumber","verificationCode"])),this.crossOriginAuthentication.login(t,e))},Me.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},Me.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},Me.prototype.logout=function(t){Ct.redirect(this.client.buildLogoutUrl(t))},Me.prototype.passwordlessVerify=function(t,e){var r=this,n=Tt.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return yt.check(n,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),n=this.transactionManager.process(n),this.client.passwordless.verify(n,function(t){return t?e(t):Ct.redirect(r.client.passwordless.buildVerifyUrl(n))})},Me.prototype.renderCaptcha=function(t,e,r){return Pe.render(this.client,t,e,r)},Be.prototype.buildVerifyUrl=function(t){return yt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),t=Tt.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(t),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t=Tt.toSnakeCase(t,["auth0Client"]),t=x(t),a(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+t)},Be.prototype.start=function(t,e){var r;return yt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(t){return"code"===t.send||!t.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(t){return"link"===t.send||!t.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=a(this.baseOptions.rootUrl,"passwordless","start"),(t=Tt.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(t)).scope&&(t.authParams=t.authParams||{},t.authParams.scope=t.authParams.scope||t.scope),t.redirectUri&&(t.authParams=t.authParams||{},t.authParams.redirect_uri=t.authParams.redirectUri||t.redirectUri),t.responseType&&(t.authParams=t.authParams||{},t.authParams.response_type=t.authParams.responseType||t.responseType),delete t.redirectUri,delete t.responseType,delete t.scope,t=Tt.toSnakeCase(t,["auth0Client","authParams"]),this.request.post(r).send(t).end(Mt(e))},Be.prototype.verify=function(t,e){var r;return yt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=Tt.pick(t,["connection","verificationCode","phoneNumber","email","auth0Client"]),r=Tt.toSnakeCase(r,["auth0Client"]),t=a(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(t).send(r).end(Mt(e))},Le.prototype.signup=function(t,e){var r,n;return yt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=a(this.baseOptions.rootUrl,"dbconnections","signup"),t=(n=Tt.merge(this.baseOptions,["clientID","state"]).with(t)).user_metadata||n.userMetadata,n=Tt.blacklist(n,["scope","userMetadata","user_metadata"]),n=Tt.toSnakeCase(n,["auth0Client"]),t&&(n.user_metadata=t),this.request.post(r).send(n).end(Mt(e))},Le.prototype.changePassword=function(t,e){var r;return yt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=a(this.baseOptions.rootUrl,"dbconnections","change_password"),t=Tt.merge(this.baseOptions,["clientID"]).with(t,["email","connection"]),t=Tt.toSnakeCase(t,["auth0Client"]),this.request.post(r).send(t).end(Mt(e))},Ne.prototype.buildAuthorizeUrl=function(t){return yt.check(t,{type:"object",message:"options parameter is not valid"}),t=Tt.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(t),yt.check(t,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(t){return-1===t.responseType.indexOf("code")&&-1!==t.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t.connection_scope&&yt.isArray(t.connection_scope)&&(t.connection_scope=t.connection_scope.join(",")),t=Tt.blacklist(t,["username","popupOptions","domain","tenant","timeout","appState"]),t=Tt.toSnakeCase(t,["auth0Client"]),t=Nt.oauthAuthorizeParams(this.warn,t),t=x(t),a(this.baseOptions.rootUrl,"authorize","?"+t)},Ne.prototype.buildLogoutUrl=function(t){var e;return yt.check(t,{optional:!0,type:"object",message:"options parameter is not valid"}),e=Tt.merge(this.baseOptions,["clientID"]).with(t||{}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=Tt.toSnakeCase(e,["auth0Client","returnTo"]),e=x(Tt.blacklist(e,["federated"])),t&&void 0!==t.federated&&!1!==t.federated&&"false"!==t.federated&&(e+="&federated"),a(this.baseOptions.rootUrl,"v2","logout","?"+e)},Ne.prototype.loginWithDefaultDirectory=function(t,e){return yt.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="password",this.oauthToken(t,e)},Ne.prototype.login=function(t,e){return yt.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(t,e)},Ne.prototype.oauthToken=function(t,e){var r;return yt.check(t,{type:"object",message:"options parameter is not valid"}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=a(this.baseOptions.rootUrl,"oauth","token"),t=Tt.merge(this.baseOptions,["clientID","scope","audience"]).with(t),yt.check(t,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t=Tt.toSnakeCase(t,["auth0Client"]),t=Nt.oauthTokenParams(this.warn,t),this.request.post(r).send(t).end(Mt(e))},Ne.prototype.loginWithResourceOwner=function(t,e){var r;return yt.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=a(this.baseOptions.rootUrl,"oauth","ro"),t=Tt.merge(this.baseOptions,["clientID","scope"]).with(t,["username","password","scope","connection","device"]),(t=Tt.toSnakeCase(t,["auth0Client"])).grant_type=t.grant_type||"password",this.request.post(r).send(t).end(Mt(e))},Ne.prototype.getSSOData=function(t,r){if(this.auth0||(this.auth0=new Me(this.baseOptions)),Ct.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(t,r);"function"==typeof t&&(r=t),yt.check(r,{type:"function",message:"cb parameter is not valid"});var n=this.baseOptions.clientID,i=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:i.lastUsedConnection,timeout:5e3},function(t,e){return t?"login_required"===t.error?r(null,{sso:!1}):("consent_required"===t.error&&(t.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),r(t,{sso:!1})):i.lastUsedSub&&i.lastUsedSub!==e.idTokenPayload.sub?r(t,{sso:!1}):r(null,{lastUsedConnection:{name:i.lastUsedConnection},lastUsedUserID:e.idTokenPayload.sub,lastUsedUsername:e.idTokenPayload.email||e.idTokenPayload.name,lastUsedClientID:n,sessionClients:[n],sso:!0})})},Ne.prototype.userInfo=function(t,e){var r;return yt.check(t,{type:"string",message:"accessToken parameter is not valid"}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=a(this.baseOptions.rootUrl,"userinfo"),this.request.get(r).set("Authorization","Bearer "+t).end(Mt(e,{ignoreCasing:!0}))},Ne.prototype.getChallenge=function(t){if(yt.check(t,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return t();var e=a(this.baseOptions.rootUrl,"usernamepassword","challenge");return this.request.post(e).send({state:this.baseOptions.state}).end(Mt(t,{ignoreCasing:!0}))},Ne.prototype.delegation=function(t,e){var r;return yt.check(t,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),r=a(this.baseOptions.rootUrl,"delegation"),t=Tt.merge(this.baseOptions,["clientID"]).with(t),t=Tt.toSnakeCase(t,["auth0Client"]),this.request.post(r).send(t).end(Mt(e))},Ne.prototype.getUserCountry=function(t){var e;return yt.check(t,{type:"function",message:"cb parameter is not valid"}),e=a(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(e).end(Mt(t))},He.prototype.getUser=function(t,e){return yt.check(t,{type:"string",message:"userId parameter is not valid"}),yt.check(e,{type:"function",message:"cb parameter is not valid"}),t=a(this.baseOptions.rootUrl,"users",t),this.request.get(t).end(Mt(e,{ignoreCasing:!0}))},He.prototype.patchUserMetadata=function(t,e,r){return yt.check(t,{type:"string",message:"userId parameter is not valid"}),yt.check(e,{type:"object",message:"userMetadata parameter is not valid"}),yt.check(r,{type:"function",message:"cb parameter is not valid"}),t=a(this.baseOptions.rootUrl,"users",t),this.request.patch(t).send({user_metadata:e}).end(Mt(r,{ignoreCasing:!0}))},He.prototype.patchUserAttributes=function(t,e,r){return yt.check(t,{type:"string",message:"userId parameter is not valid"}),yt.check(e,{type:"object",message:"user parameter is not valid"}),yt.check(r,{type:"function",message:"cb parameter is not valid"}),t=a(this.baseOptions.rootUrl,"users",t),this.request.patch(t).send(e).end(Mt(r,{ignoreCasing:!0}))},He.prototype.linkUser=function(t,e,r){return yt.check(t,{type:"string",message:"userId parameter is not valid"}),yt.check(e,{type:"string",message:"secondaryUserToken parameter is not valid"}),yt.check(r,{type:"function",message:"cb parameter is not valid"}),t=a(this.baseOptions.rootUrl,"users",t,"identities"),this.request.post(t).send({link_with:e}).end(Mt(r,{ignoreCasing:!0}))};s={Authentication:Ne,Management:He,WebAuth:Me,version:pt};t.Authentication=Ne,t.Management=He,t.WebAuth=Me,t.default=s,t.version=pt,Object.defineProperty(t,"__esModule",{value:!0})});