import{NgModule,Component,ElementRef,Input,Renderer2,ChangeDetectionStrategy,ViewEncapsulation,ChangeDetectorRef,ContentChildren}from"@angular/core";import{CommonModule}from"@angular/common";import{PrimeTemplate}from"primeng/api";import{RouterModule}from"@angular/router";import{RippleModule}from"primeng/ripple";export class MegaMenu{constructor(e,t,n){this.el=e,this.renderer=t,this.cd=n,this.orientation="horizontal",this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template}})}onCategoryMouseEnter(e,t){t.disabled?e.preventDefault():this.activeItem&&(this.activeItem=t)}onCategoryClick(e,t){t.disabled?e.preventDefault():(t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),t.items&&(this.activeItem&&this.activeItem===t?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=t,this.bindDocumentClickListener())))}itemClick(e,t){t.disabled?e.preventDefault():(t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),this.activeItem=null)}getColumnClass(e){let t;switch(e.items?e.items.length:0){case 2:t="p-megamenu-col-6";break;case 3:t="p-megamenu-col-4";break;case 4:t="p-megamenu-col-3";break;case 6:t="p-megamenu-col-2";break;default:t="p-megamenu-col-12"}return t}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=(e=>{this.el&&!this.el.nativeElement.contains(e.target)&&(this.activeItem=null,this.unbindDocumentClickListener(),this.cd.markForCheck())}),document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}};MegaMenu.decorators=[{type:Component,args:[{selector:"p-megaMenu",template:'\n        <div [class]="styleClass" [ngStyle]="style"\n            [ngClass]="{\'p-megamenu p-component\':true,\'p-megamenu-horizontal\': orientation == \'horizontal\',\'p-megamenu-vertical\': orientation == \'vertical\'}">\n            <div class="p-megamenu-start" *ngIf="startTemplate">\n                <ng-container *ngTemplateOutlet="startTemplate"></ng-container>\n            </div>\n            <ul class="p-megamenu-root-list" role="menubar">\n                <ng-template ngFor let-category [ngForOf]="model">\n                    <li *ngIf="category.separator" class="p-menu-separator" [ngClass]="{\'p-hidden\': category.visible === false}">\n                    <li *ngIf="!category.separator" [ngClass]="{\'p-menuitem\':true,\'p-menuitem-active\':category==activeItem, \'p-hidden\': category.visible === false}"\n                        (mouseenter)="onCategoryMouseEnter($event, category)">\n                        <a *ngIf="!category.routerLink" [href]="category.url||\'#\'" [attr.target]="category.target" [attr.title]="category.title" [attr.id]="category.id" (click)="onCategoryClick($event, category)" [attr.tabindex]="category.tabindex ? category.tabindex : \'0\'"\n                            [ngClass]="{\'p-menuitem-link\':true,\'p-disabled\':category.disabled}" [ngStyle]="category.style" [class]="category.styleClass" pRipple>\n                            <span class="p-menuitem-icon" *ngIf="category.icon" [ngClass]="category.icon"></span>\n                            <span class="p-menuitem-text" *ngIf="category.escape !== false; else categoryHtmlLabel">{{category.label}}</span>\n                            <ng-template #categoryHtmlLabel><span class="p-menuitem-text" [innerHTML]="category.label"></span></ng-template>\n                            <span *ngIf="category.items" class="p-submenu-icon pi" [ngClass]="{\'pi-angle-down\':orientation==\'horizontal\',\'pi-angle-right\':orientation==\'vertical\'}"></span>\n                        </a>\n                        <a *ngIf="category.routerLink" [routerLink]="category.routerLink" [queryParams]="category.queryParams" [routerLinkActive]="\'p-menuitem-link-active\'" [routerLinkActiveOptions]="category.routerLinkActiveOptions||{exact:false}" [attr.tabindex]="category.tabindex ? category.tabindex : \'0\'" \n                            [attr.target]="category.target" [attr.title]="category.title" [attr.id]="category.id"\n                            (click)="onCategoryClick($event, category)" [ngClass]="{\'p-menuitem-link\':true,\'p-disabled\':category.disabled}" [ngStyle]="category.style" [class]="category.styleClass"\n                            [fragment]="category.fragment" [queryParamsHandling]="category.queryParamsHandling" [preserveFragment]="category.preserveFragment" [skipLocationChange]="category.skipLocationChange" [replaceUrl]="category.replaceUrl" [state]="category.state" pRipple>\n                            <span class="p-menuitem-icon" *ngIf="category.icon" [ngClass]="category.icon"></span>\n                            <span class="p-menuitem-text" *ngIf="category.escape !== false; else categoryHtmlRouteLabel">{{category.label}}</span>\n                            <ng-template #categoryHtmlRouteLabel><span class="p-menuitem-text" [innerHTML]="category.label"></span></ng-template>\n                        </a>\n                        <div class="p-megamenu-panel" *ngIf="category.items">\n                            <div class="p-megamenu-grid">\n                                <ng-template ngFor let-column [ngForOf]="category.items">\n                                    <div [class]="getColumnClass(category)">\n                                        <ng-template ngFor let-submenu [ngForOf]="column">\n                                            <ul class="p-megamenu-submenu" role="menu">\n                                                <li class="p-megamenu-submenu-header">\n                                                    <span *ngIf="submenu.escape !== false; else submenuHtmlLabel">{{submenu.label}}</span>\n                                                    <ng-template #submenuHtmlLabel><span [innerHTML]="submenu.label"></span></ng-template>\n                                                </li>\n                                                <ng-template ngFor let-item [ngForOf]="submenu.items">\n                                                    <li *ngIf="item.separator" class="p-menu-separator" [ngClass]="{\'p-hidden\': item.visible === false}" role="separator">\n                                                    <li *ngIf="!item.separator" class="p-menuitem" [ngClass]="{\'p-hidden\': item.visible === false}" role="none">\n                                                        <a *ngIf="!item.routerLink" role="menuitem" [href]="item.url||\'#\'" class="p-menuitem-link" [attr.target]="item.target" [attr.title]="item.title" [attr.id]="item.id" [attr.tabindex]="item.tabindex ? item.tabindex : \'0\'"\n                                                            [ngClass]="{\'p-disabled\':item.disabled}" (click)="itemClick($event, item)" pRipple>\n                                                            <span class="p-menuitem-icon" *ngIf="item.icon" [ngClass]="item.icon"></span>\n                                                            <span class="p-menuitem-text" *ngIf="item.escape !== false; else htmlLabel">{{item.label}}</span>\n                                                            <ng-template #htmlLabel><span class="p-menuitem-text" [innerHTML]="item.label"></span></ng-template>\n                                                        </a>\n                                                        <a *ngIf="item.routerLink" role="menuitem" [routerLink]="item.routerLink" [queryParams]="item.queryParams" [routerLinkActive]="\'p-menuitem-link-active\'" [attr.tabindex]="item.tabindex ? item.tabindex : \'0\'"\n                                                            [routerLinkActiveOptions]="item.routerLinkActiveOptions||{exact:false}" class="p-menuitem-link" \n                                                             [attr.target]="item.target" [attr.title]="item.title" [attr.id]="item.id"\n                                                            [ngClass]="{\'p-disabled\':item.disabled}" (click)="itemClick($event, item)"\n                                                            [fragment]="item.fragment" [queryParamsHandling]="item.queryParamsHandling" [preserveFragment]="item.preserveFragment" [skipLocationChange]="item.skipLocationChange" [replaceUrl]="item.replaceUrl" [state]="item.state" pRipple>\n                                                            <span class="p-menuitem-icon" *ngIf="item.icon" [ngClass]="item.icon"></span>\n                                                            <span class="p-menuitem-text" *ngIf="item.escape !== false; else htmlRouteLabel">{{item.label}}</span>\n                                                            <ng-template #htmlRouteLabel><span class="p-menuitem-text" [innerHTML]="item.label"></span></ng-template>\n                                                        </a>\n                                                    </li>\n                                                </ng-template>\n                                            </ul>\n                                        </ng-template>\n                                    </div>\n                                </ng-template>\n                            </div>\n                        </div>\n                    </li>\n                </ng-template>\n                <div class="p-megamenu-end" *ngIf="endTemplate; else legacy">\n                    <ng-container *ngTemplateOutlet="endTemplate"></ng-container>\n                </div>\n                <ng-template #legacy>\n                    <div class="p-megamenu-end">\n                        <ng-content></ng-content>\n                    </div>\n                </ng-template>\n            </ul>\n        </div>\n    ',changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,styles:[".p-megamenu-root-list{list-style:none;margin:0;padding:0}.p-megamenu-root-list>.p-menuitem{position:relative}.p-megamenu .p-menuitem-link{align-items:center;cursor:pointer;display:flex;overflow:hidden;position:relative;text-decoration:none}.p-megamenu .p-menuitem-text{line-height:1}.p-megamenu-panel{display:none;position:absolute;width:auto;z-index:1}.p-megamenu-root-list>.p-menuitem-active>.p-megamenu-panel{display:block}.p-megamenu-submenu{list-style:none;margin:0;padding:0}.p-megamenu-horizontal .p-megamenu-root-list{align-items:center;display:flex;flex-wrap:wrap}.p-megamenu-vertical .p-megamenu-root-list{flex-direction:column}.p-megamenu-vertical .p-megamenu-root-list>.p-menuitem-active>.p-megamenu-panel{left:100%;top:0}.p-megamenu-vertical .p-megamenu-root-list>.p-menuitem>.p-menuitem-link>.p-submenu-icon{margin-left:auto}.p-megamenu-grid{display:flex}.p-megamenu-col-2,.p-megamenu-col-3,.p-megamenu-col-4,.p-megamenu-col-6,.p-megamenu-col-12{flex:0 0 auto;padding:.5rem}.p-megamenu-col-2{width:16.6667%}.p-megamenu-col-3{width:25%}.p-megamenu-col-4{width:33.3333%}.p-megamenu-col-6{width:50%}.p-megamenu-col-12{width:100%}"]}]}],MegaMenu.ctorParameters=(()=>[{type:ElementRef},{type:Renderer2},{type:ChangeDetectorRef}]),MegaMenu.propDecorators={model:[{type:Input}],style:[{type:Input}],styleClass:[{type:Input}],orientation:[{type:Input}],autoZIndex:[{type:Input}],baseZIndex:[{type:Input}],templates:[{type:ContentChildren,args:[PrimeTemplate]}]};export class MegaMenuModule{};MegaMenuModule.decorators=[{type:NgModule,args:[{imports:[CommonModule,RouterModule,RippleModule],exports:[MegaMenu,RouterModule],declarations:[MegaMenu]}]}];