import{forwardRef,EventEmitter,ChangeDetectorRef,Component,ChangeDetectionStrategy,ViewEncapsulation,Input,Output,NgModule}from"@angular/core";import{CommonModule}from"@angular/common";import{NG_VALUE_ACCESSOR}from"@angular/forms";const RATING_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(()=>Rating),multi:!0};class Rating{constructor(e){this.cd=e,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star",this.iconOffClass="pi pi-star-o",this.iconCancelClass="pi pi-ban",this.onRate=new EventEmitter,this.onCancel=new EventEmitter,this.onModelChange=(()=>{}),this.onModelTouched=(()=>{})}ngOnInit(){this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}rate(e,t){this.readonly||this.disabled||(this.value=t+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:t+1})),e.preventDefault()}clear(e){this.readonly||this.disabled||(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(e)),e.preventDefault()}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}Rating.ctorParameters=(()=>[{type:ChangeDetectorRef}]),Rating.decorators=[{type:Component,args:[{selector:"p-rating",template:'\n        <div class="p-rating" [ngClass]="{\'p-readonly\': readonly, \'p-disabled\': disabled}">\n            <span [attr.tabindex]="(disabled || readonly) ? null : \'0\'" *ngIf="cancel" (click)="clear($event)" (keydown.enter)="clear($event)" class="p-rating-icon p-rating-cancel" [ngClass]="iconCancelClass" [ngStyle]="iconCancelStyle"></span>\n            <span *ngFor="let star of starsArray;let i=index" class="p-rating-icon" [attr.tabindex]="(disabled || readonly) ? null : \'0\'"  (click)="rate($event,i)" (keydown.enter)="rate($event,i)"\n                [ngClass]="(!value || i >= value) ? iconOffClass : iconOnClass"\n                [ngStyle]="(!value || i >= value) ? iconOffStyle : iconOnStyle"></span>\n        </div>\n    ',providers:[RATING_VALUE_ACCESSOR],changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,styles:[".p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}"]}]}],Rating.ctorParameters=(()=>[{type:ChangeDetectorRef}]),Rating.propDecorators={disabled:[{type:Input}],readonly:[{type:Input}],stars:[{type:Input}],cancel:[{type:Input}],iconOnClass:[{type:Input}],iconOnStyle:[{type:Input}],iconOffClass:[{type:Input}],iconOffStyle:[{type:Input}],iconCancelClass:[{type:Input}],iconCancelStyle:[{type:Input}],onRate:[{type:Output}],onCancel:[{type:Output}]};class RatingModule{}RatingModule.decorators=[{type:NgModule,args:[{imports:[CommonModule],exports:[Rating],declarations:[Rating]}]}];export{RATING_VALUE_ACCESSOR,Rating,RatingModule};