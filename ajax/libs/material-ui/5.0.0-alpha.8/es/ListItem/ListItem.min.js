import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{chainPropTypes,elementTypeAcceptingRef}from"@material-ui/utils";import withStyles from"../styles/withStyles";import{fade}from"../styles/colorManipulator";import ButtonBase from"../ButtonBase";import isMuiElement from"../utils/isMuiElement";import useEnhancedEffect from"../utils/useEnhancedEffect";import useForkRef from"../utils/useForkRef";import ListContext from"../List/ListContext";export const styles=e=>({root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:fade(e.palette.primary.main,e.palette.action.selectedOpacity),"&$focusVisible":{backgroundColor:fade(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:`1px solid ${e.palette.divider}`,backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$selected:hover":{backgroundColor:fade(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:fade(e.palette.primary.main,e.palette.action.selectedOpacity)}}},secondaryAction:{paddingRight:48},selected:{}});const ListItem=React.forwardRef(function(e,t){const{alignItems:o="center",autoFocus:s=!1,button:i=!1,children:n,classes:r,className:a,component:l,ContainerComponent:c="li",ContainerProps:{className:p}={},dense:d=!1,disabled:m=!1,disableGutters:u=!1,divider:b=!1,focusVisibleClassName:f,selected:y=!1}=e,h=_objectWithoutPropertiesLoose(e.ContainerProps,["className"]),g=_objectWithoutPropertiesLoose(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),x=React.useContext(ListContext),C={dense:d||x.dense||!1,alignItems:o,disableGutters:u},P=React.useRef(null);useEnhancedEffect(()=>{s&&(P.current?P.current.focus():"production"!==process.env.NODE_ENV&&console.error("Material-UI: Unable to set focus to a ListItem whose component has not been rendered."))},[s]);const v=React.Children.toArray(n),T=v.length&&isMuiElement(v[v.length-1],["ListItemSecondaryAction"]),L=useForkRef(P,t),E=_extends({className:clsx(r.root,a,C.dense&&r.dense,!u&&r.gutters,b&&r.divider,m&&r.disabled,i&&r.button,"center"!==o&&r.alignItemsFlexStart,T&&r.secondaryAction,y&&r.selected),disabled:m},g);let I=l||"li";return i&&(E.component=l||"div",E.focusVisibleClassName=clsx(r.focusVisible,f),I=ButtonBase),T?(I=E.component||l?I:"div","li"===c&&("li"===I?I="div":"li"===E.component&&(E.component="div")),React.createElement(ListContext.Provider,{value:C},React.createElement(c,_extends({className:clsx(r.container,p),ref:L},h),React.createElement(I,E,v),v.pop()))):React.createElement(ListContext.Provider,{value:C},React.createElement(I,_extends({ref:L},E),v))});"production"!==process.env.NODE_ENV&&(ListItem.propTypes={alignItems:PropTypes.oneOf(["center","flex-start"]),autoFocus:PropTypes.bool,button:PropTypes.bool,children:chainPropTypes(PropTypes.node,e=>{const t=React.Children.toArray(e.children);let o=-1;for(let e=t.length-1;e>=0;e-=1){const s=t[e];if(isMuiElement(s,["ListItemSecondaryAction"])){o=e;break}}return-1!==o&&o!==t.length-1?new Error("Material-UI: You used an element after ListItemSecondaryAction. For ListItem to detect that it has a secondary action you must pass it as the last child to ListItem."):null}),classes:PropTypes.object,className:PropTypes.string,component:PropTypes.elementType,ContainerComponent:elementTypeAcceptingRef,ContainerProps:PropTypes.object,dense:PropTypes.bool,disabled:PropTypes.bool,disableGutters:PropTypes.bool,divider:PropTypes.bool,focusVisibleClassName:PropTypes.string,selected:PropTypes.bool});export default withStyles(styles,{name:"MuiListItem"})(ListItem);