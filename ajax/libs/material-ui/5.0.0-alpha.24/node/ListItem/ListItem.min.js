"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _objectWithoutPropertiesLoose2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_unstyled=require("@material-ui/unstyled"),_utils=require("@material-ui/utils"),_experimentalStyled=_interopRequireDefault(require("../styles/experimentalStyled")),_useThemeProps=_interopRequireDefault(require("../styles/useThemeProps")),_colorManipulator=require("../styles/colorManipulator"),_ButtonBase=_interopRequireDefault(require("../ButtonBase")),_isMuiElement=_interopRequireDefault(require("../utils/isMuiElement")),_useEnhancedEffect=_interopRequireDefault(require("../utils/useEnhancedEffect")),_useForkRef=_interopRequireDefault(require("../utils/useForkRef")),_ListContext=_interopRequireDefault(require("../List/ListContext")),_listItemClasses=_interopRequireWildcard(require("./listItemClasses"));const overridesResolver=(e,t)=>{const{styleProps:s}=e;return(0,_utils.deepmerge)(t.root||{},(0,_extends2.default)({},s.dense&&t.dense,"flex-start"===s.alignItems&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,s.button&&t.button,s.hasSecondaryAction&&t.secondaryAction))},useUtilityClasses=e=>{const{dense:t,alignItems:s,divider:o,disableGutters:a,hasSecondaryAction:r,selected:i,disabled:l,button:n,classes:d}=e,u={root:["root",t&&"dense",!a&&"gutters",o&&"divider",l&&"disabled",n&&"button","flex-start"===s&&"alignItemsFlexStart",r&&"secondaryAction",i&&"selected"],container:["container"]};return(0,_unstyled.unstable_composeClasses)(u,_listItemClasses.getListItemUtilityClass,d)},ListItemRoot=(0,_experimentalStyled.default)("div",{},{name:"MuiListItem",slot:"Root",overridesResolver:overridesResolver})(({theme:e,styleProps:t})=>(0,_extends2.default)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,[`&.${_listItemClasses.default.focusVisible}`]:{backgroundColor:e.palette.action.focus},[`&.${_listItemClasses.default.selected}`]:{backgroundColor:(0,_colorManipulator.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${_listItemClasses.default.focusVisible}`]:{backgroundColor:(0,_colorManipulator.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${_listItemClasses.default.disabled}`]:{opacity:e.palette.action.disabledOpacity}},t.dense&&{paddingTop:4,paddingBottom:4},"flex-start"===t.alignItems&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${e.palette.divider}`,backgroundClip:"padding-box"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_listItemClasses.default.selected}:hover`]:{backgroundColor:(0,_colorManipulator.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,_colorManipulator.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=(0,_experimentalStyled.default)("li",{},{name:"MuiListItem",slot:"Container",overridesResolver:overridesResolver})({position:"relative"}),ListItem=React.forwardRef(function(e,t){const s=(0,_useThemeProps.default)({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:a=!1,button:r=!1,children:i,className:l,component:n,ContainerComponent:d="li",ContainerProps:{className:u}={},dense:p=!1,disabled:c=!1,disableGutters:m=!1,divider:f=!1,focusVisibleClassName:_,selected:b=!1}=s,y=(0,_objectWithoutPropertiesLoose2.default)(s.ContainerProps,["className"]),h=(0,_objectWithoutPropertiesLoose2.default)(s,["alignItems","autoFocus","button","children","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),C=React.useContext(_ListContext.default),R={dense:p||C.dense||!1,alignItems:o,disableGutters:m},g=React.useRef(null);(0,_useEnhancedEffect.default)(()=>{a&&(g.current?g.current.focus():"production"!==process.env.NODE_ENV&&console.error("Material-UI: Unable to set focus to a ListItem whose component has not been rendered."))},[a]);const v=React.Children.toArray(i),x=v.length&&(0,_isMuiElement.default)(v[v.length-1],["ListItemSecondaryAction"]),I=(0,_extends2.default)({},s,{alignItems:o,autoFocus:a,button:r,dense:R.dense,disabled:c,disableGutters:m,divider:f,hasSecondaryAction:x,selected:b}),q=useUtilityClasses(I),L=(0,_useForkRef.default)(g,t),T=(0,_extends2.default)({className:(0,_clsx.default)(q.root,l),disabled:c},h);let E=n||"li";return r&&(T.component=n||"div",T.focusVisibleClassName=(0,_clsx.default)(_listItemClasses.default.focusVisible,_),E=_ButtonBase.default),x?(E=T.component||n?E:"div","li"===d&&("li"===E?E="div":"li"===T.component&&(T.component="div")),React.createElement(_ListContext.default.Provider,{value:R},React.createElement(ListItemContainer,(0,_extends2.default)({as:d,className:(0,_clsx.default)(q.container,u),ref:L},y),React.createElement(ListItemRoot,(0,_extends2.default)({as:E,styleProps:I},T),v),v.pop()))):React.createElement(_ListContext.default.Provider,{value:R},React.createElement(ListItemRoot,(0,_extends2.default)({as:E,ref:L,styleProps:I},T),v))});"production"!==process.env.NODE_ENV&&(ListItem.propTypes={alignItems:_propTypes.default.oneOf(["center","flex-start"]),autoFocus:_propTypes.default.bool,button:_propTypes.default.bool,children:(0,_utils.chainPropTypes)(_propTypes.default.node,e=>{const t=React.Children.toArray(e.children);let s=-1;for(let e=t.length-1;e>=0;e-=1){const o=t[e];if((0,_isMuiElement.default)(o,["ListItemSecondaryAction"])){s=e;break}}return-1!==s&&s!==t.length-1?new Error("Material-UI: You used an element after ListItemSecondaryAction. For ListItem to detect that it has a secondary action you must pass it as the last child to ListItem."):null}),classes:_propTypes.default.object,className:_propTypes.default.string,component:_propTypes.default.elementType,ContainerComponent:_utils.elementTypeAcceptingRef,ContainerProps:_propTypes.default.object,dense:_propTypes.default.bool,disabled:_propTypes.default.bool,disableGutters:_propTypes.default.bool,divider:_propTypes.default.bool,focusVisibleClassName:_propTypes.default.string,selected:_propTypes.default.bool,sx:_propTypes.default.object});var _default=ListItem;exports.default=_default;