"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=useMediaQuery;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),React=_interopRequireWildcard(require("react")),_styles=require("@material-ui/styles"),_useEnhancedEffect=_interopRequireDefault(require("../utils/useEnhancedEffect"));function useMediaQuery(e,t={}){const r=(0,_styles.useTheme)(),i=(0,_styles.getThemeProps)({theme:r,name:"MuiUseMediaQuery",props:{}});"production"!==process.env.NODE_ENV&&"function"==typeof e&&null===r&&console.error(["Material-UI: The `query` argument provided is invalid.","You are providing a function without a theme in the context.","One of the parent elements needs to use a ThemeProvider."].join("\n"));let n="function"==typeof e?e(r):e;n=n.replace(/^@media( ?)/m,"");const u="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:a=!1,matchMedia:s=(u?window.matchMedia:null),noSsr:o=!1,ssrMatchMedia:d=null}=(0,_extends2.default)({},i,t),[l,c]=React.useState(()=>o&&u?s(n).matches:d?d(n).matches:a);return(0,_useEnhancedEffect.default)(()=>{let e=!0;if(!u)return;const t=s(n),r=()=>{e&&c(t.matches)};return r(),t.addListener(r),()=>{e=!1,t.removeListener(r)}},[n,s,u]),"production"!==process.env.NODE_ENV&&React.useDebugValue({query:n,match:l}),l}