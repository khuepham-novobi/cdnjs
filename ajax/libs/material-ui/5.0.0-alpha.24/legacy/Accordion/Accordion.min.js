import _toArray from"@babel/runtime/helpers/esm/toArray";import _slicedToArray from"@babel/runtime/helpers/esm/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import{isFragment}from"react-is";import PropTypes from"prop-types";import clsx from"clsx";import{deepmerge,chainPropTypes}from"@material-ui/utils";import{unstable_composeClasses as composeClasses}from"@material-ui/unstyled";import experimentalStyled from"../styles/experimentalStyled";import useThemeProps from"../styles/useThemeProps";import Collapse from"../Collapse";import Paper from"../Paper";import AccordionContext from"./AccordionContext";import useControlled from"../utils/useControlled";import accordionClasses,{getAccordionUtilityClass}from"./accordionClasses";var overridesResolver=function(e,o){var r=e.styleProps;return deepmerge(o.root||{},_extends({},!r.square&&o.rounded,!r.disableGutters&&o.gutters,_defineProperty({},"& .".concat(accordionClasses.region),o.region)))},useUtilityClasses=function(e){var o=e.classes,r=e.square,t=e.expanded,s=e.disabled,a=e.disableGutters;return composeClasses({root:["root",!r&&"rounded",t&&"expanded",s&&"disabled",!a&&"gutters"],region:["region"]},getAccordionUtilityClass,o)},AccordionRoot=experimentalStyled(Paper,{},{name:"MuiAccordion",slot:"Root",overridesResolver:overridesResolver})(function(e){var o,r=e.theme,t={duration:r.transitions.duration.shortest};return o={position:"relative",transition:r.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:r.palette.divider,transition:r.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}}},_defineProperty(o,"&.".concat(accordionClasses.expanded),{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}}),_defineProperty(o,"&.".concat(accordionClasses.disabled),{backgroundColor:r.palette.action.disabledBackground}),o},function(e){var o=e.theme,r=e.styleProps;return _extends({},!r.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:o.shape.borderRadius,borderTopRightRadius:o.shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:o.shape.borderRadius,borderBottomRightRadius:o.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!r.disableGutters&&_defineProperty({},"&.".concat(accordionClasses.expanded),{margin:"16px 0"}))}),Accordion=React.forwardRef(function(e,o){var r=useThemeProps({props:e,name:"MuiAccordion"}),t=r.children,s=r.className,a=r.defaultExpanded,i=void 0!==a&&a,n=r.disabled,d=void 0!==n&&n,l=r.disableGutters,p=void 0!==l&&l,c=r.expanded,m=r.onChange,u=r.square,b=void 0!==u&&u,f=r.TransitionComponent,y=void 0===f?Collapse:f,h=r.TransitionProps,P=_objectWithoutProperties(r,["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"]),g=useControlled({controlled:c,default:i,name:"Accordion",state:"expanded"}),C=_slicedToArray(g,2),x=C[0],R=C[1],T=React.useCallback(function(e){R(!x),m&&m(e,!x)},[x,m,R]),v=React.Children.toArray(t),A=_toArray(v),_=A[0],E=A.slice(1),q=React.useMemo(function(){return{expanded:x,disabled:d,disableGutters:p,toggle:T}},[x,d,p,T]),G=_extends({},r,{square:b,disabled:d,disableGutters:p,expanded:x}),N=useUtilityClasses(G);return React.createElement(AccordionRoot,_extends({className:clsx(N.root,s),ref:o,styleProps:G,square:b},P),React.createElement(AccordionContext.Provider,{value:q},_),React.createElement(y,_extends({in:x,timeout:"auto"},h),React.createElement("div",{"aria-labelledby":_.props.id,id:_.props["aria-controls"],role:"region",className:N.region},E)))});"production"!==process.env.NODE_ENV&&(Accordion.propTypes={children:chainPropTypes(PropTypes.node.isRequired,function(e){var o=React.Children.toArray(e.children)[0];return isFragment(o)?new Error("Material-UI: The Accordion doesn't accept a Fragment as a child. Consider providing an array instead."):React.isValidElement(o)?null:new Error("Material-UI: Expected the first child of Accordion to be a valid element.")}),classes:PropTypes.object,className:PropTypes.string,defaultExpanded:PropTypes.bool,disabled:PropTypes.bool,disableGutters:PropTypes.bool,expanded:PropTypes.bool,onChange:PropTypes.func,square:PropTypes.bool,sx:PropTypes.object,TransitionComponent:PropTypes.elementType,TransitionProps:PropTypes.object});export default Accordion;