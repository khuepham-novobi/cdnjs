import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import ClickAwayListener from"../ClickAwayListener";import useEventCallback from"../utils/useEventCallback";import capitalize from"../utils/capitalize";import Grow from"../Grow";import SnackbarContent from"../SnackbarContent";export var styles=function(e){var t={top:8},o={bottom:8},n={justifyContent:"flex-end"},r={justifyContent:"flex-start"},i={top:24},s={bottom:24},a={right:24},p={left:24},c={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:_extends({},t,_defineProperty({},e.breakpoints.up("sm"),_extends({},i,c))),anchorOriginBottomCenter:_extends({},o,_defineProperty({},e.breakpoints.up("sm"),_extends({},s,c))),anchorOriginTopRight:_extends({},t,n,_defineProperty({},e.breakpoints.up("sm"),_extends({left:"auto"},i,a))),anchorOriginBottomRight:_extends({},o,n,_defineProperty({},e.breakpoints.up("sm"),_extends({left:"auto"},s,a))),anchorOriginTopLeft:_extends({},t,r,_defineProperty({},e.breakpoints.up("sm"),_extends({right:"auto"},i,p))),anchorOriginBottomLeft:_extends({},o,r,_defineProperty({},e.breakpoints.up("sm"),_extends({right:"auto"},s,p)))}};var Snackbar=React.forwardRef(function(e,t){var o=e.action,n=e.anchorOrigin,r=(n=void 0===n?{vertical:"bottom",horizontal:"left"}:n).vertical,i=n.horizontal,s=e.autoHideDuration,a=void 0===s?null:s,p=e.children,c=e.classes,u=e.className,l=e.ClickAwayListenerProps,m=e.ContentProps,d=e.disableWindowBlurListener,f=void 0!==d&&d,y=e.message,b=e.onClose,P=e.onMouseEnter,T=e.onMouseLeave,h=e.open,x=e.resumeHideDuration,v=e.TransitionComponent,C=void 0===v?Grow:v,k=e.transitionDuration,_=void 0===k?{enter:duration.enteringScreen,exit:duration.leavingScreen}:k,w=e.TransitionProps,g=(w=void 0===w?{}:w).onEnter,E=w.onExited,L=_objectWithoutProperties(w,["onEnter","onExited"]),R=_objectWithoutProperties(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),O=React.useRef(),S=React.useState(!0),j=S[0],D=S[1],z=useEventCallback(function(){b&&b.apply(void 0,arguments)}),M=useEventCallback(function(e){b&&null!=e&&(clearTimeout(O.current),O.current=setTimeout(function(){z(null,"timeout")},e))});React.useEffect(function(){return h&&M(a),function(){clearTimeout(O.current)}},[h,a,M]);var A=function(){clearTimeout(O.current)},W=React.useCallback(function(){null!=a&&M(null!=x?x:.5*a)},[a,x,M]);return React.useEffect(function(){if(!f&&h)return window.addEventListener("focus",W),window.addEventListener("blur",A),function(){window.removeEventListener("focus",W),window.removeEventListener("blur",A)}},[f,W,h]),!h&&j?null:React.createElement(ClickAwayListener,_extends({onClickAway:function(e){b&&b(e,"clickaway")}},l),React.createElement("div",_extends({className:clsx(c.root,c["anchorOrigin".concat(capitalize(r)).concat(capitalize(i))],u),onMouseEnter:function(e){P&&P(e),A()},onMouseLeave:function(e){T&&T(e),W()},ref:t},R),React.createElement(C,_extends({appear:!0,in:h,timeout:_,direction:"top"===r?"down":"up",onEnter:function(e,t){D(!1),g&&g(e,t)},onExited:function(e){D(!0),E&&E(e)}},L),p||React.createElement(SnackbarContent,_extends({message:y,action:o},m)))))});"production"!==process.env.NODE_ENV&&(Snackbar.propTypes={action:PropTypes.node,anchorOrigin:PropTypes.shape({horizontal:PropTypes.oneOf(["center","left","right"]).isRequired,vertical:PropTypes.oneOf(["bottom","top"]).isRequired}),autoHideDuration:PropTypes.number,children:PropTypes.element,classes:PropTypes.object,className:PropTypes.string,ClickAwayListenerProps:PropTypes.object,ContentProps:PropTypes.object,disableWindowBlurListener:PropTypes.bool,key:PropTypes.any,message:PropTypes.node,onClose:PropTypes.func,onMouseEnter:PropTypes.func,onMouseLeave:PropTypes.func,open:PropTypes.bool,resumeHideDuration:PropTypes.number,TransitionComponent:PropTypes.elementType,transitionDuration:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})]),TransitionProps:PropTypes.object});export default withStyles(styles,{flip:!1,name:"MuiSnackbar"})(Snackbar);