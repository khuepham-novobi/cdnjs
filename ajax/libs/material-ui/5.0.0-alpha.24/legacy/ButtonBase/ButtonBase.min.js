import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{elementTypeAcceptingRef,refType}from"@material-ui/utils";import{unstable_composeClasses as composeClasses}from"@material-ui/unstyled";import experimentalStyled from"../styles/experimentalStyled";import useThemeProps from"../styles/useThemeProps";import useForkRef from"../utils/useForkRef";import useEventCallback from"../utils/useEventCallback";import useIsFocusVisible from"../utils/useIsFocusVisible";import TouchRipple from"./TouchRipple";import{getButtonBaseUtilityClass}from"./buttonBaseClasses";var overridesResolver=function(e,o){return o.root||{}},useUtilityClasses=function(e){var o=e.disabled,t=e.focusVisible,n=e.focusVisibleClassName,r=e.classes,s=composeClasses({root:["root",o&&"disabled",t&&"focusVisible"]},getButtonBaseUtilityClass,r);return t&&n&&(s.root+=" ".concat(n)),s};export var ButtonBaseRoot=experimentalStyled("button",{},{name:"MuiButtonBase",slot:"Root",overridesResolver:overridesResolver})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&.Mui-disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});var ButtonBase=React.forwardRef(function(e,o){var t=useThemeProps({props:e,name:"MuiButtonBase"}),n=t.action,r=t.buttonRef,s=t.centerRipple,u=void 0!==s&&s,p=t.children,i=t.className,c=t.component,a=void 0===c?"button":c,l=t.disabled,f=void 0!==l&&l,d=t.disableRipple,b=void 0!==d&&d,m=t.disableTouchRipple,y=void 0!==m&&m,T=t.focusRipple,v=void 0!==T&&T,R=(t.focusVisibleClassName,t.onBlur),h=t.onClick,P=t.onFocus,g=t.onFocusVisible,B=t.onKeyDown,C=t.onKeyUp,k=t.onMouseDown,x=t.onMouseLeave,E=t.onMouseUp,M=t.onTouchEnd,D=t.onTouchMove,F=t.onTouchStart,V=t.onDragLeave,N=t.tabIndex,U=void 0===N?0:N,S=t.TouchRippleProps,I=_objectWithoutProperties(t,["action","buttonRef","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps"]),j=React.useRef(null),w=React.useRef(null),_=useIsFocusVisible(),K=_.isFocusVisibleRef,L=_.onFocus,A=_.onBlur,O=_.ref,W=React.useState(!1),z=W[0],H=W[1];function q(e,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return useEventCallback(function(n){return o&&o(n),!t&&w.current&&w.current[e](n),!0})}f&&z&&H(!1),React.useEffect(function(){K.current=z},[z,K]),React.useImperativeHandle(n,function(){return{focusVisible:function(){H(!0),j.current.focus()}}},[]),React.useEffect(function(){z&&v&&!b&&w.current.pulsate()},[b,v,z]);var G=q("start",k),J=q("stop",V),Q=q("stop",E),X=q("stop",function(e){z&&e.preventDefault(),x&&x(e)}),Y=q("start",F),Z=q("stop",M),$=q("stop",D),ee=q("stop",function(e){A(e),!1===K.current&&H(!1),R&&R(e)},!1),oe=useEventCallback(function(e){j.current||(j.current=e.currentTarget),L(e),!0===K.current&&(H(!0),g&&g(e)),P&&P(e)}),te=function(){var e=j.current;return a&&"button"!==a&&!("A"===e.tagName&&e.href)},ne=React.useRef(!1),re=useEventCallback(function(e){v&&!ne.current&&z&&w.current&&" "===e.key&&(ne.current=!0,e.persist(),w.current.stop(e,function(){w.current.start(e)})),e.target===e.currentTarget&&te()&&" "===e.key&&e.preventDefault(),B&&B(e),e.target===e.currentTarget&&te()&&"Enter"===e.key&&!f&&(e.preventDefault(),h&&h(e))}),se=useEventCallback(function(e){v&&" "===e.key&&w.current&&z&&!e.defaultPrevented&&(ne.current=!1,e.persist(),w.current.stop(e,function(){w.current.pulsate(e)})),C&&C(e),h&&e.target===e.currentTarget&&te()&&" "===e.key&&!e.defaultPrevented&&h(e)}),ue=a;"button"===ue&&I.href&&(ue="a");var pe={};"button"===ue?(pe.type=void 0===I.type?"button":I.type,pe.disabled=f):("a"===ue&&I.href||(pe.role="button"),pe["aria-disabled"]=f);var ie=useForkRef(r,o),ce=useForkRef(O,j),ae=useForkRef(ie,ce),le=React.useState(!1),fe=le[0],de=le[1];React.useEffect(function(){de(!0)},[]);var be=fe&&!b&&!f;"production"!==process.env.NODE_ENV&&React.useEffect(function(){be&&!w.current&&console.error(["Material-UI: The `component` prop provided to ButtonBase is invalid.","Please make sure the children prop is rendered in this custom component."].join("\n"))},[be]);var me=_extends({},t,{centerRipple:u,component:a,disabled:f,disableRipple:b,disableTouchRipple:y,focusRipple:v,tabIndex:U,focusVisible:z}),ye=useUtilityClasses(me);return React.createElement(ButtonBaseRoot,_extends({as:ue,className:clsx(ye.root,i),styleProps:me,onBlur:ee,onClick:h,onFocus:oe,onKeyDown:re,onKeyUp:se,onMouseDown:G,onMouseLeave:X,onMouseUp:Q,onDragLeave:J,onTouchEnd:Z,onTouchMove:$,onTouchStart:Y,ref:ae,tabIndex:f?-1:U},pe,I),p,be?React.createElement(TouchRipple,_extends({ref:w,center:u},S)):null)});"production"!==process.env.NODE_ENV&&(ButtonBase.propTypes={action:refType,buttonRef:refType,centerRipple:PropTypes.bool,children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,component:elementTypeAcceptingRef,disabled:PropTypes.bool,disableRipple:PropTypes.bool,disableTouchRipple:PropTypes.bool,focusRipple:PropTypes.bool,focusVisibleClassName:PropTypes.string,href:PropTypes.any,onBlur:PropTypes.func,onClick:PropTypes.func,onDragLeave:PropTypes.func,onFocus:PropTypes.func,onFocusVisible:PropTypes.func,onKeyDown:PropTypes.func,onKeyUp:PropTypes.func,onMouseDown:PropTypes.func,onMouseLeave:PropTypes.func,onMouseUp:PropTypes.func,onTouchEnd:PropTypes.func,onTouchMove:PropTypes.func,onTouchStart:PropTypes.func,sx:PropTypes.object,tabIndex:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),TouchRippleProps:PropTypes.object,type:PropTypes.oneOfType([PropTypes.oneOf(["button","reset","submit"]),PropTypes.string])});export default ButtonBase;