import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{unstable_composeClasses as composeClasses}from"@material-ui/unstyled";import{deepmerge,chainPropTypes,elementTypeAcceptingRef}from"@material-ui/utils";import experimentalStyled from"../styles/experimentalStyled";import useThemeProps from"../styles/useThemeProps";import{alpha}from"../styles/colorManipulator";import ButtonBase from"../ButtonBase";import isMuiElement from"../utils/isMuiElement";import useEnhancedEffect from"../utils/useEnhancedEffect";import useForkRef from"../utils/useForkRef";import ListContext from"../List/ListContext";import listItemClasses,{getListItemUtilityClass}from"./listItemClasses";var overridesResolver=function(e,t){var o=e.styleProps;return deepmerge(t.root||{},_extends({},o.dense&&t.dense,"flex-start"===o.alignItems&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters,o.button&&t.button,o.hasSecondaryAction&&t.secondaryAction))},useUtilityClasses=function(e){var t=e.dense,o=e.alignItems,s=e.divider,i=e.disableGutters,r=e.hasSecondaryAction,a=e.selected,n=e.disabled,l=e.button,d=e.classes;return composeClasses({root:["root",t&&"dense",!i&&"gutters",s&&"divider",n&&"disabled",l&&"button","flex-start"===o&&"alignItemsFlexStart",r&&"secondaryAction",a&&"selected"],container:["container"]},getListItemUtilityClass,d)},ListItemRoot=experimentalStyled("div",{},{name:"MuiListItem",slot:"Root",overridesResolver:overridesResolver})(function(e){var t,o=e.theme,s=e.styleProps;return _extends((_defineProperty(t={display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8},"&.".concat(listItemClasses.focusVisible),{backgroundColor:o.palette.action.focus}),_defineProperty(t,"&.".concat(listItemClasses.selected),_defineProperty({backgroundColor:alpha(o.palette.primary.main,o.palette.action.selectedOpacity)},"&.".concat(listItemClasses.focusVisible),{backgroundColor:alpha(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)})),_defineProperty(t,"&.".concat(listItemClasses.disabled),{opacity:o.palette.action.disabledOpacity}),t),s.dense&&{paddingTop:4,paddingBottom:4},"flex-start"===s.alignItems&&{alignItems:"flex-start"},s.divider&&{borderBottom:"1px solid ".concat(o.palette.divider),backgroundClip:"padding-box"},!s.disableGutters&&{paddingLeft:16,paddingRight:16},s.button&&_defineProperty({transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:o.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(listItemClasses.selected,":hover"),{backgroundColor:alpha(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:alpha(o.palette.primary.main,o.palette.action.selectedOpacity)}}),s.hasSecondaryAction&&{paddingRight:48})}),ListItemContainer=experimentalStyled("li",{},{name:"MuiListItem",slot:"Container",overridesResolver:overridesResolver})({position:"relative"}),ListItem=React.forwardRef(function(e,t){var o=useThemeProps({props:e,name:"MuiListItem"}),s=o.alignItems,i=void 0===s?"center":s,r=o.autoFocus,a=void 0!==r&&r,n=o.button,l=void 0!==n&&n,d=o.children,c=o.className,p=o.component,m=o.ContainerComponent,u=void 0===m?"li":m,y=o.ContainerProps,f=(y=void 0===y?{}:y).className,b=_objectWithoutProperties(y,["className"]),v=o.dense,h=void 0!==v&&v,C=o.disabled,g=void 0!==C&&C,x=o.disableGutters,I=void 0!==x&&x,P=o.divider,R=void 0!==P&&P,T=o.focusVisibleClassName,L=o.selected,E=void 0!==L&&L,_=_objectWithoutProperties(o,["alignItems","autoFocus","button","children","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),N=React.useContext(ListContext),A={dense:h||N.dense||!1,alignItems:i,disableGutters:I},S=React.useRef(null);useEnhancedEffect(function(){a&&(S.current?S.current.focus():"production"!==process.env.NODE_ENV&&console.error("Material-UI: Unable to set focus to a ListItem whose component has not been rendered."))},[a]);var k=React.Children.toArray(d),F=k.length&&isMuiElement(k[k.length-1],["ListItemSecondaryAction"]),M=_extends({},o,{alignItems:i,autoFocus:a,button:l,dense:A.dense,disabled:g,disableGutters:I,divider:R,hasSecondaryAction:F,selected:E}),O=useUtilityClasses(M),B=useForkRef(S,t),V=_extends({className:clsx(O.root,c),disabled:g},_),j=p||"li";return l&&(V.component=p||"div",V.focusVisibleClassName=clsx(listItemClasses.focusVisible,T),j=ButtonBase),F?(j=V.component||p?j:"div","li"===u&&("li"===j?j="div":"li"===V.component&&(V.component="div")),React.createElement(ListContext.Provider,{value:A},React.createElement(ListItemContainer,_extends({as:u,className:clsx(O.container,f),ref:B},b),React.createElement(ListItemRoot,_extends({as:j,styleProps:M},V),k),k.pop()))):React.createElement(ListContext.Provider,{value:A},React.createElement(ListItemRoot,_extends({as:j,ref:B,styleProps:M},V),k))});"production"!==process.env.NODE_ENV&&(ListItem.propTypes={alignItems:PropTypes.oneOf(["center","flex-start"]),autoFocus:PropTypes.bool,button:PropTypes.bool,children:chainPropTypes(PropTypes.node,function(e){for(var t=React.Children.toArray(e.children),o=-1,s=t.length-1;s>=0;s-=1){var i=t[s];if(isMuiElement(i,["ListItemSecondaryAction"])){o=s;break}}return-1!==o&&o!==t.length-1?new Error("Material-UI: You used an element after ListItemSecondaryAction. For ListItem to detect that it has a secondary action you must pass it as the last child to ListItem."):null}),classes:PropTypes.object,className:PropTypes.string,component:PropTypes.elementType,ContainerComponent:elementTypeAcceptingRef,ContainerProps:PropTypes.object,dense:PropTypes.bool,disabled:PropTypes.bool,disableGutters:PropTypes.bool,divider:PropTypes.bool,focusVisibleClassName:PropTypes.string,selected:PropTypes.bool,sx:PropTypes.object});export default ListItem;