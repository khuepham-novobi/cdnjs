import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{deepmerge}from"@material-ui/utils";import{unstable_composeClasses as composeClasses}from"@material-ui/unstyled";import experimentalStyled from"../styles/experimentalStyled";import useThemeProps from"../styles/useThemeProps";import ButtonBase from"../ButtonBase";import unsupportedProp from"../utils/unsupportedProp";import bottomNavigationActionClasses,{getBottomNavigationActionUtilityClass}from"./bottomNavigationActionClasses";var overridesResolver=function(e,t){var o,n=e.styleProps;return deepmerge(t.root||{},_extends({},!n.showLabel&&!n.selected&&t.iconOnly,(_defineProperty(o={},"& .".concat(bottomNavigationActionClasses.wrapper),t.wrapper),_defineProperty(o,"& .".concat(bottomNavigationActionClasses.label),t.label),o)))},useUtilityClasses=function(e){var t=e.classes,o=e.showLabel,n=e.selected;return composeClasses({root:["root",!o&&!n&&"iconOnly",n&&"selected"],wrapper:["wrapper"],label:["label",!o&&!n&&"iconOnly",n&&"selected"]},getBottomNavigationActionUtilityClass,t)},BottomNavigationActionRoot=experimentalStyled(ButtonBase,{},{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:overridesResolver})(function(e){var t=e.theme,o=e.styleProps;return _extends({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"6px 12px 8px",minWidth:80,maxWidth:168,color:t.palette.text.secondary,flex:"1"},!o.showLabel&&!o.selected&&{paddingTop:16},_defineProperty({},"&.".concat(bottomNavigationActionClasses.selected),{paddingTop:6,color:t.palette.primary.main}))}),BottomNavigationActionWrapper=experimentalStyled("span",{},{name:"MuiBottomNavigationAction",slot:"Wrapper"})({display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}),BottomNavigationActionLabel=experimentalStyled("span",{},{name:"MuiBottomNavigationAction",slot:"Label"})(function(e){var t=e.theme,o=e.styleProps;return _extends({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!o.showLabel&&!o.selected&&{opacity:0,transitionDelay:"0s"},_defineProperty({},"&.".concat(bottomNavigationActionClasses.selected),{fontSize:t.typography.pxToRem(14)}))}),BottomNavigationAction=React.forwardRef(function(e,t){var o=useThemeProps({props:e,name:"MuiBottomNavigationAction"}),n=o.className,a=o.icon,i=o.label,r=o.onChange,s=o.onTouchStart,l=o.onTouchEnd,c=o.onClick,p=(o.selected,o.showLabel,o.value),m=_objectWithoutProperties(o,["className","icon","label","onChange","onTouchStart","onTouchEnd","onClick","selected","showLabel","value"]),u=_extends({},o),d=useUtilityClasses(u),y=React.useRef(),f=React.useRef();React.useEffect(function(){return function(){clearTimeout(f.current)}},[f]);return React.createElement(BottomNavigationActionRoot,_extends({ref:t,className:clsx(d.root,n),focusRipple:!0,onClick:function(e){clearTimeout(f.current),r&&r(e,p),c&&c(e)},onTouchStart:function(e){s&&s(e);var t=e.touches[0],o=t.clientX,n=t.clientY;y.current={clientX:o,clientY:n}},onTouchEnd:function(e){l&&l(e);var t=e.target,o=e.changedTouches[0],n=o.clientX,a=o.clientY;Math.abs(n-y.current.clientX)<10&&Math.abs(a-y.current.clientY)<10&&(f.current=setTimeout(function(){t.dispatchEvent(new Event("click",{bubbles:!0}))},10))},styleProps:u},m),React.createElement(BottomNavigationActionWrapper,{className:d.wrapper,styleProps:u},a,React.createElement(BottomNavigationActionLabel,{className:d.label,styleProps:u},i)))});"production"!==process.env.NODE_ENV&&(BottomNavigationAction.propTypes={children:unsupportedProp,classes:PropTypes.object,className:PropTypes.string,icon:PropTypes.node,label:PropTypes.node,onChange:PropTypes.func,onClick:PropTypes.func,onTouchEnd:PropTypes.func,onTouchStart:PropTypes.func,showLabel:PropTypes.bool,sx:PropTypes.object,value:PropTypes.any});export default BottomNavigationAction;