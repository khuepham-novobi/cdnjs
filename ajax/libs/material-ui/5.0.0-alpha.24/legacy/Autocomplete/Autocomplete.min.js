import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{chainPropTypes}from"@material-ui/utils";import{withStyles}from"../styles";import{alpha}from"../styles/colorManipulator";import Popper from"../Popper";import ListSubheader from"../ListSubheader";import Paper from"../Paper";import IconButton from"../IconButton";import Chip from"../Chip";import ClearIcon from"../internal/svg-icons/Close";import ArrowDropDownIcon from"../internal/svg-icons/ArrowDropDown";import useAutocomplete,{createFilterOptions}from"../useAutocomplete";export{createFilterOptions};export var styles=function(e){var o;return{root:{"&$focused $clearIndicator":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicator":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-sizeSmall"]':{"& $input":{padding:"2px 4px 3px"},"& $input:first-child":{padding:"1px 0 4px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"7.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-sizeSmall"]':{padding:6,"& $input":{padding:"2.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"7px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-sizeSmall"]':{paddingBottom:1,"& $input":{padding:"2.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:e.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:_extends({},e.typography.body1,{overflow:"auto",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:e.palette.text.secondary,padding:"14px 16px"},noOptions:{color:e.palette.text.secondary,padding:"14px 16px"},option:(o={minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},_defineProperty(o,e.breakpoints.up("sm"),{minHeight:"auto"}),_defineProperty(o,'&[data-focus="true"]',{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),_defineProperty(o,'&[aria-disabled="true"]',{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"}),_defineProperty(o,"&.Mui-focusVisible",{backgroundColor:e.palette.action.focus}),_defineProperty(o,'&[aria-selected="true"]',{backgroundColor:alpha(e.palette.primary.main,e.palette.action.selectedOpacity),'&[data-focus="true"]':{backgroundColor:alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&.Mui-focusVisible":{backgroundColor:alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}),o),groupLabel:{backgroundColor:e.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}};var _ref=React.createElement(ClearIcon,{fontSize:"small"}),_ref2=React.createElement(ArrowDropDownIcon,null),Autocomplete=React.forwardRef(function(e,o){e.autoComplete,e.autoHighlight,e.autoSelect,e.blurOnSelect;var t,p=e.ChipProps,n=e.classes,r=e.className,a=e.clearIcon,i=void 0===a?_ref:a,l=e.clearOnBlur,s=(void 0===l&&e.freeSolo,e.clearOnEscape,e.clearText),d=void 0===s?"Clear":s,c=e.closeText,u=void 0===c?"Close":c,m=e.defaultValue,g=(void 0===m&&e.multiple,e.disableClearable),y=void 0!==g&&g,b=(e.disableCloseOnSelect,e.disabled),f=void 0!==b&&b,P=(e.disabledItemsFocusable,e.disableListWrap,e.disablePortal),h=void 0!==P&&P,T=(e.filterOptions,e.filterSelectedOptions,e.forcePopupIcon),x=void 0===T?"auto":T,I=e.freeSolo,v=void 0!==I&&I,O=e.fullWidth,C=void 0!==O&&O,R=e.getLimitTagsText,S=void 0===R?function(e){return"+".concat(e)}:R,E=(e.getOptionDisabled,e.getOptionLabel),L=void 0===E?function(e){var o;return null!==(o=e.label)&&void 0!==o?o:e}:E,$=(e.getOptionSelected,e.groupBy),_=e.handleHomeEndKeys,A=(void 0===_&&e.freeSolo,e.id,e.includeInputInList,e.inputValue,e.limitTags),N=void 0===A?-1:A,w=e.ListboxComponent,W=void 0===w?"ul":w,F=e.ListboxProps,k=e.loading,z=void 0!==k&&k,H=e.loadingText,M=void 0===H?"Loadingâ€¦":H,B=e.multiple,D=void 0!==B&&B,V=e.noOptionsText,j=void 0===V?"No options":V,G=(e.onChange,e.onClose,e.onHighlightChange,e.onInputChange,e.onOpen,e.open,e.openOnFocus,e.openText),K=void 0===G?"Open":G,U=(e.options,e.PaperComponent),q=void 0===U?Paper:U,J=e.PopperComponent,Q=void 0===J?Popper:J,X=e.popupIcon,Y=void 0===X?_ref2:X,Z=e.renderGroup,ee=e.renderInput,oe=e.renderOption,te=e.renderTags,pe=e.selectOnFocus,ne=(void 0===pe&&e.freeSolo,e.size),re=void 0===ne?"medium":ne,ae=(e.value,_objectWithoutProperties(e,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"])),ie=useAutocomplete(_extends({},e,{componentName:"Autocomplete"})),le=ie.getRootProps,se=ie.getInputProps,de=ie.getInputLabelProps,ce=ie.getPopupIndicatorProps,ue=ie.getClearProps,me=ie.getTagProps,ge=ie.getListboxProps,ye=ie.getOptionProps,be=ie.value,fe=ie.dirty,Pe=ie.id,he=ie.popupOpen,Te=ie.focused,xe=ie.focusedTag,Ie=ie.anchorEl,ve=ie.setAnchorEl,Oe=ie.inputValue,Ce=ie.groupedOptions;if(D&&be.length>0){var Re=function(e){return _extends({className:clsx(n.tag,"small"===re&&n.tagSizeSmall),disabled:f},me(e))};t=te?te(be,Re):be.map(function(e,o){return React.createElement(Chip,_extends({label:L(e),size:re},Re({index:o}),p))})}if(N>-1&&Array.isArray(t)){var Se=t.length-N;!Te&&Se>0&&(t=t.splice(0,N)).push(React.createElement("span",{className:n.tag,key:t.length},S(Se)))}var Ee=Z||function(e){return React.createElement("li",{key:e.key},React.createElement(ListSubheader,{className:n.groupLabel,component:"div"},e.group),React.createElement("ul",{className:n.groupUl},e.children))},Le=oe||function(e,o){return React.createElement("li",e,L(o))},$e=function(e,o){var t=ye({option:e,index:o});return Le(_extends({},t,{className:n.option}),e,{selected:t["aria-selected"],inputValue:Oe})},_e=!y&&!f&&fe,Ae=(!v||!0===x)&&!1!==x;return React.createElement(React.Fragment,null,React.createElement("div",_extends({ref:o,className:clsx(n.root,r,Te&&n.focused,C&&n.fullWidth,_e&&n.hasClearIcon,Ae&&n.hasPopupIcon)},le(ae)),ee({id:Pe,disabled:f,fullWidth:!0,size:"small"===re?"small":void 0,InputLabelProps:de(),InputProps:{ref:ve,className:n.inputRoot,startAdornment:t,endAdornment:React.createElement("div",{className:n.endAdornment},_e?React.createElement(IconButton,_extends({},ue(),{"aria-label":d,title:d,className:n.clearIndicator}),i):null,Ae?React.createElement(IconButton,_extends({},ce(),{disabled:f,"aria-label":he?u:K,title:he?u:K,className:clsx(n.popupIndicator,he&&n.popupIndicatorOpen)}),Y):null)},inputProps:_extends({className:clsx(n.input,-1===xe&&n.inputFocused),disabled:f},se())})),he&&Ie?React.createElement(Q,{className:clsx(n.popper,h&&n.popperDisablePortal),disablePortal:h,style:{width:Ie?Ie.clientWidth:null},role:"presentation",anchorEl:Ie,open:!0},React.createElement(q,{className:n.paper},z&&0===Ce.length?React.createElement("div",{className:n.loading},M):null,0!==Ce.length||v||z?null:React.createElement("div",{className:n.noOptions},j),Ce.length>0?React.createElement(W,_extends({className:n.listbox},ge(),F),Ce.map(function(e,o){return $?Ee({key:e.key,group:e.group,children:e.options.map(function(o,t){return $e(o,e.index+t)})}):$e(e,o)})):null)):null)});"production"!==process.env.NODE_ENV&&(Autocomplete.propTypes={autoComplete:PropTypes.bool,autoHighlight:PropTypes.bool,autoSelect:PropTypes.bool,blurOnSelect:PropTypes.oneOfType([PropTypes.oneOf(["mouse","touch"]),PropTypes.bool]),ChipProps:PropTypes.object,classes:PropTypes.object,className:PropTypes.string,clearIcon:PropTypes.node,clearOnBlur:PropTypes.bool,clearOnEscape:PropTypes.bool,clearText:PropTypes.string,closeText:PropTypes.string,defaultValue:PropTypes.any,disableClearable:PropTypes.bool,disableCloseOnSelect:PropTypes.bool,disabled:PropTypes.bool,disabledItemsFocusable:PropTypes.bool,disableListWrap:PropTypes.bool,disablePortal:PropTypes.bool,filterOptions:PropTypes.func,filterSelectedOptions:PropTypes.bool,forcePopupIcon:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.bool]),freeSolo:PropTypes.bool,fullWidth:PropTypes.bool,getLimitTagsText:PropTypes.func,getOptionDisabled:PropTypes.func,getOptionLabel:PropTypes.func,getOptionSelected:PropTypes.func,groupBy:PropTypes.func,handleHomeEndKeys:PropTypes.bool,id:PropTypes.string,includeInputInList:PropTypes.bool,inputValue:PropTypes.string,limitTags:PropTypes.number,ListboxComponent:PropTypes.elementType,ListboxProps:PropTypes.object,loading:PropTypes.bool,loadingText:PropTypes.node,multiple:PropTypes.bool,noOptionsText:PropTypes.node,onChange:PropTypes.func,onClose:PropTypes.func,onHighlightChange:PropTypes.func,onInputChange:PropTypes.func,onOpen:PropTypes.func,open:PropTypes.bool,openOnFocus:PropTypes.bool,openText:PropTypes.string,options:PropTypes.array.isRequired,PaperComponent:PropTypes.elementType,PopperComponent:PropTypes.elementType,popupIcon:PropTypes.node,renderGroup:PropTypes.func,renderInput:PropTypes.func.isRequired,renderOption:PropTypes.func,renderTags:PropTypes.func,selectOnFocus:PropTypes.bool,size:PropTypes.oneOf(["medium","small"]),value:chainPropTypes(PropTypes.any,function(e){if(e.multiple&&void 0!==e.value&&!Array.isArray(e.value))throw new Error(["Material-UI: The Autocomplete expects the `value` prop to be an array or undefined.","However, ".concat(e.value," was provided.")].join("\n"));return null})});export default withStyles(styles,{name:"MuiAutocomplete"})(Autocomplete);