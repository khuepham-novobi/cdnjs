import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{isFilled,isAdornedStart}from"../InputBase/utils";import withStyles from"../styles/withStyles";import capitalize from"../utils/capitalize";import isMuiElement from"../utils/isMuiElement";import FormControlContext from"./FormControlContext";export var styles={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};var FormControl=React.forwardRef(function(e,o){var r,t=e.children,i=e.classes,n=e.className,s=e.color,l=void 0===s?"primary":s,a=e.component,p=void 0===a?"div":a,d=e.disabled,c=void 0!==d&&d,m=e.error,u=void 0!==m&&m,f=e.focused,v=e.fullWidth,y=void 0!==v&&v,h=e.hiddenLabel,b=void 0!==h&&h,T=e.margin,P=void 0===T?"none":T,g=e.required,C=void 0!==g&&g,E=e.size,R=void 0===E?"medium":E,x=e.variant,S=void 0===x?"standard":x,F=_objectWithoutProperties(e,["children","classes","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"]),W=React.useState(function(){var e=!1;return t&&React.Children.forEach(t,function(o){if(isMuiElement(o,["Input","Select"])){var r=isMuiElement(o,["Select"])?o.props.input:o;r&&isAdornedStart(r.props)&&(e=!0)}}),e}),N=W[0],z=W[1],M=React.useState(function(){var e=!1;return t&&React.Children.forEach(t,function(o){isMuiElement(o,["Input","Select"])&&isFilled(o.props,!0)&&(e=!0)}),e}),B=M[0],I=M[1],O=React.useState(!1),_=O[0],j=O[1],w=void 0!==f?f:_;if(c&&w&&j(!1),"production"!==process.env.NODE_ENV){var q=React.useRef(!1);r=function(){return q.current&&console.error(["Material-UI: There are multiple `InputBase` components inside a FormControl.","This creates visual inconsistencies, only use one `InputBase`."].join("\n")),q.current=!0,function(){q.current=!1}}}var A=React.useCallback(function(){I(!0)},[]),D={adornedStart:N,setAdornedStart:z,color:l,disabled:c,error:u,filled:B,focused:w,fullWidth:y,hiddenLabel:b,size:R,onBlur:function(){j(!1)},onEmpty:React.useCallback(function(){I(!1)},[]),onFilled:A,onFocus:function(){j(!0)},registerEffect:r,required:C,variant:S};return React.createElement(FormControlContext.Provider,{value:D},React.createElement(p,_extends({className:clsx(i.root,n,"none"!==P&&i["margin".concat(capitalize(P))],y&&i.fullWidth),ref:o},F),t))});"production"!==process.env.NODE_ENV&&(FormControl.propTypes={children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,color:PropTypes.oneOf(["primary","secondary"]),component:PropTypes.elementType,disabled:PropTypes.bool,error:PropTypes.bool,focused:PropTypes.bool,fullWidth:PropTypes.bool,hiddenLabel:PropTypes.bool,margin:PropTypes.oneOf(["dense","none","normal"]),required:PropTypes.bool,size:PropTypes.oneOf(["medium","small"]),variant:PropTypes.oneOf(["filled","outlined","standard"])});export default withStyles(styles,{name:"MuiFormControl"})(FormControl);