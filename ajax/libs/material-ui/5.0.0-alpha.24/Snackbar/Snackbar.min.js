import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import ClickAwayListener from"../ClickAwayListener";import useEventCallback from"../utils/useEventCallback";import capitalize from"../utils/capitalize";import Grow from"../Grow";import SnackbarContent from"../SnackbarContent";export const styles=e=>{const t={top:8},o={bottom:8},n={justifyContent:"flex-end"},r={justifyContent:"flex-start"},s={top:24},i={bottom:24},a={right:24},p={left:24},c={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:_extends({},t,{[e.breakpoints.up("sm")]:_extends({},s,c)}),anchorOriginBottomCenter:_extends({},o,{[e.breakpoints.up("sm")]:_extends({},i,c)}),anchorOriginTopRight:_extends({},t,n,{[e.breakpoints.up("sm")]:_extends({left:"auto"},s,a)}),anchorOriginBottomRight:_extends({},o,n,{[e.breakpoints.up("sm")]:_extends({left:"auto"},i,a)}),anchorOriginTopLeft:_extends({},t,r,{[e.breakpoints.up("sm")]:_extends({right:"auto"},s,p)}),anchorOriginBottomLeft:_extends({},o,r,{[e.breakpoints.up("sm")]:_extends({right:"auto"},i,p)})}};const Snackbar=React.forwardRef(function(e,t){const{action:o,anchorOrigin:{vertical:n,horizontal:r}={vertical:"bottom",horizontal:"left"},autoHideDuration:s=null,children:i,classes:a,className:p,ClickAwayListenerProps:c,ContentProps:l,disableWindowBlurListener:u=!1,message:m,onClose:d,onMouseEnter:y,onMouseLeave:f,open:b,resumeHideDuration:T,TransitionComponent:P=Grow,transitionDuration:h={enter:duration.enteringScreen,exit:duration.leavingScreen},TransitionProps:{onEnter:x,onExited:C}={}}=e,k=_objectWithoutPropertiesLoose(e.TransitionProps,["onEnter","onExited"]),w=_objectWithoutPropertiesLoose(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),g=React.useRef(),[E,L]=React.useState(!0),_=useEventCallback((...e)=>{d&&d(...e)}),v=useEventCallback(e=>{d&&null!=e&&(clearTimeout(g.current),g.current=setTimeout(()=>{_(null,"timeout")},e))});React.useEffect(()=>(b&&v(s),()=>{clearTimeout(g.current)}),[b,s,v]);const R=()=>{clearTimeout(g.current)},O=React.useCallback(()=>{null!=s&&v(null!=T?T:.5*s)},[s,T,v]);return React.useEffect(()=>{if(!u&&b)return window.addEventListener("focus",O),window.addEventListener("blur",R),()=>{window.removeEventListener("focus",O),window.removeEventListener("blur",R)}},[u,O,b]),!b&&E?null:React.createElement(ClickAwayListener,_extends({onClickAway:e=>{d&&d(e,"clickaway")}},c),React.createElement("div",_extends({className:clsx(a.root,a[`anchorOrigin${capitalize(n)}${capitalize(r)}`],p),onMouseEnter:e=>{y&&y(e),R()},onMouseLeave:e=>{f&&f(e),O()},ref:t},w),React.createElement(P,_extends({appear:!0,in:b,timeout:h,direction:"top"===n?"down":"up",onEnter:(e,t)=>{L(!1),x&&x(e,t)},onExited:e=>{L(!0),C&&C(e)}},k),i||React.createElement(SnackbarContent,_extends({message:m,action:o},l)))))});"production"!==process.env.NODE_ENV&&(Snackbar.propTypes={action:PropTypes.node,anchorOrigin:PropTypes.shape({horizontal:PropTypes.oneOf(["center","left","right"]).isRequired,vertical:PropTypes.oneOf(["bottom","top"]).isRequired}),autoHideDuration:PropTypes.number,children:PropTypes.element,classes:PropTypes.object,className:PropTypes.string,ClickAwayListenerProps:PropTypes.object,ContentProps:PropTypes.object,disableWindowBlurListener:PropTypes.bool,key:PropTypes.any,message:PropTypes.node,onClose:PropTypes.func,onMouseEnter:PropTypes.func,onMouseLeave:PropTypes.func,open:PropTypes.bool,resumeHideDuration:PropTypes.number,TransitionComponent:PropTypes.elementType,transitionDuration:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})]),TransitionProps:PropTypes.object});export default withStyles(styles,{flip:!1,name:"MuiSnackbar"})(Snackbar);