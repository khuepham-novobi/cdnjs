import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import PropTypes from"prop-types";import{chainPropTypes}from"@material-ui/utils";import clsx from"clsx";import withStyles from"../styles/withStyles";import InputBase from"../InputBase";import MenuItem from"../MenuItem";import Select from"../Select";import TableCell from"../TableCell";import Toolbar from"../Toolbar";import Typography from"../Typography";import TablePaginationActions from"./TablePaginationActions";import useId from"../utils/useId";export const styles=e=>({root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},selectLabel:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},displayedRows:{flexShrink:0},actions:{flexShrink:0,marginLeft:20}});function defaultLabelDisplayedRows({from:e,to:o,count:t}){return`${e}-${o} of ${-1!==t?t:`more than ${o}`}`}function defaultGetAriaLabel(e){return`Go to ${e} page`}const TablePagination=React.forwardRef(function(e,o){const{ActionsComponent:t=TablePaginationActions,backIconButtonProps:a,classes:r,className:s,colSpan:n,component:l=TableCell,count:p,getItemAriaLabel:i=defaultGetAriaLabel,labelDisplayedRows:c=defaultLabelDisplayedRows,labelRowsPerPage:m="Rows per page:",nextIconButtonProps:u,onPageChange:P,onRowsPerPageChange:g,page:b,rowsPerPage:y,rowsPerPageOptions:h=[10,25,50,100],SelectProps:T={},showFirstButton:d=!1,showLastButton:f=!1}=e,R=_objectWithoutPropertiesLoose(e,["ActionsComponent","backIconButtonProps","classes","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"]);let w;l!==TableCell&&"td"!==l||(w=n||1e3);const I=useId(T.id),x=useId(T.labelId),L=T.native?"option":MenuItem;return React.createElement(l,_extends({className:clsx(r.root,s),colSpan:w,ref:o},R),React.createElement(Toolbar,{className:r.toolbar},React.createElement("div",{className:r.spacer}),h.length>1&&React.createElement(Typography,{color:"inherit",variant:"body2",className:r.selectLabel,id:x},m),h.length>1&&React.createElement(Select,_extends({classes:{select:r.select,icon:r.selectIcon},input:React.createElement(InputBase,{className:clsx(r.input,r.selectRoot)}),value:y,onChange:g,id:I,labelId:x},T),h.map(e=>React.createElement(L,{className:r.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e))),React.createElement(Typography,{color:"inherit",variant:"body2",className:r.displayedRows},c({from:0===p?0:b*y+1,to:(()=>-1===p?(b+1)*y:-1===y?p:Math.min(p,(b+1)*y))(),count:-1===p?-1:p,page:b})),React.createElement(t,{className:r.actions,backIconButtonProps:a,count:p,nextIconButtonProps:u,onPageChange:P,page:b,rowsPerPage:y,showFirstButton:d,showLastButton:f,getItemAriaLabel:i})))});"production"!==process.env.NODE_ENV&&(TablePagination.propTypes={ActionsComponent:PropTypes.elementType,backIconButtonProps:PropTypes.object,classes:PropTypes.object,className:PropTypes.string,colSpan:PropTypes.number,component:PropTypes.elementType,count:PropTypes.number.isRequired,getItemAriaLabel:PropTypes.func,labelDisplayedRows:PropTypes.func,labelRowsPerPage:PropTypes.node,nextIconButtonProps:PropTypes.object,onPageChange:PropTypes.func.isRequired,onRowsPerPageChange:PropTypes.func,page:chainPropTypes(PropTypes.number.isRequired,e=>{const{count:o,page:t,rowsPerPage:a}=e;if(-1===o)return null;const r=Math.max(0,Math.ceil(o/a)-1);return t<0||t>r?new Error("Material-UI: The page prop of a TablePagination is out of range "+`(0 to ${r}, but page is ${t}).`):null}),rowsPerPage:PropTypes.number.isRequired,rowsPerPageOptions:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number,PropTypes.shape({label:PropTypes.string.isRequired,value:PropTypes.number.isRequired})]).isRequired),SelectProps:PropTypes.object,showFirstButton:PropTypes.bool,showLastButton:PropTypes.bool});export default withStyles(styles,{name:"MuiTablePagination"})(TablePagination);