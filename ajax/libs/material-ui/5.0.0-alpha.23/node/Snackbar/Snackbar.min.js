"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _objectWithoutPropertiesLoose2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_transitions=require("../styles/transitions"),_ClickAwayListener=_interopRequireDefault(require("../ClickAwayListener")),_useEventCallback=_interopRequireDefault(require("../utils/useEventCallback")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_Grow=_interopRequireDefault(require("../Grow")),_SnackbarContent=_interopRequireDefault(require("../SnackbarContent"));const styles=e=>{const t={top:8},r={bottom:8},n={justifyContent:"flex-end"},o={justifyContent:"flex-start"},a={top:24},i={bottom:24},s={right:24},u={left:24},l={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,_extends2.default)({},t,{[e.breakpoints.up("sm")]:(0,_extends2.default)({},a,l)}),anchorOriginBottomCenter:(0,_extends2.default)({},r,{[e.breakpoints.up("sm")]:(0,_extends2.default)({},i,l)}),anchorOriginTopRight:(0,_extends2.default)({},t,n,{[e.breakpoints.up("sm")]:(0,_extends2.default)({left:"auto"},a,s)}),anchorOriginBottomRight:(0,_extends2.default)({},r,n,{[e.breakpoints.up("sm")]:(0,_extends2.default)({left:"auto"},i,s)}),anchorOriginTopLeft:(0,_extends2.default)({},t,o,{[e.breakpoints.up("sm")]:(0,_extends2.default)({right:"auto"},a,u)}),anchorOriginBottomLeft:(0,_extends2.default)({},r,o,{[e.breakpoints.up("sm")]:(0,_extends2.default)({right:"auto"},i,u)})}};exports.styles=styles;const Snackbar=React.forwardRef(function(e,t){const{action:r,anchorOrigin:{vertical:n,horizontal:o}={vertical:"bottom",horizontal:"left"},autoHideDuration:a=null,children:i,classes:s,className:u,ClickAwayListenerProps:l,ContentProps:p,disableWindowBlurListener:d=!1,message:c,onClose:f,onMouseEnter:_,onMouseLeave:y,open:m,resumeHideDuration:b,TransitionComponent:T=_Grow.default,transitionDuration:h={enter:_transitions.duration.enteringScreen,exit:_transitions.duration.leavingScreen},TransitionProps:{onEnter:x,onExited:R}={}}=e,q=(0,_objectWithoutPropertiesLoose2.default)(e.TransitionProps,["onEnter","onExited"]),C=(0,_objectWithoutPropertiesLoose2.default)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),k=React.useRef(),[w,g]=React.useState(!0),E=(0,_useEventCallback.default)((...e)=>{f&&f(...e)}),v=(0,_useEventCallback.default)(e=>{f&&null!=e&&(clearTimeout(k.current),k.current=setTimeout(()=>{E(null,"timeout")},e))});React.useEffect(()=>(m&&v(a),()=>{clearTimeout(k.current)}),[m,a,v]);const L=()=>{clearTimeout(k.current)},D=React.useCallback(()=>{null!=a&&v(null!=b?b:.5*a)},[a,b,v]);return React.useEffect(()=>{if(!d&&m)return window.addEventListener("focus",D),window.addEventListener("blur",L),()=>{window.removeEventListener("focus",D),window.removeEventListener("blur",L)}},[d,D,m]),!m&&w?null:React.createElement(_ClickAwayListener.default,(0,_extends2.default)({onClickAway:e=>{f&&f(e,"clickaway")}},l),React.createElement("div",(0,_extends2.default)({className:(0,_clsx.default)(s.root,s[`anchorOrigin${(0,_capitalize.default)(n)}${(0,_capitalize.default)(o)}`],u),onMouseEnter:e=>{_&&_(e),L()},onMouseLeave:e=>{y&&y(e),D()},ref:t},C),React.createElement(T,(0,_extends2.default)({appear:!0,in:m,timeout:h,direction:"top"===n?"down":"up",onEnter:(e,t)=>{g(!1),x&&x(e,t)},onExited:e=>{g(!0),R&&R(e)}},q),i||React.createElement(_SnackbarContent.default,(0,_extends2.default)({message:c,action:r},p)))))});"production"!==process.env.NODE_ENV&&(Snackbar.propTypes={action:_propTypes.default.node,anchorOrigin:_propTypes.default.shape({horizontal:_propTypes.default.oneOf(["center","left","right"]).isRequired,vertical:_propTypes.default.oneOf(["bottom","top"]).isRequired}),autoHideDuration:_propTypes.default.number,children:_propTypes.default.element,classes:_propTypes.default.object,className:_propTypes.default.string,ClickAwayListenerProps:_propTypes.default.object,ContentProps:_propTypes.default.object,disableWindowBlurListener:_propTypes.default.bool,key:_propTypes.default.any,message:_propTypes.default.node,onClose:_propTypes.default.func,onMouseEnter:_propTypes.default.func,onMouseLeave:_propTypes.default.func,open:_propTypes.default.bool,resumeHideDuration:_propTypes.default.number,TransitionComponent:_propTypes.default.elementType,transitionDuration:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})]),TransitionProps:_propTypes.default.object});var _default=(0,_withStyles.default)(styles,{flip:!1,name:"MuiSnackbar"})(Snackbar);exports.default=_default;