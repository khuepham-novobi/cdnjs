"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ScrollbarSize;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutPropertiesLoose2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_debounce=_interopRequireDefault(require("../utils/debounce")),_utils=require("../utils");const styles={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ScrollbarSize(e){const{onChange:r}=e,t=(0,_objectWithoutPropertiesLoose2.default)(e,["onChange"]),i=React.useRef(),u=React.useRef(null),o=()=>{i.current=u.current.offsetHeight-u.current.clientHeight};return React.useEffect(()=>{const e=(0,_debounce.default)(()=>{const e=i.current;o(),e!==i.current&&r(i.current)}),t=(0,_utils.ownerWindow)(u.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[r]),React.useEffect(()=>{o(),r(i.current)},[r]),React.createElement("div",(0,_extends2.default)({style:styles,ref:u},t))}"production"!==process.env.NODE_ENV&&(ScrollbarSize.propTypes={onChange:_propTypes.default.func.isRequired});