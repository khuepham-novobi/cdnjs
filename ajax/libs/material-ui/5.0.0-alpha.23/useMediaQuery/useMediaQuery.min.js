import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import{getThemeProps,useTheme}from"@material-ui/styles";import useEnhancedEffect from"../utils/useEnhancedEffect";export default function useMediaQuery(e,t={}){const n=useTheme(),r=getThemeProps({theme:n,name:"MuiUseMediaQuery",props:{}});"production"!==process.env.NODE_ENV&&"function"==typeof e&&null===n&&console.error(["Material-UI: The `query` argument provided is invalid.","You are providing a function without a theme in the context.","One of the parent elements needs to use a ThemeProvider."].join("\n"));let o="function"==typeof e?e(n):e;o=o.replace(/^@media( ?)/m,"");const a="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:s=!1,matchMedia:i=(a?window.matchMedia:null),noSsr:u=!1,ssrMatchMedia:c=null}=_extends({},r,t),[d,m]=React.useState(()=>u&&a?i(o).matches:c?c(o).matches:s);return useEnhancedEffect(()=>{let e=!0;if(!a)return;const t=i(o),n=()=>{e&&m(t.matches)};return n(),t.addListener(n),()=>{e=!1,t.removeListener(n)}},[o,i,a]),"production"!==process.env.NODE_ENV&&React.useDebugValue({query:o,match:d}),d};