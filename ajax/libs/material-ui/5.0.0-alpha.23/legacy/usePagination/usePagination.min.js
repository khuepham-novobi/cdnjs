import _extends from"@babel/runtime/helpers/esm/extends";import _toConsumableArray from"@babel/runtime/helpers/esm/toConsumableArray";import _slicedToArray from"@babel/runtime/helpers/esm/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import{useControlled}from"../utils";export default function usePagination(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.boundaryCount,o=void 0===t?1:t,r=e.componentName,n=void 0===r?"usePagination":r,a=e.count,i=void 0===a?1:a,s=e.defaultPage,u=void 0===s?1:s,l=e.disabled,d=void 0!==l&&l,m=e.hideNextButton,b=void 0!==m&&m,c=e.hidePrevButton,p=void 0!==c&&c,h=e.onChange,f=e.page,C=e.showFirstButton,y=void 0!==C&&C,v=e.showLastButton,g=void 0!==v&&v,_=e.siblingCount,A=void 0===_?1:_,x=_objectWithoutProperties(e,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),P=useControlled({controlled:f,default:u,name:n,state:"page"}),B=_slicedToArray(P,2),M=B[0],w=B[1],N=function(e,t){f||w(t),h&&h(e,t)},j=function(e,t){var o=t-e+1;return Array.from({length:o},function(t,o){return e+o})},T=j(1,Math.min(o,i)),W=j(Math.max(i-o+1,o+1),i),k=Math.max(Math.min(M-A,i-o-2*A-1),o+2),F=Math.min(Math.max(M+A,o+2*A+2),W.length>0?W[0]-2:i-1),L=[].concat(_toConsumableArray(y?["first"]:[]),_toConsumableArray(p?[]:["previous"]),_toConsumableArray(T),_toConsumableArray(k>o+2?["start-ellipsis"]:o+1<i-o?[o+1]:[]),_toConsumableArray(j(k,F)),_toConsumableArray(F<i-o-1?["end-ellipsis"]:i-o>o?[i-o]:[]),_toConsumableArray(W),_toConsumableArray(b?[]:["next"]),_toConsumableArray(g?["last"]:[])),O=function(e){switch(e){case"first":return 1;case"previous":return M-1;case"next":return M+1;case"last":return i;default:return null}},q=L.map(function(e){return"number"==typeof e?{onClick:function(t){N(t,e)},type:"page",page:e,selected:e===M,disabled:d,"aria-current":e===M?"true":void 0}:{onClick:function(t){N(t,O(e))},type:e,page:O(e),selected:!1,disabled:d||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?M>=i:M<=1)}});return _extends({items:q},x)};