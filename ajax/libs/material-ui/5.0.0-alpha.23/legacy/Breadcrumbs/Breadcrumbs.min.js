import _extends from"@babel/runtime/helpers/esm/extends";import _toConsumableArray from"@babel/runtime/helpers/esm/toConsumableArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import{isFragment}from"react-is";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import Typography from"../Typography";import BreadcrumbCollapsed from"./BreadcrumbCollapsed";export var styles={root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}};function insertSeparators(e,r,t){return e.reduce(function(o,a,s){return s<e.length-1?o=o.concat(a,React.createElement("li",{"aria-hidden":!0,key:"separator-".concat(s),className:r},t)):o.push(a),o},[])}var Breadcrumbs=React.forwardRef(function(e,r){var t=e.children,o=e.classes,a=e.className,s=e.component,n=void 0===s?"nav":s,l=e.expandText,i=void 0===l?"Show path":l,p=e.itemsAfterCollapse,c=void 0===p?1:p,m=e.itemsBeforeCollapse,d=void 0===m?1:m,u=e.maxItems,f=void 0===u?8:u,y=e.separator,h=void 0===y?"/":y,b=_objectWithoutProperties(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),x=React.useState(!1),g=x[0],T=x[1],v=React.useRef(null),C=React.Children.toArray(t).filter(function(e){return"production"!==process.env.NODE_ENV&&isFragment(e)&&console.error(["Material-UI: The Breadcrumbs component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),React.isValidElement(e)}).map(function(e,r){return React.createElement("li",{className:o.li,key:"child-".concat(r)},e)});return React.createElement(Typography,_extends({ref:r,component:n,color:"textSecondary",className:clsx(o.root,a)},b),React.createElement("ol",{className:o.ol,ref:v},insertSeparators(g||f&&C.length<=f?C:function(e){return d+c>=e.length?("production"!==process.env.NODE_ENV&&console.error(["Material-UI: You have provided an invalid combination of props to the Breadcrumbs.","itemsAfterCollapse={".concat(c,"} + itemsBeforeCollapse={").concat(d,"} >= maxItems={").concat(f,"}")].join("\n")),e):[].concat(_toConsumableArray(e.slice(0,d)),[React.createElement(BreadcrumbCollapsed,{"aria-label":i,key:"ellipsis",onClick:function(){T(!0);var e=v.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}})],_toConsumableArray(e.slice(e.length-c,e.length)))}(C),o.separator,h)))});"production"!==process.env.NODE_ENV&&(Breadcrumbs.propTypes={children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,component:PropTypes.elementType,expandText:PropTypes.string,itemsAfterCollapse:PropTypes.number,itemsBeforeCollapse:PropTypes.number,maxItems:PropTypes.number,separator:PropTypes.node});export default withStyles(styles,{name:"MuiBreadcrumbs"})(Breadcrumbs);