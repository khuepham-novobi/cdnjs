import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{deepmerge,elementTypeAcceptingRef,refType}from"@material-ui/utils";import{unstable_composeClasses as composeClasses}from"@material-ui/unstyled";import experimentalStyled from"../styles/experimentalStyled";import useThemeProps from"../styles/useThemeProps";import useForkRef from"../utils/useForkRef";import useEventCallback from"../utils/useEventCallback";import useIsFocusVisible from"../utils/useIsFocusVisible";import TouchRipple from"./TouchRipple";import{getButtonBaseUtilityClass}from"./buttonBaseClasses";var overridesResolver=function(e,o){var t=e.styleProps;return deepmerge(o.root||{},_extends({},t.disabled&&o.disabled,t.focusVisible&&o.focusVisible))},useUtilityClasses=function(e){var o=e.disabled,t=e.focusVisible,s=e.focusVisibleClassName,n=e.classes,r=composeClasses({slots:{root:["root",o&&"disabled",t&&"focusVisible"]},classes:void 0===n?{}:n,getUtilityClass:getButtonBaseUtilityClass});return t&&s&&(r.root+=" ".concat(s)),r};export var ButtonBaseRoot=experimentalStyled("button",{},{name:"MuiButtonBase",slot:"Root",overridesResolver:overridesResolver})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&.Mui-disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});var ButtonBase=React.forwardRef(function(e,o){var t=useThemeProps({props:e,name:"MuiButtonBase"}),s=t.action,n=t.buttonRef,r=t.centerRipple,u=void 0!==r&&r,p=t.children,i=t.className,c=t.component,a=void 0===c?"button":c,l=t.disabled,f=void 0!==l&&l,d=t.disableRipple,b=void 0!==d&&d,m=t.disableTouchRipple,y=void 0!==m&&m,T=t.focusRipple,v=void 0!==T&&T,R=(t.focusVisibleClassName,t.onBlur),P=t.onClick,h=t.onFocus,g=t.onFocusVisible,B=t.onKeyDown,C=t.onKeyUp,x=t.onMouseDown,k=t.onMouseLeave,E=t.onMouseUp,M=t.onTouchEnd,V=t.onTouchMove,D=t.onTouchStart,F=t.onDragLeave,U=t.tabIndex,N=void 0===U?0:U,S=t.TouchRippleProps,I=_objectWithoutProperties(t,["action","buttonRef","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps"]),_=React.useRef(null),j=React.useRef(null),w=useIsFocusVisible(),K=w.isFocusVisibleRef,L=w.onFocus,A=w.onBlur,O=w.ref,W=React.useState(!1),z=W[0],H=W[1];function q(e,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return useEventCallback(function(s){return o&&o(s),!t&&j.current&&j.current[e](s),!0})}f&&z&&H(!1),React.useEffect(function(){K.current=z},[z,K]),React.useImperativeHandle(s,function(){return{focusVisible:function(){H(!0),_.current.focus()}}},[]),React.useEffect(function(){z&&v&&!b&&j.current.pulsate()},[b,v,z]);var G=q("start",x),J=q("stop",F),Q=q("stop",E),X=q("stop",function(e){z&&e.preventDefault(),k&&k(e)}),Y=q("start",D),Z=q("stop",M),$=q("stop",V),ee=q("stop",function(e){A(e),!1===K.current&&H(!1),R&&R(e)},!1),oe=useEventCallback(function(e){_.current||(_.current=e.currentTarget),L(e),!0===K.current&&(H(!0),g&&g(e)),h&&h(e)}),te=function(){var e=_.current;return a&&"button"!==a&&!("A"===e.tagName&&e.href)},se=React.useRef(!1),ne=useEventCallback(function(e){v&&!se.current&&z&&j.current&&" "===e.key&&(se.current=!0,e.persist(),j.current.stop(e,function(){j.current.start(e)})),e.target===e.currentTarget&&te()&&" "===e.key&&e.preventDefault(),B&&B(e),e.target===e.currentTarget&&te()&&"Enter"===e.key&&!f&&(e.preventDefault(),P&&P(e))}),re=useEventCallback(function(e){v&&" "===e.key&&j.current&&z&&!e.defaultPrevented&&(se.current=!1,e.persist(),j.current.stop(e,function(){j.current.pulsate(e)})),C&&C(e),P&&e.target===e.currentTarget&&te()&&" "===e.key&&!e.defaultPrevented&&P(e)}),ue=a;"button"===ue&&I.href&&(ue="a");var pe={};"button"===ue?(pe.type=void 0===I.type?"button":I.type,pe.disabled=f):("a"===ue&&I.href||(pe.role="button"),pe["aria-disabled"]=f);var ie=useForkRef(n,o),ce=useForkRef(O,_),ae=useForkRef(ie,ce),le=React.useState(!1),fe=le[0],de=le[1];React.useEffect(function(){de(!0)},[]);var be=fe&&!b&&!f;"production"!==process.env.NODE_ENV&&React.useEffect(function(){be&&!j.current&&console.error(["Material-UI: The `component` prop provided to ButtonBase is invalid.","Please make sure the children prop is rendered in this custom component."].join("\n"))},[be]);var me=_extends({},t,{centerRipple:u,component:a,disabled:f,disableRipple:b,disableTouchRipple:y,focusRipple:v,tabIndex:N,focusVisible:z}),ye=useUtilityClasses(me);return React.createElement(ButtonBaseRoot,_extends({as:ue,className:clsx(ye.root,i),styleProps:me,onBlur:ee,onClick:P,onFocus:oe,onKeyDown:ne,onKeyUp:re,onMouseDown:G,onMouseLeave:X,onMouseUp:Q,onDragLeave:J,onTouchEnd:Z,onTouchMove:$,onTouchStart:Y,ref:ae,tabIndex:f?-1:N},pe,I),p,be?React.createElement(TouchRipple,_extends({ref:j,center:u},S)):null)});"production"!==process.env.NODE_ENV&&(ButtonBase.propTypes={action:refType,buttonRef:refType,centerRipple:PropTypes.bool,children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,component:elementTypeAcceptingRef,disabled:PropTypes.bool,disableRipple:PropTypes.bool,disableTouchRipple:PropTypes.bool,focusRipple:PropTypes.bool,focusVisibleClassName:PropTypes.string,href:PropTypes.any,onBlur:PropTypes.func,onClick:PropTypes.func,onDragLeave:PropTypes.func,onFocus:PropTypes.func,onFocusVisible:PropTypes.func,onKeyDown:PropTypes.func,onKeyUp:PropTypes.func,onMouseDown:PropTypes.func,onMouseLeave:PropTypes.func,onMouseUp:PropTypes.func,onTouchEnd:PropTypes.func,onTouchMove:PropTypes.func,onTouchStart:PropTypes.func,sx:PropTypes.object,tabIndex:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),TouchRippleProps:PropTypes.object,type:PropTypes.oneOfType([PropTypes.oneOf(["button","reset","submit"]),PropTypes.string])});export default ButtonBase;