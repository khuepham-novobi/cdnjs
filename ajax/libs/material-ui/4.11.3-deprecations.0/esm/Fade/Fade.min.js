import _extends from"@babel/runtime/helpers/esm/extends";import _slicedToArray from"@babel/runtime/helpers/esm/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import{duration}from"../styles/transitions";import useTheme from"../styles/useTheme";import{reflow,getTransitionProps}from"../transitions/utils";import useForkRef from"../utils/useForkRef";var styles={entering:{opacity:1},entered:{opacity:1}},defaultTimeout={enter:duration.enteringScreen,exit:duration.leavingScreen},Fade=React.forwardRef(function(e,t){var o=e.children,n=e.disableStrictModeCompat,r=void 0!==n&&n,i=e.in,s=e.onEnter,p=e.onEntered,a=e.onEntering,u=e.onExit,c=e.onExited,d=e.onExiting,m=e.style,l=e.TransitionComponent,y=void 0===l?Transition:l,f=e.timeout,T=void 0===f?defaultTimeout:f,E=_objectWithoutProperties(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),b=useTheme(),P=b.unstable_strictMode&&!r,x=React.useRef(null),g=useForkRef(o.ref,t),v=useForkRef(P?x:void 0,g),h=function(e){return function(t,o){if(e){var n=P?[x.current,t]:[t,o],r=_slicedToArray(n,2),i=r[0],s=r[1];void 0===s?e(i):e(i,s)}}},R=h(a),_=h(function(e,t){reflow(e);var o=getTransitionProps({style:m,timeout:T},{mode:"enter"});e.style.webkitTransition=b.transitions.create("opacity",o),e.style.transition=b.transitions.create("opacity",o),s&&s(e,t)}),F=h(p),k=h(d),w=h(function(e){var t=getTransitionProps({style:m,timeout:T},{mode:"exit"});e.style.webkitTransition=b.transitions.create("opacity",t),e.style.transition=b.transitions.create("opacity",t),u&&u(e)}),C=h(c);return React.createElement(y,_extends({appear:!0,in:i,nodeRef:P?x:void 0,onEnter:_,onEntered:F,onEntering:R,onExit:w,onExited:C,onExiting:k,timeout:T},E),function(e,t){return React.cloneElement(o,_extends({style:_extends({opacity:0,visibility:"exited"!==e||i?void 0:"hidden"},styles[e],m,o.props.style),ref:v},t))})});"production"!==process.env.NODE_ENV&&(Fade.propTypes={children:PropTypes.element,disableStrictModeCompat:PropTypes.bool,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])});export default Fade;