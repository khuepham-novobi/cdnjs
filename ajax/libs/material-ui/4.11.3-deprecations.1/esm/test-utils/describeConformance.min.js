import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import{expect}from"chai";import*as React from"react";import findOutermostIntrinsic from"./findOutermostIntrinsic";import ReactTestRenderer from"react-test-renderer";import testRef from"./testRef";function findRootComponent(e,t){var n=t.component,o=findOutermostIntrinsic(e).getElement();return e.find(n).filterWhere(function(e){return e.contains(o)})}function randomStringValue(){return Math.random().toString(36).slice(2)}function testClassName(e,t){it("applies the className to the root component",function(){var n=t().mount,o=randomStringValue(),r=n(React.cloneElement(e,{className:o}));expect(findOutermostIntrinsic(r).hasClass(o)).to.equal(!0,"does have a custom `className`")})}function testComponentProp(e,t){describe("prop: component",function(){it("can render another root component with the `component` prop",function(){var n=t(),o=n.classes,r=n.mount,s=n.testComponentPropWith,i=void 0===s?"em":s,a=r(React.cloneElement(e,{component:i}));expect(findRootComponent(a,{classes:o,component:i}).exists()).to.equal(!0)})})}function testPropsSpread(e,t){it("spreads props to the root component",function(){var n=t(),o=n.classes,r=n.inheritComponent,s=n.mount,i=randomStringValue(),a=findRootComponent(s(React.cloneElement(e,_defineProperty({},"data-test-props-spread",i))),{classes:o,component:r});expect(a.props()["data-test-props-spread"]).to.equal(i)})}function describeRef(e,t){describe("ref",function(){it("attaches the ref",function(){var n=t(),o=n.inheritComponent,r=n.mount,s=n.refInstanceof;testRef(e,r,function(e,t){if(expect(e).to.be.instanceof(s),o&&1===e.nodeType){var n=findOutermostIntrinsic(t);expect(e).to.equal(n.instance())}})})})}function testRootClass(e,t){it("applies the root class to the root component if it has this class",function(){var n=t(),o=n.classes,r=n.mount;if(null!=o.root){var s=randomStringValue(),i=r(React.cloneElement(e,{className:s}));expect(findOutermostIntrinsic(i).hasClass(o.root)).to.equal(!0),expect(findOutermostIntrinsic(i).hasClass(s)).to.equal(!0)}})}function testReactTestRenderer(e){it("should render without errors in ReactTestRenderer",function(){ReactTestRenderer.act(function(){ReactTestRenderer.create(e,{createNodeMock:function(e){return document.createElement(e.type)}})})})}var fullSuite={componentProp:testComponentProp,mergeClassName:testClassName,propsSpread:testPropsSpread,refForwarding:describeRef,rootClass:testRootClass,reactTestRenderer:testReactTestRenderer};export default function describeConformance(e,t){var n=t(),o=n.after,r=void 0===o?function(){}:o,s=n.only,i=void 0===s?Object.keys(fullSuite):s,a=n.skip,c=void 0===a?[]:a;describe("Material-UI component API",function(){after(r),Object.keys(fullSuite).filter(function(e){return-1!==i.indexOf(e)&&-1===c.indexOf(e)}).forEach(function(n){(0,fullSuite[n])(e,t)})})};