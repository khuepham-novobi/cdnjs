import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import{getThemeProps,useTheme}from"@material-ui/styles";export default function useMediaQuery(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=useTheme(),o=getThemeProps({theme:n,name:"MuiUseMediaQuery",props:{}});"production"!==process.env.NODE_ENV&&"function"==typeof e&&null===n&&console.error(["Material-UI: The `query` argument provided is invalid.","You are providing a function without a theme in the context.","One of the parent elements needs to use a ThemeProvider."].join("\n"));var r="function"==typeof e?e(n):e;r=r.replace(/^@media( ?)/m,"");var i="undefined"!=typeof window&&void 0!==window.matchMedia,a=_extends({},o,t),u=a.defaultMatches,s=void 0!==u&&u,d=a.matchMedia,c=void 0===d?i?window.matchMedia:null:d,m=a.noSsr,h=void 0!==m&&m,f=a.ssrMatchMedia,p=void 0===f?null:f,l=React.useState(function(){return h&&i?c(r).matches:p?p(r).matches:s}),v=l[0],M=l[1];return React.useEffect(function(){var e=!0;if(i){var t=c(r),n=function(){e&&M(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}},[r,c,i]),"production"!==process.env.NODE_ENV&&React.useDebugValue({query:r,match:v}),v};