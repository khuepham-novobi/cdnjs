import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import capitalize from"../utils/capitalize";import withStyles from"../styles/withStyles";import{darken,lighten}from"../styles/colorManipulator";import useTheme from"../styles/useTheme";const TRANSITION_DURATION=4;export const styles=e=>{const r=r=>"light"===e.palette.type?lighten(r,.62):darken(r,.5),t=r(e.palette.primary.main),a=r(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:t},colorSecondary:{backgroundColor:a},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:`radial-gradient(${a} 0%, ${a} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .4s linear"},bar1Buffer:{zIndex:1,transition:"transform .4s linear"},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .4s linear"},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}};const LinearProgress=React.forwardRef(function(e,r){const{classes:t,className:a,color:o="primary",value:i,valueBuffer:n,variant:s="indeterminate"}=e,l=_objectWithoutPropertiesLoose(e,["classes","className","color","value","valueBuffer","variant"]),m=useTheme(),c={},d={bar1:{},bar2:{}};if("determinate"===s||"buffer"===s)if(void 0!==i){c["aria-valuenow"]=Math.round(i),c["aria-valuemin"]=0,c["aria-valuemax"]=100;let e=i-100;"rtl"===m.direction&&(e=-e),d.bar1.transform=`translateX(${e}%)`}else"production"!==process.env.NODE_ENV&&console.error("Material-UI: You need to provide a value prop when using the determinate or buffer variant of LinearProgress .");if("buffer"===s)if(void 0!==n){let e=(n||0)-100;"rtl"===m.direction&&(e=-e),d.bar2.transform=`translateX(${e}%)`}else"production"!==process.env.NODE_ENV&&console.error("Material-UI: You need to provide a valueBuffer prop when using the buffer variant of LinearProgress.");return React.createElement("div",_extends({className:clsx(t.root,t[`color${capitalize(o)}`],a,{determinate:t.determinate,indeterminate:t.indeterminate,buffer:t.buffer,query:t.query}[s]),role:"progressbar"},c,{ref:r},l),"buffer"===s?React.createElement("div",{className:clsx(t.dashed,t[`dashedColor${capitalize(o)}`])}):null,React.createElement("div",{className:clsx(t.bar,t[`barColor${capitalize(o)}`],("indeterminate"===s||"query"===s)&&t.bar1Indeterminate,{determinate:t.bar1Determinate,buffer:t.bar1Buffer}[s]),style:d.bar1}),"determinate"===s?null:React.createElement("div",{className:clsx(t.bar,("indeterminate"===s||"query"===s)&&t.bar2Indeterminate,"buffer"===s?[t[`color${capitalize(o)}`],t.bar2Buffer]:t[`barColor${capitalize(o)}`]),style:d.bar2}))});"production"!==process.env.NODE_ENV&&(LinearProgress.propTypes={classes:PropTypes.object,className:PropTypes.string,color:PropTypes.oneOf(["primary","secondary"]),value:PropTypes.number,valueBuffer:PropTypes.number,variant:PropTypes.oneOf(["buffer","determinate","indeterminate","query"])});export default withStyles(styles,{name:"MuiLinearProgress"})(LinearProgress);