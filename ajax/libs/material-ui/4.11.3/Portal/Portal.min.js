"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=_interopRequireWildcard(require("react")),ReactDOM=_interopRequireWildcard(require("react-dom")),_propTypes=_interopRequireDefault(require("prop-types")),_utils=require("@material-ui/utils"),_setRef=_interopRequireDefault(require("../utils/setRef")),_useForkRef=_interopRequireDefault(require("../utils/useForkRef"));function getContainer(e){return e="function"==typeof e?e():e,ReactDOM.findDOMNode(e)}var useEnhancedEffect="undefined"!=typeof window?React.useLayoutEffect:React.useEffect,Portal=React.forwardRef(function(e,t){var r=e.children,n=e.container,u=e.disablePortal,o=void 0!==u&&u,a=e.onRendered,e=React.useState(null),i=e[0],l=e[1],e=(0,_useForkRef.default)(React.isValidElement(r)?r.ref:null,t);return useEnhancedEffect(function(){o||l(getContainer(n)||document.body)},[n,o]),useEnhancedEffect(function(){if(i&&!o)return(0,_setRef.default)(t,i),function(){(0,_setRef.default)(t,null)}},[t,i,o]),useEnhancedEffect(function(){a&&(i||o)&&a()},[a,i,o]),o?React.isValidElement(r)?React.cloneElement(r,{ref:e}):r:i&&ReactDOM.createPortal(r,i)});"production"!==process.env.NODE_ENV&&(Portal.propTypes={children:_propTypes.default.node,container:_propTypes.default.oneOfType([_utils.HTMLElementType,_propTypes.default.instanceOf(React.Component),_propTypes.default.func]),disablePortal:_propTypes.default.bool,onRendered:_propTypes.default.func}),"production"!==process.env.NODE_ENV&&(Portal.propTypes=(0,_utils.exactProp)(Portal.propTypes));var _default=Portal;exports.default=Portal;