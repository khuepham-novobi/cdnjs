import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";function shallowRecursively(e,t,r){var n=r.context,o=_objectWithoutProperties(r,["context"]);if(e.isEmptyRender()||"string"==typeof e.getElement().type)return e;var i=n,s=e.root().instance();s&&s.getChildContext&&(i=_extends({},n,s.getChildContext()));var l=e.shallow(_extends({context:i},o));return t&&e.is(t)?l:shallowRecursively(l,t,{context:i})}export default function until(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.single("until",function(){return shallowRecursively(t,e,r)})};