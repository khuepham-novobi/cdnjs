import _classCallCheck from"@babel/runtime/helpers/esm/classCallCheck";import _createClass from"@babel/runtime/helpers/esm/createClass";import _inherits from"@babel/runtime/helpers/esm/inherits";import _possibleConstructorReturn from"@babel/runtime/helpers/esm/possibleConstructorReturn";import _getPrototypeOf from"@babel/runtime/helpers/esm/getPrototypeOf";function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,o=_getPrototypeOf(e);if(t){var s=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}import*as React from"react";import*as ReactDOM from"react-dom";import PropTypes from"prop-types";import{exactProp,refType}from"@material-ui/utils";import setRef from"../utils/setRef";var RootRef=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"componentDidMount",value:function(){this.ref=ReactDOM.findDOMNode(this),setRef(this.props.rootRef,this.ref)}},{key:"componentDidUpdate",value:function(e){var t=ReactDOM.findDOMNode(this);e.rootRef===this.props.rootRef&&this.ref===t||(e.rootRef!==this.props.rootRef&&setRef(e.rootRef,null),this.ref=t,setRef(this.props.rootRef,this.ref))}},{key:"componentWillUnmount",value:function(){this.ref=null,setRef(this.props.rootRef,null)}},{key:"render",value:function(){return this.props.children}}]),r}(React.Component);"production"!==process.env.NODE_ENV&&(RootRef.propTypes={children:PropTypes.element.isRequired,rootRef:refType.isRequired}),"production"!==process.env.NODE_ENV&&"production"!==process.env.NODE_ENV&&(RootRef.propTypes=exactProp(RootRef.propTypes));export default RootRef;