"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=until;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));function shallowRecursively(e,t,r){var i=r.context,n=(0,_objectWithoutProperties2.default)(r,["context"]);if(e.isEmptyRender()||"string"==typeof e.getElement().type)return e;var u=i,r=e.root().instance();r&&r.getChildContext&&(u=(0,_extends2.default)({},i,r.getChildContext()));n=e.shallow((0,_extends2.default)({context:u},n));return t&&e.is(t)?n:shallowRecursively(n,t,{context:u})}function until(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.single("until",function(){return shallowRecursively(t,e,r)})}