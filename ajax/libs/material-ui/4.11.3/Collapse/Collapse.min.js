"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_clsx=_interopRequireDefault(require("clsx")),_propTypes=_interopRequireDefault(require("prop-types")),_reactTransitionGroup=require("react-transition-group"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_transitions=require("../styles/transitions"),_utils=require("../transitions/utils"),_useTheme=_interopRequireDefault(require("../styles/useTheme")),_utils2=require("../utils"),styles=function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}};exports.styles=styles;var Collapse=React.forwardRef(function(e,t){var r=e.children,n=e.classes,i=e.className,o=e.collapsedHeight,s=void 0===o?"0px":o,u=e.component,a=void 0===u?"div":u,l=e.disableStrictModeCompat,p=void 0!==l&&l,c=e.in,d=e.onEnter,f=e.onEntered,y=e.onEntering,_=e.onExit,m=e.onExited,h=e.onExiting,T=e.style,o=e.timeout,g=void 0===o?_transitions.duration.standard:o,u=e.TransitionComponent,l=void 0===u?_reactTransitionGroup.Transition:u,o=(0,_objectWithoutProperties2.default)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),x=(0,_useTheme.default)(),E=React.useRef(),b=React.useRef(null),R=React.useRef(),v="number"==typeof s?"".concat(s,"px"):s;React.useEffect(function(){return function(){clearTimeout(E.current)}},[]);var q=x.unstable_strictMode&&!p,D=React.useRef(null),w=(0,_utils2.useForkRef)(t,q?D:void 0),u=function(r){return function(e,t){r&&(e=q?[D.current,e]:[e,t],e=(t=(0,_slicedToArray2.default)(e,2))[0],void 0===(t=t[1])?r(e):r(e,t))}},e=u(function(e,t){e.style.height=v,d&&d(e,t)}),s=u(function(e,t){var r,n=b.current?b.current.clientHeight:0,i=(0,_utils.getTransitionProps)({style:T,timeout:g},{mode:"enter"}).duration;"auto"===g?(r=x.transitions.getAutoHeightDuration(n),e.style.transitionDuration="".concat(r,"ms"),R.current=r):e.style.transitionDuration="string"==typeof i?i:"".concat(i,"ms"),e.style.height="".concat(n,"px"),y&&y(e,t)}),p=u(function(e,t){e.style.height="auto",f&&f(e,t)}),t=u(function(e){var t=b.current?b.current.clientHeight:0;e.style.height="".concat(t,"px"),_&&_(e)}),m=u(m),u=u(function(e){var t=b.current?b.current.clientHeight:0,r=(0,_utils.getTransitionProps)({style:T,timeout:g},{mode:"exit"}).duration;"auto"===g?(t=x.transitions.getAutoHeightDuration(t),e.style.transitionDuration="".concat(t,"ms"),R.current=t):e.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms"),e.style.height=v,h&&h(e)});return React.createElement(l,(0,_extends2.default)({in:c,onEnter:e,onEntered:p,onEntering:s,onExit:t,onExited:m,onExiting:u,addEndListener:function(e,t){t=q?e:t;"auto"===g&&(E.current=setTimeout(t,R.current||0))},nodeRef:q?D:void 0,timeout:"auto"===g?null:g},o),function(e,t){return React.createElement(a,(0,_extends2.default)({className:(0,_clsx.default)(n.container,i,{entered:n.entered,exited:!c&&"0px"===v&&n.hidden}[e]),style:(0,_extends2.default)({minHeight:v},T),ref:w},t),React.createElement("div",{className:n.wrapper,ref:b},React.createElement("div",{className:n.wrapperInner},r)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:_propTypes.default.node,classes:_propTypes.default.object,className:_propTypes.default.string,collapsedHeight:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),component:_propTypes.default.elementType,disableStrictModeCompat:_propTypes.default.bool,in:_propTypes.default.bool,onEnter:_propTypes.default.func,onEntered:_propTypes.default.func,onEntering:_propTypes.default.func,onExit:_propTypes.default.func,onExited:_propTypes.default.func,onExiting:_propTypes.default.func,style:_propTypes.default.object,timeout:_propTypes.default.oneOfType([_propTypes.default.oneOf(["auto"]),_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})])}),Collapse.muiSupportAuto=!0;var _default=(0,_withStyles.default)(styles,{name:"MuiCollapse"})(Collapse);exports.default=_default;